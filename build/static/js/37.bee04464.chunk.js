(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[37],{174:function(e,t,c){"use strict";c.d(t,"b",(function(){return l}));var s=c(25),n=c(4),a=c(177),r=c(8),i=c(1),l=function(e){var t,c,s,n,a,r,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(s=!0,t=document.getElementById(e))for(;s;){for(s=!1,c=t.rows,n=1;n<c.length-1;n++)if(i=!1,a=c[n].getElementsByTagName("TD")[l],r=c[n+1].getElementsByTagName("TD")[l],"asc"===o&&a&&r){if(a.innerHTML.toLowerCase()>r.innerHTML.toLowerCase()){i=!0;break}}else if("desc"===o&&a&&r&&a.innerHTML.toLowerCase()<r.innerHTML.toLowerCase()){i=!0;break}i&&c[n].parentNode?(c[n].parentNode.insertBefore(c[n+1],c[n]),s=!0,d++):0===d&&"asc"===o&&(o="desc",s=!0)}};t.a=function(e){var t,c,o=e.rows,d=e.columns,u=e.hideColumns,x=void 0!==u&&u,b=e.pagination,j=void 0!==b&&b,m=e.search,f=void 0!==m&&m,h=e.tableSize,p=void 0===h?"w-full":h,O=e.tableClass,g=e.tableId,v=void 0===g?"myTable":g,y=e.rounded,N=void 0!==y&&y,w=e.searchBG,k=void 0===w?"bg-gray-200":w,_=e.thColor,C=void 0===_?"blue":_,S=e.loading,T=void 0!==S&&S;v="myTable"===v?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=c.length,n=0;n<e;n++)t+=c.charAt(Math.floor(Math.random()*s));return t}():v;var E=Object(n.useState)(0),A=Object(s.a)(E,2),U=A[0],L=A[1],B=Object(n.useState)(1),M=Object(s.a)(B,2),R=M[0],I=M[1],z=Object(n.useState)(1),H=Object(s.a)(z,2),Y=H[0],D=H[1],F=Object(n.useState)(),G=Object(s.a)(F,2),V=G[0],J=G[1],K=Object(n.useState)(10),P=Object(s.a)(K,2),Z=P[0],q=P[1],Q=Object(n.useState)(0),W=Object(s.a)(Q,2),X=W[0],$=W[1],ee=Object(n.useState)(0),te=Object(s.a)(ee,2),ce=te[0],se=te[1];Object(n.useEffect)((function(){j&&ne()}));var ne=function(){t=document.getElementById(v),c=t.getElementsByTagName("tr"),L(c.length),I(Math.ceil(U/Z)),$((Y-1)*Z),se(Math.min(X+Z-1,U-1));var e=Array.from(Array(R+1-1).keys()).map((function(e){return 1+e}));V&&e.length===V.length||J(e);for(var s=0;s<c.length;s++)c[s].style.display=s>=X&&s<=ce?"":"none"};return Object(i.jsxs)("div",{className:"".concat(p),children:[f&&Object(i.jsx)("div",{className:"".concat(k," w-full mb-2"),children:f&&Object(i.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(i.jsx)(r.rb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(i.jsx)("input",{type:"search",placeholder:"search",onChange:function(e){return function(e,c){var s,n,a,r,i;for("field"===c&&"all"===e&&(e=""),s=e.toLowerCase(),n=(t=document.getElementById(v)).getElementsByTagName("tr"),r=0;r<n.length;r++)for(i=0;i<d.length;i++)if(a=n[r].getElementsByTagName("td")[i]){if((a.textContent||a.innerText).toLowerCase().indexOf(s)>-1){n[r].style.display="";break}n[r].style.display="none"}}(e.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-transparent",disabled:T}),j&&Object(i.jsx)("div",{className:"select",children:Object(i.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-transparent",onChange:function(e){return q(Number(e.target.value))},disabled:T,children:[Object(i.jsx)("option",{value:"10",children:"10"}),Object(i.jsx)("option",{value:"25",children:"25"}),Object(i.jsx)("option",{value:"50",children:"50"}),Object(i.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(i.jsxs)("table",{className:O||"w-full shadow ".concat(N&&"sm:rounded-lg"," table-auto order-table max-w-full"),id:v,children:[!x&&Object(i.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(i.jsx)("tr",{className:"text-left tracking-wide bg-".concat(C,"-100 border-b-2 border-").concat(C,"-500 text-").concat(C,"-600 overflow-hidden"),children:d.map((function(e,t){return Object(i.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&l(v,t)},children:Object(i.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(i.jsx)(a.g,{})]})},t)}))})}),Object(i.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:o()})]}),j&&Object(i.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(i.jsx)("div",{children:Object(i.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",Z," of ",U-1," Entries"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==Y&&"bg-white"),"aria-label":"Previous",disabled:1===Y||T,onClick:function(){return D(Y-1)},children:Object(i.jsx)(r.ab,{className:"h-5 w-5"})})}),Object(i.jsx)("div",{children:V&&V.map((function(e,t){return Object(i.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(e!==Y?"bg-white":"bg-gray-100 cursor-default"),disabled:e===Y||T,onClick:function(){return D(e)},children:e},t)}))}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(Y!==R&&"bg-white"),"aria-label":"Next",disabled:Y===R||T,onClick:function(){return D(Y+1)},children:Object(i.jsx)(r.bb,{className:"h-5 w-5"})})})]})})]})]})}},186:function(e,t,c){"use strict";c.d(t,"d",(function(){return u})),c.d(t,"b",(function(){return x})),c.d(t,"f",(function(){return b})),c.d(t,"a",(function(){return j})),c.d(t,"c",(function(){return m})),c.d(t,"e",(function(){return f})),c.d(t,"g",(function(){return h}));var s=c(5),n=c.n(s),a=c(7),r=c(9),i=c.n(r),l=c(6),o=c(10),d=c(12),u=function(){return function(){var e=Object(a.a)(n.a.mark((function e(t){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,i.a.get("".concat(o.a.AUTH,"/users"));case 4:c=e.sent,console.log({users_response:c}),t({type:l.a.FETCH_USERS_ACCESS,payload:c.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({user_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return console.log({data:e}),function(){var t=Object(a.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:l.a.BLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(a.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:l.a.UNBLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return console.log({data:e}),function(){var t=Object(a.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:l.a.ASSIGN_ROLE_TO_USER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(a.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:l.a.CUSTOMIZE_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(a.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:l.a.RESET_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return console.log({data:e}),function(){var t=Object(a.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:l.a.VERIFY_ALL_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},217:function(e,t,c){"use strict";c.r(t),c.d(t,"UserAccess",(function(){return g}));var s=c(5),n=c.n(s),a=c(7),r=c(25),i=c(9),l=c.n(i),o=c(4),d=c(177),u=c(8),x=c(200),b=c(199),j=c(18),m=c(186),f=c(174),h=c(10),p=c(13),O=c(1),g=Object(j.b)(null,{customizeUserAccess:m.c})((function(e){var t=e.userInfo,c=e.customizeUserAccess,s=e.setFeedBack,i=(e.feedBack,e.setUserAccess),j=e.userAccess,m=e.currentAccess,g=e.setCurrentAccess,v=Object(o.useState)(!0),y=Object(r.a)(v,2),N=y[0],w=y[1],k=Object(o.useState)(!1),_=Object(r.a)(k,2),C=_[0],S=_[1],T=Object(o.useState)(!1),E=Object(r.a)(T,2),A=E[0],U=E[1],L=Object(o.useState)(!1),B=Object(r.a)(L,2),M=B[0],R=B[1],I=Object(o.useState)(!1),z=Object(r.a)(I,2),H=z[0],Y=z[1],D=Object(o.useState)(!1),F=Object(r.a)(D,2),G=F[0],V=F[1],J=function(e,t){if(console.log({default_access:e,custome_access:t}),e&&t&&t.length>0){for(var c=[],s=function(){var e=Object(r.a)(a[n],2),s=e[0],i=e[1],l=t.find((function(e){return e.id===i.id}));l?c.push(l):c.push(i),console.log(s)},n=0,a=Object.entries(e);n<a.length;n++)s();i(c)}};Object(o.useEffect)((function(){t&&t.custome_access&&t.default_access&&function(e,t){if(e&&t&&t.length>0){for(var c=[],s=function(){var e=Object(r.a)(a[n],2),s=e[0],i=e[1],l=t.find((function(e){return e.id===i.id}));l?c.push(l):c.push(i),console.log(s)},n=0,a=Object.entries(e);n<a.length;n++)s();i(c)}}(t.default_access.access,t.custome_access.access),console.log("nturebase")}),[t,i]),Object(o.useEffect)((function(){t&&!t.custome_access&&t.default_access&&i(t.default_access.access),w(!1)}),[t,i]);var K=function(){var e=Object(a.a)(n.a.mark((function e(a){var r,i,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),S(!0),s({type:"",message:""}),r=null,r=t.custome_access,i=-1,e.prev=6,r&&m?(i=r.access.findIndex((function(e){return e.id===m.id})))>=0?(r.access[i].permitted.create=A,r.access[i].permitted.view=M,r.access[i].permitted.update=H,r.access[i].permitted.delete=G):r.access.push({id:m.id,task:m.task,key:m.key,permitted:{create:A,view:M,update:H,delete:G}}):m&&(r={access:[{id:m.id,task:m.task,key:m.key,permitted:{create:A,view:M,update:H,delete:G}}],user_id:t.user_id,custome_user_access_id:""}),!r){e.next=19;break}if(null===t.custome_access){e.next=15;break}return e.next=12,l.a.patch("".concat(h.a.AUTH,"/custaccess"),{access:r.access,user_id:t.user_id});case 12:o=e.sent,e.next=18;break;case 15:return e.next=17,l.a.post("".concat(h.a.AUTH,"/custaccess"),{access:r.access,user_id:t.user_id});case 17:o=e.sent;case 18:o&&(r.custome_user_access_id=o.data.data.custome_user_access_id,console.log({task:r}),console.log(o.data.data),c(r),r&&t.default_access&&J(t.default_access.access,r.access),s({type:"success",message:"Reseting User Access complete successfully"}),r=null,g(null),U(!1),R(!1),Y(!1),V(!1));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),console.error({customize_access:e.t0}),s({type:"danger",message:Object(p.a)(e.t0)});case 25:S(!1);case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}();return!0===N||null===t?Object(O.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading User Access..."}):N?Object(O.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."}):Object(O.jsx)(o.Fragment,{children:Object(O.jsxs)("div",{className:"grid grid-cols-5 gap-4 my-4",children:[Object(O.jsxs)("div",{className:"col-span-2 bg-white w-full shadow-lg text-center p-2",children:[Object(O.jsx)("span",{className:"text-gray-600 mt-2 font-semibold text-2xl",children:"Settings"}),!N&&Object(O.jsx)(f.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:function(){return j?j.map((function(e,t){return Object(O.jsxs)("tr",{className:"text-left border-b border-gray-200 cursor-pointer ".concat(m&&m.id===e.id&&"bg-gray-300 shadow-md my-3 hover:bg-gray-100"),onClick:function(){return m?(g(null),U(!1),R(!1),Y(!1),V(!1)):(g(e),U(e.permitted.create),R(e.permitted.view),Y(e.permitted.update),V(e.permitted.delete))},children:[Object(O.jsx)("td",{className:"px-2 py-1",children:Object(O.jsx)("label",{className:"inline-flex items-center",children:Object(O.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(O.jsx)(b.a,{}):Object(O.jsx)(u.M,{}),e.permitted.create?" Yes":"No"]})}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(O.jsx)(b.a,{}):Object(O.jsx)(u.M,{}),e.permitted.view?" Yes":"No"]})}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(O.jsx)(b.a,{}):Object(O.jsx)(u.M,{}),e.permitted.update?" Yes":"No"]})}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(O.jsx)(b.a,{}):Object(O.jsx)(u.M,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id)})):[Object(O.jsx)("tr",{children:Object(O.jsx)("td",{children:"No data"})},46)]},pagination:!1,search:!0,searchBG:"bg-gray-50",thColor:"gray"})]}),Object(O.jsx)("div",{className:"col-span-3",children:m?Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{className:"text-3xl font-medium text-center my-3 text-gray-900",children:"Customize User Access"}),Object(O.jsx)("div",{className:"flex justify-center",children:Object(O.jsxs)("h2",{className:"text-2xl font-semibold text-center text-gray-600 flex flex-row items-center",children:[Object(O.jsx)(d.f,{className:"w-7 h-7"}),m.task]})}),Object(O.jsx)("div",{className:"flex flex-col",children:Object(O.jsxs)("form",{className:"flex flex-col items-center",onSubmit:function(e){return K(e)},children:[Object(O.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(O.jsx)(x.a,{className:"w-7 h-7 text-gray-600"}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("h3",{className:"font-semibold text-xl",children:"Create"}),Object(O.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to create"})]}),Object(O.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return U(!A)},checked:A,disabled:C})]}),Object(O.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(O.jsx)(u.lb,{className:"w-7 h-7 text-gray-600"}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("h3",{className:"font-semibold text-xl",children:"View"}),Object(O.jsx)("span",{className:"text-gray-600 text-sm md:pr-4",children:"This permission gives the user the ability to view"})]}),Object(O.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return R(!M)},checked:M,disabled:C})]}),Object(O.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(O.jsx)(u.B,{className:"w-7 h-7 text-gray-600"}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("h3",{className:"font-semibold text-xl",children:"Update"}),Object(O.jsx)("span",{className:"text-gray-600 text-sm",children:"This permission gives the user the ability to update"})]}),Object(O.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return Y(!H)},checked:H,disabled:C})]}),Object(O.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(O.jsx)(u.z,{className:"w-7 h-7 text-gray-600"}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("h3",{className:"font-semibold text-xl",children:"Delete"}),Object(O.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to delete"})]}),Object(O.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return V(!G)},checked:G,disabled:C})]}),Object(O.jsxs)("div",{className:"flex items-center justify-center w-full py-3 gap-2",children:[Object(O.jsx)("button",{className:"btn bg-gray-500 hover:bg-gray-700 focus:outline-none text-white",disabled:C,onClick:function(){g(null),U(!1),R(!1),Y(!1),V(!1)},children:"Cancel"}),Object(O.jsx)("button",{className:"btn btn-blue",disabled:C,children:C?"Processing..":"Save Change"})]})]})})]}):Object(O.jsxs)("div",{className:"w-full flex flex-col items-center text-gray-600 gap-1 py-3",children:[Object(O.jsx)(u.tb,{className:"w-20 h-20"}),Object(O.jsx)("span",{className:"text-12",children:"Choose Access to Customize"})]})})]})})}))}}]);
//# sourceMappingURL=37.bee04464.chunk.js.map