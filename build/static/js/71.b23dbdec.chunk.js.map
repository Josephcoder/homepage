{"version":3,"sources":["containers/UserManagement/index.tsx"],"names":["index","props","setLoading","value","setState","loading","setManageUser","manageUser","setChangeRole","changeRole","setManageUserId","manageUserId","setLoadingRequest","loadingRequest","setLoadingRequestType","loadingRequestType","setUserAccess","userAccess","setCurrentAccess","currentAccess","setRoomList","roomList","setRoomTables","roomTable","componentDidMount","FC_Access","auth","UserAccessList","USER_MANAGEMENT","view","accessRoles","length","FC_GetAccessRoles","status","msg","data","schoolLevels","education_categories","loadEducationCategories","FC_GetRoleById","roleList","roleId","find","item","system_user_role_id","FC_DoSearch","e","preventDefault","isEmptyOrSpaces","state","searchFind","searchError","FC_GetUserBySearch","searchLoading","PushPopupAlert","title","theme","PopupAlertTheme","warning","console","log","user_id","danger","FC_RestUserAccess","a","window","confirm","axios","delete","API","USER","default_access","access","info","error","reseting_user_access","errorToText","FC_BlockUser","actionType","patch","AUTH","is_active","res","blockUserToSystem","userCopy","blockUser_ERROR","FC_DistinctDistrict","location","province_id","ids","result","_id","districts","key","Object","prototype","hasOwnProperty","call","keyDistrict","includes","push","this","to","className","DATA_DistinctDistrict","DATA_GetRoleById","undefined","DATA_ThisRoom","room","room_id","DATA_InstituteById","getInstituteById","education_institution_id","onSubmit","type","placeholder","disabled","onChange","target","onClick","user_info","fname","lname","email","src","photo","FC_GetBase64Img","profile","alt","role","room_required","education_institution_required","education_category_title","district_name","center_name","room_name","Math","random","n_id","phone_number","custome_access","userInfo","district","currentPage","NoResultThemes","Dark","Component","UserManagement","connect"],"mappings":"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","file":"static/js/71.b23dbdec.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\nimport { MdLocationOn, MdLock, MdSupervisorAccount } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router\";\nimport {\n  Auth,\n  schoolLevelsStoreInterface,\n  FC_GetAccessRoles,\n  loadEducationCategories,\n  PushPopupAlert,\n  FT_GetAccessRoles,\n  FC_Access,\n} from \"../../actions\";\nimport { FC_GetUserBySearch } from \"../../actions/users\";\nimport { PopupAlertData } from \"../../components/Alert/Popup\";\nimport { PopupAlertTheme } from \"../../interfaces/popupAlert\";\nimport { StoreState } from \"../../reducers\";\nimport { getInstituteById, isEmptyOrSpaces } from \"../../shared/dataTest\";\nimport {\n  AccessTaskInterface,\n  DistrictInterface,\n  LocationRoomTableInterface,\n  RoomLocationInterface,\n  SystemUserRoleInterface,\n  UserInterface,\n} from \"../../shared/interfaces\";\nimport { UserAccessList } from \"../../utils/auth_access\";\nimport { errorToText, FC_GetBase64Img } from \"../../utils/functions\";\nimport profile from \"../../shared/blank_profile.png\"; // with im\nimport axios from \"axios\";\nimport { API } from \"../../utils/api\";\nimport UserRole from \"./UserRole\";\nimport { UserAccess } from \"./UserAccess\";\nimport NoResult, { NoResultThemes } from \"../../components/NoResult/NoResult\";\n\ninterface AppProps {\n  auth: Auth;\n  accessRoles: SystemUserRoleInterface[];\n  schoolLevels: schoolLevelsStoreInterface;\n  loadEducationCategories: (callback: (loading: boolean) => void) => void;\n  FC_GetAccessRoles: FT_GetAccessRoles;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n}\n\ninterface AppStates {\n  loading: boolean;\n  manageUser: UserInterface | null;\n  changeRole: boolean;\n  searchFind: string;\n  searchLoading: boolean;\n  searchError: string;\n  manageUserId: string;\n  loadingRequestType: \"RESET\" | \"STATUS\" | \"CHANGE_ROLE\" | null;\n  loadingRequest: boolean;\n  currentAccess: AccessTaskInterface | null;\n  userAccess: AccessTaskInterface[] | null;\n  roomList: RoomLocationInterface[] | null;\n  roomTable: LocationRoomTableInterface[] | null;\n}\n\nclass index extends Component<AppProps, AppStates> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      manageUser: null,\n      searchLoading: false,\n      searchFind: \"\",\n      changeRole: false,\n      searchError: \"\",\n      manageUserId: \"\",\n      loadingRequestType: null,\n      loadingRequest: false,\n      userAccess: null,\n      currentAccess: null,\n      roomList: null,\n      roomTable: null,\n    };\n  }\n\n  setLoading = (value: boolean) => {\n    this.setState({ loading: value });\n  };\n\n  setManageUser = (value: UserInterface | null) => {\n    this.setState({ manageUser: value });\n  };\n\n  setChangeRole = (value: boolean) => {\n    this.setState({ changeRole: value });\n  };\n\n  setManageUserId = (value: string) => {\n    this.setState({ manageUserId: value });\n  };\n\n  setLoadingRequest = (value: boolean) => {\n    this.setState({ loadingRequest: value });\n  };\n\n  setLoadingRequestType = (\n    value: \"RESET\" | \"STATUS\" | \"CHANGE_ROLE\" | null\n  ) => {\n    this.setState({ loadingRequestType: value });\n  };\n\n  setUserAccess = (value: AccessTaskInterface[] | null) => {\n    this.setState({ userAccess: value });\n  };\n\n  setCurrentAccess = (value: AccessTaskInterface | null) => {\n    this.setState({ currentAccess: value });\n  };\n\n  setRoomList = (value: RoomLocationInterface[] | null) => {\n    this.setState({ roomList: value });\n  };\n\n  setRoomTables = (value: LocationRoomTableInterface[] | null) => {\n    this.setState({ roomTable: value });\n  };\n\n  componentDidMount = () => {\n    if (\n      FC_Access(this.props.auth, UserAccessList.USER_MANAGEMENT).view === true\n    ) {\n      if (this.props.accessRoles.length === 0) {\n        this.props.FC_GetAccessRoles(\n          (status: boolean, msg: string, data: SystemUserRoleInterface[]) => {\n            this.setState({ loading: status });\n            // if (isEmptyOrSpaces(msg) && status === false)\n            //   this.setState({ feedBack: { type: \"main-error\", message: msg } });\n            // else if (status === false && data.length > 0)\n            //   this.setState({\n            //     labelCounts: {\n            //       allRole: data.length,\n            //       activeRole: data.filter((role) => role.status).length,\n            //       blockedRole: data.filter((role) => !role.status).length,\n            //     },\n            //   });\n          }\n        );\n      }\n\n      // LOADING EDUCATION CATEGORY =================================\n      if (\n        this.props.schoolLevels.education_categories === null ||\n        this.props.schoolLevels.education_categories.length === 0\n      ) {\n        this.props.loadEducationCategories((status: boolean) => {\n          this.setLoading(status);\n        });\n      } else {\n        this.setLoading(false);\n      }\n    }\n  };\n\n  FC_GetRoleById = (\n    roleList: SystemUserRoleInterface[],\n    roleId: string\n  ): SystemUserRoleInterface | undefined => {\n    return roleList.find((item) => item.system_user_role_id === roleId);\n  };\n\n  FC_DoSearch = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (isEmptyOrSpaces(this.state.searchFind)) {\n      return this.setState({ searchError: \"Required!\" });\n    }\n\n    FC_GetUserBySearch(\n      this.state.searchFind,\n      (status: boolean, msg: string, data: UserInterface | null | \"\") => {\n        this.setState({ searchLoading: status });\n        if (status === false) {\n          if (!isEmptyOrSpaces(msg)) {\n            this.props.PushPopupAlert({\n              title: msg,\n              theme: PopupAlertTheme.danger,\n            });\n          } else if (data === null || data === \"\") {\n            this.props.PushPopupAlert({\n              title: \"User not found!\",\n              theme: PopupAlertTheme.warning,\n            });\n          } else {\n            console.log(\"===================--------=================\");\n            console.log(data);\n            console.log(\"===================--------=================\");\n            this.setManageUser(data);\n            this.setManageUserId(data.user_id);\n          }\n        }\n      }\n    );\n  };\n\n  FC_RestUserAccess = async (user_id: string) => {\n    if (!user_id) {\n      this.props.PushPopupAlert({\n        title: \"User Access is required doesn't exist\",\n        theme: PopupAlertTheme.warning,\n      });\n    }\n\n    if (!window.confirm(`Are sure you want to reset to default access?`)) {\n      return this.setLoadingRequest(false);\n    }\n\n    this.setLoadingRequest(true);\n    this.setLoadingRequestType(\"RESET\");\n\n    try {\n      const res = await axios.delete(\n        `${API.USER}/access/custom/user/${user_id}`\n      );\n      if (res && this.state.manageUser) {\n        this.state.manageUser.default_access &&\n          this.setUserAccess(this.state.manageUser.default_access.access);\n        this.props.PushPopupAlert({\n          title: `Resetting User Access complete successfully`,\n          theme: PopupAlertTheme.info,\n        });\n        this.setCurrentAccess(null);\n      }\n    } catch (error) {\n      console.error({ reseting_user_access: error });\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n\n    this.setLoadingRequest(false);\n    this.setLoadingRequestType(null);\n    user_id = \"\";\n  };\n\n  FC_BlockUser = async (user_id: string, actionType: boolean) => {\n    if (!user_id) {\n      this.props.PushPopupAlert({\n        title: \"User Access is required doesn't exist\",\n        theme: PopupAlertTheme.danger,\n      });\n    }\n\n    this.setLoadingRequest(true);\n\n    if (\n      !window.confirm(\n        `Are sure you want to ${actionType ? \"block\" : \"activate\"} this user?`\n      )\n    ) {\n      return this.setLoadingRequest(false);\n    }\n\n    try {\n      const res = await axios.patch(\n        `${API.AUTH}/auth/user/disactive/${user_id}`,\n        {\n          is_active: !actionType,\n        }\n      );\n      if (res) {\n        console.log(\"====================================\");\n        console.log({ blockUserToSystem: res });\n        console.log(\"====================================\");\n        let userCopy = { ...this.state.manageUser! };\n        userCopy.is_active = !actionType;\n        this.setManageUser(userCopy);\n\n        this.props.PushPopupAlert({\n          title: `User has been ${actionType ? \"blocked\" : \"activated\"}!`,\n          theme: PopupAlertTheme.info,\n        });\n      }\n    } catch (error) {\n      console.error({ blockUser_ERROR: error });\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n\n    this.setLoadingRequest(false);\n    user_id = \"\";\n  };\n\n  FC_DistinctDistrict = (\n    location: RoomLocationInterface[],\n    province_id?: string\n  ): DistrictInterface[] => {\n    let ids: string[] = [],\n      result: DistrictInterface[] = [];\n\n    if (province_id) {\n      result = location.find((item) => item._id === province_id)\n        ? location.find((item) => item._id === province_id)!.districts\n          ? location.find((item) => item._id === province_id)!.districts\n          : []\n        : [];\n    } else {\n      for (const key in location) {\n        if (Object.prototype.hasOwnProperty.call(location, key)) {\n          for (const keyDistrict in location[key].districts) {\n            if (\n              Object.prototype.hasOwnProperty.call(\n                location[key].districts,\n                keyDistrict\n              )\n            ) {\n              if (!ids.includes(location[key].districts[keyDistrict]._id)) {\n                ids.push(location[key].districts[keyDistrict]._id);\n                result.push(location[key].districts[keyDistrict]);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return result;\n  };\n\n  render() {\n    if (\n      FC_Access(this.props.auth, UserAccessList.USER_MANAGEMENT).view === false\n    ) {\n      return <Redirect to=\"/apps-page\" />;\n    }\n    if (this.state.loading === true) {\n      return (\n        <div className=\"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse\">\n          Loading...\n        </div>\n      );\n    }\n\n    const DATA_DistinctDistrict = this.state.roomList\n      ? this.FC_DistinctDistrict(this.state.roomList)\n      : [];\n\n    const DATA_GetRoleById =\n      this.state.manageUser && this.state.manageUser!.default_access\n        ? this.FC_GetRoleById(\n            this.props.accessRoles,\n            this.state.manageUser!.default_access!.system_user_role_id\n          )\n        : undefined;\n\n    const DATA_ThisRoom =\n      this.state.roomTable && this.state.manageUser\n        ? this.state.roomTable.find(\n            (room) =>\n              room.room_id === this.state.manageUser!.default_access?.room_id\n          )\n        : undefined;\n    const DATA_InstituteById =\n      this.state.manageUser && this.props.schoolLevels.education_categories\n        ? getInstituteById(\n            this.props.schoolLevels.education_categories!,\n            this.state.manageUser!.default_access!.education_institution_id\n          )\n        : undefined;\n\n    return (\n      <div className=\"mb-4\">\n        {/* Title */}\n        <div className=\"mt-3 rounded flex flex-row justify-between items-center\">\n          <div className=\"flex flex-row items-center gap-3\">\n            <MdSupervisorAccount className=\"text-6xl text-blue-600\" />\n            <div className=\"flex flex-col\">\n              <span className=\"text-blue-600 text-2xl font-bold\">\n                User Management\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <div\n          className={`bg-white shadow rounded border border-gray-2 p-2 w-full overflow-x-auto ${\n            this.state.manageUser ? \"mt-3\" : \"\"\n          }`}\n        >\n          {/* FILTER SECTION ================================ */}\n          <section className=\"flex flex-col sm:flex-row justify-between items-center gap-2\">\n            <section>\n              <form\n                onSubmit={this.FC_DoSearch}\n                className={`w-full mt-8 bg-transparent border-2 rounded-md lg:max-w-sm ${\n                  !isEmptyOrSpaces(this.state.searchError)\n                    ? \"border-red-500 dark:border-red-700 focus-within:border-red-400 dark:focus-within:border-red-400\"\n                    : \"border-gray-500 dark:border-gray-700 focus-within:border-gray-400 dark:focus-within:border-gray-400\"\n                }`}\n              >\n                <div className=\"flex flex-col lg:flex-row\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search by NID or Phone or Email\"\n                    className=\"flex-1 h-10 px-4 py-2 m-1 text-gray-700 placeholder-gray-400 bg-transparent border-none appearance-none dark:text-gray-200 focus:outline-none focus:placeholder-transparent focus:ring-0\"\n                    disabled={this.state.searchLoading || this.state.loading}\n                    onChange={(e) =>\n                      this.setState({\n                        searchFind: e.target.value,\n                        searchError: \"\",\n                      })\n                    }\n                  />\n\n                  <button\n                    type=\"submit\"\n                    className=\"h-10 px-4 py-2 m-1 text-sm text-white transition-colors duration-200 transform bg-gray-500 rounded-md hover:bg-gray-400 focus:outline-none focus:bg-gray-400\"\n                    disabled={this.state.searchLoading || this.state.loading}\n                  >\n                    {this.state.searchLoading ? \"Loading\" : \"Search\"}\n                  </button>\n                </div>\n              </form>\n              {!isEmptyOrSpaces(this.state.searchError) && (\n                <span className=\"text-red-500\">{this.state.searchError}</span>\n              )}\n            </section>\n          </section>\n          {/* END FILTER SECTION ================================ */}\n\n          {this.state.manageUser && (\n            <div className=\"flex items-center gap-3 mb-2 text-gray-600\">\n              <button\n                className=\"inline-block p-3 transition rounded-full bg-gray-400 ripple hover:bg-gray-600 focus:outline-none\"\n                onClick={() => {\n                  this.setManageUser(null);\n                  this.setChangeRole(false);\n                  this.setState({ searchFind: \"\", searchError: \"\" });\n                }}\n              >\n                <IoMdArrowRoundBack className=\"w-6 h-6 text-gray-50\" />\n              </button>\n\n              <div className=\"flex flex-col hidden\">\n                <span className=\"text-gray-800 font-semibold text-2xl\">\n                  {this.state.manageUser.user_info.fname +\n                    \" \" +\n                    this.state.manageUser.user_info.lname}\n                </span>\n                <span className=\"text-gray-600 font-normal text-sm\">\n                  {this.state.manageUser.email}\n                </span>\n              </div>\n            </div>\n          )}\n\n          {this.state.manageUser ? (\n            <div className=\"bg-gray-100 h-100\">\n              {/* header */}\n              <div className=\"bg-white border-b border-t px-4 py-2 flex flex-col md:flex-row items-center gap-x-14\">\n                <div\n                  key={this.state.manageUser.user_id + Math.random()}\n                  className=\"flex flex-col md:flex-row md:items-start items-center w-full gap-3\"\n                >\n                  <img\n                    src={\n                      this.state.manageUser.user_info.photo !== \"pic\" &&\n                      this.state.manageUser.user_info.photo !== undefined\n                        ? FC_GetBase64Img(this.state.manageUser.user_info.photo)\n                        : profile\n                    }\n                    alt=\"\"\n                    className=\"rounded-full w-32 h-32 object-contain\"\n                  />\n                  <div className=\"flex flex-col gap-1 items-start w-full\">\n                    <span className=\"text-2xl font-semibold\">\n                      {this.state.manageUser.user_info.fname +\n                        \" \" +\n                        this.state.manageUser.user_info.lname}\n                    </span>\n                    <div className=\"flex items-center\">\n                      <MdLock className=\"w-5 h-5\" />\n                      <span className=\"text-lg font-medium\">\n                        {DATA_GetRoleById && DATA_GetRoleById.role}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <span className=\"text-gray-500\">Level:</span>\n                      <span className=\"text-base font-medium\">\n                        {DATA_GetRoleById && DATA_GetRoleById.room_required\n                          ? \"Room\"\n                          : DATA_GetRoleById &&\n                            DATA_GetRoleById.education_institution_required\n                          ? \"Institute\"\n                          : \"-\"}\n                      </span>\n                    </div>\n                    {DATA_GetRoleById &&\n                    DATA_GetRoleById.education_institution_required ? (\n                      <div className=\"flex items-center gap-1\">\n                        <span className=\"text-gray-500\">Institute:</span>\n                        <span className=\"text-base font-medium\">\n                          {this.state.manageUser.default_access &&\n                          this.props.schoolLevels.education_categories &&\n                          DATA_InstituteById\n                            ? DATA_InstituteById!.education_category_title\n                            : \"Unknown Institute\"}\n                        </span>\n                      </div>\n                    ) : (\n                      DATA_GetRoleById &&\n                      DATA_GetRoleById.room_required && (\n                        <div className=\"flex items-center gap-1\">\n                          {/* <span className=\"text-gray-500\">Room:</span> */}\n                          <MdLocationOn className=\"text-gray-500\" />\n                          {DATA_ThisRoom && (\n                            <span className=\"text-base font-medium\">\n                              {DATA_ThisRoom?.district_name +\n                                \" - \" +\n                                DATA_ThisRoom?.center_name +\n                                \" - Room \" +\n                                DATA_ThisRoom?.room_name}\n                            </span>\n                          )}\n                        </div>\n                      )\n                    )}\n                  </div>\n                </div>\n                <div\n                  key={this.state.manageUser.user_id + Math.random()}\n                  className=\"flex flex-col w-full\"\n                >\n                  <div className=\"flex items-center gap-1\">\n                    <span className=\"text-gray-500\">NID:</span>\n                    <span className=\"text-base font-medium\">\n                      {this.state.manageUser.n_id}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <span className=\"text-gray-500\">Email:</span>\n                    <span className=\"text-base font-medium\">\n                      {this.state.manageUser.email}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <span className=\"text-gray-500\">Phone:</span>\n                    <span className=\"text-base font-medium\">\n                      {this.state.manageUser.phone_number}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <span className=\"text-gray-500\">Status:</span>\n                    <span className=\"text-base font-medium\">\n                      {this.state.manageUser.is_active === false\n                        ? \"Blocked\"\n                        : \"Active\"}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    {this.state.manageUser.custome_access && (\n                      <button\n                        className={`px-2 py-1 font-semibold text-gray-50 inline-flex items-center rounded ${\n                          this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"RESET\"\n                            ? \"cursor-wait bg-gray-400\"\n                            : \"bg-gray-600\"\n                        }`}\n                        onClick={() =>\n                          this.FC_RestUserAccess(this.state.manageUser!.user_id)\n                        }\n                        disabled={this.state.loadingRequest}\n                      >\n                        <MdLock className=\"w-4 h-4 fill-current\" />\n                        <span>\n                          {this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"RESET\"\n                            ? \"Resetting...\"\n                            : \"Reset Access\"}\n                        </span>\n                      </button>\n                    )}\n                    {!this.state.changeRole && (\n                      <button\n                        className=\"bg-yellow-300 hover:bg-yellow-400 px-2 py-1 font-semibold text-black inline-flex items-center rounded\"\n                        onClick={() => this.setChangeRole(true)}\n                      >\n                        <MdLock className=\"w-4 h-4 fill-current\" />\n                        <span>Change Role</span>\n                      </button>\n                    )}\n                    {this.state.manageUser.is_active ? (\n                      <button\n                        className={`px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ${\n                          this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"STATUS\"\n                            ? \"cursor-wait bg-red-500\"\n                            : \"bg-red-700\"\n                        }`}\n                        onClick={() =>\n                          !this.state.loadingRequest &&\n                          this.state.manageUser &&\n                          this.FC_BlockUser(\n                            this.state.manageUser.user_id,\n                            this.state.manageUser.is_active\n                          )\n                        }\n                        disabled={this.state.loadingRequest}\n                      >\n                        <MdLock className=\"w-4 h-4 fill-current\" />\n                        <span>\n                          {this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"RESET\"\n                            ? \"Loading...\"\n                            : \"Block user\"}\n                        </span>\n                      </button>\n                    ) : (\n                      <button\n                        className={`px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ${\n                          this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"STATUS\"\n                            ? \"cursor-wait bg-yellow-500\"\n                            : \"bg-yellow-700\"\n                        }`}\n                        onClick={() =>\n                          !this.state.loadingRequest &&\n                          this.state.manageUser &&\n                          this.FC_BlockUser(\n                            this.state.manageUser.user_id,\n                            this.state.manageUser.is_active\n                          )\n                        }\n                        disabled={this.state.loadingRequest}\n                      >\n                        <MdLock className=\"w-4 h-4 fill-current\" />\n                        <span>\n                          {this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"RESET\"\n                            ? \"Loading...\"\n                            : \"Re-Activate\"}\n                        </span>\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n              {/* end header */}\n\n              {/* content */}\n              {this.state.changeRole ? (\n                <UserRole\n                  userInfo={this.state.manageUser}\n                  roleList={this.props.accessRoles}\n                  district={DATA_DistinctDistrict}\n                  roomList={this.state.roomList}\n                  setRoomList={this.setRoomList}\n                  setRoomTables={this.setRoomTables}\n                  setChangeRole={this.setChangeRole}\n                  currentPage={1}\n                />\n              ) : (\n                <UserAccess\n                  userInfo={this.state.manageUser}\n                  manageUserId={this.state.manageUserId}\n                  setUserAccess={this.setUserAccess}\n                  userAccess={this.state.userAccess}\n                  setCurrentAccess={this.setCurrentAccess}\n                  currentAccess={this.state.currentAccess}\n                  currentPage={1}\n                />\n              )}\n              {/* end content */}\n            </div>\n          ) : (\n            <div className=\"w-full\">\n              <NoResult\n                theme={NoResultThemes.Dark}\n                value={\"User info not found\"}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  access,\n  schoolLevels,\n}: StoreState): {\n  auth: Auth;\n  accessRoles: SystemUserRoleInterface[];\n  schoolLevels: schoolLevelsStoreInterface;\n} => {\n  return {\n    auth,\n    accessRoles: access.accessRoles,\n    schoolLevels,\n  };\n};\n\nexport const UserManagement = connect(mapStateToProps, {\n  FC_GetAccessRoles,\n  loadEducationCategories,\n  PushPopupAlert,\n})(index);\n"],"sourceRoot":""}