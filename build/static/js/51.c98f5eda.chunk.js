(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[51],{1319:function(e,t,i){"use strict";i.r(t),i.d(t,"Positions",(function(){return ee}));var s=i(5),o=i.n(s),r=i(7),n=i(17),a=i(4),c=i.n(a),l=i(10),d=i.n(l),u=i(204),b=i(11),m=i(23),h=i(3),g=i(686),j=i(21),x=i(9),f=i(14),_=i(798),p=i(33),y=i(1),O=function(e){var t=Object(a.useState)(e.thisLevel?e.thisLevel.school_level_id:""),i=Object(n.a)(t,2),s=i[0],o=i[1],r=function(t){if(e.schoolLevels.school_levels&&e.thisEdication){var i=e.thisEdication,s=e.schoolLevels.school_levels.filter((function(e){return e.education_institute.includes(i.education_institute_id)})).find((function(e){return e.school_level_id===t}));s?e.thisLevel&&e.thisLevel.school_level_id!==s.school_level_id?function(t){e.setThisLevel(t),e.setThisCourses(null)}(s):e.setThisLevel(s):e.setThisLevel(null)}};return Object(y.jsxs)("section",{className:"m-0",children:[Object(y.jsx)("div",{className:"text-lg ml-1 font-semibold text-gray-600",children:"School level:"}),e.schoolLevels.school_levels&&e.schoolLevels.school_levels.filter((function(t){return t.education_institute.includes(e.thisEdication.education_institute_id)})).length>0?Object(y.jsxs)("select",{className:"px-3 py-3 w-full m-1 border border-gray-700 rounded bg-white hover:bg-blue-50 text-lg focus:outline-none",value:s,disabled:e.loading,onChange:function(e){r(e.target.value),o(e.target.value)},children:[Object(y.jsx)("option",{value:"",children:"Choose School level"}),e.schoolLevels.school_levels.filter((function(t){return t.education_institute.includes(e.thisEdication.education_institute_id)})).map((function(e,t){return Object(y.jsx)("option",{value:e.school_level_id,children:e.school_level_name},t+e.school_level_id)}))]}):Object(y.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(y.jsx)(u.l,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(y.jsx)("span",{children:"No School level available"})]})]})},v=c.a.memo(O),C=c.a.memo(Object(m.b)((function(e){return{auth:e.auth,schoolLevels:e.schoolLevels,course:e.course}}),{loadCourses:h.Hc,loadSchoolLevels:h.Rc,loadEducationCategories:h.Jc})((function(e){var t=Object(a.useState)(!0),i=Object(n.a)(t,2),s=i[0],o=i[1];if(Object(a.useEffect)((function(){if(null===e.schoolLevels.school_levels||0===e.schoolLevels.school_levels.length?e.loadSchoolLevels(o):null===e.schoolLevels.education_categories||0===e.schoolLevels.education_categories.length?(o(!0),e.loadEducationCategories(o)):null===e.course.courses?(o(!0),e.loadCourses(o)):o(!1),null===e.thisEdication&&e.schoolLevels.education_categories&&e.auth.education_institution_id){var t=e.schoolLevels.education_categories.find((function(t){return t.education_institute_id===e.auth.education_institution_id}));t&&e.setThisEdication(t)}}),[e,o]),s)return Object(y.jsx)(p.a,{});return Object(y.jsxs)("div",{className:"bg-white",children:[e.schoolLevels.education_categories&&e.schoolLevels.education_categories.length>0?Object(y.jsxs)("section",{className:"m-3",children:[Object(y.jsx)("div",{className:"hidden text-lg ml-1 font-semibold text-gray-600",children:"Education Institute:"}),Object(y.jsxs)("select",{className:"hidden my-1 block w-full py-3 px-3 border hover:bg-blue-50 border-gray-700 bg-white rounded focus:outline-none focus:border-gray-700 sm:text-lg ".concat(!e.schoolLevels.education_categories&&"cursor-wait"),onChange:function(t){return function(t,i){var s=t.find((function(e){return e.education_institute_id===i}));!s||null!==e.thisEdication&&s.education_institute_id===e.thisEdication.education_institute_id?(e.setThisEdication(null),e.setThisLevel(null)):(e.setThisEdication(s),e.setThisLevel(null))}(e.schoolLevels.education_categories,t.target.value)},disabled:!e.schoolLevels.education_categories,title:e.schoolLevels.education_categories?"":"Loading institute",value:e.thisEdication?e.thisEdication.education_institute_id:"",children:[Object(y.jsx)("option",{value:"",children:"Select institute"}),e.schoolLevels.education_categories.map((function(e,t){return Object(y.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},t+e.education_institute_id)}))]}),e.thisEdication&&Object(y.jsx)(v,{schoolLevels:e.schoolLevels,thisEdication:e.thisEdication,loading:s,thisLevel:e.thisLevel,setThisLevel:e.setThisLevel,setThisCourses:e.setThisCourses})]}):Object(y.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(y.jsx)(u.l,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(y.jsx)("span",{children:"No Education Institute available"})]}),Object(y.jsx)("div",{className:"bg-white w-full flex justify-end",children:Object(y.jsx)("button",{className:"btn m-1 mr-2 mb-2 animate__animated animate__fadeIn focus:outline-none ".concat(e.thisEdication&&e.thisLevel?"btn-blue":"cursor-not-allowed bg-blue-300 text-white"),onClick:function(){e.setFormSteps({ONE:!1,TWO:!0,THREE:!1,FOUR:!1}),"CREATE_POSITION"===e.modalAction&&e.setStepState({ONE:!0,TWO:!1,THREE:!1,FOUR:!1})},disabled:!e.thisEdication||!e.thisLevel,children:"Continue"})})]})}))),N=i(55),S=i(95),T=function(e){return Object(y.jsx)(a.Fragment,{children:Object(y.jsx)("div",{className:"p-5",children:Object(y.jsx)("div",{className:"mx-4 p-4",children:Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsxs)("div",{className:"flex items-center ".concat(1===e.currentStep?"text-white":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.ONE&&e.setFormSteps({ONE:!0,TWO:!1,THREE:!1,FOUR:!1})},children:[Object(y.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(1===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.ONE?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(y.jsx)(N.m,{className:"feather feather-bookmark w-full h-full"})}),Object(y.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(1===e.currentStep?"text-blue-500":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"),children:"Education"})]}),Object(y.jsx)("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out ".concat(e.stepState.ONE?"border-blue-500":"border-gray-300")}),Object(y.jsxs)("div",{className:"flex items-center ".concat(2===e.currentStep?"text-white":e.stepState.TWO?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.TWO&&e.setFormSteps({ONE:!1,TWO:!0,THREE:!1,FOUR:!1})},children:[Object(y.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(2===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.TWO?"border-blue-500":"border-gray-500"),children:Object(y.jsx)(b.Ob,{className:"feather feather-user-plus w-full h-full"})}),Object(y.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(2===e.currentStep?"text-blue-500":e.stepState.TWO?"text-blue-500 cursor-pointer":"text-gray-500"),children:"Exam Courses"})]}),Object(y.jsx)("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out ".concat(e.stepState.TWO?"border-blue-500":"border-gray-300")}),Object(y.jsxs)("div",{className:"flex items-center ".concat(3===e.currentStep?"text-white":e.stepState.THREE?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.TWO&&e.setFormSteps({ONE:!1,TWO:!1,THREE:!0,FOUR:!1})},children:[Object(y.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(3===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.THREE?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(y.jsx)(b.bc,{className:"feather feather-mail w-full h-full"})}),Object(y.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(3===e.currentStep?"text-blue-500":e.stepState.THREE?"text-blue-500 cursor-pointer":"text-gray-500"),onClick:function(){return e.stepState.TWO&&e.setFormSteps({ONE:!1,TWO:!1,THREE:!1,FOUR:!0})},children:"Requirements"})]}),Object(y.jsx)("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out ".concat(e.stepState.THREE?"border-blue-500":"border-gray-300")}),Object(y.jsxs)("div",{className:"flex items-center ".concat(4===e.currentStep?"text-white":e.stepState.FOUR?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.FOUR&&e.setFormSteps({ONE:!1,TWO:!1,THREE:!1,FOUR:!0})},children:[Object(y.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(4===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.FOUR?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(y.jsx)(S.d,{className:"feather feather-database w-full h-full"})}),Object(y.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(4===e.currentStep||e.stepState.FOUR?"text-blue-500":"text-gray-500"),children:"Review"})]})]})})})})},R=c.a.memo(T),E=i(931),q=i(12),F=i(34),L=i(82),w=i(125),I=i(32),P=i(28),A=i(19),k=i(693),D=function(e){return Object(y.jsx)(a.Fragment,{children:Object(y.jsx)(w.a,{columns:[{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return e.filteredFields.length?e.filteredFields.map((function(t,i){return Object(y.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 cursor-pointer",children:[Object(y.jsx)("td",{className:"px-3 text-left",children:Object(y.jsxs)("div",{className:"flex items-center gap-1",onClick:function(){return e.addFieldRequirements({category_subcategory_data_id:t._id,required:!0})},children:[e.thisFieldList&&e.thisFieldList.find((function(e){return e.category_subcategory_data_id===t._id}))?Object(y.jsx)(b.s,{className:"w-6 h-6 text-blue-700"}):Object(y.jsx)(b.t,{className:"w-6 h-6"}),Object(y.jsx)("span",{children:t.title})]})}),Object(y.jsx)("td",{className:"px-5 text-right",children:Object(y.jsxs)("div",{className:"flex flex-row items-center float-right text-lg gap-1 animate__animated animate__fadeIn cursor-pointer",onClick:function(){return e.addFieldRequirements({category_subcategory_data_id:t._id,required:!0},!0)},children:[Object(y.jsx)("div",{className:"text-gray-600 font-bold",children:"Required"}),e.thisFieldList&&e.thisFieldList.find((function(e){return e.category_subcategory_data_id===t._id&&!0===e.required}))?Object(y.jsx)(b.s,{className:"w-6 h-6 text-blue-700"}):Object(y.jsx)(b.t,{className:"w-6 h-6"})]})})]},t._id+i)})):[Object(y.jsx)("tr",{className:"border-b border-gray-200",children:Object(y.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:"No Field Found"})},4323433)]},pagination:!1,search:!0,hideColumns:!0,thColor:"gray"})})},U=c.a.memo(D),H=function(e){var t,i=Object(a.useState)(!0),s=Object(n.a)(i,2),o=s[0],r=s[1],c=function(t,i){var s=e.documentFields?e.documentFields:[];s="CATEGORY"===t?s.filter((function(e){return e.category_id===i})):"SUB_CATEGORY"===t?s.filter((function(t){return t.category_id===e.thisCategory&&(t.subcategory_id===i||null===t.subcategory_id)})):[],e.setFilteredFields(s)},l=function(t,i){if("CATEGORY"===t){if(e.thisRequirementList&&e.thisRequirementList.length>0&&!e.hasSubCategory(i)){var s=e.thisRequirementList.filter((function(e){return e.user_detail_category_id===i}));if(s.length>0)return s[0].position_requirement}}else if("SUB_CATEGORY"===t&&e.thisRequirementList&&e.thisRequirementList.length>0){var o=e.thisRequirementList.filter((function(t){return t.user_detail_category_id===e.thisCategory&&(t.user_detail_subcategory_id===i||null===t.user_detail_subcategory_id)}));if(o.length>0)return o[0].position_requirement}return[]},d=function(t){var i;return e.documentCategory&&(i=e.documentCategory.find((function(e){return e.user_detail_category_id===t}))),i||null};return Object(y.jsx)(a.Fragment,{children:Object(y.jsx)(A.d,{title:Object(y.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(y.jsx)("div",{className:"flex flex-col",children:"Adding New Requirement"})}),backDrop:!0,theme:A.c.default,close:function(){e.setAddNewRequirement(!1),e.setThisCategory(""),e.setThisSubCategory(""),e.setFormError(null)},widthSizeClass:A.b.large,displayClose:!0,backDropClose:!1,padding:{title:!0,body:!1},children:Object(y.jsx)("div",{className:"px-4",children:Object(y.jsxs)("div",{className:"p-3 mb-3",children:[Object(y.jsx)("span",{className:"text-xl text-gray-600 font-bold mb-1 hidden",children:"Position requirements"}),Object(y.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(y.jsx)("div",{className:"text-sm text-gray-600 font-bold mb-1",children:"Document category"}),Object(y.jsxs)("select",{className:"block w-full bg-white text-grey-darker border-2 rounded h-10 px-3 focus:outline-none ".concat(null!==e.formError&&"position_cat"===e.formError.element?"border-red-500":"border-gray-500"),onChange:function(t){!function(t){var i=d(t);if(i)if(e.setThisCategory(t),e.setThisSubCategory(""),i.fields.includes(k.b.category_subcategory_data)){if(e.hasSubCategory(t))e.setThisFieldList(null),e.setFilteredFields(null);else if(console.log({___:!e.hasSubCategory(t)}),console.log({_category:i.fields}),c("CATEGORY",t),e.setThisFieldList(l("CATEGORY",t)),e.thisRequirementList){var s=e.thisRequirementList.filter((function(e){return e.user_detail_category_id===t}));s?e.setIsRequirementRequired(s[0].required):e.setIsRequirementRequired(!1)}}else e.setThisFieldList(null),e.setFilteredFields(null)}(t.target.value)},value:e.thisCategory?e.thisCategory:"",children:[Object(y.jsx)("option",{value:"",disabled:!0,children:"Choose Document Category"}),e.documentCategory&&e.documentCategory.length>0?e.documentCategory.map((function(e,t){return Object(y.jsx)("option",{value:e.user_detail_category_id,children:e.title},t+e.user_detail_category_id)})):Object(y.jsx)("option",{value:"",children:"No Document Category found"})]}),null!==e.formError&&"position_cat"===e.formError.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:e.formError.msg})]}),e.thisCategory.length>0&&Object(y.jsxs)("div",{className:"flex flex-col mb-2 animate__animated animate__fadeIn",children:[Object(y.jsxs)("div",{className:"text-sm text-gray-600 font-bold mb-1",children:["Qualification of"," ",d(e.thisCategory)?null===(t=d(e.thisCategory))||void 0===t?void 0:t.title:"Category"]}),Object(y.jsxs)("select",{className:"block w-full bg-white text-grey-darker border-2 rounded h-10 px-3 focus:outline-none ".concat(null!==e.formError&&"position_sub"===e.formError.element?"border-red-500":"border-gray-500"),onChange:function(t){e.setThisSubCategory(t.target.value),c("SUB_CATEGORY",t.target.value),e.setThisFieldList(l("SUB_CATEGORY",t.target.value)),r(!l("SUB_CATEGORY",t.target.value).length),Object(I.f)(e.positionSubCategoryId)&&e.setPositionSubCategoryId(t.target.value),e.setIsRequirementRequired(!0),null!==e.formError&&"position_sub"===e.formError.element&&e.setFormError(null)},value:e.thisSubCategory?e.thisSubCategory:"",children:[Object(y.jsx)("option",{value:"",disabled:!0,children:"Choose Qualification"}),e.documentSubCategory&&e.documentSubCategory.filter((function(t){return t.category_id===e.thisCategory})).length>0?e.documentSubCategory.filter((function(t){return t.category_id===e.thisCategory})).map((function(e,t){return Object(y.jsx)("option",{value:e.user_detail_subcategory_id,children:e.title},t+e.user_detail_subcategory_id)})):Object(y.jsx)("option",{value:"",children:"No qualification found"})]}),null!==e.formError&&"position_sub"===e.formError.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:e.formError.msg})]}),!Object(I.f)(e.thisSubCategory)&&Object(y.jsxs)("div",{className:"flex items-center text-lg gap-1 mt-2 animate__animated animate__fadeIn cursor-pointer",onClick:function(){return!e.loading&&e.setIsRequirementRequired(!e.isRequirementRequired)},children:[Object(y.jsx)("div",{className:"text-gray-600 font-bold",children:"Qualification is compulsory"}),e.isRequirementRequired?Object(y.jsx)(b.s,{className:"w-6 h-6 text-blue-700"}):Object(y.jsx)(b.t,{className:"w-6 h-6"})]}),e.thisCategory.length>0&&Object(y.jsxs)("div",{className:"flex flex-col mb-2 animate__animated animate__fadeIn",children:[Object(y.jsxs)("div",{className:"flex justify-between mt-2",children:[Object(y.jsx)("div",{className:"text-sm text-gray-600 font-bold mb-1",children:"Documents"}),!Object(I.f)(e.thisSubCategory)&&Object(y.jsxs)("div",{className:"flex items-center text-lg gap-1 mb-1 animate__animated animate__fadeIn cursor-pointer",onClick:function(){return!e.loading&&e.setIsRequirementRequired(!e.isRequirementRequired)},children:[Object(y.jsx)("div",{className:"text-sm text-gray-600 font-bold mb-1",children:"Any document"}),o?Object(y.jsx)(b.s,{className:"w-6 h-6 text-blue-700"}):Object(y.jsx)(b.t,{className:"w-6 h-6"})]})]}),Object(y.jsx)("div",{className:"input-white border-2 ".concat(!e.filteredFields&&"h-10 cursor-pointer"," px-3 max-h-96 overflow-y-auto text-gray-800 ").concat(null!==e.formError&&"position_field"===e.formError.element?"border-red-500":"border-gray-500"),children:e.filteredFields?Object(y.jsx)(U,{filteredFields:e.filteredFields,isFieldRequired:e.isFieldRequired,thisFieldList:e.thisFieldList,setThisField:e.setThisField,setIsFieldRequired:e.setIsFieldRequired,setFormError:e.setFormError,setChooseFields:e.setChooseFields,addFieldRequirements:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t.required;if(e.thisFieldList){var o=e.thisFieldList.findIndex((function(e){return e.category_subcategory_data_id===t.category_subcategory_data_id}));if(o>=0){var n=Object(q.a)(e.thisFieldList);i?(s=!n[o].required,n[o]={category_subcategory_data_id:t.category_subcategory_data_id,required:s}):n.splice(o,1),n.length>0?(e.setThisFieldList(n),r(!1)):(e.setThisFieldList(null),r(!0))}else e.setThisFieldList([].concat(Object(q.a)(e.thisFieldList),[{category_subcategory_data_id:t.category_subcategory_data_id,required:t.required}])),r(!1);e.formError&&"position_field"===e.formError.element&&e.setFormError(null)}else e.setThisFieldList([{category_subcategory_data_id:t.category_subcategory_data_id,required:t.required}]),r(!1),e.formError&&"position_field"===e.formError.element&&e.setFormError(null)}}):""}),null!==e.formError&&"position_field"===e.formError.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:e.formError.msg})]}),e.thisCategory.length>0&&Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("button",{className:"btn bg-gray-500 text-gray-50 hover:bg-gray-700 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){e.setAddNewRequirement(!1),e.setThisCategory(""),e.setThisSubCategory(""),e.setFormError(null)},children:"Cancel"}),Object(y.jsx)("button",{className:"btn btn-blue mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return function(){if(!e.thisCategory)return e.setFormError({element:"position_cat",msg:"Document category is required"});if(Object(I.f)(e.thisSubCategory))return e.setFormError({element:"position_sub",msg:"Qualification is required!"});if(e.thisRequirementList){var t=e.thisRequirementList.findIndex((function(t){return t.user_detail_category_id===e.thisCategory}));if(e.hasSubCategory(e.thisCategory)&&(t=e.thisRequirementList.findIndex((function(t){return t.user_detail_category_id===e.thisCategory&&t.user_detail_subcategory_id===e.thisSubCategory}))),t>=0){var i=Object(q.a)(e.thisRequirementList);e.hasSubCategory(e.thisCategory)?e.thisRequirementList.findIndex((function(t){return t.user_detail_subcategory_id===e.thisSubCategory}))>=0?(i[t].user_detail_category_id=e.thisCategory,i[t].user_detail_subcategory_id=e.thisSubCategory?e.thisSubCategory:"",i[t].position_requirement=e.thisFieldList?e.thisFieldList:[],i[t].required=e.isRequirementRequired,e.setThisRequirementList(i)):e.setThisRequirementList([].concat(Object(q.a)(e.thisRequirementList),[{user_detail_category_id:e.thisCategory,user_detail_subcategory_id:e.thisSubCategory?e.thisSubCategory:"",position_requirement:e.thisFieldList?e.thisFieldList:[],required:e.isRequirementRequired}])):(i[t].user_detail_category_id=e.thisCategory,i[t].user_detail_subcategory_id=e.thisSubCategory?e.thisSubCategory:"",i[t].position_requirement=e.thisFieldList?e.thisFieldList:[],i[t].required=e.isRequirementRequired,e.setThisRequirementList(i))}else e.setThisRequirementList([].concat(Object(q.a)(e.thisRequirementList),[{user_detail_category_id:e.thisCategory,user_detail_subcategory_id:e.thisSubCategory?e.thisSubCategory:"",position_requirement:e.thisFieldList?e.thisFieldList:[],required:e.isRequirementRequired}]))}else e.setThisRequirementList([{user_detail_category_id:e.thisCategory,user_detail_subcategory_id:e.thisSubCategory?e.thisSubCategory:"",position_requirement:e.thisFieldList?e.thisFieldList:[],required:e.isRequirementRequired}]);e.setThisCategory(""),e.setThisSubCategory(""),e.setThisFieldList([]),e.setThisField(""),e.setIsRequirementRequired(!1),e.setIsFieldRequired(!1),e.setAddNewRequirement(!1)}()},children:"Add"})]})]})})})})},W=c.a.memo(H),B=c.a.memo(Object(m.b)((function(e){return{document:e.document}}),{getDocumentCategory:L.i,getDocumentSubCategory:L.k,getDocumentFields:L.j,getPositions:g.e,PushPopupAlert:h.Rb})((function(e){var t=Object(a.useState)(!0),i=Object(n.a)(t,2),s=i[0],o=i[1],r=Object(a.useState)(""),c=Object(n.a)(r,2),l=c[0],d=c[1],u=Object(a.useState)(null),m=Object(n.a)(u,2),h=m[0],g=m[1],j=Object(a.useState)(null),x=Object(n.a)(j,2),f=x[0],_=x[1],O=Object(a.useState)(!1),v=Object(n.a)(O,2),C=v[0],N=v[1],S=Object(a.useState)(!1),T=Object(n.a)(S,2),R=T[0],E=T[1];Object(a.useEffect)((function(){e.document.documentCategory?e.document.documentSubCategory?e.document.documentFields?o(!1):e.getDocumentFields():e.getDocumentSubCategory():e.getDocumentCategory(),e.courseLength!==e.thisCourses.length&&0===e.positionTitle.length&&(e.setCourseLength(e.thisCourses.length),e.setPositionTitle(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TITLE",i="Position for";return e.thisCourses.forEach((function(t,s){0===s?i+=" "+Object(I.a)(t.course_name):s===e.thisCourses.length-1?i+=" and "+Object(I.a)(t.course_name):i+=", "+Object(I.a)(t.course_name)})),"DESCRIPTION"===t&&(i+=" - "+Object(I.a)(e.thisLevel.school_level_name),i+=" in "+Object(I.a)(e.thisEdication.education_category_title)),i}()))}),[e,e.courseLength]);var L=function(t){var i=[],s=function(s){var o=t[s],r=function(t,i){var s=void 0;return e.document.documentSubCategory&&(s=e.document.documentSubCategory.find((function(e){return e.category_id===t&&e.user_detail_subcategory_id===i}))),s}(t[s].user_detail_category_id,t[s].user_detail_subcategory_id);if(o.position_requirement.length>0){var n=function(n){var a=function(t,i,s){var o=void 0;return e.document.documentFields&&(o=e.document.documentFields.find((function(e){return e.category_id===t&&(e.subcategory_id===i||null===e.subcategory_id)&&e._id===s}))),console.log({result:o}),o}(t[s].user_detail_category_id,t[s].user_detail_subcategory_id,o.position_requirement[n].category_subcategory_data_id);i.find((function(e){return e.category_id===t[s].user_detail_category_id&&e.sub_category_id===t[s].user_detail_subcategory_id&&e.field_id===o.position_requirement[n].category_subcategory_data_id}))||i.push({category_id:t[s].user_detail_category_id,category_name:e.document.documentCategory&&e.document.documentCategory.filter((function(e){return e.user_detail_category_id===t[s].user_detail_category_id})).length>0?e.document.documentCategory.filter((function(e){return e.user_detail_category_id===t[s].user_detail_category_id}))[0].title:"",sub_category_id:o.user_detail_subcategory_id,sub_category_name:r?r.title:"",sub_category_required:t[s].required,field_id:o.position_requirement[n].category_subcategory_data_id,field_name:a?a.title:"",required:o.position_requirement[n].required,isAnyField:!1})};for(var a in o.position_requirement)n(a)}else i.find((function(e){return e.category_id===t[s].user_detail_category_id&&e.sub_category_id===t[s].user_detail_subcategory_id}))||i.push({category_id:t[s].user_detail_category_id,category_name:e.document.documentCategory&&e.document.documentCategory.filter((function(e){return e.user_detail_category_id===t[s].user_detail_category_id})).length>0?e.document.documentCategory.filter((function(e){return e.user_detail_category_id===t[s].user_detail_category_id}))[0].title:"",sub_category_id:o.user_detail_subcategory_id,sub_category_name:r?r.title:"",sub_category_required:t[s].required,field_id:"",field_name:"",required:!1,isAnyField:!0})};for(var o in t)s(o);return i},A=Object(I.f)(e.positionDesc)||!Object(P.e)(e.positionDesc)?[]:JSON.parse(e.positionDesc);return s?Object(y.jsx)(p.a,{}):Object(y.jsxs)("section",{className:"mx-4 my-3",children:[Object(y.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(y.jsx)("span",{className:"text-sm text-gray-600 font-bold mb-1",children:"Position title"}),Object(y.jsx)("input",{onChange:function(t){e.setPositionTitle(t.target.value),_(null)},type:"text",value:e.positionTitle,className:"input-white border-2 ".concat(null!==f&&"position_title"===f.element?"border-red-500":"border-gray-500"),disabled:s}),null!==f&&"position_title"===f.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:f.msg})]}),Object(y.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(y.jsx)("span",{className:"text-sm text-gray-600 font-bold mb-1",children:"Position code"}),Object(y.jsx)("input",{onChange:function(t){e.setPositionCode(t.target.value),_(null)},type:"text",value:e.positionCode,className:"input-white border-2 ".concat(null!==f&&"position_code"===f.element?"border-red-500":"border-gray-500"),disabled:s}),null!==f&&"position_code"===f.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:f.msg})]}),Object(y.jsxs)("section",{className:"bg-white border-gray-300 rounded p-2 my-2 overflow-x-auto",children:[Object(y.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-3",children:[Object(y.jsx)("span",{className:"text-lg font-semibold",children:"Position competences:"}),Object(y.jsxs)("div",{children:[R&&Object(y.jsxs)("div",{className:"bg-white rounded flex items-center gap-2 mb-1",children:[Object(y.jsx)("input",{onChange:function(e){d(e.target.value),_(null)},type:"text",value:l,className:"input-white border-2 border-gray-500",disabled:s}),Object(y.jsx)("button",{className:"btn btn-blue",onClick:function(){!function(){var t=A;null!==h&&h>=0?t[h]=l:t.push(l),e.setPositionDesc(JSON.stringify(t)),d(""),g(null),E(!1)}(),f&&"position_desc"===f.element&&_(null)},disabled:s,children:"Add"}),Object(y.jsx)("button",{className:"btn bg-red-400 text-white hover:bg-red-600",onClick:function(){E(!1),g(null),d("")},disabled:s,children:"Cancel"})]}),!1===R&&Object(y.jsx)("button",{className:"btn btn-blue",onClick:function(){E(!0),f&&"position_desc"===f.element&&_(null)},disabled:s,children:"Add competence"})]})]}),A.length>0?Object(y.jsx)(w.a,{columns:[{columnTitle:"Competence",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return 0===A.length?[Object(y.jsx)("tr",{className:"border-b border-gray-200",children:Object(y.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:4,children:"No competence Found"})},Math.random())]:A.map((function(t,i){return Object(y.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group",children:[Object(y.jsx)("td",{className:"px-3 py-3 text-left",children:t}),Object(y.jsx)("td",{className:"px-5 py-3",children:Object(y.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[Object(y.jsx)("div",{onClick:function(){!1===s&&g(i),!1===s&&d(t),!1===s&&E(!0)},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 ".concat(s?"cursor-not-allowed":"cursor-pointer"),children:Object(y.jsx)(F.g,{className:"text-3xl text-blue-700"})}),Object(y.jsx)("div",{onClick:function(){return!1===s&&function(t){var i=A;t>=0&&(i.splice(t,1),e.setPositionDesc(JSON.stringify(i)))}(i)},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 ".concat(s?"cursor-not-allowed":"cursor-pointer"),children:Object(y.jsx)(b.D,{className:"text-3xl text-red-700"})})]})})]},i+t)}))},pagination:!1,search:!1,hideColumns:!1,thColor:"blue"}):Object(y.jsx)("div",{className:"px-3 py-7 text-xl rounded my-1 text-center ".concat(f&&"position_desc"===f.element?"border-red-700 text-red-800 border-2":"border"),children:f&&"position_desc"===f.element?f.msg:"No competence available"})]}),Object(y.jsxs)("section",{className:"bg-white border-gray-300 rounded p-2 my-2 overflow-x-auto",children:[Object(y.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-3",children:[Object(y.jsx)("span",{className:"text-lg font-semibold",children:"List of Requirements:"}),Object(y.jsx)("button",{className:"btn btn-blue",onClick:function(){N(!0),f&&"position_requirement"===f.element&&_(null)},children:"Add requirements"})]}),e.thisRequirementList&&e.thisRequirementList.length>0?Object(y.jsx)(w.a,{columns:[{columnTitle:"Category",alignText:"left",padding:"p-3"},{columnTitle:"Qualification",alignText:"left",padding:"p-3"},{columnTitle:"Qualification Status",alignText:"left",padding:"p-3"},{columnTitle:"Field",alignText:"left",padding:"p-3"},{columnTitle:"Field Status",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return e.thisRequirementList&&e.thisRequirementList.length?L(e.thisRequirementList).map((function(t,i){return Object(y.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group",children:[Object(y.jsx)("td",{className:"px-3 py-3 text-left",children:t.category_name}),Object(y.jsx)("td",{className:"px-5 py-3 text-left",children:t.sub_category_name}),Object(y.jsx)("td",{className:"px-5 py-3 text-left",children:t.sub_category_required?"Required":"Optional"}),Object(y.jsx)("td",{className:"px-5 py-3 ".concat((t.isAnyField,"text-left")),colSpan:t.isAnyField?2:0,children:t.isAnyField?"Any field":t.field_name}),!t.isAnyField&&Object(y.jsx)("td",{className:"px-5 py-3 text-left",children:t.required?"Required":"Optional"}),Object(y.jsx)("td",{className:"px-5 py-3",children:Object(y.jsx)("div",{className:"flex justify-end",children:Object(y.jsx)("div",{onClick:function(){!s&&(t.isAnyField?function(t,i){if(window.confirm("Are you sure you want to remove this qualification?")&&e.thisRequirementList){var s=Object(q.a)(e.thisRequirementList);e.thisRequirementList.findIndex((function(e){return e.user_detail_category_id===t&&e.user_detail_subcategory_id===i}))>=0&&(1===s.length?e.setThisRequirementList([]):(s=s.filter((function(e){return e.user_detail_subcategory_id!==i})),e.setThisRequirementList(s)))}}(t.category_id,t.sub_category_id):function(t,i,s){if(window.confirm("Are you sure you want to remove this document?")&&e.thisRequirementList){var o=Object(q.a)(e.thisRequirementList),r=e.thisRequirementList.findIndex((function(e){return e.user_detail_category_id===t&&e.user_detail_subcategory_id===i}));r>=0&&(1===e.thisRequirementList[r].position_requirement.length?e.setThisRequirementList([]):(1===o[r].position_requirement.length?o.splice(r,1):o[r].position_requirement=o[r].position_requirement.filter((function(e){return e.category_subcategory_data_id!==s})),e.setThisRequirementList(o)))}}(t.category_id,t.sub_category_id,t.field_id))},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 ".concat(s?"cursor-not-allowed":"cursor-pointer"),children:Object(y.jsx)(b.D,{className:"text-3xl text-red-700"})})})})]},i)})):[Object(y.jsx)("tr",{className:"border-b border-gray-200",children:Object(y.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:4,children:"No Field Found"})},Math.random())]},pagination:!1,search:!1,hideColumns:!1,thColor:"blue"}):Object(y.jsx)("div",{className:"px-3 py-7 text-xl rounded my-1 text-center ".concat(f&&"position_requirement"===f.element?"border-red-700 text-red-800 border-2":"border"),children:f&&"position_requirement"===f.element?f.msg:"No Requirements available"})]}),Object(y.jsxs)("section",{className:"bg-white border-gray-300 rounded p-2 my-2 overflow-x-auto ".concat(f&&"primary_qualification"===f.element?"border-red-700 border-2":"border"),children:[Object(y.jsx)("div",{className:"flex items-center justify-between gap-2 mb-1",children:Object(y.jsx)("span",{className:"text-lg font-semibold",children:"Set primary qualification:"})}),Object(y.jsx)("div",{className:"w-full text-sm mb-3",children:"Set the considered qualification for this position"}),e.thisRequirementList&&e.thisRequirementList.length>0?Object(y.jsx)(w.a,{columns:[{columnTitle:"Qualification",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return e.document.documentSubCategory&&e.thisRequirementList&&e.thisRequirementList.length?function(e,t){var i=[],s=[];return t.forEach((function(t){if(!s.includes(t.user_detail_subcategory_id)){var o=e.find((function(e){return e.user_detail_subcategory_id===t.user_detail_subcategory_id}));o&&i.push(o),o&&s.push(t.user_detail_subcategory_id)}})),e.forEach((function(e){!s.includes(e.user_detail_subcategory_id)&&t.find((function(t){return t.user_detail_subcategory_id===e.user_detail_subcategory_id}))&&(i.push(e),s.push(e.user_detail_subcategory_id))})),i}(e.document.documentSubCategory,e.thisRequirementList).map((function(t,i){return Object(y.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group ".concat(t.user_detail_subcategory_id!==e.positionSubCategoryId&&"cursor-pointer"),onClick:function(){return t.user_detail_subcategory_id!==e.positionSubCategoryId&&e.setPositionSubCategoryId(t.user_detail_subcategory_id)},children:[Object(y.jsx)("td",{className:"px-5 py-3 text-left",children:t.title}),Object(y.jsx)("td",{className:"px-5 py-3 text-right",children:t.user_detail_subcategory_id===e.positionSubCategoryId?Object(y.jsx)("span",{className:"text-lg font-medium bg-green-50 group-hover:bg-green-100 py-1 px-3 rounded text-green-600 group-hover:text-green-700 align-middle",children:"Primary"}):Object(y.jsx)("button",{className:"btn bg-gray-200 group-hover:bg-gray-400",children:"Set as primary"})})]},i)})):[Object(y.jsx)("tr",{className:"border-b border-gray-200",children:Object(y.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:"No Field Found"})},9723627)]},pagination:!1,search:!1,hideColumns:!1,thColor:"blue"}):Object(y.jsx)("div",{className:"px-3 py-7 text-xl rounded my-1 text-center ".concat(f&&"primary_qualification"===f.element?"border-red-700 text-red-800 border-2":"border"),children:f&&"primary_qualification"===f.element?f.msg:"No qualification available"}),f&&"primary_qualification"===f.element&&Object(y.jsx)("div",{className:"text-red-800 mt-2",children:f.msg})]}),Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("button",{className:"btn bg-gray-500 text-gray-50 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return e.setFormSteps({ONE:!1,TWO:!0,THREE:!1,FOUR:!1})},children:"Back"}),Object(y.jsx)("button",{className:"btn btn-blue mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return!e.positionTitle||Object(I.f)(e.positionTitle)?_({element:"position_title",msg:"Position title is required"}):!e.positionCode||Object(I.f)(e.positionCode)?_({element:"position_code",msg:"Position code is required"}):!e.positionDesc||Object(I.f)(e.positionDesc)?_({element:"position_desc",msg:"Position description is required"}):e.thisRequirementList&&e.thisRequirementList.length?!e.positionSubCategoryId||Object(I.f)(e.positionSubCategoryId)?_({element:"primary_qualification",msg:"Position primary qualification is required"}):(e.setFormSteps({ONE:!1,TWO:!1,THREE:!1,FOUR:!0}),void("CREATE_POSITION"===e.modalAction&&e.setStepState({ONE:!0,TWO:!0,THREE:!0,FOUR:!1}))):_({element:"position_requirement",msg:"Document requirement(s) is required"})},disabled:s,children:"Review"})]}),C&&Object(y.jsx)(W,{formError:f,thisCategory:e.thisCategory,thisRequirementList:e.thisRequirementList,documentFields:e.document.documentFields,setThisCategory:e.setThisCategory,setThisSubCategory:e.setThisSubCategory,setAddNewRequirement:N,setThisFieldList:e.setThisFieldList,setThisRequirementList:e.setThisRequirementList,setFilteredFields:e.setFilteredFields,hasSubCategory:function(t){return console.log("called"),!(!e.document.documentSubCategory||!e.document.documentSubCategory.find((function(e){return e.category_id===t})))},documentCategory:e.document.documentCategory,thisSubCategory:e.thisSubCategory,documentSubCategory:e.document.documentSubCategory,chooseFields:e.chooseFields,filteredFields:e.filteredFields,loading:s,setChooseFields:e.setChooseFields,isFieldRequired:e.isFieldRequired,thisFieldList:e.thisFieldList,setThisField:e.setThisField,setIsFieldRequired:e.setIsFieldRequired,setFormError:_,setIsRequirementRequired:e.setIsRequirementRequired,isRequirementRequired:e.isRequirementRequired,positionSubCategoryId:e.positionSubCategoryId,setPositionSubCategoryId:e.setPositionSubCategoryId})]})}))),G=i(67),Y=i(49),M=c.a.memo(Object(m.b)((function(e){return{course:e.course}}),{loadCourses:h.Hc})((function(e){var t=Object(a.useState)(!0),i=Object(n.a)(t,2),s=i[0],o=i[1],r=Object(a.useState)(""),c=Object(n.a)(r,2),l=c[0],d=c[1];return Object(a.useEffect)((function(){null===e.course.courses?e.loadCourses(o):o(!1)}),[e,o]),s?Object(y.jsx)(p.a,{}):Object(y.jsxs)("div",{className:"mt-4",children:[e.course.courses&&e.course.courses.length>0?Object(y.jsxs)("section",{className:"m-1",children:[Object(y.jsx)("div",{className:"text-lg ml-1 font-semibold text-gray-600",children:"Courses for Exam:"}),Object(y.jsx)("div",{className:"py-2",children:Object(y.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"text",className:"input-white h-10 text-sm border-2 border-gray-300 focus:border-gray-500",placeholder:"Search course by title or code",value:l})}),e.course.courses.filter((function(t){return t.school_levels.includes(e.thisLevel.school_level_id)||!t.school_levels.length})).length>0?Object(y.jsx)("section",{className:"w-full h-96 overflow-y-auto",children:Object(Y.a)(e.course.courses.filter((function(t){return t.school_levels.includes(e.thisLevel.school_level_id)||!t.school_levels.length})),l).map((function(t,i){return Object(y.jsxs)("div",{className:"px-3 py-2 my-1 border rounded hover:bg-blue-50 cursor-pointer flex items-center gap-2 text-lg ".concat(e.thisCourses&&e.thisCourses.find((function(e){return e.course_id===t.course_id}))&&"bg-blue-50 text-blue-700 font-bold border-blue-700"),onClick:function(){return function(t){if(e.thisCourses&&e.thisCoursesId)if(e.thisCourses.find((function(e){return e.course_id===t.course_id}))){var i=Object(q.a)(e.thisCourses),s=Object(q.a)(e.thisCoursesId);i=i.filter((function(e){return e.course_id!==t.course_id})),s=s.filter((function(e){return e!==t.course_id})),e.setThisCourses(i),e.setThisCoursesId(s)}else e.setThisCourses([].concat(Object(q.a)(e.thisCourses),[t])),e.setThisCoursesId([].concat(Object(q.a)(e.thisCoursesId),[t.course_id]));else e.setThisCourses([t]),e.setThisCoursesId([t.course_id])}(t)},children:[e.thisCourses&&e.thisCourses.find((function(e){return e.course_id===t.course_id}))?Object(y.jsx)(G.a,{className:"w-8 h-8"}):Object(y.jsx)(G.b,{className:"w-8 h-8"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"text-lg",children:t.course_name}),Object(y.jsxs)("div",{className:"text-base",children:["(",t.course_code,")"]})]})]},i+t.course_id)}))}):Object(y.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(y.jsx)(u.l,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(y.jsx)("span",{children:"No courses available on this level"})]})]}):Object(y.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(y.jsx)(u.l,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(y.jsx)("span",{children:"No Courses available"})]}),Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("button",{className:"btn bg-gray-500 text-gray-50 float-right m-1 mr-2 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return e.setFormSteps({ONE:!0,TWO:!1,THREE:!1,FOUR:!1})},children:"Back"}),e.thisCourses&&e.thisCourses.length>0&&Object(y.jsx)("button",{className:"btn btn-blue float-right m-1 mr-2 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){e.setFormSteps({ONE:!1,TWO:!1,THREE:!0,FOUR:!1}),"CREATE_POSITION"===e.modalAction&&e.setStepState({ONE:!0,TWO:!0,THREE:!1,FOUR:!1})},children:"Continue"})]})]})}))),J=function(e){return Object(y.jsxs)(a.Fragment,{children:[Object(y.jsx)(R,{currentStep:e.formSteps.FOUR?4:e.formSteps.THREE?3:e.formSteps.TWO?2:1,thisLevel:e.thisLevel,thisEdication:e.thisEdication,thisCourses:e.thisCourses,stepState:e.stepState,setFormSteps:e.setFormSteps}),e.formSteps.ONE&&Object(y.jsx)(C,{thisLevel:e.thisLevel,thisEdication:e.thisEdication,formSteps:e.formSteps,setThisEdication:e.setThisEdication,setThisLevel:e.setThisLevel,setFormSteps:e.setFormSteps,setThisCourses:e.setThisCourses,setStepState:e.setStepState,modalAction:e.modalAction}),e.formSteps.TWO&&e.thisLevel&&Object(y.jsx)(M,{thisLevel:e.thisLevel,thisCourses:e.thisCourses,thisCoursesId:e.thisCoursesId,formSteps:e.formSteps,setThisCourses:e.setThisCourses,setThisCoursesId:e.setThisCoursesId,setFormSteps:e.setFormSteps,setStepState:e.setStepState,modalAction:e.modalAction}),e.formSteps.THREE&&e.thisEdication&&e.thisLevel&&e.thisCoursesId&&e.thisCourses&&Object(y.jsx)(B,{positionId:e.positionId,positionDesc:e.positionDesc,positionTitle:e.positionTitle,thisFieldList:e.thisFieldList,thisRequirementList:e.thisRequirementList,thisEdication:e.thisEdication,thisLevel:e.thisLevel,thisCategory:e.thisCategory,thisSubCategory:e.thisSubCategory,thisCoursesId:e.thisCoursesId,thisCourses:e.thisCourses,chooseFields:e.chooseFields,filteredFields:e.filteredFields,thisField:e.thisField,isFieldRequired:e.isFieldRequired,isRequirementRequired:e.isRequirementRequired,courseLength:e.courseLength,formSteps:e.formSteps,modalAction:e.modalAction,setPositionId:e.setPositionId,setModalAction:e.setModalAction,setThisFieldList:e.setThisFieldList,setPositionDesc:e.setPositionDesc,setPositionTitle:e.setPositionTitle,setThisCategory:e.setThisCategory,setThisSubCategory:e.setThisSubCategory,setThisRequirementList:e.setThisRequirementList,setFormSteps:e.setFormSteps,setFilteredFields:e.setFilteredFields,setThisField:e.setThisField,setIsFieldRequired:e.setIsFieldRequired,setIsRequirementRequired:e.setIsRequirementRequired,setCourseLength:e.setCourseLength,setChooseFields:e.setChooseFields,cleanStates:e.cleanStates,setStepState:e.setStepState,positionSubCategoryId:e.positionSubCategoryId,setPositionSubCategoryId:e.setPositionSubCategoryId,positionCode:e.positionCode,setPositionCode:e.setPositionCode}),e.formSteps.FOUR&&e.thisEdication&&e.thisLevel&&e.thisCoursesId&&e.thisCourses&&e.thisRequirementList&&Object(y.jsx)(E.a,{modalAction:e.modalAction,positionId:e.positionId,positionTitle:e.positionTitle,thisCourses:e.thisCourses,positionDesc:e.positionDesc,thisLevel:e.thisLevel,thisEdication:e.thisEdication,thisCoursesId:e.thisCoursesId,thisRequirementList:e.thisRequirementList,formSteps:e.formSteps,setFormSteps:e.setFormSteps,setModalAction:e.setModalAction,setThisPosition:e.setThisPosition,cleanStates:e.cleanStates,positionSubCategoryId:e.positionSubCategoryId,positionCode:e.positionCode})]})},Q=c.a.memo(J),X=i(162),z=i(38),K=i(711),V=i(208),Z=i(684),$=i(88),ee=Object(m.b)((function(e){return{auth:e.auth,systemPositions:e.system_settings.systemPositions}}),{FC_GetPositionsByInstitution:g.a,deletePosition:g.c,PushPopupAlert:h.Rb})((function(e){var t=Object(a.useState)(""),i=Object(n.a)(t,2),s=i[0],c=i[1],l=Object(z.g)().view_type,m=Object(a.useState)(!0),g=Object(n.a)(m,2),p=g[0],O=g[1],v=Object(a.useState)(!1),C=Object(n.a)(v,2),N=C[0],S=C[1],T=Object(a.useState)(""),R=Object(n.a)(T,2),E=R[0],q=R[1],L=Object(a.useState)(null),w=Object(n.a)(L,2),A=w[0],k=w[1],D=Object(a.useState)("create"===l&&"CREATE_POSITION"),U=Object(n.a)(D,2),H=U[0],W=U[1],B=Object(a.useState)("create"===l?{ONE:!0,TWO:!1,THREE:!1,FOUR:!1}:{ONE:!1,TWO:!1,THREE:!1,FOUR:!1}),G=Object(n.a)(B,2),M=G[0],J=G[1],ee=Object(a.useState)(null),te=Object(n.a)(ee,2),ie=te[0],se=te[1],oe=Object(a.useState)(null),re=Object(n.a)(oe,2),ne=re[0],ae=re[1],ce=Object(a.useState)(null),le=Object(n.a)(ce,2),de=le[0],ue=le[1],be=Object(a.useState)(null),me=Object(n.a)(be,2),he=me[0],ge=me[1],je=Object(a.useState)(""),xe=Object(n.a)(je,2),fe=xe[0],_e=xe[1],pe=Object(a.useState)(""),ye=Object(n.a)(pe,2),Oe=ye[0],ve=ye[1],Ce=Object(a.useState)(""),Ne=Object(n.a)(Ce,2),Se=Ne[0],Te=Ne[1],Re=Object(a.useState)(""),Ee=Object(n.a)(Re,2),qe=Ee[0],Fe=Ee[1],Le=Object(a.useState)(""),we=Object(n.a)(Le,2),Ie=we[0],Pe=we[1],Ae=Object(a.useState)(""),ke=Object(n.a)(Ae,2),De=ke[0],Ue=ke[1],He=Object(a.useState)(null),We=Object(n.a)(He,2),Be=We[0],Ge=We[1],Ye=Object(a.useState)(null),Me=Object(n.a)(Ye,2),Je=Me[0],Qe=Me[1],Xe=Object(a.useState)({ONE:!1,TWO:!1,THREE:!1,FOUR:!1}),ze=Object(n.a)(Xe,2),Ke=ze[0],Ve=ze[1],Ze=Object(a.useState)(null),$e=Object(n.a)(Ze,2),et=$e[0],tt=$e[1],it=Object(a.useState)(""),st=Object(n.a)(it,2),ot=st[0],rt=st[1],nt=Object(a.useState)(!1),at=Object(n.a)(nt,2),ct=at[0],lt=at[1],dt=Object(a.useState)(!1),ut=Object(n.a)(dt,2),bt=ut[0],mt=ut[1],ht=Object(a.useState)(0),gt=Object(n.a)(ht,2),jt=gt[0],xt=gt[1],ft=Object(a.useState)(!1),_t=Object(n.a)(ft,2),pt=_t[0],yt=_t[1],Ot=Object(a.useState)(""),vt=Object(n.a)(Ot,2),Ct=vt[0],Nt=vt[1],St=Object(a.useState)("ALL"),Tt=Object(n.a)(St,2),Rt=Tt[0],Et=Tt[1],qt=Object(a.useState)("TRUE"),Ft=Object(n.a)(qt,2),Lt=Ft[0],wt=Ft[1],It=Object(a.useState)(""),Pt=Object(n.a)(It,2),At=Pt[0],kt=Pt[1];if(Object(a.useEffect)((function(){!0===Object(h.g)(e.auth,$.a.SYSTEM_SETTINGS).view&&(null===e.systemPositions&&e.auth.education_institution_id?e.FC_GetPositionsByInstitution(e.auth.education_institution_id,(function(t,i){O(t),console.log({status:t,msg:i}),i.length&&e.PushPopupAlert({title:i,theme:j.a.danger})})):p&&O(!1))}),[p,e,O]),!1===Object(h.g)(e.auth,$.a.SYSTEM_SETTINGS).view)return Object(y.jsx)(z.a,{to:"/apps-page"});if(!1===Object(P.d)(e.auth.education_institution_id))return Object(y.jsx)(Z.a,{description:"You have no access to this page!"});var Dt=function(){var t=Object(r.a)(o.a.mark((function t(i){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return q(i),S(!0),t.prev=2,t.next=5,d.a.delete("".concat(x.a.APPLICATION,"/position/").concat(i));case 5:(s=t.sent).data&&(console.log({res:s}),e.deletePosition(i),e.PushPopupAlert({title:"Position deleted successfully",theme:j.a.success})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log({position_error:t.t0}),e.PushPopupAlert({title:Object(f.a)(t.t0),theme:j.a.danger});case 13:q(""),S(!1);case 15:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),Ut=function(){yt(!1),se(null),ae(null),ue(null),ge(null),Pe(""),Ue(""),ve(""),Te(""),_e(""),kt(""),Fe(""),Ge(null),Qe(null),tt(null),rt(""),lt(!1),mt(!1),xt(0),J({ONE:!0,TWO:!1,THREE:!1,FOUR:!1}),Ve({ONE:!0,TWO:!1,THREE:!1,FOUR:!1})},Ht=function(e){var t="",i="bg-blue-100 group-hover:bg-blue-50";return A&&A.position_id===e.position_id&&(A.isPublished?(t="bg-blue-100 border border-blue-500",i="bg-blue-100 group-hover:bg-blue-50"):(t="bg-yellow-100 border border-yellow-500",i="bg-yellow-100 group-hover:bg-yellow-50")),{section:t,button:i}},Wt=function(e,t){var i=[];return"ALL"===t?i=e:"PUBLISHED"===t?i=e.filter((function(e){return e.isPublished})):"NOT_PUBLISHED"===t&&(i=e.filter((function(e){return!e.isPublished}))),i},Bt=function(e,t){var i=[];return"ALL"===t?i=e:"TRUE"===t?i=e.filter((function(e){return!e.isDeleted})):"FALSE"===t&&(i=e.filter((function(e){return e.isDeleted}))),i};return null===e.systemPositions||!0===p?Object(y.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."}):Object(y.jsxs)(a.Fragment,{children:[Object(y.jsx)("div",{className:"mt-3 rounded flex flex-row justify-between items-center",children:Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(y.jsx)(F.n,{className:"text-6xl text-blue-600"}),Object(y.jsx)("div",{className:"flex flex-col",children:Object(y.jsx)("span",{className:"text-blue-600 text-2xl font-bold",children:"Positions"})})]})}),Object(y.jsxs)("div",{className:"mt-1 p-1 bg-white",children:[Object(y.jsxs)("div",{className:"flex flex-row justify-between items-center bg-gray-100 py-1",children:[Object(y.jsxs)("section",{className:"flex items-center gap-2",children:[H&&Object(y.jsx)("button",{className:"ml-3 bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none ".concat(N?"cursor-not-allowed":"cursor-pointer"," animate__animated animate__fadeIn"),disabled:N,onClick:function(){W(!1),Ut()},children:Object(y.jsx)(b.f,{className:"w-7 h-7"})}),Object(y.jsxs)("div",{className:"text-blue-600 font-extrabold ".concat(H?"text-2xl":"text-xl"," px-2"),children:["CREATE_POSITION"===H?"Creating new position":"UPDATE_POSITION"===H&&"Updating "+Oe,"CREATE_POSITION"!==H&&"UPDATE_POSITION"!==H&&Object(y.jsxs)("section",{className:"flex items-start md:items-center justify-start md:justify-end gap-1 mt-1",children:[Object(y.jsx)("span",{className:"text-sm text-gray-600",children:"Status: "}),Object(y.jsx)("div",{className:"w-auto ".concat(null===e.systemPositions||p||N?"cursor-not-allowed":"cursor-pointer"," ").concat("TRUE"===Lt?"bg-blue-500 text-white font-bold":"bg-gray-100 text-gray-800"," hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return null!==e.systemPositions&&!p&&!N&&wt("TRUE")},children:Object(y.jsxs)("div",{className:"flex-1 text-xs",children:[Object(y.jsx)(b.n,{className:"inline-block mr-1 text-xs"}),Object(y.jsx)("span",{children:"Active"})]})}),Object(y.jsx)("div",{className:"w-auto ".concat(null===e.systemPositions||p||N?"cursor-not-allowed":"cursor-pointer"," ").concat("FALSE"===Lt?"bg-blue-500 text-white font-bold":"bg-gray-100 text-gray-800"," hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return null!==e.systemPositions&&!p&&!N&&wt("FALSE")},children:Object(y.jsxs)("div",{className:"flex-1 text-xs",children:[Object(y.jsx)(b.n,{className:"inline-block mr-1 text-xs"}),Object(y.jsx)("span",{children:"Deleted"})]})})]})]})]}),!H&&null!==e.systemPositions&&Object(y.jsx)("div",{className:"btn bg-blue-600 text-white cursor-pointer hover:bg-blue-800",onClick:function(){W("CREATE_POSITION"),J({ONE:!0,TWO:!1,THREE:!1,FOUR:!1})},children:"Add new"})]}),H?Object(y.jsx)(Q,{formSteps:M,thisLevel:ne,thisEdication:ie,thisCoursesId:he,thisCourses:de,stepState:Ke,positionId:fe,positionDesc:qe,positionTitle:Oe,thisFieldList:Be,thisRequirementList:Je,thisCategory:Ie,thisSubCategory:De,chooseFields:pt,filteredFields:et,thisField:ot,isFieldRequired:ct,isRequirementRequired:bt,courseLength:jt,modalAction:H,setThisEdication:se,setThisLevel:ae,setFormSteps:J,setThisCoursesId:ge,setThisCourses:ue,setStepState:Ve,setPositionId:_e,setModalAction:W,setThisFieldList:Ge,setPositionDesc:Fe,setPositionTitle:ve,setThisCategory:Pe,setThisSubCategory:Ue,setThisRequirementList:Qe,setFilteredFields:tt,setThisField:rt,setIsFieldRequired:lt,setIsRequirementRequired:mt,setCourseLength:xt,setChooseFields:yt,setThisPosition:k,cleanStates:Ut,positionSubCategoryId:At,setPositionSubCategoryId:kt,setPositionCode:Te,positionCode:Se}):Object(y.jsx)("div",{className:"flex flex-col",children:e.systemPositions&&0===Bt(e.systemPositions,Lt).length?Object(y.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(y.jsx)(u.l,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(y.jsx)("span",{children:"No position available"})]}):Object(y.jsxs)("div",{children:[Object(y.jsxs)("section",{className:"flex flex-col-reverse sm:flex-row items-center gap-2 w-full my-2",children:[Object(y.jsx)("div",{className:"w-full sm:w-3/4",children:Object(y.jsx)("input",{onChange:function(e){return Nt(e.target.value)},type:"text",className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full",placeholder:"Search position by title or description",value:Ct,disabled:!(Wt(Bt(e.systemPositions,Lt),Rt).length>0)})}),"TRUE"===Lt&&Object(y.jsx)("div",{className:"w-full sm:w-1/4",children:Object(y.jsxs)("select",{className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full",placeholder:"Filter by status",onChange:function(e){return Et(e.target.value)},children:[Object(y.jsx)("option",{value:"",disabled:!0,children:"Filter by status"}),Object(y.jsx)("option",{value:"ALL",children:"All positions"}),Object(y.jsx)("option",{value:"PUBLISHED",children:"Published positions"}),Object(y.jsx)("option",{value:"NOT_PUBLISHED",children:"Not Published positions"})]})})]}),e.systemPositions&&Object(Y.a)(Wt(Bt(e.systemPositions,Lt),Rt),Ct).length>0?Object(Y.a)(Wt(Bt(e.systemPositions,Lt),Rt),Ct).map((function(e,t){return Object(y.jsxs)("div",{className:"border ".concat(A&&A.position_id===e.position_id||e.isPublished?"hover:bg-blue-50":"border-yellow-500 hover:bg-yellow-100"),children:[Object(y.jsxs)("div",{className:"w-full flex flex-row px-3 py-2 rounded items-start my-1 justify-between group ".concat(Ht(e).section),children:[Object(y.jsxs)("div",{className:"flex flex-col cursor-pointer",onClick:function(){!N&&A&&A.position_id===e.position_id?k(null):k(e)},children:[Object(y.jsx)("span",{className:"text-gray-600 font-bold",children:e.position_title}),Object(y.jsx)("span",{className:"text-xs pr-5 text-gray-500",children:Object(y.jsx)(V.a,{competence:e.description,displayType:"text-one"})})]}),Object(y.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(!A||A.position_id!==e.position_id)&&Object(y.jsx)("span",{className:"inline-block rounded-full text-gray-800 duration-300 text-xs font-bold px-2 md:px-3 py-1 opacity-90 group-hover:opacity-100 ".concat(e.isPublished?"bg-blue-50":"bg-yellow-200"),children:e.isPublished?"Published":"Unpublished"}),A&&A.position_id===e.position_id&&Object(y.jsxs)("div",{className:"flex items-center gap-2",children:[!e.isDeleted&&Object(y.jsx)("button",{className:"".concat(Ht(e).button," rounded-full px-1 py-1 focus:outline-none ").concat(N?"cursor-not-allowed":"cursor-pointer"," animate__animated animate__fadeIn"),disabled:N,onClick:function(){se(e.education_institute_id),ae(e.school_level_id),ue(e.courses),ge(e.courses.map((function(e){return e.course_id}))),ve(e.position_title),Te(null===e.position_code?"":e.position_code),_e(e.position_id),Fe(e.description),kt(e.subcategory_id),Qe(function(e){console.log({requirements:e});var t=[],i=[];return e.forEach((function(e){console.log({element:e}),e.position_requirement.forEach((function(e){console.log({item:e}),i.push({category_subcategory_data_id:e._id,required:e.required})})),t.push({user_detail_category_id:e.category.user_detail_category_id,user_detail_subcategory_id:e.subcategory.user_detail_subcategory_id,position_requirement:i,required:e.required}),i=[]})),t}(e.requirements)),J({ONE:!0,TWO:!1,THREE:!1,FOUR:!1}),Ve({ONE:!0,TWO:!0,THREE:!0,FOUR:!0}),W("UPDATE_POSITION")},children:Object(y.jsx)(b.F,{className:"text-3xl text-blue-700"})}),Object(y.jsx)("button",{className:"".concat(Ht(e).button," rounded-full px-1 py-1 focus:outline-none ").concat(N||E?"cursor-not-allowed":"cursor-pointer"," animate__animated animate__fadeIn"),onClick:function(){return c(e.position_id)},disabled:!(!E&&!N),children:e.isDeleted?Object(y.jsx)(b.Mb,{className:"text-3xl text-yellow-700"}):Object(y.jsx)(b.D,{className:"text-3xl text-red-700"})})]}),Object(y.jsx)("div",{onClick:function(){!N&&A&&A.position_id===e.position_id?k(null):k(e)},className:"".concat(A&&A.position_id===e.position_id?Ht(e).button:e.isPublished?"bg-gray-50 group-hover:bg-blue-100":"bg-gray-50 group-hover:bg-gray-100"," rounded-full px-1 py-1 ").concat(N?"cursor-not-allowed":"cursor-pointer"),children:A&&A.position_id===e.position_id?Object(y.jsx)(b.I,{className:"text-3xl text-gray-700"}):Object(y.jsx)(b.J,{className:"text-3xl text-gray-700"})})]})]}),A&&A.position_id===e.position_id&&Object(y.jsx)(_.a,{thisPosition:A,setThisPosition:k})]},t+e.position_id)})):Object(y.jsx)(X.b,{theme:X.a.Dark,value:"No position found"})]})})]}),!Object(I.f)(s)&&A&&Object(y.jsx)(K.b,{modalType:A.isDeleted?K.a.RESTORE_DELETE:K.a.DELETE,confirmFun:function(){return Dt(s)},setModalAction:function(e){return!e&&c("")},description:"Do you really want to ".concat(A.isDeleted?"restore this position?":"delete this position? This process can affect applications")})]})}))},684:function(e,t,i){"use strict";var s=i(4),o=i.n(s),r=i(50),n=i(1),a=function(e){e.title;var t=e.description,i=void 0===t?"Please Wait for the system to publish the sessions or contact the administrator":t,s=e.content,o=void 0===s?void 0:s;return Object(n.jsx)("div",{className:"w-full my-5",children:Object(n.jsxs)("section",{className:"py-10 flex flex-col items-center rounded border border-gray-300 bg-white text-2xl font-medium text-yellow-800 animate__animated animate__pulse",children:[Object(n.jsxs)("div",{className:"flex flex-col items-center",children:[Object(n.jsx)(r.q,{className:"w-32 h-32"}),i]}),o&&o,!1]})})};t.a=o.a.memo(a)}}]);
//# sourceMappingURL=51.c98f5eda.chunk.js.map