(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[54,1],{1326:function(e,t,n){"use strict";n.r(t),n.d(t,"Index",(function(){return N}));var s,r=n(17),a=n(4),c=n(38),i=n(5),o=n.n(i),l=n(7),u=n(643),d=n(20),b=n(3),m=n(32),f=n(8),x=n.n(f),p=n(9),j=n(37),h=n(652),g=n(14),y=n(677),O=n(640),_=n(687),v=n(1),w=Object(d.b)((function(e){return{auth:e.auth,system_settings:e.system_settings.systemSettings}}),{getSystemSettings:h.e,disableSystemSetting:h.c,PushPopupAlert:b.tb})((function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),s=n[0],c=n[1],i=Object(a.useState)(""),d=Object(r.a)(i,2),b=d[0],f=d[1],h=Object(a.useState)(""),w=Object(r.a)(h,2),N=w[0],S=w[1],T=Object(a.useState)(""),k=Object(r.a)(T,2),E=k[0],I=k[1],A=Object(a.useState)("enabled"),P=Object(r.a)(A,2),D=P[0],C=P[1],G=function(){var t=Object(l.a)(o.a.mark((function t(n,s,r){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(n),t.prev=1,t.next=4,x.a.patch("".concat(p.a.AUTH,"/settings"),{setting_id:n,status:s});case 4:a=t.sent,e.disableSystemSetting({system_setting_id:n,status:s}),e.PushPopupAlert({title:"".concat(r," ").concat(s," successfully"),theme:j.a.success}),console.log("Deleted: ",a),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.error("err: ",t.t0),e.PushPopupAlert({title:Object(g.a)(t.t0),theme:j.a.danger});case 14:f("");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n,s){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){null!==e.system_settings&&0!==e.system_settings.length||e.getSystemSettings((function(t,n){c(t),n.length&&e.PushPopupAlert({title:n,theme:j.a.danger})}))}),[e,c]),Object(v.jsxs)(a.Fragment,{children:[Object(v.jsxs)("div",{className:"mt-1",children:[Object(v.jsx)("div",{className:"flex flex-row justify-between items-center bg-gray-100 py-1",children:Object(v.jsx)("div",{className:"text-blue-600 font-extrabold text-xl px-2",children:"System Settings"})}),Object(v.jsx)("div",{className:"flex flex-col",children:null===e.system_settings||!0===s?Object(v.jsx)(m.a,{}):0===e.system_settings.length?Object(v.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(v.jsx)(u.i,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(v.jsx)("span",{children:"No settings available"})]}):e.system_settings.map((function(e,t){return Object(v.jsxs)("div",{className:"border flex flex-row px-3 py-2 rounded items-start my-1 justify-between",children:[Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("span",{className:"text-gray-600 font-bold",children:e.name}),Object(v.jsx)("span",{className:"text-xs pr-5 text-gray-500",children:e.key}),Object(v.jsx)("span",{className:"text-xs pr-5 ".concat("disabled"===e.status?"text-red-700":"text-green-700"),children:Object(O.a)(e.status)})]}),Object(v.jsx)("div",{className:"flex flex-row items-center gap-2",children:Object(v.jsxs)("div",{className:"relative ".concat(b.length>0?"cursor-not-allowed":"cursor-pointer"," flex items-center gap-1"),onClick:function(){!b.length&&S(e.system_setting_id),!b.length&&I(e.name),!b.length&&C("disabled"===e.status?"enabled":"disabled")},children:[Object(v.jsx)("span",{className:"block w-14 h-8 bg-gray-100 rounded-full shadow-inner"}),Object(v.jsx)("span",{className:"absolute block w-6 h-6 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-500 ease-in-out ".concat("disabled"===e.status?"bg-red-500":"bg-green-500 transform translate-x-full")}),b===e.system_setting_id?Object(v.jsx)(y.c,{className:"animate__animated animate__rotateIn animate__infinite"}):Object(v.jsx)("span",{className:"text-lg font-mono",children:"disabled"===e.status?"Off ":"On"})]})})]},t+e.system_setting_id)}))})]}),!Object(O.f)(N)&&Object(v.jsx)(_.b,{modalType:_.a.OTHER,confirmFun:function(){return G(N,D,E)},setModalAction:function(e){!e&&S(""),!e&&I(""),!e&&C("enabled")},description:"Do you really want to ".concat("enabled"===D?"enable":"disable"," this setting?")})]})}));!function(e){e.systemSettings="systemSettings"}(s||(s={}));var N=function(){var e=[{settingType:s.systemSettings,caption:"System Settings"}],t=Object(a.useState)(s.systemSettings),n=Object(r.a)(t,2),i=n[0],o=n[1];return Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("div",{className:"mt-3 rounded flex flex-row justify-between items-center",children:Object(v.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(v.jsx)(c.m,{className:"text-6xl text-blue-600"}),Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsx)("span",{className:"text-blue-600 text-2xl font-bold",children:"Settings"})})]})}),Object(v.jsx)("div",{className:"mt-3 mb-6 flex-col",children:Object(v.jsxs)("div",{className:"bg-white w-full border border-white rounded",children:[Object(v.jsx)("div",{className:"flex flex-row items-center",children:e.map((function(e,t){return Object(v.jsx)("div",{onClick:function(){return o(e.settingType)},className:"animate__animated ".concat(i===e.settingType?"bg-blue-100 border-blue-600 text-blue-600 animate__zoomIn":"bg-white border-white text-gray-600"," hover:bg-blue-100 px-4 py-2 cursor-pointer font-bold border-b-4 hover:border-blue-600 hover:text-blue-600 rounded-t mt-1 mx-1"),children:e.caption},t)}))}),Object(v.jsx)("div",{className:"=rounded mx-1 mb-1",children:i===s.systemSettings&&Object(v.jsx)(w,{})})]})})]})}},640:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return u}));var s=[{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"7322342684"},{school_id:"32762426329",school_title:"Rucee De Kigali",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"73232432684",number_of_females:10,number_of_males:12}],r=function(e){return null===e||null!==e.match(/^ *$/)},a=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},c=function(e,t){return e.find((function(e){return e.education_institute_id===t}))},i=function(e,t){return e.find((function(e){return e.position_id===t}))},o=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Array(t+1).join("0");return(n+e).slice(-t)},u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},652:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return j}));var s=n(5),r=n.n(s),a=n(7),c=n(8),i=n.n(c),o=n(6),l=n(9),u=n(15),d=n(14),b=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,i.a.get("".concat(l.a.AUTH,"/settings"));case 5:s=t.sent,n({type:o.a.GET_SYSTEM_SETTINGS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var s,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,i.a.get("".concat(l.a.AUTH,"/allroleaccess"));case 5:s=t.sent,a=s.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),n({type:o.a.GET_TASK_ACCESS,payload:a}),e(!1,"",a),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,i.a.get("".concat(l.a.APPLICATION,"/position"));case 5:s=t.sent,n({type:o.a.GET_POSTIONS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return console.log({deletePosition:e}),function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},687:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var s,r=n(651),a=n(737),c=n(10),i=n(1);!function(e){e.DELETE="delete",e.INFO="info",e.OTHER="other"}(s||(s={}));t.b=function(e){return Object(i.jsxs)("div",{className:"min-w-screen h-screen animated fadeIn faster  fixed  left-0 top-0 flex justify-center items-center inset-0 z-50 outline-none focus:outline-none bg-no-repeat bg-center bg-cover",id:"modal-id",children:[Object(i.jsx)("div",{className:"absolute bg-black opacity-80 inset-0 z-0"}),Object(i.jsx)("div",{className:"w-full  max-w-lg p-5 relative mx-auto my-auto rounded-xl shadow-lg bg-white animate__animated animate__zoomIn animate__faster",children:Object(i.jsxs)("div",{className:"",children:[Object(i.jsxs)("div",{className:"text-center p-5 flex-auto justify-center",children:[e.modalType===s.DELETE&&Object(i.jsx)(r.a,{className:"w-4 h-4 -m-1 flex items-center text-red-500 mx-auto"}),e.modalType===s.DELETE?Object(i.jsx)(c.C,{className:"w-16 h-16 flex items-center text-red-500 mx-auto"}):e.modalType===s.INFO?Object(i.jsx)(a.a,{className:"w-16 h-16 flex items-center text-blue-500 mx-auto"}):Object(i.jsx)(a.a,{className:"w-16 h-16 flex items-center text-yellow-500 mx-auto"}),Object(i.jsx)("h2",{className:"text-xl font-bold py-4 ",children:"Are you sure?"}),Object(i.jsx)("p",{className:"text-sm text-gray-500 px-8",children:e.description})]}),Object(i.jsxs)("div",{className:"p-3  mt-2 text-center space-x-4 md:block",children:[Object(i.jsx)("button",{className:"mb-2 md:mb-0 bg-white px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-gray-600 rounded-full hover:shadow-lg hover:bg-gray-100",onClick:function(){return e.setModalAction(!1)},children:"Cancel"}),Object(i.jsx)("button",{className:"mb-2 md:mb-0 border px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg ".concat(e.modalType===s.DELETE?"border-red-500 hover:bg-red-600 bg-red-500":e.modalType===s.INFO?"border-blue-500 hover:bg-blue-600 bg-blue-500":"border-yellow-500 hover:bg-yellow-600 bg-yellow-500"),onClick:function(){e.confirmFun(),e.setModalAction(!1)},children:"Confirm"})]})]})})]})}}}]);
//# sourceMappingURL=54.5b990d6d.chunk.js.map