(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[36],{1316:function(e,t,s){"use strict";s.r(t),s.d(t,"ignoreThisApplicationStatus",(function(){return q})),s.d(t,"reportContentKeyInterface",(function(){return W})),s.d(t,"Applications",(function(){return J}));var a,n=s(4),i=s.n(n),l=s(7),c=s(24),o=s(23),r=s(26),d=s(25),p=s(8),u=s.n(p),b=s(5),x=s.n(b),j=s(169),h=s(654),m=s(97),f=s(48),g=s(50),O=s(10),y=s(21),v=s(20),N=s(3),_=s(650),S=s(669),A=s(33),P=s(64),w=s(19),C=s(647),E=s(31),k=s(39),T=s(644),D=s(9),L=s(13),I=s(668),M=s(43),R=s(44),F=s(678),G=s(63),z=s(811),Y=s(802),U=s(1);!function(e){e.profile="profile",e.position="position"}(a||(a={}));var W,H=function(e){Object(r.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).tabStatusClass=function(e){return!0===e?"col-span-6 bg-white hover:bg-blue-100 py-4 px-3 cursor-pointer text-lg border-b-4 border-blue-600 text-blue-600 font-bold flex flex-row items-center justify-start bg-blue-50 gap-3 animate__animated animate__pulse":"col-span-6 bg-white hover:bg-blue-50 py-4 px-3 cursor-pointer text-lg border-b-4 border-white hover:border-blue-200 text-gray-600 hover:text-blue-700 flex flex-row items-center justify-start gap-3"},n.state={loading:!1,tab:a.profile},n}return Object(o.a)(s,[{key:"render",value:function(){var e,t=this;return Object(U.jsxs)("div",{className:"px-2 py-2 border-t",children:[Object(U.jsxs)("div",{className:"rounded grid md:grid-cols-12",children:[Object(U.jsxs)("div",{onClick:function(){return t.setState({tab:a.profile})},className:"".concat(this.state.tab===a.profile?this.tabStatusClass(!0):this.tabStatusClass(!1)),children:[Object(U.jsx)(G.l,{className:"text-3xl"}),"Applicant profile"]}),Object(U.jsxs)("div",{onClick:function(){return t.setState({tab:a.position})},className:"".concat(this.state.tab===a.position?this.tabStatusClass(!0):this.tabStatusClass(!1)),children:[Object(U.jsx)(z.c,{className:"text-3xl"}),"Position requirements"]})]}),Object(U.jsx)("div",{className:"border rounded px-4 py-4 mt-3",children:this.state.tab===a.profile?Object(U.jsx)("div",{className:"grid md:grid-cols-12",children:Object(U.jsxs)("div",{className:"col-span-6",children:[Object(U.jsx)("div",{className:"text-3xl text-blue-600 font-bold mb-6",children:"General information"}),Object(U.jsx)("div",{className:"",children:Object(U.jsx)("div",{className:"px-2 py-2",children:Object(U.jsx)("img",{src:Y.a,alt:"",className:"h-28 w-28 rounded-full mb-2"})})}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"First name: "}),Object(U.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.fname})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Last name: "}),Object(U.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.lname})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"National ID: "}),Object(U.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.n_id})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Gender: "}),Object(U.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.sex})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Phone number: "}),Object(U.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.phone_number})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Email: "}),Object(U.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.email})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"District: "}),Object(U.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.district})]})]})}):Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{className:"text-2xl text-blue-600 font-bold mb-3",children:"Application details"}),Object(U.jsxs)("div",{className:"border px-3 py-3 rounded mb-6",children:[Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsxs)("span",{className:"text-gray-500 italic",children:["Application period:"," "]}),Object(U.jsxs)("span",{className:"font-bold",children:[this.props.selectedApplication.application_session.application_session_name," ","-"," ",this.props.selectedApplication.application_session.period]})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsxs)("span",{className:"text-gray-500 italic",children:["Application date:"," "]}),Object(U.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.application_session.createdAt})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsxs)("span",{className:"text-gray-500 italic",children:["Application status:"," "]}),Object(U.jsx)("span",{className:"font-bold",children:null===(e=E.b.find((function(e){return e.key===t.props.selectedApplication.application_status})))||void 0===e?void 0:e.caption})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsxs)("span",{className:"text-gray-500 italic",children:["Application history:"," "]}),Object(U.jsx)("span",{className:"font-bold",children:Object(U.jsx)("ol",{className:"text-gray-500 text-sm",children:this.props.selectedApplication.application_history.map((function(e,t){return Object(U.jsxs)("li",{className:"",children:[t+1,") ",e.date," (",e.comment,")"]},t+1)}))})})]})]}),Object(U.jsx)("div",{className:"text-2xl text-blue-600 font-bold mb-3",children:"Position details"}),Object(U.jsxs)("div",{className:"border px-3 py-3 rounded",children:[Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Position name: "}),Object(U.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.position.position_title})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsxs)("span",{className:"text-gray-500 italic",children:["Position description:"," "]}),Object(U.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.position.description})]}),Object(U.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Position exams: "}),Object(U.jsx)("span",{className:"font-bold",children:Object(U.jsx)("ol",{children:this.props.selectedApplication.position.courses.map((function(e,t){return Object(U.jsxs)("li",{children:["(",t+1,") Course name: ",e.course_name," -"," ",e.course_code]},t+1)}))})})]})]})]})})]})}}]),s}(b.Component),V=x.a.memo(H),q=[E.a.Failed,E.a.Pass,E.a.Rejected];!function(e){e.names="names",e.gender="gender",e.national_id="national_id",e.email="email",e.phone="phone",e.district="district",e.application_session="application_session",e.education_category="education_category",e.date="date",e.decision="decision",e.position="position"}(W||(W={}));var B=[{key:W.names,title:"Applicant Names",status:!0},{key:W.national_id,title:"National ID",status:!0},{key:W.gender,title:"Gender",status:!0},{key:W.phone,title:"Phone",status:!0},{key:W.application_session,title:"Application Period",status:!0},{key:W.education_category,title:"Education Institute",status:!0},{key:W.date,title:"Application Date",status:!0},{key:W.decision,title:"Decision",status:!0},{key:W.position,title:"Position Title",status:!0}],X=function(e){Object(r.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).setLoadingState=function(e){a.setState({loading:e})},a.loadAllApplications=function(){var e=Object(l.a)(i.a.mark((function e(t,s,n){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||null===s){e.next=15;break}return n(!0,""),e.prev=2,e.next=5,u.a.get("".concat(D.a.APPLICATION,"/application/").concat(t.position_id,"/").concat(s.session_plan_id));case 5:l=e.sent,a.setState({applicationListData:l.data}),console.log("applicationListData: ",l.data),n(!1,""),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error({error:Object(L.a)(e.t0)}),n(!1,Object(L.a)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,s,a){return e.apply(this,arguments)}}(),a.componentDidMount=function(){if(null!==a.props.schoolLevels.education_categories&&0!==a.props.schoolLevels.education_categories.length||a.props.loadEducationCategories(a.setLoadingState),(null===a.props.sessionPlan.allSessionPlans||a.props.sessionPlan.allSessionPlans.length<=0)&&a.props.GetAllSessionPlans((function(e,t,s){if(a.setLoadingState(e),!e&&t.length>0&&a.props.PushPopupAlert({title:t,theme:k.a.danger}),s&&s.length>0&&null===a.state.selected_period){var n=s.find((function(e){return e.is_active}));n?(a.setState({selected_period:n}),a.setState({selectPeriod:!1,defaultSelectedPeriod:n})):s.length>0?(n=s[s.length-1],a.setState({selected_period:n}),a.setState({selectPeriod:!1,defaultSelectedPeriod:n})):a.setState({selectPeriod:!0})}})),null===a.state.selected_period&&a.props.sessionPlan.allSessionPlans&&a.props.sessionPlan.allSessionPlans.length>0){var e=a.props.sessionPlan.allSessionPlans.find((function(e){return e.is_active}));e?a.setState({selected_period:e,selectPeriod:!1,defaultSelectedPeriod:e}):a.props.sessionPlan.allSessionPlans.length>0?(e=a.props.sessionPlan.allSessionPlans[a.props.sessionPlan.allSessionPlans.length-1],a.setState({selected_period:e,selectPeriod:!1,defaultSelectedPeriod:e})):a.setState({selectPeriod:!0})}null===a.props.positions.positions_list&&a.props.loadAllPositions(a.setLoadingState),null===a.props.positions.selected_position&&a.setState({selectPosition:!0}),a.loadAllApplications(a.props.positions.selected_position,a.state.selected_period,(function(e,t){a.setLoadingState(e),Object(T.e)(t)||a.props.PushPopupAlert({title:t,theme:k.a.warning})})),a.props.positions.selected_position&&a.state.selected_period&&a.setState({reportTitle:a.props.positions.selected_position.position_title+" - Application Report - "+a.state.selected_period.session_plan_name})},a.AdminApplicationStatuses=function(e){var t=[{title:"All",count:e.length,status:"ALL"}],s=function(s){q.includes(E.b[s].key)||t.push({title:E.b[s].caption,count:e.filter((function(e){return e.application_status===E.b[s].key})).length,status:E.b[s].key})};for(var a in E.b)s(a);return t},a.filteredApplications=function(e,t,s){var a=e;return"all"!==s&&null!==e&&(a=e.filter((function(e){return e.position.education_institute_id.education_institute_id===s.education_institute_id}))),null===t||"ALL"===t||null===a?a:a.filter((function(e){return e.application_status===t}))},a.setDownloading=function(e){a.setState({downloading:e})},a.updateApplicationToPrint=function(){if(a.state.applicationListData){var e=[],t=1;for(var s in a.state.applicationListData)if(Object.prototype.hasOwnProperty.call(a.state.applicationListData,s)){var n=a.state.applicationListData[s],i={application_id:t,names:n.fname+" "+n.lname,national_id:n.n_id,gender:"M"===n.sex?"Male":"Female",position:n.position.position_title,phone:n.phone_number,email:n.email,education_category:n.position.education_institute_id.education_category_title,application_session:n.application_session.application_session_id,district:n.district,date:n.createdAt,decision:n.application_status};for(var l in a.state.reportContent)Object.prototype.hasOwnProperty.call(a.state.reportContent,l)&&(a.state.reportContent[l].status||delete i[a.state.reportContent[l].key]);e.push(i),t++}a.setState({applicationsToPrint:e}),e=[],t=1}},a.updateReportContent=function(e){var t=a.state.reportContent.findIndex((function(t){return t.key===e})),s=a.state.reportContent;s[t].status=!s[t].status,a.setState({reportContent:s}),s.find((function(e){return!1===e.status}))?a.setState({selectAll:!1}):a.setState({selectAll:!0}),a.updateApplicationToPrint()},a.generateThisPDF=function(){if(!document.querySelectorAll("#report_content tbody tr").length)return a.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:k.a.warning}),!1;if(a.props.positions.selected_position&&a.state.selected_period){var e=document.getElementById("report_content"),t={doneBy:a.props.auth.user.fname+" "+a.props.auth.user.lname,title:"Applications Report",subjectTitle:"Position",subject:a.props.positions.selected_position.position_title,period:a.state.selected_period.session_plan_name,footer:"Online Recruitment",institute:"all"===a.state.selectedEducationCategory?"All institute":a.state.selectedEducationCategory.education_category_title,orientation:"l"};console.log("===================================="),console.log({table:e}),console.log("===================================="),e&&Object(S.a)(t,e,a.setDownloading)}},a.isChangeAllowed=function(e){return e!==W.names&&e!==W.decision&&e!==W.application_session},a.resetReportContent=function(e){var t=a.state.reportContent;for(var s in t)a.isChangeAllowed(t[s].key)&&(t[s].status=!e);a.setState({reportContent:t,selectAll:!e}),a.updateApplicationToPrint()},a.setSort=function(e){a.state.sortProperty===e&&"ASC"===a.state.sortOrder?a.setState({sortProperty:e,isSorted:!0,sortOrder:"DESC"}):a.setState({sortProperty:e,isSorted:!0,sortOrder:"ASC"})},a.state={loading:!1,defaultSelectedPeriod:null,selectedEducationCategory:"all",selectedApplicationStatus:"ALL",applicationListData:null,selectPosition:!1,selectPeriod:!1,applicationDetailsModal:null,generateReportModal:null,searchInput:"",searchPositionInput:"",reportTitle:"Application Report",selectAll:!0,applicationsToPrint:null,formError:null,reportContent:B,sortProperty:"",isSorted:!1,sortOrder:"ASC",selected_period:null,downloading:!1},a}return Object(o.a)(s,[{key:"componentDidUpdate",value:function(e,t){t.loading!==this.state.loading&&this.updateApplicationToPrint()}},{key:"render",value:function(){var e=this;return Object(U.jsxs)(x.a.Fragment,{children:[Object(U.jsxs)(C.b,{children:[Object(U.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(U.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===this.props.schoolLevels.education_categories?Object(U.jsx)(A.a,{}):0===this.props.schoolLevels.education_categories.length?Object(U.jsx)("span",{children:"No result found"}):Object(U.jsxs)("section",{children:[Object(U.jsxs)("div",{onClick:function(){e.setState({selectedEducationCategory:"all"})},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"===this.state.selectedEducationCategory?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"===this.state.selectedEducationCategory?Object(U.jsx)(O.wb,{}):Object(U.jsx)(O.xb,{}),Object(U.jsx)("span",{children:"ALL"})]}),this.props.schoolLevels.education_categories.map((function(t,s){return Object(U.jsxs)("div",{onClick:function(){e.setState({selectedEducationCategory:t})},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"!==e.state.selectedEducationCategory&&e.state.selectedEducationCategory.education_institute_id===t.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"!==e.state.selectedEducationCategory&&e.state.selectedEducationCategory.education_institute_id===t.education_institute_id?Object(U.jsx)(O.wb,{}):Object(U.jsx)(O.xb,{}),Object(U.jsx)("span",{children:t.education_category_title})]},s+1)}))]})]}),Object(U.jsxs)("div",{className:"",children:[Object(U.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(U.jsxs)("div",{onClick:function(){return e.setState({selectPeriod:!0})},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline  text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:[null!==this.state.selected_period?this.state.selected_period.session_plan_name:"Filter by period",Object(U.jsx)(h.d,{className:"text-3xl text-blue-600"})]})]}),this.props.positions.selected_position&&Object(U.jsxs)("div",{className:"pt-1",children:[Object(U.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Application statuses:"}),null===this.state.applicationListData?Object(U.jsx)(A.a,{}):this.AdminApplicationStatuses(this.state.applicationListData).map((function(t,s){return Object(U.jsx)(b.Fragment,{children:Object(U.jsx)("div",{onClick:function(){return e.setState({selectedApplicationStatus:t.status})},children:Object(U.jsx)(C.a,{title:t.title,count:t.count,active:e.state.selectedApplicationStatus===t.status})})},t.title)}))]})]}),Object(U.jsxs)("section",{children:[Object(U.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(U.jsx)("div",{className:"col-span-8",children:Object(U.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(U.jsx)("span",{className:"text-xl font-bold text-gray-700",children:"Applications Report"}),Object(U.jsxs)("div",{onClick:function(){return e.setState({selectPosition:!0})},className:"flex flex-row gap-2 items-end",children:[Object(U.jsx)("span",{className:"text-gray-500 text-xl",children:"Position:"}),Object(U.jsx)("span",{className:"text-blue-600 font-bold underline cursor-pointer text-3xl",children:null!==this.props.positions.selected_position?this.props.positions.selected_position.position_title:"No position selected, Click to select"})]})]})}),Object(U.jsx)("div",{className:"col-span-4",children:Object(U.jsxs)("div",{className:"float-right mt-2",children:[this.state.applicationsToPrint&&this.state.applicationsToPrint.length>0&&Object(U.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(U.jsx)(j.e,{className:"text-2xl text-gray-500"}),Object(U.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(U.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 ".concat(this.state.downloading&&"cursor-wait"),disabled:this.state.loading||this.state.downloading,onClick:function(){return e.setState({generateReportModal:{reportType:"EXCEL",status:!0}})},children:"EXCEL"}),Object(U.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",onClick:function(){return e.generateThisPDF()},disabled:this.state.loading,children:"PDF"})]}),Object(U.jsxs)("div",{onClick:function(){return e.setState({selectPosition:!0})},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(U.jsx)(j.f,{className:"text-xl"}),"Filter by position"]})]})})]}),Object(U.jsxs)("div",{className:"bg-white my-4",children:[Object(U.jsx)("div",{className:"w-full px-2 py-2",children:Object(U.jsx)("input",{onChange:function(t){return e.setState({searchInput:t.target.value})},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded"})}),Object(U.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(U.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(U.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return e.setSort("fname")},children:Object(U.jsxs)("div",{className:"flex items-center gap-1",children:["Applicant names ",Object(U.jsx)(j.i,{})]})}),Object(U.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(U.jsx)("td",{className:"px-2 py-2",children:"Gender"}),Object(U.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(U.jsx)("td",{className:"px-2 py-2",children:"Position"}),Object(U.jsx)("td",{className:"px-2 py-2",children:"Res. District"}),Object(U.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return e.setSort("application_status")},children:Object(U.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(U.jsx)(j.i,{})]})}),Object(U.jsx)("td",{className:"px-2 py-2",children:"Date"})]})}),Object(U.jsx)("tbody",{children:this.props.positions.selected_position?null===this.state.applicationListData||null===this.filteredApplications(this.state.applicationListData,this.state.selectedApplicationStatus,this.state.selectedEducationCategory)?Object(U.jsx)("tr",{children:Object(U.jsx)("td",{colSpan:9,className:"px-2 py-2",children:Object(U.jsx)(A.a,{})})}):0===this.filteredApplications(this.state.applicationListData,this.state.selectedApplicationStatus,this.state.selectedEducationCategory).length?Object(U.jsx)("tr",{children:Object(U.jsx)("td",{colSpan:9,className:"px-2 py-2",children:Object(U.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(U.jsx)(m.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(U.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"}),Object(U.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(U.jsxs)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:[Object(U.jsx)("li",{onClick:function(){return e.setState({selectPeriod:!0})},className:"underline text-gray-500 cursor-pointer",children:"Filter by period"}),Object(U.jsx)("li",{className:"text-gray-400 italic",children:"or"}),Object(U.jsx)("li",{onClick:function(){return e.setState({selectPosition:!0})},className:"underline text-blue-600 cursor-pointer",children:"Filter by position"})]})})]})})}):Object(M.o)(this.state.isSorted,Object(R.a)(this.filteredApplications(this.state.applicationListData,this.state.selectedApplicationStatus,this.state.selectedEducationCategory),this.state.searchInput),this.state.sortProperty,this.state.sortOrder).map((function(t,s){return Object(U.jsxs)("tr",{onClick:function(){return e.setState({applicationDetailsModal:{selected_application:t,status:!0}})},className:"".concat(s%2!==0?"bg-gray-100":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 cursor-pointer border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(U.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(U.jsxs)("td",{className:"px-2 py-2",children:[t.fname," ",t.lname]}),Object(U.jsx)("td",{className:"px-2 py-2",children:t.n_id}),Object(U.jsx)("td",{className:"px-2 py-2",children:"M"===t.sex?"Male":"Female"}),Object(U.jsx)("td",{className:"px-2 py-2",children:t.phone_number}),Object(U.jsx)("td",{className:"px-2 py-2",children:t.position.position_title}),Object(U.jsx)("td",{className:"px-2 py-2",children:t.district}),Object(U.jsx)("td",{className:"px-2 py-2",children:Object(T.a)(t.application_status)}),Object(U.jsx)("td",{className:"px-2 py-2",children:Object(M.a)(t.createdAt)})]},s+1)})):Object(U.jsx)("tr",{children:Object(U.jsx)("td",{colSpan:9,className:"px-2 py-2",children:Object(U.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(U.jsx)(m.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(U.jsx)("span",{className:"text-sm font-bold",children:"No position selected! Please select position to get data"}),Object(U.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(U.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(U.jsx)("li",{onClick:function(){return e.setState({selectPosition:!0})},className:"underline text-blue-600 cursor-pointer",children:"Choose position"})})})]})})})})]})]})]}),(!0===this.state.selectPosition||!0===this.state.selectPeriod)&&Object(U.jsx)(w.c,{title:Object(U.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[!0===this.state.selectPeriod?Object(U.jsx)(O.M,{className:"text-5xl text-blue-600"}):Object(U.jsx)(g.h,{className:"text-5xl text-blue-600"}),Object(U.jsx)("div",{className:"flex flex-col",children:Object(U.jsx)("span",{className:"font-bold text-xl text-blue-600",children:!0===this.state.selectPeriod?"Choose a period":"Filter by a position"})})]}),backDrop:!0,theme:w.b.default,close:function(){return e.setState({selectPosition:!1,selectPeriod:!1,searchPositionInput:""})},backDropClose:!0,widthSizeClass:w.a.extraLarge,displayClose:!0,padding:{title:!0},children:Object(U.jsx)("div",{className:"px-2 pb-2",children:!0===this.state.selectPeriod?Object(U.jsx)(F.a,{allSession:this.props.sessionPlan.allSessionPlans,setSelectSession:function(t){"all"!==t&&(e.setState({selected_period:t}),e.loadAllApplications(e.props.positions.selected_position,t,(function(t,s){e.setLoadingState(t),Object(T.e)(s)||e.props.PushPopupAlert({title:s,theme:k.a.warning})})),e.setState({selectPeriod:!1,applicationListData:null}))},chooseAll:!1,currentSelected:this.state.selected_period?this.state.selected_period:"all"}):!0===this.state.selectPosition&&null===this.props.positions.positions_list?Object(U.jsx)(P.b,{type:P.a.dark}):0===this.props.positions.positions_list.length?Object(U.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(U.jsx)(O.Hb,{className:"text-6xl"}),Object(U.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(U.jsx)("span",{children:"No positions found! Please go back!"}),Object(U.jsx)(v.b,{to:"/",className:"btn bg-yellow-100 text-yellow-700 my-4 hover:bg-yellow-200",children:"Go back"})]})]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"flex flex-col",children:[Object(U.jsx)("span",{className:"text-gray-600 text-xs font-bold",children:"Filter by position name"}),Object(U.jsx)("input",{onChange:function(t){return e.setState({searchPositionInput:t.target.value})},type:"text",className:"mb-4 bg-gray-100 px-3 py-2 rounded",placeholder:"Keyword..."})]}),Object(R.a)(this.props.positions.positions_list,this.state.searchPositionInput).map((function(t,s){return Object(U.jsx)("div",{onClick:function(){var s;e.props.setSelectedPosition(t),e.loadAllApplications(t,e.state.selected_period?e.state.selected_period:e.state.defaultSelectedPeriod,(function(t,s){e.setLoadingState(t),Object(T.e)(s)||e.props.PushPopupAlert({title:s,theme:k.a.warning})})),e.setState({selectPosition:!1,searchPositionInput:"",applicationListData:null,reportTitle:(null===(s=e.props.positions.selected_position)||void 0===s?void 0:s.position_title)+" - Application Report - "+e.state.selected_period?e.state.selected_period.session_plan_name:e.state.defaultSelectedPeriod?e.state.defaultSelectedPeriod.session_plan_name:""})},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(U.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(U.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(U.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(U.jsx)("div",{children:Object(U.jsx)(f.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(U.jsxs)("div",{className:"flex flex-col",children:[Object(U.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:t.position_title}),Object(U.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(U.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:t.school_level_id.school_level_name})]}),Object(U.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:t.education_institute_id.education_category_title})]})]})}),Object(U.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(U.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(U.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})},s+1)}))]})})}),null!==this.state.applicationDetailsModal&&!0===this.state.applicationDetailsModal.status&&Object(U.jsx)(w.c,{title:Object(U.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(U.jsxs)("div",{className:"flex flex-col",children:[Object(U.jsxs)("span",{className:"font-bold text-2xl text-gray-500",children:[this.state.applicationDetailsModal.selected_application.fname," ",this.state.applicationDetailsModal.selected_application.lname]}),Object(U.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Position:"," ",this.state.applicationDetailsModal.selected_application.position.position_title]})]})}),backDrop:!0,theme:w.b.default,close:function(){return e.setState({applicationDetailsModal:null})},backDropClose:!0,widthSizeClass:w.a.extraLarge,displayClose:!0,padding:{title:!0},children:Object(U.jsx)(V,{selectedApplication:this.state.applicationDetailsModal.selected_application})}),null!==this.state.generateReportModal&&!0===this.state.generateReportModal.status&&Object(U.jsx)(w.c,{title:Object(U.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(U.jsxs)("div",{className:"flex flex-col",children:[Object(U.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(U.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",this.state.generateReportModal.reportType," ","Report"]})]})}),backDrop:!0,theme:w.b.default,close:function(){return e.setState({generateReportModal:null})},backDropClose:!1,widthSizeClass:w.a.medium,displayClose:!0,padding:{title:!0},children:Object(U.jsxs)("div",{className:"px-6",children:[Object(U.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(U.jsxs)("div",{className:"flex flex-col",children:[Object(U.jsx)("label",{children:"Title"}),Object(U.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(this.state.formError&&"report_title"===this.state.formError.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:this.state.reportTitle,onChange:function(t){e.setState({formError:null,reportTitle:t.target.value})},disabled:this.state.loading}),this.state.formError&&"report_title"===this.state.formError.element&&Object(U.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(U.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(U.jsx)("label",{children:"Report content"}),Object(U.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:this.state.reportContent.map((function(t,s){return Object(U.jsxs)("div",{className:"flex items-center gap-1 ".concat(e.isChangeAllowed(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return e.isChangeAllowed(t.key)&&e.updateReportContent(t.key)},title:e.isChangeAllowed(t.key)?"":"Required for every report!",children:[t.status?Object(U.jsx)(O.r,{className:"w-6 h-6 text-blue-700"}):Object(U.jsx)(O.s,{className:"w-6 h-6"}),Object(U.jsx)("span",{children:t.title})]},s)}))}),this.state.formError&&"report_content"===this.state.formError.element&&Object(U.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]})]}),Object(U.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(U.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return e.resetReportContent(e.state.selectAll)},children:[this.state.selectAll?Object(U.jsx)(O.r,{className:"w-6 h-6 text-blue-700"}):Object(U.jsx)(O.s,{className:"w-6 h-6"}),Object(U.jsx)("span",{children:"Select all"})]}),this.state.applicationsToPrint&&!this.state.loading&&Object(U.jsx)(I.a,{fileData:this.state.applicationsToPrint,fileName:this.state.reportTitle,btnName:"Generate"})]})]})})]})}}]),s}(b.Component),J=Object(y.b)((function(e){return{auth:e.auth,positions:e.positions,sessionPlan:e.sessionPlan,schoolLevels:e.schoolLevels}}),{GetAllSessionPlans:_.b,loadAllPositions:N.wc,setSelectedPosition:N.ed,loadEducationCategories:N.Dc,PushPopupAlert:N.Kb})(X)},644:function(e,t,s){"use strict";s.d(t,"e",(function(){return a})),s.d(t,"d",(function(){return n})),s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return l})),s.d(t,"g",(function(){return c})),s.d(t,"f",(function(){return o})),s.d(t,"a",(function(){return r}));var a=function(e){return null===e||null!==e.match(/^ *$/)},n=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},i=function(e,t){return e.find((function(e){return e.education_institute_id===t}))},l=function(e,t){return e.find((function(e){return e.position_id===t}))},c=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=new Array(t+1).join("0");return(s+e).slice(-t)},r=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},647:function(e,t,s){"use strict";s.d(t,"b",(function(){return x})),s.d(t,"a",(function(){return j}));var a=s(24),n=s(23),i=s(26),l=s(25),c=s(5),o=s.n(c),r=s(21),d=s(3),p=s(10),u=s(1),b=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).componentDidMount=function(){return n.props.PageHasSubNav(!0)},n.componentWillUnmount=function(){return n.props.PageHasSubNav(!1)},n.state={loading:!1},n}return Object(n.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(u.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(o.a.Component),x=Object(r.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.Ib,PageHasSubNav:d.Jb})(b),j=function(e){var t=e.title,s=void 0===t?"":t,a=e.icon,n=void 0===a?p.n:a,i=e.active,l=void 0!==i&&i,c=e.count,o=void 0===c?0:c,r=n;return Object(u.jsxs)("section",{className:"".concat(!0===l?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(u.jsxs)("section",{className:"flex-1",children:[Object(u.jsx)(r,{className:"inline-block mr-1 text-xs"}),Object(u.jsx)("span",{children:s})]}),o>0?Object(u.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:o}):null]})}},650:function(e,t,s){"use strict";s.d(t,"c",(function(){return u})),s.d(t,"l",(function(){return b})),s.d(t,"j",(function(){return x})),s.d(t,"b",(function(){return j})),s.d(t,"f",(function(){return h})),s.d(t,"n",(function(){return m})),s.d(t,"k",(function(){return f})),s.d(t,"h",(function(){return g})),s.d(t,"e",(function(){return O})),s.d(t,"a",(function(){return y})),s.d(t,"m",(function(){return v})),s.d(t,"d",(function(){return N})),s.d(t,"g",(function(){return _})),s.d(t,"i",(function(){return S}));var a=s(4),n=s.n(a),i=s(7),l=s(8),c=s.n(l),o=s(6),r=s(9),d=s(15),p=s(13),u=function(e){return e(!0,""),function(){var t=Object(i.a)(n.a.mark((function t(s){var a,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,c.a.get("".concat(r.a.CLAIMING,"/session-type"));case 4:a=t.sent,console.log({GET_PLANS_TYPES:a.data}),i=[],200===a.status&&null!==a.data&&a.data.length>0&&(i=a.data),s({type:o.a.GET_PLANS_TYPES,payload:i}),e(!1,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error({error:Object(p.a)(t.t0)}),e(!1,Object(p.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return console.log({thisType:e}),{type:o.a.SELECT_PLAN_TYPE,payload:e}},x=function(e){return e(!0,""),function(){var t=Object(i.a)(n.a.mark((function t(s){var a,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,c.a.get("".concat(r.a.CLAIMING,"/session/active/"));case 4:a=t.sent,console.log({GET_ACTIVE_SESSION_PLANS:a.data}),i=void 0,a.data&&void 0!==a.data.is_active&&(i=a.data),console.log({session_plan:a.data}),s({type:o.a.GET_ACTIVE_SESSION_PLANS,payload:i||"none"}),e(!1,"",i||"none"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error({error:Object(p.a)(t.t0)}),e(!1,Object(p.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return e(!0,""),function(){var t=Object(i.a)(n.a.mark((function t(s){var a,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,c.a.get("".concat(r.a.CLAIMING,"/session/"));case 4:a=t.sent,console.log({GET_ALL_SESSION_PLANS:a.data}),i=[],200===a.status&&null!==a.data&&a.data.length>0&&(i=a.data),s({type:o.a.GET_ALL_SESSION_PLANS,payload:i}),e(!1,"",i),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error({error:Object(p.a)(t.t0)}),e(!1,Object(p.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return{type:o.a.CREATE_SESSION_PLAN,payload:e}},m=function(e){return{type:o.a.UPDATE_SESSION_PLAN,payload:e}},f=function(e){return{type:o.a.SESSION_ACTIVATION,payload:e}},g=function(e){return{type:o.a.DELETE_SESSION_PLAN,payload:e}},O=function(e){return{type:o.a.CREATE_ACADEMIC_SESSION,payload:e}},y=function(e){return e(!0,""),function(){var t=Object(i.a)(n.a.mark((function t(s){var a,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,c.a.get("".concat(r.a.PLACEMENT,"/postrequestperiod/"));case 4:a=t.sent,console.log({GET_ALL_SESSION_PLANS:a.data}),i=[],200===a.status&&null!==a.data&&a.data.length>0&&(i=a.data),console.log("===================================="),console.log({GetAllAcademicSession:a}),console.log("===================================="),s({type:o.a.GET_ALL_ACADEMIC_SESSION,payload:i}),e(!1,"",i),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.error({error:Object(p.a)(t.t0)}),e(!1,Object(p.a)(t.t0));case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return{type:o.a.UPDATE_ACADEMIC_SESSION,payload:e}},N=function(e){return{type:o.a.ACADEMIC_SESSION_ACTIVATION,payload:e}},_=function(e){return{type:o.a.DELETE_ACADEMIC_SESSION,payload:e}},S=function(e){return e(!0,""),function(){var t=Object(i.a)(n.a.mark((function t(s){var a,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,c.a.get("".concat(r.a.PLACEMENT,"/postrequestperiod/one"));case 4:a=t.sent,console.log({GET_ACTIVE_ACADEMIC_SESSION:a.data}),i=void 0,a.data&&(i=a.data),console.log({session_plan:a.data}),s({type:o.a.GET_ACTIVE_ACADEMIC_SESSION,payload:i||"none"}),e(!1,"",i||"none"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error({error:Object(p.a)(t.t0)}),e(!1,Object(p.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}},668:function(e,t,s){"use strict";s(5);var a=s(704),n=s(705),i=s(40),l=s(1);t.a=function(e){var t=e.fileData,s=e.fileName,c=e.btnName,o=void 0===c?"Excel":c,r=e.className,d=void 0===r?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":r,p=e.showIcon,u=void 0===p||p;return Object(l.jsxs)("button",{onClick:function(e){return function(e,t){var s={Sheets:{data:n.utils.json_to_sheet(e)},SheetNames:["data"]},i=n.write(s,{bookType:"xlsx",type:"array"}),l=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});a.saveAs(l,t+".xlsx")}(t,s)},className:d,children:[u&&Object(l.jsx)(i.j,{}),o]})}},669:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var a=s(4),n=s.n(a),i=s(7),l=s(698),c=s(43),o=s.p+"static/media/mineduc.11a9ae1c.png";s(703);var r=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var s=1;s<=t;s++)e.setPage(s),e.text("Page "+String(s)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},d=function(){var e=Object(i.a)(n.a.mark((function e(t,s,a){var i,d,p,u,b,x,j,h;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a(!0),i=t.orientation?t.orientation:"p",d=20,20,185,(p=new l.default(i,"mm","a4")).setTextColor(95,95,95),p.setFontSize(28),p.addImage(o,"png",20,20,10,10),p.text("MINEDUC",32,28.5,void 0,"left"),p.setFontSize(26),p.text(t.title,p.internal.pageSize.getWidth()/2,42.7,void 0,"center"),p.setFontSize(20),p.text(t.institute,p.internal.pageSize.getWidth()/2,53.7,void 0,"center"),u=p.splitTextToSize(t.subject,145),p.setFontSize(16),b=63,p.setTextColor(95,95,95),p.text("".concat(t.subjectTitle,": "),d,b),x=p.getTextWidth("".concat(t.subjectTitle,": ")),p.setTextColor(38,38,38),j=0;j<u.length;j++)b>280&&(b=10,p.addPage()),p.text(u[j],d+x,b),b+=7;return p.setTextColor(95,95,95),p.text("Period: ",d,b+3),x=p.getTextWidth("Period: "),p.setTextColor(38,38,38),p.text(t.period,d+x,b+3),p.autoTable({html:s,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),p.setFontSize(12),h=p.lastAutoTable.finalY,p.text("Reported by: ".concat(t.doneBy),d,h+15),p.text("Report downloaded on "+Object(c.a)((new Date).toString()),d,h+23),r(p),e.next=35,p.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"),{returnPromise:!0}).then(a(!1));case 35:case"end":return e.stop()}}),e)})));return function(t,s,a){return e.apply(this,arguments)}}()},678:function(e,t,s){"use strict";var a=s(18),n=s(11),i=s(37),l=s(5),c=s.n(l),o=s(10),r=s(33),d=s(16),p=s(43),u=s(44),b=s(1),x=function(e){var t,s=new Date,a=[],l=Object(i.a)(e);try{for(l.s();!(t=l.n()).done;){var c=t.value,o=new Date(c.start_date),r=new Date(c.end_date);o.getTime()<=s.getTime()&&r.getTime()>=s.getTime()&&c.type_status===d.j.OPEN&&(a=[].concat(Object(n.a)(a),[c]))}}catch(p){l.e(p)}finally{l.f()}return a},j=function(e){var t,s,n=Object(l.useState)(null),i=Object(a.a)(n,2),c=i[0],d=i[1],j=Object(l.useState)(""),h=Object(a.a)(j,2),m=h[0],f=h[1];return Object(b.jsxs)("div",{className:"",children:[Object(b.jsx)("div",{className:"px-3",children:Object(b.jsx)("input",{onChange:function(e){return f(e.target.value)},type:"text",className:"py-3 px-4 w-full rounded border border-gray-400 mb-3",placeholder:"Search by year, name",disabled:null===e.allSession||0===e.allSession.length})}),Object(b.jsx)("div",{className:"bg-gray-100 px-3 pt-3 pb-2 rounded-b",children:null===e.allSession?Object(b.jsx)(r.a,{}):0===e.allSession.length?Object(b.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center mb-2 bg-white py-4",children:[Object(b.jsx)(o.Hb,{className:"text-6xl"}),Object(b.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(b.jsx)("span",{children:"No session found!"})})]}):Object(b.jsxs)("section",{children:[e.chooseAll&&Object(b.jsxs)("div",{className:"rounded border ".concat("all"===e.currentSelected?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2 flex flex-col md:flex-row items-start md:items-center md:justify-between"),children:[Object(b.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"===e.currentSelected?Object(b.jsx)(o.t,{className:"text-blue-500 text-4xl"}):Object(b.jsx)(o.xb,{className:"text-gray-300 text-4xl"}),Object(b.jsx)("div",{className:"flex flex-col",children:Object(b.jsx)("div",{className:"text-gray-600 font-bold",children:"All session"})})]}),Object(b.jsx)("div",{onClick:function(){e.setSelectSession("all")},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"})]}),(t=e.allSession,s=m,Object(u.a)(t,s)).map((function(t,s){return Object(b.jsxs)("div",{className:"rounded border ".concat("all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2"),children:[Object(b.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between ",children:[Object(b.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?Object(b.jsx)(o.t,{className:"text-blue-500 text-4xl"}):Object(b.jsx)(o.xb,{className:"text-gray-300 text-4xl"}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("div",{className:"".concat("all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?"text-blue-600":"text-gray-600"," font-bold"),children:t.session_plan_name}),Object(b.jsxs)("div",{className:"text-sm text-gray-500",children:[Object(b.jsx)("span",{children:"Status: "}),Object(b.jsx)("span",{className:"".concat(!0===t.is_active?"text-gray-900 font-bold underline":"text-gray-500 italic"),children:!0===t.is_active?"Active":"Expired"})]})]})]}),Object(b.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(null===c||c.session_plan_id!==t.session_plan_id)&&Object(b.jsx)("div",{onClick:function(){return d(t)},className:"bg-gray-50 group-hover:bg-blue-100 font-semibold text-gray-400 group-hover:text-blue-600 rounded px-3 py-2 cursor-pointer",children:"Details"}),Object(b.jsx)("div",{onClick:function(){e.setSelectSession(t)},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"}),null!==c&&c.session_plan_id===t.session_plan_id&&Object(b.jsx)("div",{onClick:function(){return d(null)},className:"bg-red-100 group-hover:bg-red-200 font-semibold text-red-600 group-hover:text-red-800 rounded px-3 py-2 cursor-pointer",children:"Close"})]})]}),null!==c&&c.session_plan_id===t.session_plan_id&&Object(b.jsx)("div",{className:"bg-white rounded border border-blue-50 mt-2 animate__animated animate__fadeIn",children:Object(b.jsxs)("table",{className:"w-full",children:[Object(b.jsx)("thead",{className:"bg-blue-50",children:Object(b.jsxs)("tr",{className:"text-left",children:[Object(b.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(b.jsx)("th",{children:"Plan"}),Object(b.jsx)("th",{children:"Start date"}),Object(b.jsx)("th",{children:"Ending date"}),Object(b.jsx)("th",{children:"Status"})]})}),Object(b.jsx)("tbody",{className:"text-sm",children:null!==c&&c.session_plan_id===t.session_plan_id&&c.plans.length>0&&t.plans.map((function(e,s){return Object(b.jsxs)("tr",{className:"".concat(void 0!==x(t.plans).find((function(t){return t.type_key===e.type_key}))?"bg-blue-100 text-blue-600 font-bold":""," text-left border-b border-blue-50"),children:[Object(b.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(b.jsx)("td",{children:e.type_title}),Object(b.jsx)("td",{children:Object(p.a)(e.start_date,"DD/MM/YYYY")}),Object(b.jsx)("td",{children:Object(p.a)(e.end_date,"DD/MM/YYYY")}),Object(b.jsx)("td",{children:e.type_status})]},s+1)}))})]})})]},s+1)}))]})})]})};t.a=c.a.memo(j)},699:function(e,t){},706:function(e,t){},707:function(e,t){},802:function(e,t,s){"use strict";t.a=s.p+"static/media/profile.a9136072.png"}}]);
//# sourceMappingURL=36.d7906478.chunk.js.map