(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[43],{1336:function(e,t,n){"use strict";n.r(t),n.d(t,"Index",(function(){return T}));var a,s=n(17),c=n(4),r=n.n(c),o=n(34),i=n(5),l=n.n(i),u=n(7),d=n(204),b=n(23),m=n(3),x=n(33),f=n(10),p=n.n(f),j=n(9),h=n(21),g=n(686),y=n(14),O=n(95),v=n(32),w=n(711),S=n(38),N=n(88),_=n(1),E=r.a.memo(Object(b.b)((function(e){return{auth:e.auth,system_settings:e.system_settings.systemSettings}}),{getSystemSettings:g.f,disableSystemSetting:g.d,PushPopupAlert:m.Rb})((function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(""),i=Object(s.a)(o,2),b=i[0],f=i[1],g=Object(c.useState)(""),E=Object(s.a)(g,2),T=E[0],k=E[1],I=Object(c.useState)(""),A=Object(s.a)(I,2),P=A[0],L=A[1],D=Object(c.useState)("enabled"),R=Object(s.a)(D,2),C=R[0],G=R[1],M=function(){var t=Object(u.a)(l.a.mark((function t(n,a,s){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(n),t.prev=1,t.next=4,p.a.patch("".concat(j.a.AUTH,"/settings"),{setting_id:n,status:a});case 4:c=t.sent,e.disableSystemSetting({system_setting_id:n,status:a}),e.PushPopupAlert({title:"".concat(s," ").concat(a," successfully"),theme:h.a.success}),console.log("Deleted: ",c),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.error("err: ",t.t0),e.PushPopupAlert({title:Object(y.a)(t.t0),theme:h.a.danger});case 14:f("");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n,a){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){!0===Object(m.g)(e.auth,N.a.SYSTEM_SETTINGS).view&&(null!==e.system_settings&&0!==e.system_settings.length||e.getSystemSettings((function(t,n){r(t),n.length&&e.PushPopupAlert({title:n,theme:h.a.danger})})))}),[e,r]),!1===Object(m.g)(e.auth,N.a.SYSTEM_SETTINGS).view?Object(_.jsx)(S.a,{to:"/apps-page"}):Object(_.jsxs)(c.Fragment,{children:[Object(_.jsxs)("div",{className:"mt-1",children:[Object(_.jsx)("div",{className:"flex flex-row justify-between items-center bg-gray-100 py-1",children:Object(_.jsx)("div",{className:"text-blue-600 font-extrabold text-xl px-2",children:"System Settings"})}),Object(_.jsx)("div",{className:"flex flex-col",children:null===e.system_settings||!0===a?Object(_.jsx)(x.a,{}):0===e.system_settings.length?Object(_.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(_.jsx)(d.l,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(_.jsx)("span",{children:"No settings available"})]}):e.system_settings.map((function(e,t){return Object(_.jsxs)("div",{className:"border flex flex-row px-3 py-2 rounded items-start my-1 justify-between",children:[Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("span",{className:"text-gray-600 font-bold",children:e.name}),Object(_.jsx)("span",{className:"text-xs pr-5 text-gray-500",children:e.key}),Object(_.jsx)("span",{className:"text-xs pr-5 ".concat("disabled"===e.status?"text-red-700":"text-green-700"),children:Object(v.a)(e.status)})]}),Object(_.jsx)("div",{className:"flex flex-row items-center gap-2",children:Object(_.jsxs)("div",{className:"relative ".concat(b.length>0?"cursor-not-allowed":"cursor-pointer"," flex items-center gap-1"),onClick:function(){!b.length&&k(e.system_setting_id),!b.length&&L(e.name),!b.length&&G("disabled"===e.status?"enabled":"disabled")},children:[Object(_.jsx)("span",{className:"block w-14 h-8 bg-gray-100 rounded-full shadow-inner"}),Object(_.jsx)("span",{className:"absolute block w-6 h-6 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-500 ease-in-out ".concat("disabled"===e.status?"bg-red-500":"bg-green-500 transform translate-x-full")}),b===e.system_setting_id?Object(_.jsx)(O.c,{className:"animate__animated animate__rotateIn animate__infinite"}):Object(_.jsx)("span",{className:"text-lg font-mono",children:"disabled"===e.status?"Off ":"On"})]})})]},t+e.system_setting_id)}))})]}),!Object(v.f)(T)&&Object(_.jsx)(w.b,{modalType:w.a.OTHER,confirmFun:function(){return M(T,C,P)},setModalAction:function(e){!e&&k(""),!e&&L(""),!e&&G("enabled")},description:"Do you really want to ".concat("enabled"===C?"enable":"disable"," this setting?")})]})})));!function(e){e.systemSettings="systemSettings"}(a||(a={}));var T=function(){var e=[{settingType:a.systemSettings,caption:"System Settings"}],t=Object(c.useState)(a.systemSettings),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(_.jsxs)("div",{className:"",children:[Object(_.jsx)("div",{className:"mt-3 rounded flex flex-row justify-between items-center",children:Object(_.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(_.jsx)(o.n,{className:"text-6xl text-blue-600"}),Object(_.jsx)("div",{className:"flex flex-col",children:Object(_.jsx)("span",{className:"text-blue-600 text-2xl font-bold",children:"Settings"})})]})}),Object(_.jsx)("div",{className:"mt-3 mb-6 flex-col",children:Object(_.jsxs)("div",{className:"bg-white w-full border border-white rounded",children:[Object(_.jsx)("div",{className:"flex flex-row items-center",children:e.map((function(e,t){return Object(_.jsx)("div",{onClick:function(){return i(e.settingType)},className:"animate__animated ".concat(r===e.settingType?"bg-blue-100 border-blue-600 text-blue-600 animate__zoomIn":"bg-white border-white text-gray-600"," hover:bg-blue-100 px-4 py-2 cursor-pointer font-bold border-b-4 hover:border-blue-600 hover:text-blue-600 rounded-t mt-1 mx-1"),children:e.caption},t)}))}),Object(_.jsx)("div",{className:"=rounded mx-1 mb-1",children:r===a.systemSettings&&Object(_.jsx)(E,{})})]})})]})}},686:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n(5),s=n.n(a),c=n(7),r=n(10),o=n.n(r),i=n(6),l=n(9),u=n(16),d=n(14),b="".concat(l.a.AUTH,"/auth/user/access"),m=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,o.a.get("".concat(l.a.AUTH,"/system/setting"));case 5:a=t.sent,console.log("=================getSystemSettings==================="),console.log(a),console.log("=================getSystemSettings==================="),n({type:i.a.GET_SYSTEM_SETTINGS,payload:a.data}),e(!1,""),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,o.a.get("".concat(b,"/roleaccess"));case 5:a=t.sent,c=a.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),n({type:i.a.GET_TASK_ACCESS,payload:c}),e(!1,"",c),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,o.a.get("".concat(l.a.APPLICATION,"/position"));case 5:a=t.sent,n({type:i.a.GET_POSTIONS,payload:a.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return console.log({deletePosition:e}),function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(c.a)(s.a.mark((function n(a){var c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(!0,""),n.prev=1,Object(u.b)(),n.next=5,o.a.get("".concat(l.a.APPLICATION,"/position/instituteposition/").concat(e));case 5:c=n.sent,a({type:i.a.GET_POSTIONS,payload:c.data}),t(!1,"",c.data),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log({code_error:n.t0}),t(!1,Object(d.a)(n.t0));case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}},711:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,s=n(206),c=n(743),r=n(12),o=n(1);!function(e){e.RESTORE_DELETE="restore_delete",e.DELETE="delete",e.INFO="info",e.OTHER="other"}(a||(a={}));t.b=function(e){return Object(o.jsxs)("div",{className:"min-w-screen h-screen animated fadeIn faster  fixed  left-0 top-0 flex justify-center items-center inset-0 z-50 outline-none focus:outline-none bg-no-repeat bg-center bg-cover",id:"modal-id",children:[Object(o.jsx)("div",{className:"absolute bg-black opacity-80 inset-0 z-0"}),Object(o.jsx)("div",{className:"w-full  max-w-lg p-5 relative mx-auto my-auto rounded-xl shadow-lg bg-white animate__animated animate__zoomIn animate__faster",children:Object(o.jsxs)("div",{className:"",children:[Object(o.jsxs)("div",{className:"text-center p-5 flex-auto justify-center",children:[e.modalType===a.DELETE||e.modalType===a.RESTORE_DELETE&&Object(o.jsx)(s.a,{className:"w-4 h-4 -m-1 flex items-center text-red-500 mx-auto"}),e.modalType===a.DELETE?Object(o.jsx)(r.E,{className:"w-16 h-16 flex items-center text-red-500 mx-auto"}):e.modalType===a.RESTORE_DELETE?Object(o.jsx)(r.Lb,{className:"w-16 h-16 flex items-center text-yellow-800 mx-auto"}):e.modalType===a.INFO?Object(o.jsx)(c.a,{className:"w-16 h-16 flex items-center text-blue-500 mx-auto"}):Object(o.jsx)(c.a,{className:"w-16 h-16 flex items-center text-yellow-500 mx-auto"}),Object(o.jsx)("h2",{className:"text-xl font-bold py-4 ",children:"Are you sure?"}),Object(o.jsx)("p",{className:"text-sm text-gray-500 px-8",children:e.description})]}),Object(o.jsxs)("div",{className:"p-3  mt-2 text-center space-x-4 md:block",children:[Object(o.jsx)("button",{className:"mb-2 md:mb-0 bg-white px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-gray-600 rounded-full hover:shadow-lg hover:bg-gray-100",onClick:function(){return e.setModalAction(!1)},children:"Cancel"}),Object(o.jsx)("button",{className:"mb-2 md:mb-0 border px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg ".concat(e.modalType===a.DELETE?"border-red-500 hover:bg-red-600 bg-red-500":e.modalType===a.RESTORE_DELETE?"border-yellow-700 hover:bg-yellow-800 bg-yellow-700":e.modalType===a.INFO?"border-blue-500 hover:bg-blue-600 bg-blue-500":"border-yellow-500 hover:bg-yellow-600 bg-yellow-500"),onClick:function(){e.confirmFun(),e.setModalAction(!1)},children:"Confirm"})]})]})})]})}}}]);
//# sourceMappingURL=43.22430ec9.chunk.js.map