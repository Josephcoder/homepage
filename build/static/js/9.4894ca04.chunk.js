(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[9],{785:function(e,t,s){"use strict";var r=s(17),o=s(4),a=s(33),n=s(23),i=s(3),l=(s(207),s(786)),c=s(39),u=s(1),d=Object(n.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes}}),{loadCourses:i.Hc,loadSchoolLevels:i.Rc,loadEducationCategories:i.Jc,setSelectedEducationCategory:i.hd,setSelectedSchoolLevel:i.od,setUploadedQuestions:i.qd,setSelectedCourse:i.gd,loadQuestionTypes:i.Qc})((function(e){var t=Object(o.useState)(!1),s=Object(r.a)(t,2),n=s[0],i=s[1],d=Object(o.useState)(""),p=Object(r.a)(d,2),m=p[0],b=p[1],x=Object(o.useState)(""),h=Object(r.a)(x,2),f=h[0],j=h[1],g=function(e,t,s){var r=s;if(""!==e&&""!==t){var o=s.filter((function(t){return t.type===e}));o.length>0&&(r=o.filter((function(e){return e.chapters.find((function(e){return e===t}))})))}else""!==e?r=s.filter((function(t){return t.type===e})):""!==t&&(r=s.filter((function(e){return e.chapters.find((function(e){return e===t}))})));return r};return Object(o.useEffect)((function(){null!==e.questionTypes.questionTypes&&0!==e.questionTypes.questionTypes.length||e.loadQuestionTypes(i)}),[e]),Object(u.jsxs)("div",{className:"bg-white animate__animated animate__fadeInLeft animate__fast px-2 py-2 gap-3 mb-2 rounded",children:[Object(u.jsxs)("div",{className:"flex flex-row items-center mb-4 gap-2 bg-blue-100 px-2 py-2 -mx-2",children:[Object(u.jsxs)("div",{className:"flex flex-col w-full",children:[Object(u.jsx)("span",{className:"text-gray-700 text-sm font-bold",children:"Question Type"}),null===e.questionTypes.questionTypes?Object(u.jsx)(a.a,{}):0===e.questionTypes.questionTypes.length?Object(u.jsx)("div",{children:"No Question types found!"}):Object(u.jsxs)("select",{onChange:function(e){b(e.target.value)},className:"input-white border border-gray-400",children:[Object(u.jsx)("option",{value:"",children:"Choose Question type"}),e.questionTypes.questionTypes.map((function(e,t){return Object(u.jsx)("option",{value:e.id,children:e.title},t+1)}))]})]}),Object(u.jsxs)("div",{className:"flex flex-col w-full",children:[Object(u.jsx)("span",{className:"text-gray-700 text-sm font-bold",children:"Question Chapters"}),void 0===e.selectedCourse.chapters?Object(u.jsx)("div",{children:"Not found!"}):0===e.selectedCourse.chapters.length?Object(u.jsx)("div",{className:"text-yellow-700",children:"No Question chapters found!"}):Object(u.jsxs)("select",{onChange:function(e){j(e.target.value)},className:"input-white border border-gray-400",children:[Object(u.jsx)("option",{value:"",children:"Choose Chapter"}),e.selectedCourse.chapters.map((function(e,t){return Object(u.jsx)("option",{value:e.id,children:e.name},t+1)}))]})]})]}),!0===n?Object(u.jsx)(a.a,{}):0===g(m,f,e.questionsList.filter((function(t){return t.course===e.selectedCourse.course_id}))).length?Object(u.jsxs)("div",{className:"text-yellow-700 font-bold flex flex-col",children:[Object(u.jsx)("div",{children:"No questions uploaded!"})," ",Object(u.jsx)(c.b,{className:"btn bg-blue-600 text-white mt-4 w-max",to:"/upload-questions",children:"Upload Questions"})]}):g(m,f,e.questionsList.filter((function(t){return t.course===e.selectedCourse.course_id}))).map((function(t,s){return Object(u.jsx)(l.a,{question:t,callBack:e.callBack,status:!!e.questionPaper.find((function(e){return e.question_id===t.question_id})),questionTypes:e.questionTypes,select:!0,number:s+1,questionsList:e.questionsList},s+1)}))]})}));t.a=d},786:function(e,t,s){"use strict";var r=s(17),o=s(4),a=s(123),n=s(67),i=s(77),l=s(12),c=s(754),u=s(19),d=s(128),p=s(1);t.a=function(e){var t,s=Object(o.useState)(!1),m=Object(r.a)(s,2),b=m[0],x=m[1],h=Object(o.useState)(null),f=Object(r.a)(h,2),j=f[0],g=f[1];return Object(p.jsxs)(o.Fragment,{children:[!1===b?Object(p.jsx)("div",{onClick:function(){return!0===e.select&&e.callBack(e.question)},className:"bg-gray-50 cursor-pointer rounded border border-gray-200 px-3 py-2 text-gray-700 hover:text-blue-600 flex flex-row items-center justify-between gap-4 ".concat(!0===e.select?"hover:bg-blue-50":"hover:bg-white"," hover:border-blue-600 mb-3"),children:Object(p.jsxs)("div",{className:"flex flex-row items-center justify-between w-full gap-2 md:gap-10",children:[Object(p.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full truncate",children:[Object(p.jsx)("div",{children:!1===e.select?Object(p.jsxs)("div",{className:"font-bold text-blue-600",children:["(",e.number,")"]}):!0===e.status?Object(p.jsx)(n.a,{className:"text-xl text-blue-600"}):Object(p.jsx)(n.b,{className:"text-xl text-blue-600"})}),Object(p.jsxs)("div",{className:"flex flex-col",children:[Object(p.jsx)("span",{className:"text-xs text-blue-600 font-bold w-max",children:e.questionTypes.questionTypes&&(null===(t=e.questionTypes.questionTypes.find((function(t){return t.id&&t.id===e.question.type})))||void 0===t?void 0:t.title)}),Object(p.jsx)("span",{className:"font-bold",children:e.question.question[0].title}),Object(p.jsx)("div",{className:"w-full text-xs",dangerouslySetInnerHTML:{__html:e.question.question[0].description}})]})]}),!1===e.select&&Object(p.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(p.jsx)("div",{onClick:function(){return g(e.question)},className:"bg-gray-50 hover:bg-gray-200 rounded-full px-1 py-1 cursor-pointer",children:Object(p.jsx)(a.d,{className:"text-3xl text-gray-700"})}),Object(p.jsx)("div",{onClick:function(){return x(!0)},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 cursor-pointer",children:Object(p.jsx)(l.F,{className:"text-3xl text-blue-700"})}),Object(p.jsx)("div",{onClick:function(){return!1===e.select&&e.callBack(e.question)},className:"bg-gray-100 hover:bg-red-100 rounded-full px-1 py-1 cursor-pointer",children:Object(p.jsx)(i.p,{className:"text-3xl text-yellow-700"})})]})]})}):Object(p.jsx)("div",{className:"pt-0 fixed top-0 z-50 left-0 h-full overflow-scroll animate__animated animate__zoomIn shadow-xl bg-white w-full",children:Object(p.jsx)(c.b,{selectedQuestion:e.question,questionsList:e.questionsList,unSelectQuestion:function(){x(!1)}})}),null!==j&&Object(p.jsx)(u.d,{title:Object(p.jsx)("div",{className:"text-2xl font-extrabold text-blue-600",children:"Question preview"}),backDrop:!0,theme:u.c.default,close:function(){return g(null)},backDropClose:!0,widthSizeClass:u.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(p.jsx)(d.b,{questionAnswers:[],answerQuestionFn:function(e){},selectedQuestion:j,setSelectedQuestion:g,preview:!0,submitQuestionAnswer:!1})})]})}},798:function(e,t,s){"use strict";var r;s.d(t,"c",(function(){return r})),s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return o})),function(e){e.ABC="ABC",e.abc="abc",e.NUMBER="NUMBER",e.I="I"}(r||(r={}));var o,a=function(e){switch(e){case r.ABC:return"A,B,C";case r.abc:return"a,b,c";case r.I:return"i, ii, iii";case r.NUMBER:return"1,2,3"}},n=[{key:r.NUMBER,value:a(r.NUMBER)},{key:r.ABC,value:a(r.ABC)},{key:r.abc,value:a(r.abc)},{key:r.I,value:a(r.I)}];!function(e){e.Created="Created",e.Editing="Editing",e.Paused="Paused",e.Removed="Removed",e.Done="Done"}(o||(o={}))},814:function(e,t,s){"use strict";s.r(t),s.d(t,"getHoursList",(function(){return z})),s.d(t,"getMinutesList",(function(){return H})),s.d(t,"PrepareActionTypes",(function(){return r})),s.d(t,"PrepareExam",(function(){return G}));var r,o=s(5),a=s.n(o),n=s(2),i=s(7),l=s(18),c=s(25),u=s(24),d=s(27),p=s(26),m=s(11),b=s(4),x=s(747),h=s(19),f=s(23),j=s(3),g=s(161),v=s(785),O=s(33),_=s(786),y=s(76),E=s(9),S=s(10),N=s.n(S),w=s(42),q=s(798),C=s(37),P=s(39),k=s(21),T=s(754),L=s(12),Q=s(756),B=s.n(Q),R=(s(748),s(823)),A=s(824),I=s(162),M=s(34),D=s(28),U=s(106),F=s(1),z=function(){for(var e=[],t=0;t<=24;t++)e=[].concat(Object(m.a)(e),[t]);return e},H=function(){for(var e=[],t=0;t<=59;t++)e=[].concat(Object(m.a)(e),[t]);return e};!function(e){e.Prepare="Prepare",e.EditExam="EditExam"}(r||(r={}));var J=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var o;return Object(c.a)(this,s),(o=t.call(this,e)).changeActionType=function(e){o.setState({actionType:e})},o.changeProctoringRule=function(e){if(void 0!==o.state.proctoringRules.find((function(t){return t.rule===e}))){var t,s=[],r=Object(l.a)(o.state.proctoringRules);try{for(r.s();!(t=r.n()).done;){var a=t.value;s=a.rule===e?[].concat(Object(m.a)(s),[{rule:e,status:!a.status,caption:a.caption}]):[].concat(Object(m.a)(s),[a])}}catch(n){r.e(n)}finally{r.f()}o.setState({proctoringRules:s})}},o.setLoading=function(e){o.setState({loading:e})},o.addQuestionToPaper=function(e){o.props.addExamQuestion(e)},o.removeToQuestionPaper=function(e){window.confirm("Are you sure do you want to remove question to question paper?")&&o.props.addExamQuestion(e)},o.showPeriodFilter=function(e){o.setState({selectPeriod:e})},o.setStep=function(e){if(e===R.a.Step2){if(null===o.props.periods.selected_period||!1===o.props.periods.selected_period.is_active)return o.setState({formErr:{element:"period",msg:"Please select valid period!"},selectPeriod:!0});if(null===o.props.course.selected_course)return o.setState({formErr:{element:"course",msg:"Please select a course!"},selectCourse:!0});if(0===o.props.prepareExam.questions.length)return o.setState({formErr:{element:"questions",msg:"Please choose questions"}})}o.setState({currentStep:e})},o.StepStatus=function(e){if(e===R.a.Step1){if(null===o.props.periods.selected_period||!1===o.props.periods.selected_period.is_active)return!1;if(null===o.props.course.selected_course)return!1;if(0===o.props.prepareExam.questions.length)return!1}if(e===R.a.Step2){if(""===o.state.exam_date)return!1;if(""===o.state.start_time)return!1;if(""===o.state.end_time)return!1;if(0===o.state.duration_hours&&0===o.state.duration_minutes)return!1;if(o.state.questions_per_page<1)return!1;if(""===o.state.number_format)return!1;if(""===o.state.discription)return!1;if(""===o.state.termes)return!1}return!0},o.chooseCourse=function(e){var t=!1;if(0!==o.props.prepareExam.questions.length&&(t=window.confirm("Are you sure do you want to change course? You will loose your selected questions")),!0===t){var s,r=Object(l.a)(o.props.prepareExam.questions);try{for(r.s();!(s=r.n()).done;){var a=s.value;o.props.addExamQuestion(a)}}catch(n){r.e(n)}finally{r.f()}o.props.setSelectedCourse(e),o.setState({currentStep:R.a.Step1})}0===o.props.prepareExam.questions.length&&o.props.setSelectedCourse(e),o.setState({selectCourse:!1}),null!==e&&o.props.loadQuestionBank(e.course_id,o.setLoading)},o.examQuestionsIds=function(e){var t,s=[],r=Object(l.a)(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;s=[].concat(Object(m.a)(s),[o.question_id])}}catch(a){r.e(a)}finally{r.f()}return s},o.submitExamPreparation=Object(i.a)(a.a.mark((function e(){var t,s,r,i,c,u,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.setState({formErr:null}),null!==o.props.periods.selected_period&&!1!==o.props.periods.selected_period.is_active){e.next=3;break}return e.abrupt("return",o.setState({formErr:{element:"period",msg:"Please select valid period!"},selectPeriod:!0}));case 3:if(null!==o.props.course.selected_course){e.next=5;break}return e.abrupt("return",o.setState({formErr:{element:"course",msg:"Please select a course!"},selectCourse:!0}));case 5:if(""!==o.state.exam_date){e.next=7;break}return e.abrupt("return",o.setState({formErr:{element:"exam_date",msg:"Please choose exam date"}}));case 7:if(""!==o.state.start_time){e.next=9;break}return e.abrupt("return",o.setState({formErr:{element:"start_time",msg:"Please fill exam start time"}}));case 9:if(!1!==Object(D.t)(o.state.start_time,o.state.end_time)){e.next=11;break}return e.abrupt("return",o.setState({formErr:{element:"end_time",msg:"Please end time should be greater than start time"}}));case 11:if(""!==o.state.end_time){e.next=13;break}return e.abrupt("return",o.setState({formErr:{element:"end_time",msg:"Please fill exam ending time"}}));case 13:if(0!==o.state.duration_hours||0!==o.state.duration_minutes){e.next=15;break}return e.abrupt("return",o.setState({formErr:{element:"duration_hours",msg:"Please fill exam duration"}}));case 15:if(!(o.state.questions_per_page<1)){e.next=17;break}return e.abrupt("return",o.setState({formErr:{element:"questions_per_page",msg:"Please fill number of questions per page"}}));case 17:if(""!==o.state.number_format){e.next=19;break}return e.abrupt("return",o.setState({formErr:{element:"number_format",msg:"Please fill questions numbering format"}}));case 19:if(""!==o.state.discription){e.next=21;break}return e.abrupt("return",o.setState({formErr:{element:"discription",msg:"Please fill exam description"}}));case 21:if(0!==o.props.prepareExam.questions.length){e.next=23;break}return e.abrupt("return",o.setState({formErr:{element:"questions",msg:"Please choose questions"}}));case 23:if(""!==o.state.termes){e.next=25;break}return e.abrupt("return",o.setState({formErr:{element:"termes",msg:"Please fill exam terms and conditions"}}));case 25:return o.setState({loading:!0}),e.prev=26,e.next=29,N.a.post("".concat(E.a.QBank,"/exam"),{period:o.props.periods.selected_period._id,course:o.props.course.selected_course.course_id,questions:o.examQuestionsIds(o.props.prepareExam.questions),exam_status:q.b.Created,termes:o.state.termes,questions_per_page:o.state.questions_per_page,exam_date:o.state.exam_date,start_time:o.state.start_time,end_time:o.state.end_time,duration:o.state.duration_minutes+60*o.state.duration_hours,number_format:o.state.number_format,discription:o.state.discription,rules:{right_click_enabled:null===(t=o.state.proctoringRules.find((function(e){return"right_click_enabled"===e.rule})))||void 0===t?void 0:t.status,copy_enabled:null===(s=o.state.proctoringRules.find((function(e){return"copy_enabled"===e.rule})))||void 0===s?void 0:s.status,paste_enabled:null===(r=o.state.proctoringRules.find((function(e){return"paste_enabled"===e.rule})))||void 0===r?void 0:r.status,stop_candidate_when_comeback:null===(i=o.state.proctoringRules.find((function(e){return"stop_candidate_when_comeback"===e.rule})))||void 0===i?void 0:i.status,allow_to_leave_browser:null===(c=o.state.proctoringRules.find((function(e){return"allow_to_leave_browser"===e.rule})))||void 0===c?void 0:c.status}});case 29:u=Object(l.a)(o.props.prepareExam.questions);try{for(u.s();!(d=u.n()).done;)p=d.value,o.props.addExamQuestion(p)}catch(a){u.e(a)}finally{u.f()}o.props.setSelectedCourse(null),o.setState({redirectToExams:!0}),o.props.PushPopupAlert({title:"Success",description:"Exam has prepared successfully!",theme:k.a.success}),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(26),e.t0.response&&(e.t0.response.data&&void 0!==e.t0.response.data.errors&&e.t0.response.data.errors.length>0?o.setState({formErr:{element:"main",msg:e.t0.response.data.errors[0].message}}):o.setState({formErr:{element:"main",msg:"Failed to update Question!"}})),console.log("Exam err: ",Object(n.a)({},e.t0));case 40:o.setState({loading:!1});case 41:case"end":return e.stop()}}),e,null,[[26,36]])}))),o.componentDidMount=function(){!0===o.props.schoolLevels.showInstitutes&&o.props.setShowInstitutes(!1),null!==o.props.questionTypes.questionTypes&&0!==o.props.questionTypes.questionTypes.length||o.props.loadQuestionTypes(o.setLoading),null!==o.props.periods.applicationPeriods&&0!==o.props.periods.applicationPeriods.length||o.props.loadApplicationPeriods(o.setLoading),null!==o.props.periods.selected_period&&!1===o.props.periods.selected_period.is_active?o.setState({selectPeriod:!0}):null===o.props.course.selected_course&&o.setState({selectCourse:!0}),null!==o.props.course.selected_course&&o.props.loadQuestionBank(o.props.course.selected_course.course_id,o.setLoading),null!==o.props.prepareExam.examsList&&0!==o.props.prepareExam.examsList.length||(null!==o.props.periods.selected_period?o.props.loadExamsListByPeriod(o.props.periods.selected_period._id,o.setLoading):null!==o.props.schoolLevels.selectedEducationCategory&&null!==o.props.schoolLevels.selectedEducationCategory.session_plan&&o.props.loadExamsListByPeriod(o.props.schoolLevels.selectedEducationCategory.session_plan._id,o.setLoading))},o.unSelectQuestion=function(){o.setState({editQuestion:null})},o.findTotalMarks=function(e){var t,s=0,r=Object(l.a)(e);try{for(r.s();!(t=r.n()).done;){s+=t.value.marks}}catch(o){r.e(o)}finally{r.f()}return s},o.handleChangeTermes=function(e){o.setState({termes:e,formErr:null})},o.setSelectCourse=function(e){o.setState({selectCourse:e})},o.setSelectPeriod=function(e){o.setState({selectPeriod:e})},o.GetExamsByPeriod=function(e){null!==e&&!0===e.is_active?(o.props.setSelectedPeriod(e),o.props.loadExamsListByPeriod(e._id,o.setLoading),o.setState({formErr:null})):(alert("Please choose active session"),o.setState({selectPeriod:!0}))},o.state={loading:!1,actionType:r.Prepare,selectCourse:!1,selectPeriod:!1,addQuestionModal:!1,formErr:{element:"",msg:""},questions_per_page:1,exam_date:"",start_time:"",end_time:"23:59",duration_hours:1,duration_minutes:0,number_format:q.c.NUMBER,discription:"",termes:"",redirectToExams:!1,editQuestion:null,currentStep:R.a.Step1,proctoringRules:I.d,rules:{right_click_enabled:!1,copy_enabled:!1,paste_enabled:!1,stop_candidate_when_comeback:!1,allow_to_leave_browser:!1},submitExam:!1},o}return Object(u.a)(s,[{key:"render",value:function(){var e=this;if(!0===this.state.redirectToExams)return Object(F.jsx)(C.a,{to:"exams-list"});if(null!==this.props.prepareExam.examsList&&void 0!==this.props.prepareExam.examsList.filter((function(t){var s;return t.period===(null===(s=e.props.periods.selected_period)||void 0===s?void 0:s._id)})).find((function(t){var s;return t.course===(null===(s=e.props.course.selected_course)||void 0===s?void 0:s.course_id)}))&&(alert("The exam already created!, Please choose another course!"),this.props.setSelectedCourse(null),this.props.prepareExam.questions.length>0)){var t,s=Object(l.a)(this.props.prepareExam.questions);try{for(s.s();!(t=s.n()).done;){var o=t.value;this.props.addExamQuestion(o)}}catch(a){s.e(a)}finally{s.f()}}return Object(F.jsxs)(b.Fragment,{children:[null===this.state.editQuestion?Object(F.jsxs)("div",{children:[Object(F.jsx)(R.b,{currentStep:this.state.currentStep,setStep:this.setStep,course:this.props.course,periods:this.props.periods,setSelectCourse:this.setSelectCourse,setSelectPeriod:this.setSelectPeriod,stepStatus:this.StepStatus,actionType:r.Prepare,preparedExams:this.props.prepareExam.examsList}),!0===this.state.loading?Object(F.jsxs)("div",{className:"px-4 py-6 mt-4 bg-white rounded",children:[Object(F.jsx)("div",{className:"text-gray-600 mb-3 px-4",children:"Performing action, Please wait..."}),Object(F.jsx)(O.a,{})]}):Object(F.jsxs)("div",{className:"rounded bg-white px-3 py-3 mt-2 mb-28",children:[this.state.currentStep===R.a.Step2&&Object(F.jsxs)("div",{className:"grid md:grid-cols-12 gap-4",children:[Object(F.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(F.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam date"}),Object(F.jsx)("input",{onChange:function(t){e.setState({exam_date:t.target.value,formErr:null})},value:this.state.exam_date,type:"date",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"exam_date"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"exam_date"===this.state.formErr.element&&Object(F.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(F.jsxs)("div",{className:"md:col-span-3 flex flex-col",children:[Object(F.jsx)("span",{className:"text-gray-700 font-semibold",children:"Duration(Hours)"}),Object(F.jsx)("select",{onChange:function(t){e.setState({duration_hours:parseInt(t.target.value),formErr:null})},value:this.state.duration_hours,className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"duration_hours"===this.state.formErr.element?"border-2 border-red-600":"border"),children:z().map((function(e,t){return Object(F.jsx)("option",{children:e},t+1)}))}),null!==this.state.formErr&&"duration_hours"===this.state.formErr.element&&Object(F.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(F.jsxs)("div",{className:"md:col-span-3 flex flex-col",children:[Object(F.jsx)("span",{className:"text-gray-700 font-semibold",children:"Duration(Minutes)"}),Object(F.jsx)("select",{onChange:function(t){e.setState({duration_minutes:parseInt(t.target.value),formErr:null})},value:this.state.duration_minutes,className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"duration_minutes"===this.state.formErr.element?"border-2 border-red-600":"border"),children:H().map((function(e,t){return Object(F.jsx)("option",{children:e},t+1)}))}),null!==this.state.formErr&&"duration_minutes"===this.state.formErr.element&&Object(F.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(F.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(F.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam start time"}),Object(F.jsx)("input",{onChange:function(t){e.setState({start_time:t.target.value,formErr:null})},value:this.state.start_time,type:"time",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"start_time"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"start_time"===this.state.formErr.element&&Object(F.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(F.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(F.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam ending time"}),Object(F.jsx)("input",{onChange:function(t){e.setState({end_time:t.target.value,formErr:null})},value:this.state.end_time,type:"time",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"end_time"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"end_time"===this.state.formErr.element&&Object(F.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(F.jsxs)("div",{className:"hidden md:col-span-6 flex-col",children:[Object(F.jsx)("span",{className:"text-gray-500 font-semibold",children:"Number of questions per page"}),Object(F.jsx)("input",{disabled:!0,onChange:function(t){e.setState({questions_per_page:parseInt(t.target.value),formErr:null})},value:this.state.questions_per_page,type:"number",className:"rounded px-3 py-2 h-10 border-gray-200 bg-gray-100 ".concat(null!==this.state.formErr&&"questions_per_page"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"questions_per_page"===this.state.formErr.element&&Object(F.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(F.jsxs)("div",{className:"hidden md:col-span-6 flex-col",children:[Object(F.jsxs)("span",{className:"text-gray-500 font-semibold",children:["Questions number format: ",this.state.number_format]}),Object(F.jsxs)("select",{onChange:function(t){e.setState({number_format:t.target.value,formErr:null})},disabled:!0,className:"px-3 py-2 rounded bg-gray-100 h-10 border-gray-200 ".concat(null!==this.state.formErr&&"number_format"===this.state.formErr.element?"border-2 border-red-600":"border"),children:[Object(F.jsx)("option",{value:"",children:"Select Numbering format"}),q.a.map((function(t,s){return Object(F.jsx)("option",{selected:t.key===e.state.number_format,value:t.key,children:t.value},s+1)}))]}),null!==this.state.formErr&&"number_format"===this.state.formErr.element&&Object(F.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(F.jsxs)("div",{className:"md:col-span-12 flex flex-col",children:[Object(F.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam description"}),Object(F.jsx)("textarea",{onChange:function(t){e.setState({discription:t.target.value,formErr:null})},value:this.state.discription,className:"input-white min-h-8 border-gray-400 ".concat(null!==this.state.formErr&&"discription"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"discription"===this.state.formErr.element&&Object(F.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(F.jsxs)("div",{className:"md:col-span-12 flex flex-col",children:[Object(F.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam terms and conditions"}),Object(F.jsx)(B.a,{value:this.state.termes,className:"rounded mb-10",onChange:this.handleChangeTermes}),null!==this.state.formErr&&"termes"===this.state.formErr.element&&Object(F.jsx)("div",{className:"text-red-600 text-xs font-bold italic mt-2",children:this.state.formErr.msg})]})]}),this.state.currentStep===R.a.Step1&&Object(F.jsxs)("div",{className:"border rounded px-2 py-2 mt-4",children:[Object(F.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(F.jsx)("span",{className:"font-bold text-black text-2xl",children:"Question paper"}),Object(F.jsxs)("div",{className:"flex flex-row gap-2",children:[Object(F.jsxs)("span",{className:"rounded-full bg-yellow-50 text-yellow-800 font-bold px-4 py-2 text-sm underline h-max",children:["Total marks:"," ",this.findTotalMarks(this.props.prepareExam.questions)]}),Object(F.jsxs)("div",{onClick:function(){return null===e.props.periods.selected_period||!1===e.props.periods.selected_period.is_active?e.setState({selectPeriod:!0}):null===e.props.course.selected_course?e.setState({selectCourse:!0}):e.setState({addQuestionModal:!0})},className:"btn bg-blue-50 text-blue-600 hover:bg-blue-100 cursor-pointer flex flex-row items-center",children:[Object(F.jsx)(L.b,{className:"text-2xl"})," Add question"]})]})]}),Object(F.jsx)("div",{className:"flex flex-col mt-2",children:0===this.props.prepareExam.questions.length?Object(F.jsx)("div",{className:"".concat(null!==this.state.formErr&&"questions"===this.state.formErr.element?"bg-red-50 border-2 border-red-600 text-red-600":"bg-gray-100"," rounded mt-2"),children:Object(F.jsx)(g.b,{theme:g.a.Dark,value:"No questions added so far!"})}):this.props.questionTypes&&this.props.prepareExam.questions.map((function(t,s){return Object(F.jsx)(_.a,{question:t,callBack:e.removeToQuestionPaper,status:!0,questionTypes:e.props.questionTypes,select:!1,number:s+1,questionsList:e.props.prepareExam.questions},s+1)}))})]}),Object(F.jsx)("div",{className:"my-4",onClick:function(){return e.setState({formErr:null})},children:null!==this.state.formErr&&""!==this.state.formErr.element&&Object(F.jsx)(w.b,{title:"Missing info",description:this.state.formErr.msg,theme:w.a.danger})}),Object(F.jsxs)("div",{className:"flex flex-row items-center justify-between mt-4",children:[this.state.currentStep===R.a.Step1?Object(F.jsx)(P.b,{to:"/exams-list",className:"btn border cursor-pointer",children:"Cancel"}):Object(F.jsx)("div",{onClick:function(){return e.setStep(R.a.Step1)},className:"btn border cursor-pointer",children:"Back to questions"}),this.state.currentStep===R.a.Step1?Object(F.jsx)("div",{className:"flex flex-row items-center",children:Object(F.jsx)("div",{onClick:function(){return e.setStep(R.a.Step2)},className:"btn bg-blue-600 text-white cursor-pointer",children:"Continue"})}):Object(F.jsx)("div",{className:"flex flex-row items-center",children:Object(F.jsx)("div",{onClick:function(){return e.setState({submitExam:!0})},className:"btn bg-blue-600 text-white cursor-pointer",children:"Review & Save"})})]})]})]}):null===this.props.questionBank.questions?Object(F.jsx)(O.a,{}):0===this.props.questionBank.questions.length?Object(F.jsx)("div",{children:"No Questions available!"}):Object(F.jsx)(T.b,{selectedQuestion:this.state.editQuestion,questionsList:this.props.questionBank.questions,unSelectQuestion:this.unSelectQuestion}),!0===this.state.selectCourse&&!1===this.props.schoolLevels.showInstitutes&&null!==this.props.schoolLevels.selectedEducationCategory&&Object(F.jsx)(h.d,{title:"Choose course",backDrop:!0,theme:h.c.default,close:function(){return e.setState({selectCourse:!1})},backDropClose:!0,widthSizeClass:h.b.large,displayClose:!0,padding:{title:!0},children:Object(F.jsx)("div",{className:"-mt-2",children:Object(F.jsx)(x.a,{setSelectedCourse:this.chooseCourse,preparedExams:this.props.prepareExam.examsList,selected_course_id:this.props.course.selected_course&&this.props.course.selected_course.course_id})})}),!0===this.state.addQuestionModal&&Object(F.jsx)(h.d,{title:Object(F.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[null!==this.props.questionBank.questions&&this.props.questionBank.questions.length>0&&Object(F.jsx)(P.b,{to:"/upload-questions",className:"btn bg-blue-100 hover:bg-blue-200 text-blue-700 cursor-pointer",children:"Upload new"}),Object(F.jsx)("span",{children:"Add Exam Questions"})]}),backDrop:!0,theme:h.c.default,close:function(){return e.setState({addQuestionModal:!1})},backDropClose:!0,widthSizeClass:h.b.extraLarge,displayClose:!0,padding:{title:!0},children:null===this.props.course.selected_course?Object(F.jsx)("div",{children:"Please choose a course"}):null===this.props.questionBank.questions?Object(F.jsx)(O.a,{}):Object(F.jsx)(v.a,{selectedCourse:this.props.course.selected_course,callBack:this.addQuestionToPaper,questionsList:this.props.questionBank.questions,questionPaper:this.props.prepareExam.questions})}),!0===this.state.selectPeriod&&!1===this.props.schoolLevels.showInstitutes&&null!==this.props.schoolLevels.selectedEducationCategory&&Object(F.jsx)(h.d,{title:"Choose a period",backDrop:!0,theme:h.c.default,close:function(){null!==e.props.periods.selected_period&&!0===e.props.periods.selected_period.is_active?e.setState({selectPeriod:!1}):alert("Please choose active session")},backDropClose:!0,widthSizeClass:h.b.large,displayClose:!0,padding:{title:!0},children:Object(F.jsx)("div",{className:"px-2 mt-6",children:Object(F.jsx)(y.c,{applicationPeriods:this.props.periods.applicationPeriods,setSelectedPeriod:this.GetExamsByPeriod,showPeriodFilter:this.showPeriodFilter})})}),!0===this.state.submitExam&&!1===this.props.schoolLevels.showInstitutes&&null!==this.props.schoolLevels.selectedEducationCategory&&Object(F.jsxs)(h.d,{title:Object(F.jsx)("div",{className:"text-blue-600 font-bold text-xl",children:"Confirm exam preparation"}),backDrop:!0,theme:h.c.default,close:function(){return e.setState({submitExam:!1})},backDropClose:!0,widthSizeClass:h.b.large,displayClose:!0,padding:{title:!0,body:!0},children:[Object(F.jsx)("div",{className:"mb-3 -mt-6",children:Object(F.jsx)("div",{className:"md:col-span-12 flex flex-col",children:Object(F.jsxs)("div",{className:"bg-gray-100 rounded p-4",children:[Object(F.jsx)("span",{className:"text-gray-900 text-lg font-bold",children:"Exam proctoring rules"}),Object(F.jsx)("div",{className:"bg-white rounded px-3 flex flex-col mt-3",children:this.state.proctoringRules.map((function(t,s){return Object(F.jsxs)("div",{className:"flex flex-row items-center justify-between ".concat(e.state.proctoringRules.length===s+1?"":"border-b"," ").concat(!0===t.status?"text-blue-600 font-bold":"text-gray-600"," py-2"),children:[Object(F.jsx)("div",{className:"flex flex-col",children:Object(F.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(F.jsx)(M.v,{className:"text-xl"}),Object(F.jsx)("span",{className:"",children:t.caption})]})}),Object(F.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[Object(F.jsx)("span",{className:"text-sm ".concat(!0===t.status?"text-blue-600 font-bold":"text-gray-500"),children:!0===t.status?"Allowed":"Not Allowed"}),Object(F.jsx)(A.a,{value:t.status,onChange:function(){return e.changeProctoringRule(t.rule)}})]})]},s+1)}))})]})})}),Object(F.jsx)("div",{className:"my-4",onClick:function(){return e.setState({formErr:null})},children:null!==this.state.formErr&&""!==this.state.formErr.element&&Object(F.jsx)(w.b,{title:"Missing info",description:this.state.formErr.msg,theme:w.a.danger})}),Object(F.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[Object(F.jsx)("div",{className:"flex flex-row items-center mt-3",children:Object(F.jsx)("div",{onClick:function(){return e.setState({submitExam:!1})},className:"btn bg-white text-gray-600 cursor-pointer border",children:"Cancel"})}),Object(F.jsx)("div",{className:"flex flex-row items-center mt-3",children:Object(F.jsx)("div",{onClick:function(){return e.submitExamPreparation()},className:"btn bg-blue-600 text-white cursor-pointer",children:"Submit exam"})})]})]}),!1===this.state.loading&&null===this.props.schoolLevels.selectedEducationCategory&&!1===this.props.schoolLevels.showInstitutes&&Object(F.jsx)(U.a,{schoolLevels:this.props.schoolLevels,setSelectedEducationCategory:function(t){e.props.setSelectedEducationCategory(t),null!==t.session_plan?e.GetExamsByPeriod(t.session_plan):e.setState({selectPeriod:!0}),e.props.setShowInstitutes(!1)},onSelect:function(){e.props.setShowInstitutes(!1)}})]})}}]),s}(b.Component),G=Object(f.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes,prepareExam:e.prepareExam,periods:e.periods,system:e.system}}),{loadCourses:j.Hc,loadSchoolLevels:j.Rc,loadEducationCategories:j.Jc,setSelectedEducationCategory:j.hd,setSelectedSchoolLevel:j.od,setUploadedQuestions:j.qd,loadQuestionTypes:j.Qc,loadQuestionBank:j.Pc,setSelectedCourse:j.gd,addExamQuestion:j.hc,loadApplicationPeriods:j.Dc,setSelectedPeriod:j.ld,PushPopupAlert:j.Rb,loadExamsList:j.Mc,loadExamsListByPeriod:j.Nc,setShowInstitutes:j.pd})(J)},823:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s(4);var r,o=s(814),a=s(1);!function(e){e.Step1="Step1",e.Step2="Step2"}(r||(r={}));t.b=function(e){var t=[{step:r.Step1,title:e.actionType===o.PrepareActionTypes.Prepare?"Prepare questions":"Edit questions",description:"Choose questions for the exam",status:!1},{step:r.Step2,title:"Exam details",description:"Fill all exam details",status:!1}];return Object(a.jsx)("div",{className:"mt-3 rounded px-2 flex flex-col gap-3 bg-white py-2",children:Object(a.jsx)("div",{className:"flex flex-row items center justify-between",children:Object(a.jsx)("div",{className:"flex flex-row items-end w-full",children:Object(a.jsxs)("div",{className:"flex flex-col px-2 w-full",children:[Object(a.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:e.actionType===o.PrepareActionTypes.Prepare?null===e.course.selected_course?"Prepare exam":"Exam: "+e.course.selected_course.course_name:null===e.course.selected_course?"Edit the exam":"Exam: "+e.course.selected_course.course_name}),null!==e.periods.selected_period&&Object(a.jsxs)("span",{className:"text-sm ".concat(!0===e.periods.selected_period.is_active?"text-gray-600":"text-yellow-600"),children:["Session: ",e.periods.selected_period.session_plan_name]}),Object(a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-2 lg:gap-6 w-full",children:[Object(a.jsx)("div",{className:"flex flex-row items-center gap-6",children:t.map((function(t,s){return Object(a.jsxs)("div",{onClick:function(){return e.setStep(t.step)},className:"flex flex-row items-center gap-4 my-2 rounded p-2 border ".concat(e.currentStep===t.step?!0===e.stepStatus(t.step)?"border-blue-300":"bg-blue-50 border-white":"cursor-pointer hover:bg-gray-50 border-white"),children:[Object(a.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(!0===e.stepStatus(t.step)?"bg-blue-600 text-white":e.currentStep===t.step?"bg-white text-blue-600 border-2 border-blue-300":"bg-gray-200"," text-center font-bold text-xl flex items-center justify-center"),children:s+1}),Object(a.jsxs)("div",{className:"flex flex-col",children:[Object(a.jsx)("span",{className:"".concat(!0===e.stepStatus(t.step)?"text-blue-600":""," font-bold text-lg"),children:t.title}),Object(a.jsx)("span",{className:"text-sm -mt-1 text-gray-500",children:t.description})]})]},s+1)}))}),e.actionType===o.PrepareActionTypes.Prepare&&Object(a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(a.jsx)("div",{onClick:function(){return e.setSelectCourse(!0)},className:"btn ".concat(null===e.course.selected_course?"bg-yellow-50 hover:bg-yellow-100 border border-yellow-600 text-yellow-600":"bg-blue-50 hover:bg-blue-100 text-blue-600"," h-max flex items-center justify-center cursor-pointer py-2"),children:null===e.course.selected_course?"Choose course":"Change course"}),(null===e.periods.selected_period||!1===e.periods.selected_period.is_active)&&Object(a.jsx)("div",{onClick:function(){return e.setSelectPeriod(!0)},className:"btn ".concat(null===e.periods.selected_period?"bg-yellow-50 hover:bg-yellow-100 border border-yellow-600 text-yellow-600":"bg-white hover:bg-blue-100 border border-blue-600 text-blue-600"," h-max flex items-center justify-center py-2 cursor-pointer"),children:null===e.periods.selected_period?"Choose period":"Change Period"})]})]})]})})})})}},824:function(e,t,s){"use strict";s(4);var r=s(1);t.a=function(e){return Object(r.jsx)("div",{onClick:e.onChange,className:"md:w-14 md:h-7 w-12 h-6 flex items-center ".concat(!0===e.value?"bg-blue-200":"bg-gray-300"," rounded-full p-1 cursor-pointer"),children:Object(r.jsx)("div",{className:"".concat(!0===e.value?"bg-blue-600":"bg-white"," md:w-6 md:h-6 h-5 w-5 rounded-full shadow-md transition transform").concat(e.value?" transform translate-x-6":null)})})}}}]);
//# sourceMappingURL=9.4894ca04.chunk.js.map