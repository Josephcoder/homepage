(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[32],{188:function(e,t,n){"use strict";var c=n(24),a=n(4),r=n(189),i=n(8),s=n(1);t.a=function(e){var t,n,o=e.rows,l=e.columns,d=e.hideColumns,u=void 0!==d&&d,b=e.pagination,f=void 0!==b&&b,j=e.search,h=void 0!==j&&j,x=e.tableSize,p=void 0===x?"w-full":x,m=e.tableClass,O=e.tableId,g=void 0===O?"myTable":O,v=e.rounded,y=void 0!==v&&v,_=e.searchBG,N=void 0===_?"bg-gray-200":_,w=e.thColor,T=void 0===w?"blue":w,C=e.loading,S=void 0!==C&&C;g="myTable"===g?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*c));return t}():g;var E=Object(a.useState)(0),k=Object(c.a)(E,2),A=k[0],L=k[1],I=Object(a.useState)(1),P=Object(c.a)(I,2),D=P[0],R=P[1],H=Object(a.useState)(1),M=Object(c.a)(H,2),U=M[0],B=M[1],F=Object(a.useState)(),q=Object(c.a)(F,2),z=q[0],G=q[1],V=Object(a.useState)(10),J=Object(c.a)(V,2),K=J[0],Y=J[1],W=Object(a.useState)(0),Q=Object(c.a)(W,2),X=Q[0],Z=Q[1],$=Object(a.useState)(0),ee=Object(c.a)($,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){f&&ce()}));var ce=function(){t=document.getElementById(g),n=t.getElementsByTagName("tr"),L(n.length),R(Math.ceil(A/K)),Z((U-1)*K),ne(Math.min(X+K-1,A-1));var e=Array.from(Array(D+1-1).keys()).map((function(e){return 1+e}));z&&e.length===z.length||G(e);for(var c=0;c<n.length;c++)n[c].style.display=c>=X&&c<=te?"":"none"};return Object(s.jsxs)("div",{className:"".concat(p),children:[h&&Object(s.jsx)("div",{className:"".concat(N," w-full mb-2"),children:h&&Object(s.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(s.jsx)(i.Cb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(s.jsx)("input",{type:"search",placeholder:"search",onChange:function(e){return function(e,n){var c,a,r,i,s;for("field"===n&&"all"===e&&(e=""),c=e.toLowerCase(),a=(t=document.getElementById(g)).getElementsByTagName("tr"),i=0;i<a.length;i++)for(s=0;s<l.length;s++)if(r=a[i].getElementsByTagName("td")[s]){if((r.textContent||r.innerText).toLowerCase().indexOf(c)>-1){a[i].style.display="";break}a[i].style.display="none"}}(e.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-transparent",disabled:S}),f&&Object(s.jsx)("div",{className:"select",children:Object(s.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-transparent",onChange:function(e){return Y(Number(e.target.value))},disabled:S,children:[Object(s.jsx)("option",{value:"10",children:"10"}),Object(s.jsx)("option",{value:"25",children:"25"}),Object(s.jsx)("option",{value:"50",children:"50"}),Object(s.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(s.jsxs)("table",{className:m||"w-full shadow ".concat(y&&"sm:rounded-lg"," table-auto order-table max-w-full"),id:g,children:[!u&&Object(s.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(s.jsx)("tr",{className:"text-left tracking-wide bg-".concat(T,"-100 border-b-2 border-").concat(T,"-500 text-").concat(T,"-600 overflow-hidden"),children:l.map((function(e,t){return Object(s.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,n,c,a,r,i,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(c=!0,t=document.getElementById(e))for(;c;){for(c=!1,n=t.rows,a=1;a<n.length-1;a++)if(s=!1,r=n[a].getElementsByTagName("TD")[o],i=n[a+1].getElementsByTagName("TD")[o],"asc"===l&&r&&i){if(r.innerHTML.toLowerCase()>i.innerHTML.toLowerCase()){s=!0;break}}else if("desc"===l&&r&&i&&r.innerHTML.toLowerCase()<i.innerHTML.toLowerCase()){s=!0;break}s&&n[a].parentNode?(n[a].parentNode.insertBefore(n[a+1],n[a]),c=!0,d++):0===d&&"asc"===l&&(l="desc",c=!0)}}(g,t)},children:Object(s.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(s.jsx)(r.h,{})]})},t)}))})}),Object(s.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:o()})]}),f&&Object(s.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(s.jsx)("div",{children:Object(s.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",K," of ",A-1," Entries"]})}),Object(s.jsx)("div",{children:Object(s.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==U&&"bg-white"),"aria-label":"Previous",disabled:1===U||S,onClick:function(){return B(U-1)},children:Object(s.jsx)(i.hb,{className:"h-5 w-5"})})}),Object(s.jsx)("div",{children:z&&z.map((function(e,t){return Object(s.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(e!==U?"bg-white":"bg-gray-100 cursor-default"),disabled:e===U||S,onClick:function(){return B(e)},children:e},t)}))}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(U!==D&&"bg-white"),"aria-label":"Next",disabled:U===D||S,onClick:function(){return B(U+1)},children:Object(s.jsx)(i.ib,{className:"h-5 w-5"})})})]})})]})]})}},199:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return p}));var c=n(18),a=n(19),r=n(21),i=n(20),s=n(4),o=n.n(s),l=n(17),d=n(3),u=n(8),b=n(1),f=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){return a.props.PageHasSubNav(!0)},a.componentWillUnmount=function(){return a.props.PageHasSubNav(!1)},a.state={loading:!1},a}return Object(a.a)(n,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(b.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),n}(o.a.Component),j=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.nb,PageHasSubNav:d.ob})(f),h=function(e){var t=e.title,n=void 0===t?"":t,c=e.icon,a=void 0===c?u.m:c,r=e.active,i=void 0!==r&&r,s=e.count,o=void 0===s?0:s,l=a;return Object(b.jsxs)("section",{className:"".concat(!0===i?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(b.jsxs)("section",{className:"flex-1",children:[Object(b.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(b.jsx)("span",{children:n})]}),o>0?Object(b.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:o}):null]})},x=function(e){var t=e.children;return Object(b.jsx)("div",{className:"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer",children:t})},p=function(e){var t=e.title,n=void 0===t?"":t,c=e.icon,a=void 0===c?u.m:c,r=e.active,i=void 0!==r&&r,s=e.count,o=void 0===s?0:s,l=a;return Object(b.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster ".concat(!0===i?"bg-blue-500 text-white font-bold":" text-blue-800"," text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),children:[Object(b.jsx)(l,{className:"inline-block mr-0.1 text-xs ".concat(!0===i?"text-white":"")}),Object(b.jsx)("span",{className:"inline-block pl-1 ".concat(!0===i?"text-white":""),children:n}),o>=1?Object(b.jsx)("span",{className:"text-sm fint-bold ".concat(!0===i?"text-white":""),children:o}):null]})}},254:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return x})),n.d(t,"d",(function(){return p}));var c=n(5),a=n.n(c),r=n(7),i=n(9),s=n.n(i),o=n(6),l=n(10),d=n(13),u=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,s.a.get("".concat(l.a.APPLICATION,"/roomlocation"));case 4:c=t.sent,n({type:o.a.GET_ALL_ROOM,payload:c.data}),e(!1,""),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return console.log({data:e}),function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.CREATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return console.log({data:e}),function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.UPDATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DELETE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return console.log({data:e}),function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.CREATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.UPDATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return console.log({delete_room:e}),function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DELETE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},376:function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return x})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return m}));var c=n(5),a=n.n(c),r=n(7),i=n(6),s=(n(187),n(12),n(9)),o=n.n(s),l=n(10),d=n(13),u=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,o.a.get("".concat(l.a.APPLICATION,"/schools"));case 4:c=t.sent,n({type:i.a.GET_SCHOOLS,payload:c.data}),e(!1,""),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return console.log({schools:e}),function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.a.CREATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.a.UPDATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.a.DELETE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e,t){return function(){var n=Object(r.a)(a.a.mark((function n(c){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(!0,""),n.prev=1,n.next=4,o.a.get("".concat(l.a.PLACEMENT,"/requestpost/school/").concat(e));case 4:r=n.sent,console.log({schoolPosts:r.data}),c({type:i.a.FETCH_SCHOOL_POSTS,payload:r.data}),t(!1,""),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("Err: ",n.t0),t(!1,Object(d.a)(n.t0));case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.a.CREATE_SCHOOL_POST,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return console.log({TYPE:e,data:t}),function(){var n=Object(r.a)(a.a.mark((function n(c){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c({type:i.a.UPDATE_SCHOOL_POST,payload:{TYPE:e,data:t}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(r.a)(a.a.mark((function n(c){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(!0,""),n.prev=1,n.next=4,o.a.get("".concat(l.a.PLACEMENT,"/requestpost/district/").concat(e));case 4:r=n.sent,console.log({districtPosts:r}),c({type:i.a.FETCH_DISTRICT_POSTS,payload:r.data}),t(!1,""),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("Err: ",n.t0),t(!1,Object(d.a)(n.t0));case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}},411:function(e,t,n){"use strict";n.r(t),n.d(t,"getSchoolById",(function(){return C})),n.d(t,"Schools",(function(){return S}));var c=n(11),a=n(5),r=n.n(a),i=n(7),s=n(24),o=n(9),l=n.n(o),d=n(4),u=n(82),b=n(189),f=n(55),j=n(8),h=n(17),x=n(3),p=n(254),m=n(376),O=n(31),g=n(199),v=n(188),y=n(26),_=n(187),N=n(10),w=n(13),T=n(1),C=function(e,t){return e.filter((function(e){return e._id===t}))[0]},S=Object(h.b)((function(e){var t=e.auth,n=e.schools,c=e.schoolLevels,a=e.locations;return{auth:t,schools:n.schools,education_categories:c.education_categories,allRoom:a.roomLocation}}),{createSchool:m.a,getSchools:m.f,updateSchool:m.g,getAllRoom:p.g,deleteSchool:m.c,loadEducationCategories:x.Ob,PushPopupAlert:x.pb})((function(e){e.auth;var t=e.education_categories,n=e.allRoom,a=e.schools,o=e.getSchools,h=e.loadEducationCategories,x=e.getAllRoom,p=e.updateSchool,C=e.deleteSchool,S=e.PushPopupAlert,E=Object(d.useState)(null),k=Object(s.a)(E,2),A=k[0],L=k[1],I=Object(d.useState)(!1),P=Object(s.a)(I,2),D=P[0],R=P[1],H=Object(d.useState)(null),M=Object(s.a)(H,2),U=M[0],B=M[1],F=Object(d.useState)(!1),q=Object(s.a)(F,2),z=q[0],G=q[1],V=Object(d.useState)(null),J=Object(s.a)(V,2),K=J[0],Y=J[1],W=Object(d.useState)(!1),Q=Object(s.a)(W,2),X=Q[0],Z=Q[1],$=Object(d.useState)([]),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],ce=Object(d.useState)(a),ae=Object(s.a)(ce,2),re=ae[0],ie=ae[1],se=Object(d.useState)(!1),oe=Object(s.a)(se,2),le=oe[0],de=oe[1],ue=Object(d.useState)(""),be=Object(s.a)(ue,2),fe=be[0],je=be[1],he=Object(d.useState)(!0),xe=Object(s.a)(he,2),pe=xe[0],me=xe[1],Oe=Object(d.useState)(null),ge=Object(s.a)(Oe,2),ve=ge[0],ye=ge[1],_e=Object(d.useState)(""),Ne=Object(s.a)(_e,2),we=Ne[0],Te=Ne[1],Ce=Object(d.useState)(null),Se=Object(s.a)(Ce,2),Ee=Se[0],ke=Se[1],Ae=Object(d.useState)(""),Le=Object(s.a)(Ae,2),Ie=Le[0],Pe=Le[1],De=Object(d.useState)(""),Re=Object(s.a)(De,2),He=Re[0],Me=Re[1],Ue=Object(d.useState)(""),Be=Object(s.a)(Ue,2),Fe=Be[0],qe=Be[1],ze=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(N.a.APPLICATION,"/district"));case 3:t=e.sent,ne(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error({code_error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){me(!0),null===t||0===t.length?h(me):n.length?a.length?te.length?a.length&&(ie(a),me(!1)):ze():o((function(e,t){console.log(e,t),me(e),t.length>0&&console.error({loadingCandidatesError:t})})):x((function(e,t){!e&&t.length>0&&console.log(t)}))}),[n.length,t,x,te,h,o,a]);var Ge=function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),we.length){e.next=3;break}return e.abrupt("return",ye({element:"school_name",msg:"School name is required"}));case 3:if(Ie.length){e.next=5;break}return e.abrupt("return",ye({element:"edication_id",msg:"Edication Institute is required"}));case 5:if(Fe.length){e.next=7;break}return e.abrupt("return",ye({element:"districtId_id",msg:"District is required"}));case 7:if(de(!0),e.prev=8,"CREATE"!==fe){e.next=16;break}return e.next=12,l.a.post("".concat(N.a.APPLICATION,"/schools"),{school_name:we,district_id:Fe,education_category_id:Ie});case 12:(n=e.sent).data&&(console.log({res:n}),ie([].concat(Object(c.a)(re),[{_id:n.data.data.shool_id,status:n.data.data.status,school_name:n.data.data.school_name,district_id:n.data.data.district_id,education_category_id:n.data.data.education_category_id}])),Object(m.a)({_id:n.data.data.shool_id,status:n.data.data.status,school_name:n.data.data.school_name,district_id:n.data.data.district_id,education_category_id:n.data.data.education_category_id}),S({title:"New School created successfully",theme:y.a.success}),de(!1),Te(""),qe(""),Pe(""),Me("")),e.next=21;break;case 16:if(!Ee||"UPDATE"!==fe){e.next=21;break}return e.next=19,l.a.patch("".concat(N.a.APPLICATION,"/schools"),{school_id:Ee._id,school_name:we,district_id:Fe,education_category_id:Ie});case 19:(n=e.sent).data&&(console.log({res:n}),p({_id:Ee._id,status:!0,school_name:we,district_id:Fe,education_category_id:Ie}),S({title:"School updated successfully",theme:y.a.success}),de(!1),qe(""),Pe(""),Me(""),ke(null),je(""));case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(8),console.log({doc_category_error:e.t0}),S({title:Object(w.a)(e.t0),theme:y.a.danger}),de(!1);case 28:case"end":return e.stop()}}),e,null,[[8,23]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure do you want to delete this room?")){e.next=14;break}return de(!0),e.prev=2,e.next=5,l.a.delete("".concat(N.a.APPLICATION,"/schools/").concat(t));case 5:(n=e.sent).data&&(console.log({res:n}),C(t),S({title:"School deleted successfully",theme:y.a.success})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log({province_error:e.t0}),S({title:Object(w.a)(e.t0),theme:y.a.danger});case 13:de(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),Je=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=[];"INSTITUTE"===e&&(c=K&&!n?"ALL"===t?a.filter((function(e){return e.district_id===K.district_id})):a.filter((function(e){return e.education_category_id===t&&e.district_id===K.district_id})):"ALL"===t?a:a.filter((function(e){return e.education_category_id===t}))),"DISTRICT"===e&&(c=A?"ALL"===t?a.filter((function(e){return e.education_category_id===A.education_institute_id})):a.filter((function(e){return e.district_id===t&&e.education_category_id===A.education_institute_id})):"ALL"===t?a:a.filter((function(e){return e.district_id===t}))),ie(c)},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL",n=0;return"DEFAULT"===e?n=re.length:"EDUCATION"===e?n=re.filter((function(e){return e.education_category_id===t})).length:"DISTRICT"===e&&(n=re.filter((function(e){return e.district_id===t})).length),Object(_.g)(n)};return!0===pe?Object(T.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading schools..."}):Object(T.jsxs)(d.Fragment,{children:[Object(T.jsx)(g.b,{children:pe?Object(T.jsxs)("section",{className:"animate-pulse",children:[Object(T.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"}),Object(T.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"}),Object(T.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"})]}):Object(T.jsxs)(d.Fragment,{children:[Object(T.jsx)("span",{className:"font-semibold text-lg text-gray-500",children:"Filter by Institute"}),Object(T.jsx)("section",{className:"mt-2 ".concat(le&&"cursor-pointer"),onClick:function(){return!le&&R(!D)},children:Object(T.jsx)(g.a,{title:A?A.education_category_title:"Choose Education Institute",active:!(!D&&null===A)})}),D&&t&&t.length>0&&Object(T.jsx)(g.d,{children:t&&t.map((function(e,t){return Object(T.jsx)("section",{onClick:function(){return!le&&(L(e),R(!1),Je("INSTITUTE",e.education_institute_id))},children:Object(T.jsx)(g.c,{title:e.education_category_title,icon:j.V,active:!!A&&e.education_institute_id===A.education_institute_id})},e.education_institute_id+t)}))}),Object(T.jsxs)("section",{children:[Object(T.jsx)("span",{className:"font-semibold text-lg text-gray-500",children:"Filter by District"}),Object(T.jsx)("section",{className:"mt-2",onClick:function(){return!le&&(R(!1),G(!z),Z(!1))},children:Object(T.jsx)(g.a,{title:U?U.province_name:"Choose Province",active:!(!z&&null===U)})})]}),z&&n&&n.length>0&&Object(T.jsx)(g.d,{children:n&&n.map((function(e,t){return Object(T.jsx)("section",{onClick:function(){return!le&&(G(!1),B(e),Y(null),A&&Je("INSTITUTE",A.education_institute_id,!0))},children:Object(T.jsx)(g.c,{title:e.province_name,icon:j.V,active:!!U&&e.province_id===U.province_id})},e.province_id+t)}))}),U&&Object(T.jsx)("section",{className:"mt-2",onClick:function(){return!le&&(R(!1),G(!1),Z(!X))},children:Object(T.jsx)(g.a,{title:K?K.district_name:"Choose District",active:!(!X&&null===K)})}),X&&U&&U.districts.length>0&&Object(T.jsx)(g.d,{children:U&&U.districts.map((function(e,t){return Object(T.jsx)("section",{onClick:function(){return!le&&(Y(e),Z(!1),Je("DISTRICT",e.district_id))},children:Object(T.jsx)(g.c,{title:e.district_name,icon:j.V,active:!!K&&e.district_id===K.district_id})},e.district_id+t)}))})]})}),Object(T.jsxs)("div",{className:"w-full my-5 px-1",children:[Object(T.jsx)("div",{className:"flex items-start justify-between",children:Object(T.jsxs)("div",{className:"flex flex-row items-center",children:[Object(T.jsx)(b.b,{className:"text-blue-500 w-28 h-28"}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("h1",{className:"text-3xl font-semibold",children:"Schools Management"}),Object(T.jsxs)("div",{className:"flex flex-row items-center mx-2 md:gap-3 gap-2",children:[Object(T.jsxs)("div",{className:"flex flex-col mt-1",children:[Object(T.jsx)("span",{className:"text-gray-600 text-base",children:"All School(s)"}),Object(T.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:Ke()})]}),t&&t.length>0&&t.map((function(e,t){return Object(T.jsxs)("div",{className:"flex flex-col mt-1",children:[Object(T.jsx)("span",{className:"text-gray-600 text-base",children:e.education_category_title}),Object(T.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:Ke("EDUCATION",e.education_institute_id)})]},t+e.education_institute_id)}))]})]})]})}),Object(T.jsxs)("div",{className:"md:w-98 bg-white mx-auto md:p-2",children:[Object(T.jsxs)("div",{className:"flex items-start justify-between",children:[Object(T.jsxs)("div",{children:[A&&Object(T.jsxs)("div",{className:"flex",children:[Object(T.jsxs)("div",{className:"flex items-center gap-1 mx-1",children:[Object(T.jsx)(j.K,{className:"text-gray-600"}),Object(T.jsx)("span",{className:"font-semibold text-gray-500",children:"Institute:"}),Object(T.jsx)("span",{className:"font-semibold text-blue-700",children:A.education_category_title})]}),Object(T.jsx)(f.b,{className:"cursor-pointer rounded-full hover:bg-red-500 hover:text-white",onClick:function(){return!pe&&(L(null),Je("INSTITUTE","ALL"))},title:"Clean Education Institute filter"})]}),U&&Object(T.jsxs)("div",{className:"flex",children:[Object(T.jsxs)("div",{className:"flex items-center gap-1 mx-1",children:[Object(T.jsx)(j.K,{className:"text-gray-600"}),Object(T.jsx)("span",{className:"font-semibold text-gray-500",children:"Location:"}),Object(T.jsx)("span",{className:"font-semibold ".concat(K?"text-black cursor-pointer":"text-blue-700"),children:U.province_name}),K&&Object(T.jsxs)("div",{className:"flex items-center",children:[Object(T.jsx)(u.d,{}),Object(T.jsx)("span",{className:"text-blue-700 font-semibold",children:K.district_name})]})]}),Object(T.jsx)(f.b,{className:"cursor-pointer rounded-full hover:bg-red-500 hover:text-white",onClick:function(){return!pe&&(Y(null),B(null),Je("DISTRICT","ALL"))},title:"Clean location filter"})]})]}),Object(T.jsxs)("button",{type:"button",className:"px-4 py-3 bg-blue-600 rounded text-white focus:outline-none transform active:scale-x-75 transition-transform flex",onClick:function(){return je("CREATE")},disabled:le,children:[Object(T.jsx)(j.Ab,{className:"h-6 w-6"}),Object(T.jsx)("span",{className:"ml-2",children:"Add School"})]})]}),Object(T.jsx)(v.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"School",alignText:"left",padding:"p-3"},{columnTitle:"Institute",alignText:"left",padding:"p-3"},{columnTitle:"District",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return re.length?re.map((function(e,c){return Object(T.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(T.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:c+1}),Object(T.jsx)("td",{className:"p-3 text-left",children:e.school_name}),Object(T.jsx)("td",{className:"py-3 px-5 text-left",children:t&&t.filter((function(t){return t.education_institute_id===e.education_category_id})).length>0?t.filter((function(t){return t.education_institute_id===e.education_category_id}))[0].education_category_title:"No Institute"}),Object(T.jsx)("td",{className:"py-3 px-5 text-left",children:te&&te.filter((function(t){return t.district_id===e.district_id})).length>0?te.filter((function(t){return t.district_id===e.district_id}))[0].district_name:"No district"}),Object(T.jsx)("td",{className:"px-3",children:Object(T.jsxs)("div",{className:"flex items-center gap-2 float-right",children:[Object(T.jsxs)("button",{className:"bg-blue-600 text-white font-bold py-1 px-2 flex items-center rounded focus:outline-none ".concat(le?"cursor-not-allowed":null),title:"Edit School",disabled:le,onClick:function(){je("UPDATE"),ke(e),Te(e.school_name),Pe(e.education_category_id),qe(e.district_id),Me(n.filter((function(t){return t.districts.find((function(t){return t.district_id===e.district_id}))}))[0].province_id)},children:[Object(T.jsx)(j.eb,{className:"w-4 h-4"}),"Edit"]}),Object(T.jsxs)("button",{className:"bg-red-700 text-white font-bold py-1 px-2 flex items-center rounded focus:outline-none ".concat(le?"cursor-not-allowed":null),title:"Delete",disabled:le,onClick:function(){return Ve(e._id)},children:[Object(T.jsx)(j.eb,{className:"w-4 h-4"}),"Delete"]})]})})]},c+e._id)})):[Object(T.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(T.jsx)("td",{className:"p-3 text-center",colSpan:5,children:"No School Found"})},1)]},pagination:!0,search:!0,thColor:"gray"})]})]}),fe&&Object(T.jsx)(O.d,{backDrop:!0,theme:O.c.default,close:function(){je(""),ke(null),Te(""),Pe(""),qe(""),Me("")},displayClose:!0,backDropClose:!1,title:Object(T.jsxs)("div",{className:"text-gray-600 font-bold text-3xl md:ml-4 inline-flex items-center gap-2",children:[Object(T.jsx)(b.b,{className:"w-11 h-11 text-gray-500 hover:bg-gray-500 hover:text-gray-50 rounded-full p-0 foucs:outline-none"}),"CREATE"===fe?"CREATE ":"UPDATE "," SCHOOL"]}),widthSizeClass:O.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(T.jsx)("div",{className:"mx-8 mb-8",children:Object(T.jsxs)("form",{onSubmit:function(e){return Ge(e)},children:[Object(T.jsxs)("div",{className:"py-4 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"School name"}),Object(T.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block border-2 ".concat(ve&&"school_name"===ve.element?"border-red-700":"border-gray-500"),placeholder:"School name",value:we,onChange:function(e){ye(null),Te(e.target.value)},disabled:le}),ve&&"school_name"===ve.element&&Object(T.jsx)("span",{className:"text-red-700",children:ve.msg})]}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Institutes"}),Object(T.jsxs)("select",{className:"text-left input-white w-full block border-2 py-3 px-4 pr-8 ".concat(ve&&"edication_id"===ve.element?"border-red-700":"border-gray-500"),value:Ie,onChange:function(e){return Pe(e.target.value)},disabled:le,children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Choose Insitute"}),t&&t.map((function(e,t){return Object(T.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},t+e.education_institute_id)}))]}),ve&&"edication_id"===ve.element&&Object(T.jsx)("span",{className:"text-red-700",children:ve.msg})]}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Province"}),Object(T.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 border-gray-500",value:He,onChange:function(e){return Me(e.target.value)},disabled:le,children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Choose province"}),n&&n.map((function(e,t){return Object(T.jsx)("option",{value:e.province_id,children:e.province_name},t+e.province_id)}))]})]}),He&&Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"District"}),Object(T.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 ".concat(ve&&"districtId_id"===ve.element?"border-red-700":"border-gray-500"),value:Fe,onChange:function(e){return qe(e.target.value)},disabled:le,children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Choose district"}),n&&n.filter((function(e){return e.province_id===He}))[0].districts.length>0?n.filter((function(e){return e.province_id===He}))[0].districts.map((function(e,t){return Object(T.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)})):Object(T.jsx)("option",{disabled:!0,children:"No District Found"},702)]}),ve&&"districtId_id"===ve.element&&Object(T.jsx)("span",{className:"text-red-700",children:ve.msg})]})]}),Object(T.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(T.jsx)("button",{onClick:function(){je(""),ke(null),Te(""),Pe(""),qe(""),Me("")},className:"btn bg-gray-400 text-white hover:bg-gray-600 focus:outline-none",type:"button",disabled:le,children:"Exit"}),Object(T.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600 focus:outline-none ".concat(le?"animate-pulse":null),type:"submit",disabled:le,children:le?"Loading...":"Save"})]})]})})})]})}))}}]);
//# sourceMappingURL=32.9011db73.chunk.js.map