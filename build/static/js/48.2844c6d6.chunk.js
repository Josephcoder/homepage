(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[48],{424:function(e,t,s){"use strict";var l,c=new Uint8Array(16);function n(){if(!l&&!(l="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(c)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var o=function(e){return"string"===typeof e&&a.test(e)},r=[],i=0;i<256;++i)r.push((i+256).toString(16).substr(1));var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!o(s))throw TypeError("Stringified UUID is invalid");return s};t.a=function(e,t,s){var l=(e=e||{}).random||(e.rng||n)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){s=s||0;for(var c=0;c<16;++c)t[s+c]=l[c];return t}return d(l)}},801:function(e,t,s){"use strict";s.r(t),s.d(t,"QuestionSettings",(function(){return H}));var l,c=s(18),n=s(19),a=s(21),o=s(20),r=s(4),i=s(26),d=s(5),u=s.n(d),b=s(7),x=s(24),p=s(8),j=s(80),h=s(194),m=s(17),f=s(3),g=s(28),v=s(31),y=s(55),O=s(9),N=s.n(O),C=s(10),_=s(25),w=s(11),S=s(2),k=s(195),P=s(1),A=function(e){var t;return Object(P.jsxs)("div",{className:"rounded flex flex-col gap-2 overflow-y-auto border pb-3 px-3",style:{height:"80vh"},children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mt-2 mb-1",children:"Choose school level"}),Object(P.jsx)("span",{className:"text-xs text-gray-500 italic mt-2 mb-1",children:"(Optional)"})]}),null===(t=e.schoolLevels.school_levels)||void 0===t?void 0:t.map((function(t,s){return Object(P.jsxs)("div",{onClick:function(){return!1===e.loading&&e.setSchool_levels(e.school_levels.find((function(e){return e===t.school_level_id}))?e.school_levels.filter((function(e){return e!==t.school_level_id})):[].concat(Object(w.a)(e.school_levels),[t.school_level_id]))},className:"flex flex-row items-center gap-3 p-3 rounded cursor-pointer ".concat(e.school_levels.find((function(e){return e===t.school_level_id}))?"bg-blue-50 text-blue-600":!0===e.loading?"bg-gray-100 text-gray-400":"bg-gray-100 text-gray-600"," ").concat(!0===e.loading?"hover:bg-gray-100 hover:text-gray-400":"hover:bg-blue-100 hover:text-blue-600"),children:[e.school_levels.find((function(e){return e===t.school_level_id}))?Object(P.jsx)(k.a,{className:"text-3xl"}):Object(P.jsx)(k.b,{className:"text-3xl"}),Object(P.jsxs)("div",{className:"flex flex-col gap-0",children:[Object(P.jsx)("span",{className:"font-extrabold text-lg",children:t.school_level_name}),Object(P.jsx)("span",{className:"text-xs -mt-1",children:t.description})]})]},s+1)}))]})},L=s(424),T=function(e){var t,s=Object(r.useState)(""),c=Object(x.a)(s,2),n=c[0],a=c[1],o=Object(r.useState)(""),i=Object(x.a)(o,2),d=i[0],p=i[1],j=Object(r.useState)(""),h=Object(x.a)(j,2),m=h[0],f=h[1],g=Object(r.useState)(""),v=Object(x.a)(g,2),O=v[0],k=v[1],T=Object(r.useState)([]),E=Object(x.a)(T,2),D=E[0],q=E[1],Q=Object(r.useState)([]),V=Object(x.a)(Q,2),U=V[0],I=V[1],R=Object(r.useState)(null),M=Object(x.a)(R,2),z=M[0],F=M[1],J=Object(r.useState)(!1),B=Object(x.a)(J,2),H=B[0],X=B[1],Y=Object(r.useState)({openAdd:!1,chapter:""}),$=Object(x.a)(Y,2),G=$[0],K=$[1],W=function(){var t=Object(b.a)(u.a.mark((function t(s){var c,a,o,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),(null===(c=e.selectedCourse)||void 0===c?void 0:c.action)!==l.Update||""!==n){t.next=5;break}return t.abrupt("return",F({element:"course_id",msg:"Please choose Course"}));case 5:if(""!==d){t.next=9;break}return t.abrupt("return",F({element:"course_name",msg:"Please fill the course name"}));case 9:if(""!==m){t.next=13;break}return t.abrupt("return",F({element:"course_code",msg:"Please fill the course code"}));case 13:if(""!==O){t.next=17;break}return t.abrupt("return",F({element:"description",msg:"Please fill the description"}));case 17:if(X(!0),t.prev=18,null===e.selectedCourse||void 0===e.selectedCourse.selectedCourse.course_id){t.next=30;break}return a={course_id:n,course_name:d,course_code:m,description:O,school_levels:U,chapters:D},t.next=23,N.a.patch("".concat(C.a.APPLICATION,"/course"),a);case 23:o=t.sent,e.PushPopupAlert({title:"Course updated successfully",description:"After updating the course, you have access to delete and update it!",theme:_.a.info}),e.setSelectedCourse({action:e.selectedCourse.action,selectedCourse:a}),e.closeModal(!1),console.log("Result: ",o),t.next=36;break;case 30:return t.next=32,N.a.post("".concat(C.a.APPLICATION,"/course"),{course_name:d,course_code:m,description:O,school_levels:U,chapters:D});case 32:r=t.sent,e.PushPopupAlert({title:"Course added successfully",description:"After adding the Course, you have access to delete and update it!",theme:_.a.success}),e.closeModal(!1),console.log("Result: ",r);case 36:t.next=42;break;case 38:t.prev=38,t.t0=t.catch(18),t.t0.response&&(t.t0.response.data&&void 0!==t.t0.response.data.errors&&t.t0.response.data.errors.length>0?e.PushPopupAlert({title:t.t0.response.data.errors[0].message,theme:_.a.danger}):e.PushPopupAlert({title:"Failed to add course! Try again",theme:_.a.danger})),console.log("Err: ",Object(S.a)({},t.t0));case 42:X(!1);case 43:case"end":return t.stop()}}),t,null,[[18,38]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){null!==e.selectedCourse&&(console.log("Sle: ",e.selectedCourse),""===n&&a(e.selectedCourse.selectedCourse.course_id),""===d&&p(e.selectedCourse.selectedCourse.course_name),""===m&&f(e.selectedCourse.selectedCourse.course_code),""===O&&k(e.selectedCourse.selectedCourse.description),0===U.length&&I(e.selectedCourse.selectedCourse.school_levels),0===D.length&&void 0!==e.selectedCourse.selectedCourse.chapters&&q(e.selectedCourse.selectedCourse.chapters))}),[e,n,d,m,O,U,D]),Object(P.jsx)("form",{onSubmit:W,className:"-mt-2",children:Object(P.jsxs)("div",{className:"grid md:grid-cols-12 gap-5",children:[Object(P.jsx)("div",{className:"col-span-6",children:Object(P.jsx)(A,{schoolLevels:e.schoolLevels,school_levels:U,setSchool_levels:I,loading:H})}),Object(P.jsxs)("div",{className:"col-span-6",children:[Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mb-1",children:"Course name"}),Object(P.jsx)("input",{disabled:H,onChange:function(e){p(e.target.value),F(null)},type:"text",value:d,className:"input-white border-2 ".concat(null!==z&&"course_name"===z.element?"border-red-500":"border-gray-500")}),null!==z&&"course_name"===z.element&&Object(P.jsx)("span",{className:"text-red-600 font-bold text-xs",children:z.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mb-1",children:"Course code"}),Object(P.jsx)("input",{disabled:H,onChange:function(e){f(e.target.value),F(null)},type:"text",value:m,className:"input-white border-2 ".concat(null!==z&&"course_code"===z.element?"border-red-500":"border-gray-500")}),null!==z&&"course_code"===z.element&&Object(P.jsx)("span",{className:"text-red-600 font-bold text-xs",children:z.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mt-2 mb-1",children:"Description"}),Object(P.jsx)("textarea",{disabled:H,onChange:function(e){k(e.target.value),F(null)},value:O,className:"input-white border-2 ".concat(null!==z&&"description"===z.element?"border-red-500":"border-gray-500"),style:{minHeight:"100px"},children:O}),null!==z&&"description"===z.element&&Object(P.jsx)("span",{className:"text-red-600 font-bold text-xs",children:z.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsxs)("div",{className:"flex items-center justify-between",children:[Object(P.jsx)("span",{className:"text-gray-600 font-bold",children:"Course chapters"}),!1===G.openAdd&&Object(P.jsxs)("div",{onClick:function(){return K({openAdd:!0,chapter:""})},className:"cursor-pointer btn bg-blue-50 text-blue-600 text-sm flex flex-row gap-1 items-center",children:[Object(P.jsx)(y.e,{className:"text-2xl"}),Object(P.jsx)("span",{children:"Add chapter"})]})]}),Object(P.jsx)("div",{children:!0===G.openAdd&&Object(P.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 mt-2",children:[Object(P.jsx)("input",{onChange:function(e){K({openAdd:!0,chapter:e.target.value})},value:G.chapter,type:"text",placeholder:"Chapter name",className:"input-white border-2 rounded border-gray-500"}),Object(P.jsx)("div",{onClick:function(){return!1===H&&function(){if(""===G.chapter)return K({openAdd:!1,chapter:""});!0===G.openAdd&&(K({openAdd:!0,chapter:""}),q([{name:G.chapter,status:1,id:Object(L.a)()}].concat(Object(w.a)(D))))}()},className:"".concat(!1===H?"cursor-pointer":"cursor-not-allowed"," btn ").concat(""===G.chapter?!0===H?"bg-gray-200":"bg-red-600":"bg-blue-600"," text-white text-sm flex flex-row gap-1 items-center"),children:Object(P.jsx)("span",{children:""===G.chapter?"Close":"Add"})})]})}),0===D.length?Object(P.jsx)("div",{className:"rounded bg-gray-50 px-2 py-6 mt-2 flex flex-col text-sm text-gray-400 font-extrabold text-center",children:"No chapters added"}):Object(P.jsx)("div",{children:D.map((function(t,s){return Object(P.jsxs)("div",{className:"flex flex-row items-center justify-between border ".concat(null!==e.selectedCourse&&e.selectedCourse.selectedCourse.chapters&&0===e.selectedCourse.selectedCourse.chapters.filter((function(e){return e.id===t.id})).length?"bg-gray-50 border-gray-200 text-gray-500":"bg-white border-blue-200 text-blue-600"," my-1 pl-2 pr-1 py-1 rounded text-sm font-bold"),children:[Object(P.jsx)("span",{children:t.name}),Object(P.jsx)("div",{onClick:function(){return!1===H&&(e=t,void q(D.filter((function(t){return t.id!==e.id}))));var e},className:"btn ".concat(!1===H?"cursor-pointer":"cursor-not-allowed"," bg-red-100 text-red-700 text-xs"),children:"Remove"})]},s+1)}))})]}),""===G.chapter&&Object(P.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(null===(t=e.selectedCourse)||void 0===t?void 0:t.action)===l.View?Object(P.jsx)("button",{onClick:function(){return e.selectedCourse&&e.deleteSelected({action:l.Delete,selectedCourse:e.selectedCourse.selectedCourse})},type:"button",className:"btn border border-red-600 text-red-700",children:"Delete"}):Object(P.jsx)("div",{}),Object(P.jsx)("button",{disabled:H,type:"submit",className:"btn bg-blue-600 text-white ".concat(!0===H?"animate__animated animate__flash animate__infinite":""),children:!0===H?"Please wait...":null!==e.selectedCourse?"Update course":"Add course"})]})]})]})})};!function(e){e.Create="Create",e.View="View",e.Delete="Delete",e.Update="Update"}(l||(l={}));var E,D=Object(m.b)((function(e){return{auth:e.auth,periods:e.periods,schoolLevels:e.schoolLevels,system:e.system,course:e.course}}),{loadApplicationPeriods:f.Jb,setSelectedPeriod:f.kc,loadSchoolLevels:f.Vb,setSelectedEducationCategory:f.gc,PushPopupAlert:f.pb,loadCourses:f.Mb})((function(e){var t=Object(r.useState)(!1),s=Object(x.a)(t,2),c=s[0],n=s[1],a=Object(r.useState)(!1),o=Object(x.a)(a,2),i=o[0],d=o[1],m=Object(r.useState)(null),f=Object(x.a)(m,2),O=f[0],w=f[1],S=function(){var t=Object(b.a)(u.a.mark((function t(s){var l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===s.course_id){t.next=18;break}return n(!0),t.prev=2,t.next=5,N.a.delete("".concat(C.a.APPLICATION,"/course/").concat(s.course_id));case 5:l=t.sent,e.loadCourses(n),e.PushPopupAlert({title:"Course removed successfully",theme:_.a.success}),w(null),console.log("Deleted: ",l),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(2),e.PushPopupAlert({title:"Acton failed, Try again later!",theme:_.a.warning}),n(!1),w(null),console.log("err: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){null!==e.schoolLevels.school_levels&&0!==e.schoolLevels.school_levels.length||e.loadSchoolLevels(n),null!==e.course.courses&&0!==e.course.courses.length||e.loadCourses(n)}),[e,n]),Object(P.jsxs)(r.Fragment,{children:[Object(P.jsxs)("div",{className:"mt-1",children:[Object(P.jsxs)("div",{className:"flex flex-row justify-between items-center bg-gray-100 py-1",children:[Object(P.jsx)("div",{className:"text-blue-600 font-extrabold text-xl px-2",children:"List of courses"}),!1===c&&Object(P.jsx)("div",{onClick:function(){return d(!0)},className:"btn bg-blue-600 text-white cursor-pointer hover:bg-blue-800",children:"Add new"})]}),Object(P.jsx)("div",{className:"flex flex-col",children:null===e.course.courses||!0===c?Object(P.jsx)(g.a,{}):0===e.course.courses.length?Object(P.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(P.jsx)(h.d,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(P.jsx)("span",{children:"No courses available"})]}):e.course.courses.map((function(e,t){return Object(P.jsxs)("div",{className:"border flex flex-row px-3 py-2 rounded items-center my-1 justify-between",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-gray-600 font-extrabold",children:e.course_name}),Object(P.jsx)("span",{className:"text-xs pr-5 text-gray-500",children:e.description})]}),Object(P.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(P.jsx)("div",{onClick:function(){return w({action:l.View,selectedCourse:e})},className:"bg-gray-50 hover:bg-gray-200 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(j.b,{className:"text-3xl text-gray-700"})}),Object(P.jsx)("div",{onClick:function(){return w({action:l.Update,selectedCourse:e})},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(p.E,{className:"text-3xl text-blue-700"})}),Object(P.jsx)("div",{onClick:function(){return w({action:l.Delete,selectedCourse:e})},className:"bg-gray-100 hover:bg-red-100 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(y.n,{className:"text-3xl text-yellow-700"})})]})]})}))})]}),(!0===i||null!==O&&(O.action===l.Update||O.action===l.View))&&Object(P.jsx)(v.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"font-extrabold text-2xl text-gray-500",children:null!==O&&O.action===l.Update||null!==O&&O.action===l.View?O.selectedCourse.course_name:"Add new course"}),Object(P.jsx)("span",{className:"text-sm text-gray-500 font-normal",children:null!==O&&O.action===l.Update?"Update the selected course":null!==O&&O.action===l.View?"View more details for the selected course":"Course will be used in different components in the system, make sure what you're creating"})]})}),backDrop:!0,theme:v.c.default,close:function(){d(!1),w(null)},widthSizeClass:v.b.extraLarge,displayClose:!0,backDropClose:!0,padding:{title:!0,body:!0},children:Object(P.jsx)(T,{closeModal:function(t){e.loadCourses(n),d(t)},courses:e.course,PushPopupAlert:e.PushPopupAlert,selectedCourse:O,deleteSelected:w,schoolLevels:e.schoolLevels,setSelectedCourse:w})}),null!==O&&O.action===l.Delete&&Object(P.jsx)(v.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-extrabold text-2xl text-gray-500",children:O.selectedCourse.course_name})})}),backDrop:!0,theme:v.c.default,close:function(){return w(null)},widthSizeClass:v.b.medium,displayClose:!0,backDropClose:!0,padding:{title:!0,body:!0},children:Object(P.jsxs)("div",{className:"-mt-6",children:[Object(P.jsx)("span",{className:"text-red-600 font-bold",children:"Are you sure do you want to delete this course?"}),Object(P.jsxs)("div",{className:"flex flex-row items-center justify-between mt-2",children:[Object(P.jsx)("div",{onClick:function(){return w(null)},className:"btn bg-gray-100 text-gray-700 cursor-pointer hover:bg-gray-200",children:"Cancel"}),Object(P.jsx)("div",{onClick:function(){return S(O.selectedCourse)},className:"btn bg-red-600 text-white cursor-pointer hover:bg-red-800",children:"Yes, Delete"})]})]})})]})})),q=function(e){var t,s=Object(r.useState)(""),l=Object(x.a)(s,2),c=l[0],n=l[1],a=Object(r.useState)(""),o=Object(x.a)(a,2),i=o[0],d=o[1],p=Object(r.useState)(""),j=Object(x.a)(p,2),h=j[0],m=j[1],f=Object(r.useState)([]),g=Object(x.a)(f,2),v=g[0],y=g[1],O=Object(r.useState)(null),w=Object(x.a)(O,2),S=w[0],k=w[1],L=Object(r.useState)(!1),T=Object(x.a)(L,2),D=T[0],q=T[1],Q=function(){var t=Object(b.a)(u.a.mark((function t(s){var l,n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),(null===(l=e.selectedEducationCategory)||void 0===l?void 0:l.action)!==E.Update||""!==c){t.next=5;break}return t.abrupt("return",k({element:"education_institute_id",msg:"Please choose education category"}));case 5:if(""!==i){t.next=9;break}return t.abrupt("return",k({element:"education_category_title",msg:"Please fill the education category title"}));case 9:if(""!==h){t.next=13;break}return t.abrupt("return",k({element:"description",msg:"Please fill the description"}));case 13:if(q(!0),t.prev=14,console.log("Sel schoo le: ",v),null===e.selectedEducationCategory||void 0===e.selectedEducationCategory.selectedEducationCategory.education_institute_id){t.next=25;break}return t.next=19,N.a.patch("".concat(C.a.APPLICATION,"/educationinstitute"),{education_institute_id:c,education_category_title:i,description:h,school_levels:v});case 19:n=t.sent,e.PushPopupAlert({title:"Education category updated successfully",description:"After updating the education category, you have access to delete and update it!",theme:_.a.info}),e.closeModal(!1),console.log("Result: ",n),t.next=31;break;case 25:return t.next=27,N.a.post("".concat(C.a.APPLICATION,"/educationinstitute"),{education_category_title:i,description:h,school_levels:v});case 27:a=t.sent,e.PushPopupAlert({title:"Education category added successfully",description:"After adding the Education category, you have access to delete and update it!",theme:_.a.success}),e.closeModal(!1),console.log("Result: ",a);case 31:t.next=37;break;case 33:t.prev=33,t.t0=t.catch(14),e.PushPopupAlert({title:"Failed to add Education category! Try again",theme:_.a.danger}),console.log("Err: ",t.t0);case 37:q(!1);case 38:case"end":return t.stop()}}),t,null,[[14,33]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){null!==e.selectedEducationCategory&&(""===c&&n(e.selectedEducationCategory.selectedEducationCategory.education_institute_id),""===i&&d(e.selectedEducationCategory.selectedEducationCategory.education_category_title),""===h&&m(e.selectedEducationCategory.selectedEducationCategory.description),0===v.length&&y(e.selectedEducationCategory.selectedEducationCategory.school_levels))}),[e,c,i,h,v]),Object(P.jsx)("form",{onSubmit:Q,className:"-mt-2",children:Object(P.jsxs)("div",{className:"grid md:grid-cols-12 gap-5",children:[Object(P.jsx)("div",{className:"col-span-6",children:Object(P.jsx)(A,{schoolLevels:e.schoolLevels,school_levels:v,setSchool_levels:y,loading:D})}),Object(P.jsxs)("div",{className:"col-span-6",children:[Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mb-1",children:"Title"}),Object(P.jsx)("input",{disabled:D,onChange:function(e){d(e.target.value),k(null)},type:"text",value:i,className:"input-white border-2 ".concat(null!==S&&"title"===S.element?"border-red-500":"border-gray-500")}),null!==S&&"title"===S.element&&Object(P.jsx)("span",{className:"text-red-600 font-bold text-xs",children:S.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mt-2 mb-1",children:"Description"}),Object(P.jsx)("textarea",{disabled:D,onChange:function(e){m(e.target.value),k(null)},value:h,className:"input-white border-2 ".concat(null!==S&&"description"===S.element?"border-red-500":"border-gray-500"),style:{minHeight:"100px"},children:h}),null!==S&&"description"===S.element&&Object(P.jsx)("span",{className:"text-red-600 font-bold text-xs",children:S.msg})]}),Object(P.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(null===(t=e.selectedEducationCategory)||void 0===t?void 0:t.action)===E.View?Object(P.jsx)("button",{onClick:function(){return e.selectedEducationCategory&&e.deleteSelected({action:E.Delete,selectedEducationCategory:e.selectedEducationCategory.selectedEducationCategory})},type:"button",className:"btn border border-red-600 text-red-700",children:"Delete"}):Object(P.jsx)("div",{}),Object(P.jsx)("button",{disabled:D,type:"submit",className:"btn bg-blue-600 text-white ".concat(!0===D?"animate__animated animate__flash animate__infinite":""),children:!0===D?"Please wait...":null!==e.selectedEducationCategory?"Update":"Add"})]})]})]})})};!function(e){e.Create="Create",e.View="View",e.Delete="Delete",e.Update="Update"}(E||(E={}));var Q,V=Object(m.b)((function(e){return{auth:e.auth,periods:e.periods,schoolLevels:e.schoolLevels,system:e.system}}),{loadApplicationPeriods:f.Jb,setSelectedPeriod:f.kc,loadEducationCategories:f.Ob,setSelectedEducationCategory:f.gc,PushPopupAlert:f.pb,loadSchoolLevels:f.Vb})((function(e){var t=Object(r.useState)(!1),s=Object(x.a)(t,2),l=s[0],c=s[1],n=Object(r.useState)(!1),a=Object(x.a)(n,2),o=a[0],i=a[1],d=Object(r.useState)(null),m=Object(x.a)(d,2),f=m[0],O=m[1],w=function(){var t=Object(b.a)(u.a.mark((function t(s){var l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===s.education_institute_id){t.next=15;break}return c(!0),t.prev=2,t.next=5,N.a.delete("".concat(C.a.APPLICATION,"/educationinstitute/").concat(s.education_institute_id));case 5:l=t.sent,e.loadEducationCategories(c),e.PushPopupAlert({title:"Education category removed successfully",theme:_.a.success}),O(null),console.log("Deleted: ",l),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("err: ",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){null!==e.schoolLevels.education_categories&&0!==e.schoolLevels.education_categories.length||e.loadEducationCategories(c),null!==e.schoolLevels.school_levels&&0!==e.schoolLevels.school_levels.length||e.loadSchoolLevels(c)}),[e,c]),Object(P.jsxs)(r.Fragment,{children:[Object(P.jsxs)("div",{className:"mt-1",children:[Object(P.jsxs)("div",{className:"flex flex-row justify-between items-center bg-gray-100 py-1",children:[Object(P.jsx)("div",{className:"text-blue-600 font-extrabold text-xl px-2",children:"Lists of education categories"}),!1===l&&Object(P.jsx)("div",{onClick:function(){return i(!0)},className:"btn bg-blue-600 text-white cursor-pointer hover:bg-blue-800",children:"Add new"})]}),Object(P.jsx)("div",{className:"flex flex-col",children:null===e.schoolLevels.education_categories||!0===l?Object(P.jsx)(g.a,{}):0===e.schoolLevels.education_categories.length?Object(P.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(P.jsx)(h.d,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(P.jsx)("span",{children:"No education categories available"})]}):e.schoolLevels.education_categories.map((function(e,t){return Object(P.jsxs)("div",{className:"border flex flex-row px-3 py-2 rounded items-center my-1 justify-between",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-gray-600 font-extrabold",children:e.education_category_title}),Object(P.jsx)("span",{className:"text-xs pr-5 text-gray-500",children:e.description})]}),Object(P.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(P.jsx)("div",{onClick:function(){return O({action:E.View,selectedEducationCategory:e})},className:"bg-gray-50 hover:bg-gray-200 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(j.b,{className:"text-3xl text-gray-700"})}),Object(P.jsx)("div",{onClick:function(){return O({action:E.Update,selectedEducationCategory:e})},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(p.E,{className:"text-3xl text-blue-700"})}),Object(P.jsx)("div",{onClick:function(){return O({action:E.Delete,selectedEducationCategory:e})},className:"bg-gray-100 hover:bg-red-100 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(y.n,{className:"text-3xl text-yellow-700"})})]})]})}))})]}),(!0===o||null!==f&&(f.action===E.Update||f.action===E.View))&&Object(P.jsx)(v.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"font-extrabold text-2xl text-gray-500",children:null!==f&&f.action===E.Update||null!==f&&f.action===E.View?f.selectedEducationCategory.education_category_title:"Add new education category"}),Object(P.jsx)("span",{className:"text-sm text-gray-500 font-normal",children:null!==f&&f.action===E.Update?"Update the selected education category":null!==f&&f.action===E.View?"View more details for the selected education category":"An education category will be used in different components in the system, make sure what you're creating"})]})}),backDrop:!0,theme:v.c.default,close:function(){i(!1),O(null)},widthSizeClass:v.b.extraLarge,displayClose:!0,backDropClose:!0,padding:{title:!0,body:!0},children:Object(P.jsx)(q,{closeModal:function(t){i(t),e.loadEducationCategories(c)},education_categories:e.schoolLevels,PushPopupAlert:e.PushPopupAlert,selectedEducationCategory:f,deleteSelected:O,schoolLevels:e.schoolLevels})}),null!==f&&f.action===E.Delete&&Object(P.jsx)(v.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-extrabold text-2xl text-gray-500",children:f.selectedEducationCategory.education_category_title})})}),backDrop:!0,theme:v.c.default,close:function(){return O(null)},widthSizeClass:v.b.medium,displayClose:!0,backDropClose:!0,padding:{title:!0,body:!0},children:Object(P.jsxs)("div",{className:"-mt-6",children:[Object(P.jsx)("span",{className:"text-red-600 font-bold",children:"Are you sure do you want to delete this education category?"}),Object(P.jsxs)("div",{className:"flex flex-row items-center justify-between mt-2",children:[Object(P.jsx)("div",{onClick:function(){return O(null)},className:"btn bg-gray-100 text-gray-700 cursor-pointer hover:bg-gray-200",children:"Cancel"}),Object(P.jsx)("div",{onClick:function(){return w(f.selectedEducationCategory)},className:"btn bg-red-600 text-white cursor-pointer hover:bg-red-800",children:"Yes, Delete"})]})]})})]})})),U=s(34),I=function(e){var t,s,l=Object(r.useState)(""),c=Object(x.a)(l,2),n=c[0],a=c[1],o=Object(r.useState)(""),i=Object(x.a)(o,2),d=i[0],p=i[1],j=Object(r.useState)(""),h=Object(x.a)(j,2),m=h[0],f=h[1],g=Object(r.useState)(null),v=Object(x.a)(g,2),y=v[0],O=v[1],w=Object(r.useState)(!1),k=Object(x.a)(w,2),A=k[0],L=k[1],T=function(){var t=Object(b.a)(u.a.mark((function t(s){var l,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),""!==n){t.next=5;break}return t.abrupt("return",O({element:"title",msg:"Please fill the title"}));case 5:if(""!==d&&0!==d.length){t.next=9;break}return t.abrupt("return",O({element:"element",msg:"Please fill the element"}));case 9:if(""!==m){t.next=13;break}return t.abrupt("return",O({element:"description",msg:"Please fill the description"}));case 13:if(L(!0),t.prev=14,null===e.selectedQuestionType||void 0===e.selectedQuestionType.selectedQuestionType.id){t.next=24;break}return t.next=18,N.a.put("".concat(C.a.QBank,"/question-type/").concat(e.selectedQuestionType.selectedQuestionType.id),{status:1,title:n,element:d,description:m});case 18:l=t.sent,e.PushPopupAlert({title:"Question type updated successfully",description:"After updating the question type, you have access to delete and update it!",theme:_.a.info}),e.closeModal(!1),console.log("Result: ",l),t.next=30;break;case 24:return t.next=26,N.a.post("".concat(C.a.QBank,"/question-type"),{status:1,title:n,element:d,description:m});case 26:c=t.sent,e.PushPopupAlert({title:"Question type added successfully",description:"After adding the question type, you have access to delete and update it!",theme:_.a.success}),e.closeModal(!1),console.log("Result: ",c);case 30:t.next=36;break;case 32:t.prev=32,t.t0=t.catch(14),e.PushPopupAlert({title:"Failed to add question type! Try again",theme:_.a.danger}),console.log("Err: ",Object(S.a)({},t.t0));case 36:L(!1);case 37:case"end":return t.stop()}}),t,null,[[14,32]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){null!==e.selectedQuestionType&&(""===n&&a(e.selectedQuestionType.selectedQuestionType.title),""===d&&p(e.selectedQuestionType.selectedQuestionType.element),""===m&&f(e.selectedQuestionType.selectedQuestionType.description))}),[e,n,d,m]),Object(P.jsxs)("form",{onSubmit:T,className:"-mt-2",children:[Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mt-2 mb-1",children:"Element"}),null!==e.selectedQuestionType?Object(P.jsx)("div",{className:"bg-blue-100 text-blue-600 font-bold px-3 py-2 rounded",children:null===(t=U.c.find((function(t){return e.selectedQuestionType&&t.key===e.selectedQuestionType.selectedQuestionType.element})))||void 0===t?void 0:t.value}):Object(P.jsxs)("select",{disabled:A,onChange:function(e){p(e.target.value),O(null)},className:"input-white border-2 ".concat(null!==y&&"element"===y.element?"border-red-500":"border-gray-500"),children:[Object(P.jsx)("option",{value:"",children:"Choose element"}),U.c.map((function(t,s){return Object(P.jsx)(P.Fragment,{children:e.questionTypes.questionTypes&&void 0===e.questionTypes.questionTypes.find((function(e){return e.element===t.key}))&&Object(P.jsx)("option",{selected:d===t.key,value:t.key,children:t.value},s+1)})}))]}),null!==y&&"element"===y.element&&Object(P.jsx)("span",{className:"text-red-600 font-bold text-xs",children:y.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mb-1",children:"Title"}),Object(P.jsx)("input",{disabled:A,onChange:function(e){a(e.target.value),O(null)},type:"text",value:n,className:"input-white border-2 ".concat(null!==y&&"title"===y.element?"border-red-500":"border-gray-500")}),null!==y&&"title"===y.element&&Object(P.jsx)("span",{className:"text-red-600 font-bold text-xs",children:y.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mt-2 mb-1",children:"Description"}),Object(P.jsx)("textarea",{disabled:A,onChange:function(e){f(e.target.value),O(null)},value:m,className:"input-white border-2 ".concat(null!==y&&"description"===y.element?"border-red-500":"border-gray-500"),style:{minHeight:"100px"},children:m}),null!==y&&"description"===y.element&&Object(P.jsx)("span",{className:"text-red-600 font-bold text-xs",children:y.msg})]}),Object(P.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(null===(s=e.selectedQuestionType)||void 0===s?void 0:s.action)===Q.View?Object(P.jsx)("button",{onClick:function(){return e.selectedQuestionType&&e.deleteSelected({action:Q.Delete,selectedQuestionType:e.selectedQuestionType.selectedQuestionType})},type:"button",className:"btn border border-red-600 text-red-700",children:"Delete"}):Object(P.jsx)("div",{}),Object(P.jsx)("button",{disabled:A,type:"submit",className:"btn bg-blue-600 text-white ".concat(!0===A?"animate__animated animate__flash animate__infinite":""),children:!0===A?"Please wait...":null!==e.selectedQuestionType?"Update question type":"Add question type"})]})]})};!function(e){e.Create="Create",e.View="View",e.Delete="Delete",e.Update="Update"}(Q||(Q={}));var R,M=Object(m.b)((function(e){return{auth:e.auth,periods:e.periods,schoolLevels:e.schoolLevels,questionTypes:e.questionTypes,system:e.system}}),{loadApplicationPeriods:f.Jb,setSelectedPeriod:f.kc,loadEducationCategories:f.Ob,setSelectedEducationCategory:f.gc,loadQuestionTypes:f.Ub,PushPopupAlert:f.pb})((function(e){var t=Object(r.useState)(!1),s=Object(x.a)(t,2),l=s[0],c=s[1],n=Object(r.useState)(!1),a=Object(x.a)(n,2),o=a[0],i=a[1],d=Object(r.useState)(null),m=Object(x.a)(d,2),f=m[0],O=m[1],w=function(){var t=Object(b.a)(u.a.mark((function t(s){var l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===s.id){t.next=15;break}return c(!0),t.prev=2,t.next=5,N.a.delete("".concat(C.a.QBank,"/question-type/").concat(s.id));case 5:l=t.sent,e.loadQuestionTypes(c),e.PushPopupAlert({title:"Question type removed successfully",theme:_.a.success}),O(null),console.log("Deleted: ",l),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("err: ",Object(S.a)({},t.t0));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){null!==e.questionTypes.questionTypes&&0!==e.questionTypes.questionTypes.length||e.loadQuestionTypes(c)}),[e,c]),Object(P.jsxs)(r.Fragment,{children:[Object(P.jsxs)("div",{className:"mt-1",children:[Object(P.jsxs)("div",{className:"flex flex-row justify-between items-center bg-gray-100 py-1",children:[Object(P.jsx)("div",{className:"text-blue-600 font-extrabold text-xl px-2",children:"Lists of question types"}),!1===l&&Object(P.jsx)("div",{onClick:function(){return i(!0)},className:"btn bg-blue-600 text-white cursor-pointer hover:bg-blue-800",children:"Add new"})]}),Object(P.jsx)("div",{className:"flex flex-col",children:null===e.questionTypes.questionTypes||!0===l?Object(P.jsx)(g.a,{}):0===e.questionTypes.questionTypes.length?Object(P.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(P.jsx)(h.d,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(P.jsx)("span",{children:"No question types available"})]}):e.questionTypes.questionTypes.map((function(e,t){return Object(P.jsxs)("div",{className:"border flex flex-row px-3 py-2 rounded items-center my-1 justify-between",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-gray-600 font-extrabold",children:e.title}),Object(P.jsx)("span",{className:"text-xs pr-5 text-gray-500",children:e.description})]}),Object(P.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(P.jsx)("div",{onClick:function(){return O({action:Q.View,selectedQuestionType:e})},className:"bg-gray-50 hover:bg-gray-200 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(j.b,{className:"text-3xl text-gray-700"})}),Object(P.jsx)("div",{onClick:function(){return O({action:Q.Update,selectedQuestionType:e})},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(p.E,{className:"text-3xl text-blue-700"})}),Object(P.jsx)("div",{onClick:function(){return O({action:Q.Delete,selectedQuestionType:e})},className:"bg-gray-100 hover:bg-red-100 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(y.n,{className:"text-3xl text-yellow-700"})})]})]})}))})]}),(!0===o||null!==f&&(f.action===Q.Update||f.action===Q.View))&&Object(P.jsx)(v.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"font-extrabold text-2xl text-gray-500",children:null!==f&&f.action===Q.Update||null!==f&&f.action===Q.View?f.selectedQuestionType.title:"Add new question type"}),Object(P.jsx)("span",{className:"text-sm text-gray-500 font-normal",children:null!==f&&f.action===Q.Update?"Update the selected question type":null!==f&&f.action===Q.View?"View more details for the selected question type":"New question type will be visible at the time of question preparation"})]})}),backDrop:!0,theme:v.c.default,close:function(){i(!1),O(null)},widthSizeClass:v.b.medium,displayClose:!0,backDropClose:!0,padding:{title:!0,body:!0},children:Object(P.jsx)(I,{closeModal:function(t){i(t),e.loadQuestionTypes(c)},questionTypes:e.questionTypes,PushPopupAlert:e.PushPopupAlert,selectedQuestionType:f,deleteSelected:O})}),null!==f&&f.action===Q.Delete&&Object(P.jsx)(v.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-extrabold text-2xl text-gray-500",children:f.selectedQuestionType.title})})}),backDrop:!0,theme:v.c.default,close:function(){return O(null)},widthSizeClass:v.b.medium,displayClose:!0,backDropClose:!0,padding:{title:!0,body:!0},children:Object(P.jsxs)("div",{className:"-mt-6",children:[Object(P.jsx)("span",{className:"text-red-600 font-bold",children:"Are you sure do you want to delete this question type?"}),Object(P.jsxs)("div",{className:"flex flex-row items-center justify-between mt-2",children:[Object(P.jsx)("div",{onClick:function(){return O(null)},className:"btn bg-gray-100 text-gray-700 cursor-pointer hover:bg-gray-200",children:"Cancel"}),Object(P.jsx)("div",{onClick:function(){return w(f.selectedQuestionType)},className:"btn bg-red-600 text-white cursor-pointer hover:bg-red-800",children:"Yes, Delete"})]})]})})]})})),z=function(e){var t;return Object(P.jsxs)("div",{className:"rounded flex flex-col gap-2 overflow-y-auto border pb-3 px-3",style:{height:"80vh"},children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mt-2 mb-1",children:"Choose school level"}),Object(P.jsx)("span",{className:"text-xs text-gray-500 italic mt-2 mb-1",children:"(Optional)"})]}),null===(t=e.schoolLevels.education_categories)||void 0===t?void 0:t.map((function(t,s){return Object(P.jsxs)("div",{onClick:function(){return!1===e.loading&&e.setEducationCategories(e.education_categories.find((function(e){return e===t.education_institute_id}))?e.education_categories.filter((function(e){return e!==t.education_institute_id})):[].concat(Object(w.a)(e.education_categories),[t.education_institute_id]))},className:"flex flex-row items-center gap-3 p-3 rounded cursor-pointer ".concat(e.education_categories.find((function(e){return e===t.education_institute_id}))?"bg-blue-50 text-blue-600":!0===e.loading?"bg-gray-100 text-gray-400":"bg-gray-100 text-gray-600"," ").concat(!0===e.loading?"hover:bg-gray-100 hover:text-gray-400":"hover:bg-blue-100 hover:text-blue-600"),children:[e.education_categories.find((function(e){return e===t.education_institute_id}))?Object(P.jsx)(k.a,{className:"text-3xl"}):Object(P.jsx)(k.b,{className:"text-3xl"}),Object(P.jsxs)("div",{className:"flex flex-col gap-0",children:[Object(P.jsx)("span",{className:"font-extrabold text-lg",children:t.education_category_title}),Object(P.jsx)("span",{className:"text-xs -mt-1",children:t.description})]})]},s+1)}))]})},F=function(e){var t,s=Object(r.useState)(""),l=Object(x.a)(s,2),c=l[0],n=l[1],a=Object(r.useState)(""),o=Object(x.a)(a,2),i=o[0],d=o[1],p=Object(r.useState)(""),j=Object(x.a)(p,2),h=j[0],m=j[1],f=Object(r.useState)([]),g=Object(x.a)(f,2),v=g[0],y=g[1],O=Object(r.useState)([]),w=Object(x.a)(O,2),k=w[0],A=(w[1],Object(r.useState)(null)),L=Object(x.a)(A,2),T=L[0],E=L[1],D=Object(r.useState)(!1),q=Object(x.a)(D,2),Q=q[0],V=q[1],U=function(){var t=Object(b.a)(u.a.mark((function t(s){var l,n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),(null===(l=e.selectedSchoolLevel)||void 0===l?void 0:l.action)!==R.Update||""!==c){t.next=5;break}return t.abrupt("return",E({element:"school_level_id",msg:"Please choose School level"}));case 5:if(""!==i){t.next=9;break}return t.abrupt("return",E({element:"school_level_title",msg:"Please fill the school level name"}));case 9:if(""!==h){t.next=13;break}return t.abrupt("return",E({element:"description",msg:"Please fill the description"}));case 13:if(V(!0),t.prev=14,null===e.selectedSchoolLevel||void 0===e.selectedSchoolLevel.selectedSchoolLevel.school_level_id){t.next=24;break}return t.next=18,N.a.patch("".concat(C.a.APPLICATION,"/schoollevel"),{school_level_id:c,school_level_name:i,description:h,education_institute:v,courses:k});case 18:n=t.sent,e.PushPopupAlert({title:"School level updated successfully",description:"After updating the School level, you have access to delete and update it!",theme:_.a.info}),e.closeModal(!1),console.log("Result: ",n),t.next=30;break;case 24:return t.next=26,N.a.post("".concat(C.a.APPLICATION,"/schoollevel"),{school_level_name:i,description:h,education_institute:v,courses:k});case 26:a=t.sent,e.PushPopupAlert({title:"School level added successfully",description:"After adding the School level, you have access to delete and update it!",theme:_.a.success}),e.closeModal(!1),console.log("Result: ",a);case 30:t.next=36;break;case 32:t.prev=32,t.t0=t.catch(14),e.PushPopupAlert({title:"Failed to add School level! Try again",theme:_.a.danger}),console.log("Err: ",Object(S.a)({},t.t0));case 36:V(!1);case 37:case"end":return t.stop()}}),t,null,[[14,32]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){null!==e.selectedSchoolLevel&&(""===c&&n(e.selectedSchoolLevel.selectedSchoolLevel.school_level_id),""===i&&d(e.selectedSchoolLevel.selectedSchoolLevel.school_level_name),""===h&&m(e.selectedSchoolLevel.selectedSchoolLevel.description),0===v.length&&y(e.selectedSchoolLevel.selectedSchoolLevel.education_institute))}),[e,c,i,h,v]),Object(P.jsx)("form",{onSubmit:U,className:"-mt-2",children:Object(P.jsxs)("div",{className:"grid md:grid-cols-12 gap-5",children:[Object(P.jsx)("div",{className:"col-span-6",children:Object(P.jsx)(z,{schoolLevels:e.school_levels,education_categories:v,setEducationCategories:y,loading:Q})}),Object(P.jsxs)("div",{className:"col-span-6",children:[Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mb-1",children:"Title"}),Object(P.jsx)("input",{disabled:Q,onChange:function(e){d(e.target.value),E(null)},type:"text",value:i,className:"input-white border-2 ".concat(null!==T&&"school_level_title"===T.element?"border-red-500":"border-gray-500")}),null!==T&&"school_level_title"===T.element&&Object(P.jsx)("span",{className:"text-red-600 font-bold text-xs",children:T.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 font-bold mt-2 mb-1",children:"Description"}),Object(P.jsx)("textarea",{disabled:Q,onChange:function(e){m(e.target.value),E(null)},value:h,className:"input-white border-2 ".concat(null!==T&&"description"===T.element?"border-red-500":"border-gray-500"),style:{minHeight:"100px"},children:h}),null!==T&&"description"===T.element&&Object(P.jsx)("span",{className:"text-red-600 font-bold text-xs",children:T.msg})]}),Object(P.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(null===(t=e.selectedSchoolLevel)||void 0===t?void 0:t.action)===R.View?Object(P.jsx)("button",{onClick:function(){return e.selectedSchoolLevel&&e.deleteSelected({action:R.Delete,selectedSchoolLevel:e.selectedSchoolLevel.selectedSchoolLevel})},type:"button",className:"btn border border-red-600 text-red-700",children:"Delete"}):Object(P.jsx)("div",{}),Object(P.jsx)("button",{disabled:Q,type:"submit",className:"btn bg-blue-600 text-white ".concat(!0===Q?"animate__animated animate__flash animate__infinite":""),children:!0===Q?"Please wait...":null!==e.selectedSchoolLevel?"Update":"Add"})]})]})]})})};!function(e){e.Create="Create",e.View="View",e.Delete="Delete",e.Update="Update"}(R||(R={}));var J,B=Object(m.b)((function(e){var t=e.auth,s=e.periods,l=e.schoolLevels;e.questionTypes;return{auth:t,periods:s,schoolLevels:l,system:e.system}}),{loadApplicationPeriods:f.Jb,setSelectedPeriod:f.kc,loadSchoolLevels:f.Vb,setSelectedEducationCategory:f.gc,PushPopupAlert:f.pb})((function(e){var t=Object(r.useState)(!1),s=Object(x.a)(t,2),l=s[0],c=s[1],n=Object(r.useState)(!1),a=Object(x.a)(n,2),o=a[0],i=a[1],d=Object(r.useState)(null),m=Object(x.a)(d,2),f=m[0],O=m[1],w=function(){var t=Object(b.a)(u.a.mark((function t(s){var l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===s.school_level_id){t.next=18;break}return c(!0),t.prev=2,t.next=5,N.a.delete("".concat(C.a.APPLICATION,"/schoollevel/").concat(s.school_level_id));case 5:l=t.sent,e.loadSchoolLevels(c),e.PushPopupAlert({title:"School level removed successfully",theme:_.a.success}),O(null),console.log("Deleted: ",l),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(2),e.PushPopupAlert({title:"Acton failed, Try again later!",theme:_.a.warning}),c(!1),O(null),console.log("err: ",Object(S.a)({},t.t0));case 18:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){null!==e.schoolLevels.school_levels&&0!==e.schoolLevels.school_levels.length||e.loadSchoolLevels(c)}),[e,c]),Object(P.jsxs)(r.Fragment,{children:[Object(P.jsxs)("div",{className:"mt-1",children:[Object(P.jsxs)("div",{className:"flex flex-row justify-between items-center bg-gray-100 py-1",children:[Object(P.jsx)("div",{className:"text-blue-600 font-extrabold text-xl px-2",children:"Lists of school levels"}),!1===l&&Object(P.jsx)("div",{onClick:function(){return i(!0)},className:"btn bg-blue-600 text-white cursor-pointer hover:bg-blue-800",children:"Add new"})]}),Object(P.jsx)("div",{className:"flex flex-col",children:null===e.schoolLevels.school_levels||!0===l?Object(P.jsx)(g.a,{}):0===e.schoolLevels.school_levels.length?Object(P.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(P.jsx)(h.d,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(P.jsx)("span",{children:"No question types available"})]}):e.schoolLevels.school_levels.map((function(e,t){return Object(P.jsxs)("div",{className:"border flex flex-row px-3 py-2 rounded items-center my-1 justify-between",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-gray-600 font-extrabold",children:e.school_level_name}),Object(P.jsx)("span",{className:"text-xs pr-5 text-gray-500",children:e.description})]}),Object(P.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(P.jsx)("div",{onClick:function(){return O({action:R.View,selectedSchoolLevel:e})},className:"bg-gray-50 hover:bg-gray-200 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(j.b,{className:"text-3xl text-gray-700"})}),Object(P.jsx)("div",{onClick:function(){return O({action:R.Update,selectedSchoolLevel:e})},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(p.E,{className:"text-3xl text-blue-700"})}),Object(P.jsx)("div",{onClick:function(){return O({action:R.Delete,selectedSchoolLevel:e})},className:"bg-gray-100 hover:bg-red-100 rounded-full px-1 py-1 cursor-pointer",children:Object(P.jsx)(y.n,{className:"text-3xl text-yellow-700"})})]})]})}))})]}),(!0===o||null!==f&&(f.action===R.Update||f.action===R.View))&&Object(P.jsx)(v.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"font-extrabold text-2xl text-gray-500",children:null!==f&&f.action===R.Update||null!==f&&f.action===R.View?f.selectedSchoolLevel.school_level_name:"Add new school level"}),Object(P.jsx)("span",{className:"text-sm text-gray-500 font-normal",children:null!==f&&f.action===R.Update?"Update the selected school level":null!==f&&f.action===R.View?"View more details for the selected school level":"School level will be used in different components in the system, make sure what you're creating"})]})}),backDrop:!0,theme:v.c.default,close:function(){i(!1),O(null)},widthSizeClass:v.b.extraLarge,displayClose:!0,backDropClose:!0,padding:{title:!0,body:!0},children:Object(P.jsx)(F,{closeModal:function(t){i(t),e.loadSchoolLevels(c)},school_levels:e.schoolLevels,PushPopupAlert:e.PushPopupAlert,selectedSchoolLevel:f,deleteSelected:O})}),null!==f&&f.action===R.Delete&&Object(P.jsx)(v.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-extrabold text-2xl text-gray-500",children:f.selectedSchoolLevel.school_level_name})})}),backDrop:!0,theme:v.c.default,close:function(){return O(null)},widthSizeClass:v.b.medium,displayClose:!0,backDropClose:!0,padding:{title:!0,body:!0},children:Object(P.jsxs)("div",{className:"-mt-6",children:[Object(P.jsx)("span",{className:"text-red-600 font-bold",children:"Are you sure do you want to delete this school level?"}),Object(P.jsxs)("div",{className:"flex flex-row items-center justify-between mt-2",children:[Object(P.jsx)("div",{onClick:function(){return O(null)},className:"btn bg-gray-100 text-gray-700 cursor-pointer hover:bg-gray-200",children:"Cancel"}),Object(P.jsx)("div",{onClick:function(){return w(f.selectedSchoolLevel)},className:"btn bg-red-600 text-white cursor-pointer hover:bg-red-800",children:"Yes, Delete"})]})]})})]})}));!function(e){e.questionTypes="questionTypes",e.courses="courses",e.educationCategory="educationCategory",e.schoolLevels="schoolLevels",e.chapters="chapters"}(J||(J={}));var H=function(e){Object(a.a)(s,e);var t=Object(o.a)(s);function s(e){var l;return Object(c.a)(this,s),(l=t.call(this,e)).state={loading:!0,settings:[{settingType:J.questionTypes,caption:"Question Types"},{settingType:J.courses,caption:"Courses"},{settingType:J.educationCategory,caption:"Education categories"},{settingType:J.schoolLevels,caption:"School levels"}],selectedSetting:J.educationCategory},l}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return Object(P.jsxs)("div",{className:"",children:[Object(P.jsxs)("div",{className:"mt-3 rounded flex flex-row justify-between items-center",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(P.jsx)(i.n,{className:"text-6xl text-blue-600"}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-blue-600 text-2xl font-bold",children:"Question Bank settings"}),Object(P.jsx)("span",{className:"text-gray-600 text-sm",children:"Customization of question bank predefined settings including courses, chapters, question types, etc"})]})]}),Object(P.jsx)("div",{className:"flex flex-row"})]}),Object(P.jsx)("div",{className:"mt-3 flex-col",children:Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("div",{className:"bg-white flex rounded mb-20",children:Object(P.jsxs)("div",{className:"bg-white w-full border border-white rounded",children:[Object(P.jsx)("div",{className:"flex flex-row items-center",children:this.state.settings.map((function(t,s){return Object(P.jsx)("div",{onClick:function(){return e.setState({selectedSetting:t.settingType})},className:"animate__animated ".concat(e.state.selectedSetting===t.settingType?"bg-blue-100 border-blue-600 text-blue-600 animate__zoomIn":"bg-white border-white text-gray-600"," hover:bg-blue-100 px-4 py-2 cursor-pointer font-bold border-b-4 hover:border-blue-600 hover:text-blue-600 rounded-t mt-1 mx-1"),children:t.caption})}))}),Object(P.jsxs)("div",{className:"=rounded mx-1 mb-1",children:[this.state.selectedSetting===J.questionTypes&&Object(P.jsx)(M,{}),this.state.selectedSetting===J.educationCategory&&Object(P.jsx)(V,{}),this.state.selectedSetting===J.schoolLevels&&Object(P.jsx)(B,{}),this.state.selectedSetting===J.courses&&Object(P.jsx)(D,{})]})]})})})})]})}}]),s}(r.Component)}}]);
//# sourceMappingURL=48.2844c6d6.chunk.js.map