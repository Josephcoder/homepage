(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[3],{166:function(e,t,o){"use strict";var r,n,s;o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return n})),function(e){e.USER_CONNECTED="user-connected",e.USER_DISCONNECTED="user-disconnected",e.JOIN_ROOM="join-room"}(r||(r={})),function(e){e.START_EXAM_CLIENT="START_EXAM_CLIENT",e.START_EXAM_SERVER="START_EXAM_SERVER",e.STOP_EXAM_CLIENT="STOP_EXAM_CLIENT",e.STOP_EXAM_SERVER="STOP_EXAM_SERVER",e.CAND_EVENT_CLIENT="CAND_EVENT_CLIENT",e.CAND_EVENT_SERVER="CAND_EVENT_SERVER",e.CAND_CONTINUE_EXAM_SERVER="CAND_CONTINUE_EXAM_SERVER",e.CAND_CONTINUE_EXAM_CLIENT="CAND_CONTINUE_EXAM_CLIENT",e.CAND_STOP_EXAM_CLIENT="CAND_STOP_EXAM_CLIENT",e.CAND_STOP_EXAM_SERVER="CAND_STOP_EXAM_SERVER",e.CAND_RESTART_EXAM_CLIENT="CAND_RESTART_EXAM_CLIENT",e.CAND_RESTART_EXAM_SERVER="CAND_RESTART_EXAM_SERVER",e.ALL_CAND_RESTART_EXAM_CLIENT="ALL_CAND_RESTART_EXAM_CLIENT",e.ALL_CAND_RESTART_EXAM_SERVER="ALL_CAND_RESTART_EXAM_SERVER",e.CAND_WARNING_EXAM_CLIENT="CAND_WARNING_EXAM_CLIENT",e.CAND_WARNING_EXAM_SERVER="CAND_WARNING_EXAM_SERVER",e.CAND_BRODCAST_MSG_CLIENT="CAND_BRODCAST_MSG_CLIENT",e.CAND_BRODCAST_MSG_SERVER="CAND_BRODCAST_MSG_SERVER",e.CAND_PRIVATE_MSG_CLIENT="CAND_PRIVATE_MSG_CLIENT",e.CAND_PRIVATE_MSG_SERVER="CAND_PRIVATE_MSG_SERVER",e.CAND_EXAM_EVENT_CLIENT="CAND_EXAM_EVENT_CLIENT",e.CAND_EXAM_EVENT_SERVER="CAND_EXAM_EVENT_SERVER"}(n||(n={})),function(e){e.PASTE_A_TEXT="PASTE A TEXT",e.MOVE_MOUSE_OUT="MOVE MOUSE OUT WINDOW"}(s||(s={}))},170:function(e,t,o){"use strict";o.r(t),o.d(t,"Container_ProctoringCandidateOnline",(function(){return T}));var r=o(15),n=o(16),s=o(18),i=o(17),c=o(3),a=o.n(c),l=o(8),_=o(166),d=o(68),E=o(5),u=o(1),p=function(e){var t=e.title,o=e.description,r=e.close;return Object(u.jsx)("div",{onClick:function(){return r()},className:"fixed top-3 cursor-pointer bg-opacity-70 bg-yellow-100 hover:bg-opacity-90 w-lg right-0 left-0 mt-6 rounded-md mx-auto  py-5 px-3 max-w-sm animate__bounceIn",children:Object(u.jsxs)("div",{className:"w-full flex",children:[Object(u.jsx)("div",{className:"",children:Object(u.jsx)(E.x,{className:"text-6xl inline text-yellow-800 opacity-50"})}),Object(u.jsxs)("div",{className:"flex-1 pl-2",children:[Object(u.jsx)("h1",{className:"text-xl text-yellow-800 font-bold",children:t}),Object(u.jsx)("p",{className:"mt-0 text-gray-700",children:o})]})]})})},m=o(2),x=!1,N=function(e){Object(s.a)(o,e);var t=Object(i.a)(o);function o(e){var n;return Object(r.a)(this,o),(n=t.call(this,e)).componentWillUnmount=function(){n.props.socket.socket.off(_.b.START_EXAM_CLIENT),n.props.socket.socket.off(_.b.STOP_EXAM_CLIENT),n.props.socket.socket.off(_.b.CAND_CONTINUE_EXAM_CLIENT),n.props.socket.socket.off(_.b.CAND_RESTART_EXAM_CLIENT),n.props.socket.socket.off(_.b.CAND_WARNING_EXAM_CLIENT),n.props.socket.socket.off(_.b.CAND_STOP_EXAM_CLIENT)},n.examStart=function(e){!0===e?(n.setState({request_fullScreen:!0,exit_fullScreen:!1}),n.props.FC_MeStartStopExam(!0),n.props.startExam()):(n.setState({request_fullScreen:!1,exit_fullScreen:!0}),n.props.FC_MeStartStopExam(!1),n.props.stopExam())},n.closeInfoModal=function(){return n.setState({inform_modal:{active:!1,description:"",title:""}})},n.requestFullScreen=function(){document.fullscreenElement||document.documentElement.requestFullscreen(),n.setState({request_fullScreen:!1,exit_fullScreen:!1})},n.exitFullScreen=function(){n.setState({request_fullScreen:!1,exit_fullScreen:!1}),document.fullscreenElement&&document.exitFullscreen&&document.exitFullscreen()},n.eventBrodcaster=function(e,t){if(!0===n.props.proctoring.room.start_exam){var o=Object(d.l)({description:t,user_id:n.props.auth.user.user_id,done_by:"System",room_id:n.props.proctoring.room.room_id,event_type:e});n.props.FC_CandidateExamEvent(o),n.props.stopExam(),n.props.FC_BlockExam(!0),n.props.socket.socket.emit(_.b.CAND_EXAM_EVENT_SERVER,o)}},n.state={request_fullScreen:n.props.proctoring.room.start_exam,exit_fullScreen:!1,warning:null,inform_modal:{title:"",description:"",active:!1}},n}return Object(n.a)(o,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user,o=t.email,r=t.fname,n=t.lname,s=t.user_id;!1===x&&(this.props.FC_AddMyDataToProctoring({active:!0,email:o,fname:r,lname:n,user_id:s,muted:!1,stopped:!1,peer:"",peer_id:"",ref:""}),this.props.socket.socket.emit(_.a.JOIN_ROOM,{room_id:this.props.proctoring.room.room_id,user_id:this.props.auth.user.user_id,peer_id:""},(function(e){})),x=!0),this.props.socket.socket.on(_.b.START_EXAM_CLIENT,(function(t){return e.examStart(!0)})),this.props.socket.socket.on(_.b.STOP_EXAM_CLIENT,(function(t){return e.examStart(!1)})),this.props.socket.socket.on(_.b.CAND_WARNING_EXAM_CLIENT,(function(t){e.setState((function(e){return{warning:!0,inform_modal:{title:"WARNING",description:t.msg,active:!0}}})),e.props.FC_CandidateExamEvent(Object(d.l)({description:t.msg,event_type:"WARNING",done_by:"Invigirator",room_id:e.props.proctoring.room.room_id,user_id:t.user_id}))})),this.props.socket.socket.on(_.b.CAND_STOP_EXAM_CLIENT,(function(t){t.user_id===e.props.auth.user.user_id&&(e.setState((function(e){return{inform_modal:{title:"STOP EXAM",description:t.msg,active:!0}}})),e.props.FC_BlockExam(!0),e.props.FC_CandidateExamEvent(Object(d.l)({description:t.msg,event_type:"STOP EXAM",done_by:"Supervisor",room_id:t.room_id,user_id:t.user_id})))})),this.props.socket.socket.on(_.b.CAND_CONTINUE_EXAM_CLIENT,(function(t){t.user_id===e.props.auth.user.user_id&&!0===e.props.proctoring.me.stopped&&(e.setState((function(e){return{inform_modal:{title:"CONTINUE EXAM",description:"Invigirator allowed you to continue the exam",active:!0}}})),e.props.FC_BlockExam(!1),e.props.FC_CandidateExamEvent(Object(d.l)({description:"Invigirator allowed you to continue the exam",event_type:"CONTINUE EXAM",done_by:"Supervisor",room_id:t.room_id,user_id:t.user_id})))})),this.props.socket.socket.on(_.b.CAND_RESTART_EXAM_CLIENT,(function(t){t.user_id===e.props.auth.user.user_id&&(e.setState((function(e){return{inform_modal:{title:"RESTART EXAM",description:t.msg,active:!0}}})),e.props.FC_BlockExam(!1),e.props.FC_CandidateExamEvent(Object(d.l)({description:t.msg,event_type:"RESTART EXAM",done_by:"Supervisor",room_id:t.room_id,user_id:t.user_id})),e.props.restartExam())})),document.addEventListener("copy",(function(t){!0===e.props.proctoring.room.start_exam&&t.preventDefault(),e.eventBrodcaster("COPY TEXT","The candidate is try to copy the text")})),document.addEventListener("paste",(function(t){!0===e.props.proctoring.room.start_exam&&t.preventDefault(),e.eventBrodcaster("TEXT PASTE","pasted a text")})),document.addEventListener("visibilitychange",(function(t){return e.eventBrodcaster("ZOOMING OUT","Changing the visibility")})),window.addEventListener("blur",(function(){return e.eventBrodcaster("LEAVING BROWSER","The candidate is try to leave the browser")})),document.addEventListener("contextmenu",(function(t){!0===e.props.proctoring.room.start_exam&&t.preventDefault()}))}},{key:"render",value:function(){var e=this;if(!0===this.props.proctoring.me.stopped&&!0===this.props.proctoring.room.start_exam){var t,o,r=null,n=this.props.proctoring.events;return n.length>=1&&(r=n[n.length-1]),Object(u.jsxs)("div",{className:"p-5 mx-auto mt-6 text-center bg-red-100 max-w-lg max-w-2/3 w-full rounded-md animate__bounceIn",children:[Object(u.jsx)(E.H,{className:"text-9xl text-red-900 inline"}),Object(u.jsxs)("h1",{className:"text-2xl text-red-900 font-bold",children:["You have beed stopped ",Object(u.jsx)("br",{})," to continue the exam"]}),null!==r&&Object(u.jsxs)(c.Fragment,{children:[Object(u.jsxs)("div",{className:"mt-2",children:[Object(u.jsx)("h5",{className:"text-lg  text-red-800 inline-block",children:"You violated the rule of:"}),Object(u.jsx)("h2",{className:"text-md text-white font-bold bg-red-600 border-4 py-0.5 px-3 rounded-full inline-block ml-2 mx-auto",children:null===(t=r)||void 0===t?void 0:t.event_type})]}),Object(u.jsx)("h3",{className:"text-md text-red-800 mt-3 font-bold",children:null===(o=r)||void 0===o?void 0:o.description})]}),Object(u.jsxs)("div",{className:"mt-5 border-t border-red-900 border-opacity-50 text-sm text-red-900 text-opacity-80 pt-3 mx-5",children:[Object(u.jsx)("b",{children:"The exam will be saved from where you left off,"})," ",Object(u.jsx)("br",{}),"You can explain the situation to the supervisor ",Object(u.jsx)("br",{})," If your reasons are clear you will be gived another chance"]})]})}return!0===this.state.request_fullScreen?Object(u.jsx)("div",{className:"bg-green-100 w-auto mt-6 rounded-md mx-auto text-center p-5 max-w-sm animate__bounceIn",children:Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)(E.v,{className:"text-9xl inline text-green-600 opacity-50"}),Object(u.jsxs)("h1",{className:"text-3xl text-green-500 font-bold",children:["Go Full-Screen mode"," "]}),Object(u.jsxs)("p",{className:"mt-2 text-gray-700",children:["You need to go in ",Object(u.jsx)("b",{children:"Full-screen mode"}),", in order to get a good experience (Important)"]}),Object(u.jsx)("button",{className:" bg-green-600 hover:bg-green-800 text-white p-3 font-bold text-md rounded-md w-full mt-3",onClick:function(){return e.requestFullScreen()},children:"Yes, go full-screen"})]})}):!0===this.state.exit_fullScreen?Object(u.jsx)("div",{className:"bg-blue-100 w-auto mt-6 rounded-md mx-auto text-center p-5 max-w-sm animate__bounceIn",children:Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)(E.u,{className:"text-9xl inline text-blue-600 opacity-50"}),Object(u.jsx)("h1",{className:"text-3xl text-blue-600 font-bold",children:"Quit Full-Screen mode"}),Object(u.jsxs)("p",{className:"mt-2 text-gray-700",children:["Exam is completed, you can quit the ",Object(u.jsx)("b",{children:"Fullscreen mode"}),"(optional)"]}),Object(u.jsx)("button",{className:" bg-blue-600 text-white p-3 font-bold text-md rounded-md w-full mt-3",onClick:function(){return e.exitFullScreen()},children:"Exit full-screen"})]})}):Object(u.jsxs)(c.Fragment,{children:[!0===this.state.inform_modal.active&&Object(u.jsx)(p,{title:this.state.inform_modal.title,description:this.state.inform_modal.description,close:this.closeInfoModal}),this.props.children]})}}]),o}(a.a.Component),A=Object(l.b)((function(e){return{socket:e.socket,auth:e.auth,proctoring:e.proctoring}}),{eventDefiner:d.l,FC_AddMyDataToProctoring:m.c,FC_MeStartStopExam:m.s,FC_CandidateExamEvent:m.e,FC_BlockExam:m.d})(N),T=function(e){Object(s.a)(o,e);var t=Object(i.a)(o);function o(e){var n;return Object(r.a)(this,o),(n=t.call(this,e)).startExamHandler=function(){return console.log("START EXAM HANDLER")},n.stopExamHandler=function(){return console.log("STOP EXAM HANDLER")},n.reStartExamHandler=function(){return console.log("RESTART EXAM HANDLER")},n.state={},n}return Object(n.a)(o,[{key:"render",value:function(){return Object(u.jsx)(A,{startExam:this.startExamHandler,restartExam:this.reStartExamHandler,stopExam:this.stopExamHandler,children:Object(u.jsx)("div",{className:"container px-4 mx-auto",children:Object(u.jsx)("div",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Doloribus quo praesentium rerum maxime facilis, deserunt, tempore atque, expedita ab distinctio odit numquam? Impedit corporis dignissimos reprehenderit fuga optio incidunt. Odio."})})})}}]),o}(a.a.Component)}}]);
//# sourceMappingURL=3.e8ba4b6e.chunk.js.map