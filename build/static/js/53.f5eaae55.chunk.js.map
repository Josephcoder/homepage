{"version":3,"sources":["containers/MarksPublication/MarksPublication.tsx","containers/MarksPublication/ChoosePosition.tsx","containers/MarksPublication/MarksPublicationForm.tsx","actions/marks_publication.ts","containers/MarksPublication/SetPassMarks.tsx","containers/MarksPublication/DoPlacement.tsx","actions/session.ts","actions/settings.ts","components/Loading/TableLoading.tsx"],"names":["pageTabs","ChoosePosition","props","setCustomMarks","thisPosition","value","currentSelectedList","customMarks","index","findIndex","item","id","marks","Number","push","getMarkByPosition","find","setSearchInput","setState","searchInput","state","className","type","placeholder","onChange","e","target","this","disabled","positionList","length","onClick","setChoosePosition","searchData","map","element","position_title","min","max","position_id","defaultMarks","Component","MarksPublicationForm","choosePosition","setFormError","formError","changeDefaultMarks","window","confirm","setInputMarks","cleanBeforeClose","modalAction","setInputComment","setModalAction","handleSubmit","a","preventDefault","msg","isEmptyOrSpaces","inputComment","positionWithMarks","forEach","positionItem","thisCustomMarks","position","comment","inputMarks","requestData","session","sessions","session_plan_id","doneby","auth","user","user_id","created_date","moment","toDate","format","toString","publication_position_marks","console","log","setLoadingRequest","axios","post","API","CLAIMING","res","createMarksPublication","data","PushPopupAlert","title","theme","PopupAlertTheme","success","error","errorToText","danger","searchPosition","onSubmit","method","capitalizeFirstLetter","session_plan_name","marksArray","loadingRequest","cols","rows","style","resize","connect","ActionTypes","CREATE_MARKS_PUBLICATION","payload","SetPassMarks","searchPublishedMarks","objList","text","undefined","filter","product","flag","prop","toLowerCase","indexOf","loadPublicationCounts","allMarks","marksBySession","get","publication_id","setPublicationCount","loadPublicationCounts_reply","publicationCount","setLoading","loading","componentDidMount","marksPublication","getNeededData","allPosition","publicationCountData","result","marksByPosition","publicationCountByPosition","province_id","province_name","courses","description","school_level_id","education_institute_id","requirements","isDeleted","isPublished","candidate_applied","candidate_passed","TableLoading","i","isUpdateOn","defaultChanged","colSpan","NoResult","NoResultThemes","Dark","setLevelSearch","levelSearch","setPositionInput","positionInput","setDoPlacementCounts","doPlacementCount","doPlacement","positionId","PLACEMENT","loadDoPlacementCounts","msgAlert","info","doPlacement_reply","getPositionByLevel","positions","levelId","schoolLevels","school_levels","loadSchoolLevels","doPlacementCounts","doPlacementCounts_reply","getDoPlacementCountsById","_id","dataToDisplay","positionData","countData","thisCount","waiting","request","level","school_level_name","update","n","status","setThisTab","tab","thisTabs","setThisPosition","setPositionId","loadPositions","systemPositions","getPositions","getActiveSessionPlan","getMarksPublication","FC_neededPositions","withMarks","withoutMarks","publishedPosition","isMarkPublished","thisPublishedMarks","publication_status","isUpdateAllowed","handleUpdate","thisSession","positionSetPassMarks","createdAt","updatedAt","put","updateMarksPublication","getWaitingList","sessionId","callback","DO_EXAM","getWaitingListError","handlePublishMarks","match","params","Object","values","DoPlacement","MarksPublication","sessionPlan","system_settings","activeSessionPlan","dispatch","setAxiosToken","responseData","GetMarksPublication","GET_MARKS_PUBLICATION","UPDATE_MARKS_PUBLICATION","GetPlansTypes","GET_PLANS_TYPES","plan_types","setSelectedPlanType","thisType","SELECT_PLAN_TYPE","GET_ACTIVE_SESSION_PLANS","session_plan","is_active","GetAllSessionPlans","GET_ALL_SESSION_PLANS","session_data","createSessionPlan","CREATE_SESSION_PLAN","updateSessionPlan","UPDATE_SESSION_PLAN","sessionActivation","SESSION_ACTIVATION","deleteSessionPlan","DELETE_SESSION_PLAN","createAcademicSession","CREATE_ACADEMIC_SESSION","GetAllAcademicSession","GET_ALL_ACADEMIC_SESSION","updateAcademicSession","UPDATE_ACADEMIC_SESSION","academicSessionActivation","ACADEMIC_SESSION_ACTIVATION","deleteAcademicSession","DELETE_ACADEMIC_SESSION","getActiveAcademicSession","GET_ACTIVE_ACADEMIC_SESSION","getSystemSettings","AUTH","GET_SYSTEM_SETTINGS","code_error","disableSystemSetting","DISABLE_SYSTEM_SETTINGS","GetTaskAccess","response","task","key","permitted","GET_TASK_ACCESS","APPLICATION","GET_POSTIONS","deletePosition","DELETE_POSITION","publishPosition","PUBLISH_POSITION","displayCols","colsArray"],"mappings":"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","file":"static/js/53.f5eaae55.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { MdArrowBack } from \"react-icons/md\";\nimport { RiFolderSettingsFill } from \"react-icons/ri\";\nimport { connect } from \"react-redux\";\nimport { Auth, PushPopupAlert } from \"../../actions\";\nimport {\n  getMarksPublication,\n  updateMarksPublication,\n} from \"../../actions/marks_publication\";\nimport { getActiveSessionPlan } from \"../../actions/session\";\nimport { getPositions } from \"../../actions/settings\";\nimport { PopupAlertData } from \"../../components/Alert/Popup\";\nimport { PositionAPI, SessionPlanInterface } from \"../../interfaces\";\nimport {\n  marksPublicationInterface,\n  publicationInterface,\n} from \"../../interfaces/marks_publication\";\nimport { PopupAlertTheme } from \"../../interfaces/popupAlert\";\nimport { StoreState } from \"../../reducers\";\nimport { API } from \"../../utils/api\";\nimport { errorToText } from \"../../utils/errors\";\nimport MarksPublicationForm from \"./MarksPublicationForm\";\nimport SetPassMarks from \"./SetPassMarks\";\nimport DoPlacement from \"./DoPlacement\";\nimport { match } from \"react-router\";\n\nexport const marksArray = (update: boolean = false): (number | null)[] => {\n  let result: (number | null)[] = update ? [null] : [0],\n    n: number = 0;\n  while (n <= 100) {\n    result.push(n);\n    n++;\n  }\n  return result;\n};\n\nenum pageTabs {\n  withMarks = \"Pass marks\",\n  withoutMarks = \"Do placement\",\n}\n\ninterface MatchParams {\n  tab: string;\n}\n\ninterface MarksPublicationProps {\n  auth: Auth;\n  systemPositions: PositionAPI[] | null;\n  sessions: SessionPlanInterface | \"none\" | null;\n  marksPublication: marksPublicationInterface[] | null;\n  getActiveSessionPlan: Function;\n  getPositions: Function;\n  getMarksPublication: Function;\n  updateMarksPublication: Function;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n  match: match<MatchParams>;\n}\n\ninterface MarksPublicationState {\n  loading: boolean;\n  loadingRequest: boolean;\n  modalAction: \"CREATE\" | \"UPDATE\" | false;\n  searchPosition: string;\n  thisTabs: pageTabs;\n  positionId: string[];\n  thisPosition: PositionAPI | null;\n  inputMarks: number;\n  inputComment: string;\n  customMarks: { id: string; marks: number }[];\n  defaultChanged: boolean;\n}\n\nclass index extends Component<MarksPublicationProps, MarksPublicationState> {\n  constructor(props: MarksPublicationProps) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      loadingRequest: false,\n      modalAction: false,\n      searchPosition: \"\",\n      thisTabs:\n        this.props.match.params.tab &&\n        this.props.match.params.tab === \"do-placement\"\n          ? pageTabs.withoutMarks\n          : pageTabs.withMarks,\n      positionId: [],\n      thisPosition: null,\n      inputMarks: 70,\n      inputComment: \"\",\n      customMarks: [],\n      defaultChanged: false,\n    };\n  }\n\n  setLoading = (status: boolean) => {\n    this.setState({ loading: status });\n  };\n\n  setLoadingRequest = (status: boolean) => {\n    this.setState({ loadingRequest: status });\n  };\n\n  setModalAction = (status: \"CREATE\" | \"UPDATE\" | false) => {\n    this.setState({ modalAction: status });\n  };\n\n  setThisTab = (tab: pageTabs) => {\n    if (tab !== this.state.thisTabs) {\n      this.setState({ thisTabs: tab, positionId: [], thisPosition: null });\n    }\n  };\n\n  setThisPosition = (value: PositionAPI | null) => {\n    this.setState({ thisPosition: value });\n  };\n\n  setPositionId = (value: string[]) => {\n    this.setState({\n      positionId: value,\n    });\n  };\n\n  setCustomMarks = (value: { id: string; marks: number }[]) => {\n    this.setState({\n      customMarks: value,\n    });\n  };\n\n  setInputMarks = (value: number) => {\n    this.setState({ inputMarks: value });\n  };\n\n  setInputComment = (value: string) => {\n    this.setState({ inputComment: value });\n  };\n\n  loadPositions = () => {\n    if (this.props.systemPositions === null) {\n      this.props.getPositions((status: boolean, msg: string) => {\n        this.setLoading(status);\n        console.log({ status: status, msg: msg });\n        if (!status && msg.length) {\n          this.props.PushPopupAlert({\n            title: msg,\n            theme: PopupAlertTheme.danger,\n          });\n        }\n      });\n    } else if (this.state.loading) {\n      this.setLoading(false);\n    }\n  };\n\n  componentDidMount = () => {\n    // SESSION CONTROLLER ========================================\n    if (this.props.sessions === null || this.props.sessions === \"none\") {\n      this.props.getActiveSessionPlan(\n        (status: boolean, msg: string, data: SessionPlanInterface | \"none\") => {\n          this.setLoading(status);\n          if (!status) {\n            if (msg.length) {\n              this.props.PushPopupAlert({\n                title: msg,\n                theme: PopupAlertTheme.danger,\n              });\n            }\n\n            if (data && data !== \"none\") {\n              this.loadPositions();\n            }\n          }\n        }\n      );\n    } else {\n      this.loadPositions();\n    }\n\n    if (this.props.marksPublication === null) {\n      this.props.getMarksPublication(\n        (status: boolean, msg: string, data?: marksPublicationInterface[]) => {\n          this.setLoading(status);\n          if (!status && msg.length > 0) {\n            this.props.PushPopupAlert({\n              title: msg,\n              theme: PopupAlertTheme.danger,\n            });\n          }\n\n          if (!status && data) {\n            console.log(\"====================================\");\n            console.log({ data });\n            console.log(\"====================================\");\n          }\n        }\n      );\n    }\n  };\n\n  FC_neededPositions = (\n    allPosition: PositionAPI[]\n  ): {\n    withoutMarks: PositionAPI[];\n    withMarks: PositionAPI[];\n  } => {\n    let result: {\n      withoutMarks: PositionAPI[];\n      withMarks: PositionAPI[];\n    } = { withMarks: [], withoutMarks: [] };\n    let publishedPosition: PositionAPI[] = allPosition.filter(\n      (item) => item.isPublished && !item.isDeleted\n    );\n\n    result.withoutMarks = publishedPosition;\n\n    return result;\n  };\n\n  isMarkPublished = (\n    marksPublication: marksPublicationInterface[],\n    session: SessionPlanInterface\n  ): boolean => {\n    if (marksPublication.length > 0) {\n      const thisPublishedMarks = marksPublication.find(\n        (item) => item.session === session.session_plan_id\n      );\n      if (\n        thisPublishedMarks &&\n        thisPublishedMarks.publication_status === \"PUBLISHED\"\n      ) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  isUpdateAllowed = (\n    marksPublication: marksPublicationInterface[],\n    session: SessionPlanInterface\n  ): boolean => {\n    if (marksPublication.length > 0) {\n      const thisPublishedMarks = marksPublication.find(\n        (item) => item.session === session.session_plan_id\n      );\n      if (thisPublishedMarks) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  changeDefaultMarks = (value: number) => {\n    if (this.state.customMarks.length > 0) {\n      if (\n        window.confirm(\n          \"Do you want the default pass mark to override the customized pass marks on some position\"\n        )\n      ) {\n        this.setCustomMarks([]);\n      }\n    }\n    this.setState({ defaultChanged: true });\n    this.setInputMarks(value);\n  };\n\n  handleUpdate = async () => {\n    if (this.props.sessions === null) {\n      return this.props.PushPopupAlert({\n        title: `Load session first!`,\n        theme: PopupAlertTheme.info,\n      });\n    }\n\n    if (this.props.sessions === \"none\") {\n      return this.props.PushPopupAlert({\n        title: `No active session available!`,\n        theme: PopupAlertTheme.info,\n      });\n    }\n\n    if (this.props.marksPublication === null) {\n      return this.props.PushPopupAlert({\n        title: `Load published pass marks first!`,\n        theme: PopupAlertTheme.info,\n      });\n    }\n\n    const thisSession = this.props.sessions;\n\n    const thisPublishedMarks = this.props.marksPublication.find(\n      (item) => item.session === thisSession.session_plan_id\n    );\n\n    if (!thisPublishedMarks) {\n      return this.props.PushPopupAlert({\n        title: `No pass marks publication available! Add pass marks instead!`,\n        theme: PopupAlertTheme.info,\n      });\n    }\n\n    if (this.state.customMarks.length <= 0 && !this.state.defaultChanged) {\n      return this.props.PushPopupAlert({\n        title: `No change have been done!`,\n        theme: PopupAlertTheme.info,\n      });\n    }\n\n    if (!window.confirm(`Are you sure you wanted to update`)) {\n      return;\n    }\n\n    let requestData: marksPublicationInterface,\n      positionSetPassMarks: publicationInterface[] = [];\n\n    thisPublishedMarks.publication_position_marks.forEach((positionItem) => {\n      if (this.state.customMarks.length > 0) {\n        const thisCustomMarks = this.state.customMarks.find(\n          (item) => item.id === positionItem.position\n        );\n        if (thisCustomMarks) {\n          positionSetPassMarks.push({\n            _id: positionItem._id,\n            position: thisCustomMarks.id,\n            marks: thisCustomMarks.marks,\n            comment: positionItem.comment,\n          });\n        } else {\n          if (this.state.defaultChanged) {\n            positionSetPassMarks.push({\n              _id: positionItem._id,\n              position: positionItem.position,\n              marks: this.state.inputMarks,\n              comment: positionItem.comment,\n            });\n          } else {\n            positionSetPassMarks.push({\n              _id: positionItem._id,\n              position: positionItem.position,\n              marks: positionItem.marks,\n              comment: positionItem.comment,\n            });\n          }\n        }\n      } else {\n        if (this.state.defaultChanged) {\n          positionSetPassMarks.push({\n            _id: positionItem._id,\n            position: positionItem.position,\n            marks: this.state.inputMarks,\n            comment: positionItem.comment,\n          });\n        } else {\n          positionSetPassMarks.push({\n            _id: positionItem._id,\n            position: positionItem.position,\n            marks: positionItem.marks,\n            comment: positionItem.comment,\n          });\n        }\n      }\n    });\n\n    requestData = {\n      session: thisPublishedMarks.session,\n      doneby: this.props.auth.user.user_id,\n      created_date: thisPublishedMarks.created_date,\n      publication_position_marks: positionSetPassMarks,\n      publication_id: thisPublishedMarks.publication_id,\n      publication_status: thisPublishedMarks.publication_status,\n      status: thisPublishedMarks.status,\n      createdAt: thisPublishedMarks.createdAt,\n      updatedAt: thisPublishedMarks.updatedAt,\n    };\n\n    console.log(\"====================================\");\n    console.log({ requestData });\n    console.log(\"====================================\");\n\n    this.setLoadingRequest(true);\n    try {\n      const res = await axios.put<marksPublicationInterface>(\n        `${API.CLAIMING}/publication/${thisPublishedMarks.publication_id}`,\n        requestData\n      );\n      if (res) {\n        console.log(\"====================================\");\n        console.log({ res });\n        console.log(\"====================================\");\n        // this.props.verifyDocument(api_redux);\n        this.props.updateMarksPublication(res.data);\n        this.props.PushPopupAlert({\n          title: `Pass mark updated successfully!`,\n          theme: PopupAlertTheme.success,\n        });\n      }\n      this.cleanBeforeClose();\n    } catch (error) {\n      console.error(error);\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n    this.setLoadingRequest(false);\n  };\n\n  getWaitingList = async (sessionId: string, callback: Function) => {\n    callback(true, \"\");\n    try {\n      const res = await axios.get<marksPublicationInterface>(\n        `${API.DO_EXAM}/waiting/publication/${sessionId}`\n      );\n      if (res) {\n        console.log(\"====================================\");\n        console.log({ getWaitingList: res });\n        console.log(\"====================================\");\n        callback(false, \"\");\n      }\n    } catch (error) {\n      console.error({ getWaitingListError: error });\n      callback(false, errorToText(error));\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n    this.setLoadingRequest(false);\n  };\n\n  handlePublishMarks = async () => {\n    if (this.props.sessions === null) {\n      return this.props.PushPopupAlert({\n        title: `Load session first!`,\n        theme: PopupAlertTheme.info,\n      });\n    }\n\n    if (this.props.sessions === \"none\") {\n      return this.props.PushPopupAlert({\n        title: `No active session available!`,\n        theme: PopupAlertTheme.info,\n      });\n    }\n\n    if (this.props.marksPublication === null) {\n      return this.props.PushPopupAlert({\n        title: `Load published pass marks first!`,\n        theme: PopupAlertTheme.info,\n      });\n    }\n\n    const thisSession = this.props.sessions;\n\n    const thisPublishedMarks = this.props.marksPublication.find(\n      (item) => item.session === thisSession.session_plan_id\n    );\n\n    if (!thisPublishedMarks) {\n      return this.props.PushPopupAlert({\n        title: `No pass marks publication available! Add pass marks instead!`,\n        theme: PopupAlertTheme.info,\n      });\n    }\n\n    if (!window.confirm(`Are you sure you wanted to publish marks`)) {\n      return;\n    }\n\n    console.log(\"====================================\");\n    console.log({ thisPublishedMarks: thisPublishedMarks.publication_id });\n    console.log(\"====================================\");\n\n    this.setLoadingRequest(true);\n    await this.getWaitingList(\n      thisSession.session_plan_id,\n      async (status: boolean, msg: string) => {\n        if (!status && msg.length === 0) {\n          try {\n            const res = await axios.put<marksPublicationInterface>(\n              `${API.CLAIMING}/publication/publication/${thisPublishedMarks.publication_id}`\n            );\n            if (res) {\n              console.log(\"====================================\");\n              console.log({ res });\n              console.log(\"====================================\");\n              // this.props.verifyDocument(api_redux);\n              this.props.getMarksPublication((status: boolean, msg: string) => {\n                if (!status && msg.length > 0) {\n                  this.props.PushPopupAlert({\n                    title: msg,\n                    theme: PopupAlertTheme.danger,\n                  });\n                }\n              });\n              // this.props.updateMarksPublication(res.data);\n              this.props.PushPopupAlert({\n                title: `Pass mark published successfully!`,\n                theme: PopupAlertTheme.success,\n              });\n            }\n            this.cleanBeforeClose();\n          } catch (error) {\n            console.error(error);\n            this.props.PushPopupAlert({\n              title: errorToText(error),\n              theme: PopupAlertTheme.danger,\n            });\n          }\n        }\n      }\n    );\n    this.setLoadingRequest(false);\n  };\n\n  cleanBeforeClose = () => {\n    if (this.state.modalAction === \"UPDATE\") {\n      this.setInputMarks(70);\n      this.setInputComment(\"\");\n      this.setCustomMarks([]);\n      this.setModalAction(false);\n      this.setState({ defaultChanged: false });\n    }\n  };\n\n  render() {\n    if (\n      this.props.sessions === null ||\n      this.props.systemPositions === null ||\n      this.props.marksPublication === null ||\n      this.state.loading\n    ) {\n      return (\n        <div className=\"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse\">\n          Loading...\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <div className=\"mt-3 rounded flex flex-row justify-between items-center\">\n          <div className=\"flex flex-row items-center gap-3\">\n            <RiFolderSettingsFill className=\"text-6xl text-blue-600\" />\n            <div className=\"flex flex-col\">\n              <span className=\"text-blue-600 text-2xl font-bold\">\n                Marks publication\n              </span>\n              <div className=\"flex items-center gap-1\">\n                <span className=\"text-gray-600 text-base italic\">Session:</span>\n                <span className=\"text-gray-600 text-base font-bold\">\n                  {this.props.sessions &&\n                    this.props.sessions !== \"none\" &&\n                    this.props.sessions.session_plan_name}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* CONTENT BODY =============================== */}\n        <div className=\"mt-1 p-1 bg-white\">\n          {/* CONTENT BODY TITLE ========================== */}\n          <div\n            className={`flex flex-col sm:flex-row items-center gap-1 bg-gray-100 py-1 ${\n              this.props.sessions &&\n              this.props.sessions !== \"none\" &&\n              \"justify-between\"\n            }`}\n          >\n            <div className=\"flex items-center gap-x-2\">\n              {/* BACK BUTTON CONTROLLER ============== */}\n              {this.props.sessions &&\n                this.props.sessions !== \"none\" &&\n                this.state.modalAction === \"CREATE\" && (\n                  <button\n                    className={`ml-3 bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none ${\n                      this.state.loadingRequest\n                        ? \"cursor-not-allowed\"\n                        : \"cursor-pointer\"\n                    } animate__animated animate__fadeIn`}\n                    disabled={this.state.loadingRequest}\n                    onClick={() =>\n                      this.setState({\n                        modalAction: false,\n                        positionId: [],\n                        inputMarks: 70,\n                        inputComment: \"\",\n                      })\n                    }\n                  >\n                    <MdArrowBack className=\"w-7 h-7\" />\n                  </button>\n                )}\n              {/* END BACK BUTTON CONTROLLER ============== */}\n              {/* ----------------------------------------------------------------- */}\n              {/* TABS CONTROLLER ============== */}\n              <div className=\"flex flex-row items-center\">\n                {Object.values(pageTabs).map((item, i) => (\n                  <button\n                    key={i}\n                    onClick={() => this.setThisTab(item)}\n                    disabled={this.state.loadingRequest}\n                    className={`animate__animated ${\n                      this.state.thisTabs === item\n                        ? \"bg-blue-100 border-blue-600 text-blue-600 animate__zoomIn\"\n                        : \"bg-white border-white text-gray-600 \"\n                    } hover:bg-blue-100 px-4 py-2 cursor-pointer font-bold border-b-4 hover:border-blue-600 hover:text-blue-600 rounded-t my-1 mx-1 ${\n                      this.state.loadingRequest && \"cursor-not-allowed\"\n                    }`}\n                    title={\n                      this.state.loadingRequest ? \"Request processing\" : \"\"\n                    }\n                  >\n                    {item}\n                  </button>\n                ))}\n              </div>\n              {/* END TABS CONTROLLER ============== */}\n            </div>\n\n            {this.state.thisTabs === pageTabs.withMarks && (\n              <div className=\"flex items-center\">\n                {/* ADD PASS MARKS PUBLICATION */}\n                {this.props.sessions &&\n                  this.props.sessions !== \"none\" &&\n                  this.state.modalAction === false &&\n                  this.props.systemPositions.filter(\n                    (item) => item.isPublished && !item.isDeleted\n                  ).length > 0 &&\n                  !this.isUpdateAllowed(\n                    this.props.marksPublication,\n                    this.props.sessions\n                  ) && (\n                    <div\n                      className=\"btn bg-blue-600 text-white cursor-pointer hover:bg-blue-800\"\n                      onClick={() => {\n                        this.setModalAction(\"CREATE\");\n                      }}\n                    >\n                      Add pass marks\n                    </div>\n                  )}\n\n                {/* UPDATE PASS MARKS PUBLICATION */}\n                {this.props.sessions &&\n                  this.props.sessions !== \"none\" &&\n                  this.state.modalAction === false &&\n                  this.props.systemPositions.filter(\n                    (item) => item.isPublished && !item.isDeleted\n                  ).length > 0 &&\n                  this.isUpdateAllowed(\n                    this.props.marksPublication,\n                    this.props.sessions\n                  ) &&\n                  !this.isMarkPublished(\n                    this.props.marksPublication,\n                    this.props.sessions\n                  ) && (\n                    <div\n                      className=\"btn bg-gray-300 text-blue-600 hover:text-white cursor-pointer hover:bg-blue-800\"\n                      onClick={() => {\n                        this.setModalAction(\"UPDATE\");\n                        this.setInputMarks(-1);\n                      }}\n                    >\n                      Update pass marks\n                    </div>\n                  )}\n\n                {/* PUBLISH MARKS PUBLICATION */}\n                {this.props.sessions &&\n                  this.props.sessions !== \"none\" &&\n                  this.state.modalAction === false &&\n                  this.props.systemPositions.filter(\n                    (item) => item.isPublished && !item.isDeleted\n                  ).length > 0 &&\n                  this.isUpdateAllowed(\n                    this.props.marksPublication,\n                    this.props.sessions\n                  ) &&\n                  !this.isMarkPublished(\n                    this.props.marksPublication,\n                    this.props.sessions\n                  ) && (\n                    <div\n                      className={`btn bg-green-600 text-white ml-1 hover:bg-green-800 ${\n                        this.state.loadingRequest\n                          ? \"cursor-wait\"\n                          : \"cursor-pointer\"\n                      }`}\n                      onClick={() =>\n                        !this.state.loadingRequest && this.handlePublishMarks()\n                      }\n                    >\n                      Publish pass marks\n                    </div>\n                  )}\n\n                {this.props.sessions !== \"none\" &&\n                  this.isMarkPublished(\n                    this.props.marksPublication,\n                    this.props.sessions\n                  ) && (\n                    <div className=\"px-3 py-1 text-1xl font-bold text-blue-500 border-4 border-blue-500 border-dotted\">\n                      Marks published\n                    </div>\n                  )}\n\n                {this.props.sessions &&\n                  this.props.sessions !== \"none\" &&\n                  this.state.modalAction === \"UPDATE\" &&\n                  this.props.systemPositions.filter(\n                    (item) => item.isPublished && !item.isDeleted\n                  ).length > 0 &&\n                  this.isUpdateAllowed(\n                    this.props.marksPublication,\n                    this.props.sessions\n                  ) && (\n                    <div className=\"flex items-center gap-1 animate__animated animate__fadeInRight animate__faster\">\n                      <div className=\"flex items-center gap-1\">\n                        <label className=\"w-full inline-block text-right\">\n                          Default pass marks\n                        </label>\n                        <select\n                          className=\"outline-none bg-white text-gray-700 text-base mr-1 py-2 px-2 border-2 border-gray-500 rounded\"\n                          value={this.state.inputMarks}\n                          onChange={(e) =>\n                            this.changeDefaultMarks(Number(e.target.value))\n                          }\n                        >\n                          {marksArray(true).map((item, index) => (\n                            <option\n                              value={item ? item : \"-1\"}\n                              key={index * (item ? item : -1)}\n                              disabled={item === null}\n                            >\n                              {item ? item : \"Select\"}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                      <button\n                        className={`btn bg-primary text-white hover:bg-blue-600 focus:outline-none ${\n                          this.state.loadingRequest && \"cursor-wait\"\n                        }`}\n                        type=\"button\"\n                        onClick={() => this.handleUpdate()}\n                        disabled={this.state.loadingRequest}\n                      >\n                        {this.state.loadingRequest ? \"Loading...\" : \"Save\"}\n                      </button>\n                      <button\n                        className={`btn bg-red-500 text-white hover:bg-red-600 focus:outline-none ${\n                          this.state.loadingRequest && \"cursor-wait\"\n                        }`}\n                        type=\"button\"\n                        onClick={() => this.cleanBeforeClose()}\n                        disabled={this.state.loadingRequest}\n                      >\n                        Cancel\n                      </button>\n                    </div>\n                  )}\n              </div>\n            )}\n          </div>\n          {/* END CONTENT BODY TITLE ========================== */}\n\n          {/* REAL BODY ============================= */}\n          <div className=\"=rounded mx-1 mb-2 overflow-x-auto\">\n            {this.state.modalAction !== \"CREATE\" &&\n              this.state.thisTabs === pageTabs.withMarks && (\n                <SetPassMarks\n                  positionList={this.props.systemPositions.filter(\n                    (item) => item.isPublished && !item.isDeleted\n                  )}\n                  marksPublication={this.props.marksPublication}\n                  sessions={this.props.sessions}\n                  thisPosition={this.state.thisPosition}\n                  loadingRequest={this.state.loadingRequest}\n                  isUpdateOn={this.state.modalAction === \"UPDATE\"}\n                  setThisPosition={this.setThisPosition}\n                  customMarks={this.state.customMarks}\n                  setCustomMarks={this.setCustomMarks}\n                  defaultChanged={this.state.defaultChanged}\n                  defaultMarks={this.state.inputMarks}\n                />\n              )}\n\n            {!this.state.modalAction &&\n              this.state.thisTabs === pageTabs.withoutMarks && (\n                <DoPlacement\n                  positionList={this.props.systemPositions.filter(\n                    (item) => !item.isDeleted\n                  )}\n                  setLoadingRequest={this.setLoadingRequest}\n                  loadingRequest={this.state.loadingRequest}\n                />\n              )}\n          </div>\n        </div>\n        {/* END CONTENT BODY =========================== */}\n\n        {/* modal controller ==================================== */}\n        {this.props.sessions &&\n          this.props.sessions !== \"none\" &&\n          this.state.modalAction === \"CREATE\" && (\n            <MarksPublicationForm\n              sessions={this.props.sessions}\n              positionList={\n                this.FC_neededPositions(this.props.systemPositions).withoutMarks\n              }\n              loadingRequest={this.state.loadingRequest}\n              inputMarks={this.state.inputMarks}\n              modalAction={this.state.modalAction}\n              setModalAction={this.setModalAction}\n              setInputMarks={this.setInputMarks}\n              inputComment={this.state.inputComment}\n              setInputComment={this.setInputComment}\n              setLoadingRequest={this.setLoadingRequest}\n              customMarks={this.state.customMarks}\n              setCustomMarks={this.setCustomMarks}\n            />\n          )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  sessionPlan,\n  marksPublication,\n  system_settings,\n}: StoreState): {\n  auth: Auth;\n  sessions: SessionPlanInterface | \"none\" | null;\n  marksPublication: marksPublicationInterface[] | null;\n  systemPositions: PositionAPI[] | null;\n} => {\n  return {\n    auth: auth,\n    systemPositions: system_settings.systemPositions,\n    marksPublication,\n    sessions: sessionPlan.activeSessionPlan,\n  };\n};\n\nexport const MarksPublication = connect(mapStateToProps, {\n  getPositions,\n  getActiveSessionPlan,\n  getMarksPublication,\n  updateMarksPublication,\n  PushPopupAlert,\n})(index);\n","import React, { Component } from \"react\";\nimport { MdSearch } from \"react-icons/md\";\nimport { PositionAPI } from \"../../interfaces\";\nimport searchData from \"../../utils/search\";\n\nexport const isPositionSelected = (\n  positionIds: string[],\n  thisPosition: string\n) => {\n  return positionIds.find((item) => item === thisPosition);\n};\n\ninterface ChoosePositionProps {\n  positionList: PositionAPI[];\n  setChoosePosition: (value: boolean) => void;\n  loadingRequest: boolean;\n  defaultMarks: number;\n  customMarks: { id: string; marks: number }[];\n  setCustomMarks: (\n    value: {\n      id: string;\n      marks: number;\n    }[]\n  ) => void;\n}\n\ninterface ChoosePositionState {\n  searchInput: string;\n}\n\nexport class ChoosePosition extends Component<\n  ChoosePositionProps,\n  ChoosePositionState\n> {\n  constructor(props: ChoosePositionProps) {\n    super(props);\n\n    this.state = {\n      searchInput: \"\",\n    };\n  }\n\n  setCustomMarks = (thisPosition: string, value: string) => {\n    let currentSelectedList: {\n      id: string;\n      marks: number;\n    }[] = [...this.props.customMarks];\n    let index = currentSelectedList.findIndex(\n      (item) => item.id === thisPosition\n    );\n    if (index >= 0) {\n      currentSelectedList[index].marks = Number(value);\n    } else {\n      currentSelectedList.push({ id: thisPosition, marks: Number(value) });\n    }\n    this.props.setCustomMarks(currentSelectedList);\n  };\n\n  getMarkByPosition = (thisPosition: string) => {\n    return this.props.customMarks.find((item) => item.id === thisPosition);\n  };\n\n  setSearchInput = (value: string) => {\n    this.setState({ searchInput: value });\n  };\n\n  render() {\n    return (\n      <section className={`rounded`}>\n        {/* SEARCH PART */}\n        <div className=\"flex items-center w-full my-1\">\n          <MdSearch className=\"w-6 h-6 absolute ml-2\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search\"\n            className=\"focus:border-2 h-7 ml-1 pl-9 mr-2 bg-gray-100 border-gray-600 focus:border-gray-700 w-full rounded\"\n            onChange={(e) => this.setSearchInput(e.target.value)}\n            value={this.state.searchInput}\n            disabled={this.props.positionList.length > 0 ? false : true}\n          />\n          <div className=\"flex items-center w-auto justify-end gap-1\">\n            <button\n              className=\"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none\"\n              type=\"button\"\n              onClick={() => this.props.setChoosePosition(false)}\n            >\n              Close\n            </button>\n          </div>\n        </div>\n        {/* END SEARCH PART ///////////////// */}\n        <div\n          className={`w-full h-96 mt-2 divide-y divide-gray-300 overflow-y-auto`}\n        >\n          {searchData(this.props.positionList, this.state.searchInput).length >\n          0 ? (\n            searchData(this.props.positionList, this.state.searchInput).map(\n              (element, index) => (\n                <section key={index + element.position_id}>\n                  <div\n                    className={`group flex items-center justify-between my-1 hover:bg-gray-100`}\n                  >\n                    <div className=\"p-1 w-full mr-2\">\n                      <p className=\"text-base font-medium text-black\">\n                        {element.position_title}\n                      </p>\n                    </div>\n\n                    <input\n                      type=\"number\"\n                      min={0}\n                      max={100}\n                      value={\n                        this.getMarkByPosition(element.position_id)\n                          ? this.getMarkByPosition(element.position_id)!.marks\n                          : this.props.defaultMarks\n                      }\n                      onChange={(e) =>\n                        this.setCustomMarks(element.position_id, e.target.value)\n                      }\n                      className=\"rounded border-2 border-gray-500 focus:border-gray-700 focus:outline-none\"\n                    />\n                  </div>\n                </section>\n              )\n            )\n          ) : (\n            <div className=\"text-center p-3\">\n              <p className=\"text-base font-medium text-black\">\n                No position available\n              </p>\n            </div>\n          )}\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default ChoosePosition;\n","import axios from \"axios\";\nimport moment from \"moment\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Auth, PushPopupAlert } from \"../../actions\";\nimport { createMarksPublication } from \"../../actions/marks_publication\";\nimport { PopupAlertData } from \"../../components/Alert/Popup\";\nimport { PositionAPI, SessionPlanInterface } from \"../../interfaces\";\nimport {\n  marksPublicationFormInterface,\n  marksPublicationInterface,\n  publicationFormInterface,\n} from \"../../interfaces/marks_publication\";\nimport { PopupAlertTheme } from \"../../interfaces/popupAlert\";\nimport { StoreState } from \"../../reducers\";\nimport { capitalizeFirstLetter, isEmptyOrSpaces } from \"../../shared/dataTest\";\nimport { API } from \"../../utils/api\";\nimport { errorToText } from \"../../utils/errors\";\nimport ChoosePosition from \"./ChoosePosition\";\nimport { marksArray } from \"./MarksPublication\";\n\ninterface MarksPublicationFormProps {\n  sessions: SessionPlanInterface;\n  positionList: PositionAPI[];\n  loadingRequest: boolean;\n  inputMarks: number;\n  inputComment: string;\n  customMarks: { id: string; marks: number }[];\n  setCustomMarks: (\n    value: {\n      id: string;\n      marks: number;\n    }[]\n  ) => void;\n  modalAction: false | \"CREATE\" | \"UPDATE\";\n  setModalAction: (status: \"CREATE\" | \"UPDATE\" | false) => void;\n  setInputMarks: (value: number) => void;\n  setInputComment: (value: string) => void;\n  setLoadingRequest: (status: boolean) => void;\n\n  //   REDUX ==========================\n  auth: Auth;\n  createMarksPublication: Function;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n}\n\ninterface MarksPublicationFormState {\n  searchPosition: string;\n  formError: {\n    element: string;\n    msg: string;\n  } | null;\n  choosePosition: boolean;\n}\n\nclass MarksPublicationForm extends Component<\n  MarksPublicationFormProps,\n  MarksPublicationFormState\n> {\n  constructor(props: MarksPublicationFormProps) {\n    super(props);\n\n    this.state = {\n      searchPosition: \"\",\n      formError: null,\n      choosePosition: false,\n    };\n  }\n\n  setChoosePosition = (value: boolean) => {\n    this.setState({ choosePosition: value });\n  };\n\n  setFormError = (\n    value: {\n      element: string;\n      msg: string;\n    } | null\n  ) => {\n    this.setState({ formError: value });\n  };\n\n  changeDefaultMarks = (value: number) => {\n    if (this.props.customMarks.length > 0) {\n      if (\n        window.confirm(\n          \"Do you want the default pass mark to override the customized pass marks on some position\"\n        )\n      ) {\n        this.props.setCustomMarks([]);\n      }\n    }\n    this.props.setInputMarks(value);\n  };\n\n  cleanBeforeClose = () => {\n    if (this.props.modalAction === \"CREATE\") {\n      this.props.setInputMarks(70);\n      this.props.setInputComment(\"\");\n      this.props.setCustomMarks([]);\n      this.props.setModalAction(false);\n    }\n  };\n\n  handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (this.props.positionList.length <= 0) {\n      return this.setFormError({\n        element: \"position\",\n        msg: \"There is no published position available\",\n      });\n    }\n\n    if (isEmptyOrSpaces(this.props.inputComment)) {\n      return this.setFormError({\n        element: \"comment\",\n        msg: \"Comment is required\",\n      });\n    }\n\n    if (!window.confirm(`Are you sure you wanted to submit`)) {\n      return;\n    }\n\n    let requestData: marksPublicationFormInterface,\n      positionWithMarks: publicationFormInterface[] = [];\n\n    this.props.positionList.forEach((positionItem) => {\n      if (this.props.customMarks.length > 0) {\n        const thisCustomMarks = this.props.customMarks.find(\n          (item) => item.id === positionItem.position_id\n        );\n        if (thisCustomMarks) {\n          positionWithMarks.push({\n            position: thisCustomMarks.id,\n            marks: thisCustomMarks.marks,\n            comment: this.props.inputComment,\n          });\n        } else {\n          positionWithMarks.push({\n            position: positionItem.position_id,\n            marks: this.props.inputMarks,\n            comment: this.props.inputComment,\n          });\n        }\n      } else {\n        positionWithMarks.push({\n          position: positionItem.position_id,\n          marks: this.props.inputMarks,\n          comment: this.props.inputComment,\n        });\n      }\n    });\n\n    requestData = {\n      session: this.props.sessions.session_plan_id,\n      doneby: this.props.auth.user.user_id,\n      created_date: moment(moment().toDate()).format(\"YYYY-MM-DD\").toString(),\n      publication_position_marks: positionWithMarks,\n    };\n\n    console.log(\"====================================\");\n    console.log({ requestData });\n    console.log(\"====================================\");\n\n    this.props.setLoadingRequest(true);\n    try {\n      const res = await axios.post<marksPublicationInterface>(\n        `${API.CLAIMING}/publication`,\n        requestData\n      );\n      if (res) {\n        console.log(\"====================================\");\n        console.log({ res });\n        console.log(\"====================================\");\n        this.props.createMarksPublication(res.data);\n        this.props.PushPopupAlert({\n          title: `Mark published successfully!`,\n          theme: PopupAlertTheme.success,\n        });\n      }\n      this.cleanBeforeClose();\n    } catch (error) {\n      console.error(error);\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n    this.props.setLoadingRequest(false);\n  };\n\n  render() {\n    return (\n      <form\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => this.handleSubmit(e)}\n        method=\"post\"\n      >\n        <div className=\"pt-2 pb-4 w-full bg-gray-100 px-5 flex flex-col gap-2\">\n          <div className=\"flex flex-col\">\n            <label>Session</label>\n            <input\n              type=\"text\"\n              className={`text-left input-white w-full inline-block border-gray-500 border-2`}\n              placeholder=\"Sub Category Title\"\n              value={capitalizeFirstLetter(\n                this.props.sessions.session_plan_name\n              )}\n              disabled={true}\n            />\n          </div>\n          <div className=\"flex flex-col\">\n            <label>Default pass marks</label>\n            <select\n              className=\"outline-none bg-white text-gray-700 text-base mr-1 py-2 px-2 border-2 border-gray-500 rounded\"\n              value={this.props.inputMarks}\n              onChange={(e) => this.changeDefaultMarks(Number(e.target.value))}\n            >\n              {marksArray().map((item, index) => (\n                <option\n                  value={item ? item : \"-1\"}\n                  key={index * (item ? item : -1)}\n                >\n                  {item}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"flex flex-col\">\n            <label>Customize pass marks by position</label>\n            <div\n              className={`text-left bg-white border-2 border-gray-500 rounded w-full ${\n                this.state.choosePosition ? \"h-auto\" : \"h-10\"\n              } ${\n                this.state.formError &&\n                this.state.formError.element === \"position\"\n                  ? \"border-red-500\"\n                  : \"\"\n              } border-2 ${\n                !this.props.loadingRequest\n                  ? \"cursor-pointer\"\n                  : \"cursor-not-allowed\"\n              }`}\n              title=\"Choose position\"\n              onClick={() => {\n                !this.state.choosePosition && this.setChoosePosition(true);\n                this.state.formError &&\n                  this.state.formError.element === \"position\" &&\n                  this.setFormError(null);\n              }}\n            >\n              {/* DISPLAYING FILTERED SELECTING FILE ============================ */}\n              {this.props.customMarks.length > 0 &&\n              !this.state.choosePosition ? (\n                <p className=\"my-1 mx-2 text-gray-700\">\n                  Some position has customized pass marks\n                </p>\n              ) : (\n                !this.state.choosePosition && (\n                  <p className=\"my-1 mx-2 text-gray-500\">\n                    Click to view position\n                  </p>\n                )\n              )}\n              {/* END DISPLAYING FILTERED SELECTING FILE ============================ */}\n\n              {/* LISTING OF REJECTED DOCUMENTS ============================ */}\n              {this.state.choosePosition && (\n                <ChoosePosition\n                  positionList={this.props.positionList}\n                  setChoosePosition={this.setChoosePosition}\n                  loadingRequest={this.props.loadingRequest}\n                  defaultMarks={this.props.inputMarks}\n                  customMarks={this.props.customMarks}\n                  setCustomMarks={this.props.setCustomMarks}\n                />\n              )}\n              {/* END LISTING OF REJECTED DOCUMENTS ============================ */}\n            </div>\n            {this.state.formError &&\n              this.state.formError.element === \"position\" && (\n                <span className=\"text-red-500\">{this.state.formError.msg}</span>\n              )}\n          </div>\n          <div className=\"flex flex-col\">\n            <label>Comment</label>\n            <textarea\n              placeholder={`Comment for pass mark`}\n              cols={50}\n              rows={3}\n              className={`border-2 ${\n                this.state.formError &&\n                this.state.formError.element === \"comment\"\n                  ? \"border-red-400\"\n                  : \"border-gray-500\"\n              } rounded px-3 py-1 w-full focus:outline-none`}\n              style={{ resize: \"none\" }}\n              value={this.props.inputComment}\n              onChange={(e) => {\n                this.props.setInputComment(e.target.value);\n                this.setFormError(null);\n              }}\n              disabled={this.props.loadingRequest}\n            ></textarea>\n            {this.state.formError &&\n              this.state.formError.element === \"comment\" && (\n                <p className=\"text-red-800\">{this.state.formError.msg}</p>\n              )}\n          </div>\n\n          <div className=\"pt-4 flex justify-between\">\n            <button\n              onClick={() => {\n                this.cleanBeforeClose();\n              }}\n              className={`btn bg-gray-400 text-white hover:bg-gray-600 focus:outline-none ${\n                this.props.loadingRequest && \"cursor-not-allowed\"\n              }`}\n              type=\"button\"\n              disabled={this.props.loadingRequest}\n            >\n              Exit\n            </button>\n            <div className=\"flex items-center gap-1\">\n              <button\n                className={`btn bg-primary text-white hover:bg-blue-600 focus:outline-none ${\n                  this.props.loadingRequest && \"cursor-wait\"\n                }`}\n                type=\"submit\"\n                disabled={this.props.loadingRequest}\n              >\n                {this.props.loadingRequest ? \"Loading...\" : \"Save\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n}: StoreState): {\n  auth: Auth;\n} => {\n  return {\n    auth: auth,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  createMarksPublication,\n  PushPopupAlert,\n})(MarksPublicationForm);\n","import axios from \"axios\";\nimport { Dispatch } from \"redux\";\nimport { ActionTypes } from \"./types\";\nimport { API } from \"../utils/api\";\nimport { setAxiosToken } from \"../utils/AxiosToken\";\nimport { errorToText } from \"../utils/errors\";\nimport { marksPublicationInterface } from \"../interfaces/marks_publication\";\n\n/**\n * * ****************************** INTERFACES *****************************\n */\n\n// MARKS PUBLICATION\nexport interface GetMarksPublicationAction {\n  type: ActionTypes.GET_MARKS_PUBLICATION;\n  payload: marksPublicationInterface[];\n}\n\n// CREATE PERSONAL CLAIM\nexport interface CreateMarksPublicationAction {\n  type: ActionTypes.CREATE_MARKS_PUBLICATION;\n  payload: marksPublicationInterface;\n}\n\n// UPDATE PERSONAL CLAIM\nexport interface UpdateMarksPublicationAction {\n  type: ActionTypes.UPDATE_MARKS_PUBLICATION;\n  payload: marksPublicationInterface;\n}\n\nexport type MarksPublicationActionType =\n  | GetMarksPublicationAction\n  | CreateMarksPublicationAction\n  | UpdateMarksPublicationAction;\n\n/**\n * * ****************************** ACTIONS *****************************\n */\n\n// GET MARKS PUBLICATION ==========================\nexport const getMarksPublication = (callback: Function) => {\n  callback(true, \"\");\n  return async (dispatch: Dispatch) => {\n    try {\n      setAxiosToken();\n      const res = await axios.get<marksPublicationInterface[]>(\n        `${API.CLAIMING}/publication`\n      );\n      let responseData: marksPublicationInterface[] = [];\n      if (res.status === 200) {\n        // setApplications(res.data);\n        if (res.data !== null && res.data.length > 0) {\n          responseData = res.data;\n        }\n      }\n      console.log(\"====================================\");\n      console.log({ GetMarksPublication: res.data });\n      console.log(\"====================================\");\n      dispatch<GetMarksPublicationAction>({\n        type: ActionTypes.GET_MARKS_PUBLICATION,\n        payload: responseData,\n      });\n      callback(false, \"\", responseData);\n    } catch (error) {\n      console.error({ error: errorToText(error) });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\n// CREATE MARKS PUBLICATION ==========================\n// export const setSelectedClaimType = (\n//   thisType: PlansTypeKeys | \"all\"\n// ): setSelectedClaimTypeActions => {\n//   console.log({ thisType });\n//   return {\n//     type: ActionTypes.SELECT_CLAIM_TYPE,\n//     payload: thisType,\n//   };\n// };\n\n// CREATE PERSONAL CLAIM\nexport const createMarksPublication = (data: marksPublicationInterface) => {\n  return {\n    type: ActionTypes.CREATE_MARKS_PUBLICATION,\n    payload: data,\n  };\n};\n\n// CREATE MARKS PUBLICATION ==========================\n// export const setSelectedClaimType = (\n//   thisType: PlansTypeKeys | \"all\"\n// ): setSelectedClaimTypeActions => {\n//   console.log({ thisType });\n//   return {\n//     type: ActionTypes.SELECT_CLAIM_TYPE,\n//     payload: thisType,\n//   };\n// };\n\n// UPDATE PERSONAL CLAIM\nexport const updateMarksPublication = (data: marksPublicationInterface) => {\n  return {\n    type: ActionTypes.UPDATE_MARKS_PUBLICATION,\n    payload: data,\n  };\n};\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { HiOutlineDocumentSearch } from \"react-icons/hi\";\nimport { IoWarning } from \"react-icons/io5\";\nimport { connect } from \"react-redux\";\nimport { PushPopupAlert } from \"../../actions\";\nimport { PopupAlertData } from \"../../components/Alert/Popup\";\nimport TableLoading from \"../../components/Loading/TableLoading\";\nimport NoResult, { NoResultThemes } from \"../../components/NoResult/NoResult\";\nimport {\n  PositionAPI,\n  PositionAPICourse,\n  PositionRequirements,\n  SessionPlanInterface,\n} from \"../../interfaces\";\nimport { marksPublicationInterface } from \"../../interfaces/marks_publication\";\nimport { PopupAlertTheme } from \"../../interfaces/popupAlert\";\nimport { API } from \"../../utils/api\";\nimport { errorToText } from \"../../utils/errors\";\n\nexport interface MarksPublicationPosition {\n  province_id: string;\n  province_name: string;\n  courses: PositionAPICourse[];\n  position_title: string;\n  description: string;\n  school_level_id: {\n    school_level_name: string;\n    description: string;\n    education_institute: string[];\n    courses: [];\n    school_level_id: string;\n  };\n  education_institute_id: {\n    education_category_title: string;\n    school_levels: [];\n    description: string;\n    education_institute_id: string;\n  };\n  requirements: PositionRequirements[];\n  isDeleted: boolean;\n  isPublished: boolean;\n  position_id: string;\n  marks: number;\n  candidate_applied: number;\n  candidate_passed: number;\n}\n\ntype SetPassMarksProps = {\n  positionList: PositionAPI[];\n  marksPublication: marksPublicationInterface[];\n  sessions: SessionPlanInterface | \"none\";\n  thisPosition: PositionAPI | null;\n  loadingRequest: boolean;\n  setThisPosition: (value: PositionAPI | null) => void;\n\n  // FOR UPDATING ==========================\n  defaultMarks: number;\n  defaultChanged: boolean;\n  customMarks: { id: string; marks: number }[];\n  setCustomMarks: (\n    value: {\n      id: string;\n      marks: number;\n    }[]\n  ) => void;\n  isUpdateOn: boolean;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n};\n\ninterface SetPassMarksState {\n  loading: boolean;\n  searchInput: string;\n  publicationCount:\n    | {\n        _id: string;\n        position: string;\n        marks: number;\n        candidate_applied: number;\n        candidate_passed: number;\n      }[]\n    | null;\n}\nexport class SetPassMarks extends Component<\n  SetPassMarksProps,\n  SetPassMarksState\n> {\n  constructor(props: SetPassMarksProps) {\n    super(props);\n\n    this.state = {\n      searchInput: \"\",\n      publicationCount: null,\n      loading: false,\n    };\n  }\n\n  setSearchInput = (value: string) => {\n    this.setState({ searchInput: value });\n  };\n\n  searchPublishedMarks = (\n    objList: MarksPublicationPosition[],\n    text: string\n  ): MarksPublicationPosition[] => {\n    if (undefined === text || text === \"\") return objList;\n    return objList.filter((product) => {\n      let flag;\n      // let dataKeys = product;\n\n      for (let prop in product) {\n        flag = false;\n        if (\n          prop === \"province_name\" ||\n          prop === \"courses\" ||\n          prop === \"position_title\" ||\n          prop === \"description\" ||\n          prop === \"marks\" ||\n          prop === \"candidate_applied\" ||\n          prop === \"candidate_passed\"\n        ) {\n          if (product[prop]) {\n            flag =\n              product[prop]!.toString()\n                .toLowerCase()\n                .indexOf(text.toLowerCase()) > -1;\n          }\n        }\n        if (flag) break;\n      }\n      return flag;\n    });\n  };\n\n  setCustomMarks = (thisPosition: string, value: string) => {\n    if (Number(value) < 0 || Number(value) > 100) {\n      return this.props.PushPopupAlert({\n        title: `Pass marks must be less or equal to 100 and greater or equal to 0`,\n        theme: PopupAlertTheme.danger,\n      });\n    }\n\n    let currentSelectedList: {\n      id: string;\n      marks: number;\n    }[] = [...this.props.customMarks];\n    let index = currentSelectedList.findIndex(\n      (item) => item.id === thisPosition\n    );\n\n    if (index >= 0) {\n      currentSelectedList[index].marks = Number(value);\n    } else {\n      currentSelectedList.push({ id: thisPosition, marks: Number(value) });\n    }\n\n    this.props.setCustomMarks(currentSelectedList);\n  };\n\n  getMarkByPosition = (thisPosition: string) => {\n    return this.props.customMarks.find((item) => item.id === thisPosition);\n  };\n\n  loadPublicationCounts = async (\n    allMarks: marksPublicationInterface[],\n    sessions: SessionPlanInterface | \"none\",\n    setLoadingRequest: (value: boolean) => void\n  ) => {\n    const marksBySession =\n      sessions !== \"none\"\n        ? allMarks.find((item) => item.session === sessions.session_plan_id)\n        : undefined;\n    console.log(\"====================================\");\n    console.log({ allMarks, marksBySession });\n    console.log(\"====================================\");\n    if (marksBySession) {\n      console.log(\"====================================\");\n      console.log({ marksBySession });\n      console.log(\"====================================\");\n      setLoadingRequest(true);\n      try {\n        const res = await axios.get<\n          | {\n              _id: string;\n              position: string;\n              marks: number;\n              candidate_applied: number;\n              candidate_passed: number;\n            }[]\n        >(`${API.CLAIMING}/publication/count/${marksBySession.publication_id}`);\n\n        if (res) {\n          console.log(\"====================================\");\n          console.log({ loadPublicationCounts: res });\n          console.log(\"====================================\");\n          this.setPublicationCount(res.data);\n        }\n      } catch (error) {\n        console.error({ loadPublicationCounts_reply: error });\n        this.props.PushPopupAlert({\n          title: errorToText(error),\n          theme: PopupAlertTheme.danger,\n        });\n      }\n      setLoadingRequest(false);\n    } else setLoadingRequest(false);\n  };\n\n  setPublicationCount = (\n    value:\n      | {\n          _id: string;\n          position: string;\n          marks: number;\n          candidate_applied: number;\n          candidate_passed: number;\n        }[]\n      | null\n  ) => {\n    this.setState({ publicationCount: value });\n  };\n\n  setLoading = (value: boolean) => {\n    this.setState({ loading: value });\n  };\n\n  componentDidMount = () => {\n    if (this.state.publicationCount === null)\n      this.loadPublicationCounts(\n        this.props.marksPublication,\n        this.props.sessions,\n        this.setLoading\n      );\n  };\n\n  getNeededData = (\n    allPosition: PositionAPI[],\n    allMarks: marksPublicationInterface[],\n    sessions: SessionPlanInterface | \"none\",\n    publicationCountData:\n      | {\n          _id: string;\n          position: string;\n          marks: number;\n          candidate_applied: number;\n          candidate_passed: number;\n        }[]\n      | null\n  ): MarksPublicationPosition[] => {\n    let result: MarksPublicationPosition[] = [];\n\n    allPosition.forEach((element) => {\n      const marksBySession =\n        sessions !== \"none\"\n          ? allMarks.find((item) => item.session === sessions.session_plan_id)\n          : undefined;\n      if (marksBySession) {\n        const marksByPosition = marksBySession.publication_position_marks.find(\n          (item) => item.position === element.position_id\n        );\n        const publicationCountByPosition =\n          publicationCountData &&\n          publicationCountData.find(\n            (item) => item.position === element.position_id\n          );\n        if (marksByPosition) {\n          result.push({\n            province_id: element.province_id,\n            province_name: element.province_name,\n            courses: element.courses,\n            position_title: element.position_title,\n            description: element.description,\n            school_level_id: element.school_level_id,\n            education_institute_id: element.education_institute_id,\n            requirements: element.requirements,\n            isDeleted: element.isDeleted,\n            isPublished: element.isPublished,\n            position_id: element.position_id,\n            marks: marksByPosition.marks,\n            candidate_applied: publicationCountByPosition\n              ? publicationCountByPosition.candidate_applied\n              : 0,\n            candidate_passed: publicationCountByPosition\n              ? publicationCountByPosition.candidate_passed\n              : 0,\n          });\n        }\n      }\n    });\n\n    return result;\n  };\n\n  render() {\n    if (this.props.sessions === \"none\") {\n      return (\n        <div className=\"py-10 flex flex-col items-center rounded border border-gray-300 bg-white text-2xl font-medium text-yellow-800 animate__animated animate__pulse\">\n          <IoWarning className=\"w-32 h-32\" />\n          No Active session available!\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        {this.props.positionList.length <= 0 && (\n          <div className=\"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100\">\n            <HiOutlineDocumentSearch className=\"text-7xl text-gray-400 animate__animated animate__shakeX\" />\n            <span>No position available</span>\n          </div>\n        )}\n\n        {this.props.positionList.length > 0 && (\n          <section className=\"flex flex-col-reverse sm:flex-row items-center gap-2 w-full mb-2\">\n            <div className=\"w-full\">\n              <input\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                  this.setSearchInput(e.target.value)\n                }\n                type=\"text\"\n                className=\"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full\"\n                placeholder={`Search position by title or description`}\n                value={this.state.searchInput}\n                disabled={\n                  this.state.publicationCount &&\n                  this.getNeededData(\n                    this.props.positionList,\n                    this.props.marksPublication,\n                    this.props.sessions,\n                    this.state.publicationCount\n                  ).length > 0\n                    ? false\n                    : true\n                }\n              />\n            </div>\n          </section>\n        )}\n\n        <table className=\"w-full\">\n          <thead className=\"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm\">\n            <tr>\n              <td className=\"px-2 py-2\">Positions</td>\n              <td className=\"px-2 py-2\">All candidates</td>\n              <td className=\"px-2 py-2\">Passed candidates</td>\n              <td className=\"px-2 py-2\">Pass marks</td>\n            </tr>\n          </thead>\n          <tbody>\n            {!this.state.loading ? (\n              this.searchPublishedMarks(\n                this.getNeededData(\n                  this.props.positionList,\n                  this.props.marksPublication,\n                  this.props.sessions,\n                  this.state.publicationCount\n                ),\n                this.state.searchInput\n              ).length > 0 ? (\n                this.searchPublishedMarks(\n                  this.getNeededData(\n                    this.props.positionList,\n                    this.props.marksPublication,\n                    this.props.sessions,\n                    this.state.publicationCount\n                  ),\n                  this.state.searchInput\n                ).map((item: MarksPublicationPosition, i: number) => (\n                  <tr\n                    key={i + item.position_id}\n                    className={`${\n                      i % 2 !== 0 ? \"bg-gray-100\" : \"bg-white\"\n                    } hover:bg-blue-100 hover:text-blue-700 border-b hover:border-blue-500 text-base text-gray-600 border-gray-300`}\n                  >\n                    <td className=\"px-2 py-2\">{item.position_title}</td>\n                    <td className=\"px-2 py-2\">{item.candidate_applied}</td>\n                    <td className=\"px-2 py-2\">{item.candidate_passed}</td>\n                    <td className=\"px-2 py-2\">\n                      {!this.props.isUpdateOn ? (\n                        <span className=\"text-gray-600 italic font-semibold\">\n                          {item.marks}%\n                        </span>\n                      ) : (\n                        <input\n                          type=\"number\"\n                          min={0}\n                          max={100}\n                          value={\n                            this.getMarkByPosition(item.position_id)\n                              ? this.getMarkByPosition(item.position_id)!.marks\n                              : this.props.defaultChanged\n                              ? this.props.defaultMarks\n                              : item.marks\n                          }\n                          onChange={(e) =>\n                            this.setCustomMarks(\n                              item.position_id,\n                              e.target.value\n                            )\n                          }\n                          className=\"rounded border-2 border-gray-500 w-full focus:border-gray-700 focus:outline-none\"\n                        />\n                      )}\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan={8} className=\"px-2 py-2\">\n                    <NoResult\n                      theme={NoResultThemes.Dark}\n                      value={\"No pass marks has been set\"}\n                    />\n                  </td>\n                </tr>\n              )\n            ) : (\n              <TableLoading cols={4} />\n            )}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { PushPopupAlert })(SetPassMarks);\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { HiOutlineDocumentSearch } from \"react-icons/hi\";\nimport { connect } from \"react-redux\";\nimport {\n  loadSchoolLevels,\n  PushPopupAlert,\n  schoolLevelsStoreInterface,\n} from \"../../actions\";\nimport { PopupAlertData } from \"../../components/Alert/Popup\";\nimport TableLoading from \"../../components/Loading/TableLoading\";\nimport NoResult, { NoResultThemes } from \"../../components/NoResult/NoResult\";\nimport { PositionAPI, PositionPlacementAPI } from \"../../interfaces\";\nimport { PopupAlertTheme } from \"../../interfaces/popupAlert\";\nimport { StoreState } from \"../../reducers\";\nimport { API } from \"../../utils/api\";\nimport { errorToText } from \"../../utils/errors\";\nimport searchData from \"../../utils/search\";\n\ntype SetPassMarksProps = {\n  positionList: PositionAPI[];\n  loadingRequest: boolean;\n  setLoadingRequest: (value: boolean) => void;\n  // REDUX ===========\n  schoolLevels: schoolLevelsStoreInterface;\n  loadSchoolLevels: Function;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n};\n\ninterface SetPassMarksState {\n  searchInput: string;\n  positionInput: string;\n  levelSearch: string;\n  loading: boolean;\n  loadingRequest: boolean;\n  doPlacementCount:\n    | {\n        _id: string;\n        waiting: number;\n        request: number;\n      }[]\n    | null;\n}\n\nexport class SetPassMarks extends Component<\n  SetPassMarksProps,\n  SetPassMarksState\n> {\n  constructor(props: SetPassMarksProps) {\n    super(props);\n\n    this.state = {\n      searchInput: \"\",\n      positionInput: \"\",\n      levelSearch: \"all\",\n      loading: false,\n      loadingRequest: false,\n      doPlacementCount: null,\n    };\n  }\n\n  setSearchInput = (value: string) => {\n    this.setState({ searchInput: value });\n  };\n\n  setLevelSearch = (value: string) => {\n    this.setState({ levelSearch: value });\n  };\n\n  setPositionInput = (value: string) => {\n    this.setState({ positionInput: value });\n  };\n\n  setLoadingRequest = (value: boolean) => {\n    this.setState({ loadingRequest: value });\n  };\n\n  setLoading = (value: boolean) => {\n    this.setState({ loading: value });\n  };\n\n  setDoPlacementCounts = (\n    value:\n      | {\n          _id: string;\n          waiting: number;\n          request: number;\n        }[]\n      | null\n  ) => {\n    this.setState({ doPlacementCount: value });\n  };\n\n  doPlacement = async (positionId: string) => {\n    this.setLoadingRequest(true);\n    try {\n      const res = await axios.post<any[]>(\n        `${API.PLACEMENT}/doplace/${positionId}`\n      );\n\n      if (res) {\n        console.log(\"====================================\");\n        console.log({ doPlacement: res });\n        console.log(\"====================================\");\n\n        this.loadDoPlacementCounts(this.setLoadingRequest);\n\n        let msgAlert: string = \"\";\n        if (res.data.length > 0) {\n          msgAlert = `${res.data.length} applicant(s) has been placed on school(s)!`;\n        } else {\n          msgAlert = \"No placement has been done!\";\n        }\n\n        this.setPositionInput(\"\");\n        this.props.PushPopupAlert({\n          title: msgAlert,\n          theme:\n            res.data.length > 0\n              ? PopupAlertTheme.success\n              : PopupAlertTheme.info,\n        });\n      }\n    } catch (error) {\n      console.error({ doPlacement_reply: error });\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n    this.setLoadingRequest(false);\n  };\n\n  getPositionByLevel = (\n    positions: PositionPlacementAPI[],\n    levelId: string\n  ): PositionPlacementAPI[] => {\n    let result: PositionPlacementAPI[] = positions;\n    if (levelId !== \"all\") {\n      result = positions.filter(\n        (item) => item.school_level_id.school_level_id === levelId\n      );\n    }\n    return result;\n  };\n\n  componentDidMount = () => {\n    if (this.state.doPlacementCount === null)\n      this.loadDoPlacementCounts(this.setLoading);\n    if (\n      this.props.schoolLevels.school_levels === null ||\n      this.props.schoolLevels.school_levels.length === 0\n    )\n      this.props.loadSchoolLevels(this.setLoading);\n  };\n\n  loadDoPlacementCounts = async (\n    setLoadingRequest: (value: boolean) => void\n  ) => {\n    setLoadingRequest(true);\n    try {\n      const res = await axios.get<\n        | {\n            _id: string;\n            waiting: number;\n            request: number;\n          }[]\n      >(`${API.PLACEMENT}/counters/grouped`);\n\n      if (res) {\n        console.log(\"====================================\");\n        console.log({ doPlacementCounts: res });\n        console.log(\"====================================\");\n        this.setDoPlacementCounts(res.data);\n      }\n    } catch (error) {\n      console.error({ doPlacementCounts_reply: error });\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n    setLoadingRequest(false);\n  };\n\n  getDoPlacementCountsById = (\n    data: {\n      _id: string;\n      waiting: number;\n      request: number;\n    }[],\n    position_id: string\n  ):\n    | {\n        _id: string;\n        waiting: number;\n        request: number;\n      }\n    | undefined => {\n    return data.find((item) => item._id === position_id);\n  };\n\n  dataToDisplay = (\n    positionData: PositionAPI[],\n    countData: {\n      _id: string;\n      waiting: number;\n      request: number;\n    }[]\n  ): PositionPlacementAPI[] => {\n    let result: PositionPlacementAPI[] = [];\n    positionData.forEach((position) => {\n      const thisCount = this.getDoPlacementCountsById(\n        countData,\n        position.position_id\n      );\n      result.push({\n        province_id: position.province_id,\n        province_name: position.province_name,\n        courses: position.courses,\n        position_title: position.position_title,\n        description: position.description,\n        school_level_id: position.school_level_id,\n        education_institute_id: position.education_institute_id,\n        requirements: position.requirements,\n        isDeleted: position.isDeleted,\n        isPublished: position.isPublished,\n        position_id: position.position_id,\n        waiting: thisCount ? thisCount.waiting : 0,\n        request: thisCount ? thisCount.request : 0,\n      });\n    });\n    return result;\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.positionList.length <= 0 && (\n          <div className=\"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100\">\n            <HiOutlineDocumentSearch className=\"text-7xl text-gray-400 animate__animated animate__shakeX\" />\n            <span>No position available</span>\n          </div>\n        )}\n\n        {this.props.positionList.length > 0 && (\n          <section className=\"flex flex-col-reverse sm:flex-row items-center gap-2 w-full my-2\">\n            <div className=\"w-full sm:w-3/4\">\n              <input\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                  this.setSearchInput(e.target.value)\n                }\n                type=\"text\"\n                className=\"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full\"\n                placeholder={`Search position by title or description`}\n                value={this.state.searchInput}\n                disabled={this.props.positionList.length > 0 ? false : true}\n              />\n            </div>\n            <div className=\"w-full sm:w-1/4\">\n              <select\n                className=\"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full\"\n                placeholder={`Filter by level`}\n                onChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\n                  this.setLevelSearch(e.target.value)\n                }\n                value={this.state.levelSearch}\n              >\n                <option value=\"all\">All levels</option>\n                {this.props.schoolLevels.school_levels &&\n                  this.props.schoolLevels.school_levels.map((level, index) => (\n                    <option\n                      value={level.school_level_id}\n                      key={index + level.school_level_id}\n                    >\n                      {level.school_level_name}\n                    </option>\n                  ))}\n              </select>\n            </div>\n          </section>\n        )}\n\n        <table className=\"w-full\">\n          <thead className=\"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm\">\n            <tr>\n              <td className=\"px-2 py-2\">Positions</td>\n              <td className=\"px-2 py-2\">Vacant posts</td>\n              <td className=\"px-2 py-2\">Candidates on waiting list</td>\n              <td className=\"px-2 py-2\"></td>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.doPlacementCount ? (\n              searchData(\n                this.getPositionByLevel(\n                  this.dataToDisplay(\n                    this.props.positionList,\n                    this.state.doPlacementCount\n                  ),\n                  this.state.levelSearch\n                ),\n                this.state.searchInput\n              ).length > 0 ? (\n                searchData(\n                  this.getPositionByLevel(\n                    this.dataToDisplay(\n                      this.props.positionList,\n                      this.state.doPlacementCount\n                    ),\n                    this.state.levelSearch\n                  ),\n                  this.state.searchInput\n                ).map((item: PositionPlacementAPI, i: number) => (\n                  <tr\n                    key={i + item.position_id}\n                    className={`${\n                      i % 2 !== 0 ? \"bg-gray-100\" : \"bg-white\"\n                    } hover:bg-blue-100 hover:text-blue-700 border-b hover:border-blue-500 text-sm text-gray-600 border-gray-300 group`}\n                  >\n                    <td className=\"px-2 py-2\">{item.position_title}</td>\n                    <td className=\"px-2 py-2\">{item.request}</td>\n                    <td className=\"px-2 py-2\">{item.waiting}</td>\n                    <td className=\"px-2 py-2 text-right\">\n                      {item.request > 0 && item.waiting > 0 && (\n                        <button\n                          className=\"btn text-white bg-green-600 group-hover:bg-green-700\"\n                          onClick={() => {\n                            this.setPositionInput(item.position_id);\n                            this.doPlacement(item.position_id);\n                          }}\n                          disabled={this.state.loadingRequest}\n                        >\n                          {this.state.loadingRequest &&\n                          this.state.positionInput === item.position_id\n                            ? \"Loading...\"\n                            : \"Place candidates\"}\n                        </button>\n                      )}\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan={4} className=\"px-2 py-2\">\n                    <NoResult\n                      theme={NoResultThemes.Dark}\n                      value={\"No data found!\"}\n                    />\n                  </td>\n                </tr>\n              )\n            ) : (\n              <TableLoading cols={4} />\n            )}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  schoolLevels,\n}: StoreState): {\n  schoolLevels: schoolLevelsStoreInterface;\n} => {\n  return {\n    schoolLevels,\n  };\n};\n\nexport default connect(mapStateToProps, { loadSchoolLevels, PushPopupAlert })(\n  SetPassMarks\n);\n","import axios from \"axios\";\nimport { Dispatch } from \"redux\";\nimport { ActionTypes } from \"./types\";\nimport { API } from \"../utils/api\";\nimport { setAxiosToken } from \"../utils/AxiosToken\";\nimport { errorToText } from \"../utils/errors\";\nimport {\n  AcademicSessionInterface,\n  PlansTypeInterface,\n  SessionPlanInterface,\n} from \"../interfaces\";\n\n/**\n * * ****************************** INTERFACES *****************************\n */\n\n// GET ACTIVE PLAN TYPES\nexport interface GetPlansTypesAction {\n  type: ActionTypes.GET_PLANS_TYPES;\n  payload: PlansTypeInterface[];\n}\n\n// GET INACTIVE PLAN TYPES\nexport interface GetDeletedPlansTypesAction {\n  type: ActionTypes.GET_DELETED_PLANS_TYPES;\n  payload: PlansTypeInterface[];\n}\n\n// CREATE PLAN TYPE\nexport interface CreatePlansTypeAction {\n  type: ActionTypes.CREATE_PLAN_TYPE;\n  payload: PlansTypeInterface;\n}\n\n// UPDATE PLAN TYPE\nexport interface UpdatePlansTypeAction {\n  type: ActionTypes.UPDATE_PLAN_TYPE;\n  payload: PlansTypeInterface;\n}\n\n// DELETE PLAN TYPE\nexport interface DeletePlansTypeAction {\n  type: ActionTypes.DELETE_PLAN_TYPE;\n  payload: PlansTypeInterface;\n}\n\n// SET PLAN TYPE =====================================\nexport interface setSelectedPlanTypeActions {\n  type: ActionTypes.SELECT_PLAN_TYPE;\n  payload: PlansTypeInterface | \"all\";\n}\n\n// GET ALL SESSION PLAN\nexport interface GetAllSessionPlansAction {\n  type: ActionTypes.GET_ALL_SESSION_PLANS;\n  payload: SessionPlanInterface[];\n}\n\n// GET ACTIVE SESSION PLAN\nexport interface GetActiveSessionPlanAction {\n  type: ActionTypes.GET_ACTIVE_SESSION_PLANS;\n  payload: SessionPlanInterface | \"none\";\n}\n\n// CREATE SESSION PLAN\nexport interface CreateSessionPlansAction {\n  type: ActionTypes.CREATE_SESSION_PLAN;\n  payload: SessionPlanInterface;\n}\n\n// UPDATE SESSION PLAN\nexport interface UpdateSessionPlansAction {\n  type: ActionTypes.UPDATE_SESSION_PLAN;\n  payload: SessionPlanInterface;\n}\n\n// ACTIVATE SESSION PLAN\nexport interface ActivateSessionPlansAction {\n  type: ActionTypes.SESSION_ACTIVATION;\n  payload: SessionPlanInterface;\n}\n\n// DELETE SESSION PLAN\nexport interface DeleteSessionPlanAction {\n  type: ActionTypes.DELETE_SESSION_PLAN;\n  payload: string;\n}\n\n// GET ALL ACADEMIC SESSION\nexport interface GetAllAcademicSessionAction {\n  type: ActionTypes.GET_ALL_ACADEMIC_SESSION;\n  payload: AcademicSessionInterface[];\n}\n\n// CREATE ACADEMIC SESSION\nexport interface CreateAcademicSessionAction {\n  type: ActionTypes.CREATE_ACADEMIC_SESSION;\n  payload: AcademicSessionInterface;\n}\n\n// UPDATE ACADEMIC SESSION\nexport interface UpdateAcademicSessionAction {\n  type: ActionTypes.UPDATE_ACADEMIC_SESSION;\n  payload: AcademicSessionInterface;\n}\n\n// ACTIVATE ACADEMIC SESSION\nexport interface ActivateAcademicSessionAction {\n  type: ActionTypes.ACADEMIC_SESSION_ACTIVATION;\n  payload: AcademicSessionInterface;\n}\n\n// DELETE ACADEMIC SESSION\nexport interface DeleteAcademicSessionAction {\n  type: ActionTypes.DELETE_ACADEMIC_SESSION;\n  payload: string;\n}\n\n// GET ACTIVE ACADEMIC SESSION\nexport interface GetActiveAcademicSessionAction {\n  type: ActionTypes.GET_ACTIVE_ACADEMIC_SESSION;\n  payload: AcademicSessionInterface | \"none\";\n}\n\nexport type SessionActionType =\n  | GetPlansTypesAction\n  | GetDeletedPlansTypesAction\n  | CreatePlansTypeAction\n  | UpdatePlansTypeAction\n  | DeletePlansTypeAction\n  | GetAllSessionPlansAction\n  | GetActiveSessionPlanAction\n  | CreateSessionPlansAction\n  | UpdateSessionPlansAction\n  | ActivateSessionPlansAction\n  | DeleteSessionPlanAction\n  | setSelectedPlanTypeActions\n  | GetAllAcademicSessionAction\n  | CreateAcademicSessionAction\n  | UpdateAcademicSessionAction\n  | ActivateAcademicSessionAction\n  | DeleteAcademicSessionAction\n  | GetActiveAcademicSessionAction;\n\n/**\n * * ****************************** ACTIONS *****************************\n */\n\n// GET ACTIVE PLAN TYPES ==========================\nexport const GetPlansTypes = (callback: Function) => {\n  callback(true, \"\");\n  return async (dispatch: Dispatch) => {\n    try {\n      setAxiosToken();\n      const res = await axios.get<PlansTypeInterface[]>(\n        `${API.CLAIMING}/session-type`\n      );\n      console.log({ GET_PLANS_TYPES: res.data });\n      let plan_types: PlansTypeInterface[] = [];\n      if (res.status === 200) {\n        // setApplications(res.data);\n        if (res.data !== null && res.data.length > 0) {\n          plan_types = res.data;\n        }\n      }\n      dispatch<GetPlansTypesAction>({\n        type: ActionTypes.GET_PLANS_TYPES,\n        payload: plan_types,\n      });\n      callback(false, \"\");\n    } catch (error) {\n      console.error({ error: errorToText(error) });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\n// GET ACTIVE PLAN TYPES ==========================\nexport const GetDeletedPlansTypes = (callback: Function) => {\n  callback(true, \"\");\n  return async (dispatch: Dispatch) => {\n    try {\n      setAxiosToken();\n      const res = await axios.get<PlansTypeInterface[]>(\n        `${API.CLAIMING}/session-type/deleted`\n      );\n      console.log({ GET_DELETED_PLANS_TYPES: res.data });\n      let plan_types: PlansTypeInterface[] = [];\n      if (res.status === 200) {\n        // setApplications(res.data);\n        if (res.data !== null && res.data.length > 0) {\n          plan_types = res.data;\n        }\n      }\n      dispatch<GetDeletedPlansTypesAction>({\n        type: ActionTypes.GET_DELETED_PLANS_TYPES,\n        payload: plan_types,\n      });\n      callback(false, \"\");\n    } catch (error) {\n      console.error({ error: errorToText(error) });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\n// CREATE PLAN TYPE\nexport const createPlanType = (\n  data: PlansTypeInterface\n): CreatePlansTypeAction => {\n  return {\n    type: ActionTypes.CREATE_PLAN_TYPE,\n    payload: data,\n  };\n};\n\n// UPDATE PLAN TYPE\nexport const updatePlanType = (\n  data: PlansTypeInterface\n): UpdatePlansTypeAction => {\n  return {\n    type: ActionTypes.UPDATE_PLAN_TYPE,\n    payload: data,\n  };\n};\n\n// DELETE PLAN TYPE\nexport const deletePlanType = (\n  data: PlansTypeInterface\n): DeletePlansTypeAction => {\n  return {\n    type: ActionTypes.DELETE_PLAN_TYPE,\n    payload: data,\n  };\n};\n\n// SELECT PLAN TYPES ==========================\nexport const setSelectedPlanType = (\n  thisType: PlansTypeInterface | \"all\"\n): setSelectedPlanTypeActions => {\n  console.log({ thisType });\n  return {\n    type: ActionTypes.SELECT_PLAN_TYPE,\n    payload: thisType,\n  };\n};\n\n// GET ACTIVE PLAN TYPES ==========================\nexport const getActiveSessionPlan = (callback: Function) => {\n  callback(true, \"\");\n  return async (dispatch: Dispatch) => {\n    try {\n      setAxiosToken();\n      const res = await axios.get<SessionPlanInterface>(\n        `${API.CLAIMING}/session/active/`\n      );\n      console.log({ GET_ACTIVE_SESSION_PLANS: res.data });\n      let session_plan: SessionPlanInterface | undefined = undefined;\n      // if (res.status === 200) {\n      //   // setApplications(res.data);\n      // }\n      if (res.data && res.data.is_active !== undefined) {\n        session_plan = res.data;\n      }\n      console.log({ session_plan: res.data });\n\n      dispatch<GetActiveSessionPlanAction>({\n        type: ActionTypes.GET_ACTIVE_SESSION_PLANS,\n        payload: session_plan ? session_plan : \"none\",\n      });\n      callback(false, \"\", session_plan ? session_plan : \"none\");\n    } catch (error) {\n      console.error({ error: errorToText(error) });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\n// GET ALL PLAN TYPES ==========================\nexport const GetAllSessionPlans = (callback: Function) => {\n  callback(true, \"\");\n  return async (dispatch: Dispatch) => {\n    try {\n      setAxiosToken();\n      const res = await axios.get<SessionPlanInterface[]>(\n        `${API.CLAIMING}/session/`\n      );\n      console.log({ GET_ALL_SESSION_PLANS: res.data });\n      let session_data: SessionPlanInterface[] = [];\n      if (res.status === 200) {\n        // setApplications(res.data);\n        if (res.data !== null && res.data.length > 0) {\n          session_data = res.data;\n        }\n      }\n      dispatch<GetAllSessionPlansAction>({\n        type: ActionTypes.GET_ALL_SESSION_PLANS,\n        payload: session_data,\n      });\n      callback(false, \"\", session_data);\n    } catch (error) {\n      console.error({ error: errorToText(error) });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\n// CREATE SESSION PLAN\nexport const createSessionPlan = (\n  data: SessionPlanInterface\n): CreateSessionPlansAction => {\n  return {\n    type: ActionTypes.CREATE_SESSION_PLAN,\n    payload: data,\n  };\n};\n\n// UPDATE SESSION PLAN\nexport const updateSessionPlan = (\n  data: SessionPlanInterface\n): UpdateSessionPlansAction => {\n  return {\n    type: ActionTypes.UPDATE_SESSION_PLAN,\n    payload: data,\n  };\n};\n\n// ACTIVATE SESSION PLAN\nexport const sessionActivation = (\n  data: SessionPlanInterface\n): ActivateSessionPlansAction => {\n  return {\n    type: ActionTypes.SESSION_ACTIVATION,\n    payload: data,\n  };\n};\n\n// DELETE SESSION PLAN\nexport const deleteSessionPlan = (data: string): DeleteSessionPlanAction => {\n  return {\n    type: ActionTypes.DELETE_SESSION_PLAN,\n    payload: data,\n  };\n};\n\n// CREATE ACADEMIC SESSION\nexport const createAcademicSession = (\n  data: AcademicSessionInterface\n): CreateAcademicSessionAction => {\n  return {\n    type: ActionTypes.CREATE_ACADEMIC_SESSION,\n    payload: data,\n  };\n};\n\n// GET ALL ACADEMIC SESSION ==========================\nexport const GetAllAcademicSession = (callback: Function) => {\n  callback(true, \"\");\n  return async (dispatch: Dispatch) => {\n    try {\n      setAxiosToken();\n      const res = await axios.get<AcademicSessionInterface[]>(\n        `${API.PLACEMENT}/postrequestperiod/`\n      );\n      console.log({ GET_ALL_SESSION_PLANS: res.data });\n      let session_data: AcademicSessionInterface[] = [];\n      if (res.status === 200) {\n        // setApplications(res.data);\n        if (res.data !== null && res.data.length > 0) {\n          session_data = res.data;\n        }\n      }\n      console.log(\"====================================\");\n      console.log({ GetAllAcademicSession: res });\n      console.log(\"====================================\");\n      dispatch<GetAllAcademicSessionAction>({\n        type: ActionTypes.GET_ALL_ACADEMIC_SESSION,\n        payload: session_data,\n      });\n      callback(false, \"\", session_data);\n    } catch (error) {\n      console.error({ error: errorToText(error) });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\n// UPDATE ACADEMIC SESSION\nexport const updateAcademicSession = (\n  data: AcademicSessionInterface\n): UpdateAcademicSessionAction => {\n  return {\n    type: ActionTypes.UPDATE_ACADEMIC_SESSION,\n    payload: data,\n  };\n};\n\n// ACTIVATE ACADEMIC SESSION\nexport const academicSessionActivation = (\n  data: AcademicSessionInterface\n): ActivateAcademicSessionAction => {\n  return {\n    type: ActionTypes.ACADEMIC_SESSION_ACTIVATION,\n    payload: data,\n  };\n};\n\n// DELETE ACADEMIC SESSION\nexport const deleteAcademicSession = (\n  data: string\n): DeleteAcademicSessionAction => {\n  return {\n    type: ActionTypes.DELETE_ACADEMIC_SESSION,\n    payload: data,\n  };\n};\n\n// GET ACTIVE PLAN TYPES ==========================\nexport const getActiveAcademicSession = (callback: Function) => {\n  callback(true, \"\");\n  return async (dispatch: Dispatch) => {\n    try {\n      setAxiosToken();\n      const res = await axios.get<AcademicSessionInterface>(\n        `${API.PLACEMENT}/postrequestperiod/one`\n      );\n      console.log({ GET_ACTIVE_ACADEMIC_SESSION: res.data });\n      let session_plan: AcademicSessionInterface | undefined = undefined;\n      // if (res.status === 200) {\n      //   // setApplications(res.data);\n      // }\n      if (res.data) {\n        session_plan = res.data;\n      }\n      console.log({ session_plan: res.data });\n\n      dispatch<GetActiveAcademicSessionAction>({\n        type: ActionTypes.GET_ACTIVE_ACADEMIC_SESSION,\n        payload: session_plan ? session_plan : \"none\",\n      });\n      callback(false, \"\", session_plan ? session_plan : \"none\");\n    } catch (error) {\n      console.error({ error: errorToText(error) });\n      callback(false, errorToText(error));\n    }\n  };\n};\n","import axios from \"axios\";\nimport { Dispatch } from \"redux\";\nimport { ActionTypes } from \"./types\";\nimport {\n  AccessTaskInterface,\n  PermissionInterface,\n  SystemSettingsInterface,\n} from \"../shared/interfaces\";\nimport { API } from \"../utils/api\";\nimport { setAxiosToken } from \"../utils/AxiosToken\";\nimport { errorToText } from \"../utils/errors\";\nimport { PositionAPI } from \"../interfaces/position\";\n\n/**\n * * ****************************** INTERFACES *****************************\n */\n\n// SYSTEM SETTINGS  ==============\nexport interface GetSystemSettingsAction {\n  type: ActionTypes.GET_SYSTEM_SETTINGS;\n  payload: SystemSettingsInterface[];\n}\n\nexport interface DisableSystemSettingsAction {\n  type: ActionTypes.DISABLE_SYSTEM_SETTINGS;\n  payload: {\n    system_setting_id: string;\n    status: \"enabled\" | \"disabled\";\n  };\n}\n\n// ROLE TASKS ACCESS SETTINGS ===================================\nexport interface GetTaskAccessAction {\n  type: ActionTypes.GET_TASK_ACCESS;\n  payload: AccessTaskInterface[];\n}\n\n// POSITIONS SETTINGS ===================================\nexport interface PositionCreateInterface {\n  position_id?: string;\n  position_title: string;\n  description: string;\n  school_level_id: string;\n  subcategory_id: string;\n  education_institute_id: string;\n  courses: string[];\n  requirements: {\n    user_detail_category_id: string;\n    user_detail_subcategory_id: string;\n    position_requirement: {\n      category_subcategory_data_id: string;\n      required: boolean;\n    }[];\n    required: boolean;\n  }[];\n}\nexport interface GetPositionsAction {\n  type: ActionTypes.GET_POSTIONS;\n  payload: PositionAPI[];\n}\n\nexport interface CreatePositionsAction {\n  type: ActionTypes.CREATE_POSITION;\n  payload: PositionCreateInterface;\n}\n\nexport interface UpdatePositionsAction {\n  type: ActionTypes.UPDATE_POSITION;\n  payload: PositionCreateInterface;\n}\n\nexport interface DeletePositionSettingAction {\n  type: ActionTypes.DELETE_POSITION;\n  payload: string;\n}\n\nexport interface PublishPositionAction {\n  type: ActionTypes.PUBLISH_POSITION;\n  payload: {\n    position_id: string;\n    status: boolean;\n  };\n}\n\nexport type SystemActionType =\n  | GetSystemSettingsAction\n  | DisableSystemSettingsAction\n  | GetTaskAccessAction\n  | GetPositionsAction\n  | CreatePositionsAction\n  | UpdatePositionsAction\n  | DeletePositionSettingAction\n  | PublishPositionAction;\n\n/**\n * * ****************************** ACTIONS *****************************\n */\n\nexport const getSystemSettings = (callback: Function) => {\n  return async (dispatch: Dispatch) => {\n    callback(true, \"\");\n    try {\n      setAxiosToken();\n      const res = await axios.get<SystemSettingsInterface[]>(\n        `${API.AUTH}/settings`\n      );\n      dispatch<GetSystemSettingsAction>({\n        type: ActionTypes.GET_SYSTEM_SETTINGS,\n        payload: res.data,\n      });\n      callback(false, \"\");\n    } catch (error) {\n      console.log({ code_error: error });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\nexport const disableSystemSetting = (data: {\n  system_setting_id: string;\n  status: \"enabled\" | \"disabled\";\n}) => {\n  return async (dispatch: Dispatch) => {\n    dispatch<DisableSystemSettingsAction>({\n      type: ActionTypes.DISABLE_SYSTEM_SETTINGS,\n      payload: data,\n    });\n  };\n};\n\n// ============================ tasks access =======================\n\nexport const GetTaskAccess = (callback: Function) => {\n  return async (dispatch: Dispatch) => {\n    callback(true, \"\");\n    try {\n      setAxiosToken();\n      const res = await axios.get<\n        {\n          id: string;\n          title: string;\n          key: string;\n          permitted: PermissionInterface;\n        }[]\n      >(`${API.AUTH}/allroleaccess`);\n      let response: AccessTaskInterface[] = res.data.map((data) => ({\n        id: data.id,\n        task: data.title,\n        key: data.key,\n        permitted: data.permitted,\n      }));\n      dispatch<GetTaskAccessAction>({\n        type: ActionTypes.GET_TASK_ACCESS,\n        payload: response,\n      });\n      callback(false, \"\", response);\n    } catch (error) {\n      console.log({ code_error: error });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\n// ============================ positions =======================\n\nexport const getPositions = (callback: Function) => {\n  return async (dispatch: Dispatch) => {\n    callback(true, \"\");\n    try {\n      setAxiosToken();\n      const res = await axios.get<PositionAPI[]>(`${API.APPLICATION}/position`);\n      dispatch<GetPositionsAction>({\n        type: ActionTypes.GET_POSTIONS,\n        payload: res.data,\n      });\n      callback(false, \"\");\n    } catch (error) {\n      console.log({ code_error: error });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\nexport const createPosition = (data: PositionCreateInterface) => {\n  console.log({ createPosition: data });\n  return async (dispatch: Dispatch) => {\n    dispatch<CreatePositionsAction>({\n      type: ActionTypes.CREATE_POSITION,\n      payload: data,\n    });\n  };\n};\n\nexport const updatePosition = (data: PositionCreateInterface) => {\n  console.log({ updatePosition: data });\n  return async (dispatch: Dispatch) => {\n    dispatch<UpdatePositionsAction>({\n      type: ActionTypes.UPDATE_POSITION,\n      payload: data,\n    });\n  };\n};\n\nexport const deletePosition = (data: string) => {\n  console.log({ deletePosition: data });\n  return async (dispatch: Dispatch) => {\n    dispatch<DeletePositionSettingAction>({\n      type: ActionTypes.DELETE_POSITION,\n      payload: data,\n    });\n  };\n};\n\nexport const publishPosition = (data: {\n  position_id: string;\n  status: boolean;\n}) => {\n  return async (dispatch: Dispatch) => {\n    dispatch<PublishPositionAction>({\n      type: ActionTypes.PUBLISH_POSITION,\n      payload: data,\n    });\n  };\n};\n","import React from \"react\";\n\ntype TableLoadingProps = {\n  cols: number;\n};\nconst TableLoading: React.FC<TableLoadingProps> = (props) => {\n  const displayCols = (): JSX.Element[] => {\n    let colsArray: number[] = [];\n    for (let index = 0; index < props.cols; index++) {\n      colsArray.push(index);\n    }\n    let result = colsArray.map((element) => {\n      return (\n        <td className=\"p-3 text-center whitespace-nowrap\" key={element}>\n          <div className=\"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite\"></div>\n        </td>\n      );\n    });\n\n    return result;\n  };\n  return (\n    <>\n      <tr className=\"border-b border-gray-200\" key={228}>\n        {displayCols()}\n      </tr>\n      <tr className=\"border-b border-gray-200\" key={22648}>\n        {displayCols()}\n      </tr>\n      <tr className=\"border-b border-gray-200\" key={229768}>\n        {displayCols()}\n      </tr>\n    </>\n  );\n};\n\nexport default TableLoading;\n"],"sourceRoot":""}