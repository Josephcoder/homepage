(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[41],{178:function(e,t,s){"use strict";s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return n}));var a,r,n,o=s(9),i=s(1);!function(e){e.default="default",e.primary="primary",e.secondary="secondary",e.danger="danger",e.success="success",e.warning="warning"}(a||(a={})),function(e){e.none="top-0",e.small="top-28",e.medium="top-1/3",e.large="top-1/2",e.extra="top-2/3"}(r||(r={})),function(e){e.small="max-w-sm",e.medium="max-w-screen-sm",e.large="max-w-screen-md",e.extraLarge="max-w-screen-lg",e.maxWidth="max-w-screen h-full"}(n||(n={}));t.d=function(e){var t,s=e.title,c=e.backDrop,d=e.theme,l=e.close,m=e.backDropClose,p=e.widthSizeClass,b=e.displayClose,x=e.padding,u=void 0===x?{title:!0,body:!0,footer:!0}:x;switch(d){case a.primary:t="blue-500";break;case a.secondary:t="gray-300";break;case a.danger:t="red-500";break;case a.success:t="green-500";break;case a.warning:t="yellow-500";break;default:t="white"}return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{onClick:function(){return m&&l()},className:"animate__animated animate__fadeIn animate__faster modal fixed bg-black bg-opacity-".concat(!0===c?"60":"0")}),Object(i.jsxs)("div",{className:"fixed items-center justify-items-center ".concat(void 0===e.marginTop?r.none:e.marginTop," left-0 right-0 bottom-0 bg-white rounded shadow-xl self-center ").concat(p," animate__animated ").concat(void 0!==e.marginTop&&e.marginTop!==r.none?"animate__fadeInUp":"animate__zoomIn"," animate__faster"),style:{width:"100%",maxHeight:"99vh",height:"".concat(p===n.maxWidth?void 0===e.marginTop?"100%":"unset":"fit-content"),overflowY:"auto",margin:"auto",zIndex:99999999},children:[Object(i.jsxs)("div",{className:"flex justify-between bg-".concat(t," ").concat(!0===u.title?"py-4 px-4":""," rounded-t text-").concat(d===a.default||d===a.secondary?"black":"white"),children:[s&&""!==s?Object(i.jsx)("h4",{className:"text-lg font-bold ",children:s}):Object(i.jsx)("div",{}),!1===b?"":Object(i.jsx)("div",{className:"hover:text-red-600 hover:bg-red-100 rounded-full p-1 h-8 w-8",children:Object(i.jsx)(o.x,{className:"cursor-pointer font-extrabold text-2xl",onClick:function(){return l()}})})]}),Object(i.jsx)("div",{className:"space-x-3 ".concat(!0===u.body?"py-4 px-4":""),children:Object(i.jsx)("div",{children:""!==e.children?e.children:""})}),void 0!==e.footer&&""!==e.footer?Object(i.jsx)("div",{className:"flex float-right ".concat(!0===u.footer?"py-4 px-4":""),children:e.footer}):""]})]})}},784:function(e,t,s){"use strict";s.r(t),s.d(t,"ProctoringCenter",(function(){return U}));var a,r=s(20),n=s(21),o=s(23),i=s(22),c=s(4),d=s.n(c),l=s(185),m=s(9),p=s(19),b=s(3),x=s(74),u=s(25),j=s(82),h=s(1),_=function(e){var t=e.close,s=e.active_candidate,a=e.room,r=e.exam_start,n=e.leaveRoomHandler,o=e.deleteRoomHandler,i=e.exam_rules;return Object(h.jsxs)(c.Fragment,{children:[Object(h.jsx)("div",{className:"fixed bg-black bg-opacity-10  top-0 bottom-0 right-0 left-0 animate__animated animate__fadeIn",onClick:function(){return t(!1)}}),Object(h.jsxs)("div",{className:"fixed w-80 z-50 shadow-lg bg-white rounded top-16 mt-2 right-2 animate__animated animate__zoomIn animate__faster",children:[Object(h.jsxs)("div",{className:"flex items-center border-b",children:[Object(h.jsx)("div",{className:"flex-1 pl-2 text-xl font-bold text-gray-400",children:Object(h.jsx)("h4",{children:"Room details"})}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("button",{onClick:function(){return t(!1)},className:"p-2 hover:bg-red-700 hover:text-white rounded text-2xl",children:Object(h.jsx)(m.x,{})})})]}),Object(h.jsxs)("div",{className:"p-2 ",children:[Object(h.jsx)("div",{className:"border-separate p-2",children:[{title:"Province",value:a.province_name},{title:"District",value:a.district_name},{title:"Center name",value:a.center_name},{title:"Group",value:a.room_number},{title:"Joined candidates",value:s}].map((function(e,t){var s=e.title,a=e.value;return Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsxs)("span",{className:"text-gray-500",children:[s,": "]}),Object(h.jsxs)("b",{className:"text-right inline-block",children:[" ",a]})]},t)}))}),Object(h.jsxs)("div",{className:"border-separate px-2 pt-2 mt-2 bg-gray-50 border rounded",children:[Object(h.jsx)("h2",{className:"text-xl font-bold border-b",children:"Exam rules"}),[{title:"Leave the browser",value:i.allow_to_leave_browser},{title:"Copy contents",value:i.copy_enabled},{title:"Paste contents",value:i.paste_enabled},{title:"Right click",value:i.right_click_enabled},{title:"Refresh browser",value:i.stop_candidate_when_comeback}].map((function(e,t){var s=e.title,a=e.value;return Object(h.jsxs)("div",{className:"flex items-center border-b p-1",children:[Object(h.jsx)("div",{className:"flex-1 text-sm",children:Object(h.jsxs)("span",{className:"",children:[s,": "]})}),Object(h.jsxs)("div",{className:"text-right inline-block",children:[" ",!1===a?Object(h.jsx)("span",{className:"p-0.5 px-1 text-xs rounded bg-green-100 text-green-700",children:"Enabled"}):Object(h.jsx)("span",{className:"p-0.5 px-1 text-xs rounded bg-red-200 text-red-700",children:"Disabled"})]})]},t)}))]}),Object(h.jsxs)("div",{className:"p-2 flex",children:[Object(h.jsxs)("button",{onClick:function(){return n()},className:"btn bg-red-700 hover:bg-red-800 text-white w-full mr-2",title:"Leave room",children:[Object(h.jsx)(m.bb,{className:"inline-block"})," Leave"]}),!1===r&&s<=1&&Object(h.jsxs)("button",{onClick:function(){return o()},className:"btn bg-gray-500 hover:bg-red-500 text-white w-full",title:"Delete room",children:[Object(h.jsx)(m.B,{className:"inline-block"})," Delete"]})]})]})]})," "]})},g=s(61),O=s.n(g),v=function(e){var t=e.course_title,s=e.post_title,a=e.duration,r=e.started_at,n=e.exam_start,o=e.startExamHandler,i=e.stopExamHandler,d=e.focus_mode,l=e.focusToggle,p=e.leaveRoom,b=e.room,x=e.active_candidate,g=e.deleteRoom,v=e.ExamDone,f=e.exam_rules,N=Object(c.useState)(!1),y=Object(u.a)(N,2),C=y[0],w=y[1];return Object(h.jsxs)(c.Fragment,{children:[Object(h.jsxs)("div",{className:"".concat(!0===d?"border-blue-500 border-opacity-30 text-white proctoring-evaluator-navigation":"bg-white rounded-t-sm  rounded-md"," py-2 px-3 border-b z-50 grid grid-flow-row md:grid-cols-1 lg:grid-cols-2 transition-all ease-in-out"),children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("button",{onClick:function(){return l()},className:"px-2 ".concat(!0===d?"bg-blue-900 hover:bg-blue-500 ":"bg-blue-100 hover:bg-blue-500 "," mr-2  rounded-md  hover:text-white"),children:!0===d?Object(h.jsxs)(c.Fragment,{children:[Object(h.jsx)(m.N,{className:"text-3xl mx-auto -mb-2"}),Object(h.jsx)("span",{className:"text-xs inline-block pt-1",children:"Un-Focus"})]}):Object(h.jsxs)(c.Fragment,{children:[Object(h.jsx)(m.M,{className:"text-3xl mx-auto -mb-2"}),Object(h.jsx)("span",{className:"text-xs inline-block pt-1",children:"Focus"})]})}),Object(h.jsx)("div",{className:"flex items-center",children:Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("label",{htmlFor:"",className:"".concat(!0===d?"text-gray-200":""," text-sm m-0"),children:s}),Object(h.jsx)("h3",{className:"text-white- text-lg -mt-2 font-bold",children:t})]})})]}),Object(h.jsx)("div",{className:"text-red lg:pt-0 sm:pt-3 text-right md:text-left lg:text-right",children:Object(h.jsxs)("div",{className:"grid grid-cols-5 gap-4 text-left",children:[Object(h.jsx)("div",{children:!0===n&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{className:"text-gray-400 text-sm",children:"Duration"}),Object(h.jsxs)("h2",{className:"text-xl font-bold",children:[a,"M"]})]})}),Object(h.jsx)("div",{children:!0===n&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{className:"text-gray-400 text-sm",children:"Started at:"}),!0===n&&Object(h.jsx)("h2",{className:"text-xl font-bold",children:O()(r).format("LT")})]})}),Object(h.jsx)("div",{className:"text-3xl -mt-3 ",children:!0===n&&null!==r&&""!==r&&Object(h.jsx)(j.a,{start_time:r,duration_min:a,timeout:function(){return v(!0)},returnString:!1,labels:!0})}),Object(h.jsx)("div",{className:"flex items-center pl-2",children:Object(h.jsx)("button",{onClick:function(){return w(!0)},className:"btn bg-gray-100 text-gray-900 w-full hover:bg-gray-500 hover:text-white",title:"Room details",children:"Room"})}),Object(h.jsx)("div",{className:"flex items-center",children:!1===n?Object(h.jsx)("button",{onClick:function(){return o()},className:"btn bg-green-500 text-white w-full",title:"Start Exam",children:"Start"}):Object(h.jsx)("button",{onClick:function(){return i()},className:"btn bg-red-600 text-white w-full",title:"stop Exam",children:"Stop"})})]})})]}),C&&Object(h.jsx)(_,{close:w,active_candidate:x,room:b,exam_start:n,leaveRoomHandler:p,deleteRoomHandler:g,exam_rules:f})]})},f=function(e){var t=e.focus_mode,s=e.candidates,a=s.length,r=s.filter((function(e){return!0===e.active})).length,n=s.filter((function(e){return!0===e.done})).length,o=s.filter((function(e){return!1===e.done&&!0===e.active&&!1===e.stopped&&!1===e.removed})).length,i=s.filter((function(e){return!0===e.removed})).length,c=s.filter((function(e){return!0===e.stopped&&!1===e.done})).length,d=s.filter((function(e){return!1===e.active&&!1===e.done&&!0===e.joined})).length,l=s.filter((function(e){return!1===e.joined})).length;return Object(h.jsx)("div",{className:"grid grid-cols-4 gap-2 p-3 border-separate ".concat(!0===t?"bg-blue-900 text-gray-300":"bg-white  shadow-lg border "," rounded-md my-2 text-center w-90"),children:[{title:"Total",label:"Total candidates",value:a},{title:"Active",label:"Active candidate(s)",value:r},{title:"Done",label:"Candidate(s) who done exam",value:n},{title:"Left",label:"Candidate(s) who left unfinished",value:d},{title:"Removed",label:"Removed candidate(s)",value:i},{title:"Stopped",label:"Stopped candidate(s)",value:c},{title:"Remain",label:"Remain candidate(s)",value:o},{title:"Non Joined",label:"Non joined exam(s)",value:l}].map((function(e,t){var s=e.title,a=e.label,r=e.value;return Object(h.jsxs)("div",{title:a,className:"border rounded-md py-1",children:[Object(h.jsx)("h1",{className:"text-2xl font-bold -mb-1 p-0 ",children:r}),Object(h.jsx)("label",{htmlFor:"",className:"text-sm -mt-2",children:s})]},t)}))})},N=function(e){var t=e.events,s=(e.clickOpen,e.clickHandler,e.candidates),a=e.focus_mode,r=e.loading,n=Object(c.useState)(""),o=Object(u.a)(n,2),i=o[0],d=o[1];return Object(h.jsxs)("div",{className:"mt-2 p-2 ".concat(!0===a?"bg-gray-900 text-white":"bg-gray-50 shadow-sm border"," rounded-md "),children:[Object(h.jsx)("h1",{className:"text-xl",children:"Events"}),!0===r?Object(h.jsx)("div",{className:"p-2",children:Object(h.jsx)("h4",{className:"block animate__animated animate__fadeIn animate__infinite p-3 text-center",children:"Loading events..."})}):Object(h.jsxs)("table",{className:"w-full text-left",children:[Object(h.jsx)("thead",{className:"text-sm text-gray-500",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"#"}),Object(h.jsx)("th",{children:"username"}),Object(h.jsx)("th",{children:"Event type"}),Object(h.jsx)("th",{children:"Time"})]})}),Object(h.jsx)("tbody",{children:0===t.length?Object(h.jsx)("tr",{children:Object(h.jsxs)("td",{className:"p-3 py-8 text-center",colSpan:4,children:[Object(h.jsx)("h2",{className:"font-bold text-2xl",children:"No events found"}),Object(h.jsx)("h2",{className:"",children:"No event has been committed yet"})]})}):t.map((function(e,t){var a=s.find((function(t){return t.user_id===e.user_id}));return Object(h.jsx)(c.Fragment,{children:i===e.event_id?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:4,className:"animate__animated animate__zoomIn animate__faster",children:Object(h.jsxs)("div",{className:"overflow-hidden my-1 rounded border bg-blue-900 bg-opacity-30 border-blue-500",children:[Object(h.jsxs)("div",{className:"px-3  flex items-center bg-blue-900 bg-opacity-30",children:[Object(h.jsxs)("h2",{className:"flex-1 m-0 text-xl py-2 opacity-70",children:["Event ",Object(h.jsx)("b",{children:t+1})," details"]}),Object(h.jsx)("button",{onClick:function(){return d("")},className:"hover:bg-red-600 text-2xl p-1.5 rounded-md",children:Object(h.jsx)(m.x,{})})]}),Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("span",{className:"opacity-70",children:"Event type: "}),Object(h.jsx)("b",{children:e.event_type_id})]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("span",{className:"opacity-70",children:"Time: "}),Object(h.jsx)("b",{children:e.createdAt})]}),Object(h.jsxs)("p",{className:"p-1 m-1 bg-blue-200 bg-opacity-20 px-2 rounded-md",children:[Object(h.jsxs)("span",{className:"opacity-70 block",children:["Description:"," "]}),Object(h.jsx)("b",{children:e.description})]}),void 0!==a&&Object(h.jsxs)("div",{className:"p-1 mt-2 m-1 bg-blue-200 bg-opacity-20 px-2 rounded-md",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("span",{className:"opacity-70",children:"Names: "}),Object(h.jsxs)("b",{children:[a.fname," ",a.lname]})]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("span",{className:"opacity-70",children:"Email: "}),Object(h.jsx)("b",{children:a.email})]})]})]})]})})}):Object(h.jsxs)("tr",{onClick:function(){return d(e.event_id)},className:"p-2 rounded-md hover:bg-blue-900 bg-opacity-30 cursor-pointer",children:[Object(h.jsx)("td",{className:"px-1 opacity-95",children:t+1}),Object(h.jsx)("td",{className:"text-blue-500 font-bold",children:void 0!==a?Object(h.jsx)("span",{title:(null===a||void 0===a?void 0:a.fname)+" "+(null===a||void 0===a?void 0:a.lname),children:null===a||void 0===a?void 0:a.lname}):Object(h.jsx)("span",{className:"opacity-50",children:"System/Admin"})}),Object(h.jsx)("td",{className:"text-red-400 text-sm pl-1",children:e.event_type_id}),Object(h.jsx)("td",{className:"text-gray-400 pl-1",children:"2min"})]})},t)}))})]})]})},y=void 0;!function(e){e[e.Details=0]="Details",e[e.Events=1]="Events"}(a||(a={}));var C=function(e){var t=e.candidate,s=e.chatHandler,r=e.micHandler,n=e.focusHandler,o=e.stopHandler,i=e.restartHandler,d=e.warnHandler,l=e.closeHandler,p=e.events,b=e.home_proctoring,x=e.exam_started,j=e.focus_mode,_=e.removeInExam,g=Object(c.useState)(a.Details),O=Object(u.a)(g,2),v=O[0],f=O[1];return void 0===t?Object(h.jsxs)("div",{className:"p-4 text-center bg-white",children:[Object(h.jsx)("h1",{className:"text-3xl text-gray-800",children:"Oops!!"}),Object(h.jsxs)("p",{className:"text-3xl text-gray-700",children:["The selected candidate can't be found"," "]})]}):Object(h.jsxs)("div",{className:"p-1",children:[Object(h.jsxs)("div",{className:"p-2 border-rounded ".concat(!0===j?"bg-blue-900 text-white":"bg-gray-500 text-white","  rounded-md flex items-baseline "),children:[Object(h.jsx)("button",{onClick:function(){return l()},className:"p-1 block bg-blue-900 bg-opacity-70 rounded-md mr-2 font-bold text-1xl",children:Object(h.jsx)(m.f,{})}),Object(h.jsx)("h3",{className:"text-center -mt-1 mb-0 pb-0 text-1xl font-bold block text-blue-500--",children:"User details"})]}),Object(h.jsxs)("div",{className:"p-2 text-center",children:[Object(h.jsx)(m.a,{className:"text-9xl text-center mx-auto"}),Object(h.jsxs)("h1",{className:"text-xl  ".concat(!0===j?"text-white":"text-gray-800"," font-bold"),children:[t.fname," ",t.lname]}),Object(h.jsx)("h2",{className:" ".concat(!0===j?"text-gray-400":"text-gray-800","  text-md"),children:t.email}),Object(h.jsxs)("div",{className:"p-1",children:[!0===t.joined&&Object(h.jsx)("span",{className:"inline-block text-sm bg-blue-500 text-white px-1 rounded-md m-0.5",children:"#Joined"}),!0===t.active&&Object(h.jsx)("span",{className:"inline-block text-sm bg-green-500 text-white px-1 rounded-md m-0.5",children:"#Active"}),!0===t.removed&&Object(h.jsx)("span",{className:"inline-block text-sm bg-red-500 text-white  px-1 rounded-md m-0.5",children:"#Removed"}),!0===t.done&&Object(h.jsx)("span",{className:"inline-block text-sm bg-yellow-500 text-white px-1 rounded-md m-0.5",children:"#Done"})]})]}),Object(h.jsx)("div",{className:"my-2 py-1 rounded grid grid-cols-2 gap-1",children:!0===x&&!0===t.active&&Object(h.jsxs)(h.Fragment,{children:[!0===b&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("button",{onClick:r.bind(y,t.user_id),className:"proctoring-action-button",children:[Object(h.jsx)(m.Hb,{className:"text-2xl mx-auto b-0 pb-0"}),Object(h.jsx)("span",{className:"text-md p-0 block -mt-0",children:"Mic"})]}),Object(h.jsxs)("button",{onClick:s.bind(y,t.user_id),className:"proctoring-action-button",children:[Object(h.jsx)(m.q,{className:"text-2xl mx-auto b-0 pb-0"}),Object(h.jsx)("span",{className:"text-md p-0 block -mt-0",children:"Chat"})]}),Object(h.jsxs)("button",{onClick:n.bind(y,t.user_id),className:"proctoring-action-button",children:[Object(h.jsx)(m.M,{className:"text-2xl mx-auto b-0 pb-0"}),Object(h.jsx)("span",{className:"text-md p-0 block -mt-0",children:"Focus"})]})]}),!1===t.done&&Object(h.jsxs)("button",{onClick:o.bind(y,t.user_id),className:"proctoring-action-button",children:[Object(h.jsx)(m.hb,{className:"text-2xl mx-auto b-0 pb-0"}),Object(h.jsx)("span",{className:"text-md p-0 block -mt-0",children:"Stop"})]}),Object(h.jsxs)("button",{onClick:i.bind(y,t.user_id),className:"proctoring-action-button",children:[Object(h.jsx)(m.vb,{className:"text-2xl mx-auto b-0 pb-0"}),Object(h.jsx)("span",{className:"text-md p-0 block -mt-0",children:"Restart"})]}),!1===t.done&&Object(h.jsxs)("button",{title:"give a warning",onClick:function(){return d(t.user_id)},className:"proctoring-action-button",children:[Object(h.jsx)(m.Ib,{className:"text-2xl mx-auto b-0 pb-0"}),Object(h.jsx)("span",{className:"text-md p-0 block -mt-0",children:"Warn"})]}),!1===t.done&&Object(h.jsxs)("button",{title:"Remove into in exam",onClick:function(){return _(t.user_id)},className:"text-center rounded-md p-1 border-2 border-red-600 hover:bg-red-600 text-white  hover:text-white bg-red-500",children:[Object(h.jsx)(m.Ib,{className:"text-2xl mx-auto b-0 pb-0"}),Object(h.jsx)("span",{className:"text-md p-0 block -mt-0",children:"Remove into exam"})]})]})}),Object(h.jsxs)("div",{className:"my-1 bg-blue-900 bg-opacity-40 rounded-md p-1 mt-2 grid grid-cols-2 gap-2 text-sm",children:[Object(h.jsx)("button",{onClick:function(){return f(a.Details)},className:"p-1 rounded-md text-white ".concat(v===a.Details?"bg-blue-600 border-2 border-blue-300":"bg-blue-300"),children:"candidate"}),Object(h.jsx)("button",{onClick:function(){return f(a.Events)},className:"p-1 rounded-md text-white ".concat(v===a.Events?"bg-blue-600 border-2 border-blue-300":"bg-blue-300"),children:"Events"})]}),v===a.Details?Object(h.jsxs)("div",{className:"mt-2 ".concat(!0===j?"text-white":"text-gray-900"," border-blue-400"),children:[Object(h.jsx)("h2",{className:" font-bold text-2xl mb-1 opacity-70 text-center border-b",children:"User information"}),Object(h.jsxs)("div",{className:"p-2 rounded-md border   border-opacity-20",children:[Object(h.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===j?"border-white":"border-gray-400"),children:[Object(h.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"Username:"}),Object(h.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.email})]}),Object(h.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===j?"border-white":"border-gray-400"),children:[Object(h.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"First name:"}),Object(h.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.fname})]}),Object(h.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===j?"border-white":"border-gray-400"),children:[Object(h.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"Last name:"}),Object(h.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.lname})]}),Object(h.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===j?"border-white":"border-gray-400"),children:[Object(h.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"email:"}),Object(h.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.email})]}),Object(h.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===j?"border-white":"border-gray-400"),children:[Object(h.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"Position:"}),Object(h.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.position_title})]}),Object(h.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===j?"border-white":"border-gray-400"),children:[Object(h.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"Course name:"}),Object(h.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.course_name})]})]})]}):Object(h.jsx)(N,{candidates:[t],events:p,focus_mode:j,loading:!1})]})},w=function(e){var t=e.clickHandler,s=e.candidates,a=e.focus_mode,r=e.show_title,n=e.large;return Object(h.jsxs)("div",{className:"mt-2 ".concat(!0===a?"text-white p-2 ":""),children:[!0===r&&Object(h.jsx)("h1",{className:"text-3xl font-bold text-center pb-2 border-b mb-1 border-gray-100",children:"Candidates"}),Object(h.jsxs)("table",{className:"w-full text-left ".concat(!0===a?"":"bg-white rounded-md",'  p-2"'),children:[Object(h.jsx)("thead",{className:"text-sm text-gray-500",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{}),Object(h.jsx)("th",{}),!0===n&&Object(h.jsx)("th",{}),Object(h.jsx)("th",{})]})}),Object(h.jsx)("tbody",{children:s.map((function(e,s){return Object(h.jsxs)("tr",{className:"group border-b mb-1 ".concat(!0===a?"border-blue-800 border-opacity-60 hover:bg-blue-900":"border-gray-200 border-opacity-60 hover:bg-blue-100","  cursor-pointer"),onClick:t.bind(undefined,e.user_id),children:[Object(h.jsx)("td",{className:"".concat(!0===a?"text-blue-500":"text-gray-400","  w-5 text-left"),children:Object(h.jsx)(m.a,{className:!0===n?"text-3xl":"text-5xl"})}),Object(h.jsxs)("td",{className:"text-gray-400 pl-1 py-1",children:[Object(h.jsxs)("h4",{className:"font-bold ".concat(!0===n?"text-md":"text-lg","  p-0 m-0 ").concat(!0===a?"text-white":"text-gray-900"),children:[e.fname," ",e.lname]}),!1===n&&Object(h.jsx)("p",{className:"text-sm p-0 m-0 -mt-1",children:e.email})]}),!0===n&&Object(h.jsx)("td",{className:"",children:Object(h.jsx)("span",{className:"text-sm p-0 m-0 -mt-1",children:e.email})}),Object(h.jsxs)("td",{className:"text-right group-hover:opacity-100 opacity-40 ".concat(!1===n?"grid grid-cols-2 text-center w-10 pt-2":""," md:w-auto"),children:[!0===e.joined&&Object(h.jsx)("span",{className:"inline-block text-xs bg-blue-300 px-1 rounded-md m-0.5",children:"#Joined"}),!0===e.active&&Object(h.jsx)("span",{className:"inline-block text-xs bg-green-300 px-1 rounded-md m-0.5",children:"#Active"}),!0===e.removed&&Object(h.jsx)("span",{className:"inline-block text-xs bg-red-300 text-white px-1 rounded-md m-0.5",children:"#Removed"}),!0===e.done&&Object(h.jsx)("span",{className:"inline-block text-xs bg-yellow-300 px-1 rounded-md m-0.5",children:"#Done"})]})]},s)}))})]})]})};w.defaultProps={large:!1};var E,k=w,S=void 0,R=function(e){var t=e.candidate,s=e.warningHandler,a=e.stopHandler,r=e.detailsHandler,n=e.continueHandler,o=e.exam_started,i=e.focus_mode,d=e.exam_done,l=e.addMinutes,p=(e.duration,!0===(null===t||void 0===t?void 0:t.stopped)?"red":!0===i?"blue":"gray"),b=Object(c.useState)(!0),x=Object(u.a)(b,2),_=x[0],g=x[1];return Object(h.jsxs)("div",{className:"bg-".concat(p,"-900 bg-opacity-50 hover:bg-opacity-100 cursor-pointer border-").concat(p,"-400 border p-2 rounded-md text-white transition-all ease-in-out"),onClick:r.bind(S,t.user_id),children:[Object(h.jsxs)("div",{className:"text-center",children:[Object(h.jsx)("span",{className:"text-".concat(p,"-200"),children:"Seat number"}),Object(h.jsx)("h1",{className:"text-5xl font-bold",children:t.seat_number})]}),0!==t.added_minutes&&Object(h.jsxs)("div",{className:"flex items-center text-sm",children:[Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("section",{className:"p-0.5 bg-blue-500 rounded w-",children:[t.added_minutes,"m"]})}),Object(h.jsx)("div",{className:"flex-1"}),Object(h.jsx)("div",{className:" pl-2 font-bold text-center",children:!0===d&&Object(h.jsx)("section",{className:"p-0.5 bg-blue-500 rounded w-auto px-1",children:Object(h.jsx)(j.a,{start_time:t.start_added_time,duration_min:t.added_minutes,timeout:function(){return g(!1)},returnString:!0,labels:!0})})})]}),Object(h.jsxs)("div",{className:"mt-1 border-t border-".concat(p,"-500 pt-2"),children:[Object(h.jsx)("h4",{className:"text-xs text-".concat(p,"-400"),children:"Full names"}),Object(h.jsxs)("h4",{className:"text-sm font-bold",children:[t.fname," ",t.lname]})]}),(!0===o&&!1===d||0!==t.added_minutes&&!1!==_)&&Object(h.jsxs)("div",{className:"mt-2",children:[!1===t.stopped?Object(h.jsxs)("button",{onClick:s.bind(S,t.user_id),className:"px-2 text-sm py-1 rounded-md text-gray-900 bg-yellow-300",children:[Object(h.jsx)(m.Ib,{className:"inline"})," Warn"]}):Object(h.jsxs)("button",{onClick:n.bind(S,t.user_id),className:"px-2 text-sm py-1 rounded-md text-gray-900 bg-green-400",children:[Object(h.jsx)(m.Ib,{className:"inline"})," Continue"]}),Object(h.jsxs)("button",{onClick:a.bind(S,t.user_id),className:"px-2 text-sm py-1 rounded-md text-white- bg-red-700 ml-1",children:[Object(h.jsx)(m.hb,{className:"inline"})," Stop"]})]}),(!0===d&&t.stopped,Object(h.jsxs)("div",{className:"mr-2 mt-2",children:[Object(h.jsxs)("button",{onClick:function(){l(t),g(!0)},className:"px-2 py-1 rounded-md text-white- w-full bg-blue-700 ml-1",children:[Object(h.jsx)(m.kb,{className:"inline"})," Add minutes"]})," "]}))]})},A=s(17),D=s(59),F=s(11),T=s(178),H=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).submitHandler=function(e){return e.preventDefault(),0===a.state.group_name.length?a.setState({error:{target:"form",msg:"Please add the group name"}}):0===a.state.selected_list.length?a.setState({error:{target:"form",msg:"You can't create an empty group"}}):void a.props.createAttendance({list:a.state.selected_list,name:a.state.group_name})},a.state={loading:!1,create_attendance:!1,selected_list:[],selected_candidate:null,search:"",group_name:"",error:{target:"",msg:""}},a}return Object(n.a)(s,[{key:"render",value:function(){var e=this,t=Object(x.a)(this.props.proctoring.all_candidates,this.state.search,{email:!0,fname:!0,lname:!0});return 0===this.props.proctoring.candidates.length&&!1===this.state.create_attendance?Object(h.jsxs)("div",{className:"mt-4 mx-4",children:[""!==this.props.proctoring.error&&Object(h.jsxs)("div",{className:"p-2 mb-3 bg-red-200 animate__zoomIn animate__faster animate__animated text-red-600 rounded-md flex items-center",children:[Object(h.jsx)(m.E,{className:"text-2xl"}),Object(h.jsx)("p",{className:"m-0 text-xl ml-1.5",children:this.props.proctoring.error})]}),Object(h.jsxs)("div",{className:"p-6 bg-white animate__fadeIn animate__animated mt-4 rounded shadow-md",children:[Object(h.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Create a group"}),Object(h.jsxs)("p",{className:"text-md text-gray-700 ",children:["To create a group click on ",Object(h.jsx)("b",{children:"create group"})," button and check list of all the candidates and add them to the attendance with the room name"]}),Object(h.jsx)("div",{className:"my-2 border-- w-4/5 py-2",children:[{title:"Province",value:this.props.proctoring.room.province_name},{title:"District",value:this.props.proctoring.room.district_name},{title:"Center name",value:this.props.proctoring.room.center_name},{title:"Room number",value:this.props.proctoring.room.room_number}].map((function(e){return Object(h.jsxs)("section",{className:"border-t py-1",children:[Object(h.jsxs)("span",{children:[e.title,": "]}),Object(h.jsx)("b",{children:e.value})]},e.title)}))}),Object(h.jsx)("button",{className:"p-2 px-3 rounded text-lg mt-2 bg-blue-500 text-white hover:bg-600",onClick:function(){return e.setState({create_attendance:!0})},children:"Create group"})]})]}):Object(h.jsxs)(c.Fragment,{children:[null!==this.state.selected_candidate&&Object(h.jsx)(T.d,{footer:!1,widthSizeClass:T.b.large,title:"User info",theme:T.c.default,displayClose:!0,padding:{title:!0,body:!0,footer:!1},backDrop:!0,backDropClose:!0,close:function(){return e.setState({selected_candidate:null})},children:Object(h.jsx)("div",{className:"p-2",children:[{title:"National Id",value:this.state.selected_candidate.n_id},{title:"First name",value:this.state.selected_candidate.fname},{title:"Last name",value:this.state.selected_candidate.lname},{title:"District",value:this.state.selected_candidate.district},{title:"Phone number",value:this.state.selected_candidate.phone_number},{title:"Course",value:this.state.selected_candidate.course_code+" "+this.state.selected_candidate.course_name},{title:"Email",value:this.state.selected_candidate.email},{title:"Position",value:this.state.selected_candidate.position_title}].map((function(e){return Object(h.jsxs)("section",{className:"border-t py-1",children:[Object(h.jsxs)("span",{children:[e.title,": "]}),Object(h.jsx)("b",{children:e.value})]},e.title)}))})}),Object(h.jsx)("form",{onSubmit:this.submitHandler,children:Object(h.jsxs)("div",{className:"bg-white p-2 mr-2 mt-3 rounded-md animate__animated animate__fadeIn",children:[Object(h.jsxs)("div",{className:" px-2 pb-3 flex items-center",children:[Object(h.jsxs)("div",{className:"flex-1",children:[Object(h.jsx)("h2",{className:"font-bold text-xl",children:"Create a group"}),Object(h.jsx)("p",{className:"text-gray-400 m-0 mt- text-sm",children:"Please create a room by adding the list of the users to the attendee list"})]}),Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("div",{className:"flex items-end",children:[Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("label",{htmlFor:"input-group-name",className:"block text-xs",children:"Group name"}),Object(h.jsx)("input",{type:"text",id:"input-group-name",className:"p-1 px-2 bg-gray-50 rounded-md ".concat("form"===this.state.error.target?"border-red-600":"","  border"),placeholder:"A",maxLength:2,required:!0,value:this.state.group_name,onChange:function(t){return e.setState({group_name:t.target.value.toUpperCase()})}})]}),Object(h.jsx)("div",{className:"flex-1 pl-1",children:Object(h.jsx)("button",{type:"submit",className:"py-1 px-3 text-md hover:bg-green-600 rounded-md bg-green-500 text-white block",children:"Create group"})})]}),"form"===this.state.error.target&&Object(h.jsx)("span",{className:"text-red-500 text-sm",children:this.state.error.msg})]})]}),Object(h.jsxs)("div",{className:"md:flex",children:[0!==this.state.selected_list.length&&this.state.selected_list.length===this.props.proctoring.all_candidates.length?null:Object(h.jsxs)("div",{className:"flex-1 mr-2 mb-8 md:mb-2",children:[Object(h.jsxs)("div",{className:"p-2 flex bg-gray-200 items-center",children:[Object(h.jsx)("h4",{className:"text-xl font-light text-gray-700",children:"All candidates"}),Object(h.jsx)("input",{type:"search",name:"search",id:"",placeholder:"search name",className:"py-1 px-2 flex-1 ml-3 bg-gray-50 border rounded",value:this.state.search,onChange:function(t){return e.setState({search:t.target.value})}})]}),Object(h.jsx)("div",{className:" shadow",children:Object(h.jsxs)("table",{className:"w-full",children:[Object(h.jsx)("thead",{className:"text-left bg-gray-400",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"text-center",children:"#"}),Object(h.jsx)("th",{children:"Names"}),Object(h.jsx)("th",{children:"Email"}),Object(h.jsx)("th",{className:"text-right",children:Object(h.jsx)("button",{type:"button",className:"p-0.5 px-2 rounded-md hover:bg-blue-700 m-1 inline-block bg-blue-600 text-white text-sm",onClick:function(){return e.setState({selected_list:e.props.proctoring.all_candidates.map((function(e){return e.user_id}))})},children:"Select all"})})]})}),Object(h.jsx)("tbody",{children:0===t.length?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:4,children:Object(h.jsxs)("div",{className:"p-2 text-center py-4",children:[Object(h.jsx)(m.R,{className:"text-6xl text-gray-500 mx-auto my-1"}),Object(h.jsxs)("h2",{children:[Object(h.jsx)("b",{children:this.state.search})," can't be found into the candidates list"]})]})})}):t.map((function(t,s){return e.state.selected_list.indexOf(t.user_id)>-1?null:Object(h.jsxs)("tr",{className:"border-b group hover:bg-green-50",children:[Object(h.jsxs)("td",{className:"text-gray-400 px-1 text-sm text-center",children:[" ",s+1]}),Object(h.jsxs)("td",{title:"Click to see details",className:"font-bold text-blue-900 hover:underline cursor-pointer",onClick:function(){return e.setState({selected_candidate:t})},children:[t.fname," ",t.lname]}),Object(h.jsx)("td",{className:"text-sm",children:t.email}),Object(h.jsx)("td",{className:"text-right",children:Object(h.jsxs)("button",{type:"button",onClick:function(){return e.setState({selected_list:[].concat(Object(F.a)(e.state.selected_list),[t.user_id]),error:{target:"",msg:""}})},className:"my-1 p-1 px-2 rounded-md group-hover:opacity-95 opacity-5 bg-green-500 text-white text-sm",children:[Object(h.jsx)(m.d,{className:"inline-block mr-1"}),"Add"]})})]},s)}))})]})})]}),Object(h.jsxs)("div",{className:"flex-1 ml-1 shadow border",children:[Object(h.jsxs)("div",{className:"p-1 bg-green-100 py-1 px-2 flex items-center",children:[Object(h.jsxs)("div",{className:"flex-1",children:[Object(h.jsx)("h2",{className:"font-bold text-green-900 text-2xl",children:"Group"}),Object(h.jsx)("p",{className:"text-green-800 m-0 mt- text-sm",children:"This is the list of the candidate who are allowed to do the exam"})]}),Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("h2",{className:"text-xl font-bold -mb-2",children:[Object(h.jsx)("b",{children:this.state.selected_list.length})," of"," ",Object(h.jsx)("b",{children:this.props.proctoring.all_candidates.length})]}),Object(h.jsx)("p",{className:"text-sm",children:"Selected"})]})]}),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("table",{className:"w-full",children:[Object(h.jsx)("thead",{className:"text-left bg-green-800 text-white",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"px-2",children:"#"}),Object(h.jsx)("th",{children:"Names"}),Object(h.jsx)("th",{children:"Email"}),Object(h.jsx)("th",{className:"text-right",children:this.state.selected_list.length>=2&&Object(h.jsx)("button",{type:"button",className:"p-0.5 px-2 rounded-md hover:bg-red-700 hover:text-red-100 m-1 inline-block bg-red-200 text-red-800 text-sm",onClick:function(){return e.setState({selected_list:[]})},children:"Remove all"})})]})}),Object(h.jsx)("tbody",{children:0===this.state.selected_list.length?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:4,children:Object(h.jsxs)("div",{className:"p-2 text-center py-4",children:[Object(h.jsx)(m.R,{className:"text-6xl text-gray-500 mx-auto my-1"}),Object(h.jsx)("h2",{children:"No candidate found on the attendance"})]})})}):this.state.selected_list.map((function(t,s){var a=e.props.proctoring.all_candidates.find((function(e){return e.user_id===t}));return void 0===a?null:Object(h.jsxs)("tr",{className:"border-b group hover:bg-green-50 animate__animated animate__zoomIn animate__faster",children:[Object(h.jsx)("td",{className:"text-gray-400 pr-1 text-center",children:s+1}),Object(h.jsxs)("td",{title:"Click to see details",className:"font-bold text-blue-900 hover:underline cursor-pointer",onClick:function(){return void 0!==a&&e.setState({selected_candidate:a})},children:[a.fname," ",a.lname]}),Object(h.jsx)("td",{children:a.email}),Object(h.jsx)("td",{className:"text-right",children:Object(h.jsx)("button",{type:"button",onClick:function(){return e.setState({selected_list:e.state.selected_list.filter((function(e){return e!==t}))})},className:"my-1 p-1 px-2 rounded-md group-hover:opacity-95 opacity-5 bg-red-500 text-white text-sm",children:"Remove"})})]},s)}))})]})})]})]})]})})]})}}]),s}(d.a.Component),I=Object(p.b)((function(e){return{auth:e.auth,proctoring:e.proctoring}}),{})(H),M=void 0,L=function(e){var t=e.close,s=e.candidate,a=e.addMinutesHandler,r=Object(c.useState)(1),n=Object(u.a)(r,2),o=n[0],i=n[1],d=Object(c.useState)(""),l=Object(u.a)(d,2),p=l[0],b=l[1],x=Object(c.useState)({target:"",msg:""}),j=Object(u.a)(x,2),_=j[0],g=j[1];return Object(h.jsxs)(c.Fragment,{children:[Object(h.jsx)("div",{className:"fixed bg-black bg-opacity-10 top-0 bottom-0 right-0 left-0 animate__animated animate__fadeIn",onClick:function(){return t(!1)}}),Object(h.jsxs)("div",{className:"fixed w-80 shadow-lg bg-white rounded top-16 mt-2 right-2 animate__animated animate__zoomIn animate__faster",children:[Object(h.jsxs)("div",{className:"flex items-center border-b",children:[Object(h.jsx)("div",{className:"flex-1 pl-2 text-xl font-bold text-gray-400",children:Object(h.jsx)("h4",{children:"Room details"})}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("button",{onClick:function(){return t(!1)},className:"p-2 hover:bg-red-700 hover:text-white rounded text-2xl",children:Object(h.jsx)(m.x,{})})})]}),Object(h.jsxs)("div",{className:"p-2 ",children:[Object(h.jsx)("div",{className:"border-separate p-2",children:[{title:"Names",value:(null===s||void 0===s?void 0:s.fname)+" "+(null===s||void 0===s?void 0:s.lname)},{title:"Email",value:null===s||void 0===s?void 0:s.email},{title:"Seat",value:null===s||void 0===s?void 0:s.seat_number}].map((function(e,t){var s=e.title,a=e.value;return Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsxs)("span",{className:"text-gray-500",children:[s,": "]}),Object(h.jsxs)("b",{className:"text-right inline-block",children:[" ",a]})]},t)}))}),Object(h.jsxs)("div",{className:"p-2 text-center pt-1 bg-gray-100 mx-2 rounded",children:[Object(h.jsx)("p",{className:"m-0 text-sm text-gray-500",children:"Minutes"}),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("button",{className:"text-3xl px-4 hover:bg-blue-200 hover:text-blue-900 rounded",onClick:i.bind(M,o-1),children:"-"}),Object(h.jsx)("input",{type:"number",className:"flex-1 text-4xl text-center font-bold bg-transparent text-blue-700",min:1,max:10,value:o,onChange:function(e){return i(+e.target.value)}}),Object(h.jsx)("button",{className:"text-3xl px-4 hover:bg-blue-200 hover:text-blue-900 rounded",onClick:i.bind(M,o+1),children:"+"})]}),"minutes"===_.target&&Object(h.jsx)("span",{className:"text-red-500 text-sm",children:_.msg})]}),Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"minutes-reason",children:"Reason"}),Object(h.jsx)("textarea",{id:"minutes-reason",className:"w-full bg-gray-100 rounded border-2 ".concat("reason"===_.target?"border-red-500":"border-blue-500"," p-1"),rows:3,value:p,onChange:function(e){return b(e.target.value)}}),"reason"===_.target&&Object(h.jsx)("span",{className:"text-red-500 text-sm",children:_.msg})]}),Object(h.jsx)("div",{className:"p-2 mx-1",children:Object(h.jsxs)("button",{className:"btn bg-blue-500 text-white w-full hover:bg-blue-600",onClick:function(){return o<2?g({target:"minutes",msg:"Minimum is 2m"}):p.length<=3?g({target:"reason",msg:"Reason must me up to 4 characters"}):(a(o,p),void t())},children:[Object(h.jsx)(m.c,{className:"inline-block text-2xl"})," Add minutes"]})})]})]})," "]})};!function(e){e[e.Candidates=0]="Candidates",e[e.Events=1]="Events"}(E||(E={}));var P=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).myPeer=void 0,a.componentDidMount=function(){var e=a.props.proctoring.exam,t=e.room_id,s=e.course_id,r=e.position_id;console.log({room_id:t}),a.props.proctoring.candidates.length<=0&&a.props.FC_GetProctoringRoom({room_id:t,course_id:s,position_id:r},(function(e,t,s){!0===e?(a.setState({loading_room:!1}),a.props.socket.socket.emit(A.b.GET_ROOM_INFO_SERVER,a.props.proctoring.room.room_id,(function(e){!0===e.error?a.props.FC_RoomNotFoundOnline(e.msg):(a.props.FC_RoomDetailsOnline(e.data),a.startListeningToEvents())}))):a.setState({loading_room:!1,error:{target:"all",msg:s}})}))},a.startListeningToEvents=function(){var e;a.props.socket.socket.emit(A.b.JOIN_ROOM,{room_id:a.props.proctoring.room.room_id,user_id:a.props.auth.user.user_id,peer_id:"",supper:!0},(function(e){a.props.socket.socket.on(A.b.NEW_USER_JOINED_CLIENT,(function(e){a.props.FC_SetOneActiveCandidate({user_id:e.user_id,stopped:e.stopped,done:e.done})})),a.props.socket.socket.on(A.b.TIME_OUT_CLIENT,(function(e){a.props.FC_CandidateTimeOut(e)})),a.props.socket.socket.on(A.b.USER_DISCONNECTED,(function(e){var t;a.props.FC_CandidateOffline(e),a.props.FC_SaveEvent({application_session_id:null===(t=a.props.auth.application_session)||void 0===t?void 0:t._id,description:"Leave the room",done_by:"System",event_type_id:A.b.CANDIDATE_LEFT_EXAM_EVENT,exam_id:a.props.proctoring.exam.exam_id,position_id:a.props.proctoring.exam.position_id,room_id:a.props.proctoring.room.room_id,time:(new Date).toString(),user_id:e,group_id:a.props.proctoring.room.group_id},(function(e,t){!1===e&&a.setState({error:{target:"main",msg:t}})}))})),a.props.socket.socket.on(A.b.EXAM_DONE_CLIENT,(function(e){return a.props.FC_CandidateDoneExamCenter(e)})),a.props.socket.socket.on(A.b.CAND_EXAM_EVENT_CLIENT,(function(e){return a.props.FC_CandidateExamEvent(e)}))})),a.props.FC_LoadRoomEvents({application_session_id:null===(e=a.props.auth.application_session)||void 0===e?void 0:e._id,exam_id:a.props.proctoring.exam.exam_id,room_id:a.props.proctoring.room.room_id,group_id:a.props.proctoring.room.group_id},(function(e,t){!0===e?a.setState({events_loading:!1}):a.setState({events_loading:!1,error:{target:"main",msg:t}})}))},a.leaveRoom=function(){a.props.socket.socket.off(A.b.USER_CONNECTED),a.props.socket.socket.off(A.b.USER_DISCONNECTED),a.props.socket.socket.off(A.b.CAND_EXAM_EVENT_CLIENT),a.props.FC_ClearExamToRoomProctoring()},a.startCenterProctoring=function(){},a.blank=function(e){return console.log("clicked")},a.ActiveSIdeTabHandler=function(e){return a.setState({active_side_tab:e})},a.SelectCandidateHandler=function(e){return a.setState({selected_candidate:e})},a.startExamHandler=function(){if(a.props.proctoring.candidates.filter((function(e){return!0===e.active})).length<=0)return window.alert("You can't start exam without any active candidate");var e;window.confirm("Are you sure you want to start the exam??")&&(a.props.socket.socket.emit(A.b.START_EXAM_SERVER,{room_id:a.props.proctoring.room.room_id,data:"start exam",description:"The exam started on this room",msg:"The exam started on this room",duration:5},(function(e){var t=e.start_time,s=e.duration;a.props.FC_ExamStartStop(!0,t,s)})),a.props.FC_SaveEvent({application_session_id:null===(e=a.props.auth.application_session)||void 0===e?void 0:e._id,description:"The exam started on this room",done_by:"Administrator",event_type_id:"EXAM STARTED",exam_id:a.props.proctoring.exam.exam_id,position_id:a.props.proctoring.exam.position_id,room_id:a.props.proctoring.room.room_id,time:(new Date).toString(),user_id:a.props.auth.user.user_id,group_id:a.props.proctoring.room.group_id},(function(e,t){!1===e&&a.setState({error:{target:"main",msg:t}})})))},a.stopExamHandler=function(){var e;window.confirm("Are you sure you want to stop the exam??")&&(a.props.socket.socket.emit(A.b.STOP_EXAM_SERVER,{room_id:a.props.proctoring.room.room_id,description:"Exam stopped on this room"}),a.props.FC_ExamStartStop(!1),a.props.FC_SaveEvent({application_session_id:null===(e=a.props.auth.application_session)||void 0===e?void 0:e._id,description:"Exam stopped on this room",done_by:"Supervisor",event_type_id:"EXAM_STOPPED",exam_id:a.props.proctoring.exam.exam_id,position_id:a.props.proctoring.exam.position_id,room_id:a.props.proctoring.room.room_id,time:(new Date).toString(),user_id:a.props.auth.user.user_id,group_id:a.props.proctoring.room.group_id},(function(e,t){!1===e&&a.setState({error:{target:"main",msg:t}})})))},a.continueHandler=function(e){var t;window.confirm("Alre you sure you want to give this candidate the permition to continue the exam??")&&(a.props.FC_ContinueExam(e),a.props.socket.socket.emit(A.b.CAND_CONTINUE_EXAM_SERVER,{room_id:a.props.proctoring.room.room_id,user_id:e,description:"Allowed a candidate to continue exam"}),a.props.FC_SaveEvent({application_session_id:null===(t=a.props.auth.application_session)||void 0===t?void 0:t._id,description:"Allowed a candidate to continue exam",done_by:"Supervisor",event_type_id:A.b.CAND_CONTINUE_EXAM_CLIENT,exam_id:a.props.proctoring.exam.exam_id,position_id:a.props.proctoring.exam.position_id,room_id:a.props.proctoring.room.room_id,time:(new Date).toString(),user_id:e,group_id:a.props.proctoring.room.group_id},(function(e,t,s){!1===e&&a.setState({error:{target:"main",msg:t}})})))},a.stopCandidateHandler=function(e){var t,s=window.prompt("If you want to stop the candidate add the reason");null!==s&&(a.props.socket.socket.emit(A.b.CAND_STOP_EXAM_SERVER,{room_id:a.props.proctoring.room.room_id,user_id:e,msg:s,description:"STOP: ".concat(s),done_by:"Supervisor",event_type_id:A.b.CAND_STOP_EXAM_CLIENT}),a.props.FC_StopCandidate(e),a.props.FC_SaveEvent({application_session_id:null===(t=a.props.auth.application_session)||void 0===t?void 0:t._id,description:"STOP: ".concat(s),done_by:"Supervisor",event_type_id:A.b.CAND_STOP_EXAM_CLIENT,exam_id:a.props.proctoring.exam.exam_id,position_id:a.props.proctoring.exam.position_id,room_id:a.props.proctoring.room.room_id,time:(new Date).toString(),user_id:e,group_id:a.props.proctoring.room.group_id},(function(e,t){!1===e&&a.setState({error:{target:"main",msg:t}})})))},a.ejectCandidateHandler=function(e){var t,s=window.prompt("If you want to remove the candidate add the reason");null!==s&&(a.props.socket.socket.emit(A.b.CAND_REMOVE_EXAM_SERVER,{room_id:a.props.proctoring.room.room_id,user_id:e,msg:s,description:"REMOVED: ".concat(s),done_by:"Supervisor"}),a.props.FC_SaveEvent({application_session_id:null===(t=a.props.auth.application_session)||void 0===t?void 0:t._id,description:"REMOVED: ".concat(s),done_by:"Supervisor",event_type_id:A.b.CAND_REMOVE_EXAM_CLIENT,exam_id:a.props.proctoring.exam.exam_id,position_id:a.props.proctoring.exam.position_id,room_id:a.props.proctoring.room.room_id,time:(new Date).toString(),user_id:e,group_id:a.props.proctoring.room.group_id},(function(t,s){!1===t?a.setState({error:{target:"main",msg:s}}):a.props.FC_CandidateRemoveExam(e)})))},a.warnCandidateHandler=function(e){var t,s=window.prompt("If you want to warn this candidate, add the reason");null!==s&&(a.props.socket.socket.emit(A.b.CAND_WARNING_EXAM_SERVER,{room_id:a.props.proctoring.room.room_id,user_id:e,msg:"WARNING: ".concat(s),description:"WARNING: ".concat(s)}),a.props.FC_SaveEvent({application_session_id:null===(t=a.props.auth.application_session)||void 0===t?void 0:t._id,description:"WARNING: ".concat(s),done_by:"Supervisor",event_type_id:A.b.CAND_WARNING_EXAM_SERVER,exam_id:a.props.proctoring.exam.exam_id,position_id:a.props.proctoring.exam.position_id,room_id:a.props.proctoring.room.room_id,time:(new Date).toString(),user_id:e,group_id:a.props.proctoring.room.group_id},(function(e,t){!1===e&&a.setState({error:{target:"main",msg:t}})})))},a.restartCandidateHandler=function(e){var t,s=window.prompt("Restart this candidate's exam, reason");null!==s&&(console.log("RESTART EXAM CANDIDATE"),a.props.socket.socket.emit(A.b.CAND_RESTART_EXAM_SERVER,{room_id:a.props.proctoring.room.room_id,user_id:e,msg:"RESTART: ".concat(s),description:"RESTART: ".concat(s)}),a.props.FC_SaveEvent({application_session_id:null===(t=a.props.auth.application_session)||void 0===t?void 0:t._id,description:"RESTART: ".concat(s),done_by:"Supervisor",event_type_id:A.b.CAND_RESTART_EXAM_SERVER,exam_id:a.props.proctoring.exam.exam_id,position_id:a.props.proctoring.exam.position_id,room_id:a.props.proctoring.room.room_id,time:(new Date).toString(),user_id:e,group_id:a.props.proctoring.room.group_id},(function(e,t){!1===e&&a.setState({error:{target:"main",msg:t}})})))},a.focusToggle=function(){return a.setState((function(e){return{focus_mode:!e.focus_mode}}))},a.createAttendance=function(e){var t=e.name,s=e.list;a.props.socket.socket.emit(A.b.CREATE_ROOM_SERVER,{candidates:s,room_id:a.props.proctoring.room.room_id,user_id:a.props.auth.user.user_id,group_id:t,stop_candidate_when_comeback:a.props.proctoring.exam_rules.stop_candidate_when_comeback},(function(e){!1===e.error?(a.props.FC_RoomDetailsOnline(e.data),a.startListeningToEvents()):a.props.FC_RoomNotFoundOnline(e.msg)}))},a.deleteRoomHandler=function(){if(a.props.proctoring.candidates.filter((function(e){return!0===e.active})).length>=1)return window.alert("You can't delete the group while some candidates are already joined.");var e=window.prompt("Are you sure you want to delete this group??");null!==e&&a.props.socket.socket.emit(A.b.DELETE_ROOM_SERVER,{room_id:a.props.proctoring.room.room_id},(function(t){var s;!0===t?(a.leaveRoom(),a.props.FC_SaveEvent({application_session_id:null===(s=a.props.auth.application_session)||void 0===s?void 0:s._id,description:"ROOM DELETED: ".concat(e),done_by:"Supervisor",event_type_id:"DELETE GROUP ".concat(a.props.proctoring.room.room_number),exam_id:a.props.proctoring.exam.exam_id,position_id:a.props.proctoring.exam.position_id,room_id:a.props.proctoring.room.room_id,time:(new Date).toString(),user_id:a.props.auth.user.user_id,group_id:a.props.proctoring.room.group_id},(function(e,t){!1===e&&a.setState({error:{target:"main",msg:t}})}))):a.setState({error:{target:"main",msg:"Failed to delete the group"}})}))},a.addMinutesModal=function(e){return a.setState({add_minutes:{candidate:e,minutes:0}})},a.addMinutesHandler=function(e,t){var s;if(window.confirm("Are you sure you want to add ".concat(e," to ").concat(null===(s=a.state.add_minutes.candidate)||void 0===s?void 0:s.fname,"?"))){var r,n,o,i,c,d;if(void 0===(null===(r=a.state.add_minutes.candidate)||void 0===r?void 0:r.user_id))return;!0===a.props.proctoring.exam.exam_done?(d=(new Date).toString(),c=e):(d=null===a.props.proctoring.exam.start_time?"":a.props.proctoring.exam.start_time,c=a.props.proctoring.exam.duration+e);var l={application_session_id:null===(n=a.props.auth.application_session)||void 0===n?void 0:n._id,description:"Added ".concat(e,"min"),done_by:"Supervisor",event_type_id:A.c.ADD_TIME,exam_id:a.props.proctoring.exam.exam_id,position_id:a.props.proctoring.exam.position_id,room_id:a.props.proctoring.room.room_id,time:(new Date).toString(),user_id:null===(o=a.state.add_minutes.candidate)||void 0===o?void 0:o.user_id,group_id:a.props.proctoring.room.group_id};a.props.socket.socket.emit(A.b.ADD_TIME_TO_CANDIDATE_SERVER,{start_time:d,duration:c,minutes:e},l),a.props.FC_AddMinutesToCandidate({user_id:null===(i=a.state.add_minutes.candidate)||void 0===i?void 0:i.user_id,duration:c,start_time:d}),a.props.FC_SaveEvent(l,(function(e,t){!1===e&&a.setState({error:{target:"main",msg:t}})}))}},a.state={room_found:!1,focus_mode:!1,loading_room:!0,loading:!1,events:[],active_side_tab:E.Events,selected_candidate:null,online_room:!1,online_candidates:[],start_exam:!1,error:{msg:"",target:""},events_loading:!0,start_time:"",duration:0,add_minutes:{candidate:null,minutes:0}},a}return Object(n.a)(s,[{key:"render",value:function(){var e=this,t=this.props.proctoring.candidates.filter((function(e){return!0===e.active&&!1===e.done})),s=this.props.proctoring.candidates.filter((function(e){return!1===e.active||!0===e.done}));if(!0===this.props.proctoring.room_not_found)return Object(h.jsx)(I,{createAttendance:this.createAttendance});var a=this.props.proctoring.candidates.filter((function(e){return!0===e.active})).length;return Object(h.jsxs)("div",{className:"".concat(!1===this.state.focus_mode?" p-1 ":"fixed right-0 left-0 bottom-0 top-0 z-50 overflow-y-auto"," transition-all ease-in-out"),children:[null!==this.state.add_minutes.candidate&&0===this.state.add_minutes.minutes&&Object(h.jsx)(L,{candidate:this.state.add_minutes.candidate,close:function(){return e.setState({add_minutes:{candidate:null,minutes:0}})},addMinutesHandler:this.addMinutesHandler}),"main"===this.state.error.target&&Object(h.jsx)("div",{className:"animate__animated animate__slideInDown p-2 rounded-md animate__faster text-center text-sm bg-red-200 text-red-900",onClick:function(){return e.setState({error:{target:"",msg:""}})},children:this.state.error.msg}),Object(h.jsx)(v,{focusToggle:this.focusToggle,focus_mode:this.state.focus_mode,course_title:this.props.proctoring.exam.course_name,post_title:this.props.proctoring.exam.position_title,duration:this.props.proctoring.exam.duration,started_at:this.props.proctoring.exam.start_time,exam_start:this.props.proctoring.exam.start_exam,startExamHandler:this.startExamHandler,stopExamHandler:this.stopExamHandler,leaveRoom:this.leaveRoom,room:this.props.proctoring.room,active_candidate:a,deleteRoom:this.deleteRoomHandler,ExamDone:this.props.FC_ExamDone,exam_rules:this.props.proctoring.exam_rules}),Object(h.jsx)("div",{className:"".concat(!0===this.state.focus_mode?"proctoring-body-contents text-white":"","  h-screen"),children:Object(h.jsxs)("div",{className:"lg:flex",children:[Object(h.jsx)("div",{className:"flex-1 pt-3 lg:h-screen overflow-y-auto",children:!1===this.props.proctoring.candidate_loaded?Object(h.jsxs)("div",{className:"p-8 text-center animate__animated animate__zoomIn",children:[Object(h.jsx)(D.a,{}),Object(h.jsx)("h2",{className:"text-xl font-bold text-gray-400",children:"Loading room details..."})]}):Object(h.jsxs)("div",{className:"animate__animated animate__zoomI",children:[Object(h.jsxs)("div",{className:"".concat(!0===this.state.focus_mode?"bg-blue-900 bg-opacity-30":"bg-gray-100"," rounded-md mb-4"),children:[Object(h.jsxs)("h3",{className:"text-2xl font-bold  pt-1.5 pb-1 px-2 rounded flex items-center ".concat(!0===this.state.focus_mode?"text-blue-100 bg-blue-900":"text-white bg-gray-500"," pb-1 mb-1"),children:[Object(h.jsx)("span",{className:"flex-1",children:"Active candidates "}),Object(h.jsx)("span",{className:"inline-block mr-1 p-0.5 bg-green-700 text-white text-md py-0 px-2 rounded-full",children:t.length})]}),0===t.length?Object(h.jsxs)("div",{className:"py-8 text-center w-full",children:[Object(h.jsx)(m.R,{className:"inline-block text-6xl"}),Object(h.jsx)("h3",{className:"text-center text-2xl font-bold",children:"No active candidates"}),Object(h.jsx)("h3",{className:"text-center text-gray-500",children:"Active candidate is any candidate who is online and still doing the exam"})]}):Object(h.jsx)("div",{className:"grid grid-flow-row sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-5 gap-4 p-2",children:t.map((function(t,s){return Object(h.jsx)(R,{focus_mode:e.state.focus_mode,candidate:t,stopHandler:e.stopCandidateHandler,warningHandler:e.warnCandidateHandler,detailsHandler:e.SelectCandidateHandler,continueHandler:e.continueHandler,exam_started:e.props.proctoring.exam.start_exam,exam_done:e.props.proctoring.exam.exam_done,addMinutes:e.addMinutesModal,duration:4},s)}))})]}),0!==s.length&&Object(h.jsxs)("div",{className:"".concat(!0===this.state.focus_mode?"bg-blue-900 bg-opacity-30":"bg-gray-100"," rounded-md"),children:[Object(h.jsxs)("h3",{className:"text-2xl font-bold  pt-1.5 pb-1 px-2 rounded flex items-center ".concat(!0===this.state.focus_mode?"text-blue-100 bg-blue-900":"text-white bg-gray-500"," pb-1 mb-1"),children:[Object(h.jsx)("span",{className:"flex-1",children:"Others candidates "}),Object(h.jsx)("span",{className:"inline-block mr-1 p-0.5 bg-green-700 text-white text-md py-0 px-2 rounded-full",children:s.length})]}),Object(h.jsx)("div",{className:"mt-3 mx-2 pb-2",children:Object(h.jsx)(k,{candidates:s,clickHandler:this.SelectCandidateHandler,show_title:!1,focus_mode:this.state.focus_mode,large:!0})})]})]})}),Object(h.jsxs)("div",{className:"".concat(!0===this.state.focus_mode?"proctoring-side-section border-blue-500  border-opacity-30":"lg:bg-gray-100 "," p-2  lg:w-2/6 transition-all ease-in-out  lg:h-screen overflow-y-auto lg:ml-2 lg:border-l "),children:[" ",(!0===this.props.proctoring.exam.start_exam||!0===this.props.proctoring.exam.exam_done)&&Object(h.jsx)(f,{focus_mode:this.state.focus_mode,candidates:this.props.proctoring.candidates}),null===this.state.selected_candidate?Object(h.jsxs)(d.a.Fragment,{children:[Object(h.jsxs)("div",{className:"my-2 p-1 rounded-md bg-blue-800 bg-opacity-60 grid grid-col-2 grid-flow-col gap-1",children:[Object(h.jsx)("button",{onClick:this.ActiveSIdeTabHandler.bind(this,E.Events),className:"btn rounded-md bg-blue-700 text-blue-100 ".concat(this.state.active_side_tab===E.Events?"border-2 border-blue-400":"bg-blue-800 bg-opacity-60"),children:"Event list"}),Object(h.jsx)("button",{onClick:this.ActiveSIdeTabHandler.bind(this,E.Candidates),className:"btn rounded-md bg-blue-700 text-blue-100 ".concat(this.state.active_side_tab===E.Candidates?"border-2 border-blue-400":"bg-blue-800 bg-opacity-60"),children:"Candidates"})]}),this.state.active_side_tab===E.Events?Object(h.jsx)(N,{candidates:this.props.proctoring.candidates,events:this.props.proctoring.events,focus_mode:this.state.focus_mode,loading:!1}):Object(h.jsx)(k,{candidates:this.props.proctoring.candidates,clickHandler:this.SelectCandidateHandler,focus_mode:this.state.focus_mode,show_title:!1,large:!1})]}):Object(h.jsx)(C,{candidate:this.props.proctoring.candidates.find((function(t){return t.user_id===e.state.selected_candidate})),events:this.props.proctoring.events.filter((function(t){return t.user_id===e.state.selected_candidate})),removeInExam:this.ejectCandidateHandler,chatHandler:this.blank,micHandler:this.blank,focusHandler:this.blank,stopHandler:this.stopCandidateHandler,restartHandler:this.restartCandidateHandler,warnHandler:this.warnCandidateHandler,closeHandler:function(){return e.SelectCandidateHandler(null)},home_proctoring:!1,exam_started:this.props.proctoring.exam.start_exam,focus_mode:this.state.focus_mode})]})]})})]})}}]),s}(d.a.Component),V=Object(p.b)((function(e){return{socket:e.socket,auth:e.auth,proctoring:e.proctoring}}),{FC_GetProctoringRoom:b.F,FC_SetActiveCandidates:b.X,FC_SetOneActiveCandidate:b.Y,FC_CandidateOffline:b.o,FC_ExamStartStop:b.z,FC_ContinueExam:b.v,FC_StopCandidate:b.Z,FC_CandidateExamEvent:b.n,FC_ClearExamToRoomProctoring:b.u,FC_SaveEvent:b.W,FC_LoadRoomEvents:b.K,FC_CandidateRemoveExam:b.p,FC_RoomNotFoundOnline:b.V,FC_RoomDetailsOnline:b.U,FC_CandidateDoneExamCenter:b.l,FC_ExamDone:b.y,FC_CandidateTimeOut:b.q,FC_AddMinutesToCandidate:b.h})(P),X=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){a.props.auth.user_access.room_id.length>=3&&""===a.props.proctoring.room.room_id&&a.props.FC_RoomDetails(a.props.auth.user_access.room_id,(function(e,t){var s;!0===e?(console.log({session:a.props.auth.application_session}),console.log({session:a.props.auth.application_session}),void 0!==a.props.auth.application_session._id&&""!==a.props.auth.application_session._id?a.props.FC_ExamsDetailsData(null===(s=a.props.auth.application_session)||void 0===s?void 0:s._id,(function(e,t){!1===e&&a.setState({exams_error:!0,exams_error_msg:t})})):a.setState({error:!0,errorMsg:"No application session found"})):a.setState({error:!0,errorMsg:t})}))},a.state={error:!1,errorMsg:"",exams_error:!1,exams_error_msg:"",search_text:""},a}return Object(n.a)(s,[{key:"render",value:function(){var e=this;if(!0===this.state.error)return Object(h.jsx)("div",{className:"mt-4",children:Object(h.jsxs)("div",{className:"p-5 bg-red-100 rounded-md mx-auto text-center text-red-900 animate__animated animate__bounceIn",children:[Object(h.jsx)("h1",{className:"text-3xl font-bold",children:"Failed do load data"}),Object(h.jsx)("p",{children:this.state.errorMsg})]})});if(!1===this.state.error&&!1===this.props.proctoring.room.loaded)return Object(h.jsx)("div",{className:"m-5 text-center",children:Object(h.jsx)("h5",{className:"text-gray-400 animate__animated animate__fadeIn animate__infinite text-xl",children:"Loading room details"})});var t=this.props.proctoring.room,s=t.room_number,a=t.center_name,r=t.district_name,n=t.province_name;if(""!==this.props.proctoring.exam.course_id&&""!==this.props.proctoring.exam.position_id)return Object(h.jsx)(V,{});var o=Object(x.a)(this.props.proctoring.room_exams,this.state.search_text,{course_id:!0,course_name:!0,course_code:!0});return Object(h.jsx)(c.Fragment,{children:Object(h.jsxs)("div",{className:"mr-2",children:[Object(h.jsxs)("div",{className:"p-5 bg-white rounded-b-md ",children:[Object(h.jsx)("h2",{className:"text-2xl text-gray-600 font-bold text-center border-b pb-2",children:"Room details"}),Object(h.jsxs)("div",{className:"flex flex-col md:flex-row",children:[Object(h.jsxs)("div",{className:"flex flex-1 items-center",children:[Object(h.jsx)("div",{className:"p-4",children:Object(h.jsx)(m.Y,{className:"text-4xl"})}),Object(h.jsxs)("div",{className:"p-2 pt-3 flex-1",children:[Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("span",{className:"text-gray-400",children:"Province:"})," ",Object(h.jsxs)("b",{children:[" ",n]})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("span",{className:"text-gray-400",children:"District:"})," ",Object(h.jsxs)("b",{children:[" ",r]})]})]})]}),Object(h.jsxs)("div",{className:"flex flex-1 items-center",children:[Object(h.jsx)("div",{className:"p-4",children:Object(h.jsx)(l.j,{className:"text-4xl"})}),Object(h.jsxs)("div",{className:"p-2 flex-1",children:[Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("span",{className:"text-gray-400",children:"Center name:"})," ",Object(h.jsxs)("b",{children:[" ",a]})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("span",{className:"text-gray-400",children:"Room Number:"})," ",Object(h.jsxs)("b",{children:[" ",s]})]})]})]})]})," "]}),Object(h.jsx)("h2",{className:"mt-5 text-2xl font-bold text-gray-500",children:"Exams on this room"}),Object(h.jsx)("div",{className:"mt-2 p-2 bg-white rounded-md",children:this.props.proctoring.room_exams.length<=0?Object(h.jsx)("div",{className:"p-5 text-center",children:"No exams assigned to this room"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"pt-1 pb-3",children:Object(h.jsx)("input",{type:"search",onChange:function(t){return e.setState({search_text:t.target.value})},value:this.state.search_text,className:"input bg-gray-100 p-1",placeholder:"Search"})}),Object(h.jsxs)("table",{className:"w-full text-left",children:[Object(h.jsx)("thead",{className:"bg-gray-100 rounded-md",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"p-2",children:"#"}),Object(h.jsx)("th",{className:"p-2",children:"Course"}),Object(h.jsx)("th",{className:"p-2",children:"Position"}),Object(h.jsx)("th",{className:"p-2",children:"Code"}),Object(h.jsx)("th",{className:"p-2",children:"Date"}),Object(h.jsx)("th",{className:"p-2"})]})}),Object(h.jsxs)("tbody",{children:[0===o.length&&Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:7,className:"py-6 text-center",children:Object(h.jsx)("h2",{className:"text-3xl text-gray-500",children:"No data found"})})}),o.map((function(t,s){var a=e.props.proctoring.exams_list.exams.find((function(e){return e.course===t.course_id}));return void 0===a?null:Object(h.jsxs)("tr",{className:"p-2 border-t group hover:bg-blue-50",children:[Object(h.jsx)("td",{className:"p-2 text-gray-400",children:s+1}),Object(h.jsx)("td",{className:"p-2 font-bold",children:t.course_name}),Object(h.jsx)("td",{className:"p-2",children:Object(h.jsx)("span",{className:"p-1 text-sm bg-yellow-100 font-bold text-yellow-900 rounded",children:t.position_title})}),Object(h.jsx)("td",{className:"p-2",children:t.course_code}),Object(h.jsx)("td",{className:"p-2 text-sm",children:!1===e.state.error&&!1===e.props.proctoring.exams_list.loaded?Object(h.jsx)("span",{className:"text-blue-500 animate__animated animate__fadeIn animate__infinite",children:"Loading..."}):void 0===a?"Not found":a.exam_date}),Object(h.jsx)("td",{className:"p-2 text-right",children:void 0!==a&&void 0!==a&&Object(h.jsxs)(c.Fragment,{children:[t.course_id===e.props.proctoring.exam.course_id&&t.position_id===e.props.proctoring.exam.position_id&&Object(h.jsx)("button",{className:" group-hover:bg-red-500 py-1 px-3 rounded text-red-500 group-hover:text-white bg-red-100",onClick:function(){return window.confirm("Are you sure you want to exist the room")&&e.props.FC_ClearExamToRoomProctoring()},children:"Leave Room"}),""===e.props.proctoring.exam.room_id&&Object(h.jsx)("button",{onClick:function(){void 0!==a&&void 0!==a&&null!==t&&void 0!==t&&(e.props.FC_LoadExamToRoomProctoring({video_support:!1,start_exam:!1,start_time:null===a||void 0===a?void 0:a.start_time,end_time:"",exam_done:!1,period_id:e.props.auth.application_session._id,exam_status:null===a||void 0===a?void 0:a.exam_status,exam_date:null===a||void 0===a?void 0:a.exam_date,duration:null===a||void 0===a?void 0:a.duration,position_id:t.position_id,position_title:t.position_title,course_id:t.course_id,course_code:t.course_code,course_name:t.course_name,room_id:e.props.proctoring.room.room_id,exam_id:a.id}),e.props.FC_AddRules(a.rules))},className:" group-hover:bg-blue-500 py-1 px-3 rounded text-blue-500 group-hover:text-white bg-blue-100",children:"Open"})]})})]},s)}))]})]})]})})]})})}}]),s}(d.a.Component),U=Object(p.b)((function(e){return{auth:e.auth,proctoring:e.proctoring}}),{FC_RoomDetails:b.S,FC_ExamsDetailsData:b.A,FC_LoadExamToRoomProctoring:b.J,FC_ClearExamToRoomProctoring:b.u,FC_AddRules:b.i})(X)}}]);
//# sourceMappingURL=41.1dcfe2de.chunk.js.map