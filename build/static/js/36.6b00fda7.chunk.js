(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[36],{1306:function(t,e,n){"use strict";n.r(e),n.d(e,"DocumentValidationStatus",(function(){return r})),n.d(e,"_DocumentValidation",(function(){return S})),n.d(e,"DocumentValidation",(function(){return E}));var r,a,s=n(26),o=n(25),i=n(28),c=n(27),l=n(4),u=n(10),d=n(21),p=n(3),f=n(20),m=n(37),h=n(640),b=n(675),g=n(165),x=n(648),j=n(662),_=n(35),y=n(673),v=n(647),O=n(742),C=n(659),N=n(1);!function(t){t.Waiting="waiting",t.Approved="approved",t.Rejected="rejected"}(r||(r={})),function(t){t.applicant_name="names",t.national_id="national_id",t.phone_number="phone",t.email="email",t.document="document",t.comment="comment",t.status="status"}(a||(a={}));var w=[{key:a.applicant_name,title:"Applicant name",status:!0},{key:a.national_id,title:"National ID",status:!0},{key:a.email,title:"Email",status:!0},{key:a.phone_number,title:"Phone",status:!0},{key:a.document,title:"Document title",status:!0},{key:a.comment,title:"Validation comment",status:!0},{key:a.status,title:"Status",status:!0}],S=function(t){Object(i.a)(n,t);var e=Object(c.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).setLoading=function(t){o.setState({loading:t})},o.setLoadingCandidates=function(t){o.setState({loadingCandidates:t})},o.setSelectAll=function(t){o.setState({selectAll:t})},o.setSelectPosition=function(t){o.setState({selectPosition:t})},o.setSelectedPosition=function(t){o.setState({selectedPosition:t})},o.setReportTitle=function(t){o.setState({reportTitle:t})},o.setFormError=function(t){o.setState({formError:t})},o.setSortOrder=function(t){o.setState({sortOrder:t})},o.setSortProperty=function(t){o.setState({sortProperty:t})},o.setIsSorted=function(t){o.setState({isSorted:t})},o.setGenerateReportModal=function(t){o.setState({generateReportModal:t})},o.setDownloading=function(t){o.setState({downloading:t})},o.setSort=function(t){o.state.sortProperty===t&&"ASC"===o.state.sortOrder?o.setSortOrder("DESC"):o.setSortOrder("ASC"),o.setSortProperty(t),o.setIsSorted(!0)},o.loadCandidatesInInstitute=function(t,e){!t&&e&&e.length>0&&null===o.state.thisEducation&&(o.setState({thisEducation:e[0]}),(null==o.props.documentReducer.candidatesInInstitute||o.props.documentReducer.candidatesInInstitute.length<=0)&&o.props.auth.application_session&&o.props.auth.application_session.session_plan_id?o.props.getCandidatesInInstitute(e[0].education_institute_id,o.props.auth.application_session.session_plan_id,(function(t,e,n){o.setLoadingCandidates(t),!t&&e.length>0&&(console.error({loadingCandidatesError:e}),o.props.PushPopupAlert({title:e,theme:m.a.danger}),o.setLoadingCandidates(!1)),!t&&n&&o.setState({reportMainData:Object(O.a)(o.props.documentReducer,n,"all")})})):o.setLoadingCandidates(!1))},o.componentDidMount=function(){o.setLoading(!1),(null===o.props.documentReducer.documentCategory||o.props.documentReducer.documentCategory.length<=0)&&o.props.getDocumentCategory(),(null===o.props.documentReducer.documentSubCategory||o.props.documentReducer.documentSubCategory.length<=0)&&o.props.getDocumentSubCategory(),(null===o.props.documentReducer.documentFields||o.props.documentReducer.documentFields.length<=0)&&o.props.getDocumentFields(),null===o.props.education_categories||o.props.education_categories.length<=0?o.props.loadEducationCategories(o.loadCandidatesInInstitute):null===o.state.thisEducation&&o.loadCandidatesInInstitute(!1,o.props.education_categories)},o.FC_GeneratePDF=function(){if(!document.querySelectorAll("#report_content tbody tr").length)return o.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:m.a.warning}),!1;if(o.props.auth.application_session){var t=document.getElementById("report_content"),e={doneBy:o.props.auth.user.fname+" "+o.props.auth.user.lname,title:"Document Validation Report",subjectTitle:"Document validation ".concat(o.props.sessions&&"none"!==o.props.sessions?o.props.sessions.session_plan_name:"All session"),subject:"All applications",period:o.props.sessions&&"none"!==o.props.sessions?o.props.sessions.session_plan_name:"All session",footer:"Online Recruitment",institute:o.state.thisEducation?o.state.thisEducation.education_category_title:"All institute",orientation:"l"};t&&Object(b.a)(e,t,o.setDownloading)}},o.updateContentToPrint=function(){if(o.props.auth.application_session){var t="Application marks publication Report - "+o.props.auth.application_session.session_plan_name;o.setReportTitle(t)}if(!o.state.reportMainData&&o.props.documentReducer.candidatesInInstitute&&o.setState({reportMainData:Object(O.a)(o.props.documentReducer,o.props.documentReducer.candidatesInInstitute,"all")}),o.state.reportMainData){var e=[],n=1;for(var r in o.state.reportMainData)if(Object.prototype.hasOwnProperty.call(o.state.reportMainData,r)){var a=null;for(var s in a={no:n,names:o.state.reportMainData[r].names,national_id:o.state.reportMainData[r].n_id,phone:o.state.reportMainData[r].phone_number,email:o.state.reportMainData[r].email,document:o.state.reportMainData[r].main_doc_title,comment:o.state.reportMainData[r].validated_by?o.state.reportMainData[r].validated_by.comment:"",status:o.state.reportMainData[r].validation_status},o.state.reportContentExport)Object.prototype.hasOwnProperty.call(o.state.reportContentExport,s)&&!o.state.reportContentExport[s].status&&a&&delete a[o.state.reportContentExport[s].key];a&&e.push(a),n++}o.setState({dataToPrint:e}),e=[],n=1}},o.updateReportContent=function(t){var e=o.state.reportContentExport.findIndex((function(e){return e.key===t})),n=o.state.reportContentExport;n[e].status=!n[e].status,o.setState({reportContentExport:n}),n.find((function(t){return!1===t.status}))?o.setSelectAll(!1):o.setSelectAll(!0),o.updateContentToPrint()},o.isChangeAllowed=function(t){return t!==a.applicant_name&&t!==a.document&&t!==a.national_id},o.resetReportContent=function(t){var e=o.state.reportContentExport;for(var n in e)o.isChangeAllowed(e[n].key)&&(e[n].status=!t);o.setState({reportContentExport:e}),o.setSelectAll(!t),o.updateContentToPrint()},o.FC_FilterReportData=function(t,e){var n=t;return"all"!==e&&(n=n.filter((function(t){return t.validation_status===e}))),n},o.ReportStatuses=function(t){var e=[{title:"All",count:t.length,status:"all"}];return e.push({title:Object(h.a)(r.Waiting.toLocaleLowerCase()),count:t.filter((function(t){return t.validation_status===r.Waiting})).length,status:r.Waiting},{title:Object(h.a)(r.Approved.toLocaleLowerCase()),count:t.filter((function(t){return t.validation_status===r.Approved})).length,status:r.Approved},{title:Object(h.a)(r.Rejected.toLocaleLowerCase()),count:t.filter((function(t){return t.validation_status===r.Rejected})).length,status:r.Rejected}),e},o.state={loading:!0,loadingCandidates:!0,selectedStatus:"all",selectAll:!0,thisEducation:null,reportMainData:null,reportContentExport:w,reportTitle:"Document validation report",dataToPrint:null,sortProperty:"",isSorted:!1,sortOrder:"ASC",searchInput:"",searchPositionInput:"",generateReportModal:null,formError:null,selectPosition:!1,selectedPosition:null,downloading:!1},o}return Object(o.a)(n,[{key:"render",value:function(){var t,e,n=this;return this.state.loading?Object(N.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."}):null===this.props.auth.application_session?Object(N.jsx)(C.a,{}):Object(N.jsxs)("div",{children:[Object(N.jsx)(x.b,{children:Object(N.jsxs)("div",{className:"pt-1",children:[Object(N.jsx)("div",{className:"text-base font-semibold text-gray-700 pb-2 pt-2",children:"Filter by statuses:"}),null===this.props.documentReducer.candidatesInInstitute||this.state.loadingCandidates?Object(N.jsx)(_.a,{}):this.ReportStatuses(Object(O.a)(this.props.documentReducer,this.props.documentReducer.candidatesInInstitute,"all")).map((function(t,e){return Object(N.jsx)(l.Fragment,{children:Object(N.jsx)("div",{onClick:function(){return n.setState({selectedStatus:t.status})},children:Object(N.jsx)(x.a,{title:t.title,count:t.count,active:n.state.selectedStatus===t.status})})},t.title)}))]})}),Object(N.jsxs)("section",{children:[Object(N.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(N.jsx)("div",{className:"col-span-8",children:Object(N.jsx)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:Object(N.jsx)("span",{className:"text-3xl font-bold text-gray-700",children:"Document validation report"})})}),Object(N.jsx)("div",{className:"col-span-4",children:Object(N.jsx)("div",{className:"float-right mt-2",children:this.props.documentReducer.candidatesInInstitute&&this.props.documentReducer.candidatesInInstitute.length>0&&Object(N.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(N.jsx)(g.e,{className:"text-2xl text-gray-500"}),Object(N.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(N.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",disabled:!(this.props.documentReducer.candidatesInInstitute&&!this.state.downloading),onClick:function(){n.updateContentToPrint(),n.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(N.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 ".concat(this.state.downloading&&"cursor-wait"),onClick:function(){return n.FC_GeneratePDF()},disabled:!this.props.documentReducer.candidatesInInstitute,children:"PDF"})]})})})]}),Object(N.jsxs)("div",{className:"bg-white my-4",children:[Object(N.jsx)("div",{className:"w-full px-2 py-2",children:Object(N.jsx)("input",{onChange:function(t){return n.setState({searchInput:t.target.value})},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded focus:border-gray-800",disabled:null===this.state.loadingCandidates||null===this.props.documentReducer.candidatesInInstitute||this.FC_FilterReportData(Object(O.a)(this.props.documentReducer,this.props.documentReducer.candidatesInInstitute,"all"),this.state.selectedStatus).length<=0})}),Object(N.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(N.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("names")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["Names ",Object(N.jsx)(g.i,{})]})}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("national_id")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["National Id ",Object(N.jsx)(g.i,{})]})}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("phone")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["Phone ",Object(N.jsx)(g.i,{})]})}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("email")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["Email ",Object(N.jsx)(g.i,{})]})}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("position_name")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["Position ",Object(N.jsx)(g.i,{})]})}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("status")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(N.jsx)(g.i,{})]})})]})}),Object(N.jsx)("tbody",{children:null===this.props.documentReducer.candidatesInInstitute||this.state.loadingCandidates?Object(N.jsx)(j.a,{cols:8}):(t=this.FC_FilterReportData(Object(O.a)(this.props.documentReducer,this.props.documentReducer.candidatesInInstitute,"all"),this.state.selectedStatus),e=this.state.searchInput,void 0===e||""===e?t:t.filter((function(t){var n;for(var r in t)if(n=!1,"names"!==r&&"n_id"!==r&&"phone_number"!==r&&"main_doc_title"!==r&&"title"!==r&&"description"!==r&&"validation_status"!==r||t[r]&&(n=t[r].toString().toLowerCase().indexOf(e.toLowerCase())>-1),n)break;return n}))).map((function(t,e){return Object(N.jsxs)("tr",{className:"hover:bg-blue-100 hover:text-blue-700 border-b hover:border-blue-500 text-sm bg-white ".concat("rejected"!==t.validation_status&&"approved"!==t.validation_status&&"border-gray-500"),children:[Object(N.jsx)("td",{className:"px-2 py-2",children:e+1}),Object(N.jsx)("td",{className:"px-2 py-2",children:t.names}),Object(N.jsx)("td",{className:"px-2 py-2",children:t.n_id}),Object(N.jsx)("td",{className:"px-2 py-2",children:t.phone_number}),Object(N.jsx)("td",{className:"px-2 py-2",children:t.email}),Object(N.jsx)("td",{className:"px-2 py-2",children:t.main_doc_title}),Object(N.jsx)("td",{className:"px-2 py-2 ".concat("rejected"===t.validation_status?"text-yellow-700":"approved"===t.validation_status?"text-blue-700":""),children:Object(h.a)(t.validation_status)})]},e+t.user_id)}))})]})]})]}),null!==this.state.generateReportModal&&!0===this.state.generateReportModal.status&&Object(N.jsx)(f.d,{title:Object(N.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(N.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",this.state.generateReportModal.reportType," ","Report"]})]})}),backDrop:!0,theme:f.c.default,close:function(){return n.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:f.b.medium,displayClose:!0,padding:{title:!0},children:Object(N.jsxs)("div",{className:"px-6",children:[Object(N.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("label",{children:"Title"}),Object(N.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(this.state.formError&&"report_title"===this.state.formError.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:this.state.reportTitle,onChange:function(t){n.setFormError(null),n.setReportTitle(t.target.value)},disabled:!this.state.reportMainData}),this.state.formError&&"report_title"===this.state.formError.element&&Object(N.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(N.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(N.jsx)("label",{children:"Report content"}),Object(N.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:this.state.reportContentExport.map((function(t,e){return Object(N.jsxs)("div",{className:"flex items-center gap-1 ".concat(n.isChangeAllowed(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return n.isChangeAllowed(t.key)&&n.updateReportContent(t.key)},title:n.isChangeAllowed(t.key)?"":"Required for every report!",children:[t.status?Object(N.jsx)(u.q,{className:"w-6 h-6 text-blue-700"}):Object(N.jsx)(u.r,{className:"w-6 h-6"}),Object(N.jsx)("span",{children:t.title})]},e)}))}),this.state.formError&&"report_content"===this.state.formError.element&&Object(N.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]})]}),Object(N.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(N.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return n.resetReportContent(n.state.selectAll)},children:[this.state.selectAll?Object(N.jsx)(u.q,{className:"w-6 h-6 text-blue-700"}):Object(N.jsx)(u.r,{className:"w-6 h-6"}),Object(N.jsx)("span",{children:"Select all"})]}),this.state.dataToPrint&&this.state.reportMainData&&Object(N.jsx)(y.a,{fileData:this.state.dataToPrint,fileName:this.state.reportTitle,btnName:"Generate"})]})]})})]})}}]),n}(l.Component),E=Object(d.b)((function(t){return{auth:t.auth,documentReducer:t.document,education_categories:t.schoolLevels.education_categories}}),{getDocumentCategory:v.h,getDocumentSubCategory:v.j,getDocumentFields:v.i,loadEducationCategories:p.mc,getCandidatesInInstitute:v.g,PushPopupAlert:p.tb})(S)},640:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"g",(function(){return i})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return l}));var r=function(t){return null===t||null!==t.match(/^ *$/)},a=function(t,e){return t.filter((function(t){return t.system_user_role_id===e}))[0]},s=function(t,e){return t.find((function(t){return t.education_institute_id===e}))},o=function(t,e){return t.find((function(t){return t.position_id===e}))},i=function(t){var e=t-Math.floor(t);return("0"+(t-=e)).slice(-2)+e.toString().substr(1)},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Array(e+1).join("0");return(n+t).slice(-e)},l=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},647:function(t,e,n){"use strict";n.d(e,"h",(function(){return p})),n.d(e,"a",(function(){return f})),n.d(e,"k",(function(){return m})),n.d(e,"d",(function(){return h})),n.d(e,"j",(function(){return b})),n.d(e,"c",(function(){return g})),n.d(e,"m",(function(){return x})),n.d(e,"f",(function(){return j})),n.d(e,"i",(function(){return _})),n.d(e,"b",(function(){return y})),n.d(e,"l",(function(){return v})),n.d(e,"e",(function(){return O})),n.d(e,"g",(function(){return N})),n.d(e,"n",(function(){return w}));var r=n(5),a=n.n(r),s=n(7),o=n(8),i=n.n(o),c=n(6),l=n(9),u=n(15),d=n(14),p=function(){return function(){var t=Object(s.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,i.a.get("".concat(l.a.AUTH,"/detailcategory"));case 4:n=t.sent,console.log({docCategory:n}),e({type:c.a.GET_DOCUMENT_CATEGORY,payload:n.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error({error:Object(d.a)(t.t0)});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.CREATE_DOCUMENT_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.UPDATE_DOCUMENT_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.DELETE_DOCUMENT_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(){return function(){var t=Object(s.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,i.a.get("".concat(l.a.AUTH,"/detailsubcategory"));case 4:n=t.sent,console.log({docSubCategory:n}),e({type:c.a.GET_DOCUMENT_SUB_CATEGORY,payload:n.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log({doc_SUB_category_error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},g=function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.CREATE_DOCUMENT_SUB_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.UPDATE_DOCUMENT_SUB_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.DELETE_DOCUMENT_SUB_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(){return function(){var t=Object(s.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,i.a.get("".concat(l.a.AUTH,"/categorysubcatedata"));case 4:n=t.sent,console.log({docFields:n}),e({type:c.a.GET_DOCUMENT_FIELDS,payload:n.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log({doc_SUB_category_error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},y=function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.CREATE_DOCUMENT_FIELDS,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(t){return console.log({reducer:t}),function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.UPDATE_DOCUMENT_FIELDS,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.DELETE_DOCUMENT_FIELDS,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(t){var e=[],n=[];return t.filter((function(t){return null!==t&&void 0!==t})).forEach((function(t){n.includes(t.user_id)||(e.push(t),n.push(t.user_id))})),e},N=function(t,e,n){return function(){var r=Object(s.a)(a.a.mark((function r(s){var o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(!0,"",null),r.prev=1,Object(u.b)(),r.next=5,i.a.get("".concat(l.a.APPLICATION,"/educationtypeuserdocs/").concat(t,"/").concat(e));case 5:o=r.sent,console.log("===================================="),console.log({getCandidatesInInstitute:o,distinctCandidates:C(o.data)}),console.log("===================================="),s({type:c.a.GET_CANDIDATE_IN_INSTITUTE,payload:C(o.data)}),n(!1,"",C(o.data)),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(1),console.log({getCandidatesInInstitute:r.t0}),n(!1,Object(d.a)(r.t0),null);case 17:case"end":return r.stop()}}),r,null,[[1,13]])})));return function(t){return r.apply(this,arguments)}}()},w=function(t){return console.log("================verifyDocument===================="),console.log({verifyDocument:t}),console.log("================verifyDocument===================="),function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.VERIFY_DOCUMENT,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},648:function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return h}));var r=n(26),a=n(25),s=n(28),o=n(27),i=n(4),c=n.n(i),l=n(21),u=n(3),d=n(10),p=n(1),f=function(t){Object(s.a)(n,t);var e=Object(o.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).componentDidMount=function(){return a.props.PageHasSubNav(!0)},a.componentWillUnmount=function(){return a.props.PageHasSubNav(!1)},a.state={loading:!1},a}return Object(a.a)(n,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var t=this.props.system.navigation;return Object(p.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===t?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),n}(c.a.Component),m=Object(l.b)((function(t){return{auth:t.auth,system:t.system}}),{NavToogle:u.rb,PageHasSubNav:u.sb})(f),h=function(t){var e=t.title,n=void 0===e?"":e,r=t.icon,a=void 0===r?d.m:r,s=t.active,o=void 0!==s&&s,i=t.count,c=void 0===i?0:i,l=a;return Object(p.jsxs)("section",{className:"".concat(!0===o?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:n})]}),c>0?Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:c}):null]})}},659:function(t,e,n){"use strict";n(4);var r=n(10),a=n(1);e.a=function(){return Object(a.jsx)("div",{className:"my-5",children:Object(a.jsxs)("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center p-6 my-8 text-yellow-900 border border-yellow-900",children:[Object(a.jsx)(r.P,{className:"text-6xl md:text-9xl"}),Object(a.jsxs)("div",{className:"text-center flex flex-col",children:[Object(a.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:"No session available"}),Object(a.jsx)("span",{className:"text-lg",children:"Please Wait for the system to publish the sessions or contact the administrator"})]})]})})}},662:function(t,e,n){"use strict";n(4);var r=n(1);e.a=function(t){var e=function(){for(var e=[],n=0;n<t.cols;n++)e.push(n);return e.map((function(t){return Object(r.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(r.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},t)}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("tr",{className:"border-b border-gray-200",children:e()},228),Object(r.jsx)("tr",{className:"border-b border-gray-200",children:e()},22648),Object(r.jsx)("tr",{className:"border-b border-gray-200",children:e()},229768)]})}},673:function(t,e,n){"use strict";n(4);var r=n(777),a=n(778),s=n(46),o=n(1);e.a=function(t){var e=t.fileData,n=t.fileName,i=t.btnName,c=void 0===i?"Excel":i,l=t.className,u=void 0===l?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":l,d=t.showIcon,p=void 0===d||d;return Object(o.jsxs)("button",{onClick:function(t){return function(t,e){var n={Sheets:{data:a.utils.json_to_sheet(t)},SheetNames:["data"]},s=a.write(n,{bookType:"xlsx",type:"array"}),o=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});r.saveAs(o,e+".xlsx")}(e,n)},className:u,children:[p&&Object(o.jsx)(s.h,{}),c]})}},675:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(5),a=n.n(r),s=n(7),o=n(767),i=n(53),c=n.p+"static/media/mineduc.11a9ae1c.png";n(776);var l=function(t){var e=t.internal.getNumberOfPages();t.setFont("helvetica","italic"),t.setFontSize(8);for(var n=1;n<=e;n++)t.setPage(n),t.text("Page "+String(n)+" of "+String(e),t.internal.pageSize.width/2,297,{align:"center"})},u=function(){var t=Object(s.a)(a.a.mark((function t(e,n,r){var s,u,d,p,f,m,h,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r(!0),s=e.orientation?e.orientation:"p",u=20,20,185,(d=new o.default(s,"mm","a4")).setTextColor(95,95,95),d.setFontSize(28),d.addImage(c,"png",20,20,10,10),d.text("MINEDUC",32,28.5,void 0,"left"),d.setFontSize(26),d.text(e.title,d.internal.pageSize.getWidth()/2,42.7,void 0,"center"),d.setFontSize(20),d.text(e.institute,d.internal.pageSize.getWidth()/2,53.7,void 0,"center"),p=d.splitTextToSize(e.subject,145),d.setFontSize(16),f=63,d.setTextColor(95,95,95),d.text("".concat(e.subjectTitle,": "),u,f),m=d.getTextWidth("".concat(e.subjectTitle,": ")),d.setTextColor(38,38,38),h=0;h<p.length;h++)f>280&&(f=10,d.addPage()),d.text(p[h],u+m,f),f+=7;return d.setTextColor(95,95,95),d.text("Period: ",u,f+3),m=d.getTextWidth("Period: "),d.setTextColor(38,38,38),d.text(e.period,u+m,f+3),d.autoTable({html:n,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),d.setFontSize(12),b=d.lastAutoTable.finalY,d.text("Reported by: ".concat(e.doneBy),u,b+15),d.text("Report downloaded on "+Object(i.a)((new Date).toString()),u,b+23),l(d),t.next=35,d.save("".concat(e.title+": "+e.subject+": "+e.period,".pdf"),{returnPromise:!0}).then(r(!1));case 35:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},742:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"k",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"i",(function(){return f})),n.d(e,"f",(function(){return m})),n.d(e,"j",(function(){return h})),n.d(e,"h",(function(){return b})),n.d(e,"g",(function(){return g}));var r=n(172),a=n.n(r),s=n(640),o=n(31),i=function(t,e){var n="",r="",a="",s="";if(e.sub_category_id&&e.sub_category_id.length>0&&t.documentSubCategory?r=s=t.documentSubCategory.find((function(t){return t.user_detail_subcategory_id===e.sub_category_id}))?t.documentSubCategory.find((function(t){return t.user_detail_subcategory_id===e.sub_category_id})).title:"Unknown qualification":e.category_id.length>0&&t.documentCategory&&(n=s=t.documentCategory.find((function(t){return t.user_detail_category_id===e.category_id}))?t.documentCategory.find((function(t){return t.user_detail_category_id===e.category_id})).title:"Unknown category"),e.category_subcategory_data.length>0&&t.documentFields){var o=t.documentFields.find((function(t){return t._id===e.category_subcategory_data}));s+=" in "+(a=o?o.title:"Unknown filed")}return{category:n,sub_category:r,field:a,main:s}},c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",r=[];for(var a in e){var s=e[a].details;for(var o in s){var c=e[a].details[o];null!==c.files&&c.files.length>0&&"default"===n&&"waiting"===c.validation_status?r.push({user_id:e[a].user_id,n_id:e[a].n_id,fname:e[a].fname,lname:e[a].lname,phone_number:e[a].phone_number,district:e[a].district,email:e[a].email,main_doc_title:i(t,c).main,category_id:c.category_id,sub_category_id:c.sub_category_id,category_subcategory_data:c.category_subcategory_data,title:c.title,description:c.description,files:c.files,start_year:c.start_year,end_year:c.end_year,school:c.school,details_email:c.email,names:c.names,details_phone_number:c.phone_number,company:c.company,year:c.year,doc_id:c.doc_id,validation_status:c.validation_status,validated_by:c.validated_by,doc_history_status:c.doc_history_status,get_in_date:c.get_in_date,approved:c.approved,exams:e[a].exams}):null!==c.files&&c.files.length>0&&"all"===n&&r.push({user_id:e[a].user_id,names:e[a].fname+" "+e[a].lname,n_id:e[a].n_id,fname:e[a].fname,lname:e[a].lname,phone_number:e[a].phone_number,district:e[a].district,email:e[a].email,main_doc_title:i(t,c).main,category_id:c.category_id,sub_category_id:c.sub_category_id,category_subcategory_data:c.category_subcategory_data,title:c.title,description:c.description,files:c.files,start_year:c.start_year,end_year:c.end_year,school:c.school,details_email:c.email,details_phone_number:c.phone_number,company:c.company,year:c.year,doc_id:c.doc_id,validation_status:c.validation_status,validated_by:c.validated_by,doc_history_status:c.doc_history_status,get_in_date:c.get_in_date,approved:c.approved,exams:e[a].exams})}}return r},l=function(t){if(t&&t.plans){var e=t.plans.find((function(t){return t.type_key===o.c.DOCUMENT_VALIDATION}));if(e){var n=a()(),r=a()(e.start_date),s=a()(e.end_date);if(r.diff(n,"days")<=0&&s.diff(n,"days")>=0&&e.type_status===o.d.OPEN)return!0}}return!1},u=function(t,e,n){var r,a=[],s="all"===n?e:e.filter((function(t){return t.district_id===n})),o=s.length;for(r=0;r<o;r++)a.includes(s[r].center_id)||a.push(s[r].center_id);for(var i=[],c=(t?t.filter((function(t){return t.details.length>0})):[]).filter((function(t){return t.details.filter((function(t){return""!==t.files}))})),l=[],u=[],d=0;d<c.length;d++)l.includes(c[d].email)||(l.push(c[d].email),u.push(c[d]));for(var p=i,f=0;f<u.length;f++)for(var m=0;m<u[f].exams.length;m++){a.includes(u[f].exams[m].center_id)&&i.push(u[f]);for(var h=[],b=[],g=0;g<i.length;g++)h.includes(i[g].email)||(h.push(i[g].email),b.push(i[g]));p=b}return p},d=function(t,e){if("all"===e)return t;for(var n=[],r=t,a=0;a<r.length;a++)for(var s=0;s<r[a].exams.length;s++)if(r[a].exams[s].center_id===e){n.push(r[a]);for(var o=[],i=[],c=0;c<n.length;c++)o.includes(n[c].email)||(o.push(n[c].email),i.push(n[c]));n=i}return n},p=function(t,e){if("all"===e)return t;var n=[];console.log({generalResult:t});for(var r=t,a=0;a<r.length;a++)for(var s=0;s<r[a].exams.length;s++)if(r[a].exams[s].room_id===e){n.push(r[a]);for(var o=[],i=[],c=0;c<n.length;c++)o.includes(n[c].email)||(o.push(n[c].email),i.push(n[c]));n=i}return n},f=function(t,e,n){var r,a=t.find((function(t){return t.user_id===e}));return a&&(r=a.details.find((function(t){return t.doc_id===n}))),{user:a,doc:r}},m=function(t,e){return t.filter((function(t){return t.validation_status===e&&t.files})).length},h=function(t,e,n,r,a,o,i){var c,l=0;if(t.length<=0)return n(!1),r(""),a(""),o(null),i(!1),!1;if(t.length-1<e){for(l=0,c=!1;!c&&t.length-1>=l;)void 0===t[l]||Object(s.e)(t[l].files)||c||(n(!0),r(t[l].doc_id),a(t[l].user_id),o(l),i(!0),c=!0),l++;return c||(n(!1),r(""),a(""),o(null),i(!1)),!0}if(void 0===t[e]||Object(s.e)(t[e].files)){for(l=0,c=!1;!c&&t.length-1>=l;)void 0===t[l]||Object(s.e)(t[l].files)||c||(n(!0),r(t[l].doc_id),a(t[l].user_id),o(l),i(!0),c=!0),l++;return c||(n(!1),r(""),a(""),o(null),i(!1)),!0}return n(!0),r(t[e].doc_id),a(t[e].user_id),o(e),i(!0),!0},b=function(t,e,n,r,a,s,o){if(t.details.length<=0)return n(!1),r(""),a(""),s(null),o(!1),!1;var i=t.details.filter((function(t){return"waiting"===t.validation_status&&t.files}));return i.length<=0?(n(!1),r(""),a(""),s(null),o(!1),!1):i.length-1<e?(n(!0),r(i[0].doc_id),a(t.user_id),s(0),o(!0),!0):(n(!0),r(i[e].doc_id),a(t.user_id),s(e),o(!0),!0)},g=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"waiting",a=t;return"docCategory"===e?a=t.filter((function(t){return t.category_id===n&&t.files&&t.files.length>0&&t.validation_status===r})):"docSubCategory"===e&&(a=t.filter((function(t){return t.sub_category_id===n&&t.files&&t.files.length>0&&t.validation_status===r}))),a.length}},768:function(t,e){},779:function(t,e){},780:function(t,e){}}]);
//# sourceMappingURL=36.6b00fda7.chunk.js.map