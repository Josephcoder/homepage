(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[43],{188:function(e,t,s){"use strict";var r=s(24),a=s(4),n=s(189),c=s(8),o=s(1);t.a=function(e){var t,s,i=e.rows,l=e.columns,d=e.hideColumns,u=void 0!==d&&d,b=e.pagination,f=void 0!==b&&b,j=e.search,x=void 0!==j&&j,h=e.tableSize,m=void 0===h?"w-full":h,p=e.tableClass,g=e.tableId,v=void 0===g?"myTable":g,O=e.rounded,y=void 0!==O&&O,N=e.searchBG,w=void 0===N?"bg-gray-200":N,S=e.thColor,_=void 0===S?"blue":S,k=e.loading,T=void 0!==k&&k;v="myTable"===v?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=s.length,a=0;a<e;a++)t+=s.charAt(Math.floor(Math.random()*r));return t}():v;var C=Object(a.useState)(0),I=Object(r.a)(C,2),E=I[0],B=I[1],U=Object(a.useState)(1),A=Object(r.a)(U,2),L=A[0],R=A[1],M=Object(a.useState)(1),D=Object(r.a)(M,2),q=D[0],H=D[1],F=Object(a.useState)(),G=Object(r.a)(F,2),P=G[0],Y=G[1],J=Object(a.useState)(10),K=Object(r.a)(J,2),V=K[0],z=K[1],Z=Object(a.useState)(0),Q=Object(r.a)(Z,2),W=Q[0],X=Q[1],$=Object(a.useState)(0),ee=Object(r.a)($,2),te=ee[0],se=ee[1];Object(a.useEffect)((function(){f&&re()}));var re=function(){t=document.getElementById(v),s=t.getElementsByTagName("tr"),B(s.length),R(Math.ceil(E/V)),X((q-1)*V),se(Math.min(W+V-1,E-1));var e=Array.from(Array(L+1-1).keys()).map((function(e){return 1+e}));P&&e.length===P.length||Y(e);for(var r=0;r<s.length;r++)s[r].style.display=r>=W&&r<=te?"":"none"};return Object(o.jsxs)("div",{className:"".concat(m),children:[x&&Object(o.jsx)("div",{className:"".concat(w," w-full mb-2"),children:x&&Object(o.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(o.jsx)(c.Cb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(o.jsx)("input",{type:"search",placeholder:"search",onChange:function(e){return function(e,s){var r,a,n,c,o;for("field"===s&&"all"===e&&(e=""),r=e.toLowerCase(),a=(t=document.getElementById(v)).getElementsByTagName("tr"),c=0;c<a.length;c++)for(o=0;o<l.length;o++)if(n=a[c].getElementsByTagName("td")[o]){if((n.textContent||n.innerText).toLowerCase().indexOf(r)>-1){a[c].style.display="";break}a[c].style.display="none"}}(e.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:T}),f&&Object(o.jsx)("div",{className:"select",children:Object(o.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(e){return z(Number(e.target.value))},disabled:T,children:[Object(o.jsx)("option",{value:"10",children:"10"}),Object(o.jsx)("option",{value:"25",children:"25"}),Object(o.jsx)("option",{value:"50",children:"50"}),Object(o.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(o.jsxs)("table",{className:p||"w-full shadow ".concat(y&&"sm:rounded-lg"," table-auto order-table max-w-full"),id:v,children:[!u&&Object(o.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(o.jsx)("tr",{className:"text-left tracking-wide bg-".concat(_,"-100 border-b-2 border-").concat(_,"-500 text-").concat(_,"-600 overflow-hidden"),children:l.map((function(e,t){return Object(o.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,s,r,a,n,c,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(r=!0,t=document.getElementById(e))for(;r;){for(r=!1,s=t.rows,a=1;a<s.length-1;a++)if(o=!1,n=s[a].getElementsByTagName("TD")[i],c=s[a+1].getElementsByTagName("TD")[i],"asc"===l&&n&&c){if(n.innerHTML.toLowerCase()>c.innerHTML.toLowerCase()){o=!0;break}}else if("desc"===l&&n&&c&&n.innerHTML.toLowerCase()<c.innerHTML.toLowerCase()){o=!0;break}o&&s[a].parentNode?(s[a].parentNode.insertBefore(s[a+1],s[a]),r=!0,d++):0===d&&"asc"===l&&(l="desc",r=!0)}}(v,t)},children:Object(o.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(o.jsx)(n.h,{})]})},t)}))})}),Object(o.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:i()})]}),f&&Object(o.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(o.jsx)("div",{children:Object(o.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",V," of ",E-1," Entries"]})}),Object(o.jsx)("div",{children:Object(o.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==q&&"bg-white"),"aria-label":"Previous",disabled:1===q||T,onClick:function(){return H(q-1)},children:Object(o.jsx)(c.hb,{className:"h-5 w-5"})})}),Object(o.jsx)("div",{children:P&&P.map((function(e,t){return Object(o.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(e!==q?"bg-white":"bg-gray-100 cursor-default"),disabled:e===q||T,onClick:function(){return H(e)},children:e},t)}))}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(q!==L&&"bg-white"),"aria-label":"Next",disabled:q===L||T,onClick:function(){return H(q+1)},children:Object(o.jsx)(c.ib,{className:"h-5 w-5"})})})]})})]})]})}},190:function(e,t,s){"use strict";s.d(t,"d",(function(){return b})),s.d(t,"b",(function(){return f})),s.d(t,"f",(function(){return j})),s.d(t,"a",(function(){return x})),s.d(t,"c",(function(){return h})),s.d(t,"e",(function(){return m})),s.d(t,"g",(function(){return p}));var r,a=s(5),n=s.n(a),c=s(7),o=s(9),i=s.n(o),l=s(6),d=s(10),u=s(12);!function(e){e.waiting="waiting",e.approved="approved",e.rejected="rejected"}(r||(r={}));var b=function(){return function(){var e=Object(c.a)(n.a.mark((function e(t){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(u.b)(),e.next=4,i.a.get("".concat(d.a.AUTH,"/users"));case 4:s=e.sent,console.log({users_response:s}),t({type:l.a.FETCH_USERS_ACCESS,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({user_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return console.log({data:e}),function(){var t=Object(c.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.BLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.UNBLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return console.log({data:e}),function(){var t=Object(c.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.ASSIGN_ROLE_TO_USER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.CUSTOMIZE_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.RESET_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return console.log({data:e}),function(){var t=Object(c.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.VERIFY_ALL_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},797:function(e,t,s){"use strict";s.r(t),s.d(t,"_UserDetails",(function(){return h})),s.d(t,"UserDetails",(function(){return m}));var r=s(18),a=s(19),n=s(21),c=s(20),o=s(4),i=s(23),l=s(16),d=s(8),u=s(188),b=s(17),f=s(186),j=s(190),x=s(1),h=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){a.setState({loading:!0});var e=a.props.userList.filter((function(e){return e.user_id===a.props.match.params.user_id}));e.length<=0?a.setState({redirect:!0}):a.setState({userInfo:e[0],loading:!1})},a.tableData=function(){var e,t,s,r,n,c,o,i,l,d;return[Object(x.jsxs)("tr",{className:"border-b wrap border-gray-200 hover:bg-gray-100",children:[Object(x.jsx)("td",{className:"p-3 text-left",children:"Names"}),Object(x.jsx)("td",{className:"p-3 text-left font-bold",children:(null===(e=a.state.userInfo)||void 0===e?void 0:e.user_info.fname)+" "+(null===(t=a.state.userInfo)||void 0===t?void 0:t.user_info.lname)})]},1),Object(x.jsxs)("tr",{className:"border-b wrap border-gray-200 hover:bg-gray-100",children:[Object(x.jsx)("td",{className:"p-3 text-left",children:"NID"}),Object(x.jsx)("td",{className:"p-3 text-left font-bold",children:null===(s=a.state.userInfo)||void 0===s?void 0:s.n_id})]},2),Object(x.jsxs)("tr",{className:"border-b wrap border-gray-200 hover:bg-gray-100",children:[Object(x.jsx)("td",{className:"p-3 text-left",children:"Gender"}),Object(x.jsx)("td",{className:"p-3 text-left font-bold",children:"M"===(null===(r=a.state.userInfo)||void 0===r?void 0:r.user_info.sex)?"Male":"Female"})]},3),Object(x.jsxs)("tr",{className:"border-b wrap border-gray-200 hover:bg-gray-100",children:[Object(x.jsx)("td",{className:"p-3 text-left",children:"DOB"}),Object(x.jsx)("td",{className:"p-3 text-left font-bold",children:null===(n=a.state.userInfo)||void 0===n?void 0:n.user_info.date_of_birth})]},4),Object(x.jsxs)("tr",{className:"border-b wrap border-gray-200 hover:bg-gray-100",children:[Object(x.jsx)("td",{className:"p-3 text-left",children:"Email"}),Object(x.jsx)("td",{className:"p-3 text-left font-bold",children:null===(c=a.state.userInfo)||void 0===c?void 0:c.email})]},5),Object(x.jsxs)("tr",{className:"border-b wrap border-gray-200 hover:bg-gray-100",children:[Object(x.jsx)("td",{className:"p-3 text-left",children:"Phone"}),Object(x.jsxs)("td",{className:"p-3 text-left font-bold",children:["+",null===(o=a.state.userInfo)||void 0===o?void 0:o.phone_number]})]},6),Object(x.jsxs)("tr",{className:"border-b wrap border-gray-200 hover:bg-gray-100",children:[Object(x.jsx)("td",{className:"p-3 text-left",children:"Address"}),Object(x.jsxs)("td",{className:"p-3 text-left font-bold",children:[null===(i=a.state.userInfo)||void 0===i?void 0:i.user_info.province," /"," ",null===(l=a.state.userInfo)||void 0===l?void 0:l.user_info.district," /"," ",null===(d=a.state.userInfo)||void 0===d?void 0:d.user_info.sector]})]},7)]},a.blockUser=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";if(a.setState({feedBack:{type:"",message:""}}),e||a.setState({feedBack:{type:"warning",message:"User Access is required doesn't exist"}}),a.setState({loadindRequest:!0}),!window.confirm("Are sure you want to ".concat(t," this user?")))return a.setState({loadindRequest:!1});"block"===t?a.props.blockUserToSystem(e):a.props.unBlockUserToSystem(e),a.setState({feedBack:{type:"success",message:"User has been ".concat(t,"ed!")},loadindRequest:!1}),e=""},a.state={loading:!1,loadindRequest:!1,userInfo:null,feedBack:null,error:{target:"",msg:""},redirect:!1},a}return Object(a.a)(s,[{key:"render",value:function(){var e,t=this;return this.state.loading||!0!==this.state.redirect?!0===this.state.loading||null===this.state.userInfo?Object(x.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading User Details..."}):Object(x.jsx)(o.Fragment,{children:Object(x.jsxs)("div",{className:"container mx-auto p-5",children:[this.state.feedBack&&""!==this.state.feedBack.type&&Object(x.jsxs)("div",{className:"alert-".concat(this.state.feedBack.type," flex flex-row items-center relative mb-3"),children:[Object(x.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:Object(x.jsx)(d.y,{className:"h-5 w-5 text-gray-700 hover:font-bold",title:"Close",onClick:function(){return t.setState({feedBack:{type:"",message:""}})}})}),Object(x.jsx)(d.G,{className:"h-10 w-10"}),Object(x.jsxs)("div",{className:"alert-content ml-4",children:[Object(x.jsx)("div",{className:"alert-title font-semibold text-lg",children:"success"===this.state.feedBack.type?"Success":"Error"}),Object(x.jsx)("div",{className:"alert-description text-sm",children:this.state.feedBack.message})]})]}),Object(x.jsxs)("div",{className:"w-full",children:[Object(x.jsxs)("div",{className:"bg-blue-700 flex items-center w-full text-gray-100 gap-1 py-3 px-3 mb-3",children:[Object(x.jsx)(l.b,{to:"/users",className:"uppercase",children:"Users"}),Object(x.jsx)(d.ib,{className:"w-7 h-5"}),Object(x.jsx)("span",{className:"",children:this.state.userInfo.user_info.lname})]}),Object(x.jsxs)("div",{className:"w-full flex items-center bg-white flex-col md:flex-row md:items-start",children:[Object(x.jsxs)("div",{className:"w-1/4 flex flex-col text-center",children:[Object(x.jsx)("div",{className:"image overflow-hidden",children:this.state.userInfo.user_info.photo&&"pic"!==this.state.userInfo.user_info.photo?Object(x.jsx)("img",{className:"h-auto w-7/12 mx-auto rounded-full",src:this.state.userInfo.user_info.photo,alt:""}):Object(x.jsx)(d.a,{className:"w-28 h-28 mx-auto"})}),Object(x.jsx)("div",{className:"flex justify-center my-2",children:Object(x.jsx)("h3",{className:"text-gray-800 text-xl text-bold uppercase",children:this.state.userInfo.default_access&&(null===(e=Object(f.e)(this.props.accessRoles,this.state.userInfo.default_access.system_user_role_id))||void 0===e?void 0:e.role)})}),Object(x.jsx)("div",{className:"my-1",children:!1===this.state.userInfo.is_active?Object(x.jsx)("span",{className:"bg-red-700 py-1 px-2 rounded text-white text-sm",children:"Blocked"}):Object(x.jsx)("span",{className:"bg-green-700 py-1 px-2 rounded text-white text-sm",children:"Active"})}),Object(x.jsxs)("div",{className:"flex flex-col items-center mt-3 gap-2",children:[Object(x.jsx)("div",{children:Object(x.jsxs)(l.b,{className:"btn text-green-700 border-green-700 md:border-2 hover:bg-green-700 hover:text-white transition ease-out duration-500 flex items-center",title:"View User Profile",to:"/users/access/".concat(this.props.match.params.user_id),children:[Object(x.jsx)(d.bb,{}),"User Access"]})}),Object(x.jsx)("div",{children:Object(x.jsxs)("button",{className:" btn text-red-700 border-red-700 md:border-2 hover:bg-red-700 hover:text-white transition ease-out duration-500 flex items-center ",title:"Block User Account",onClick:function(){return!t.state.loadindRequest&&t.state.userInfo&&t.blockUser(t.state.userInfo.user_id)},children:[Object(x.jsx)(d.bb,{}),"Disable user"]})})]})]}),Object(x.jsxs)("div",{className:"w-3/4 flex flex-col p-3 border-dashed md:border-l md:border-t-0 border-t-2 md:border-gray-300",children:[Object(x.jsxs)("div",{className:"border-b border-gray-400 text-4xl font-semibold text-gray-700 py-2",children:[this.state.userInfo.user_info.lname,"'s details"]}),Object(x.jsx)(u.a,{columns:[{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:this.tableData,pagination:!1,hideColumns:!0,search:!1})]})]})]})]})}):Object(x.jsx)(i.a,{to:"/users"})}}]),s}(o.Component),m=Object(b.b)((function(e){return{auth:e.auth,userList:e.users,accessRoles:e.access.accessRoles}}),{blockUserToSystem:j.b,unBlockUserToSystem:j.f})(h)}}]);
//# sourceMappingURL=43.e1e9187d.chunk.js.map