(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[42],{1320:function(e,t,s){"use strict";s.r(t),s.d(t,"DoExam",(function(){return oe}));var a=s(11),n=s(18),i=s(5),d=s.n(i),o=s(7),l=s(25),c=s(24),r=s(27),u=s(26),m=s(4),x=s(2),p=s(10),b=s.n(p),f=s(66),j=s(50),h=s(12),_=s(23),y=s(3),v=s(8),g=s(20),w=s(1),E=Object(_.b)((function(e){var t=e.auth;e.doExam;return{auth:t,candidateExam:e.candidateExam,system:e.system,proctoring:e.proctoring}}),{loadExam:y.Jc,addExamAnswer:y.gc,deleteExamAnswers:y.mc,SubmitExamAnswers:y.Zb,setSelectedExamQuestion:y.id})((function(e){var t=function(t){if(null!==e.candidateExam.candidate_exam){for(var s=0;s<e.candidateExam.candidate_exam.questions.length;s++)if(e.candidateExam.candidate_exam.questions[s].question_id===t)return s;return 0}return 0},s=null!==e.candidateExam.selected_question&&null!==e.candidateExam.candidate_exam?t(e.candidateExam.selected_question)>0?t(e.candidateExam.selected_question):e.candidateExam.candidate_exam.questions.length:-1,a=null!==e.candidateExam.selected_question&&null!==e.candidateExam.candidate_exam?t(e.candidateExam.selected_question)>0&&t(e.candidateExam.selected_question)<e.candidateExam.candidate_exam.questions.length-1?t(e.candidateExam.selected_question):0===t(e.candidateExam.selected_question)?0:-1:0,n=function(t,s){(e.setSelectedExamQuestion(t,s),null!==e.candidateExam.candidate_exam)&&(void 0!==e.candidateExam.candidate_exam.questions.find((function(t){return!0===Object(g.f)(e.candidateExam.question_answers,t,Object(g.d)(t.type,e.questionTypes.questionTypes))}))&&(e.SubmitAnswer(),i()))},i=function(){var t=Object(o.a)(d.a.mark((function t(){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.candidateExam.candidate_exam){t.next=15;break}return e.setRequestingExamMarks(!0),t.prev=2,t.next=5,b.a.post("".concat(v.a.DO_EXAM,"/answersheet/users/marks"),{course:e.candidateExam.candidate_exam.course,period:e.candidateExam.candidate_exam.period,user:e.auth.user.user_id});case 5:s=t.sent,console.log("User total marks: ",s.data),e.setExamTotalMarks(parseInt(s.data.user_marks)),e.setRequestingExamMarks(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.log("Requesting total exam marks err: ",Object(x.a)({},t.t0)),e.setRequestingExamMarks(!1);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"fixed bottom-0 flex flex-row justify-between items-center mr-2 px-2 bg-gray-700 rounded w-full",children:[Object(w.jsxs)("div",{className:"flex flex-row items-center",children:[Object(w.jsxs)("div",{onClick:function(){return e.setProfileWindowStatus(!e.windowStatus.profile)},className:"cursor-pointer flex justify-center items-center bg-gray-700 my-2 px-1 rounded",children:[Object(w.jsxs)("div",{className:"group cursor-pointer text-gray-100 hover:text-blue-700 h-full py-2 pl-2 pr-3 rounded shadow-lg bg-gray-600 hover:bg-blue-200 w-max",children:[Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:"".concat(0===e.proctoring.events.length?"text-white bg-gray-900 group-hover:bg-gray-100 group-hover:text-gray-700":"bg-red-600 text-white"," text-xs font-bold p-1 rounded-full flex justify-center items-center shadow-lg h-6 w-6"),style:{position:"relative",top:"-10px",right:"-12px"},children:e.proctoring.events.length})}),e.proctoring.events.length>0?Object(w.jsx)(j.p,{className:"text-2xl -mt-5"}):Object(w.jsx)(f.p,{className:"text-2xl -mt-5"})]}),!0===e.windowStatus.questionsList&&Object(w.jsx)("div",{className:"".concat(0===e.proctoring.events.length?"text-gray-300":"text-yellow-500"," bg-gray-700  px-1 py-1 rounded text-xs ml-1 font-bold"),children:0===e.proctoring.events.length?Object(w.jsxs)(w.Fragment,{children:["No events ",Object(w.jsx)("br",{}),"are available"]}):Object(w.jsxs)(w.Fragment,{children:["New events ",Object(w.jsx)("br",{}),"are available"]})})]}),Object(w.jsxs)("button",{onClick:function(){return e.candidateExam.candidate_exam&&e.candidateExam.selected_exam_id&&n(e.candidateExam.candidate_exam.exam_paper_id,e.candidateExam.candidate_exam.questions[s-1].question_id)},className:"btn btn-blue flex justify-center items-center",style:{height:"fit-content"},children:[Object(w.jsx)(h.w,{className:"text-xl"})," ",Object(w.jsx)("span",{className:"hidden md:block",children:"Previous"})]}),Object(w.jsxs)("div",{className:"hidden md:flex flex-col text-gray-400 px-2",children:[Object(w.jsxs)("span",{className:"font-bold",children:["Question"," ",e.candidateExam.selected_question&&t(e.candidateExam.selected_question)+1]}),!0===e.submitQuestionAnswer?Object(w.jsx)("span",{className:"text-xs text-yellow-500 animate-pulse font-bold",children:"Saving question answer..."}):Object(w.jsx)("span",{className:"text-xs",children:"Auto save is activated"})]})]}),Object(w.jsxs)("div",{className:"flex flex-row gap-1",children:[Object(w.jsxs)("button",{onClick:function(){return e.candidateExam.candidate_exam&&e.candidateExam.selected_exam_id&&n(e.candidateExam.candidate_exam.exam_paper_id,e.candidateExam.candidate_exam.questions[a+1].question_id)},className:"btn btn-blue flex items-center px-2 py-2 my-1",children:[Object(w.jsx)("span",{className:"hidden md:block",children:"Next"})," ",Object(w.jsx)(h.x,{className:"text-xl"})]}),!0===e.submitQuestionAnswer?Object(w.jsx)("div",{className:"btn bg-gray-600 text-white px-2 py-2 my-1 font-bold border border-gray-600 animate-pulse",children:"Saving..."}):Object(w.jsxs)("button",{onClick:function(){e.SubmitAnswer(),e.setSubmitModal(!0)},type:"button",className:"bg-green-700 hover:bg-green-600 border border-white text-white rounded flex flex-row justify-center items-center gap-2 px-2 py-2 my-1 mx-2 float-right",children:[Object(w.jsx)(h.u,{className:"text-white text-xl"}),Object(w.jsx)("span",{className:"mr-2",children:"Submit "})]})]})]})})),O=s(765),q=s(28),N=Object(_.b)((function(e){return{auth:e.auth,proctoring:e.proctoring}}),{})((function(e){return Object(w.jsx)("div",{className:"h-full bg-gray-800 border-r-4 border-gray-700",children:Object(w.jsxs)("div",{className:"flex flex-col h-screen",children:[Object(w.jsx)("div",{className:"bg-gray-800 pb-5",children:Object(w.jsxs)("div",{className:"rounded-lg flex flex-col justify-center items-center text-center mt-1",children:[Object(w.jsxs)("div",{className:"w-full bg-gray-800 py-2 px-2 flex flex-row justify-between items-center",children:[Object(w.jsx)("span",{className:"text-xl text-white font-bold",children:"My profile"}),Object(w.jsx)("div",{className:"rounded-full flex justify-center items-center bg-gray-700 p-1",children:Object(w.jsx)(j.g,{onClick:function(){return e.setProfileWindowStatus(!1)},className:"text-white text-2xl hover:text-blue-400 cursor-pointer"})})]}),Object(w.jsx)("div",{className:"rounded-md bg-gray-600 mb-3 mx-2 flex justify-center items-center overflow-hidden",style:{width:"200px",height:"200px"},children:Object(w.jsx)("img",{src:O.a,alt:""})}),Object(w.jsxs)("span",{className:"text-gray-300 text-xs",children:[e.auth.user.fname," ",e.auth.user.lname]}),Object(w.jsxs)("span",{className:"text-gray-400 text-xs",children:["ID: ",e.auth.user.n_id]})]})}),Object(w.jsxs)("div",{className:"bg-gray-800 h-full",children:[Object(w.jsxs)("div",{className:"flex flex-row justify-between items-center text-white py-2 px-2 bg-gray-700",children:[Object(w.jsx)("span",{children:"Events"}),Object(w.jsx)("span",{children:e.proctoring.events.length})]}),Object(w.jsx)("div",{className:"flex flex-col px-2 text-xs h-screen md:h-full overflow-y-auto",style:{paddingBottom:"550px",paddingTop:"10px"},children:0===e.proctoring.events.length?Object(w.jsx)("div",{className:"text-white font-bold",children:"No events found!"}):e.proctoring.events.map((function(e,t){return Object(w.jsxs)("div",{className:"flex flex-col text-gray-300 border-b py-2 border-gray-700",children:[Object(w.jsxs)("div",{className:"flex flex-row items-center my-1 gap-2",children:[Object(w.jsx)("div",{className:"bg-gray-600 text-white h-6 w-6 px-3 rounded-full flex items-center justify-center",children:t+1}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("span",{children:e.event_type_id}),Object(w.jsx)("span",{className:"font-bold",children:e.description})]})]},t+1),Object(w.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[Object(w.jsx)("span",{className:"text-gray-500",children:Object(q.a)(e.time,"DD/MM/YYYY")}),Object(w.jsxs)("span",{className:"bg-gray-600 px-2 rounded-full text-xs font-bold text-yellow-300",children:[new Date(e.time).getHours()," :",new Date(e.time).getMinutes()," :",new Date(e.time).getSeconds()]})]})]})}))})]})]})})})),S=s(17),T=s(9),k=s(33),A=s(92),C=s(147),Q=s(39),D=s(148),M=s(154),L=s(149),P=s(150),R=s(151),F=s(152),I=s(72),W=s(124),U=s(13),z=s(129),Y=s(153),H=s(341),B=Object(_.b)((function(e){return{auth:e.auth,candidateExam:e.candidateExam,system:e.system,questionTypes:e.questionTypes}}),{setSelectedExamQuestion:y.id,setQuestionLanguage:y.cd,loadQuestionTypes:y.Pc})((function(e){var t,s,i,d,o,l,c,r,u,x,p,b,j,_,y,v,E,O,N,B,G,J,V,X,Z,K,$,ee,te,se,ae,ne,ie,de,oe,le,ce,re,ue,me,xe,pe,be,fe,je,he,_e,ye,ve,ge,we,Ee,Oe,qe,Ne,Se,Te,ke,Ae,Ce,Qe,De,Me,Le,Pe,Re,Fe,Ie,We,Ue,ze,Ye,He,Be,Ge,Je,Ve=Object(m.useState)(!1),Xe=Object(S.a)(Ve,2),Ze=Xe[0],Ke=Xe[1],$e=Object(m.useState)(!1),et=Object(S.a)($e,2),tt=et[0],st=et[1],at=function(){var t=null;if(null!==e.candidateExam.candidate_exam){var s=e.candidateExam.candidate_exam.questions.find((function(t){return e.candidateExam.selected_question&&t.question_id===e.candidateExam.selected_question&&void 0!==t.question.find((function(e){return e.language===dt()}))}));void 0!==s&&(t=s)}return t},nt=function(){var t=[];if(e.candidateExam.candidate_exam){var s=e.candidateExam.candidate_exam.questions.find((function(t){return t.question_id===e.candidateExam.selected_question}));void 0!==s&&(t=s.question)}return t},it=function(){var t,s=[],i=null===(t=e.candidateExam.candidate_exam)||void 0===t?void 0:t.questions.find((function(t){return t.question_id===e.candidateExam.selected_question}));if(void 0!==i){var d,o=Object(n.a)(i.question);try{var l=function(){var e=d.value,t=T.h.find((function(t){return t.key===e.language}));void 0!==t&&(s=[].concat(Object(a.a)(s),[t]))};for(o.s();!(d=o.n()).done;)l()}catch(c){o.e(c)}finally{o.f()}}return s},dt=function(){var t,s=null===(t=e.candidateExam.candidate_exam)||void 0===t?void 0:t.questions.find((function(t){return t.question_id===e.candidateExam.selected_question}));return void 0===(null===s||void 0===s?void 0:s.question.find((function(t){return t.language===e.candidateExam.selected_language})))&&void 0!==s?s.question[0].language:e.candidateExam.selected_language},ot=function(t){var s=e.candidateExam.question_answers.find((function(e){return e.question_id===at().question_id}));console.log("checkAnswerAvail a: ",s),console.log("data a: ",t),e.answerQuestionFn({question_id:at().question_id,status:!1,answers:void 0===s?[t]:[].concat(Object(a.a)(s.answers.filter((function(e){return e.reference!==t.reference}))),[t]),language:e.candidateExam.selected_language})};return Object(m.useEffect)((function(){null!==e.questionTypes.questionTypes&&0!==e.questionTypes.questionTypes.length||e.loadQuestionTypes(Ke)}),[e]),Object(w.jsx)("div",{className:"bg-gray-800 h-full",children:!0===Ze?Object(w.jsx)("div",{className:"bg-gray-200 px-3 py-2 rounded my-2 mr-2 h-full overflow-y-auto pb-80 md:pb-60",children:Object(w.jsxs)("div",{className:"rounded bg-white px-4 py-4 mt-5 mx-4",children:[Object(w.jsx)("div",{className:"text-2xl mx-4 mb-3",children:"Loading..."}),Object(w.jsx)(k.a,{type:A.a.white})]})}):Object(w.jsxs)("div",{className:"bg-gray-200 px-3 py-2 rounded my-2 mr-2 h-full overflow-y-auto pb-80 md:pb-60",children:[Object(w.jsx)("div",{className:"flex flex-row gap-2 mt-2",children:Object(w.jsx)("div",{className:"flex flex-col md:flex-row md:justify-between w-full",children:null!==at()&&(null===(t=at())||void 0===t?void 0:t.question.find((function(e){return e.language===dt()})))&&Object(w.jsxs)("div",{className:"text-md flex flex-col w-full",children:[Object(w.jsxs)("div",{className:"flex flex-row justify-between mb-2",children:[Object(w.jsxs)("div",{className:"flex flex-row gap-2 items-center justify-between w-full",children:[Object(w.jsx)("span",{className:"text-sm text-gray-600",children:null!==at()&&(null===(s=at())||void 0===s||null===(i=s.question.find((function(e){return e.language===dt()})))||void 0===i?void 0:i.title)}),Object(w.jsxs)("div",{className:"text-sm bg-blue-600  rounded-full font-bold px-2 py-1 mx-2 my-1 text-white",children:[Object(w.jsx)("span",{className:"font-extrabold text-white",children:null!==at()&&(null===(d=at())||void 0===d?void 0:d.marks)})," ","Mark(s)"]})]}),Object(w.jsxs)("div",{className:"bg-white rounded h-10 hover:bg-white cursor-pointer w-max",children:[Object(w.jsxs)("div",{onClick:function(){return st(!tt)},className:"flex flex-row items-center gap-2",children:[Object(w.jsx)("div",{className:"rounded-l",children:Object(w.jsx)(I.k,{className:"text-2xl my-2 ml-2"})}),Object(w.jsxs)("div",{className:"flex flex-col",style:{width:"97px"},children:[Object(w.jsx)("span",{className:"text-xs font-bold italic text-gray-700",children:"Language"}),Object(w.jsx)("span",{title:null===(o=it().find((function(e){return e.key===dt()})))||void 0===o?void 0:o.value,className:"text-sm font-bold text-blue-600 truncate",style:{width:"97px"},children:null===(l=it().find((function(e){return e.key===dt()})))||void 0===l?void 0:l.value})]}),Object(w.jsx)("div",{className:"".concat(!0===tt?"bg-yellow-800 text-white":"bg-gray-50 hover:bg-blue-600"," h-10 rounded-r border-l border-gray-300 flex flex-row items-center justify-center cursor-pointer hover:text-white hover:border-white"),children:!0===tt?Object(w.jsx)(f.n,{className:"text-xl my-2 mx-2"}):Object(w.jsx)(W.a,{className:"text-xl mb-1 mt-2 mx-2"})})]}),!0===tt&&Object(w.jsx)("div",{className:"relative rounded overflow-hidden",style:{width:"182px"},children:Object(w.jsx)("div",{className:"bg-blue-700 animate__animated animate__fadeIn animate__faster rounded-b w-full right-0 flex flex-col",children:it().map((function(t,s){return Object(w.jsxs)("span",{onClick:function(){e.setQuestionLanguage(t.key),st(!tt)},className:"flex flex-row items-center animate__animated animate__fadeInDown animate__faster text-white text-sm px-2 py-2 border-2 ".concat(dt()===t.key?"bg-blue-800 font-extrabold border-blue-800":"bg-blue-500 text-blue-100 border-blue-500 hover:bg-blue-700 hover:border-blue-700"),children:[dt()===t.key?Object(w.jsx)(h.Db,{className:"text-xl mr-2"}):Object(w.jsx)(h.Eb,{className:"text-xl mr-2"})," ",t.value]},s+1)}))})})]})]}),null!==at()&&null!==Object(g.d)(at().type,e.questionTypes.questionTypes)&&Object(g.d)(at().type,e.questionTypes.questionTypes)===U.questionTypeElementsType.Embedded?Object(z.a)(at(),e.questionTypes.questionTypes,dt(),e.candidateExam.question_answers,ot):Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:at().question.find((function(e){return e.language===dt()})).description},className:"text-lg text-gray-800 font-bold"})]})})}),Object(w.jsxs)("div",{className:"my-4 py-2 px-2 ".concat(null!==Object(g.d)(null===(c=e.candidateExam.candidate_exam)||void 0===c||null===(r=c.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===r?void 0:r.type,e.questionTypes.questionTypes)&&Object(g.d)(null===(u=e.candidateExam.candidate_exam)||void 0===u||null===(x=u.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===x?void 0:x.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.Embedded?"":"bg-white","  rounded"),onClick:function(){return!0===tt&&st(!1)},children:[null!==e.candidateExam.selected_question&&null!==Object(g.d)(null===(p=e.candidateExam.candidate_exam)||void 0===p||null===(b=p.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===b?void 0:b.type,e.questionTypes.questionTypes)&&(Object(g.d)(null===(j=e.candidateExam.candidate_exam)||void 0===j||null===(_=j.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===_?void 0:_.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.MultipleChoice||Object(g.d)(null===(y=e.candidateExam.candidate_exam)||void 0===y||null===(v=y.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===v?void 0:v.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.SingleMultiple)&&Object(w.jsx)(C.a,{type:Object(g.d)(null===(E=e.candidateExam.candidate_exam)||void 0===E||null===(O=E.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===O?void 0:O.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.candidateExam.selected_question,question:null!==at()?null===(N=at())||void 0===N?void 0:N.question.find((function(e){return e.language===dt()})):void 0,answers:Object(Q.d)(nt().find((function(e){return e.language===dt()})).answers[0].answer),selectedAns:nt().find((function(e){return e.language===dt()})).answers[0]},answerQuestionFn:function(e){ot(e.answers[0])}}),null!==e.candidateExam.selected_question&&null!==Object(g.d)(null===(B=e.candidateExam.candidate_exam)||void 0===B||null===(G=B.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===G?void 0:G.type,e.questionTypes.questionTypes)&&Object(g.d)(null===(J=e.candidateExam.candidate_exam)||void 0===J||null===(V=J.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===V?void 0:V.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.TrueFalse&&Object(w.jsx)(D.a,{type:Object(g.d)(null===(X=e.candidateExam.candidate_exam)||void 0===X||null===(Z=X.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===Z?void 0:Z.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.candidateExam.selected_question,question:null!==at()?null===(K=at())||void 0===K?void 0:K.question.find((function(e){return e.language===dt()})):void 0,answers:Object(Q.h)(nt().find((function(e){return e.language===dt()})).answers[0].answer),selectedAns:nt().find((function(e){return e.language===dt()})).answers[0]},answerQuestionFn:function(e){ot(e.answers[0])}}),null!==e.candidateExam.selected_question&&null!==Object(g.d)(null===($=e.candidateExam.candidate_exam)||void 0===$||null===(ee=$.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===ee?void 0:ee.type,e.questionTypes.questionTypes)&&Object(g.d)(null===(te=e.candidateExam.candidate_exam)||void 0===te||null===(se=te.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===se?void 0:se.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.Matching&&Object(w.jsx)(M.a,{selectedLanguage:dt(),selectedExam:e.candidateExam.candidate_exam,type:Object(g.d)(null===(ae=e.candidateExam.candidate_exam)||void 0===ae||null===(ne=ae.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===ne?void 0:ne.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.candidateExam.selected_question,question:null!==at()?null===(ie=at())||void 0===ie?void 0:ie.question.find((function(e){return e.language===dt()})):void 0,answers:Object(Q.c)(nt().find((function(e){return e.language===dt()})).answers[0].answer),shuffledAnswers:Object(q.f)(Object(Q.c)(nt().find((function(e){return e.language===dt()})).answers[0].answer)),selectedAns:nt().find((function(e){return e.language===dt()})).answers[0]},answerQuestionFn:function(e){ot(e.answers[0])}}),null!==e.candidateExam.selected_question&&null!==Object(g.d)(null===(de=e.candidateExam.candidate_exam)||void 0===de||null===(oe=de.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===oe?void 0:oe.type,e.questionTypes.questionTypes)&&Object(g.d)(null===(le=e.candidateExam.candidate_exam)||void 0===le||null===(ce=le.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===ce?void 0:ce.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.SimpleCalculate&&Object(w.jsx)(L.a,{type:Object(g.d)(null===(re=e.candidateExam.candidate_exam)||void 0===re||null===(ue=re.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===ue?void 0:ue.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.candidateExam.selected_question,question:null!==at()?null===(me=at())||void 0===me?void 0:me.question.find((function(e){return e.language===dt()})):void 0,answers:Object(Q.g)(nt().find((function(e){return e.language===dt()})).answers[0].answer),selectedAns:nt().find((function(e){return e.language===dt()})).answers[0]},answerQuestionFn:function(e){ot(e.answers[0])}}),null!==e.candidateExam.selected_question&&null!==Object(g.d)(null===(xe=e.candidateExam.candidate_exam)||void 0===xe||null===(pe=xe.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===pe?void 0:pe.type,e.questionTypes.questionTypes)&&Object(g.d)(null===(be=e.candidateExam.candidate_exam)||void 0===be||null===(fe=be.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===fe?void 0:fe.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.ShortAnswer&&Object(w.jsx)(P.a,{type:Object(g.d)(null===(je=e.candidateExam.candidate_exam)||void 0===je||null===(he=je.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===he?void 0:he.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.candidateExam.selected_question,question:null!==at()?null===(_e=at())||void 0===_e?void 0:_e.question.find((function(e){return e.language===dt()})):void 0,answers:Object(Q.f)(0===nt().find((function(e){return e.language===dt()})).answers.length?[]:nt().find((function(e){return e.language===dt()})).answers[0].answer),selectedAns:nt().find((function(e){return e.language===dt()})).answers[0]},answerQuestionFn:function(e){ot(e.answers[0])}}),null!==e.candidateExam.selected_question&&null!==Object(g.d)(null===(ye=e.candidateExam.candidate_exam)||void 0===ye||null===(ve=ye.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===ve?void 0:ve.type,e.questionTypes.questionTypes)&&Object(g.d)(null===(ge=e.candidateExam.candidate_exam)||void 0===ge||null===(we=ge.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===we?void 0:we.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.Numeric&&Object(w.jsx)(R.a,{type:Object(g.d)(null===(Ee=e.candidateExam.candidate_exam)||void 0===Ee||null===(Oe=Ee.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===Oe?void 0:Oe.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.candidateExam.selected_question,question:null!==at()?null===(qe=at())||void 0===qe?void 0:qe.question.find((function(e){return e.language===dt()})):void 0,answers:Object(Q.e)(nt().find((function(e){return e.language===dt()})).answers[0].answer),selectedAns:nt().find((function(e){return e.language===dt()})).answers[0]},answerQuestionFn:function(e){ot(e.answers[0])}}),null!==e.candidateExam.selected_question&&null!==Object(g.d)(null===(Ne=e.candidateExam.candidate_exam)||void 0===Ne||null===(Se=Ne.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===Se?void 0:Se.type,e.questionTypes.questionTypes)&&Object(g.d)(null===(Te=e.candidateExam.candidate_exam)||void 0===Te||null===(ke=Te.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===ke?void 0:ke.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.CalculatedMultipleChoice&&Object(w.jsx)(F.a,{type:Object(g.d)(null===(Ae=e.candidateExam.candidate_exam)||void 0===Ae||null===(Ce=Ae.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===Ce?void 0:Ce.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.candidateExam.selected_question,question:null!==at()?null===(Qe=at())||void 0===Qe?void 0:Qe.question.find((function(e){return e.language===dt()})):void 0,answers:Object(Q.a)(nt().find((function(e){return e.language===dt()})).answers[0].answer),selectedAns:nt().find((function(e){return e.language===dt()})).answers[0]},answerQuestionFn:function(e){ot(e.answers[0])}}),null!==e.candidateExam.selected_question&&null!==Object(g.d)(null===(De=e.candidateExam.candidate_exam)||void 0===De||null===(Me=De.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===Me?void 0:Me.type,e.questionTypes.questionTypes)&&Object(g.d)(null===(Le=e.candidateExam.candidate_exam)||void 0===Le||null===(Pe=Le.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===Pe?void 0:Pe.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.Essay&&Object(w.jsx)(Y.a,{type:Object(g.d)(null===(Re=e.candidateExam.candidate_exam)||void 0===Re||null===(Fe=Re.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===Fe?void 0:Fe.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.candidateExam.selected_question,question:null!==at()?null===(Ie=at())||void 0===Ie?void 0:Ie.question.find((function(e){return e.language===dt()})):void 0,answers:Object(Q.b)(nt().find((function(e){return e.language===dt()})).answers[0].answer),selectedAns:nt().find((function(e){return e.language===dt()})).answers[0]},answerQuestionFn:function(e){ot(e.answers[0])}}),null!==e.candidateExam.selected_question&&null!==Object(g.d)(null===(We=e.candidateExam.candidate_exam)||void 0===We||null===(Ue=We.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===Ue?void 0:Ue.type,e.questionTypes.questionTypes)&&Object(g.d)(null===(ze=e.candidateExam.candidate_exam)||void 0===ze||null===(Ye=ze.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===Ye?void 0:Ye.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.Hybrid&&Object(w.jsx)(H.a,{type:Object(g.d)(null===(He=e.candidateExam.candidate_exam)||void 0===He||null===(Be=He.questions.find((function(t){return t.question_id===e.candidateExam.selected_question})))||void 0===Be?void 0:Be.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.candidateExam.selected_question,question:null!==at()?null===(Ge=at())||void 0===Ge?void 0:Ge.question.find((function(e){return e.language===dt()})):void 0,answers:nt().find((function(e){return e.language===dt()})).answers},wholeQuestion:null!==at()?null===(Je=at())||void 0===Je?void 0:Je.question.find((function(e){return e.language===dt()})):void 0,answerQuestionFn:function(e){console.log("Sub ans: ",e),ot(e.answers[0])},selectedLanguage:dt(),selectedExam:e.candidateExam.candidate_exam})]})]})})})),G=s(19),J=s(67),V=s(145),X=s(146),Z=function(e){var t=Object(m.useState)(!1),s=Object(S.a)(t,2),a=s[0],n=s[1],i=e.candidateExam.candidate_exam?Object(g.a)(e.candidateExam.question_answers,e.candidateExam.candidate_exam.questions,e.questionTypes):[],d=e.candidateExam.candidate_exam?Object(g.b)(e.candidateExam.question_answers,e.candidateExam.candidate_exam.questions,e.questionTypes):[];return!0===e.submitQuestionAnswer?Object(w.jsxs)("div",{className:"bg-white rounded mx-4 my-4",children:[Object(w.jsx)("div",{className:"text-gray-600 mx-4",children:"Saving changes, Please wait..."}),Object(w.jsx)(k.a,{})]}):Object(w.jsx)("div",{className:"pt-4 border-t border-gray-300 ".concat(0===d.length?"bg-gray-100":"bg-white"),children:e.candidateExam.candidate_exam&&i.length!==e.candidateExam.candidate_exam.questions.length&&0!==d.length?Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"grid md:grid-cols-2 h-full",children:[Object(w.jsx)("div",{className:"md:col-span-2 h-full",children:Object(w.jsxs)("div",{className:"mb-3 rounded-t bg-gray-200 h-full px-2 py-4 -mt-4 pl-4 flex flex-row justify-between",children:[Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("div",{className:"text-2xl text-gray-900 font-extrabold mb-2 text-left",children:"Submit with incomplete questions"}),Object(w.jsx)("div",{className:"text-gray-700 text-sm text-left pb-2",children:"Please, make sure to complete the following remaining questions which are not yet answered. Please, if you proceed anyway, for these questions, you will not be marked!"})]}),Object(w.jsx)("div",{className:"mr-4",children:Object(w.jsx)("div",{className:"bg-white hover:text-red-700 hover:bg-red-200 rounded-full p-1 h-10 w-10 flex items-center justify-center",children:Object(w.jsx)(h.z,{className:"cursor-pointer font-extrabold text-3xl",onClick:function(){return e.setSubmitModal(!1)}})})})]})}),!1===a&&Object(w.jsx)("div",{className:"md:col-span-2",children:Object(w.jsxs)("div",{className:"",children:[Object(w.jsxs)("div",{className:"border-2 border-yellow-500 bg-yellow-50 px-2 py-3 rounded mx-4",children:[Object(w.jsx)("div",{className:"text-center mb-5 text-gray-600 font-bold",children:"Pick a question number you want to answer directly"}),Object(w.jsx)("div",{className:"flex justify-center items-center text-center",children:Object(w.jsx)("div",{className:"flex flex-row items-center justify-center gap-4 w-full overflow-x-auto pb-2",children:e.candidateExam.candidate_exam.questions.map((function(t,s){var a;return void 0!==(null===(a=d.find((function(e){return e.question_id===t.question_id})))||void 0===a?void 0:a.question_id)&&Object(w.jsx)("div",{onClick:function(){e.candidateExam.candidate_exam&&e.setSelectedExamQuestion(e.candidateExam.candidate_exam.exam_paper_id,t.question_id),e.setSubmitModal(!1)},className:"w-10 h-10 p-4 rounded-full bg-yellow-600 flex justify-center items-center font-bold text-2xl text-white cursor-pointer",children:s+1},s+1)}))})})]}),Object(w.jsxs)("div",{className:"flex flex-row items-center justify-between my-2 gap-3 mx-4 mb-16",children:[Object(w.jsx)("div",{onClick:function(){return e.setSubmitModal(!1)},className:"bg-gray-300 font-bold text-gray-800 flex items-center rounded px-3 py-2 cursor-pointer hover:bg-gray-400 text-base",children:"Back to edit"}),Object(w.jsx)("div",{onClick:function(){!0===window.confirm("Are you sure do you want submit your exam with question not answered?")&&e.submitExam()},className:"bg-blue-100 text-blue-700 font-bold flex items-center rounded px-3 py-2 cursor-pointer hover:bg-blue-300",children:"Submit anyway"})]})]})})]})}):Object(w.jsxs)("div",{className:"px-4 pb-2",children:[Object(w.jsxs)("div",{className:"flex flex-row items-center justify-between mb-4",children:[Object(w.jsx)("div",{className:"text-blue-700 font-bold",children:!1===a&&Object(w.jsxs)("span",{children:["Hey"," ",Object(w.jsx)("b",{children:Object(w.jsx)("u",{children:e.auth.user.fname})}),", All questions have been answered, are you sure do you want to submit the final answers?"]})}),Object(w.jsx)("div",{className:"bg-white hover:text-red-700 hover:bg-red-200 rounded-full p-1 h-10 w-10 flex items-center justify-center",children:Object(w.jsx)(h.z,{className:"cursor-pointer font-extrabold text-3xl",onClick:function(){return e.setSubmitModal(!1)}})})]}),!1===a&&Object(w.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(w.jsx)("div",{onClick:function(){return e.setSubmitModal(!1)},className:"btn cursor-pointer bg-gray-300 hover:bg-gray-400 text-gray-800 flex flex-row gap-2",children:Object(w.jsx)("span",{className:"",children:"Back to edit"})}),Object(w.jsxs)("div",{onClick:function(){n(!0)},className:"btn cursor-pointer bg-blue-600 hover:bg-blue-800 text-white flex flex-row items-center gap-2 animate__animated animate__zoomIn",children:[Object(w.jsx)(h.u,{className:"text-3xl"}),Object(w.jsx)("span",{className:"",children:"Submit exam"})]})]}),!1===a?Object(w.jsxs)("div",{className:"my-2",children:[Object(w.jsx)("div",{className:"font-extrabold text-xl text-yellow-900 my-2 mt-4",children:"Verify your answers"}),Object(w.jsx)("div",{className:"flex flex-col gap-3 overflow-y-auto",style:{maxHeight:"100%"},children:null===e.candidateExam.candidate_exam?Object(w.jsx)(k.a,{}):i.length>0&&i.map((function(t,s){return Object(w.jsx)("div",{className:"bg-white hover:bg-white border border-white hover:border-blue-400 px-2 py-2 rounded  animate__animated animate__fadeIn animate__fast group",children:Object(w.jsxs)("div",{className:"grid md:grid-cols-12 w-full",children:[Object(w.jsxs)("div",{className:"col-span-11 flex flex-row items-center gap-3",children:[Object(w.jsx)("div",{className:"w-6 h-6 p-2 rounded-full bg-gray-600 flex justify-center items-center font-bold text-lg text-white cursor-pointer",children:s+1},s+1),Object(w.jsxs)("div",{className:"text-sm w-full",children:[void 0!==t.question.find((function(t){return t.language===e.selectedLanguage}))?Object(g.d)(t.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.Embedded?Object(z.a)(t,e.questionTypes.questionTypes,e.selectedLanguage,e.candidateExam.question_answers,(function(e){})):Object(w.jsx)("div",{className:"font-bold text-gray-700 text-base",dangerouslySetInnerHTML:{__html:t.question.find((function(t){return t.language===e.selectedLanguage})).description}}):t.question.length>0&&Object(w.jsx)("div",{className:"font-bold text-gray-700 text-base max-h-20 truncate",dangerouslySetInnerHTML:{__html:t.question[0].description}}),Object(w.jsxs)("div",{className:"text-blue-700 font-bold text-sm w-full",children:[Object(g.d)(t.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.Embedded?"":"Answer:","\xa0"," ",null!==e.questionTypes.questionTypes&&Object(g.d)(t.type,e.questionTypes.questionTypes)===U.questionTypeElementsType.Hybrid?Object(w.jsx)(X.a,{auth:e.auth,candidateExam:e.candidateExam,system:e.system,setSelectedExamQuestion:e.setSelectedExamQuestion,submitQuestionAnswer:e.submitQuestionAnswer,questionTypes:e.questionTypes,loadQuestionTypes:e.loadQuestionTypes,submitExam:e.submitExam,selectedExam:e.selectedExam,setSubmitModal:e.setSubmitModal,selectedLanguage:e.selectedLanguage,wholeQuestion:t,answersList:e.candidateExam.question_answers}):null!==e.questionTypes.questionTypes&&Object(w.jsx)(V.a,{selectedLanguage:e.selectedLanguage,question:t,answersList:e.candidateExam.question_answers,questionTypes:e.questionTypes.questionTypes,onClick:function(){e.candidateExam.candidate_exam&&e.setSelectedExamQuestion(e.candidateExam.candidate_exam.exam_paper_id,t.question_id),e.setSubmitModal(!1)},showCorrectAnswer:!1})]})]})]}),Object(w.jsx)("div",{className:"col-span-12 md:col-span-1 float-right flex items-center justify-end pt-2 md:pt-0",children:Object(w.jsx)("div",{onClick:function(){e.candidateExam.candidate_exam&&e.setSelectedExamQuestion(e.candidateExam.candidate_exam.exam_paper_id,t.question_id),e.setSubmitModal(!1)},className:"bg-blue-100 rounded px-2 py-1 text-center float-right cursor-pointer font-bold text-md text-blue-600 border border-blue-400 group-hover:bg-blue-600 group-hover:text-white group-hover:border-none flex items-center justify-center h-max md:ml-3",children:"Edit"})})]})},s+1)}))})]}):Object(w.jsx)("div",{className:"flex flex-row items-center justify-center mb-10 -mt-5",children:Object(w.jsxs)("div",{className:"bg-white rounded-md p-6 animate__animated animate__zoomIn animate__faster w-max border border-gray-300",children:[Object(w.jsx)("div",{className:"flex flex-row items-center justify-center w-full",children:Object(w.jsx)(J.k,{className:"text-7xl"})}),Object(w.jsx)("div",{className:"text-center text-2xl",children:Object(w.jsx)("span",{className:"text-black",children:"Are you sure do you want to submit your exam?"})}),Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"flex flex-row items-center justify-center my-2 gap-3 mx-4 mb-16",children:[Object(w.jsx)("div",{onClick:function(){return n(!1)},className:"bg-gray-200 font-bold text-gray-800 hover:text-white flex items-center rounded px-3 py-2 cursor-pointer hover:bg-gray-600 text-base",children:"No, back to edit"}),Object(w.jsx)("div",{onClick:function(){e.submitExam()},className:"bg-green-700 hover:bg-green-900 text-white font-bold flex items-center rounded px-3 py-2 cursor-pointer",children:"Yes, submit exam"})]})})]})})]})})},K=s(807),$=Object(_.b)((function(e){return{auth:e.auth,candidateExam:e.candidateExam,system:e.system}}),{SubmitExamAnswers:y.Zb,setSelectedExamQuestion:y.id})((function(e){var t,s,a,n=e.candidateExam.candidate_exam?Object(g.c)(e.candidateExam.question_answers,e.candidateExam.candidate_exam.questions,e.questionTypes):0,i=e.candidateExam.candidate_exam?100*n/e.candidateExam.candidate_exam.questions.length:0;return Object(w.jsxs)(m.Fragment,{children:[Object(w.jsx)("div",{className:"bg-gray-800",children:Object(w.jsxs)("div",{className:"grid grid-cols-12 md:grid-cols-6",children:[Object(w.jsx)("div",{className:"col-span-6 md:col-span-2 lg:col-span-2 text-white flex flex-row justify-start items-center gap-2",children:Object(w.jsxs)("div",{className:"text-white flex flex-row items-center pl-1 py-3 lg:py-0 w-full",children:[Object(w.jsx)("div",{children:Object(w.jsx)(j.j,{className:"text-3xl ml-0"})}),Object(w.jsxs)("div",{className:"mr-3 ml-1 lg:ml-3 flex flex-col w-full",children:[Object(w.jsx)("span",{className:"font-bold text-lg truncate -mb-1",children:null===(t=e.selectedExam)||void 0===t?void 0:t.course_name}),Object(w.jsxs)("span",{className:"text-gray-300 text-xs truncate",children:["Code: ",null===(s=e.selectedExam)||void 0===s?void 0:s.course_code]})]})]})}),Object(w.jsx)("div",{className:"col-span-6 md:col-span-4 lg:col-span-4",style:{alignSelf:"center"},children:Object(w.jsxs)("div",{className:"grid md:grid-cols-8 lg:grid-cols-12",children:[Object(w.jsxs)("div",{className:"hidden col-span-3 md:flex flex-col justify-center items-center h-full gap-1",children:[Object(w.jsxs)("div",{className:"text-gray-200 text-sm w-full hidden lg:block",children:["Completed ",n," of"," ",e.candidateExam.candidate_exam&&e.candidateExam.candidate_exam.questions.length]}),Object(w.jsx)("div",{className:"bg-gray-600 h-3 w-full rounded-full shadow-md hidden lg:block",children:Object(w.jsx)("div",{className:"bg-gray-400 h-3 w-60 rounded-full shadow-md",style:{width:"".concat(i,"%")}})}),Object(w.jsx)("div",{className:"h-auto my-2 w-full bg-gray-700 rounded-full flex justify-start items-center shadow-lg lg:hidden",children:Object(w.jsx)("div",{className:"rounded-full bg-gray-500 h-full text-xs flex items-center justify-center font-bold text-white",style:{width:"".concat(i,"%")},children:Object(w.jsxs)("div",{className:"relative left-0 bg-gray-500 px-1 rounded-full",children:[i.toFixed(0),"%"]})})})]}),Object(w.jsx)("div",{className:"col-span-4 hidden lg:block h-full",children:Object(w.jsx)("div",{className:"flex flex-row justify-center items-center h-full",children:Object(w.jsxs)("div",{className:"flex flex-col text-sm justify-center items-center text-gray-400",children:[Object(w.jsxs)("div",{children:["Start time:"," ",Object(w.jsx)("span",{className:"font-bold text-gray-200",children:null===(a=e.candidateExam.candidate_exam)||void 0===a?void 0:a.start_time})]}),Object(w.jsxs)("div",{children:["Duration:"," ",Object(w.jsxs)("span",{className:"font-bold text-gray-200",children:[e.candidateExam.candidate_exam&&e.candidateExam.candidate_exam.duration/60>1?(e.candidateExam.candidate_exam.duration/60).toFixed(0)+" hours":e.candidateExam.candidate_exam&&(e.candidateExam.candidate_exam.duration/60).toFixed(0)+" hour",e.candidateExam.candidate_exam&&e.candidateExam.candidate_exam.duration%60>0&&", "+e.candidateExam.candidate_exam.duration%60+" mins"]})]})]})})}),Object(w.jsx)("div",{className:"col-span-5 bg-gray-800",children:Object(w.jsx)("div",{className:"flex flex-row justify-between md:justify-end items-center h-full gap-2",children:Object(w.jsxs)("div",{className:"flex flex-col text-xs items-end justify-start text-gray-200 pl-2 md:pl-0 w-full md:pr-2",children:[Object(w.jsx)("span",{children:"Counting down"}),Object(w.jsx)("div",{className:"text-lg lg:text-xl font-bold",children:Object(w.jsx)(K.a,{room_id:e.room_id,timeout:function(){return e.timeout()},returnString:!0,labels:!0})})]})})})]})})]})}),!0===e.submitModalStatus&&Object(w.jsx)(G.d,{title:"",backDrop:!0,theme:(e.candidateExam.question_answers.length,G.c.default),close:function(){return e.setSubmitModal(!1)},backDropClose:!0,widthSizeClass:G.b.maxWidth,displayClose:!1,padding:{title:!1},marginTop:G.a.small,children:Object(w.jsx)(Z,{auth:e.auth,candidateExam:e.candidateExam,system:e.system,setSelectedExamQuestion:e.setSelectedExamQuestion,submitQuestionAnswer:e.submitQuestionAnswer,questionTypes:e.questionTypes,loadQuestionTypes:e.loadQuestionTypes,submitExam:e.submitExam,selectedExam:e.selectedExam,setSubmitModal:e.setSubmitModal,selectedLanguage:e.candidateExam.selected_language})})]})})),ee=s(48),te=s(37),se=s(340),ae=s(339),ne=s(21),ie=function(e){var t,s,a,n,i,d=function(){var t=null;if(null!==e.examDetails())switch(e.rule_key){case"right_click_enabled":t={value:"Right click",status:e.examDetails().rules.right_click_enabled};break;case"copy_enabled":t={value:"Copy text",status:e.examDetails().rules.copy_enabled};break;case"paste_enabled":t={value:"Paste item or text",status:e.examDetails().rules.paste_enabled};break;case"stop_candidate_when_comeback":t={value:"Coming back after leaving",status:e.examDetails().rules.stop_candidate_when_comeback};break;case"allow_to_leave_browser":t={value:"Leave browser",status:e.examDetails().rules.allow_to_leave_browser}}return t};return Object(w.jsxs)("div",{className:"flex flex-row items-center justify-between w-full border-b py-2",children:[Object(w.jsxs)("div",{className:"flex flex-row items-center ".concat(!0===(null===(t=d())||void 0===t?void 0:t.status)?"text-blue-600 font-bold":"text-yellow-800 font-bold"),children:[!0===(null===(s=d())||void 0===s?void 0:s.status)?Object(w.jsx)(h.v,{className:"text-2xl mr-3"}):Object(w.jsx)(h.P,{className:"text-2xl mr-3"}),Object(w.jsx)("span",{children:null===(a=d())||void 0===a?void 0:a.value})]}),Object(w.jsx)("span",{className:"rounded-full px-3 py-1 border font-bold ".concat(!0===(null===(n=d())||void 0===n?void 0:n.status)?"bg-white text-blue-800 border-blue-100":"bg-yellow-50 text-yellow-800 border-yellow-100"),children:!0===(null===(i=d())||void 0===i?void 0:i.status)?"Allowed":"Prohibited"})]})},de=function(e){Object(r.a)(s,e);var t=Object(u.a)(s);function s(e){var i,c;return Object(l.a)(this,s),(c=t.call(this,e)).setRequestingExamMarks=function(e){c.setState({requesting_exam_marks:e})},c.setExamTotalMarks=function(e){c.setState({total_exam_marks:e})},c.setLoading=function(e){c.setState({loading:e})},c.setSubmitQuestionAnswer=function(e){c.setState({submitQuestionAnswer:e})},c.setProfileWindowStatus=function(e){c.setState({windowStatus:{profile:e,questionsList:c.state.windowStatus.questionsList}})},c.setQuestionsListWindowStatus=function(e){c.setState({windowStatus:{profile:c.state.windowStatus.profile,questionsList:e}})},c.setSelectedQuestion=function(e){c.setState({selectedQuestion:e})},c.answerQuestionFn=function(e){console.log("sUBMITT: ",e),c.props.setExamQuestionAnswer(e)},c.setCompletedTest=function(e){c.setState({completedTest:e})},c.changingExamStatusLoading=function(e){c.setState({changingExamStatus:e})},c.initializeEmptyList=function(){var e=localStorage.getItem(y.a.ADD_ANSWER);if(null!==e){var t=JSON.parse(e).questionAnswers;if(t&&t.length>0){var s;for(var a in t)c.props.addExamAnswer(t[a]);t.length===(null===(s=c.props.doExam.exam_answers)||void 0===s?void 0:s.exam_questions.length)&&(c.setState({completedTest:!0}),c.props.SubmitExamAnswers(c.props.auth.user.n_id))}}},c.examDetails=function(){if(null!==c.props.periods.selected_period){var e=c.props.candidateExam.selected_exam_details;if(null!==e)return e}return null},c.checkUserExam=function(e){null!==c.props.positions.selected_position&&null!==c.props.candidateExam.selected_exam_details&&null!==c.props.candidateExam.exam_room_details&&c.props.RequestUserExamDetails({user:c.props.auth.user.user_id,position:c.props.positions.selected_position.position_id,exam:e,userExamLocation:{district_id:c.props.candidateExam.exam_room_details.district_id,center_id:c.props.candidateExam.exam_room_details.center_id,room_id:c.props.candidateExam.exam_room_details.room_id}},c.setLoading,c.setLoadExamResultMessage,c.props.BackToExamination)},c.RequestUserExamManually=function(){var e=Object(o.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.setLoading(!0),e.prev=1,e.next=4,b.a.get("".concat(v.a.DO_EXAM,"/exampaper/").concat(t));case 4:s=e.sent,console.log("Loaded from bakend: ",s.data),s.data&&null===c.props.candidateExam.candidate_exam&&(c.props.loadCandidateExamFromSupervisor(s.data,null!==c.state.candidateDetailsProctoring&&!0===c.state.candidateDetailsProctoring.user.joined),c.props.PushPopupAlert({title:"Success!",description:"Exam loaded from server successfully!",theme:ne.a.success}),c.setLoading(!1)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),c.setLoading(!1),console.log("No exam found!"),c.props.PushPopupAlert({title:"Error!",description:"Failed to load candidate exam",theme:ne.a.danger});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),c.loadUserProfileDetails=function(){c.setState({loading:!0}),c.props.FC_GetProfileDetails(c.props.auth.user.user_id,(function(e,t){c.setState({loading:!1})})),c.setState({loading:!1})},c.componentDidMount=function(){var e,t,s;(""!==c.props.auth.user.sex&&0!==c.props.auth.user.sex.length||c.loadUserProfileDetails(),null!==c.props.course.courses&&0!==c.props.course.courses.length||c.props.loadCourses(c.setLoading),null!==c.props.questionTypes.questionTypes&&0!==c.props.questionTypes.questionTypes.length||c.props.loadQuestionTypes(c.setLoading),c.initializeEmptyList(),0===(null===(e=c.props.doExam.exam_answers)||void 0===e?void 0:e.exam_questions.length)&&c.props.doExam.exam_answers.exam_questions_answers&&(null===(t=c.props.doExam.exam_answers.exam_questions_answers)||void 0===t?void 0:t.questionAnswers.length)>0)&&c.setState({testAnswers:null===(s=c.props.doExam.exam_answers.exam_questions_answers)||void 0===s?void 0:s.questionAnswers})},c.componentWillUnmount=function(){c.props.candidateExam.exam_room_details&&c.props.socket.socket.emit(T.e.USER_DISCONNECTED_ONLINE_SERVER,{room_id:c.props.candidateExam.exam_room_details.room_id,user_id:c.props.auth.user.user_id})},c.setLoadExamResultNoMessage=function(e,t){!1===t&&c.props.PushPopupAlert({title:"Error!",description:e,theme:ne.a.danger})},c.setLoadExamResultMessage=function(e,t){(c.props.PushPopupAlert({title:!0===t?"Success!":"Error!",description:e,theme:!0===t?ne.a.success:ne.a.danger}),!1===t&&null!==c.props.candidateExam.candidate_exam)&&(void 0===c.props.candidateExam.user_exams_done.find((function(e){var t;return e.exam_paper===(null===(t=c.props.candidateExam.candidate_exam)||void 0===t?void 0:t.exam_paper_id)}))&&c.props.CleanCandidateExam(c.props.candidateExam.candidate_exam.exam_paper_id))},c.SubmitAnswer=function(){if(null!==c.props.candidateExam.candidate_exam&&c.props.candidateExam.question_answers.length>0){var e,t=[],s=Object(n.a)(c.props.candidateExam.candidate_exam.questions);try{for(s.s();!(e=s.n()).done;){var i=e.value;t=[].concat(Object(a.a)(t),[i.question_id])}}catch(r){s.e(r)}finally{s.f()}var d,o=Object(n.a)(c.props.candidateExam.question_answers);try{var l=function(){var e=d.value,s=c.props.candidateExam.candidate_exam.questions.find((function(t){return t.question_id===e.question_id}));!1===e.status&&c.props.candidateExam.exam_room_details&&void 0!==s&&!0===Object(g.f)(c.props.candidateExam.question_answers,s,Object(g.d)(s.type,c.props.questionTypes.questionTypes))&&c.props.SubmitExamQuestionAnswer({user:c.props.auth.user.user_id,exam_paper:c.props.candidateExam.candidate_exam.exam_paper_id,position:c.props.candidateExam.exam_room_details.position.position_id,disability:c.props.auth.user.disability,fname:c.props.auth.user.fname,lname:c.props.auth.user.lname,gender:c.props.auth.user.sex,email:c.props.auth.user.email,phone_number:c.props.auth.user.phone_number,in_education:null!==c.props.auth.user.in_education&&c.props.auth.user.in_education,questions_order:t,question:e.question_id,language:void 0===s.question.find((function(e){return e.language===c.props.candidateExam.selected_language}))?s.question[0].language:c.props.candidateExam.selected_language,userAnswer:e.answers,position_code:null===c.props.candidateExam.exam_room_details.position.position_code?"":c.props.candidateExam.exam_room_details.position.position_code},c.setSubmitQuestionAnswer,c.setLoadExamResultNoMessage)};for(o.s();!(d=o.n()).done;)l()}catch(r){o.e(r)}finally{o.f()}}},c.submitExam=Object(o.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===c.props.candidateExam.candidate_exam||null===c.props.candidateExam.exam_room_details){e.next=15;break}return t=c.props.candidateExam.candidate_exam.exam_paper_id,s=c.props.auth.user.user_id,c.setState({submitWholeExam:!0}),e.prev=4,e.next=7,b.a.put("".concat(v.a.DO_EXAM,"/answersheet/submit/").concat(s,"/").concat(t));case 7:e.sent&&(c.doneExam(),c.setState({submittedExam:!0}),document.fullscreenElement&&document.exitFullscreen&&document.exitFullscreen(),c.props.PushPopupAlert({title:"Success!",description:"Exam submitted successfully!",theme:ne.a.success})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),c.props.PushPopupAlert({title:"Error occured!",description:Object(q.h)(e.t0),theme:ne.a.danger});case 14:c.setState({submitWholeExam:!1});case 15:case"end":return e.stop()}}),e,null,[[4,11]])}))),c.setSubmitModal=function(e){c.setState({submitModalStatus:e})},c.startExam=function(){c.setState({display_exam:!0,start_exam:!0}),null!==c.props.candidateExam.selected_exam_id&&c.requestExam(c.props.candidateExam.selected_exam_id,(function(e,t){console.log("Requested exam on socket 1: ",t),null===t&&null!==c.props.candidateExam.selected_exam_id?c.RequestUserExamManually(c.props.candidateExam.selected_exam_id):!0===e&&c.props.loadCandidateExamFromSupervisor(t,null!==c.state.candidateDetailsProctoring&&!0===c.state.candidateDetailsProctoring.user.joined)}))},c.pauseExam=function(){c.setState({display_exam:!1,start_exam:!1,inExam:!1})},c.doneExam=function(){if(null!==c.props.candidateExam.exam_room_details&&null!==c.props.candidateExam.candidate_exam&&null!==c.props.schoolLevels.selectedEducationCategory){var e,t=c.props.candidateExam.exam_room_details.room_id,s={application_session_id:null===(e=c.props.schoolLevels.selectedEducationCategory.session_plan)||void 0===e?void 0:e._id,description:"Done the exam",done_by:"System",event_type_id:T.f.DONE_EXAM,exam_id:c.props.candidateExam.candidate_exam.exam_paper_id,position_id:c.props.candidateExam.exam_room_details.position.position_id,room_id:t,time:(new Date).toString(),user_id:c.props.auth.user.user_id};c.props.FC_SaveEvent(s,(function(e,t){})),c.props.socket.socket.emit(T.e.EXAM_DONE_SERVER,s)}},c.timeOutExam=function(){if(null!==c.props.candidateExam.exam_room_details&&null!==c.props.candidateExam.candidate_exam&&null!==c.props.schoolLevels.selectedEducationCategory){var e,t=c.props.candidateExam.exam_room_details.room_id,s={application_session_id:null===(e=c.props.schoolLevels.selectedEducationCategory.session_plan)||void 0===e?void 0:e._id,description:"Time out",done_by:"System",event_type_id:T.f.TIME_OUT,exam_id:c.props.candidateExam.candidate_exam.exam_paper_id,position_id:c.props.candidateExam.exam_room_details.position.position_id,room_id:t,time:(new Date).toString(),user_id:c.props.auth.user.user_id};c.props.FC_SaveEvent(s,(function(e,t){})),c.props.socket.socket.emit(T.e.TIME_OUT_SERVER,s),c.submitExam()}},c.requestExam=function(e,t){console.log("Requested exam ID: ",e),c.props.socket.socket.emit(T.e.REQUEST_EXAM_SERVER,e,t)},c.state={windowStatus:{profile:!1,questionsList:!1},selectedQuestion:null!==c.props.doExam.exam_answers?null===(i=c.props.doExam.exam_answers)||void 0===i?void 0:i.exam_questions[0]:null,testAnswers:[],completedTest:!1,examStatus:!1,loading:!1,loadUserExamErr:"",submitQuestionAnswer:!1,submitWholeExam:!1,display_exam:!1,changingExamStatus:!1,start_exam:!1,start_time:"",duration:0,added_minutes:0,group_id:"",inExam:!1,submittedExam:!1,candidateDetailsProctoring:null,submitModalStatus:!1,requesting_exam_marks:!1,total_exam_marks:null},c}return Object(c.a)(s,[{key:"render",value:function(){var e,t,s,a=this;return null===this.props.candidateExam.selected_exam_id?Object(w.jsx)(te.a,{to:"/candidate-exams"}):!0===this.state.loading||null===this.props.candidateExam.exam_room_details?Object(w.jsx)("div",{className:"fixed top-0 left-0 z-50 rounded px-4 py-4 bg-gray-200 w-full h-screen flex flex-col items-center justify-center",children:Object(w.jsxs)("div",{className:"bg-white rounded mx-4 my-4 px-4 py-4 w-full h-full",children:[Object(w.jsx)("div",{className:"text-gray-600 text-lg px-4 mb-4",children:"Loading, Please wait..."}),Object(w.jsx)(k.a,{})]})}):!0===this.state.submitWholeExam?Object(w.jsx)("div",{className:"fixed top-0 left-0 z-50 rounded px-4 py-4 bg-gray-200 w-full h-screen flex flex-col items-center justify-center",children:Object(w.jsxs)("div",{className:"bg-white rounded mx-4 my-4 px-4 py-4 w-full h-full",children:[Object(w.jsx)("div",{className:"text-gray-600 text-lg px-4 mb-4",children:"Submitting your exam, Please wait..."}),Object(w.jsx)(k.a,{})]})}):!0===this.props.auth.socket_failed?Object(w.jsxs)("div",{className:" py-8 mt-2 text-center rounded container mx-auto",children:[Object(w.jsx)(h.Rb,{size:100,className:"mx-auto text-yellow-500 opacity-70 animate__animated animate__fadeIn animate__infinite animate__slow"}),Object(w.jsxs)("h3",{className:"pt-6 text-xl text-gray-600",children:["Your computer is not connected to the ",Object(w.jsx)("b",{children:"Live-server"})]}),Object(w.jsx)("p",{children:"PLease refresh your browser, or use incognito mode"})]}):Object(w.jsx)("div",{className:"fixed top-0 left-0 z-50 w-full",children:Object(w.jsxs)(m.Fragment,{children:[!1===this.state.inExam?Object(w.jsx)("div",{className:"fixed top-0 left-0 z-50 rounded px-4 py-4 bg-gray-200 w-full h-screen flex flex-col items-center justify-center",children:Object(w.jsxs)("div",{className:"bg-white rounded mx-4 my-4 px-4 py-4 w-full h-full",children:[Object(w.jsx)("div",{className:"text-white text-lg px-4 mb-4",children:"Confirm"}),Object(w.jsxs)("div",{className:"flex flex-col items-center justify-center mb-10",children:[Object(w.jsx)(k.a,{}),Object(w.jsx)("div",{className:"text-yellow-800 text-xl font-bold my-5",children:"Something went wrong, retry again!"}),Object(w.jsx)("div",{onClick:function(){return window.location.reload()},className:"btn bg-yellow-100 text-yellow-800 border border-yellow-600 w-max text-center cursor-pointer",children:"Click here to reload"})]})]})}):Object(w.jsx)(se.a,{homeProctoring:!1,startExam:function(){a.startExam(),a.setState({start_exam:!0})},restartExam:function(){if(null!==a.props.candidateExam.candidate_exam){var e=a.props.candidateExam.candidate_exam.exam_paper_id;a.props.CleanCandidateExamAnswers(e),a.props.setExamStatus(a.props.auth.user.user_id,e,ee.a.Restart,"Exam restarted by supervisor",a.changingExamStatusLoading)}a.startExam(),a.setState({start_exam:!0}),a.setState({inExam:!0})},stopExam:function(){a.pauseExam(),null!==a.props.candidateExam.candidate_exam&&a.props.setExamStatus(a.props.auth.user.user_id,a.props.candidateExam.candidate_exam.exam_paper_id,ee.a.Done,"All candidates ended by supervisor",a.changingExamStatusLoading),null!==a.props.candidateExam.candidate_exam&&a.props.CleanCandidateExam(a.props.candidateExam.candidate_exam.exam_paper_id)},room_id:this.props.candidateExam.exam_room_details.room_id,exam_id:null===this.props.candidateExam.candidate_exam?this.props.candidateExam.selected_exam_id:this.props.candidateExam.candidate_exam.exam_paper_id,position_id:this.props.candidateExam.exam_room_details.position.position_id,application_session_id:this.props.candidateExam.exam_room_details.period_id,removeClient:function(){null!==a.props.candidateExam.candidate_exam&&a.props.setExamStatus(a.props.auth.user.user_id,a.props.candidateExam.candidate_exam.exam_paper_id,ee.a.Removed,"Exam stopped by supervisor",a.changingExamStatusLoading),null!==a.props.candidateExam.candidate_exam&&a.props.CleanCandidateExam(a.props.candidateExam.candidate_exam.exam_paper_id)},examAlreadyDone:function(){},candidateStopExam:function(e){},candidateContinueExam:function(e){a.startExam(),a.setState({start_exam:!0}),a.setState({inExam:!0})},joinedRoom:function(e){a.setState({group_id:e.group_id})},changeTime:function(e){a.setState({duration:e.duration,start_time:e.start_time})},candidateProctoringDetails:function(e){a.setState({candidateDetailsProctoring:e}),!0===e.user.joined&&(a.startExam(),a.props.candidateExam.candidate_exam&&a.props.requestUserAnswers(a.props.candidateExam.candidate_exam.exam_paper_id,a.props.auth.user.user_id,a.setLoading)),console.log("Joined: ",e.user.joined)},ejectCandidate:function(e){},children:!1===this.state.start_exam||null===this.props.candidateExam.candidate_exam&&!0===this.state.inExam||null===this.props.candidateExam.candidate_exam||null===this.props.candidateExam.candidate_exam||!1===this.props.proctoring.exam.start_exam?Object(w.jsx)("div",{className:"fixed top-0 left-0 z-50 rounded px-4 py-4 bg-gray-200 w-full h-screen flex flex-col items-center justify-center",children:Object(w.jsxs)("div",{className:"bg-white rounded mx-4 my-4 px-4 py-4 w-full h-full flex flex-col items-center justify-center",children:[Object(w.jsx)(h.S,{className:"text-9xl text-blue-600"}),Object(w.jsx)("div",{className:"text-gray-700 text-3xl px-4 text-center font-extrabold",children:"Please wait for the supervisor"}),Object(w.jsx)("div",{className:"text-gray-700 text-sm px-4 mb-4 text-center",children:"The supervisor will allow you to start your exam, please wait or contact him/her when forgot to let you start exam!"}),Object(w.jsx)(k.a,{}),Object(w.jsx)("div",{className:"flex flex-row items-center -mt-2",children:Object(w.jsx)("div",{onClick:function(){return window.location.reload()},className:"btn bg-blue-100 text-blue-600 cursor-pointer hover:bg-blue-200 hover:text-blue-808",children:"Reload page"})})]})}):Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"fixed top-0 w-full h-screen bg-blue-900 overflow-y-hidden",children:[Object(w.jsxs)("div",{className:"grid md:grid-cols-12 h-full",children:[!0===this.state.windowStatus.profile&&Object(w.jsx)("div",{className:"col-span-6 lg:col-span-2 fixed left-0 md:relative",children:Object(w.jsx)(N,{setProfileWindowStatus:this.setProfileWindowStatus})}),Object(w.jsx)("div",{className:"col-span-".concat(!1===this.state.windowStatus.profile?"12":"10"," bg-gray-800 shadow-lg h-full"),children:Object(w.jsxs)("div",{className:"flex flex-row h-screen bg-gray-800",children:[Object(w.jsx)("div",{className:"h-full",children:Object(w.jsx)("div",{className:"h-full",children:Object(w.jsx)(ae.a,{windowStatus:this.state.windowStatus,setProfileWindowStatus:this.setProfileWindowStatus,setQuestionsListWindowStatus:this.setQuestionsListWindowStatus,questionTypes:this.props.questionTypes,loadQuestionTypes:this.props.loadQuestionTypes,SubmitAnswer:this.SubmitAnswer})})}),Object(w.jsxs)("div",{className:"w-full h-full",children:[Object(w.jsx)($,{room_id:this.props.candidateExam.exam_room_details.room_id,submitModalStatus:this.state.submitModalStatus,setSubmitModal:this.setSubmitModal,setCompletedTest:this.setCompletedTest,windowStatus:this.state.windowStatus,setProfileWindowStatus:this.setProfileWindowStatus,setQuestionsListWindowStatus:this.setQuestionsListWindowStatus,questionTypes:this.props.questionTypes,loadQuestionTypes:this.props.loadQuestionTypes,submitQuestionAnswer:this.state.submitQuestionAnswer,submitExam:function(){a.submitExam()},selectedExam:this.props.course.selected_course,SubmitAnswer:this.SubmitAnswer,start_time:this.state.start_time,duration_min:this.state.duration,timeout:function(){return a.timeOutExam()},setRequestingExamMarks:this.setRequestingExamMarks,setExamTotalMarks:this.setExamTotalMarks}),Object(w.jsx)(B,{questionAnswers:null===(e=this.props.doExam.exam_answers)||void 0===e||null===(t=e.exam_questions_answers)||void 0===t?void 0:t.questionAnswers,answerQuestionFn:this.answerQuestionFn,selectedQuestion:this.state.selectedQuestion,setSelectedQuestion:this.setSelectedQuestion,preview:!1,submitQuestionAnswer:this.state.submitQuestionAnswer,doExam:this.props.doExam})]})]})})]}),Object(w.jsx)(E,{setSubmitModal:this.setSubmitModal,windowStatus:this.state.windowStatus,setProfileWindowStatus:this.setProfileWindowStatus,setQuestionsListWindowStatus:this.setQuestionsListWindowStatus,questionTypes:this.props.questionTypes,loadQuestionTypes:this.props.loadQuestionTypes,SubmitAnswer:this.SubmitAnswer,submitQuestionAnswer:this.state.submitQuestionAnswer,setRequestingExamMarks:this.setRequestingExamMarks,setExamTotalMarks:this.setExamTotalMarks})]})})}),null===this.props.candidateExam.candidate_exam&&!1===this.state.inExam&&Object(w.jsx)(G.d,{title:"",backDrop:!0,theme:G.c.default,close:function(){return a.props.setSelectedCandidateExam(null)},backDropClose:!1,widthSizeClass:G.b.extraLarge,displayClose:!1,padding:{title:!1},children:Object(w.jsx)("div",{className:"rounded px-4 py-4 mx-2 my-2",children:null===this.props.course.courses?Object(w.jsx)(k.a,{}):Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"flex flex-row items-center gap-2",children:Object(w.jsxs)("div",{className:"my-2 w-full",children:[Object(w.jsx)("div",{className:"text-blue-600 text-2xl font-extrabold mb-2",children:this.props.course.selected_course&&Object(w.jsxs)("div",{children:[Object(w.jsxs)("span",{children:[this.props.course.selected_course.course_code,"-"]}),Object(w.jsx)("span",{children:this.props.course.selected_course.course_name})]})}),Object(w.jsxs)("div",{className:"flex flex-row gap-3 text-sm",children:[Object(w.jsx)("span",{className:"text-gray-600 font-normal",children:"Exam date:"}),Object(w.jsx)("span",{className:"text-blue-600 font-bold",children:this.examDetails()&&Object(q.a)(this.examDetails().exam_date,"DD/MM/YYYY")})]}),Object(w.jsxs)("div",{className:"flex flex-row gap-3 text-sm",children:[Object(w.jsx)("span",{className:"text-gray-600 font-normal",children:"Start time:"}),Object(w.jsx)("span",{className:"text-blue-600 font-bold",children:null===(s=this.examDetails())||void 0===s?void 0:s.start_time})]}),Object(w.jsxs)("div",{className:"flex flex-row gap-3 text-sm",children:[Object(w.jsx)("span",{className:"text-gray-600 font-normal",children:"Exam duration:"}),null!==this.examDetails()&&Object(w.jsxs)("span",{className:"text-blue-600 font-bold",children:[this.examDetails().duration/60>=1&&this.examDetails().duration/60+" hrs"," ",this.examDetails().duration%60>0&&Object(w.jsxs)("span",{children:[this.examDetails().duration%60," mins"]})]})]})]})}),Object(w.jsx)("div",{className:"flex flex-row justify-center items-center"}),Object(w.jsxs)("div",{className:"text-gray-600 font-bold text-l text-center mb-4",children:[Object(w.jsxs)("div",{className:"rounded px-4 py-4 bg-gray-100 my-4 text-sm text-left font-normal",children:[Object(w.jsx)("div",{className:"text-left text-gray-800 text-xl mb-3 font-extrabold",children:"Examination rules"}),null!==this.examDetails()&&Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:this.examDetails().termes}})]}),Object(w.jsxs)("div",{className:"rounded px-4 py-4 bg-gray-100 my-4 text-sm text-left font-normal",children:[Object(w.jsx)("div",{className:"text-left text-gray-800 text-xl mb-3 font-extrabold",children:"Exam Proctoring rules"}),null!==this.examDetails()&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ie,{examDetails:this.examDetails,rule_key:"right_click_enabled"}),Object(w.jsx)(ie,{examDetails:this.examDetails,rule_key:"copy_enabled"}),Object(w.jsx)(ie,{examDetails:this.examDetails,rule_key:"paste_enabled"}),Object(w.jsx)(ie,{examDetails:this.examDetails,rule_key:"stop_candidate_when_comeback"}),Object(w.jsx)(ie,{examDetails:this.examDetails,rule_key:"allow_to_leave_browser"})]})]}),Object(w.jsx)("span",{className:"text-blue-700",children:"If you are ready, click to start the exam now, The system will start to count your time!"})]}),Object(w.jsxs)("div",{className:"flex flex-row items-center justify-between mt-2",children:[Object(w.jsx)("button",{onClick:function(){return a.props.setSelectedCandidateExam(null)},className:"btn bg-gray-50 text-gray-600 border",children:"Go Back"}),Object(w.jsx)("button",{onClick:function(){a.setState({inExam:!0}),null!==a.props.candidateExam.selected_exam_id&&a.requestExam(a.props.candidateExam.selected_exam_id,(function(e,t){console.log("Requested exam on socket 2: ",t),null===t&&null!==a.props.candidateExam.selected_exam_id?a.RequestUserExamManually(a.props.candidateExam.selected_exam_id):!0===e&&a.props.loadCandidateExamFromSupervisor(t,null!==a.state.candidateDetailsProctoring&&!0===a.state.candidateDetailsProctoring.user.joined)}))},className:"btn bg-blue-600 text-white",children:"I accept, Start exam"})]})]})})}),!0===this.state.submittedExam&&Object(w.jsx)(G.d,{title:"",backDrop:!0,theme:G.c.default,close:function(){return a.props.setSelectedCandidateExam(null)},backDropClose:!1,widthSizeClass:G.b.medium,displayClose:!1,padding:{title:!1},children:!0===this.state.requesting_exam_marks||null===this.state.total_exam_marks?Object(w.jsxs)("div",{className:"p-3 py-10 border bg-white rounded-Modal flex flex-col items-center justify-center",children:[Object(w.jsx)(k.a,{}),Object(w.jsx)("div",{className:"text-3xl font-light text-black text-center mt-1",children:"Calculating your total marks..."})]}):Object(w.jsxs)("div",{className:"px-5 py-5",children:[Object(w.jsx)("div",{className:"flex flex-row items-center justify-center",children:Object(w.jsx)(h.u,{className:"text-7xl text-blue-600"})}),Object(w.jsx)("div",{className:"flex flex-row items-center justify-center",children:Object(w.jsx)("span",{className:"text-3xl font-extrabold text-blue-600 text-center",children:"Exam submitted, your percentage score is"})}),Object(w.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(w.jsx)("div",{className:"".concat(this.state.total_exam_marks>50?"bg-green-600 border-2 border-green-700":"bg-blue-600 border-2 border-blue-700"," text-white flex items-center justify-center p-3 rounded-xl text-6xl font-extrabold"),children:this.state.total_exam_marks})}),Object(w.jsx)("div",{className:"flex flex-row items-center justify-center mt-3 mb-5",children:Object(w.jsx)("span",{className:"text-center text-gray-500",children:"Thank you for attending the exam, Your exam has been submitted successfully!, click continue to the applications list, you will open the application to view your score right now."})}),Object(w.jsx)("div",{className:"flex flex-row items-center justify-center",children:Object(w.jsx)("div",{onClick:function(){a.setState({submittedExam:!1}),document.fullscreenElement&&document.exitFullscreen&&document.exitFullscreen(),a.props.candidateExam.candidate_exam&&a.props.CleanCandidateExam(a.props.candidateExam.candidate_exam.exam_paper_id),window.location.reload()},className:"btn bg-blue-100 text-blue-700 rounded w-max cursor-pointer",children:"Continue to exams list"})})]})})]})})}}]),s}(m.Component),oe=Object(_.b)((function(e){return{auth:e.auth,doExam:e.doExam,candidateExam:e.candidateExam,system:e.system,course:e.course,periods:e.periods,questionTypes:e.questionTypes,positions:e.positions,socket:e.socket,proctoring:e.proctoring,schoolLevels:e.schoolLevels}}),{loadExam:y.Jc,addExamAnswer:y.gc,deleteExamAnswers:y.mc,SubmitExamAnswers:y.Zb,ChangeExamStatus:y.d,setSelectedCandidateExam:y.dd,loadCandidateExam:y.Dc,setSelectedExamQuestion:y.id,loadCourses:y.Gc,setSelectedPeriod:y.kd,setExamQuestionAnswer:y.Zc,loadQuestionTypes:y.Pc,RequestUserExamDetails:y.Vb,PushPopupAlert:y.Rb,CleanCandidateExam:y.e,SubmitExamQuestionAnswer:y.ac,GetUserExamDetails:y.Lb,BackToExamination:y.c,setExamStatus:y.ad,FC_SaveEvent:y.tb,FC_AddRules:y.m,CleanCandidateExamAnswers:y.f,loadCandidateExamFromSupervisor:y.Ec,requestUserAnswers:y.Uc,FC_GetProfileDetails:y.W})(de)},765:function(e,t,s){"use strict";t.a=s.p+"static/media/profile.a9136072.png"},807:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var a=s(25),n=s(24),i=s(27),d=s(26),o=s(80),l=s.n(o),c=s(4),r=s.n(c),u=s(23),m=s(9),x=s(1);l.a.tz.add("Kigali/Africa|PST PDT|80 70|0101|1Lzm0 1zb0 Op0");var p=function(e){Object(i.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).interval=void 0,n.timeOutCounter=function(){n.interval=setInterval((function(){n.setCountdowm(),(n.state.hours<0||n.state.mins<0||n.state.secs<0)&&(n.props.timeout(),clearInterval(n.interval),n.setState({days:0,hours:0,mins:0,secs:0}))}),1e3)},n.state={loading:!1,days:0,hours:0,mins:0,secs:0,start_time:null,duration:0,stop_time:null,error:!1},n}return Object(n.a)(s,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.startOnlineTimer()}),1e3),this.props.socket.socket.on(m.e.ADD_TIME_TO_CANDIDATE_CLIENT,(function(t,s){s.user_id===e.props.auth.user.user_id&&e.startOnlineTimer()}))}},{key:"startOnlineTimer",value:function(){var e=this;this.props.socket.socket.emit(m.e.GET_ROOM_TIME,{user_id:this.props.auth.user.user_id,room_id:this.props.room_id},(function(t){if(null===t)return e.setState({error:!0});if(console.log({TimerCountDownResult:t}),0===t.remaining_minutes)return e.setState({days:0,hours:0,mins:0,secs:0});var s=l()().add(t.remaining_minutes,"minutes");console.log({examStopTime:s}),e.setState({stop_time:s}),e.setCountdowm(),e.timeOutCounter()}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"formatStyle",value:function(e){return e<=9?"0".concat(e):e+""}},{key:"setCountdowm",value:function(){var e=l()(this.state.stop_time),t=l()(),s=Object(o.duration)(e.diff(t)),a=Math.floor(s.asDays()),n=s.hours(),i=s.minutes(),d=s.seconds();this.setState({days:a,hours:n,mins:i,secs:d})}},{key:"render",value:function(){return!0===this.state.error?null:void 0===this.props.returnString||!1===this.props.returnString?Object(x.jsxs)("div",{className:"flex items-center",children:[void 0!==this.props.days&&!1!==this.props.days&&Object(x.jsxs)("div",{className:"m-0 p-0",children:[void 0!==this.props.labels&&!1!==this.props.labels&&Object(x.jsx)("span",{className:"m-0 text-xs opacity-80",children:"Days"}),Object(x.jsxs)("p",{className:"m-0  timer-count-down -mt-2",children:[this.formatStyle(this.state.days),void 0===this.props.separator?":":this.props.separator]})]}),Object(x.jsxs)("div",{children:[void 0!==this.props.labels&&!1!==this.props.labels&&Object(x.jsx)("span",{className:"m-0 text-xs opacity-80",children:"Hours"}),Object(x.jsxs)("p",{className:"m-0  timer-count-down -mt-2",children:[this.formatStyle(this.state.hours),void 0===this.props.separator?":":this.props.separator]})]}),Object(x.jsxs)("div",{children:[void 0!==this.props.labels&&!1!==this.props.labels&&Object(x.jsx)("span",{className:"m-0 text-xs opacity-80",children:"Min"}),Object(x.jsxs)("p",{className:"m-0  timer-count-down -mt-2",children:[this.formatStyle(this.state.mins),void 0===this.props.separator?":":this.props.separator]})]}),Object(x.jsxs)("div",{children:[void 0!==this.props.labels&&!1!==this.props.labels&&Object(x.jsx)("span",{className:"m-0 text-xs opacity-80",children:"Sec"}),Object(x.jsx)("p",{className:"m-0  timer-count-down -mt-2",children:this.formatStyle(this.state.secs)})]})]}):Object(x.jsxs)("span",{className:"timer-count-down",children:[(void 0!==this.props.days||!1!==this.props.days)&&Object(x.jsxs)("span",{children:[this.formatStyle(this.state.days),void 0===this.props.separator?":":this.props.separator]}),Object(x.jsx)("span",{children:this.formatStyle(this.state.hours)}),void 0===this.props.separator?":":this.props.separator,Object(x.jsx)("span",{children:this.formatStyle(this.state.mins)}),void 0===this.props.separator?":":this.props.separator,Object(x.jsx)("span",{children:this.formatStyle(this.state.secs)})]})}}]),s}(r.a.Component),b=Object(u.b)((function(e){return{auth:e.auth,socket:e.socket,proctoring:e.proctoring}}),{})(p)}}]);
//# sourceMappingURL=42.9e78896b.chunk.js.map