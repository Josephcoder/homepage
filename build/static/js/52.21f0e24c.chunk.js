(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[52],{245:function(e,t,r){"use strict";r.d(t,"g",(function(){return u})),r.d(t,"a",(function(){return b})),r.d(t,"e",(function(){return m})),r.d(t,"c",(function(){return h})),r.d(t,"b",(function(){return p})),r.d(t,"f",(function(){return x})),r.d(t,"d",(function(){return j}));var n=r(5),i=r.n(n),c=r(7),s=r(9),o=r.n(s),a=r(6),l=r(10),d=r(13),u=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,o.a.get("".concat(l.a.APPLICATION,"/roomlocation"));case 4:n=t.sent,r({type:a.a.GET_ALL_ROOM,payload:n.data}),e(!1,""),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return console.log({data:e}),function(){var t=Object(c.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:a.a.CREATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return console.log({data:e}),function(){var t=Object(c.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:a.a.UPDATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:a.a.DELETE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return console.log({data:e}),function(){var t=Object(c.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:a.a.CREATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:a.a.UPDATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return console.log({delete_room:e}),function(){var t=Object(c.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:a.a.DELETE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},834:function(e,t,r){"use strict";r.r(t),r.d(t,"Locations",(function(){return w}));var n=r(23),i=r(4),c=r(82),s=r(429),o=r(17),a=r(245),l=r(71),d=r(2),u=r(5),b=r.n(u),m=r(7),h=r(8),p=r(9),x=r.n(p),j=r(10),f=r(88),g=r(25),_=r(13),v=r(33),O=r(1),y=function(e){return Object(O.jsxs)(i.Fragment,{children:[Object(O.jsxs)("div",{className:"py-4 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{children:"Province"}),Object(O.jsxs)("select",{className:"bg-white py-1 px-2 border-2 w-full focus:outline-none focus:bg-gray-100 text-gray-600 focus:text-gray-800 rounded h-10 md:w-full ".concat(e.error&&"province_id"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),onChange:function(t){e.error&&"province_id"===e.error.element&&e.setError(null),e.selectProvince(t.target.value)},value:e.thisProvince.province_id,disabled:e.loadingRequest,children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select province"}),e.locations.map((function(e,t){return Object(O.jsx)("option",{value:e.province_id,children:e.province_name},e.province_id+t)}))]}),e.error&&"province_id"===e.error.element&&Object(O.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{children:"District"}),Object(O.jsxs)("select",{className:"bg-white py-1 px-2 border-2 w-full focus:outline-none focus:bg-gray-100 text-gray-600 focus:text-gray-800 rounded h-10 md:w-full ".concat(e.error&&"district_id"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),onChange:function(t){e.error&&"district_id"===e.error.element&&e.setError(null),e.selectDistrict(e.thisProvince.province_id,t.target.value)},value:e.thisDistrict.district_id,disabled:e.loadingRequest||null===e.thisProvince,children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select district"}),null!==e.thisProvince&&e.locations.filter((function(t){return t.province_id===e.thisProvince.province_id})).length>0?e.locations.filter((function(t){return t.province_id===e.thisProvince.province_id}))[0].districts.map((function(e,t){return Object(O.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)})):Object(O.jsx)("option",{value:"",disabled:!0,children:"No district found"})]}),e.error&&"district_id"===e.error.element&&Object(O.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{children:"Center"}),Object(O.jsxs)("select",{className:"bg-white py-1 px-2 border-2 w-full focus:outline-none focus:bg-gray-100 text-gray-600 focus:text-gray-800 rounded h-10 md:w-full ".concat(e.error&&"center_id"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),onChange:function(t){e.error&&"center_id"===e.error.element&&e.setError(null),e.selectCenter(e.thisProvince.province_id,e.thisDistrict.district_id,t.target.value)},value:e.thisCenter?e.thisCenter.examination_center_id:"",disabled:e.loadingRequest||null===e.thisProvince||null===e.thisDistrict,children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select center"}),null!==e.thisDistrict&&e.thisDistrict.centers.length>0?e.thisDistrict.centers.map((function(e,t){return Object(O.jsx)("option",{value:e.examination_center_id,children:e.center_name},t+e.examination_center_id)})):Object(O.jsx)("option",{value:"",disabled:!0,children:"No center found"})]}),e.error&&"center_id"===e.error.element&&Object(O.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{children:"Room"}),Object(O.jsx)("input",{type:"number",className:"text-left input-white w-full inline-block border-2 ".concat(e.error&&"room_number"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),placeholder:"Room number",value:e.roomNumber,onChange:function(t){return e.setRoomNumber(parseInt(t.target.value))},disabled:e.loadingRequest}),e.error&&"room_number"===e.error.element&&Object(O.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{children:"Seats Capacity"}),Object(O.jsx)("input",{type:"number",className:"text-left input-white w-full inline-block border-2 ".concat(e.error&&"room_capacity"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),placeholder:"Room capacity",value:e.roomCapacity,onChange:function(t){return e.setRoomCapacity(parseInt(t.target.value))},disabled:e.loadingRequest}),e.error&&"room_capacity"===e.error.element&&Object(O.jsx)("span",{className:"text-red-700",children:e.error.msg})]})]}),Object(O.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(O.jsx)("button",{onClick:function(){e.setActionTypes(""),e.setThisRoom(null),e.setRoomCapacity(0),e.setRoomNumber(0)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(O.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return e.handleSubmitRoom()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})},N=function(e){return Object(O.jsxs)(i.Fragment,{children:[Object(O.jsxs)("div",{className:"py-4 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{children:"Province"}),Object(O.jsxs)("select",{className:"bg-white py-1 px-2 border-2 w-full focus:outline-none focus:bg-gray-100 text-gray-600 focus:text-gray-800 rounded h-10 md:w-full ".concat(e.error&&"province_id"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),onChange:function(t){e.error&&"province_id"===e.error.element&&e.setError(null),e.selectProvince(t.target.value)},value:e.thisProvince.province_id,disabled:e.loadingRequest,children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select province"}),e.locations.map((function(e,t){return Object(O.jsx)("option",{value:e.province_id,children:e.province_name},e.province_id+t)}))]}),e.error&&Object(O.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{children:"District"}),Object(O.jsxs)("select",{className:"bg-white py-1 px-2 border-2 w-full focus:outline-none focus:bg-gray-100 text-gray-600 focus:text-gray-800 rounded h-10 md:w-full ".concat(e.error&&"district_id"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),onChange:function(t){e.error&&"district_id"===e.error.element&&e.setError(null),e.selectDistrict(e.thisProvince.province_id,t.target.value)},value:e.thisDistrict.district_id,disabled:e.loadingRequest||null===e.thisProvince,children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select district"}),null!==e.thisProvince&&e.locations.filter((function(t){return t.province_id===e.thisProvince.province_id})).length>0?e.locations.filter((function(t){return t.province_id===e.thisProvince.province_id}))[0].districts.map((function(e,t){return Object(O.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)})):Object(O.jsx)("option",{value:"",disabled:!0,children:"No district found"})]}),e.error&&Object(O.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{children:"Center name"}),Object(O.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(e.error&&"center_name"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(t){e.error&&"center_name"===e.error.element&&e.setError(null),e.setCenterName(t.target.value)},value:e.centerName,disabled:e.loadingRequest}),e.error&&Object(O.jsx)("span",{className:"text-red-700",children:e.error.msg})]})]}),Object(O.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(O.jsxs)("button",{type:"button",className:"btn bg-gray-500 focus:outline-none hover:bg-gray-700 text-white flex items-center gap-1",onClick:function(){e.setActionTypes(""),e.setCenterName("")},disabled:e.loadingRequest,children:[Object(O.jsx)(h.n,{className:"inline-block mr-1 text-xl font-bold ".concat(e.loadingRequest?"animate-pulse":"")}),"Cancel"]}),Object(O.jsxs)("button",{type:"button",className:"btn btn-blue focus:outline-none flex items-center gap-1",onClick:function(){return e.handleSubmit()},disabled:e.loadingRequest,children:[Object(O.jsx)(h.zb,{className:"inline-blocktext-xl font-bold"}),Object(O.jsx)("span",{children:e.loadingRequest?"loading...":"Save"})]})]})]})},C=r(49),R=Object(o.b)(null,{FC_CreateCenter:a.a,FC_UpdateCenter:a.e,FC_DeleteCenter:a.c,FC_CreateRoom:a.b,FC_UpdateRoom:a.f,FC_DeleteRoom:a.d,PushPopupAlert:f.c})((function(e){var t=Object(i.useState)(""),r=Object(n.a)(t,2),s=r[0],o=r[1],a=Object(i.useState)(0),l=Object(n.a)(a,2),u=l[0],p=l[1],R=Object(i.useState)(0),w=Object(n.a)(R,2),T=w[0],P=w[1],E=Object(i.useState)(null),A=Object(n.a)(E,2),D=A[0],k=A[1],q=Object(i.useState)(""),L=Object(n.a)(q,2),I=L[0],S=L[1],F=Object(i.useState)(""),U=Object(n.a)(F,2),M=U[0],G=U[1],z=function(){var t=Object(m.a)(b.a.mark((function t(){var r,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.thisProvince){t.next=2;break}return t.abrupt("return",k({element:"province_id",msg:"Province is required"}));case 2:if(e.thisDistrict){t.next=4;break}return t.abrupt("return",k({element:"district_id",msg:"District is required"}));case 4:if(s.length){t.next=6;break}return t.abrupt("return",k({element:"center_name",msg:"Center name is required"}));case 6:if(e.setLoadingRequest(!0),t.prev=7,"CREATE_CENTER"!==e.actionTypes){t.next=15;break}return t.next=11,x.a.post("".concat(j.a.APPLICATION,"/center"),{district_id:e.thisDistrict.district_id,center_name:s,rooms:[]});case 11:(r=t.sent).data&&(e.FC_CreateCenter({province_id:e.thisProvinceId,district_id:e.thisDistrict.district_id,data:r.data.data}),e.PushPopupAlert({title:"New Center created successfully",theme:g.a.success}),e.setLoadingRequest(!1),e.setActionTypes(""),o("")),t.next=21;break;case 15:if(!e.thisCenter||"UPDATE_CENTER"!==e.actionTypes){t.next=21;break}return n=e.thisCenter.rooms.map((function(e){return e.examination_center_room_id})),t.next=19,x.a.patch("".concat(j.a.APPLICATION,"/center"),{examination_center_id:e.thisCenter.examination_center_id,center_name:s,rooms:n,isUsed:!0});case 19:(r=t.sent).data&&(e.FC_UpdateCenter({province_id:e.thisProvinceId,district_id:e.thisDistrict.district_id,examination_center_id:e.thisCenter.examination_center_id,center_name:s}),e.PushPopupAlert({title:"Center updated successfully",theme:g.a.success}),e.setLoadingRequest(!1),e.setActionTypes(""),o(""));case 21:t.next=28;break;case 23:t.prev=23,t.t0=t.catch(7),console.log({doc_category_error:t.t0}),e.PushPopupAlert({title:Object(_.a)(t.t0),theme:g.a.danger}),e.setLoadingRequest(!1);case 28:case"end":return t.stop()}}),t,null,[[7,23]])})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=Object(m.a)(b.a.mark((function t(r){var n,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure do you want to delete this center?")){t.next=15;break}return S(r),t.prev=2,t.next=5,x.a.delete("".concat(j.a.APPLICATION,"/center/").concat(r));case 5:t.sent.data&&(e.FC_DeleteCenter({province_id:e.thisProvinceId,district_id:e.thisDistrict.district_id,center_id:r}),n=Object(d.a)({},e.thisDistrict),[],i=e.thisDistrict.centers.filter((function(e){return e.examination_center_id!==r})),n.centers=i,e.setThisDistrict(n),e.PushPopupAlert({title:"Center deleted successfully",theme:g.a.success}),e.setLoadingRequest(!1),e.setActionTypes("")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.log({province_error:t.t0}),e.PushPopupAlert({title:Object(_.a)(t.t0),theme:g.a.danger}),e.setLoadingRequest(!1);case 14:S("");case 15:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=Object(m.a)(b.a.mark((function t(){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.thisProvince){t.next=2;break}return t.abrupt("return",k({element:"province_id",msg:"Province is required"}));case 2:if(e.thisDistrict){t.next=4;break}return t.abrupt("return",k({element:"district_id",msg:"District is required"}));case 4:if(e.thisCenter){t.next=6;break}return t.abrupt("return",k({element:"center_id",msg:"Center is required"}));case 6:if(!(u<=0)){t.next=8;break}return t.abrupt("return",k({element:"room_number",msg:"Room number is required"}));case 8:if(!(T<=0)){t.next=10;break}return t.abrupt("return",k({element:"room_capacity",msg:"Enter valid room capacity"}));case 10:if(e.setLoadingRequest(!0),t.prev=11,"CREATE_ROOM"!==e.actionTypes){t.next=19;break}return t.next=15,x.a.post("".concat(j.a.APPLICATION,"/centerroom"),{center_id:e.thisCenter.examination_center_id,room_type:"Physical room",room_number:u,capacity:T,occupied:0});case 15:(r=t.sent).data&&(e.FC_CreateRoom({province_id:e.thisProvinceId,district_id:e.thisDistrict.district_id,center_id:e.thisCenter.examination_center_id,data:r.data.data}),e.PushPopupAlert({title:"New Room created successfully",theme:g.a.success}),e.setLoadingRequest(!1),e.setActionTypes(""),p(0),P(0)),t.next=24;break;case 19:if(!e.thisRoom||"UPDATE_ROOM"!==e.actionTypes){t.next=24;break}return t.next=22,x.a.patch("".concat(j.a.APPLICATION,"/centerroom"),{examination_center_room_id:e.thisRoom.examination_center_room_id,center_id:e.thisCenter.examination_center_id,room_type:e.thisRoom.room_type,room_number:u,capacity:T,occupied:e.thisRoom.occupied,isUsed:!0});case 22:(r=t.sent).data&&(e.FC_UpdateRoom({province_id:e.thisProvinceId,district_id:e.thisDistrict.district_id,center_id:e.thisCenter.examination_center_id,room_id:e.thisRoom.examination_center_room_id,room_number:u,capacity:T}),e.PushPopupAlert({title:"Room updated successfully",theme:g.a.success}),e.setLoadingRequest(!1),e.setActionTypes(""),p(0),P(0),e.setThisRoom(null));case 24:t.next=31;break;case 26:t.prev=26,t.t0=t.catch(11),console.log({doc_category_error:t.t0}),e.PushPopupAlert({title:Object(_.a)(t.t0),theme:g.a.danger}),e.setLoadingRequest(!1);case 31:case"end":return t.stop()}}),t,null,[[11,26]])})));return function(){return t.apply(this,arguments)}}(),X=function(){var t=Object(m.a)(b.a.mark((function t(r){var n,i,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure do you want to delete this room?")){t.next=17;break}if(null!==e.thisCenter){t.next=3;break}return t.abrupt("return",Object(f.c)({title:"Center is required!",theme:g.a.warning}));case 3:return S(r),t.prev=4,t.next=7,x.a.delete("".concat(j.a.APPLICATION,"/centerroom/").concat(r));case 7:(n=t.sent).data&&(console.log({res:n}),i=Object(d.a)({},e.thisCenter),[],c=e.thisCenter.rooms.filter((function(e){return e.examination_center_room_id!==r})),i.rooms=c,e.FC_DeleteRoom({province_id:e.thisProvinceId,district_id:e.thisDistrict.district_id,center_id:e.thisCenter.examination_center_id,room_id:r}),e.setThisCenter(i),e.PushPopupAlert({title:"Room deleted successfully",theme:g.a.success}),e.setLoadingRequest(!1),e.setActionTypes("")),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),console.log({province_error:t.t0}),e.PushPopupAlert({title:Object(_.a)(t.t0),theme:g.a.danger}),e.setLoadingRequest(!1);case 16:S("");case 17:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}(),B=function(t){var r=e.locations.filter((function(e){return e.province_id===t}))[0];e.setThisProvince(r),r.districts.length>0&&e.setThisDistrict(e.locations.filter((function(e){return e.province_id===t}))[0].districts[0])},H=function(t,r){e.setThisDistrict(e.locations.filter((function(e){return e.province_id===t}))[0].districts.filter((function(e){return e.district_id===r}))[0]),e.setThisCenter(null)};return Object(O.jsxs)("div",{className:"bg-white w-full p-2 border border-gray-300 rounded shadow",children:[Object(O.jsxs)("div",{className:"border-b px-2 py-3 flex justify-between",children:[Object(O.jsx)("h2",{className:"text-3xl font-semibold text-gray-800",children:"List of Centers"}),Object(O.jsxs)("div",{className:"flex items-center gap-2",children:[Object(O.jsxs)("button",{type:"button",className:"btn mb-1 border-2 border-blue-400 bg-blue-400 hover:bg-blue-500 hover:border-blue-500\n        text-white rounded-md flex items-center font-bold focus:outline-none ".concat(e.loadingRequest&&"cursor-wait"," ").concat(""!==e.actionTypes&&"cursor-not-allowed"),onClick:function(){return e.setActionTypes("CREATE_CENTER")},disabled:""!==e.actionTypes||e.loadingRequest,children:[Object(O.jsx)(h.b,{className:"inline-block mr-1 text-xl font-bold"})," New Center"]}),Object(O.jsxs)("button",{type:"button",className:"btn hover:bg-blue-500 mb-1 border-2 border-blue-500 bg-white\n        hover:text-white rounded-md flex items-center font-bold text-gray-700 focus:outline-none gap-1 ".concat(e.loadingRequest&&"cursor-wait"," ").concat(""!==e.actionTypes&&"cursor-not-allowed"),onClick:function(){return e.setActionTypes("CREATE_ROOM")},disabled:""!==e.actionTypes||e.loadingRequest,children:[Object(O.jsx)(h.b,{className:"inline-block mr-1 text-xl font-bold"}),"New Room"]})]})]}),Object(O.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-2 w-full my-2",children:[Object(O.jsx)("div",{className:"w-full sm:w-1/5",children:Object(O.jsxs)("select",{className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full",placeholder:"Filter by province",onChange:function(e){return B(e.target.value)},value:e.thisProvince?e.thisProvince.province_id:"",children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Filter by province"}),e.locations.map((function(e,t){return Object(O.jsx)("option",{value:e.province_id,children:e.province_name},t+e.province_id)}))]})}),e.thisProvince&&Object(O.jsx)("div",{className:"w-full sm:w-1/5",children:Object(O.jsxs)("select",{className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full",placeholder:"Filter by district",onChange:function(t){return H(e.thisProvince.province_id,t.target.value)},value:e.thisDistrict?e.thisDistrict.district_id:"",children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Filter by district"}),null!==e.thisProvince&&e.locations.filter((function(t){return t.province_id===e.thisProvince.province_id})).length>0?e.locations.filter((function(t){return t.province_id===e.thisProvince.province_id}))[0].districts.map((function(e,t){return Object(O.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)})):Object(O.jsx)("option",{value:"",disabled:!0,children:"No district found"})]})}),Object(O.jsx)("div",{className:"w-full sm:w-3/5",children:Object(O.jsx)("input",{onChange:function(e){return G(e.target.value)},type:"text",className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500",placeholder:"Search ".concat(e.thisDistrict.district_name,"'s centers by title"),value:M,disabled:!(e.thisDistrict.centers.length>0)})})]}),e.thisDistrict.centers.length>0?Object(O.jsx)("div",{className:"bg-white",children:Object(C.a)(e.thisDistrict.centers,M).map((function(t,r){return Object(O.jsxs)("div",{className:"p-2 my-3 rounded border hover:bg-gray-50",children:[Object(O.jsxs)("div",{className:"flex justify-between items-center group cursor-pointer",onClick:function(){return e.thisCenter&&e.thisCenter.examination_center_id===t.examination_center_id?e.setThisCenter(null):e.setThisCenter(t)},children:[Object(O.jsxs)("div",{className:"ml-2",children:[Object(O.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:t.center_name}),Object(O.jsx)("div",{className:"text-base top-1 text-gray-600",children:t.rooms.length>0?t.rooms.length+" Room(s)":null})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2",children:[e.thisCenter&&e.thisCenter.examination_center_id===t.examination_center_id&&Object(O.jsx)("button",{className:"text-white bg-blue-400 group-hover:bg-blue-600 focus:outline-none p-2 rounded-full group-hover:shadow-md group-hover:text-white  ".concat(e.loadingRequest&&"cursor-wait"," ").concat(""!==e.actionTypes&&"cursor-not-allowed"),onClick:function(){e.setThisCenter(t),o(t.center_name),e.setActionTypes("UPDATE_CENTER")},disabled:e.loadingRequest||""!==e.actionTypes,title:"Edit center",children:Object(O.jsx)(h.z,{className:"w-6 h-6"})}),e.thisCenter&&e.thisCenter.examination_center_id===t.examination_center_id&&(n=e.thisCenter,!(n.rooms.length>0))&&Object(O.jsx)("button",{title:"Delete center",className:"bg-red-400 group-hover:bg-red-600 text-white focus:outline-none p-2 rounded-full group-hover:shadow-md group-hover:text-white ".concat(e.loadingRequest&&"cursor-wait"," ").concat(""!==e.actionTypes&&"cursor-not-allowed"),onClick:function(){return J(t.examination_center_id)},disabled:e.loadingRequest||I.length>0||""!==e.actionTypes,children:Object(O.jsx)(h.x,{className:"w-6 h-6"})}),Object(O.jsx)("button",{title:e.thisCenter&&e.thisCenter.examination_center_id===t.examination_center_id?"Close Center":"View Rooms",className:"".concat(e.thisCenter&&e.thisCenter.examination_center_id===t.examination_center_id?"group-hover:bg-gray-600":"group-hover:bg-gray-500"," p-2 rounded-full bg-gray-300 group-hover:shadow-md flex justify-center items-center focus:outline-none text-gray-800 group-hover:text-white"),onClick:function(){return e.thisCenter&&e.thisCenter.examination_center_id===t.examination_center_id?e.setThisCenter(null):e.setThisCenter(t)},children:e.thisCenter&&e.thisCenter.examination_center_id===t.examination_center_id?Object(O.jsx)(h.G,{className:"w-6 h-6"}):Object(O.jsx)(h.H,{className:"w-6 h-6"})})]})]}),e.thisCenter&&e.thisCenter.examination_center_id===t.examination_center_id&&Object(O.jsxs)("div",{className:"bg-white h-full w-full hidden md:block mt-2 p-2 pb-5 border border-gray-300 rounded shadow animate__animated animate__fadeIn",children:[Object(O.jsxs)("div",{className:"border-b px-2 py-3 flex justify-between",children:[Object(O.jsx)("h2",{className:"text-3xl font-semibold text-gray-800",children:"List of Rooms"}),Object(O.jsxs)("button",{type:"button",className:"btn hover:bg-blue-500 mb-1 border-2 border-blue-500 bg-white\n        hover:text-white rounded-md flex items-center font-bold text-gray-700 focus:outline-none gap-1 ".concat(e.loadingRequest&&"cursor-wait"," ").concat(""!==e.actionTypes&&"cursor-not-allowed"),onClick:function(){return e.setActionTypes("CREATE_ROOM")},disabled:""!==e.actionTypes||e.loadingRequest,children:[Object(O.jsx)(h.b,{className:"inline-block mr-1 text-xl font-bold"}),"New Room"]})]}),t.rooms.length>0?Object(O.jsxs)("table",{className:"w-full shadow sm:rounded-lg table-auto order-table max-w-full",children:[Object(O.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(O.jsxs)("tr",{className:"text-left tracking-wide bg-gray-100 border-b-2 border-gray-500 text-gray-600 overflow-hidden",children:[Object(O.jsx)("th",{className:"p-3 text-left",children:"Room"}),Object(O.jsx)("th",{className:"p-3 text-left",children:"Type"}),Object(O.jsx)("th",{className:"p-3 text-left",children:"Capacity"}),Object(O.jsx)("th",{className:"p-3 text-left",children:"Occupied"}),Object(O.jsx)("th",{className:"p-3 text-left"})]})}),Object(O.jsx)("tbody",{id:"table-data_".concat(e.thisDistrict.district_id),className:"bg-white text-black text-base",children:t.rooms.map((function(t,r){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"p-3 text-left",children:t.room_number}),Object(O.jsx)("td",{className:"p-3 text-left",children:t.room_type}),Object(O.jsx)("td",{className:"p-3 text-left",children:t.capacity}),Object(O.jsx)("td",{className:"p-3 text-left",children:t.occupied}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[Object(O.jsx)("button",{title:"Update Sub-Category",className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none",onClick:function(){e.setThisRoom(t),P(t.capacity),p(t.room_number),e.setActionTypes("UPDATE_ROOM")},disabled:e.loadingRequest||""!==e.actionTypes,children:Object(O.jsx)(h.z,{className:"text-blue-700 w-7 h-7"})}),Object(O.jsx)("button",{title:"Delete Sub-Category",className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none",onClick:function(){return X(t.examination_center_room_id)},disabled:e.loadingRequest||""!==e.actionTypes,children:I===t.examination_center_room_id?"Loading...":Object(O.jsx)("div",{className:"flex justify-center items-center gap-1",children:Object(O.jsx)(h.B,{className:"text-red-700 w-7 h-7"})})})]})})]},r+t.examination_center_room_id)}))})]}):Object(O.jsxs)("div",{className:"text-center py-8",children:[Object(O.jsx)(c.e,{className:"w-24 h-24 mx-auto text-gray-600"}),Object(O.jsx)("span",{className:"text-gray-600 text-2xl",children:"No Data Found"})]})]})]},r+t.examination_center_id);var n}))}):Object(O.jsxs)("div",{className:"text-center py-8",children:[Object(O.jsx)(c.e,{className:"w-24 h-24 mx-auto text-gray-600"}),Object(O.jsx)("span",{className:"text-gray-600 text-2xl",children:"No Data Found"})]}),""!==e.actionTypes&&Object(O.jsx)(v.d,{backDrop:!0,theme:v.c.default,close:function(){return"CREATE_ROOM"!==e.actionTypes&&"UPDATE_ROOM"!==e.actionTypes||(e.setThisRoom(null),P(0),p(0)),"CREATE_CENTER"!==e.actionTypes&&"UPDATE_CENTER"!==e.actionTypes||!e.thisProvince||o(""),e.setActionTypes(""),void k(null)},displayClose:!0,backDropClose:!1,title:Object(O.jsx)("div",{className:"flex items-center space-x-5",children:Object(O.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(O.jsxs)("h2",{className:"uppercase text-back",children:["CREATE_ROOM"===e.actionTypes?"CREATING NEW ROOM":"UPDATE_ROOM"===e.actionTypes&&"UPDATING EXISTING ROOM","CREATE_CENTER"===e.actionTypes?"CREATING NEW CENTER":"UPDATE_CENTER"===e.actionTypes&&"UPDATING EXISTING CENTER"]})})}),widthSizeClass:v.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(O.jsx)("div",{className:"mx-5 mb-8",children:Object(O.jsxs)("div",{className:"divide-y divide-gray-200",children:[("CREATE_ROOM"===e.actionTypes||"UPDATE_ROOM"===e.actionTypes)&&e.thisProvince&&Object(O.jsx)(y,{roomNumber:u,roomCapacity:T,thisRoom:e.thisRoom,setError:k,loadingRequest:e.loadingRequest,setRoomNumber:p,setRoomCapacity:P,setThisRoom:e.setThisRoom,setActionTypes:e.setActionTypes,handleSubmitRoom:W,thisDistrict:e.thisDistrict,thisProvince:e.thisProvince,locations:e.locations,error:D,selectProvince:B,selectDistrict:H,selectCenter:function(t,r,n){e.setThisCenter(e.locations.filter((function(e){return e.province_id===t}))[0].districts.filter((function(e){return e.district_id===r}))[0].centers.filter((function(e){return e.examination_center_id===n}))[0])},thisCenter:e.thisCenter}),("CREATE_CENTER"===e.actionTypes||"UPDATE_CENTER"===e.actionTypes)&&e.thisProvince&&Object(O.jsx)(N,{centerName:s,error:D,loadingRequest:e.loadingRequest,setCenterName:o,setError:k,setActionTypes:e.setActionTypes,handleSubmit:z,thisDistrict:e.thisDistrict,thisProvince:e.thisProvince,locations:e.locations,selectProvince:B,selectDistrict:H})]})})})]})})),w=Object(o.b)((function(e){return{locations:e.locations.roomLocation}}),{getAllRoom:a.g})((function(e){var t=e.locations,r=e.getAllRoom,o=Object(i.useState)(""),a=Object(n.a)(o,2),d=a[0],u=a[1],b=Object(i.useState)(null),m=Object(n.a)(b,2),h=m[0],p=m[1],x=Object(i.useState)(null),j=Object(n.a)(x,2),f=j[0],g=j[1],_=Object(i.useState)(null),v=Object(n.a)(_,2),y=v[0],N=v[1],C=Object(i.useState)(null),w=Object(n.a)(C,2),T=w[0],P=w[1],E=Object(i.useState)(!0),A=Object(n.a)(E,2),D=A[0],k=A[1],q=Object(i.useState)(!1),L=Object(n.a)(q,2),I=L[0],S=L[1],F=Object(i.useState)(!1),U=Object(n.a)(F,2),M=U[0],G=U[1];return Object(i.useEffect)((function(){k(!0),!t.length&&D?r((function(e,r){!e&&r.length>0&&(console.log(r),!t.length&&k(!1))})):t.length&&null===h?p(t[0]):h&&null===f&&!I?(g(t[0].districts.length>0?t[0].districts[0]:null),S(!0)):k(!1)}),[r,t.length,t,h,f,D,I]),!0===D?Object(O.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading locations..."}):Object(O.jsx)(i.Fragment,{children:Object(O.jsxs)("div",{className:"w-full my-5",children:[Object(O.jsx)("div",{className:"flex justify-between w-full m-2 gap-1",children:Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("span",{className:"text-blue-600 text-2xl md:text-2xl lg:text-3xl font-bold",children:"Locations Management"}),Object(O.jsxs)("div",{className:"flex flex-row items-center md:gap-3 gap-2 mt-1",children:[Object(O.jsx)(c.f,{className:"text-xl"}),Object(O.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[h&&Object(O.jsx)("span",{className:"text-gray-700 text-base font-bold",children:h.province_name}),f&&Object(O.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(O.jsx)(s.a,{}),Object(O.jsxs)("span",{className:"text-blue-600 text-base font-bold underline",children:[f.district_name," district"]})]})]})]})]})}),t.length>0?Object(O.jsxs)("div",{className:"w-full",children:[f&&h&&Object(O.jsx)(R,{locations:t,thisProvince:h,thisProvinceId:h.province_id,thisDistrict:f,thisCenter:y,thisRoom:T,loadingRequest:M,actionTypes:d,setThisProvince:p,setThisDistrict:g,setLoadingRequest:G,setThisCenter:N,setThisRoom:P,setActionTypes:u}),!f&&h&&Object(O.jsx)(l.b,{theme:l.a.Dark,value:"No District Available in ".concat(h.province_name)})]}):Object(O.jsx)(l.b,{theme:l.a.Dark,value:"No Locations found!"})]})})}))}}]);
//# sourceMappingURL=52.21f0e24c.chunk.js.map