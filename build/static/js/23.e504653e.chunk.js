(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[23,11,12,35,46],{1306:function(e,t,s){"use strict";s.r(t),s.d(t,"centerReportTitleType",(function(){return r})),s.d(t,"CenterReport",(function(){return z}));var r,a=s(5),n=s.n(a),o=s(7),i=s(26),c=s(25),l=s(28),d=s(27),u=s(10),p=s.n(u),m=s(4),x=s(71),h=s(122),b=s(204),j=s(66),f=s(12),g=s(22),O=s(3),_=s(202),v=s(690),E=s(38),y=s(686),P=s(23),N=s(680),C=s(792),R=s(21),T=s(820),S=s(42),I=s(9),A=s(689),D=s(24),w=s(697),L=s(683),k=s(700),M=s(821),U=s(1);!function(e){e.ROOM_OCCUPATION="Room occupation report",e.ROOM_INVIGILATOR="Room with invigilator report"}(r||(r={}));var F=[{key:C.a.district_name,title:"District name",status:!0},{key:C.a.center_name,title:"Center name",status:!0},{key:C.a.room_number,title:"Room number",status:!0},{key:C.a.room_type,title:"Room type",status:!0},{key:C.a.room_capacity,title:"Room capacity",status:!0},{key:C.a.room_occupation,title:"Room occupation",status:!0},{key:C.a.invigilator,title:"Invigilator",status:!0}],q=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setSelectAll=function(e){a.setState({selectAll:e})},a.setSelectSession=function(e){a.setState({selectSession:e})},a.setSelectedReportTitle=function(e){a.setState({selectedReportTitle:e})},a.setReportTitle=function(e){a.setState({reportTitle:e})},a.setSelectedSession=function(e){a.setState({selectedSession:e})},a.setDefaultReport=function(e){return e&&"invigilator"===e?a.setState({selectedReportTitle:r.ROOM_INVIGILATOR}):a.setState({selectedReportTitle:r.ROOM_OCCUPATION})},a.setFormError=function(e){a.setState({formError:e})},a.loadReportMainData=function(){var e=Object(o.a)(n.a.mark((function e(t){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(I.a.APPLICATION,"/currentroomoccupation/").concat(t.session_plan_id));case 3:s=e.sent,a.setState({reportMainData:s.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error({reportMainData_error:e.t0}),a.props.PushPopupAlert({title:Object(D.g)(e.t0),theme:R.a.danger});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.loadInvigilator=function(){var e=Object(o.a)(n.a.mark((function e(t){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.prev=1,e.next=4,p.a.get("".concat(I.a.AUTH,"/userbytype/").concat(T.a.INVIGILATOR));case 4:s=e.sent,a.setState({invigilatorData:s.data}),t(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error({invigilatorData_error:e.t0}),a.props.PushPopupAlert({title:Object(D.g)(e.t0),theme:R.a.danger});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),a.setSortOrder=function(e){a.setState({sortOrder:e})},a.setSortProperty=function(e){a.setState({sortProperty:e})},a.setIsSorted=function(e){a.setState({isSorted:e})},a.setGenerateReportModal=function(e){a.setState({generateReportModal:e})},a.loadExamData=function(){null===a.props.courses||0===a.props.courses.length?a.props.loadCourses((function(e){a.setState({loadingExam:e})})):a.setState({loadingExam:!1}),null===a.props.examsList||0===a.props.examsList.length?a.props.loadExamsList((function(e){a.setState({loadingExam:e})})):a.setState({loadingExam:!1})},a.componentDidMount=function(){if(a.setDefaultReport(a.props.match.params.defaultReportType),null===a.state.invigilatorData&&a.loadInvigilator(a.setLoading),null===a.props.sessionPlan.allSessionPlans)a.props.GetAllSessionPlans((function(e,t,s){if(a.setLoading(e),!e&&(Object(S.e)(t)||a.props.PushPopupAlert({title:t,theme:R.a.warning}),s&&s.length>0)){var r=s.find((function(e){return e.is_active}));r?(a.setSelectedSession(r),null===a.state.reportMainData&&a.loadReportMainData(r)):(a.setSelectedSession(s[s.length-1]),null===a.state.reportMainData&&a.loadReportMainData(s[s.length-1]))}}));else if(a.props.sessionPlan.allSessionPlans.length>0){var e=a.props.sessionPlan.allSessionPlans.find((function(e){return e.is_active}));e?(a.setSelectedSession(e),null===a.state.reportMainData&&a.loadReportMainData(e)):(a.setSelectedSession(a.props.sessionPlan.allSessionPlans[a.props.sessionPlan.allSessionPlans.length-1]),null===a.state.reportMainData&&a.loadReportMainData(a.props.sessionPlan.allSessionPlans[a.props.sessionPlan.allSessionPlans.length-1])),a.setLoading(!1)}a.loadExamData()},a.FC_FilterReportData=function(e,t,s,r){var a=e;if("all"!==t&&(a=a.filter((function(e){return e.district_id===t}))),"all"!==s&&(a=a.filter((function(e){return e.center_id===s}))),"all"!==r){var n,o=[];for(var i in a){var c=a[i].course_in_room.find((function(e){return e.course_id===r}));c?((n=a[i]).occupied=c.occupied,o.push(n)):((n=a[i]).occupied=0,o.push(n))}a=o}return a},a.updateContentToPrint=function(){if(a.state.selectedSession){var e="Room Report - ";"all"!==a.state.selectedDistrict&&(e=e+a.state.selectedDistrict.district_name+" district - "),"all"!==a.state.selectedExam&&(e=e+a.state.selectedExam.course_name+" ("+a.state.selectedExam.course_code+") - "),e+=a.state.selectedSession.session_plan_name,a.setReportTitle(e)}if(a.state.reportMainData&&a.state.invigilatorData){var t=[],s=1,r=a.FC_FilterReportData(Object(C.c)(a.state.reportMainData,a.state.invigilatorData),"all"===a.state.selectedDistrict?"all":a.state.selectedDistrict.district_id,"all","all"===a.state.selectedExam?"all":a.state.selectedExam.course_id);for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var o=null;for(var i in o={no:s,district_name:r[n].district_name,center_name:r[n].center_name,room_number:r[n].room_number,room_type:Object(S.a)(r[n].room_type),room_capacity:"Default"===r[n].room_type?"-":r[n].capacity,room_occupation:r[n].occupied,invigilator:r[n].invigilator},a.state.reportContentExport)Object.prototype.hasOwnProperty.call(a.state.reportContentExport,i)&&!a.state.reportContentExport[i].status&&o&&delete o[a.state.reportContentExport[i].key];o&&t.push(o),s++}a.setState({centerToPrint:t}),t=[],s=1}},a.updateReportContent=function(e){var t=a.state.reportContentExport.findIndex((function(t){return t.key===e})),s=a.state.reportContentExport;s[t].status=!s[t].status,a.setState({reportContentExport:s}),s.find((function(e){return!1===e.status}))?a.setSelectAll(!1):a.setSelectAll(!0),a.updateContentToPrint()},a.isChangeAllowed=function(e){return e!==C.a.center_name&&e!==C.a.district_name&&e!==C.a.room_number&&e!==C.a.room_capacity&&e!==C.a.room_occupation},a.resetReportContent=function(e){var t=a.state.reportContentExport;for(var s in t)a.isChangeAllowed(t[s].key)&&(t[s].status=!e);a.setState({reportContentExport:t}),a.setSelectAll(!e),a.updateContentToPrint()},a.setDownloading=function(e){a.setState({downloading:e})},a.FC_GeneratePDF=function(){if(!document.querySelectorAll("#report_content tbody tr").length)return a.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:R.a.warning}),!1;if(a.state.selectedSession){var e=document.getElementById("report_content"),t={doneBy:a.props.auth.user.fname+" "+a.props.auth.user.lname,title:"Room Report",subjectTitle:"Room occupation",subject:"All room",period:a.state.selectedSession.session_plan_name,footer:"Online Recruitment",institute:"All institute"};e&&Object(v.a)(t,e,a.setDownloading)}},a.setSort=function(e){a.state.sortProperty===e&&"ASC"===a.state.sortOrder?a.setSortOrder("DESC"):a.setSortOrder("ASC"),a.setSortProperty(e),a.setIsSorted(!0)},a.searchData=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var r in e)if(s=!1,"center_name"!==r&&"room_number"!==r&&"district_name"!==r&&"occupied"!==r&&"capacity"!==r&&"course_in_room"!==r&&"invigilator"!==r||e[r]&&(s=e[r].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},a.setChooseDistrict=function(e){a.setState({chooseDistrict:e})},a.setSelectedDistrict=function(e){a.setState({selectedDistrict:e})},a.state={loading:!0,loadingExam:!0,selectSession:!1,selectedReportTitle:r.ROOM_OCCUPATION,selectedSession:null,reportMainData:null,reportContentExport:F,selectAll:!0,reportTitle:"",centerToPrint:null,sortProperty:"",isSorted:!1,sortOrder:"ASC",searchInput:"",searchExamInput:"",generateReportModal:null,formError:null,selectedDistrict:"all",chooseDistrict:!1,downloading:!1,chooseExam:!1,selectedExam:"all",invigilatorData:null},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return this.state.loading?Object(U.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."}):this.props.sessionPlan.allSessionPlans&&0===this.props.sessionPlan.allSessionPlans.length?Object(U.jsx)(L.a,{}):Object(U.jsxs)(m.Fragment,{children:[Object(U.jsxs)(N.b,{children:[Object(U.jsxs)("div",{className:"",children:[Object(U.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Session:"}),Object(U.jsxs)("div",{onClick:function(){return e.setSelectSession(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:[null!==this.state.selectedSession?"".concat(this.state.selectedSession.session_plan_name):"Filter by session",Object(U.jsx)(b.e,{className:"text-lg text-blue-600"})]})]}),Object(U.jsxs)("div",{className:"",children:[Object(U.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"District:"}),this.state.reportMainData&&Object(U.jsxs)("div",{onClick:function(){return e.setChooseDistrict(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:["all"!==this.state.selectedDistrict?"".concat(this.state.selectedDistrict.district_name):"All district",Object(U.jsx)(b.e,{className:"text-lg text-blue-600"})]})]}),this.state.loadingExam?"loaing":Object(U.jsxs)("div",{className:"",children:[Object(U.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Exam:"}),this.state.reportMainData&&Object(U.jsxs)("div",{onClick:function(){e.setState({chooseExam:!0})},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:["all"!==this.state.selectedExam?"".concat(this.state.selectedExam.course_name):"All exam",Object(U.jsx)(b.e,{className:"text-lg text-blue-600"})]})]})]}),Object(U.jsxs)("section",{children:[Object(U.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(U.jsx)("div",{className:"col-span-8",children:Object(U.jsx)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:Object(U.jsx)("span",{className:"text-3xl font-bold text-gray-700",children:"Room report"})})}),Object(U.jsx)("div",{className:"col-span-4",children:Object(U.jsx)("div",{className:"float-right mt-2",children:this.state.reportMainData&&this.state.reportMainData.length>0&&Object(U.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(U.jsx)(x.e,{className:"text-2xl text-gray-500"}),Object(U.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(U.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",disabled:!(this.state.reportMainData&&!this.state.downloading),onClick:function(){e.updateContentToPrint(),e.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(U.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 ".concat(this.state.downloading&&"cursor-wait"),onClick:function(){return e.FC_GeneratePDF()},disabled:!this.state.reportMainData,children:"PDF"})]})})})]}),Object(U.jsxs)("div",{className:"bg-white my-4",children:[Object(U.jsx)("div",{className:"w-full px-2 py-2",children:Object(U.jsx)("input",{onChange:function(t){return e.setState({searchInput:t.target.value})},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded focus:border-gray-800",disabled:null===this.state.reportMainData||null===this.state.invigilatorData||this.FC_FilterReportData(Object(C.c)(this.state.reportMainData,this.state.invigilatorData),"all"===this.state.selectedDistrict?"all":this.state.selectedDistrict.district_id,"all","all"===this.state.selectedExam?"all":this.state.selectedExam.course_id).length<=0})}),Object(U.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(U.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(U.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return e.setSort("district")},children:Object(U.jsxs)("div",{className:"flex items-center gap-1",children:["District ",Object(U.jsx)(x.j,{})]})}),Object(U.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return e.setSort("center")},children:Object(U.jsxs)("div",{className:"flex items-center gap-1",children:["Center ",Object(U.jsx)(x.j,{})]})}),Object(U.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return e.setSort("room_number")},children:Object(U.jsxs)("div",{className:"flex items-center gap-1",children:["Room number ",Object(U.jsx)(x.j,{})]})}),Object(U.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return e.setSort("room_type")},children:Object(U.jsxs)("div",{className:"flex items-center gap-1",children:["Room type ",Object(U.jsx)(x.j,{})]})}),Object(U.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return e.setSort("capacity")},children:Object(U.jsxs)("div",{className:"flex items-center gap-1",children:["Room capacity ",Object(U.jsx)(x.j,{})]})}),Object(U.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return e.setSort("occupied")},children:Object(U.jsxs)("div",{className:"flex items-center gap-1",children:["Room occupation ",Object(U.jsx)(x.j,{})]})}),Object(U.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return e.setSort("invigilator")},children:Object(U.jsxs)("div",{className:"flex items-center gap-1",children:["Invigilator ",Object(U.jsx)(x.j,{})]})})]})}),Object(U.jsx)("tbody",{children:null===this.state.reportMainData||null===this.state.invigilatorData?Object(U.jsx)(y.a,{cols:8}):0===this.FC_FilterReportData(Object(C.c)(this.state.reportMainData,this.state.invigilatorData),"all"===this.state.selectedDistrict?"all":this.state.selectedDistrict.district_id,"all","all"===this.state.selectedExam?"all":this.state.selectedExam.course_id).length?Object(U.jsx)("tr",{children:Object(U.jsx)("td",{colSpan:8,className:"px-2 py-2",children:Object(U.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(U.jsx)(j.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(U.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"}),Object(U.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(U.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(U.jsx)("li",{onClick:function(){return e.setSelectSession(!0)},className:"underline text-gray-500 cursor-pointer",children:"Filter by session"})})})]})})}):Object(D.p)(this.state.isSorted,this.searchData(this.FC_FilterReportData(Object(C.c)(this.state.reportMainData,this.state.invigilatorData),"all"===this.state.selectedDistrict?"all":this.state.selectedDistrict.district_id,"all","all"===this.state.selectedExam?"all":this.state.selectedExam.course_id),this.state.searchInput),this.state.sortProperty,this.state.sortOrder).map((function(e,t){return Object(U.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," hover:bg-blue-100 hover:text-blue-700 border-b hover:border-blue-500 text-sm ").concat("Default"===e.room_type?"border-gray-500 text-gray-700 bg-gray-200":"text-gray-600 border-gray-300"),children:[Object(U.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(U.jsx)("td",{className:"px-2 py-2",children:e.district_name}),Object(U.jsx)("td",{className:"px-2 py-2",children:e.center_name}),Object(U.jsx)("td",{className:"px-2 py-2",children:e.room_number}),Object(U.jsx)("td",{className:"px-2 py-2",children:Object(S.a)(e.room_type)}),Object(U.jsx)("td",{className:"px-2 py-2",children:"Default"===e.room_type?"-":e.capacity}),Object(U.jsx)("td",{className:"px-2 py-2",children:e.occupied}),Object(U.jsx)("td",{className:"px-2 py-2",children:e.invigilator})]},t+1)}))})]})]})]}),null!==this.state.generateReportModal&&!0===this.state.generateReportModal.status&&Object(U.jsx)(P.d,{title:Object(U.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(U.jsxs)("div",{className:"flex flex-col",children:[Object(U.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(U.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",this.state.generateReportModal.reportType," ","Report"]})]})}),backDrop:!0,theme:P.c.default,close:function(){return e.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:P.b.medium,displayClose:!0,padding:{title:!0},children:Object(U.jsxs)("div",{className:"px-6",children:[Object(U.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(U.jsxs)("div",{className:"flex flex-col",children:[Object(U.jsx)("label",{children:"Title"}),Object(U.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(this.state.formError&&"report_title"===this.state.formError.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:this.state.reportTitle,onChange:function(t){e.setFormError(null),e.setReportTitle(t.target.value)},disabled:!this.state.reportMainData}),this.state.formError&&"report_title"===this.state.formError.element&&Object(U.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(U.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(U.jsx)("label",{children:"Report content"}),Object(U.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:this.state.reportContentExport.map((function(t,s){return Object(U.jsxs)("div",{className:"flex items-center gap-1 ".concat(e.isChangeAllowed(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return e.isChangeAllowed(t.key)&&e.updateReportContent(t.key)},title:e.isChangeAllowed(t.key)?"":"Required for every report!",children:[t.status?Object(U.jsx)(f.r,{className:"w-6 h-6 text-blue-700"}):Object(U.jsx)(f.s,{className:"w-6 h-6"}),Object(U.jsx)("span",{children:t.title})]},s)}))}),this.state.formError&&"report_content"===this.state.formError.element&&Object(U.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]})]}),Object(U.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(U.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return e.resetReportContent(e.state.selectAll)},children:[this.state.selectAll?Object(U.jsx)(f.r,{className:"w-6 h-6 text-blue-700"}):Object(U.jsx)(f.s,{className:"w-6 h-6"}),Object(U.jsx)("span",{children:"Select all"})]}),this.state.centerToPrint&&this.state.reportMainData&&Object(U.jsx)(A.a,{fileData:this.state.centerToPrint,fileName:this.state.reportTitle,btnName:"Generate"})]})]})}),this.state.selectSession&&Object(U.jsx)(P.d,{title:Object(U.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(U.jsx)(f.O,{className:"text-5xl text-blue-600"}),Object(U.jsx)("span",{className:"flex flex-col",children:"Choose session"})]}),backDrop:!0,theme:P.c.default,close:function(){return null!==e.state.selectedSession&&e.setSelectSession(!1)},backDropClose:!0,widthSizeClass:P.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(U.jsx)(w.a,{allSession:this.props.sessionPlan.allSessionPlans,setSelectSession:function(t){"all"!==t&&(e.setSelectedSession(t),e.loadReportMainData(t),e.setSelectSession(!1))},chooseAll:!1,currentSelected:this.state.selectedSession?this.state.selectedSession:"all"})}),this.state.chooseDistrict&&this.state.reportMainData&&Object(U.jsx)(P.d,{title:Object(U.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(U.jsx)(f.W,{className:"text-5xl text-blue-600"}),Object(U.jsx)("span",{className:"flex flex-col",children:"Filter by district"})]}),backDrop:!0,theme:P.c.default,close:function(){return e.setChooseDistrict(!1)},backDropClose:!0,widthSizeClass:P.b.medium,displayClose:!0,padding:{title:!0},children:Object(U.jsx)(M.a,{setChooseDistrict:this.setChooseDistrict,districtList:Object(C.b)(this.state.reportMainData),setSelectedDistrict:this.setSelectedDistrict,loadindRequest:this.state.loading,selectedDistrict:this.state.selectedDistrict,isModal:!0})}),this.state.chooseExam&&this.state.reportMainData&&Object(U.jsx)(P.d,{title:Object(U.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(U.jsx)(h.e,{className:"text-5xl text-blue-600"}),Object(U.jsx)("div",{className:"flex flex-col",children:Object(U.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose exam"})})]}),backDrop:!0,theme:P.c.default,close:function(){return e.setState({chooseExam:!1,searchExamInput:""})},backDropClose:!0,widthSizeClass:P.b.extraLarge,displayClose:!0,padding:{title:!0},children:this.state.loadingExam||null===this.props.courses||null===this.props.examsList?Object(U.jsx)(E.a,{}):Object(U.jsxs)("div",{className:"px-2 pb-2",children:[Object(U.jsx)("div",{className:"w-full py-2",children:Object(U.jsx)("input",{onChange:function(t){return e.setState({searchExamInput:t.target.value})},type:"text",value:this.state.searchExamInput,placeholder:"Search...",className:"w-full bg-white py-2 px-3 rounded border border-gray-400",disabled:Object(k.a)(this.props.courses,this.props.examsList).length<=0})}),Object(U.jsxs)("div",{onClick:function(){return e.setState({selectedExam:"all",chooseExam:!1,searchExamInput:""})},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat("all"===this.state.selectedExam?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(U.jsxs)("div",{children:[Object(U.jsxs)("div",{className:"text-sm font-medium italic",children:["code: ",Object(U.jsx)("span",{className:"text-blue-500",children:"-"})]}),Object(U.jsx)("div",{className:"font-bold text-lg",children:"All exams"})]}),Object(U.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]}),Object(k.e)(Object(k.a)(this.props.courses,this.props.examsList),this.state.searchInput).map((function(t,s){return Object(U.jsxs)("div",{onClick:function(){return e.setState({selectedExam:t,chooseExam:!1,searchExamInput:""})},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat("all"!==e.state.selectedExam&&e.state.selectedExam.course_id===t.course_id?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(U.jsxs)("div",{children:[Object(U.jsxs)("div",{className:"text-sm font-medium italic",children:["code:"," ",Object(U.jsx)("span",{className:"text-blue-500",children:t.course_code})]}),Object(U.jsx)("div",{className:"font-bold text-lg",children:t.course_name})]}),Object(U.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]},s+1)}))]})})]})}}]),s}(m.Component),z=Object(g.b)((function(e){var t=e.auth,s=e.course,r=e.prepareExam;return{auth:t,sessionPlan:e.sessionPlan,courses:s.courses,examsList:r.examsList}}),{GetAllSessionPlans:_.b,loadCourses:O.Cc,loadExamsList:O.Hc,PushPopupAlert:O.Nb})(q)},680:function(e,t,s){"use strict";s.d(t,"b",(function(){return x})),s.d(t,"a",(function(){return h}));var r=s(26),a=s(25),n=s(28),o=s(27),i=s(4),c=s.n(i),l=s(22),d=s(3),u=s(12),p=s(1),m=function(e){Object(n.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){return a.props.PageHasSubNav(!0)},a.componentWillUnmount=function(){return a.props.PageHasSubNav(!1)},a.state={loading:!1},a}return Object(a.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(p.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(c.a.Component),x=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.Lb,PageHasSubNav:d.Mb})(m),h=function(e){var t=e.title,s=void 0===t?"":t,r=e.icon,a=void 0===r?u.n:r,n=e.active,o=void 0!==n&&n,i=e.count,c=void 0===i?0:i,l=a;return Object(p.jsxs)("section",{className:"".concat(!0===o?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:s})]}),c>0?Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:c}):null]})}},682:function(e,t,s){"use strict";s.d(t,"g",(function(){return m})),s.d(t,"d",(function(){return x})),s.d(t,"b",(function(){return h})),s.d(t,"f",(function(){return b})),s.d(t,"a",(function(){return j})),s.d(t,"c",(function(){return f})),s.d(t,"e",(function(){return g}));var r,a=s(5),n=s.n(a),o=s(7),i=s(10),c=s.n(i),l=s(6),d=s(9),u=s(16),p=s(15),m=30;!function(e){e.waiting="waiting",e.approved="approved",e.rejected="rejected"}(r||(r={}));var x=function(e,t){return t&&t(!0,""),function(){var s=Object(o.a)(n.a.mark((function s(r){var a;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,Object(u.b)(),s.next=4,c.a.get("".concat(d.a.AUTH,"/users?page=").concat(e,"&limit=").concat(m));case 4:a=s.sent,console.log("===================================="),console.log({fetchUserAccess:a}),console.log("===================================="),r({type:l.a.FETCH_USERS_ACCESS,payload:{users:[{data:a.data.users,page:e}],next:a.data.next,previous:a.data.previous,total_users:a.data.total_users}}),t&&t(!1,"",a.data.users),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(0),console.error({user_error:s.t0}),t&&t(!1,Object(p.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[0,12]])})));return function(e){return s.apply(this,arguments)}}()},h=function(e,t){return function(){var s=Object(o.a)(n.a.mark((function s(r){return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:l.a.BLOCK_USER_TO_SYSTEM,payload:{id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},b=function(e,t){return function(){var s=Object(o.a)(n.a.mark((function s(r){return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:l.a.UNBLOCK_USER_TO_SYSTEM,payload:{id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},j=function(e,t){return function(){var s=Object(o.a)(n.a.mark((function s(r){return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:l.a.ASSIGN_ROLE_TO_USER,payload:{data:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},f=function(e,t){return function(){var s=Object(o.a)(n.a.mark((function s(r){return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:l.a.CUSTOMIZE_USER_ACCESS,payload:{data:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},g=function(e,t){return function(){var s=Object(o.a)(n.a.mark((function s(r){return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:l.a.RESET_USER_ACCESS,payload:{user_id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}},683:function(e,t,s){"use strict";s(4);var r=s(12),a=s(1);t.a=function(){return Object(a.jsx)("div",{className:"my-5",children:Object(a.jsxs)("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center p-6 my-8 text-yellow-900 border border-yellow-900",children:[Object(a.jsx)(r.Q,{className:"text-6xl md:text-9xl"}),Object(a.jsxs)("div",{className:"text-center flex flex-col",children:[Object(a.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:"No session available"}),Object(a.jsx)("span",{className:"text-lg",children:"Please Wait for the system to publish the sessions or contact the administrator"})]})]})})}},684:function(e,t,s){"use strict";s.d(t,"e",(function(){return m})),s.d(t,"c",(function(){return x})),s.d(t,"d",(function(){return h})),s.d(t,"a",(function(){return b})),s.d(t,"f",(function(){return f}));var r,a=s(17),n=s(4),o=s.n(n),i=s(71),c=s(38),l=s(42),d=s(24),u=s(688),p=s(1);!function(e){e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.STATUS="exam_status"}(r||(r={}));var m=function(e){return e!==r.COURSER_NAME&&e!==r.COURSE_CODE&&e!==r.PERIOD&&e!==r.STATUS},x=[{key:r.COURSER_NAME,title:"Course names",status:!0},{key:r.COURSE_CODE,title:"Course code",status:!0},{key:r.SCHOOL_LEVEL,title:"School levels",status:!0},{key:r.PERIOD,title:"Exam period",status:!0},{key:r.DATE,title:"Exam date",status:!0},{key:r.TIME,title:"Exam time",status:!0},{key:r.DURATION,title:"Exam duration",status:!0},{key:r.STATUS,title:"Exam Status",status:!0}],h=function(e){return"Done"===e?"Completed":"Editing"===e?"In exam":e},b=function(e,t,s){var r=[],a=[],n=function(n){if(Object.prototype.hasOwnProperty.call(t,n)){if(a.includes(t[n].id))return"continue";a.push(t[n].id);var o=e.find((function(e){return e.course_id===t[n].course}));if(o){var i=s.find((function(e){return e.course===t[n].course&&e.period===t[n].period}));r.push({course_name:o.course_name,course_code:o.course_code,description:o.description,school_levels:o.school_levels,course_id:o.course_id,exam:t[n],preparation_status:i?i.exam_status:"remaining"})}}};for(var o in t)n(o);return r},j=function(e,t){return"all"===t?e:e.filter((function(e){return e.preparation_status===t}))},f=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var r in e)if(s=!1,"course_name"!==r&&"course_code"!==r&&"preparation_status"!==r||(s=e[r].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},g=function(e){var t=Object(n.useState)(""),s=Object(a.a)(t,2),r=s[0],o=s[1],m=Object(n.useState)(!1),x=Object(a.a)(m,2),g=x[0],O=x[1],_=Object(n.useState)(""),v=Object(a.a)(_,2),E=v[0],y=v[1],P=Object(n.useState)("ASC"),N=Object(a.a)(P,2),C=N[0],R=N[1],T=function(e){E===e&&"ASC"===C?(R("DESC"),y(e),O(!0)):(R("ASC"),y(e),O(!0))};return Object(p.jsx)(n.Fragment,{children:Object(p.jsxs)("div",{className:"bg-white my-4",children:[Object(p.jsx)("div",{className:"w-full px-2 py-2",children:Object(p.jsx)("input",{onChange:function(e){return o(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.doneExamsData&&j(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress).length<=0)})}),Object(p.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(p.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return T("course_name")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(p.jsx)(i.j,{})]})}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return T("preparation_status")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Exam Status ",Object(p.jsx)(i.j,{})]})})]})}),Object(p.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:7,className:"px-2 py-2",children:Object(p.jsx)(c.a,{})})}):e.examsListData&&e.doneExamsData&&j(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress).length<=0?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:7,className:"px-2 py-2 text-center",children:"No Exam list available!"})}):e.examsListData&&e.doneExamsData&&Object(d.p)(g,f(j(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress),r),E,C).map((function(t,s){return Object(p.jsxs)("tr",{className:"".concat("Done"===t.preparation_status?"bg-blue-50":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(p.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(p.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(t.course_name)," (",Object(p.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.exam_date):"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(u.getPeriodById)(e.thisPeriod,t.exam.period)?Object(u.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:Object(l.a)(h(t.preparation_status))})]},s+1)}))})]})]})})};t.b=o.a.memo(g)},686:function(e,t,s){"use strict";s(4);var r=s(1);t.a=function(e){var t=function(){for(var t=[],s=0;s<e.cols;s++)t.push(s);return t.map((function(e){return Object(r.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(r.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(r.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(r.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},687:function(e,t,s){"use strict";var r=s(17),a=s(4),n=s.n(a),o=s(708),i=s.n(o),c=s(1),l={borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},d=function(e){var t=Object(a.useState)(!0),s=Object(r.a)(t,2),n=s[0],o=s[1],d=Object(a.useState)({chart:{events:{dataPointSelection:function(t,s,r){console.log({labelClicked:r.w.config.labels[r.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(r.dataPointIndex,r.seriesIndex)}},stacked:!!e.stacked&&e.stacked},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"}}),u=Object(r.a)(d,2),p=u[0],m=u[1];return Object(a.useEffect)((function(){e.colors&&e.colors.length>0&&n?m({chart:{stacked:!!e.stacked&&e.stacked,events:{dataPointSelection:function(t,s,r){console.log({chartClicked:r.w.config.labels[r.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(r.dataPointIndex,r.seriesIndex)}},zoom:{enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"},colors:e.colors}):n&&m({chart:{stacked:!!e.stacked&&e.stacked,events:{dataPointSelection:function(t,s,r){console.log({labelClicked:r.w.config.labels[r.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(r.dataPointIndex,r.seriesIndex)}},zoom:{enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"}}),o(!1)}),[n,p,e]),n?Object(c.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):Object(c.jsx)("div",{className:"w-full",children:Object(c.jsx)(i.a,{options:p,series:e.series,type:"bar",width:"100%",height:e.chartHeight?e.chartHeight:void 0})})};t.a=n.a.memo(d)},688:function(e,t,s){"use strict";s.r(t),s.d(t,"getExamByCourseId",(function(){return H})),s.d(t,"getPeriodById",(function(){return B})),s.d(t,"loadAllExams",(function(){return V})),s.d(t,"reportTitleType",(function(){return r})),s.d(t,"ExamReport",(function(){return J}));var r,a=s(5),n=s.n(a),o=s(7),i=s(26),c=s(25),l=s(28),d=s(27),u=s(4),p=s.n(u),m=s(71),x=s(204),h=s(12),b=s(22),j=s(3),f=s(202),g=s(690),O=s(38),_=s(680),v=s(160),E=s(8),y=s(21),P=s(42),N=s(24),C=s(683),R=s(17),T=s(698),S=s(684),I=s(1),A=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",n=[];n="all"===a?e:e.filter((function(e){return e.exam_stastus===a})),s&&(n=n.filter((function(e){return e.exam.exam_location&&e.exam.exam_location.district_id===s}))),r&&(n=n.filter((function(e){return e.course_id===r})));for(var o=0;o<n.length;o++)for(var i=o;i<n.length;i++)n[i].user_total_marks>n[o].user_total_marks&&(t=n[i],n[i]=n[o],n[o]=t);return n},D=p.a.memo(Object(b.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(u.useState)(""),s=Object(R.a)(t,2),r=s[0],a=s[1];return Object(I.jsx)(u.Fragment,{children:Object(I.jsxs)("div",{className:"bg-white my-4",children:[Object(I.jsx)("div",{className:"w-full px-2 py-2",children:Object(I.jsx)("input",{onChange:function(e){return a(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.candidatePerformanceData&&A(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).length<=0)})}),Object(I.jsx)("div",{className:"w-full overflow-x-auto",children:Object(I.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(I.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Applicants"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Email"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(I.jsx)("td",{className:"px-2 py-2",children:Object(I.jsx)("div",{className:"flex items-center gap-1",children:"Exam"})}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Exam period"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Exam start time"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Exam end time"}),Object(I.jsx)("td",{className:"px-2 py-2",children:Object(I.jsx)("div",{className:"flex items-center gap-1",children:"Marks"})}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(I.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:12,className:"px-2 py-2",children:Object(I.jsx)(O.a,{})})}):e.candidatePerformanceData&&A(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).length<=0?Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:12,className:"px-2 py-2 text-center",children:"No applicant list available!"})}):e.candidatePerformanceData&&Object(T.g)(A(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).slice(0,30),r).map((function(t,s){return Object(I.jsxs)("tr",{className:"".concat(Object(T.d)(t.exam_stastus)," text-gray-600 hover:bg-blue-100 hover:text-blue-700 text-sm"),children:[Object(I.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(I.jsx)("td",{className:"px-2 py-2",children:Object(P.a)(t.user_name)}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.national_id}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.user_email}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.user_phone}),Object(I.jsxs)("td",{className:"px-2 py-2",children:[Object(P.a)(t.course_name)," (",Object(I.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.exam&&B(e.thisPeriod,t.exam.period)?B(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.exam.exam_date?Object(N.a)(t.exam.exam_date):"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.exam.start_time?Object(N.q)(t.exam.start_time).timeAMPM:"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.exam.end_time?Object(N.q)(t.exam.end_time).timeAMPM:"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.exam_stastus!==E.i.Editing?Number(t.user_total_marks.toFixed(1))+"%":"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:Object(P.a)(Object(S.d)(t.exam_stastus))})]},s+1)}))})]})})]})})}))),w=s(700),L=s(722),k=s(47),M=function(e,t,s,r,a){var n,o=0,i=0,c=[],l=[],d=[],u=s.filter((function(e){return"done"===e.exam_status.toLocaleLowerCase()})),p=function(s){if(Object.prototype.hasOwnProperty.call(u,s)){if(d.includes(u[s].id))return"continue";d.push(u[s].id);var n=e.find((function(e){return e.course_id===u[s].course})),p=0;if(n){var m=r.filter((function(e){return e.course===u[s].course&&e.exam_location&&e.exam_location.district_id===a}));for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)){if(l.includes(m[x].user.user_id))continue;l.push(m[x].user.user_id),p+=m[x].total_marks,m[x].user_status!==E.i.Editing&&m[x].total_marks>=50?o+=1:m[x].user_status!==E.i.Editing&&(i+=1)}var h=t.find((function(e){return e.course===u[s].course&&e.period===u[s].period}));h&&c.push({course_name:n.course_name,course_code:n.course_code,description:n.description,school_levels:n.school_levels,course_id:n.course_id,exam:h,pass_applicant:o,failed_applicant:i,applicants:l.length,user_total_marks:p?p/l.length:p}),p=0,l=[]}}d=[]};for(var m in u)p(m);for(var x=0;x<c.length;x++)for(var h=x;h<c.length;h++)c[h].user_total_marks>c[x].user_total_marks&&(n=c[h],c[h]=c[x],c[x]=n);return c},U=p.a.memo(Object(b.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(u.useState)(""),s=Object(R.a)(t,2),r=s[0],a=s[1];return Object(I.jsx)(u.Fragment,{children:Object(I.jsxs)("div",{className:"bg-white my-4 max-w-full overflow-x-auto",children:[Object(I.jsx)("div",{className:"w-full px-2 py-2",children:Object(I.jsx)("input",{onChange:function(e){return a(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&M(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).slice(0,30).length<=0)})}),Object(I.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(I.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(I.jsx)("td",{className:"px-2 py-2 cursor-pointer",children:Object(I.jsx)("div",{className:"flex items-center gap-1",children:"Course"})}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Pass Applicants"}),Object(I.jsx)("td",{className:"px-2 py-2",children:"Failed Applicants"}),Object(I.jsx)("td",{className:"px-2 py-2 cursor-pointer",children:Object(I.jsx)("div",{className:"flex items-center gap-1",children:"Percentage"})})]})}),Object(I.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:7,className:"px-2 py-2",children:Object(I.jsx)(O.a,{})})}):e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&M(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).length<=0?Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:7,className:"px-2 py-2 text-center",children:Object(I.jsx)(v.b,{theme:v.a.Dark,value:"No Exam list available!"})})}):e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&Object(k.a)(M(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).slice(0,30),r).map((function(t,s){return Object(I.jsxs)("tr",{className:"bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm",children:[Object(I.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(I.jsxs)("td",{className:"px-2 py-2",children:[Object(P.a)(t.course_name)," (",Object(I.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(N.a)(t.exam.exam_date):"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:t.exam&&B(e.thisPeriod,t.exam.period)?B(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:void 0!==t.pass_applicant?t.pass_applicant:"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:void 0!==t.failed_applicant?t.failed_applicant:"-"}),Object(I.jsx)("td",{className:"px-2 py-2",children:Number(t.user_total_marks.toFixed(1))+"%"})]},s+1)}))})]})]})})}))),F=function(e){return Object(I.jsx)(u.Fragment,{children:e.reportTitle!==r.EXAM_PERFORMANCE&&e.reportTitle!==r.EXAM_DISTRICT_PERFORMANCE&&Object(I.jsxs)("div",{className:"pt-1",children:[Object(I.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Filter by statuses:"}),e.reportTitle===r.EXAM_PREPARATION&&Object(I.jsxs)("section",{children:[Object(I.jsx)("div",{onClick:function(){return e.setFilterPreparation("all")},children:Object(I.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterPreparation})}),Object(I.jsx)("div",{onClick:function(){return e.setFilterPreparation("prepared")},children:Object(I.jsx)(_.a,{title:"Prepared",count:0,active:"prepared"===e.filterPreparation})}),Object(I.jsx)("div",{onClick:function(){return e.setFilterPreparation("not prepared")},children:Object(I.jsx)(_.a,{title:"Not Prepared",count:0,active:"not prepared"===e.filterPreparation})})]}),e.reportTitle===r.EXAMINATION_PROGRESS&&Object(I.jsxs)("section",{children:[Object(I.jsx)("div",{onClick:function(){return e.setFilterExamProgress("all")},children:Object(I.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterExamProgress})}),Object(I.jsx)("div",{onClick:function(){return e.setFilterExamProgress("Done")},children:Object(I.jsx)(_.a,{title:"Completed exam",count:0,active:"Done"===e.filterExamProgress})}),Object(I.jsx)("div",{onClick:function(){return e.setFilterExamProgress("Active")},children:Object(I.jsx)(_.a,{title:"Remaining Exam",count:0,active:"Active"===e.filterExamProgress})})]}),(e.reportTitle===r.APPLICANTS_PERFORMANCE||e.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(I.jsxs)("section",{children:[Object(I.jsx)("div",{onClick:function(){return e.setFilterApplicantPerformance("all")},children:Object(I.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterApplicantPerformance})}),Object.values(E.i).map((function(t,s){return Object(I.jsx)("div",{onClick:function(){return e.setFilterApplicantPerformance(t)},children:Object(I.jsx)(_.a,{title:Object(S.d)(t),count:0,active:e.filterApplicantPerformance===t})},s+t)}))]})]})})},q=p.a.memo(F),z=s(704),G=s(53),X=s(746),Y=p.a.memo(Object(b.b)((function(e){var t=e.adminExamReport,s=e.schoolLevels,r=e.course,a=e.prepareExam;return{schoolLevels:s,courses:r.courses,examsList:a.examsList,adminExamReport:t}}),{SetReportDistrictId:j.Ub})((function(e){var t=Object(u.useState)(!1),s=Object(R.a)(t,2),a=s[0],n=s[1],o=Object(u.useState)(!1),i=Object(R.a)(o,2),c=i[0],l=i[1],d=Object(u.useState)(!1),p=Object(R.a)(d,2),x=p[0],h=p[1],b=Object(u.useState)(!1),j=Object(R.a)(b,2),f=j[0],g=j[1];return Object(u.useEffect)((function(){e.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&null===e.adminExamReport.reportDistrictId&&l(!0),e.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&null!==e.adminExamReport.reportDistrictId&&l(!1)}),[e.adminExamReport.reportDistrictId,e.reportTitle]),Object(I.jsxs)(u.Fragment,{children:[Object(I.jsxs)("div",{className:"grid md:grid-cols-12 items-center",children:[Object(I.jsx)("div",{className:"col-span-1 md:col-span-8",children:Object(I.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(I.jsx)("span",{className:"text-xl font-bold text-gray-700",children:"Exam Report"}),Object(I.jsxs)("div",{className:"flex flex-row gap-2 items-end cursor-pointer",onClick:function(){return n(!0)},children:[Object(I.jsx)("span",{className:"text-gray-500 text-xl",children:"Report type: "}),Object(I.jsxs)("span",{className:"text-blue-600 text-3xl font-bold underline",children:[e.reportTitle," ",e.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_name:""]})]}),(e.reportTitle===r.EXAM_DISTRICT_PERFORMANCE||e.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE||e.reportTitle===r.APPLICANTS_PERFORMANCE)&&Object(I.jsxs)("div",{className:"flex flex-wrap justify-starts items-center text-xs text-gray-800 font-medium gap-1 my-1",children:[Object(I.jsx)("span",{className:"text-gray-500",children:"Filter result: "}),!e.adminExamReport.reportDistrictId||e.reportTitle!==r.APPLICANTS_DISTRICT_PERFORMANCE&&e.reportTitle!==r.EXAM_DISTRICT_PERFORMANCE?Object(I.jsx)("span",{className:"px-2 py-1 rounded bg-gray-300",children:"# All district"}):Object(I.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-300",children:["# ",e.adminExamReport.reportDistrictId.district_name]}),e.adminExamReport.reportCourseId?e.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE&&Object(I.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-300",children:["#",e.adminExamReport.reportCourseId.course_name+" ("+e.adminExamReport.reportCourseId.course_code+")"]}):Object(I.jsx)("span",{className:"px-2 py-1 rounded bg-gray-300",children:"# All exams"})]})]})}),Object(I.jsx)("div",{className:"col-span-1 md:col-span-4",children:Object(I.jsxs)("div",{className:"float-right mt-3",children:[e.dataToPrint&&e.dataToPrint.length>0&&Object(I.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(I.jsx)(m.e,{className:"text-2xl text-gray-500"}),Object(I.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(I.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 focus:outline-none",onClick:function(){e.updateExamToPrint(),h(!0),e.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(I.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 focus:outline-none ".concat(e.downloading&&"cursor-wait"),onClick:function(){return e.downlaodPDF()},disabled:e.downloading,children:"PDF"})]}),Object(I.jsx)("div",{children:Object(I.jsxs)("div",{onClick:function(){return n(!0)},className:"bg-blue-50 py-2 px-2 border border-blue-300 text-blue-600 font-medium hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm float-right",children:[Object(I.jsx)(G.e,{className:"text-xl"}),"Change Report"]})}),Object(I.jsxs)("section",{className:"flex items-center gap-1 float-right mt-1",children:[(e.reportTitle===r.EXAM_DISTRICT_PERFORMANCE||e.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(I.jsxs)("div",{onClick:function(){return l(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(I.jsx)(m.g,{className:"text-xl"}),"Filter by district"]}),(e.reportTitle===r.APPLICANTS_PERFORMANCE||e.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(I.jsxs)("div",{onClick:function(){return g(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(I.jsx)(m.g,{className:"text-xl"}),"Filter by exam"]})]})]})})]}),x&&Object(I.jsx)(z.b,{modalFor:z.a.generateReportModal,modalState:x,changeModalState:h,reportTitle:e.reportTitle,setGenerateReportModal:e.setGenerateReportModal,excelReportTitle:e.excelReportTitle,setExcelReportTitle:e.setExcelReportTitle,updateExamToPrint:e.updateExamToPrint,generateReportModal:e.generateReportModal,examsToPrint:e.examsToPrint,examPreparationReportContent:e.examPreparationReportContent,setExamPreparationReportContent:e.setExamPreparationReportContent,examPerformanceToPrint:e.examPerformanceToPrint,examPerformanceReportContent:e.examPerformanceReportContent,setExamPerformanceReportContent:e.setExamPerformanceReportContent,exam30PerformanceToPrint:e.exam30PerformanceToPrint,exam30PerformanceReportContent:e.exam30PerformanceReportContent,setExam30PerformanceReportContent:e.setExam30PerformanceReportContent,examinationProgressToPrint:e.examinationProgressToPrint,examinationProgressReportContent:e.examinationProgressReportContent,setExaminationProgressExamPerformanceReportContent:e.setExaminationProgressExamPerformanceReportContent,candidateExamPerformanceToPrint:e.candidateExamPerformanceToPrint,candidateExamPerformanceReportContent:e.candidateExamPerformanceReportContent,setCandidateExamPerformanceReportContent:e.setCandidateExamPerformanceReportContent,candidate30ExamPerformanceToPrint:e.candidate30ExamPerformanceToPrint,candidate30ExamPerformanceReportContent:e.candidate30ExamPerformanceReportContent,setCandidate30ExamPerformanceReportContent:e.setCandidate30ExamPerformanceReportContent}),a&&Object(I.jsx)(z.b,{modalFor:z.a.title,modalState:a,reportTitle:e.reportTitle,changeModalState:n,setReportTitle:e.setReportTitle,setExcelReportTitle:e.setExcelReportTitle}),c&&Object(I.jsx)(z.b,{modalFor:z.a.choose_district,modalState:c,changeModalState:l,districtId:e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:"all",reportTitle:e.reportTitle}),f&&Object(X.loadExaminationProgress)(e.adminExamReport.DoneExam,e.examsList,e.schoolLevels.selectedEducationCategory,e.courses,e.schoolLevels.school_levels,e.thisPeriod)&&Object(I.jsx)(z.b,{modalFor:z.a.choose_exam,modalState:f,AllExamData:Object(X.loadExaminationProgress)(e.adminExamReport.DoneExam,e.examsList,e.schoolLevels.selectedEducationCategory,e.courses,e.schoolLevels.school_levels,e.thisPeriod).finished,changeModalState:g,thisExam:e.adminExamReport.reportCourseId})]})}))),H=function(e,t){return e.find((function(e){return e.course===t}))},B=function(e,t){return e.find((function(e){return e.session_plan_id===t}))},V=function(e,t){var s=e;return s=s&&t?s.filter((function(e){return e.period===(null===t||void 0===t?void 0:t.session_plan_id)})):e};!function(e){e.APPLICANTS_PERFORMANCE="Exam report",e.EXAM_PREPARATION="List of prepared and not prepared exams",e.EXAM_PERFORMANCE="Exam performance",e.EXAMINATION_PROGRESS="List of complete & remaining exams",e.EXAM_DISTRICT_PERFORMANCE="Top 30 exams passed in",e.APPLICANTS_DISTRICT_PERFORMANCE="Top 30 applicants performance"}(r||(r={}));var W=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setLoadingCourses=function(e){a.setState({loadingCourses:e})},a.setLoadingExams=function(e){a.setState({loadingExams:e})},a.setDownloading=function(e){a.setState({downloading:e})},a.setLoadingDoneExam=function(e){a.setState({loadingDoneExam:e})},a.setLoadingCandidatesExamPerformance=function(e){a.setState({loadingCandidatesExamPerformance:e})},a.setLoadingExamPerformance=function(e){a.setState({loadingExamPerformance:e})},a.setLoadingSettings=function(e){a.setState({loadingSettings:e})},a.setSelectPeriod=function(e){a.setState({selectPeriod:e})},a.setDistrictModal=function(e){a.setState({districtModal:e})},a.setFilterPreparation=function(e){a.setState({filterPreparation:e})},a.setFilterExamProgress=function(e){a.setState({filterExamProgress:e})},a.setFilterApplicantPerformance=function(e){a.setState({filterApplicantPerformance:e})},a.setGenerateReportModal=function(e){a.setState({generateReportModal:e})},a.setSelectedPeriod=function(e){a.setState({selected_period:e})},a.setReportTitle=function(e){a.setState({reportTitle:e})},a.setExcelReportTitle=function(e){a.setState({excelReportTitle:e})},a.setExamsToPrint=function(e){a.setState({examsToPrint:e})},a.setExamPreparationReportContent=function(e){a.setState({examPreparationReportContent:e})},a.setExamPerformanceToPrint=function(e){a.setState({examPerformanceToPrint:e})},a.setExamPerformanceReportContent=function(e){a.setState({examPerformanceReportContent:e})},a.setExam30PerformanceToPrint=function(e){a.setState({exam30PerformanceToPrint:e})},a.setExam30PerformanceReportContent=function(e){a.setState({exam30PerformanceReportContent:e})},a.setExaminationProgressToPrint=function(e){a.setState({examinationProgressToPrint:e})},a.setExaminationProgressExamPerformanceReportContent=function(e){a.setState({examinationProgressReportContent:e})},a.setCandidateExamPerformanceToPrint=function(e){a.setState({candidateExamPerformanceToPrint:e})},a.setCandidateExamPerformanceReportContent=function(e){a.setState({candidateExamPerformanceReportContent:e})},a.setCandidate30ExamPerformanceToPrint=function(e){a.setState({candidate30ExamPerformanceToPrint:e})},a.setCandidate30ExamPerformanceReportContent=function(e){a.setState({candidate30ExamPerformanceReportContent:e})},a.selectDefaultSession=function(e){if(e.length>0){var t=e.find((function(e){return e.is_active}));a.setSelectedPeriod(t||e[0])}a.setSelectPeriod(!1)},a.componentDidMount=function(){if(null===a.props.periods.allSessionPlans||0===a.props.periods.allSessionPlans.length?a.props.GetAllSessionPlans((function(e,t,s){a.setLoadingSettings(e),e||(Object(P.e)(t)||a.props.PushPopupAlert({title:t,theme:y.a.danger}),s&&s.length>0&&null===a.state.selected_period&&a.selectDefaultSession(s))})):null===a.state.selected_period&&a.selectDefaultSession(a.props.periods.allSessionPlans),null===a.props.schoolLevels.education_categories||a.props.schoolLevels.education_categories.length?a.props.loadEducationCategories((function(e,t,s){a.setLoadingSettings(e),e||(Object(P.e)(t)||a.props.PushPopupAlert({title:t,theme:y.a.danger}),s&&s.length>0&&!a.props.schoolLevels.selectedEducationCategory&&a.props.setSelectedEducationCategory(s[0]))})):a.props.schoolLevels.selectedEducationCategory||a.props.setSelectedEducationCategory(a.props.schoolLevels.education_categories[0]),(null===a.props.schoolLevels.school_levels||a.props.schoolLevels.school_levels.length<=0)&&a.props.loadSchoolLevels(a.setLoadingSettings),null===a.props.courses||0===a.props.courses.length&&a.state.loadingCourses?a.props.loadCourses(a.setLoadingCourses):a.state.loadingCourses&&a.setLoadingCourses(!1),null===a.props.examsList||0===a.props.examsList.length&&a.state.loadingExams?a.props.loadExamsList(a.setLoadingExams):a.state.loadingExams&&a.setLoadingExams(!1),a.props.auth.application_session&&a.props.auth.application_session.session_plan_id&&(null===a.props.adminExamReport.DoneExam||0===a.props.adminExamReport.DoneExam.length&&a.state.loadingDoneExam)?a.props.loadDoneExam(a.props.auth.application_session.session_plan_id,(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:y.a.danger}),a.setLoadingDoneExam(!1))})):a.state.loadingDoneExam&&a.setLoadingDoneExam(!1),a.props.auth.application_session&&a.props.auth.application_session.session_plan_id&&(null===a.props.adminExamReport.CandidatesExamPerformance||0===a.props.adminExamReport.CandidatesExamPerformance.length&&a.state.loadingCandidatesExamPerformance)?a.props.loadCandidatesExamPerformance({order:"desc",sortBy:j.Qb.DATE,filter:{period:a.props.auth.application_session.session_plan_id}},(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:y.a.danger}),a.setLoadingCandidatesExamPerformance(!1))})):a.state.loadingCandidatesExamPerformance&&a.setLoadingCandidatesExamPerformance(!1),a.props.auth.application_session&&a.props.auth.application_session.session_plan_id&&(null===a.props.adminExamReport.ExamPerformance||0===a.props.adminExamReport.ExamPerformance.length&&a.state.loadingExamPerformance)?a.props.loadPerfomranceExam(a.props.auth.application_session.session_plan_id,(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:y.a.danger}),a.setLoadingExamPerformance(!1))})):a.state.loadingExamPerformance&&a.setLoadingExamPerformance(!1),a.state.excelReportTitle===a.state.reportTitle){var e="";a.state.excelReportTitle===r.EXAM_DISTRICT_PERFORMANCE&&a.props.adminExamReport.reportDistrictId?e+=" ".concat(a.props.adminExamReport.reportDistrictId.district_name," district"):a.state.excelReportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE?(a.props.adminExamReport.reportDistrictId&&(e+=" in ".concat(a.props.adminExamReport.reportDistrictId.district_name," district")),a.props.adminExamReport.reportCourseId&&(e+=" in exam of ".concat(a.props.adminExamReport.reportCourseId.course_name,"(").concat(a.props.adminExamReport.reportCourseId.course_code,")"))):e="",a.setExcelReportTitle(a.state.excelReportTitle+e),a.setLoading(!1)}},a.onPeriodChange=function(e){a.props.loadDoneExam(e,(function(e,t){a.setLoadingDoneExam(e),e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:y.a.danger}),a.setLoadingDoneExam(!1))})),a.props.loadPerfomranceExam(e,(function(e,t){a.setLoadingExamPerformance(e),e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:y.a.danger}),a.setLoadingExamPerformance(!1))})),a.props.loadCandidatesExamPerformance({order:"desc",sortBy:j.Qb.DATE,filter:{period:e}},(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:y.a.danger}),a.setLoadingCandidatesExamPerformance(!1))}))},a.getLevelbyId=function(e){if(a.props.schoolLevels.school_levels)return a.props.schoolLevels.school_levels.find((function(t){return t.school_level_id===e}))},a.getCourses=function(){var e=[],t=!0;if(a.props.courses)if(a.props.schoolLevels.selectedEducationCategory){var s=function(t){Object.prototype.hasOwnProperty.call(a.props.courses,t)&&(a.props.courses[t].school_levels.length>0?a.props.courses[t].school_levels.forEach((function(s){var r=a.getLevelbyId(s);r&&(r.education_institute.includes(a.props.schoolLevels.selectedEducationCategory.education_institute_id)||r.education_institute.length<=0)&&e&&e.push(a.props.courses[t])})):e&&e.push(a.props.courses[t]))};for(var r in a.props.courses)s(r)}else t=!1;return t?e:a.props.courses},a.updateExamToPrint=function(){if(a.state.reportTitle===r.EXAM_PREPARATION&&V(a.props.examsList,a.state.selected_period)&&a.getCourses()&&a.props.periods.allSessionPlans){var e=Object(w.a)(a.getCourses(),V(a.props.examsList,a.state.selected_period)),t=[],s=1;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o="";e[n].school_levels.length?e[n].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?o=s?s.school_level_name:"":o+=s?", "+s.school_level_name:""})):o="Any level";var i={course_id:s,course_name:e[n].course_name,course_code:e[n].course_code,description:e[n].description,school_levels:e[n].school_levels.length?o:"Any",exam_period:e[n].exam&&B(a.props.periods.allSessionPlans,e[n].exam.period)?B(a.props.periods.allSessionPlans,e[n].exam.period).session_plan_name:"-",exam_date:e[n].exam?Object(N.a)(e[n].exam.exam_date):"-",exam_time:e[n].exam?e[n].exam.start_time:"-",exam_duration:e[n].exam?e[n].exam.duration.toString():"-",preparation_status:e[n].exam?"Prepared":"Not prepared"};for(var c in a.state.examPreparationReportContent)Object.prototype.hasOwnProperty.call(a.state.examPreparationReportContent,c)&&(a.state.examPreparationReportContent[c].status||delete i[a.state.examPreparationReportContent[c].key]);t.push(i),s++}a.setExamsToPrint(t),t=[],s=1}if(a.state.reportTitle===r.EXAM_PERFORMANCE&&V(a.props.examsList,a.state.selected_period)&&a.getCourses()&&a.props.adminExamReport.ExamPerformance&&a.props.periods.allSessionPlans){var l=Object(L.a)(a.getCourses(),V(a.props.examsList,a.state.selected_period),a.props.adminExamReport.ExamPerformance),d=[],u=1;for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var m="";l[p].school_levels.length?l[p].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?m=s?s.school_level_name:"":m+=s?", "+s.school_level_name:""})):m="Any level";var x={course_id:u,course_name:l[p].course_name,course_code:l[p].course_code,description:l[p].description,school_levels:l[p].school_levels.length?m:"Any",exam_period:l[p].exam&&B(a.props.periods.allSessionPlans,l[p].exam.period)?B(a.props.periods.allSessionPlans,l[p].exam.period).session_plan_name:"-",exam_date:l[p].exam?Object(N.a)(l[p].exam.exam_date):"-",exam_time:l[p].exam?l[p].exam.start_time:"-",exam_duration:l[p].exam?l[p].exam.duration.toString():"-",exam_performance:Number(l[p].exam_performance.toFixed(1))};for(var h in a.state.examPerformanceReportContent)Object.prototype.hasOwnProperty.call(a.state.examPerformanceReportContent,h)&&(a.state.examPerformanceReportContent[h].status||delete x[a.state.examPerformanceReportContent[h].key]);d.push(x),u++}a.setExamPerformanceToPrint(d),d=[],u=1}if(a.state.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&V(a.props.examsList,a.state.selected_period)&&a.getCourses()&&a.props.adminExamReport.DoneExam&&a.props.adminExamReport.CandidatesExamPerformance&&a.props.adminExamReport.reportDistrictId&&a.props.periods.allSessionPlans){var b=M(a.getCourses(),V(a.props.examsList,a.state.selected_period),a.props.adminExamReport.DoneExam,a.props.adminExamReport.CandidatesExamPerformance,a.props.adminExamReport.reportDistrictId.district_id).slice(0,30),j=[],f=1;for(var g in b)if(Object.prototype.hasOwnProperty.call(b,g)){var O="";b[g].school_levels.length?b[g].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?O=s?s.school_level_name:"":O+=s?", "+s.school_level_name:""})):O="Any level";var _={course_id:f,course_name:b[g].course_name,course_code:b[g].course_code,description:b[g].description,school_levels:b[g].school_levels.length?O:"Any",exam_period:b[g].exam&&B(a.props.periods.allSessionPlans,b[g].exam.period)?B(a.props.periods.allSessionPlans,b[g].exam.period).session_plan_name:"-",exam_date:b[g].exam?Object(N.a)(b[g].exam.exam_date):"-",exam_time:b[g].exam?b[g].exam.start_time:"-",exam_duration:b[g].exam?b[g].exam.duration.toString():"-",exam_performance:0};for(var v in a.state.exam30PerformanceReportContent)Object.prototype.hasOwnProperty.call(a.state.exam30PerformanceReportContent,v)&&(a.state.exam30PerformanceReportContent[v].status||delete _[a.state.exam30PerformanceReportContent[v].key]);j.push(_),f++}a.setExam30PerformanceToPrint(j),j=[],f=1}if(a.state.reportTitle===r.EXAMINATION_PROGRESS&&V(a.props.examsList,a.state.selected_period)&&a.getCourses()&&a.props.adminExamReport.DoneExam&&a.props.periods.allSessionPlans){var y=Object(S.a)(a.getCourses(),V(a.props.examsList,a.state.selected_period),a.props.adminExamReport.DoneExam),C=[],R=1;for(var I in y)if(Object.prototype.hasOwnProperty.call(y,I)){var D="";y[I].school_levels.length?y[I].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?D=s?s.school_level_name:"":D+=s?", "+s.school_level_name:""})):D="Any level";var k={course_id:R,course_name:y[I].course_name,course_code:y[I].course_code,description:y[I].description,school_levels:y[I].school_levels.length?D:"Any",exam_period:y[I].exam&&B(a.props.periods.allSessionPlans,y[I].exam.period)?B(a.props.periods.allSessionPlans,y[I].exam.period).session_plan_name:"-",exam_date:y[I].exam?Object(N.a)(y[I].exam.exam_date):"-",exam_time:y[I].exam?y[I].exam.start_time:"-",exam_duration:y[I].exam?y[I].exam.duration.toString():"-",exam_status:"Done"===y[I].preparation_status?"Completed":y[I].preparation_status};for(var U in a.state.examinationProgressReportContent)Object.prototype.hasOwnProperty.call(a.state.examinationProgressReportContent,U)&&(a.state.examinationProgressReportContent[U].status||delete k[a.state.examinationProgressReportContent[U].key]);C.push(k),R++}a.setExaminationProgressToPrint(C),C=[],R=1}if(a.state.reportTitle===r.APPLICANTS_PERFORMANCE&&a.getCourses()&&a.props.adminExamReport.CandidatesExamPerformance&&a.props.periods.allSessionPlans){var F=Object(T.a)(a.getCourses(),a.props.adminExamReport.CandidatesExamPerformance,a.props.adminExamReport.reportCourseId?a.props.adminExamReport.reportCourseId.course_id:"all"),q=[],z=1;for(var G in F)if(Object.prototype.hasOwnProperty.call(F,G)){var X="";F[G].school_levels.length?F[G].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?X=s?s.school_level_name:"":X+=s?", "+s.school_level_name:""})):X="Any level";var Y={applicant_id:z,course_name:F[G].course_name,course_code:F[G].course_code,description:F[G].description,school_levels:F[G].school_levels.length?X:"Any",exam_period:B(a.props.periods.allSessionPlans,F[G].exam.period)?B(a.props.periods.allSessionPlans,F[G].exam.period).session_plan_name:"-",exam_date:Object(N.a)(F[G].exam.exam_date),exam_start_time:Object(N.q)(Number(F[G].exam.start_time)).timeAMPM,exam_end_time:Object(N.q)(Number(F[G].exam.end_time)).timeAMPM,performance_status:Object(P.a)(Object(S.d)(F[G].exam_stastus)),applicant_name:Object(P.a)(F[G].user_name),national_id:F[G].national_id,email:F[G].user_email,phone:F[G].user_phone,marks:F[G].exam_stastus!==E.i.Editing?Number(F[G].user_total_marks.toFixed(1))+"%":"-"};for(var H in a.state.candidateExamPerformanceReportContent)Object.prototype.hasOwnProperty.call(a.state.candidateExamPerformanceReportContent,H)&&(a.state.candidateExamPerformanceReportContent[H].status||delete Y[a.state.candidateExamPerformanceReportContent[H].key]);q.push(Y),z++}a.setCandidateExamPerformanceToPrint(q),q=[],z=1}if(a.state.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE&&a.getCourses()&&a.props.adminExamReport.CandidatesExamPerformance&&a.props.periods.allSessionPlans){var W=A(Object(T.a)(a.getCourses(),a.props.adminExamReport.CandidatesExamPerformance,a.props.adminExamReport.reportCourseId?a.props.adminExamReport.reportCourseId.course_id:"all"),a.props.adminExamReport.reportDistrictId?a.props.adminExamReport.reportDistrictId.district_id:null,a.props.adminExamReport.reportCourseId?a.props.adminExamReport.reportCourseId.course_id:null,a.state.filterApplicantPerformance).slice(0,30),J=[],K=1;for(var Q in W)if(Object.prototype.hasOwnProperty.call(W,Q)){var Z="";W[Q].school_levels.length?W[Q].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?Z=s?s.school_level_name:"":Z+=s?", "+s.school_level_name:""})):Z="Any level";var $={applicant_id:K,course_name:W[Q].course_name,course_code:W[Q].course_code,description:W[Q].description,school_levels:W[Q].school_levels.length?Z:"Any",exam_period:B(a.props.periods.allSessionPlans,W[Q].exam.period)?B(a.props.periods.allSessionPlans,W[Q].exam.period).session_plan_name:"-",exam_date:Object(N.a)(W[Q].exam.exam_date),exam_start_time:Object(N.q)(Number(W[Q].exam.start_time)).timeAMPM,exam_end_time:Object(N.q)(Number(W[Q].exam.end_time)).timeAMPM,performance_status:Object(P.a)(Object(S.d)(W[Q].exam_stastus)),applicant_name:Object(P.a)(W[Q].user_name),national_id:W[Q].national_id,email:W[Q].user_email,phone:W[Q].user_phone,marks:W[Q].exam_stastus!==E.i.Editing?Number(W[Q].user_total_marks.toFixed(1))+"%":"-"};for(var ee in a.state.candidate30ExamPerformanceReportContent)Object.prototype.hasOwnProperty.call(a.state.candidate30ExamPerformanceReportContent,ee)&&(a.state.candidate30ExamPerformanceReportContent[ee].status||delete $[a.state.candidate30ExamPerformanceReportContent[ee].key]);J.push($),K++}a.setCandidate30ExamPerformanceToPrint(J),J=[],K=1}},a.addToTitle=function(){var e="";return a.state.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&a.props.adminExamReport.reportDistrictId?e+=" ".concat(a.props.adminExamReport.reportDistrictId.district_name," district"):a.state.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE?(a.props.adminExamReport.reportDistrictId&&(e+=" in ".concat(a.props.adminExamReport.reportDistrictId.district_name," district")),a.props.adminExamReport.reportCourseId&&(e+=" in exam of ".concat(a.props.adminExamReport.reportCourseId.course_name,"(").concat(a.props.adminExamReport.reportCourseId.course_code,")"))):e="",e},a.downlaodPDF=Object(o.a)(n.a.mark((function e(){var t,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.querySelectorAll("#report_content tbody tr").length){e.next=3;break}return a.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:y.a.warning}),e.abrupt("return",!1);case 3:if(!a.state.selected_period){e.next=10;break}if(t=document.getElementById("report_content"),s={doneBy:a.props.auth.user.fname+" "+a.props.auth.user.lname,title:"Exam Report",subjectTitle:"Subject",subject:"".concat(a.state.reportTitle," ").concat(a.addToTitle()),period:a.state.selected_period.session_plan_name,footer:"Online Teacher Recruitment",institute:a.props.schoolLevels.selectedEducationCategory?a.props.schoolLevels.selectedEducationCategory.education_category_title:"All institute",orientation:a.state.reportTitle===r.APPLICANTS_PERFORMANCE||a.state.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE?"l":"p"},e.t0=t,!e.t0){e.next=10;break}return e.next=10,Object(g.a)(s,t,a.setDownloading);case 10:case"end":return e.stop()}}),e)}))),a.state={loading:!0,loadingCourses:!0,loadingExams:!0,downloading:!1,loadingDoneExam:!0,loadingCandidatesExamPerformance:!0,loadingExamPerformance:!0,loadingSettings:!0,selectPeriod:!1,districtModal:!1,filterPreparation:"all",filterExamProgress:"all",filterApplicantPerformance:"all",generateReportModal:null,selected_period:null,reportTitle:r.APPLICANTS_PERFORMANCE,excelReportTitle:r.APPLICANTS_PERFORMANCE,examsToPrint:null,examPreparationReportContent:w.c,examPerformanceToPrint:null,examPerformanceReportContent:L.c,exam30PerformanceToPrint:null,exam30PerformanceReportContent:L.c,examinationProgressToPrint:null,examinationProgressReportContent:S.c,candidateExamPerformanceToPrint:null,candidateExamPerformanceReportContent:T.f,candidate30ExamPerformanceToPrint:null,candidate30ExamPerformanceReportContent:T.f},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return this.state.loading||null===this.props.periods.allSessionPlans?Object(I.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."}):0===this.props.periods.allSessionPlans.length?Object(I.jsx)(C.a,{}):Object(I.jsxs)("div",{children:[Object(I.jsxs)(_.b,{children:[Object(I.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(I.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===this.props.schoolLevels.education_categories?Object(I.jsx)(O.a,{}):0===this.props.schoolLevels.education_categories.length?Object(I.jsx)("span",{children:"No result found"}):this.props.schoolLevels.education_categories.map((function(t,s){return Object(I.jsxs)("div",{onClick:function(){e.props.setSelectedEducationCategory(t),e.updateExamToPrint()},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat(null!==e.props.schoolLevels.selectedEducationCategory&&e.props.schoolLevels.selectedEducationCategory.education_institute_id===t.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:[null!==e.props.schoolLevels.selectedEducationCategory&&e.props.schoolLevels.selectedEducationCategory.education_institute_id===t.education_institute_id?Object(I.jsx)(h.Ab,{}):Object(I.jsx)(h.Bb,{}),Object(I.jsx)("span",{children:t.education_category_title})]},s+1)}))]}),Object(I.jsxs)("div",{className:"",children:[Object(I.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(I.jsxs)("div",{onClick:function(){return e.setSelectPeriod(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:[null!==this.state.selected_period?"".concat(this.state.selected_period.session_plan_name):"Filter by period",Object(I.jsx)(x.e,{className:"text-lg text-blue-600"})]})]}),Object(I.jsx)(q,{reportTitle:this.state.reportTitle,filterPreparation:this.state.filterPreparation,setFilterPreparation:this.setFilterPreparation,filterExamProgress:this.state.filterExamProgress,setFilterExamProgress:this.setFilterExamProgress,filterApplicantPerformance:this.state.filterApplicantPerformance,setFilterApplicantPerformance:this.setFilterApplicantPerformance})]}),Object(I.jsx)(Y,{downloading:this.state.downloading,dataToPrint:V(this.props.examsList,this.state.selected_period),downlaodPDF:this.downlaodPDF,reportTitle:this.state.reportTitle,setReportTitle:this.setReportTitle,setGenerateReportModal:this.setGenerateReportModal,generateReportModal:this.state.generateReportModal,excelReportTitle:this.state.excelReportTitle,setExcelReportTitle:this.setExcelReportTitle,updateExamToPrint:this.updateExamToPrint,examsToPrint:this.state.examsToPrint,examPreparationReportContent:this.state.examPreparationReportContent,setExamPreparationReportContent:this.setExamPreparationReportContent,examPerformanceToPrint:this.state.examPerformanceToPrint,examPerformanceReportContent:this.state.examPerformanceReportContent,setExamPerformanceReportContent:this.setExamPerformanceReportContent,exam30PerformanceToPrint:this.state.exam30PerformanceToPrint,exam30PerformanceReportContent:this.state.exam30PerformanceReportContent,setExam30PerformanceReportContent:this.setExam30PerformanceReportContent,examinationProgressToPrint:this.state.examinationProgressToPrint,examinationProgressReportContent:this.state.examinationProgressReportContent,setExaminationProgressExamPerformanceReportContent:this.setExaminationProgressExamPerformanceReportContent,candidateExamPerformanceToPrint:this.state.candidateExamPerformanceToPrint,candidateExamPerformanceReportContent:this.state.candidateExamPerformanceReportContent,setCandidateExamPerformanceReportContent:this.setCandidateExamPerformanceReportContent,candidate30ExamPerformanceToPrint:this.state.candidate30ExamPerformanceToPrint,candidate30ExamPerformanceReportContent:this.state.candidate30ExamPerformanceReportContent,setCandidate30ExamPerformanceReportContent:this.setCandidate30ExamPerformanceReportContent,thisPeriod:this.state.selected_period?this.state.selected_period.session_plan_id:""}),this.state.reportTitle===r.EXAM_PREPARATION&&this.props.periods.allSessionPlans&&Object(I.jsx)(w.b,{loading:this.state.loadingExams||this.state.loadingCourses||this.state.loadingDoneExam,examsListData:V(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,filterPreparation:this.state.filterPreparation}),this.state.reportTitle===r.EXAMINATION_PROGRESS&&this.props.periods.allSessionPlans&&Object(I.jsx)(S.b,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingDoneExam),examsListData:V(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,doneExamsData:this.props.adminExamReport.DoneExam,filterExamProgress:this.state.filterExamProgress}),this.state.reportTitle===r.EXAM_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(I.jsx)(L.b,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingExamPerformance),examsListData:V(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,examsPerformanceData:this.props.adminExamReport.ExamPerformance}),this.state.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&this.props.periods.allSessionPlans&&this.props.adminExamReport.reportDistrictId?Object(I.jsx)(U,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:V(this.props.examsList,this.state.selected_period),doneExamsData:this.props.adminExamReport.DoneExam,courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,thisDistrict:this.props.adminExamReport.reportDistrictId}):this.state.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&Object(I.jsx)(v.b,{theme:v.a.Light,value:"Select district to view data",component:Object(I.jsxs)("div",{onClick:function(){return e.setDistrictModal(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(I.jsx)(m.g,{className:"text-xl"}),"Filter by district"]})}),this.state.reportTitle===r.APPLICANTS_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(I.jsx)(T.e,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:V(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,filterApplicantPerformance:this.state.filterApplicantPerformance}),this.state.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(I.jsx)(D,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:V(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,filterApplicantPerformance:this.state.filterApplicantPerformance}),this.state.districtModal&&Object(I.jsx)(z.b,{modalFor:z.a.choose_district,modalState:this.state.districtModal,changeModalState:this.setDistrictModal,districtId:this.props.adminExamReport.reportDistrictId?this.props.adminExamReport.reportDistrictId.district_id:"all",reportTitle:this.state.reportTitle}),Object(I.jsx)(z.b,{modalState:this.state.selectPeriod,changeModalState:this.setSelectPeriod,applicationPeriods:this.props.periods.allSessionPlans,selected_period:this.state.selected_period,setSelectedPeriod:this.setSelectedPeriod,onPeriodChange:this.onPeriodChange,modalFor:z.a.period})]})}}]),s}(u.Component),J=Object(b.b)((function(e){var t=e.auth,s=e.sessionPlan,r=e.schoolLevels,a=e.course,n=e.prepareExam,o=e.adminExamReport;return{auth:t,periods:s,schoolLevels:r,courses:a.courses,examsList:n.examsList,adminExamReport:o}}),{setSelectedPeriod:j.gd,loadCourses:j.Cc,loadExamsList:j.Hc,GetAllSessionPlans:f.b,loadEducationCategories:j.Ec,loadDoneExam:j.Dc,loadSchoolLevels:j.Mc,loadPerfomranceExam:j.Jc,loadCandidatesExamPerformance:j.Bc,setSelectedEducationCategory:j.cd,PushPopupAlert:j.Nb})(W)},689:function(e,t,s){"use strict";s(4);var r=s(717),a=s(718),n=s(34),o=s(1);t.a=function(e){var t=e.fileData,s=e.fileName,i=e.btnName,c=void 0===i?"Excel":i,l=e.className,d=void 0===l?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":l,u=e.showIcon,p=void 0===u||u;return Object(o.jsxs)("button",{onClick:function(e){return function(e,t){var s={Sheets:{data:a.utils.json_to_sheet(e)},SheetNames:["data"]},n=a.write(s,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});r.saveAs(o,t+".xlsx")}(t,s)},className:d,children:[p&&Object(o.jsx)(n.j,{}),c]})}},690:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var r=s(5),a=s.n(r),n=s(7),o=s(711),i=s(24),c=s.p+"static/media/mineduc.11a9ae1c.png";s(716);var l=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var s=1;s<=t;s++)e.setPage(s),e.text("Page "+String(s)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},d=function(){var e=Object(n.a)(a.a.mark((function e(t,s,r){var n,d,u,p,m,x,h,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r(!0),n=t.orientation?t.orientation:"p",d=20,20,185,(u=new o.default(n,"mm","a4")).setTextColor(95,95,95),u.setFontSize(28),u.addImage(c,"png",20,20,10,10),u.text("MINEDUC",32,28.5,void 0,"left"),u.setFontSize(26),u.text(t.title,u.internal.pageSize.getWidth()/2,42.7,void 0,"center"),u.setFontSize(20),u.text(t.institute,u.internal.pageSize.getWidth()/2,53.7,void 0,"center"),p=u.splitTextToSize(t.subject,145),u.setFontSize(16),m=63,u.setTextColor(95,95,95),u.text("".concat(t.subjectTitle,": "),d,m),x=u.getTextWidth("".concat(t.subjectTitle,": ")),u.setTextColor(38,38,38),h=0;h<p.length;h++)m>280&&(m=10,u.addPage()),u.text(p[h],d+x,m),m+=7;return u.setTextColor(95,95,95),u.text("Period: ",d,m+3),x=u.getTextWidth("Period: "),u.setTextColor(38,38,38),u.text(t.period,d+x,m+3),u.autoTable({html:s,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),u.setFontSize(12),b=u.lastAutoTable.finalY,u.text("Reported by: ".concat(t.doneBy),d,b+15),u.text("Report downloaded on "+Object(i.a)((new Date).toString()),d,b+23),l(u),e.next=35,u.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"),{returnPromise:!0}).then(r(!1));case 35:case"end":return e.stop()}}),e)})));return function(t,s,r){return e.apply(this,arguments)}}()},691:function(e,t,s){"use strict";s.d(t,"k",(function(){return u})),s.d(t,"i",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"m",(function(){return x})),s.d(t,"c",(function(){return h})),s.d(t,"e",(function(){return b})),s.d(t,"j",(function(){return j})),s.d(t,"b",(function(){return f})),s.d(t,"n",(function(){return g})),s.d(t,"d",(function(){return O})),s.d(t,"f",(function(){return _})),s.d(t,"h",(function(){return v})),s.d(t,"g",(function(){return E})),s.d(t,"l",(function(){return y}));var r=s(5),a=s.n(r),n=s(7),o=s(6),i=s(10),c=s.n(i),l=s(9),d=s(15),u=function(e){return e(!0,""),function(){var t=Object(n.a)(a.a.mark((function t(s){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("".concat(l.a.APPLICATION,"/schools"));case 3:r=t.sent,s({type:o.a.GET_SCHOOLS,payload:r.data}),e(!1,"",r.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var s=Object(n.a)(a.a.mark((function s(r){var n;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.APPLICATION,"/schools/").concat(e));case 4:n=s.sent,r({type:o.a.GET_SCHOOLS_BY_ID,payload:n.data}),t(!1,"",n.data),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 13:case"end":return s.stop()}}),s,null,[[1,9]])})));return function(e){return s.apply(this,arguments)}}()},m=function(e){return console.log({schools:e}),function(){var t=Object(n.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(n.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(n.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e,t){return function(){var s=Object(n.a)(a.a.mark((function s(r){var n;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/requestpost/school/").concat(e));case 4:n=s.sent,console.log("===================================="),console.log({schoolPosts:n}),console.log("===================================="),r({type:o.a.FETCH_SCHOOL_POSTS,payload:n.data}),t(!1,""),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},j=function(e,t){return function(){var s=Object(n.a)(a.a.mark((function s(r){var n;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/placedcandidate/school/").concat(e));case 4:n=s.sent,console.log({getSchoolPlacement:n.data}),r({type:o.a.GET_SCHOOL_PLACEMENT,payload:n.data}),t(!1,"",n.data),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(n.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_SCHOOL_POST,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return console.log({TYPE:e,data:t}),function(){var s=Object(n.a)(a.a.mark((function s(r){return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:o.a.UPDATE_SCHOOL_POST,payload:{TYPE:e,data:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},O=function(e,t){return function(){var s=Object(n.a)(a.a.mark((function s(r){var n;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/requestpost/district/").concat(e));case 4:n=s.sent,console.log("===================================="),console.log({fetchDistrictPosts:n}),console.log("===================================="),r({type:o.a.FETCH_DISTRICT_POSTS,payload:n.data}),t(!1,""),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},_=function(e,t){return function(){var s=Object(n.a)(a.a.mark((function s(r){var n;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/placedcandidate/district/").concat(e));case 4:n=s.sent,console.log("===================================="),console.log({getDistrictPlacement:n.data}),console.log("===================================="),r({type:o.a.GET_DISTRICT_PLACEMENT,payload:n.data}),t(!1,"",n.data),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},v=function(e,t,s){return function(){var r=Object(n.a)(a.a.mark((function r(n){var i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s(!0,""),r.prev=1,r.next=4,c.a.get("".concat(l.a.PLACEMENT,"/confirmedpostrequest/institute/").concat(e,"/").concat(t));case 4:i=r.sent,console.log("===================================="),console.log({getInstitutePlacementLimit:i.data}),console.log("===================================="),n({type:o.a.GET_INSTITUTE_PLACEMENT_LIMIT,payload:i.data}),s(!1,"",i.data),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),console.log("Err: ",r.t0),s(!1,Object(d.a)(r.t0));case 16:case"end":return r.stop()}}),r,null,[[1,12]])})));return function(e){return r.apply(this,arguments)}}()},E=function(e,t,s){return function(){var r=Object(n.a)(a.a.mark((function r(n){var i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s(!0,""),r.prev=1,r.next=4,c.a.get("".concat(l.a.PLACEMENT,"/confirmedpostrequest/district/").concat(e,"/").concat(t));case 4:i=r.sent,console.log("===================================="),console.log({getDistrictPlacementLimit:i.data}),console.log("===================================="),n({type:o.a.GET_DISTRICT_PLACEMENT_LIMIT,payload:i.data}),s(!1,"",i.data),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),console.log("Err: ",r.t0),s(!1,Object(d.a)(r.t0));case 16:case"end":return r.stop()}}),r,null,[[1,12]])})));return function(e){return r.apply(this,arguments)}}()},y=function(e){return console.log("===================================="),console.log({updateInstitutePlacementLimit:e}),console.log("===================================="),function(){var t=Object(n.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_INSTITUTE_PLACEMENT_LIMIT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},696:function(e,t,s){"use strict";s.d(t,"c",(function(){return F})),s.d(t,"a",(function(){return q}));var r,a=s(5),n=s.n(a),o=s(7),i=s(26),c=s(25),l=s(28),d=s(27),u=s(10),p=s.n(u),m=s(4),x=s.n(m),h=s(12),b=s(22),j=s(3),f=s(200),g=s(691),O=s(682),_=s(38),v=s(160),E=s(201),y=s(21),P=s(42),N=s(9),C=s(15),R=s(726),T=s(713),S=s(705),I=s(17),A=s(47),D=s(1),w=function(e){var t=Object(m.useState)(""),s=Object(I.a)(t,2),r=s[0],a=s[1];return Object(D.jsxs)("section",{className:"border-2 rounded border-gray-400",children:[Object(D.jsxs)("div",{className:"flex items-center w-full my-1",children:[Object(D.jsx)(h.Lb,{className:"w-6 h-6 absolute ml-2"}),Object(D.jsx)("input",{type:"text",placeholder:"Search",className:"focus:border-2 h-7 ml-1 pl-9 mr-2 bg-gray-100 focus:border-gray-700 w-full rounded",onChange:function(e){return a(e.target.value)},value:r,disabled:!(e.roleList.length>0)}),Object(D.jsx)("button",{className:"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none",type:"button",onClick:function(){e.setChooseRole(!1)},children:"Close"})]}),Object(D.jsx)("div",{className:"w-full h-52 mt-2 overflow-y-auto divide-y divide-gray-300",children:Object(A.a)(e.roleList,r).length>0?Object(A.a)(e.roleList,r).map((function(t,s){return Object(D.jsx)("section",{children:Object(D.jsxs)("div",{className:"group flex items-center justify-between my-1 hover:bg-gray-100",children:[Object(D.jsx)("div",{className:"p-1 w-full mr-2 cursor-pointer",onClick:function(){e.setChooseRole(!1),!e.loadindRequest&&e.handleSelectRole(t.system_user_role_id)},children:Object(D.jsx)("p",{className:"text-sm font-medium text-black",children:Object(P.a)(t.role)})}),Object(D.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 py-1 px-2 mr-1 rounded text-sm",children:"Choose"})]})},s+t.role)})):Object(D.jsx)("div",{className:"text-center p-3",children:Object(D.jsx)("p",{className:"text-base font-medium text-black",children:"No role available"})})})]})},L=x.a.memo(w),k=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).setRoleId=function(e){r.setState({roleId:e})},r.setSelectedRole=function(e){r.setState({selectedRole:e})},r.setProvinceId=function(e){r.setState({provinceId:e})},r.setDistrictId=function(e){r.setState({districtId:e})},r.setCenterId=function(e){r.setState({centerId:e})},r.setRoomId=function(e){r.setState({roomId:e})},r.setLoadingForm=function(e){r.setState({loadingForm:e})},r.setSchoolId=function(e){r.setState({schoolId:e})},r.setChooseSchool=function(e){r.setState({chooseSchool:e})},r.setLoading=function(e){r.setState({loading:e})},r.setInstituteId=function(e){r.setState({instituteId:e})},r.setFormError=function(e){r.setState({formError:e})},r.setLoadingRequest=function(e){r.setState({loadingRequest:e})},r.setChooseRole=function(e){r.setState({chooseRole:e})},r.setDefaultState=function(e,t){var s,a;if(t.district_required&&r.props.roomList)(a=r.distinctDistrict(r.props.roomList).find((function(t){return t._id===e.district_id})))&&r.setProvinceId(a.province_id),a&&r.setDistrictId(e.district_id),r.setLoadingForm(!1);else if(t.room_required&&r.props.roomList)(s=q(r.props.roomList).find((function(t){return t.room_id===e.room_id})))&&r.setProvinceId(s.province_id),s&&r.setDistrictId(s.district_id),s&&r.setCenterId(s.center_id),r.setRoomId(e.room_id),r.setLoadingForm(!1);else if(t.school_required&&r.props.roomList&&r.props.schoolList){var n=r.props.schoolList.find((function(t){return t._id===e.school_id}));n?((s=q(r.props.roomList).find((function(e){return e.district_id===(null===n||void 0===n?void 0:n.district_id)})))&&r.setProvinceId(s.province_id),s&&r.setDistrictId(s.district_id),r.setSchoolId(e.school_id),r.setLoadingForm(!1)):r.setLoadingForm(!1)}else r.setLoadingForm(!1)},r.componentDidMount=function(){if(r.props.roleList.length){if(r.props.userInfo.default_access&&r.state.loadingForm){if(!r.state.roleId.length){var e=r.props.roleList.find((function(e){return e.system_user_role_id===r.props.userInfo.default_access.system_user_role_id}));e&&(r.setRoleId(r.props.userInfo.default_access.system_user_role_id),r.setSelectedRole(e),r.setDefaultState(r.props.userInfo.default_access,e))}console.log("===================================="),console.log({vvvvv:r.props.userInfo.default_access}),console.log("====================================")}r.state.selectedRole&&r.props.userInfo.default_access&&r.setDefaultState(r.props.userInfo.default_access,r.state.selectedRole),r.setLoading(!1)}},r.handleSelectRole=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SELECT";if(r.props.roleList){var s=r.props.roleList.find((function(t){return t.system_user_role_id===e}));s&&(r.setRoleId(e),r.setSelectedRole(s),r.state.formError&&"role_id"===r.state.formError.element&&r.setFormError(null),"SELECT"===t&&(r.setProvinceId(""),r.setDistrictId(""),r.setSchoolId(""),r.setCenterId(""),r.setRoomId(""),r.setInstituteId("")))}},r.tableData=function(){return r.state.roleId.length>0&&null===r.state.selectedRole&&r.props.roleList&&r.handleSelectRole(r.state.roleId,"DEFAULT"),r.state.selectedRole?r.state.selectedRole.access.map((function(e,t){return Object(D.jsxs)("tr",{className:"text-left border-b border-gray-200 hover:bg-gray-100",children:[Object(D.jsx)("td",{className:"px-2 py-1",children:Object(D.jsx)("label",{className:"inline-flex items-center",children:Object(D.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(D.jsx)(S.a,{}):Object(D.jsx)(h.N,{}),e.permitted.create?" Yes":"No"]})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(D.jsx)(S.a,{}):Object(D.jsx)(h.N,{}),e.permitted.view?" Yes":"No"]})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(D.jsx)(S.a,{}):Object(D.jsx)(h.N,{}),e.permitted.update?" Yes":"No"]})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(D.jsx)(S.a,{}):Object(D.jsx)(h.N,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id+Math.random())})):[Object(D.jsx)("tr",{children:Object(D.jsx)("td",{colSpan:5,className:"text-center px-2 py-2",children:"No Default Access Available on this Role."})},"55re")]},r.assignRoleToUser=function(){var e=Object(o.a)(n.a.mark((function e(t){var s,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("Are sure you want to change user role?")){e.next=3;break}return e.abrupt("return",!1);case 3:if(r.state.selectedRole){e.next=5;break}return e.abrupt("return",r.setFormError({element:"role_id",msg:"User role is required!"}));case 5:if(!0!==r.state.selectedRole.room_required||!Object(P.e)(r.state.provinceId)){e.next=7;break}return e.abrupt("return",r.setFormError({element:"province_id",msg:"Province is required!"}));case 7:if(!0!==r.state.selectedRole.education_institution_required||!Object(P.e)(r.state.instituteId)){e.next=9;break}return e.abrupt("return",r.setFormError({element:"institute_id",msg:"Institute is required on this role!"}));case 9:if(!0!==r.state.selectedRole.room_required&&!0!==r.state.selectedRole.district_required||!Object(P.e)(r.state.districtId)){e.next=11;break}return e.abrupt("return",r.setFormError({element:"district_id",msg:"District is required!"}));case 11:if(!0!==r.state.selectedRole.school_required||!Object(P.e)(r.state.schoolId)){e.next=13;break}return e.abrupt("return",r.setFormError({element:"school_id",msg:"School is required!"}));case 13:if(!0!==r.state.selectedRole.room_required||!Object(P.e)(r.state.centerId)){e.next=15;break}return e.abrupt("return",r.setFormError({element:"center_id",msg:"Center is required!"}));case 15:if(!0!==r.state.selectedRole.room_required||!Object(P.e)(r.state.roomId)){e.next=17;break}return e.abrupt("return",r.setFormError({element:"room_id",msg:"Room is required!"}));case 17:return r.setLoadingRequest(!0),s={user_id:r.props.userInfo.user_id,data:{system_user_role_id:r.state.roleId,status:1,role:r.state.selectedRole.role,access:r.state.selectedRole.access,school_id:r.state.selectedRole.school_required?r.state.schoolId:"",district_id:r.state.selectedRole.district_required?r.state.districtId:"",room_id:r.state.selectedRole.room_required?r.state.roomId:"",education_institution_id:r.state.selectedRole.education_institution_required?r.state.instituteId:""}},e.prev=19,e.next=22,p.a.post("".concat(N.a.AUTH,"/addroletouser"),{user_id:r.props.userInfo.user_id,system_user_role_id:r.state.roleId,status:1,role:r.state.selectedRole.role,access:!0,school_id:!0===r.state.selectedRole.school_required?r.state.schoolId:"",district_id:!0===r.state.selectedRole.district_required?r.state.districtId:"",room_id:!0===r.state.selectedRole.room_required?r.state.roomId:"",education_institution_id:r.state.selectedRole.education_institution_required?r.state.instituteId:""});case 22:(a=e.sent)&&(console.log("===================================="),console.log({assignRoleToUser:a}),console.log("===================================="),r.props.assignRoleToUserAccess(s,r.props.currentPage),r.setLoadingRequest(!1),r.props.setChangeRole(!1),r.props.PushPopupAlert({title:"Assigning Role to User completed successfully",theme:y.a.success})),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(19),console.log({role_error:e.t0}),r.props.PushPopupAlert({title:Object(C.a)(e.t0),theme:y.a.danger});case 30:case"end":return e.stop()}}),e,null,[[19,26]])})));return function(t){return e.apply(this,arguments)}}(),r.distinctDistrict=function(e,t){var s=[],r=[];if(t)r=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a))for(var n in e[a].districts)Object.prototype.hasOwnProperty.call(e[a].districts,n)&&(s.includes(e[a].districts[n]._id)||(s.push(e[a].districts[n]._id),r.push(e[a].districts[n])));return r},r.distinctCenter=function(e,t){var s=[],r=[];return q(e).forEach((function(e){s.includes(e.center_id)||e.district_id!==t||(s.push(e.center_id),r.push(e))})),r},r.distinctRoom=function(e,t){var s=[],r=[];return q(e).forEach((function(e){s.includes(e.room_id)||e.center_id!==t||(s.push(e.room_id),r.push(e))})),r},r.state={loading:!0,loadingForm:!0,loadingRequest:!1,roleId:"",provinceId:"",districtId:"",schoolId:"",roomId:"",instituteId:"",centerId:"",selectedRole:null,formError:null,chooseRole:!1,chooseSchool:!1},r}return Object(c.a)(s,[{key:"render",value:function(){var e,t=this;return!0===this.state.loading||this.state.loadingForm||null===this.props.userInfo.default_access||0===this.state.roleId.length||null===this.state.selectedRole?Object(D.jsx)("div",{className:"text-center py-7 font-bold text-3xl text-gray-400 animate-pulse",children:"Loading..."}):Object(D.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 py-2 md:py-4 px-2 md:px-0",children:[Object(D.jsx)("div",{className:"col-span-1 bg-white w-full overflow-x-auto border rounded",children:Object(D.jsxs)("div",{className:"px-6 md:px-12 py-5 bg-white mx-auto rounded-2xl w-100",children:[Object(D.jsx)("h3",{className:"font-semibold text-2xl text-gray-800 mb-4",children:"Change User Role"}),this.state.loadingForm?Object(D.jsx)(_.a,{}):Object(D.jsx)("form",{onSubmit:function(e){return t.assignRoleToUser(e)},children:Object(D.jsxs)("div",{className:"space-y-5",children:[Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:"User Role"}),!this.state.chooseRole&&Object(D.jsx)("div",{className:"w-full text-base bg-white text-grey-darker cursor-pointer border-2 px-4 py-3 rounded focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"role_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onClick:function(){!t.state.loadingRequest&&t.setChooseRole(!0),!t.state.loadingRequest&&t.setFormError(null)},children:this.state.selectedRole?this.state.selectedRole.role:"Select role"}),this.state.chooseRole&&Object(D.jsx)(L,{setChooseRole:this.setChooseRole,handleSelectRole:this.handleSelectRole,roleList:this.props.roleList,loadindRequest:this.state.loadingRequest}),this.state.formError&&"role_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.education_institution_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Institute"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"institute_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setInstituteId(e.target.value),t.setProvinceId(""),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId(""),t.state.formError&&"institute_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.instituteId,children:[Object(D.jsx)("option",{value:"",children:"Select institute"}),this.props.schoolLevels.education_categories&&this.props.schoolLevels.education_categories.length>0?this.props.schoolLevels.education_categories.map((function(e){return Object(D.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},e.education_institute_id+Math.random())})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No institute available"})]}),this.state.formError&&"institute_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Province"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"province_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setProvinceId(e.target.value),t.state.formError&&"province_id"===t.state.formError.element&&t.setFormError(null),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},value:this.state.provinceId,disabled:this.state.loadingRequest,children:[Object(D.jsx)("option",{value:"",children:"Select province"}),this.props.roomList&&this.props.roomList.map((function(e){return Object(D.jsx)("option",{value:e._id,children:e.province_name},e._id+Math.random())}))]}),this.state.formError&&"province_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&(this.state.selectedRole.district_required||this.state.selectedRole.room_required)&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"District"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"district_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setDistrictId(e.target.value),t.state.formError&&"district_id"===t.state.formError.element&&t.setFormError(null),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},value:this.state.districtId,disabled:this.state.loadingRequest,children:[Object(D.jsx)("option",{value:"",children:"Select district"}),this.props.roomList&&this.distinctDistrict(this.props.roomList,Object(P.e)(this.state.provinceId)?void 0:this.state.provinceId).length>0?this.distinctDistrict(this.props.roomList,Object(P.e)(this.state.provinceId)?void 0:this.state.provinceId).map((function(e){return Object(D.jsx)("option",{value:e._id,children:e.district_name},e._id+Math.random())})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No district found"})]}),this.state.formError&&"district_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.school_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"School"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"school_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setSchoolId(e.target.value),t.state.formError&&"school_id"===t.state.formError.element&&t.setFormError(null),t.setCenterId(""),t.setRoomId("")},disabled:this.state.loadingRequest,value:this.state.schoolId,children:[Object(D.jsx)("option",{value:"",children:"Selected school"}),this.props.schoolList&&this.props.schoolList.map((function(e){return Object(D.jsx)("option",{value:e._id,children:e.school_name},e._id+Math.random())}))]}),this.state.formError&&"school_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Center"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"center_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setCenterId(e.target.value),t.state.formError&&"center_id"===t.state.formError.element&&t.setFormError(null),t.setRoomId("")},disabled:this.state.loadingRequest,value:this.state.centerId,children:[Object(D.jsx)("option",{value:"",children:"Select center"}),this.state.districtId&&this.state.districtId.length>0&&this.props.roomList&&this.distinctCenter(this.props.roomList,this.state.districtId).length>0?this.distinctCenter(this.props.roomList,this.state.districtId).map((function(e,t){return Object(D.jsx)("option",{value:e.center_id,children:e.center_name},e.center_id+t+Math.random())})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No center found"})]}),this.state.formError&&"center_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Room"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"room_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setRoomId(e.target.value),t.state.formError&&"room_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.roomId,children:[Object(D.jsx)("option",{value:"",children:"Select room"}),!Object(P.e)(this.state.centerId)&&this.props.roomList&&this.distinctRoom(this.props.roomList,this.state.centerId).length>0?this.distinctRoom(this.props.roomList,this.state.centerId).map((function(e,t){return Object(D.jsx)("option",{value:e.room_id,className:"".concat("0"===e.room_name?"hidden":"block"),children:e.room_name},e.room_id+t+Math.random())})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No room found"})]}),this.state.formError&&"room_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(D.jsxs)("div",{className:"flex justify-between 2xl:justify-start gap-2",children:[Object(D.jsx)("button",{className:"btn bg-gray-500 text-gray-50 focus:outline-none",onClick:function(){t.props.setChangeRole(!1),t.setFormError(null),t.setProvinceId(""),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},disabled:this.state.loadingRequest,children:"Back"}),Object(D.jsx)("button",{className:"btn btn-blue focus:outline-none",disabled:this.state.loadingRequest,children:this.state.loadingRequest?"Loading...":"Save Change"})]})]})})]})}),Object(D.jsxs)("div",{className:"cols-span-1 md:col-span-2 bg-white w-full border rounded text-center p-2 hidden md:block",children:[Object(D.jsx)("div",{className:"my-4",children:Object(D.jsxs)("span",{className:"text-gray-600 font-semibold text-2xl",children:[null===(e=this.state.selectedRole)||void 0===e?void 0:e.role,"'s Default Access"]})}),!this.state.loading&&Object(D.jsx)("div",{className:"overflow-x-auto w-full",children:Object(D.jsx)(E.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!1,searchBG:"bg-gray-50",thColor:"gray",tableId:"defaultAccess"})})]})]})}}]),s}(m.Component),M=x.a.memo(Object(b.b)((function(e){return{schoolLevels:e.schoolLevels}}),{assignRoleToUserAccess:O.a,PushPopupAlert:j.Nb})(k)),U=s.p+"static/media/blank_profile.c3f94521.png",F=function(e,t){return e.find((function(e){return e.user_id===t}))};!function(e){e.View_User="View User Info",e.Add_Access="Add Access To User",e.Update_Access="Update User Access",e.Close_Modal="Close Modal"}(r||(r={}));var q=function(e){var t=[];for(var s in e){var r=e[s].districts;for(var a in r){var n=r[a].centers;for(var o in n){var i=n[o].rooms;for(var c in i)t.push({province_id:e[s]._id,province_name:e[s].province_name,district_id:r[a]._id,district_name:r[a].district_name,center_id:n[o]._id,center_name:n[o].center_name,room_id:i[c]._id,room_name:i[c].room_number.toString(),capacity:i[c].capacity,occupied:i[c].occupied})}}}return t},z=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).setManageUserId=function(e){r.setState({manageUserId:e})},r.setLoadingRequest=function(e){r.setState({loadingRequest:e})},r.setLoadingSchool=function(e){r.setState({loadingSchool:e})},r.setLoading=function(e){r.setState({loading:e})},r.setLoadingRequestType=function(e){r.setState({loadingRequestType:e})},r.setRoomList=function(e){r.setState({roomList:e})},r.setRoomTables=function(e){r.setState({roomTable:e})},r.setCurrentAccess=function(e){r.setState({currentAccess:e})},r.setSchoolList=function(e){r.setState({schoolList:e})},r.setUserAccess=function(e){r.setState({userAccess:e})},r.componentDidMount=function(){0===r.props.schools.length?r.props.getSchools((function(e,t,s){r.setLoadingSchool(e),e||(t.length>0&&r.props.PushPopupAlert({title:t,theme:y.a.danger}),s&&(r.setLoadingSchool(!1),r.setSchoolList(s)))})):(r.setSchoolList(r.props.schools),r.setLoadingSchool(!1)),0===r.props.allRoom.length?r.props.getAllRoom((function(e,t,s){r.setLoading(e),!e&&t.length>0&&r.props.PushPopupAlert({title:t,theme:y.a.danger}),s&&s.length>0&&(r.setRoomList(s),r.setRoomTables(q(s)))})):r.state.loading&&(r.setRoomList(r.props.allRoom),r.setRoomTables(q(r.props.allRoom)),r.setLoading(!1))},r.tableData=function(){if(r.props.loadingUser||r.state.loading||r.state.loadingSchool)return[Object(D.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(D.jsx)("td",{className:"p-3 text-center",colSpan:8,children:Object(D.jsx)(_.a,{})})},Math.random())];var e=r.props.users;return e.length<=0?[Object(D.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(D.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"No Data Found"})},Math.random())]:e.map((function(e,t){var s,a;return Object(D.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group cursor-pointer",onClick:function(){r.props.setManageUser(e),r.setManageUserId(e.user_id)},children:[Object(D.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(D.jsx)("td",{className:"p-3 text-left",children:Object(D.jsx)("span",{children:e.user_info&&e.user_info.fname+" "+e.user_info.lname})}),Object(D.jsx)("td",{className:"p-3 text-left",children:e.email}),Object(D.jsx)("td",{className:"p-3 text-left",children:e.user_info&&"M"===e.user_info.sex?"Male":"Female"}),Object(D.jsx)("td",{className:"p-3 text-left text-blue-700 text-base font-medium",children:e.default_access&&e.default_access.system_user_role_id&&e.default_access.system_user_role_id&&Object(D.jsx)("span",{className:"px-2 py-1 font-semibold rounded text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100",children:(null===(s=Object(P.d)(r.props.roleList,e.default_access.system_user_role_id))||void 0===s?void 0:s.role)&&Object(P.a)(null===(a=Object(P.d)(r.props.roleList,e.default_access.system_user_role_id))||void 0===a?void 0:a.role)})}),Object(D.jsx)("td",{className:"px-3 text-center",children:Object(D.jsx)("button",{className:"btn bg-gray-200 group-hover:bg-blue-700 group-hover:text-white focus:outline-none",title:"Manage User Access",onClick:function(){r.props.setManageUser(e),r.setManageUserId(e.user_id)},children:"Manage"})})]},t+Math.random())}))},r.blockUser=function(){var e=Object(o.a)(n.a.mark((function e(t,s){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||r.props.PushPopupAlert({title:"User Access is required doesn't exist",theme:y.a.danger}),r.setLoadingRequest(!0),window.confirm("Are sure you want to ".concat(s?"block":"activate"," this user?"))){e.next=4;break}return e.abrupt("return",r.setLoadingRequest(!1));case 4:return e.prev=4,e.next=7,p.a.patch("".concat(N.a.AUTH,"/users/disactive/").concat(t),{is_active:!s});case 7:(a=e.sent)&&(console.log("===================================="),console.log({blockUserToSystem:a}),console.log("===================================="),s?r.props.blockUserToSystem(t,r.props.currentPage):r.props.unBlockUserToSystem(t,r.props.currentPage),r.props.PushPopupAlert({title:"User has been ".concat(s?"blocked":"activated","!"),theme:y.a.info})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error({blockUser_ERROR:e.t0}),r.props.PushPopupAlert({title:Object(C.a)(e.t0),theme:y.a.danger});case 15:r.setLoadingRequest(!1),t="";case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,s){return e.apply(this,arguments)}}(),r.restUserAccess=function(){var e=Object(o.a)(n.a.mark((function e(t){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||r.props.PushPopupAlert({title:"User Access is required doesn't exist",theme:y.a.warning}),window.confirm("Are sure you want to reset to default access?")){e.next=3;break}return e.abrupt("return",r.setLoadingRequest(!1));case 3:return r.setLoadingRequest(!0),r.setLoadingRequestType("RESET"),e.prev=5,e.next=8,p.a.delete("".concat(N.a.AUTH,"/custaccess/user/").concat(t));case 8:e.sent&&r.props.resetUserAccess(t,r.props.currentPage),(s=r.props.users.find((function(e){return e.user_id===t})))&&(s.default_access&&r.setUserAccess(s.default_access.access),r.props.PushPopupAlert({title:"Resetting User Access complete successfully",theme:y.a.info}),r.setCurrentAccess(null)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error({reseting_user_access:e.t0}),r.props.PushPopupAlert({title:Object(C.a)(e.t0),theme:y.a.danger});case 18:r.setLoadingRequest(!1),r.setLoadingRequestType(null),t="";case 21:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),r.distinctDistrict=function(e,t){var s=[],r=[];if(t)r=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a))for(var n in e[a].districts)Object.prototype.hasOwnProperty.call(e[a].districts,n)&&(s.includes(e[a].districts[n]._id)||(s.push(e[a].districts[n]._id),r.push(e[a].districts[n])));return r},r.state={manageUserId:"",loadingRequest:!1,loading:!0,loadingSchool:!0,loadingRequestType:null,schoolList:null,roomList:null,roomTable:null,userAccess:null,currentAccess:null},r}return Object(c.a)(s,[{key:"render",value:function(){var e,t,s,r=this;return Object(D.jsxs)("div",{children:[!this.props.manageUser&&Object(D.jsx)("div",{className:"grid md:grid-cols-5 gap-2 mb-5",children:Object(D.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(D.jsx)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:Object(D.jsx)("div",{className:"flex flex-col md:flex-row gap-1 items-center mx-1.5"})}),this.props.users&&Object(D.jsx)(E.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"Email",alignText:"left",padding:"p-3"},{columnTitle:"Gender",alignText:"left",padding:"p-3"},{columnTitle:"Role",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:this.tableData,pagination:!1,search:!0,thColor:"gray",loading:this.props.loadingUser||this.state.loading||this.state.loadingSchool})]})}),this.props.manageUser&&Object(D.jsxs)("div",{className:"bg-gray-100 h-100",children:[Object(D.jsxs)("div",{className:"bg-white border-b border-t px-4 py-2 flex flex-col md:flex-row items-center gap-x-14",children:[this.props.users.find((function(e){return e.user_id===r.state.manageUserId}))?Object(D.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start items-center w-full gap-3",children:[Object(D.jsx)("img",{src:"pic"!==this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).user_info.photo?this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).user_info.photo:U,alt:"",className:"rounded-full w-32 h-32"}),Object(D.jsxs)("div",{className:"flex flex-col gap-1 items-start w-full",children:[Object(D.jsx)("span",{className:"text-2xl font-semibold",children:this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).user_info.fname+" "+this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).user_info.lname}),Object(D.jsxs)("div",{className:"flex items-center",children:[Object(D.jsx)(h.Y,{className:"w-5 h-5"}),Object(D.jsx)("span",{className:"text-lg font-medium",children:this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&Object(P.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.system_user_role_id).role})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Level:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&Object(P.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.system_user_role_id).district_required?"District":this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&Object(P.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.system_user_role_id).school_required?"School":this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&Object(P.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.system_user_role_id).room_required?"Room":this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&Object(P.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.system_user_role_id).education_institution_required?"Institute":"-"})]}),this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&Object(P.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.system_user_role_id).education_institution_required?Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Institute:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&this.props.schoolLevels.education_categories&&Object(P.b)(this.props.schoolLevels.education_categories,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.education_institution_id)?Object(P.b)(this.props.schoolLevels.education_categories,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.education_institution_id).education_category_title:"Unknown Institute"})]}):this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&Object(P.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.system_user_role_id).district_required?Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"District:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&this.state.roomList&&Object(R.distinctDistrict)(this.state.roomList).find((function(e){return e.district_id===r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.district_id}))&&Object(R.distinctDistrict)(this.state.roomList).find((function(e){return e.district_id===r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.district_id})).district_name})]}):this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&Object(P.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.system_user_role_id).school_required?Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"School:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:this.state.schoolList&&this.state.schoolList.find((function(e){var t;return e._id===(null===(t=r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access)||void 0===t?void 0:t.school_id)}))?this.state.schoolList.find((function(e){var t;return e._id===(null===(t=r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access)||void 0===t?void 0:t.school_id)})).school_name:"Unknown school"})]}):this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access&&Object(P.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access.system_user_role_id).room_required&&Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)(h.X,{className:"text-gray-500"}),this.state.roomTable&&Object(D.jsx)("span",{className:"text-base font-medium",children:(null===(e=this.state.roomTable.find((function(e){var t;return e.room_id===(null===(t=r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===e?void 0:e.district_name)+" - "+(null===(t=this.state.roomTable.find((function(e){var t;return e.room_id===(null===(t=r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===t?void 0:t.center_name)+" - Room "+(null===(s=this.state.roomTable.find((function(e){var t;return e.room_id===(null===(t=r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===s?void 0:s.room_name)})]})]})]},this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).user_id+Math.random()):Object(D.jsx)(v.b,{theme:v.a.Dark,value:"User info not found"}),this.props.users.find((function(e){return e.user_id===r.state.manageUserId}))&&Object(D.jsxs)("div",{className:"flex flex-col w-full",children:[Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"NID:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).n_id})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Email:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).email})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Phone:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).phone_number})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Status:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:!1===this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).is_active?"Blocked":"Active"})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).custome_access&&Object(D.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-50 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"cursor-wait bg-gray-400":"bg-gray-600"),onClick:function(){return r.restUserAccess(r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).user_id)},disabled:this.state.loadingRequest,children:[Object(D.jsx)(h.Y,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Reseting...":"Reset Access"})]}),!this.props.changeRole&&Object(D.jsxs)("button",{className:"bg-yellow-300 hover:bg-yellow-400 px-2 py-1 font-semibold text-black inline-flex items-center rounded",onClick:function(){return r.props.setChangeRole(!0)},children:[Object(D.jsx)(h.Y,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:"Change Role"})]}),this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).is_active?Object(D.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"STATUS"===this.state.loadingRequestType?"cursor-wait bg-red-500":"bg-red-700"),onClick:function(){return!r.state.loadingRequest&&r.props.manageUser&&r.blockUser(r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).user_id,r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).is_active)},disabled:this.state.loadingRequest,children:[Object(D.jsx)(h.Y,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Loading...":"Block user"})]}):Object(D.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"STATUS"===this.state.loadingRequestType?"cursor-wait bg-yellow-500":"bg-yellow-700"),onClick:function(){return!r.state.loadingRequest&&r.props.manageUser&&r.blockUser(r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).user_id,r.props.users.find((function(e){return e.user_id===r.state.manageUserId})).is_active)},disabled:this.state.loadingRequest,children:[Object(D.jsx)(h.Y,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Loading...":"Re-Activate"})]})]})]},this.props.users.find((function(e){return e.user_id===r.state.manageUserId})).user_id+Math.random())]}),this.props.manageUser&&this.state.roomList&&this.props.changeRole?Object(D.jsx)(M,{userInfo:this.props.manageUser,roleList:this.props.roleList,district:this.distinctDistrict(this.state.roomList),schoolList:this.state.schoolList,roomList:this.state.roomList,setChangeRole:this.props.setChangeRole,currentPage:this.props.currentPage}):Object(D.jsx)(T.UserAccess,{userInfo:F(this.props.users,this.state.manageUserId),manageUserId:this.state.manageUserId,setUserAccess:this.setUserAccess,userAccess:this.state.userAccess,setCurrentAccess:this.setCurrentAccess,currentAccess:this.state.currentAccess,currentPage:this.props.currentPage})]})]})}}]),s}(m.Component);t.b=x.a.memo(Object(b.b)((function(e){var t=e.schoolLevels,s=e.schools,r=e.locations;return{schoolLevels:t,schools:s.schools,allRoom:r.roomLocation}}),{blockUserToSystem:O.b,unBlockUserToSystem:O.f,resetUserAccess:O.e,getSchools:g.k,getAllRoom:f.q,PushPopupAlert:j.Nb})(z))},697:function(e,t,s){"use strict";var r=s(17),a=s(11),n=s(18),o=s(4),i=s.n(o),c=s(12),l=s(38),d=s(8),u=s(24),p=s(47),m=s(1),x=function(e){var t,s=new Date,r=[],o=Object(n.a)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value,c=new Date(i.start_date),l=new Date(i.end_date);c.getTime()<=s.getTime()&&l.getTime()>=s.getTime()&&i.type_status===d.j.OPEN&&(r=[].concat(Object(a.a)(r),[i]))}}catch(u){o.e(u)}finally{o.f()}return r},h=function(e){var t,s,a=Object(o.useState)(null),n=Object(r.a)(a,2),i=n[0],d=n[1],h=Object(o.useState)(""),b=Object(r.a)(h,2),j=b[0],f=b[1];return Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("div",{className:"px-3",children:Object(m.jsx)("input",{onChange:function(e){return f(e.target.value)},type:"text",className:"py-3 px-4 w-full rounded border border-gray-400 mb-3",placeholder:"Search by year, name",disabled:null===e.allSession||0===e.allSession.length})}),Object(m.jsx)("div",{className:"bg-gray-100 px-3 pt-3 pb-2 rounded-b",children:null===e.allSession?Object(m.jsx)(l.a,{}):0===e.allSession.length?Object(m.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center mb-2 bg-white py-4",children:[Object(m.jsx)(c.Lb,{className:"text-6xl"}),Object(m.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(m.jsx)("span",{children:"No session found!"})})]}):Object(m.jsxs)("section",{children:[e.chooseAll&&Object(m.jsxs)("div",{className:"rounded border ".concat("all"===e.currentSelected?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2 flex flex-col md:flex-row items-start md:items-center md:justify-between"),children:[Object(m.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"===e.currentSelected?Object(m.jsx)(c.t,{className:"text-blue-500 text-4xl"}):Object(m.jsx)(c.Bb,{className:"text-gray-300 text-4xl"}),Object(m.jsx)("div",{className:"flex flex-col",children:Object(m.jsx)("div",{className:"text-gray-600 font-bold",children:"All session"})})]}),Object(m.jsx)("div",{onClick:function(){e.setSelectSession("all")},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"})]}),(t=e.allSession,s=j,Object(p.a)(t,s)).map((function(t,s){return Object(m.jsxs)("div",{className:"rounded border ".concat("all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2"),children:[Object(m.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between ",children:[Object(m.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?Object(m.jsx)(c.t,{className:"text-blue-500 text-4xl"}):Object(m.jsx)(c.Bb,{className:"text-gray-300 text-4xl"}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"".concat("all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?"text-blue-600":"text-gray-600"," font-bold"),children:t.session_plan_name}),Object(m.jsxs)("div",{className:"text-sm text-gray-500",children:[Object(m.jsx)("span",{children:"Status: "}),Object(m.jsx)("span",{className:"".concat(!0===t.is_active?"text-gray-900 font-bold underline":"text-gray-500 italic"),children:!0===t.is_active?"Active":"Expired"})]})]})]}),Object(m.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(null===i||i.session_plan_id!==t.session_plan_id)&&Object(m.jsx)("div",{onClick:function(){return d(t)},className:"bg-gray-50 group-hover:bg-blue-100 font-semibold text-gray-400 group-hover:text-blue-600 rounded px-3 py-2 cursor-pointer",children:"Details"}),Object(m.jsx)("div",{onClick:function(){e.setSelectSession(t)},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"}),null!==i&&i.session_plan_id===t.session_plan_id&&Object(m.jsx)("div",{onClick:function(){return d(null)},className:"bg-red-100 group-hover:bg-red-200 font-semibold text-red-600 group-hover:text-red-800 rounded px-3 py-2 cursor-pointer",children:"Close"})]})]}),null!==i&&i.session_plan_id===t.session_plan_id&&Object(m.jsx)("div",{className:"bg-white rounded border border-blue-50 mt-2 animate__animated animate__fadeIn",children:Object(m.jsxs)("table",{className:"w-full",children:[Object(m.jsx)("thead",{className:"bg-blue-50",children:Object(m.jsxs)("tr",{className:"text-left",children:[Object(m.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(m.jsx)("th",{children:"Plan"}),Object(m.jsx)("th",{children:"Start date"}),Object(m.jsx)("th",{children:"Ending date"}),Object(m.jsx)("th",{children:"Status"})]})}),Object(m.jsx)("tbody",{className:"text-sm",children:null!==i&&i.session_plan_id===t.session_plan_id&&i.plans.length>0&&t.plans.map((function(e,s){return Object(m.jsxs)("tr",{className:"".concat(void 0!==x(t.plans).find((function(t){return t.type_key===e.type_key}))?"bg-blue-100 text-blue-600 font-bold":""," text-left border-b border-blue-50"),children:[Object(m.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(m.jsx)("td",{children:e.type_title}),Object(m.jsx)("td",{children:Object(u.a)(e.start_date,"DD/MM/YYYY")}),Object(m.jsx)("td",{children:Object(u.a)(e.end_date,"DD/MM/YYYY")}),Object(m.jsx)("td",{children:e.type_status})]},s+1)}))})]})})]},s+1)}))]})})]})};t.a=i.a.memo(h)},698:function(e,t,s){"use strict";s.d(t,"c",(function(){return b})),s.d(t,"f",(function(){return j})),s.d(t,"a",(function(){return f})),s.d(t,"b",(function(){return g})),s.d(t,"g",(function(){return O})),s.d(t,"d",(function(){return _}));var r,a=s(17),n=s(4),o=s.n(n),i=s(71),c=s(22),l=s(38),d=s(207),u=s(42),p=s(24),m=s(684),x=s(688),h=s(1);!function(e){e.APPLICANT="applicant_name",e.N_ID="national_id",e.EMAIL="email",e.PHONE="phone",e.MARKS="marks",e.STATUS="performance_status",e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.START_TIME="exam_start_time",e.END_TIME="exam_end_time"}(r||(r={}));var b=function(e){return e!==r.COURSER_NAME&&e!==r.COURSE_CODE&&e!==r.PERIOD&&e!==r.APPLICANT&&e!==r.N_ID},j=[{key:r.APPLICANT,title:"Applicant names",status:!0},{key:r.N_ID,title:"National ID",status:!0},{key:r.EMAIL,title:"Email",status:!0},{key:r.PHONE,title:"Phone",status:!0},{key:r.MARKS,title:"Marks",status:!0},{key:r.COURSER_NAME,title:"Course names",status:!0},{key:r.COURSE_CODE,title:"Course code",status:!0},{key:r.SCHOOL_LEVEL,title:"School levels",status:!0},{key:r.PERIOD,title:"Exam period",status:!0},{key:r.DATE,title:"Exam date",status:!0},{key:r.START_TIME,title:"Exam start time",status:!0},{key:r.END_TIME,title:"Exam end time",status:!0},{key:r.STATUS,title:"Status",status:!0}],f=function(e,t,s){var r=[],a=[],n=function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!a.includes(t[s]._id)){a.push(t[s]._id);var n=e.find((function(e){return e.course_id===t[s].course}));n&&r.push({user_id:t[s].user.user_id,user_name:Object(u.a)(t[s].user.user_info.lname)+" "+Object(u.a)(t[s].user.user_info.fname),national_id:t[s].user.n_id?t[s].user.n_id:"",user_email:t[s].user.email,user_phone:t[s].user.phone_number,course_name:n.course_name,course_code:n.course_code,description:n.description,school_levels:n.school_levels,course_id:n.course_id,exam:t[s],user_total_marks:t[s].total_marks,exam_stastus:t[s].user_status})}};for(var o in t)n(o);return"all"!==s&&(r=r.filter((function(e){return e.course_id===s}))),r},g=function(e,t){return"all"===t?e:e.filter((function(e){return e.exam_stastus===t}))},O=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var r in e)if(s=!1,"course_name"!==r&&"course_code"!==r&&"user_total_marks"!==r&&"exam_stastus"!==r&&"description"!==r&&"user_name"!==r&&"user_phone"!==r&&"user_email"!==r&&"national_id"!==r||(s=e[r].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},_=function(e){return"Done"===e?"bg-blue-50 border-gray-300 hover:border-blue-500 border-t border-b":"Removed"===e?"bg-white border-red-300 hover:border-red-500 border-t border-b":"Paused"===e?"bg-white border-yellow-300 hover:border-yellow-500 border-t border-b":"bg-white border-gray-300 hover:border-blue-500 border-t border-b"};t.e=o.a.memo(Object(c.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(n.useState)(""),s=Object(a.a)(t,2),r=s[0],o=s[1],c=Object(n.useState)(!1),b=Object(a.a)(c,2),j=b[0],v=b[1],E=Object(n.useState)(""),y=Object(a.a)(E,2),P=y[0],N=y[1],C=Object(n.useState)("ASC"),R=Object(a.a)(C,2),T=R[0],S=R[1],I=function(e){P===e&&"ASC"===T?(S("DESC"),N(e),v(!0)):(S("ASC"),N(e),v(!0))};return Object(h.jsx)(n.Fragment,{children:Object(h.jsxs)("div",{className:"bg-white my-4",children:[Object(h.jsx)("div",{className:"w-full px-2 py-2",children:Object(h.jsx)("input",{onChange:function(e){return o(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.candidatePerformanceData&&g(f(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance).length<=0)})}),Object(h.jsx)("div",{className:"w-full overflow-x-auto",children:Object(h.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(h.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(h.jsx)("td",{className:"px-2 py-2",onClick:function(){return I("user_name")},children:"Applicants"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Email"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(h.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return I("course_name")},children:Object(h.jsxs)("div",{className:"flex items-center gap-1",children:["Exam ",Object(h.jsx)(i.j,{})]})}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam period"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam start time"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam end time"}),Object(h.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return I("user_total_marks")},children:Object(h.jsxs)("div",{className:"flex items-center gap-1",children:["Marks ",Object(h.jsx)(i.j,{})]})}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(h.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:12,className:"px-2 py-2",children:Object(h.jsx)(l.a,{})})}):e.candidatePerformanceData&&g(f(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance).length<=0?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:12,className:"px-2 py-2 text-center",children:"No applicant list available!"})}):e.candidatePerformanceData&&Object(p.p)(j,O(g(f(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance),r),P,T).map((function(t,s){return Object(h.jsxs)("tr",{className:"".concat(_(t.exam_stastus)," text-gray-600 hover:bg-blue-100 hover:text-blue-700 text-sm"),children:[Object(h.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(h.jsx)("td",{className:"px-2 py-2",children:Object(u.a)(t.user_name)}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.national_id}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.user_email}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.user_phone}),Object(h.jsxs)("td",{className:"px-2 py-2",children:[Object(u.a)(t.course_name)," (",Object(h.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(x.getPeriodById)(e.thisPeriod,t.exam.period)?Object(x.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.exam_date?Object(p.a)(t.exam.exam_date):"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.start_time?Object(p.q)(t.exam.start_time).timeAMPM:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.end_time?Object(p.q)(t.exam.end_time).timeAMPM:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam_stastus!==d.a.Editing?Number(t.user_total_marks.toFixed(1))+"%":"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:Object(u.a)(Object(m.d)(t.exam_stastus))})]},s+1)}))})]})})]})})})))},700:function(e,t,s){"use strict";s.d(t,"c",(function(){return m})),s.d(t,"d",(function(){return x})),s.d(t,"a",(function(){return h})),s.d(t,"e",(function(){return j}));var r,a=s(17),n=s(4),o=s.n(n),i=s(71),c=s(38),l=s(42),d=s(24),u=s(688),p=s(1);!function(e){e.course_name="course_name",e.course_code="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.STATUS="preparation_status"}(r||(r={}));var m=[{key:r.course_name,title:"Course names",status:!0},{key:r.course_code,title:"Course code",status:!0},{key:r.SCHOOL_LEVEL,title:"School levels",status:!0},{key:r.PERIOD,title:"Exam period",status:!0},{key:r.DATE,title:"Exam date",status:!0},{key:r.TIME,title:"Exam time",status:!0},{key:r.DURATION,title:"Exam duration",status:!0},{key:r.STATUS,title:"Exam status",status:!0}],x=function(e){return e!==r.course_name&&e!==r.course_code},h=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=[],a=[],n=function(n){if(Object.prototype.hasOwnProperty.call(e,n)){if(a.includes(e[n].course_id))return"continue";a.push(e[n].course_id);var o=Object(l.e)(s)?t.find((function(t){return t.course===e[n].course_id})):t.find((function(t){return t.course===e[n].course_id&&t.period===s}));o?r.push({course_name:e[n].course_name,course_code:e[n].course_code,description:e[n].description,school_levels:e[n].school_levels,course_id:e[n].course_id,exam:o,preparation_status:"prepared"}):r.push({course_name:e[n].course_name,course_code:e[n].course_code,description:e[n].description,school_levels:e[n].school_levels,course_id:e[n].course_id,exam:null,preparation_status:"not prepared"})}};for(var o in e)n(o);return r},b=function(e,t){return"all"===t?e:e.filter((function(e){return e.preparation_status===t}))},j=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var r in e)if(s=!1,"course_name"!==r&&"course_code"!==r&&"preparation_status"!==r||(s=e[r].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},f=function(e){var t=Object(n.useState)(""),s=Object(a.a)(t,2),r=s[0],o=s[1],m=Object(n.useState)(!1),x=Object(a.a)(m,2),f=x[0],g=x[1],O=Object(n.useState)(""),_=Object(a.a)(O,2),v=_[0],E=_[1],y=Object(n.useState)("ASC"),P=Object(a.a)(y,2),N=P[0],C=P[1],R=function(e){v===e&&"ASC"===N?(C("DESC"),E(e),g(!0)):(C("ASC"),E(e),g(!0))};return Object(p.jsx)(n.Fragment,{children:Object(p.jsxs)("div",{className:"bg-white my-4",children:[Object(p.jsx)("div",{className:"w-full px-2 py-2",children:e.courseListData&&e.examsListData&&Object(p.jsx)("input",{onChange:function(e){return o(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:b(h(e.courseListData,e.examsListData),e.filterPreparation).length<=0})}),Object(p.jsx)("div",{className:"w-full overflow-x-auto",children:Object(p.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(p.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("course_name")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(p.jsx)(i.j,{})]})}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Created at"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("preparation_status")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Exam Status ",Object(p.jsx)(i.j,{})]})})]})}),Object(p.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:8,className:"px-2 py-2",children:Object(p.jsx)(c.a,{})})}):e.courseListData&&e.examsListData&&b(h(e.courseListData,e.examsListData),e.filterPreparation).length<=0?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:8,className:"px-2 py-2 text-center",children:"No Course for exam found"})}):e.examsListData&&Object(d.p)(f,j(b(h(e.courseListData,e.examsListData),e.filterPreparation),r),v,N).map((function(t,s){return Object(p.jsxs)("tr",{className:"".concat(t.exam?"bg-blue-50":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(p.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(p.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(t.course_name)," (",Object(p.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.exam_date):"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(u.getPeriodById)(e.thisPeriod,t.exam.period)?Object(u.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.createdAt):"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:Object(l.a)(t.exam?"Prepared":"Not prepared")})]},s+1)}))})]})})]})})};t.b=o.a.memo(f)},704:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var r,a=s(17),n=s(4),o=s.n(n),i=s(122),c=s(12),l=s(22),d=s(3),u=s(200),p=s(38),m=s(23),x=s(42),h=s(689),b=s(697),j=s(696),f=s(698),g=s(684),O=s(700),_=s(722),v=s(688),E=s(1),y=function(e){var t,s=[],r=[],a=e.length;for(t=0;t<a;t++)s.includes(e[t].district_id)||(s.push(e[t].district_id),r.push(e[t]));return r};!function(e){e.title="TITLE",e.period="PERIOD",e.generateReportModal="GENERATE REPORT",e.choose_exam="Choosing Exam",e.choose_district="Choosing District"}(r||(r={}));t.b=o.a.memo(Object(l.b)((function(e){return{locations:e.locations.roomLocation}}),{getAllRoom:u.q,SetReportDistrictId:d.Ub,SetReportCourseId:d.Tb})((function(e){var t=Object(n.useState)(null),s=Object(a.a)(t,2),o=s[0],l=s[1],d=Object(n.useState)(!0),u=Object(a.a)(d,2),P=u[0],N=u[1],C=Object(n.useState)(""),R=Object(a.a)(C,2),T=R[0],S=R[1],I=Object(n.useState)(!0),A=Object(a.a)(I,2),D=A[0],w=A[1],L=Object(n.useState)(null),k=Object(a.a)(L,2),M=k[0],U=k[1],F=Object(n.useState)(e.districtId?e.districtId:"all"),q=Object(a.a)(F,2),z=q[0],G=q[1],X=function(t){return e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION?Object(O.d)(t):!e.reportTitle||e.reportTitle!==v.reportTitleType.EXAM_PERFORMANCE&&e.reportTitle!==v.reportTitleType.EXAM_DISTRICT_PERFORMANCE?e.reportTitle&&e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS?Object(g.e)(t):!(!e.reportTitle||e.reportTitle!==v.reportTitleType.APPLICANTS_PERFORMANCE&&e.reportTitle!==v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(f.c)(t):Object(_.d)(t)},Y=function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.examPerformanceReportContent){var s=e.examPerformanceReportContent.findIndex((function(e){return e.key===t})),r=e.examPerformanceReportContent;r[s].status=!r[s].status,e.setExamPerformanceReportContent&&e.setExamPerformanceReportContent(r);var a=r.find((function(e){return!1===e.status}));N(!a),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.exam30PerformanceReportContent){var n=e.exam30PerformanceReportContent.findIndex((function(e){return e.key===t})),o=e.exam30PerformanceReportContent;o[n].status=!o[n].status,e.setExam30PerformanceReportContent&&e.setExam30PerformanceReportContent(o);var i=o.find((function(e){return!1===e.status}));N(!i),e.updateExamToPrint&&e.updateExamToPrint()}},H=function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.candidateExamPerformanceReportContent){var s=e.candidateExamPerformanceReportContent.findIndex((function(e){return e.key===t})),r=e.candidateExamPerformanceReportContent;r[s].status=!r[s].status,e.setCandidateExamPerformanceReportContent&&e.setCandidateExamPerformanceReportContent(r);var a=r.find((function(e){return!1===e.status}));N(!a),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.candidate30ExamPerformanceReportContent){var n=e.candidate30ExamPerformanceReportContent.findIndex((function(e){return e.key===t})),o=e.candidate30ExamPerformanceReportContent;o[n].status=!o[n].status,e.setCandidate30ExamPerformanceReportContent&&e.setCandidate30ExamPerformanceReportContent(o);var i=o.find((function(e){return!1===e.status}));N(!i),e.updateExamToPrint&&e.updateExamToPrint()}};Object(n.useEffect)((function(){e.locations.length||e.modalFor!==r.choose_district?w(!1):e.getAllRoom((function(e,t){!e&&t.length>0&&console.error(t),w(e)}))}),[e]);var B=function(){if(e.reportTitle){if(e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&e.excelReportTitle&&e.examsToPrint)return{status:!0,data:e.examsToPrint};if(e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.excelReportTitle&&e.examPerformanceToPrint)return{status:!0,data:e.examPerformanceToPrint};if(e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.excelReportTitle&&e.exam30PerformanceToPrint)return{status:!0,data:e.exam30PerformanceToPrint};if(e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&e.excelReportTitle&&e.examinationProgressToPrint)return{status:!0,data:e.examinationProgressToPrint};if(e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.excelReportTitle&&e.candidateExamPerformanceToPrint)return{status:!0,data:e.candidateExamPerformanceToPrint};if(e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.excelReportTitle&&e.candidate30ExamPerformanceToPrint)return{status:!0,data:e.candidate30ExamPerformanceToPrint}}return{status:!1,data:[]}};return Object(E.jsxs)("div",{children:[e.modalFor===r.period&&e.applicationPeriods&&e.modalState&&Object(E.jsx)(m.d,{title:Object(E.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(E.jsx)(c.O,{className:"text-5xl text-blue-600"}),Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose a period"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.selected_period&&e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(E.jsx)(b.a,{allSession:e.applicationPeriods,setSelectSession:function(t){"all"!==t&&(e.setSelectedPeriod&&e.setSelectedPeriod(t),e.onPeriodChange&&e.onPeriodChange(t.session_plan_id),e.changeModalState(!1))},chooseAll:!1,currentSelected:e.selected_period?e.selected_period:"all"})}),e.modalFor===r.title&&e.modalState&&Object(E.jsx)(m.d,{title:Object(E.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(E.jsx)(i.e,{className:"text-5xl text-blue-600"}),Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose exam report type"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(E.jsx)("div",{className:"px-2 pb-2",children:Object.values(v.reportTitleType).map((function(t,s){return Object(E.jsxs)("div",{onClick:function(){e.setReportTitle&&e.setReportTitle(t),e.setExcelReportTitle&&e.setExcelReportTitle(t),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(e.reportTitle&&e.reportTitle===t?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"text-blue-500 text-sm font-medium italic",children:"Report type"}),Object(E.jsxs)("div",{className:"font-bold",children:[t,t===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&" district"]})]}),Object(E.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]},s+1)}))})}),e.generateReportModal&&e.modalFor===r.generateReportModal&&e.modalState&&Object(E.jsx)(m.d,{title:Object(E.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(E.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",e.generateReportModal.reportType," Report"]})]})}),backDrop:!0,theme:m.c.default,close:function(){return e.setGenerateReportModal&&e.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:m.b.medium,displayClose:!0,padding:{title:!0},children:Object(E.jsxs)("div",{className:"px-6",children:[Object(E.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Title"}),Object(E.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(o&&"report_title"===o.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:e.excelReportTitle?e.excelReportTitle:"",onChange:function(t){e.setExcelReportTitle&&e.setExcelReportTitle(t.target.value),l(null)}}),o&&"report_title"===o.element&&Object(E.jsx)("span",{className:"text-red-500",children:o.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(E.jsx)("label",{children:"Report content"}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examPreparationReportContent&&e.examPreparationReportContent.map((function(t,s){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(X(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return X(t.key)&&function(t){if(e.examPreparationReportContent){var s=e.examPreparationReportContent.findIndex((function(e){return e.key===t})),r=e.examPreparationReportContent;r[s].status=!r[s].status,e.setExamPreparationReportContent&&e.setExamPreparationReportContent(r);var a=r.find((function(e){return!1===e.status}));N(!a),e.updateExamToPrint&&e.updateExamToPrint()}}(t.key)},title:X(t.key)?"":"Required for every report!",children:[t.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:t.title})]},s)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examPerformanceReportContent&&e.examPerformanceReportContent.map((function(e,t){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(X(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return X(e.key)&&Y(e.key)},title:X(e.key)?"":"Required for every report!",children:[e.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.exam30PerformanceReportContent&&e.exam30PerformanceReportContent.map((function(e,t){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(X(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return X(e.key)&&Y(e.key)},title:X(e.key)?"":"Required for every report!",children:[e.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examinationProgressReportContent&&e.examinationProgressReportContent.map((function(t,s){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(X(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return X(t.key)&&function(t){if(e.examinationProgressReportContent){var s=e.examinationProgressReportContent.findIndex((function(e){return e.key===t})),r=e.examinationProgressReportContent;r[s].status=!r[s].status,e.setExaminationProgressExamPerformanceReportContent&&e.setExaminationProgressExamPerformanceReportContent(r);var a=r.find((function(e){return!1===e.status}));N(!a),e.updateExamToPrint&&e.updateExamToPrint()}}(t.key)},title:X(t.key)?"":"Required for every report!",children:[t.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:t.title})]},s)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.candidateExamPerformanceReportContent&&e.candidateExamPerformanceReportContent.map((function(e,t){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(X(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return X(e.key)&&H(e.key)},title:X(e.key)?"":"Required for every report!",children:[e.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.candidate30ExamPerformanceReportContent&&e.candidate30ExamPerformanceReportContent.map((function(e,t){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(X(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return X(e.key)&&H(e.key)},title:X(e.key)?"":"Required for every report!",children:[e.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:e.title})]},t)}))}),o&&"report_content"===o.element&&Object(E.jsx)("span",{className:"text-red-500",children:o.msg})]})]}),Object(E.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(E.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&e.examPreparationReportContent){var s=e.examPreparationReportContent;for(var r in s)X(s[r].key)&&(s[r].status=!t);e.setExamPreparationReportContent&&e.setExamPreparationReportContent(s),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.examPerformanceReportContent){var a=e.examPerformanceReportContent;for(var n in a)X(a[n].key)&&(a[n].status=!t);e.setExamPerformanceReportContent&&e.setExamPerformanceReportContent(a),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.exam30PerformanceReportContent){var o=e.exam30PerformanceReportContent;for(var i in o)X(o[i].key)&&(o[i].status=!t);e.setExam30PerformanceReportContent&&e.setExam30PerformanceReportContent(o),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&e.examinationProgressReportContent){var c=e.examinationProgressReportContent;for(var l in c)X(c[l].key)&&(c[l].status=!t);e.setExaminationProgressExamPerformanceReportContent&&e.setExaminationProgressExamPerformanceReportContent(c),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.candidateExamPerformanceReportContent){var d=e.candidateExamPerformanceReportContent;for(var u in d)X(d[u].key)&&(d[u].status=!t);e.setCandidateExamPerformanceReportContent&&e.setCandidateExamPerformanceReportContent(d),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.candidate30ExamPerformanceReportContent){var p=e.candidate30ExamPerformanceReportContent;for(var m in p)X(p[m].key)&&(p[m].status=!t);e.setCandidate30ExamPerformanceReportContent&&e.setCandidate30ExamPerformanceReportContent(p),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}}(P)},children:[P?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:"Select all"})]}),B().status&&Object(E.jsx)(h.a,{fileData:B().data,fileName:e.excelReportTitle,btnName:"Generate"})]})]})}),e.modalFor===r.choose_exam&&e.modalState&&e.AllExamData&&Object(E.jsx)(m.d,{title:Object(E.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(E.jsx)(i.e,{className:"text-5xl text-blue-600"}),Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose exam"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(E.jsxs)("div",{className:"px-2 pb-2",children:[Object(E.jsx)("div",{className:"w-full py-2",children:Object(E.jsx)("input",{onChange:function(e){return S(e.target.value)},type:"text",value:T,placeholder:"Search...",className:"w-full bg-white py-2 px-3 rounded border border-gray-400",disabled:e.AllExamData.length<=0})}),Object(E.jsxs)("div",{onClick:function(){e.SetReportCourseId(null),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(null===e.thisExam?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"text-sm font-medium italic",children:["code: ",Object(E.jsx)("span",{className:"text-blue-500",children:"-"})]}),Object(E.jsx)("div",{className:"font-bold text-lg",children:"All exams"})]}),Object(E.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]}),Object(g.f)(e.AllExamData,T).map((function(t,s){return Object(E.jsxs)("div",{onClick:function(){e.SetReportCourseId(t),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(e.thisExam&&e.thisExam.course_id===t.course_id?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"text-sm font-medium italic",children:["code:"," ",Object(E.jsx)("span",{className:"text-blue-500",children:t.course_code})]}),Object(E.jsx)("div",{className:"font-bold text-lg",children:t.course_name})]}),Object(E.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]},s+1)}))]})}),e.modalFor===r.choose_district&&e.modalState&&Object(E.jsx)(m.d,{title:Object(E.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(E.jsx)(i.e,{className:"text-5xl text-blue-600"}),Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose district"})})]}),backDrop:!0,theme:m.c.default,close:function(){return!Object(x.e)(z)&&e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.medium,displayClose:!0,padding:{title:!0},children:Object(E.jsx)("div",{className:"px-2 pb-2 ",children:D?Object(E.jsx)(p.a,{}):Object(E.jsxs)("section",{className:"pb-8 px-7 ",children:[Object(E.jsx)("label",{className:"uppercase md:text-sm text-xs text-gray-500 text-light font-semibold",children:"District"}),e.locations.length>0?Object(E.jsxs)("div",{className:"",children:[Object(E.jsxs)("select",{className:"py-3 px-3 w-full rounded border-2 bg-white mt-1 focus:outline-none ".concat(M&&"district"===M.element?"border-red-400 focus:border-red-800":"border-gray-400 focus:border-gray-800"),value:z,onChange:function(t){G(t.target.value),function(t){if(U(null),"all"===t)(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE||e.isAllDistrictAllowed&&!0===e.isAllDistrictAllowed)&&e.SetReportDistrictId?(e.SetReportDistrictId(null),e.changeModalState(!1)):U({element:"district",msg:"District is required"});else if(e.SetReportDistrictId){var s=Object(j.a)(e.locations).find((function(e){return e.district_id===t}));if(!s)return U({element:"district",msg:"Invalid district id"});e.SetReportDistrictId({district_id:s.district_id,district_name:s.district_name}),e.changeModalState(!1)}}(t.target.value)},children:[Object(E.jsx)("option",{value:"all",children:"Select district"}),y(Object(j.a)(e.locations)).map((function(e,t){return Object(E.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)}))]}),M&&"district"===M.element&&Object(E.jsx)("p",{className:"text-xs italic text-red-500 mt-3",children:M.msg})]}):Object(E.jsx)("div",{className:"alert-info",children:"No district found"})]})})})]})})))},709:function(e,t,s){"use strict";var r=s(4),a=s.n(r),n=s(708),o=s.n(n),i=s(1),c=function(e){return Object(i.jsx)("div",{className:"donut",children:Object(i.jsx)(o.a,{options:e.options,series:e.series,type:"donut",width:"".concat(e.width?e.width:"380")})})};t.a=a.a.memo(c)},712:function(e,t){},713:function(e,t,s){"use strict";s.r(t),s.d(t,"UserAccess",(function(){return R}));var r=s(5),a=s.n(r),n=s(7),o=s(26),i=s(25),c=s(28),l=s(27),d=s(10),u=s.n(d),p=s(4),m=s.n(p),x=s(71),h=s(12),b=s(710),j=s(705),f=s(22),g=s(36),O=s(3),_=s(682),v=s(201),E=s(21),y=s(9),P=s(15),N=s(1),C=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).setViewPermission=function(e){r.setState({viewPermission:e})},r.setLoadindRequest=function(e){r.setState({loadindRequest:e})},r.setCreatePermission=function(e){r.setState({createPermission:e})},r.setUpdatePermission=function(e){r.setState({updatePermission:e})},r.setDeletePermission=function(e){r.setState({deletePermission:e})},r.setLoadind=function(e){r.setState({loading:e})},r.overrideUserAccess=function(e,t){if(e&&t&&t.length>0){var s=[],a=function(r){if(Object.prototype.hasOwnProperty.call(e,r)){var a=t.find((function(t){return t.id===e[r].id}));a?s.push(a):s.push(e[r])}};for(var n in e)a(n);r.props.setUserAccess(s)}},r.componentDidMount=function(){r.props.userInfo&&r.props.userInfo.custome_access?(r.props.userInfo.default_access&&r.overrideUserAccess(r.props.userInfo.default_access.access,r.props.userInfo.custome_access.access),r.setLoadind(!1)):(r.props.userInfo&&r.props.userInfo.default_access&&r.props.setUserAccess(r.props.userInfo.default_access.access),r.setLoadind(!1))},r.tableData=function(){return r.props.userAccess?r.props.userAccess.map((function(e,t){return Object(N.jsxs)("tr",{className:"text-left border-b border-gray-200 cursor-pointer hover:bg-gray-100 ".concat(r.props.currentAccess&&r.props.currentAccess.id===e.id&&"bg-gray-200 border my-3 hover:bg-gray-100"),onClick:function(){return r.props.currentAccess&&r.props.currentAccess.id===e.id?(r.props.setCurrentAccess(null),r.setCreatePermission(!1),r.setViewPermission(!1),r.setUpdatePermission(!1),r.setDeletePermission(!1)):(r.props.setCurrentAccess(e),r.setCreatePermission(e.permitted.create),r.setViewPermission(e.permitted.view),r.setUpdatePermission(e.permitted.update),r.setDeletePermission(e.permitted.delete))},children:[Object(N.jsx)("td",{className:"px-2 py-1",children:Object(N.jsx)("label",{className:"inline-flex items-center",children:Object(N.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.N,{}),e.permitted.create?" Yes":"No"]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.N,{}),e.permitted.view?" Yes":"No"]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.N,{}),e.permitted.update?" Yes":"No"]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.N,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id+Math.random())})):[Object(N.jsx)("tr",{children:Object(N.jsx)("td",{children:"No data"})},Math.random())]},r.handleCustomization=function(){var e=Object(n.a)(a.a.mark((function e(t){var s,n,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r.props.userInfo){e.next=26;break}if(r.setLoadindRequest(!0),s=null,s=r.props.userInfo.custome_access,n=-1,e.prev=6,s&&r.props.currentAccess?(n=s.access.findIndex((function(e){return e.id===r.props.currentAccess.id})))>=0?(s.access[n].permitted.create=r.state.createPermission,s.access[n].permitted.view=r.state.viewPermission,s.access[n].permitted.update=r.state.updatePermission,s.access[n].permitted.delete=r.state.deletePermission):s.access.push({id:r.props.currentAccess.id,task:r.props.currentAccess.task,key:r.props.currentAccess.key,permitted:{create:r.state.createPermission,view:r.state.viewPermission,update:r.state.updatePermission,delete:r.state.deletePermission}}):r.props.currentAccess&&(s={access:[{id:r.props.currentAccess.id,task:r.props.currentAccess.task,key:r.props.currentAccess.key,permitted:{create:r.state.createPermission,view:r.state.viewPermission,update:r.state.updatePermission,delete:r.state.deletePermission}}],user_id:r.props.userInfo.user_id,custome_user_access_id:""}),!s){e.next=19;break}if(null===r.props.userInfo.custome_access){e.next=15;break}return e.next=12,u.a.patch("".concat(y.a.AUTH,"/custaccess"),{access:s.access,user_id:r.props.userInfo.user_id});case 12:o=e.sent,e.next=18;break;case 15:return e.next=17,u.a.post("".concat(y.a.AUTH,"/custaccess"),{access:s.access,user_id:r.props.userInfo.user_id});case 17:o=e.sent;case 18:o&&(s.custome_user_access_id=o.data.data.custome_user_access_id,r.props.customizeUserAccess(s,r.props.currentPage),s&&r.props.userInfo.default_access&&r.overrideUserAccess(r.props.userInfo.default_access.access,s.access),r.props.PushPopupAlert({title:"Resetting User Access complete successfully",theme:E.a.info}),s=null,r.props.setCurrentAccess(null),r.setCreatePermission(!1),r.setViewPermission(!1),r.setUpdatePermission(!1),r.setDeletePermission(!1));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),console.error({customize_access:e.t0}),r.props.PushPopupAlert({title:Object(P.a)(e.t0),theme:E.a.danger});case 25:r.setLoadindRequest(!1);case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),r.state={loading:!0,loadindRequest:!1,createPermission:!1,viewPermission:!1,updatePermission:!1,deletePermission:!1},r}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return void 0===this.props.userInfo?Object(N.jsx)(g.a,{to:"/users"}):this.state.loading||null===this.props.userInfo?Object(N.jsx)("div",{className:"text-center py-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading User Access..."}):Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mx-1 my-2",children:[Object(N.jsxs)("div",{className:"col-span-1 md:col-span-3 bg-white w-full overflow-x-auto border rounded text-center p-2 ".concat(this.props.currentAccess?"hidden md:block":""),children:[Object(N.jsx)("span",{className:"text-gray-600 mt-2 font-semibold text-2xl",children:"Settings"}),!this.state.loading&&Object(N.jsx)("div",{className:"overflow-x-auto w-full",children:Object(N.jsx)(v.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!0,searchBG:"bg-gray-50",thColor:"gray"})})]}),Object(N.jsx)("div",{className:"col-span-1 md:col-span-2",children:this.props.currentAccess?Object(N.jsxs)("div",{className:"",children:[Object(N.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-center my-2 text-gray-900",children:"Customize User Access"}),Object(N.jsx)("div",{className:"flex justify-center mb-3",children:Object(N.jsxs)("h2",{className:"text-2xl font-semibold text-center text-gray-600 flex flex-row items-center",children:[Object(N.jsx)(x.i,{className:"w-7 h-7"}),this.props.currentAccess.task]})}),Object(N.jsx)("div",{className:"flex flex-col px-2 md:px-1",children:Object(N.jsxs)("form",{className:"flex flex-col items-center",onSubmit:function(t){return e.handleCustomization(t)},children:[Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(b.a,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"Create"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to create"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setCreatePermission(!e.state.createPermission)},checked:this.state.createPermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(h.Eb,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"View"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm md:pr-4",children:"This permission gives the user the ability to view"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setViewPermission(!e.state.viewPermission)},checked:this.state.viewPermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(h.D,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"Update"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm",children:"This permission gives the user the ability to update"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setUpdatePermission(!e.state.updatePermission)},checked:this.state.updatePermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(h.B,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"Delete"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to delete"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setDeletePermission(!e.state.deletePermission)},checked:this.state.deletePermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"flex items-center justify-center w-full py-3 gap-2",children:[Object(N.jsx)("button",{className:"btn bg-gray-500 hover:bg-gray-700 focus:outline-none text-white",disabled:this.state.loadindRequest,onClick:function(){e.props.setCurrentAccess(null),e.setCreatePermission(!1),e.setViewPermission(!1),e.setUpdatePermission(!1),e.setDeletePermission(!1)},children:"Cancel"}),Object(N.jsx)("button",{className:"btn btn-blue",disabled:this.state.loadindRequest,children:this.state.loadindRequest?"Processing..":"Save Change"})]})]})})]}):Object(N.jsxs)("div",{className:"w-full hidden md:flex flex-col items-center text-gray-600 gap-1 py-3",children:[Object(N.jsx)(h.Nb,{className:"w-20 h-20"}),Object(N.jsx)("span",{className:"text-8 md:text-12",children:"Choose Access to Customize"})]})})]})})}}]),s}(p.Component),R=m.a.memo(Object(f.b)(null,{customizeUserAccess:_.c,PushPopupAlert:O.Nb})(C))},719:function(e,t){},720:function(e,t){},721:function(e,t,s){"use strict";var r=s(4),a=s.n(r),n=s(53),o=s(42),i=s(1),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",icon:n.r,iconColor:"indigo",count:0,countOver:void 0},t=e.icon;return Object(i.jsxs)("div",{className:"flex items-center px-6 py-4 bg-white w-full rounded-md space-x-2 mb-2 lg:mb-0 shadow-md",children:[Object(i.jsx)("div",{className:"p-3 rounded-full bg-".concat(e.iconColor,"-200 bg-opacity-75"),children:Object(i.jsx)(t,{className:"h-8 w-8 text-".concat(e.iconColor,"-600")})}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("h1",{className:"text-3xl font-semibold text-gray-700",children:[Object(o.f)(e.count)," ",e.countOver&&"/ "+Object(o.f)(e.countOver)]}),Object(i.jsx)("span",{className:"text-gray-500 text-lg",children:e.title})]})]})};t.a=a.a.memo(c)},722:function(e,t,s){"use strict";s.d(t,"d",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"a",(function(){return x}));var r,a=s(17),n=s(4),o=s.n(n),i=s(71),c=s(38),l=s(42),d=s(24),u=s(1);!function(e){e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.PERFORMANCE="exam_performance"}(r||(r={}));var p=function(e){return e!==r.COURSER_NAME&&e!==r.COURSE_CODE&&e!==r.PERIOD&&e!==r.PERFORMANCE},m=[{key:r.COURSER_NAME,title:"Course names",status:!0},{key:r.COURSE_CODE,title:"Course code",status:!0},{key:r.SCHOOL_LEVEL,title:"School levels",status:!0},{key:r.PERIOD,title:"Exam period",status:!0},{key:r.DATE,title:"Exam date",status:!0},{key:r.TIME,title:"Exam time",status:!0},{key:r.DURATION,title:"Exam duration",status:!0},{key:r.PERFORMANCE,title:"Exam performance",status:!0}],x=function(e,t,s){var r=[],a=[],n=function(n){if(Object.prototype.hasOwnProperty.call(s,n)){if(a.includes(s[n].answer_sheet_id))return"continue";a.push(s[n].answer_sheet_id);var o=e.find((function(e){return e.course_id===s[n].course}));if(o){var i=t.find((function(e){return e.course===s[n].course&&e.period===s[n].period}));r.push({course_name:o.course_name,course_code:o.course_code,description:o.description,school_levels:o.school_levels,course_id:o.course_id,exam:i||null,exam_performance:s[n].total_marks})}}};for(var o in s)n(o);return console.log("===============-----------------====================="),console.log({result:r}),console.log("===============-----------------====================="),r},h=function(e){var t,s,r=Object(n.useState)(""),p=Object(a.a)(r,2),m=p[0],h=p[1],b=Object(n.useState)(!1),j=Object(a.a)(b,2),f=j[0],g=j[1],O=Object(n.useState)(""),_=Object(a.a)(O,2),v=_[0],E=_[1],y=Object(n.useState)("ASC"),P=Object(a.a)(y,2),N=P[0],C=P[1],R=function(e){v===e&&"ASC"===N?(C("DESC"),E(e),g(!0)):(C("ASC"),E(e),g(!0))};return Object(u.jsx)(o.a.Fragment,{children:Object(u.jsxs)("div",{className:"bg-white my-4",children:[Object(u.jsx)("div",{className:"w-full px-2 py-2",children:Object(u.jsx)("input",{onChange:function(e){return h(e.target.value)},type:"text",value:m,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.examsPerformanceData&&x(e.courseListData,e.examsListData,e.examsPerformanceData).length<=0)})}),Object(u.jsx)("div",{className:"w-full overflow-x-auto",children:Object(u.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(u.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("course_name")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(u.jsx)(i.j,{})]})}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("exam_performance")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Exam performance ",Object(u.jsx)(i.j,{})]})})]})}),Object(u.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:6,className:"px-2 py-2",children:Object(u.jsx)(c.a,{})})}):e.examsListData&&e.examsPerformanceData&&x(e.courseListData,e.examsListData,e.examsPerformanceData).length<=0?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:6,className:"px-2 py-2 text-center",children:"No Exam list available!"})}):e.examsListData&&e.examsPerformanceData&&Object(d.p)(f,(t=x(e.courseListData,e.examsListData,e.examsPerformanceData),s=m,void 0===s||""===s?t:t.filter((function(e){var t;for(var r in e)if(t=!1,"course_name"!==r&&"course_code"!==r&&"exam_performance"!==r||(t=e[r].toString().toLowerCase().indexOf(s.toLowerCase())>-1),t)break;return t}))),v,N).map((function(e,t){return Object(u.jsxs)("tr",{className:"bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm",children:[Object(u.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(u.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(e.course_name)," (",Object(u.jsx)("span",{className:"font-semibold",children:e.course_code}),")"]}),Object(u.jsx)("td",{className:"px-2 py-2",children:e.exam?Object(d.a)(e.exam.exam_date):"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:e.exam?e.exam.start_time:"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:e.exam?e.exam.duration+" min":"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:Number(e.exam_performance.toFixed(1))+"%"})]},t+1)}))})]})})]})})};t.b=o.a.memo(h)},723:function(e,t,s){"use strict";var r=s(4),a=s.n(r),n=s(721),o=s(1),i=function(e){var t=e.labelsOnRow&&e.labelsOnRow>4?e.labelsOnRow:4;return Object(o.jsxs)("div",{className:"grid 2xl:grid-cols-".concat(t," xl:grid-cols-").concat(t-1," lg:grid-cols-").concat(t-2," md:grid-cols-").concat(t-3," sm:grid-cols-2 grid-cols-1 gap-4 items-center mx-auto"),children:[e.children&&(e.childrenPosition&&"START"===e.childrenPosition||!e.childrenPosition)&&e.children,e.dataLabels.map((function(e,t){return Object(o.jsx)("section",{children:Object(o.jsx)(n.a,{title:e.title,icon:e.icon,iconColor:e.iconColor,count:e.count})},t+e.title)})),e.children&&e.childrenPosition&&"END"===e.childrenPosition&&e.children]})};t.a=a.a.memo(i)},726:function(e,t,s){"use strict";s.r(t),s.d(t,"distinctDistrict",(function(){return T})),s.d(t,"distinctCenter",(function(){return S})),s.d(t,"distinctRoom",(function(){return I})),s.d(t,"Locations",(function(){return A}));var r=s(17),a=s(4),n=s.n(a),o=s(121),i=s(31),c=s(22),l=s(200),d=s(696),u=s(5),p=s.n(u),m=s(7),x=s(10),h=s.n(x),b=s(9),j=s(205),f=s(21),g=s(15),O=s(160),_=s(23),v=s(42),E=s(1),y=n.a.memo(Object(c.b)(null,{FC_CreateDistrict:l.b,FC_UpdateDistrict:l.m,FC_DeleteDistrict:l.g,PushPopupAlert:j.c})((function(e){var t=Object(a.useState)(""),s=Object(r.a)(t,2),n=s[0],o=s[1],i=Object(a.useState)(0),c=Object(r.a)(i,2),l=c[0],d=c[1],u=Object(a.useState)(null),x=Object(r.a)(u,2),j=x[0],y=x[1],P=function(){var t=Object(m.a)(p.a.mark((function t(){var s,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(v.e)(n)){t.next=2;break}return t.abrupt("return",y({element:"district_name",msg:"District name is required"}));case 2:if(!(l<=0)){t.next=4;break}return t.abrupt("return",y({element:"district_code",msg:"Invalid district code, code must be greater than 0"}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_DISTRICT"!==e.actionTypes){t.next=13;break}return t.next=9,h.a.post("".concat(b.a.APPLICATION,"/district"),{province_id:e.thisProvince._id,province_code:e.thisProvince.province_code,district_name:n,district_code:l,centers:[]});case 9:(s=t.sent).data&&(console.log({province_id:e.thisProvince._id,data:s.data.data,res:s}),e.FC_CreateDistrict({province_id:e.thisProvince._id,data:{centers:s.data.data.centers,sectors:s.data.data.sectors,province_code:s.data.data.province_code,province_id:s.data.data.province_id,district_code:s.data.data.district_code,district_name:s.data.data.district_name,district_id:s.data.data._id}}),e.PushPopupAlert({title:"New district created successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),o(""),d(0)),t.next=19;break;case 13:if(!e.thisDistrict||"UPDATE_DISTRICT"!==e.actionTypes){t.next=19;break}return r=e.thisDistrict.centers.map((function(e){return e._id})),t.next=17,h.a.patch("".concat(b.a.APPLICATION,"/district"),{district_id:e.thisDistrict._id,province_code:e.thisProvince.province_code,district_name:n,district_code:l,centers:r});case 17:(s=t.sent).data&&(e.FC_UpdateDistrict({province_id:e.thisProvince._id,district_id:e.thisDistrict._id,district_name:n}),e.PushPopupAlert({title:"District updated successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),o(""),e.setThisDistrict(null));case 19:t.next=26;break;case 21:t.prev=21,t.t0=t.catch(5),console.log({doc_category_error:t.t0}),e.PushPopupAlert({title:Object(g.a)(t.t0),theme:f.a.danger}),e.setLoadingRequest(!1);case 26:case"end":return t.stop()}}),t,null,[[5,21]])})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"w-full p-2",children:[e.thisProvince.districts.length>0?Object(E.jsx)("div",{className:"rounded border border-gray-100 shadow-sm animate__animated animate__fadeIn",children:Object(E.jsxs)("table",{className:"w-full z-0",children:[Object(E.jsx)("thead",{className:"bg-gray-50",children:Object(E.jsxs)("tr",{className:"text-left",children:[Object(E.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(E.jsx)("th",{children:"District name"}),Object(E.jsx)("th",{children:"District code"}),Object(E.jsx)("th",{children:"Sectors"})]})}),Object(E.jsx)("tbody",{className:"text-base",children:e.thisProvince.districts.map((function(e,t){return Object(E.jsxs)("tr",{className:"text-left border-b border-gray-50",children:[Object(E.jsx)("td",{className:"px-3 py-1",children:t+1}),Object(E.jsx)("td",{children:e.district_name}),Object(E.jsx)("td",{children:e.district_code}),Object(E.jsx)("td",{children:e.sectors&&e.sectors.length>0?e.sectors.length+" Sector(s)":""})]},t+e._id)}))})]})}):Object(E.jsx)(O.b,{theme:O.a.Dark,value:"No district found!",component:Object(E.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(E.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(E.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_DISTRICT")},className:"underline text-gray-500 cursor-pointer",children:"Add district"})})})}),e.actionTypes&&("CREATE_DISTRICT"===e.actionTypes||"UPDATE_DISTRICT"===e.actionTypes)&&Object(E.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){e.setActionTypes(null),o(""),d(10),y(null)},displayClose:!1,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex items-center space-x-5",children:Object(E.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(E.jsx)("h2",{className:"uppercase text-back",children:"CREATE_DISTRICT"===e.actionTypes?"CREATING NEW DISTRICT":"UPDATE_DISTRICT"===e.actionTypes&&"UPDATING EXISTING DISTRICT"})})}),widthSizeClass:_.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(E.jsxs)("div",{className:"mx-5 mb-4",children:[Object(E.jsxs)("div",{className:"py-2 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"District name"}),Object(E.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(j&&"district_name"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"district_name"===j.element&&y(null),o(e.target.value)},value:n,disabled:e.loadingRequest}),j&&"district_name"===j.element&&Object(E.jsx)("span",{className:"text-red-700",children:j.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"District code"}),Object(E.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(j&&"district_code"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"district_code"===j.element&&y(null),d(Number(e.target.value))},value:l,disabled:e.loadingRequest}),j&&"district_code"===j.element&&Object(E.jsx)("span",{className:"text-red-700",children:j.msg})]})]}),Object(E.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(E.jsx)("button",{onClick:function(){e.setActionTypes(null),o(""),d(10),y(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return P()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),P=s(76),N=n.a.memo(Object(c.b)(null,{FC_CreateProvince:l.c,FC_UpdateProvince:l.n,FC_DeleteProvince:l.h,PushPopupAlert:j.c})((function(e){var t=Object(a.useState)(""),s=Object(r.a)(t,2),n=s[0],o=s[1],i=Object(a.useState)(0),c=Object(r.a)(i,2),l=c[0],d=c[1],u=Object(a.useState)(null),x=Object(r.a)(u,2),j=x[0],y=x[1],N=function(){var t=Object(m.a)(p.a.mark((function t(){var s,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(v.e)(n)){t.next=2;break}return t.abrupt("return",y({element:"province_title",msg:"Title of Province is required"}));case 2:if(!(l<=0)){t.next=4;break}return t.abrupt("return",y({element:"province_code",msg:"Code of Province is required"}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_PROVINCE"!==e.actionTypes){t.next=13;break}return t.next=9,h.a.post("".concat(b.a.APPLICATION,"/province"),{province_name:n,province_code:l,districts:[]});case 9:(s=t.sent).data&&(e.FC_CreateProvince(s.data.data),e.PushPopupAlert({title:"New Province created successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),o("")),t.next=19;break;case 13:if(!e.thisProvince||"UPDATE_PROVINCE"!==e.actionTypes){t.next=19;break}return r=e.thisProvince.districts.map((function(e){return e._id})),t.next=17,h.a.patch("".concat(b.a.APPLICATION,"/province"),{province_id:e.thisProvince._id,province_name:n,province_code:l,districts:r});case 17:(s=t.sent).data&&(console.log({res:s.data.updated}),e.FC_UpdateProvince(s.data.updated),e.PushPopupAlert({title:"Province updated successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),o(""),e.setThisProvince(null));case 19:t.next=26;break;case 21:t.prev=21,t.t0=t.catch(5),console.error({province_error:t.t0}),e.PushPopupAlert({title:Object(g.a)(t.t0),theme:f.a.danger}),e.setLoadingRequest(!1);case 26:case"end":return t.stop()}}),t,null,[[5,21]])})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"w-full p-2",children:[e.locations.length>0?e.locations.map((function(t,s){return Object(E.jsxs)("div",{className:"flex justify-between items-center p-2 mb-3 rounded border border-gray-100 shadow",children:[Object(E.jsx)("div",{className:"flex items-center",children:Object(E.jsxs)("div",{className:"ml-2",children:[Object(E.jsx)("div",{className:"text-xl font-semibold text-gray-600",children:t.province_name}),Object(E.jsx)("div",{className:"text-sm font-light text-gray-500",children:t.districts.length>0?t.districts.length+"District(s)":null})]})}),Object(E.jsx)("div",{className:"flex items-center gap-2",children:Object(E.jsx)("button",{title:e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?"Close Districts":"View Districts",className:"".concat(e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?"bg-gray-500 hover:bg-gray-600":"bg-gray-400 hover:bg-gray-500"," p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none"),onClick:function(){e.thisProvince&&e.thisProvince._id===t._id?e.setThisProvince(null):e.setThisProvince(t),o(""),e.setActionTypes(null)},children:e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?Object(E.jsx)(P.k,{className:"text-white w-4 h-4"}):Object(E.jsx)(P.j,{className:"text-white w-4 h-4"})})})]},s+t._id)})):Object(E.jsx)(O.b,{theme:O.a.Dark,value:"No province found!",component:Object(E.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(E.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(E.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_PROVINCE")},className:"underline text-gray-500 cursor-pointer",children:"Add province"})})})}),e.actionTypes&&("CREATE_PROVINCE"===e.actionTypes||"UPDATE_PROVINCE"===e.actionTypes)&&Object(E.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){e.setActionTypes(null),o(""),d(0),y(null)},displayClose:!1,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex items-center space-x-5",children:Object(E.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(E.jsx)("h2",{className:"uppercase text-back",children:"CREATE_PROVINCE"===e.actionTypes?"CREATING NEW PROVINCE":"UPDATE_PROVINCE"===e.actionTypes&&"UPDATING EXISTING PROVINCE"})})}),widthSizeClass:_.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(E.jsxs)("div",{className:"mx-5 mb-4",children:[Object(E.jsxs)("div",{className:"py-2 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Province name"}),Object(E.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(j&&"province_title"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"province_title"===j.element&&y(null),o(e.target.value)},value:n,disabled:e.loadingRequest}),j&&"province_title"===j.element&&Object(E.jsx)("span",{className:"text-red-700",children:j.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Province code"}),Object(E.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(j&&"province_code"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"province_code"===j.element&&y(null),d(Number(e.target.value))},value:l,disabled:e.loadingRequest}),j&&"province_code"===j.element&&Object(E.jsx)("span",{className:"text-red-700",children:j.msg})]})]}),Object(E.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(E.jsx)("button",{onClick:function(){e.setActionTypes(null),o(""),d(0),y(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return N()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),C=s(12),R=n.a.memo(Object(c.b)(null,{FC_CreateSector:l.e,FC_UpdateSector:l.p,FC_DeleteSector:l.j,PushPopupAlert:j.c})((function(e){var t=Object(a.useState)(""),s=Object(r.a)(t,2),n=s[0],o=s[1],i=Object(a.useState)(0),c=Object(r.a)(i,2),l=c[0],d=c[1],u=Object(a.useState)(null),x=Object(r.a)(u,2),j=x[0],y=x[1],P=function(){var t=Object(m.a)(p.a.mark((function t(){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(v.e)(n)){t.next=2;break}return t.abrupt("return",y({element:"sector_name",msg:"Sector name is required"}));case 2:if(!(l<=0)){t.next=4;break}return t.abrupt("return",y({element:"sector_code",msg:"Invalid sector code, must be "}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_SECTOR"!==e.actionTypes){t.next=13;break}return t.next=9,h.a.post("".concat(b.a.APPLICATION,"/sector"),{district_id:e.thisDistrict._id,district_code:e.thisDistrict.district_code,sector_name:n,sector_code:l});case 9:(s=t.sent).data&&(console.log({district_id:e.thisDistrict._id,data:s.data.data,res:s}),e.FC_CreateSector({province_id:e.thisDistrict.province_id,district_id:e.thisDistrict._id,data:{district_id:s.data.data.district_id,district_code:s.data.data.district_code,sector_name:s.data.data.sector_name,sector_code:s.data.data.sector_code,sector_id:s.data.data.sector_id}}),e.PushPopupAlert({title:"New sector created successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),o("")),t.next=18;break;case 13:if(!e.thisSector||"UPDATE_SECTOR"!==e.actionTypes){t.next=18;break}return t.next=16,h.a.patch("".concat(b.a.APPLICATION,"/sector"),{district_id:e.thisSector.district_id,district_code:e.thisDistrict.district_code,sector_id:e.thisSector.sector_id,sector_name:n,sector_code:l});case 16:(s=t.sent).data&&(e.FC_UpdateSector({province_id:e.thisDistrict.province_id,district_id:e.thisSector.district_id,sector_id:e.thisSector.sector_id,sector_name:n,sector_code:l}),e.PushPopupAlert({title:"Sector updated successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),o(""),e.setThisSector(null));case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(5),console.log({sector_error:t.t0}),e.PushPopupAlert({title:Object(g.a)(t.t0),theme:f.a.danger}),e.setLoadingRequest(!1);case 25:case"end":return t.stop()}}),t,null,[[5,20]])})));return function(){return t.apply(this,arguments)}}(),N=function(){var t=Object(m.a)(p.a.mark((function t(s){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.delete("".concat(b.a.APPLICATION,"/sector/").concat(s));case 3:t.sent.data&&(e.FC_DeleteSector({province_id:e.thisDistrict.province_id,district_id:e.thisDistrict._id,sector_id:s}),e.PushPopupAlert({title:"Sector deleted successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null)),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log({district_error:t.t0}),e.PushPopupAlert({title:Object(g.a)(t.t0),theme:f.a.danger}),e.setLoadingRequest(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"w-full p-2",children:[e.thisDistrict.sectors&&e.thisDistrict.sectors.length>0?Object(E.jsx)("div",{className:"rounded border border-gray-100 shadow-sm animate__animated animate__fadeIn",children:Object(E.jsxs)("table",{className:"w-full z-0",children:[Object(E.jsx)("thead",{className:"bg-gray-50",children:Object(E.jsxs)("tr",{className:"text-left",children:[Object(E.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(E.jsx)("th",{children:"Sector name"}),Object(E.jsx)("th",{children:"Sector code"}),Object(E.jsx)("th",{children:"Status"})]})}),Object(E.jsx)("tbody",{className:"text-sm",children:e.thisDistrict.sectors.map((function(t,s){return Object(E.jsxs)("tr",{className:"text-left border-b border-gray-50",children:[Object(E.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(E.jsx)("td",{children:t.sector_name}),Object(E.jsx)("td",{children:t.sector_name}),Object(E.jsx)("td",{children:Object(E.jsxs)("div",{className:"flex items-center gap-2",children:[Object(E.jsx)("button",{title:"Update sector",className:"bg-blue-500 hover:bg-blue-600 p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none",onClick:function(){e.setThisSector(t),o(t.sector_name),d(t.sector_code),e.setActionTypes("UPDATE_SECTOR")},disabled:e.loadingRequest||null!==e.actionTypes,children:Object(E.jsx)(C.z,{className:"text-white w-4 h-4"})}),Object(E.jsx)("button",{title:"Delete sector",className:"bg-red-500 hover:bg-red-600 p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none",onClick:function(){return N(t.sector_id)},disabled:e.loadingRequest,children:Object(E.jsx)(C.w,{className:"text-white w-4 h-4"})})]})})]},s+t.district_id)}))})]})}):Object(E.jsx)(O.b,{theme:O.a.Dark,value:"No sector found!",component:Object(E.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(E.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(E.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_SECTOR")},className:"underline text-gray-500 cursor-pointer",children:"Add sector"})})})}),e.actionTypes&&("CREATE_SECTOR"===e.actionTypes||"UPDATE_SECTOR"===e.actionTypes)&&Object(E.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){e.setActionTypes(null),o(""),d(0),y(null)},displayClose:!1,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex items-center space-x-5",children:Object(E.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(E.jsx)("h2",{className:"uppercase text-back",children:"CREATE_SECTOR"===e.actionTypes?"CREATING NEW SECTOR":"UPDATE_SECTOR"===e.actionTypes&&"UPDATING EXISTING SECTOR"})})}),widthSizeClass:_.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(E.jsxs)("div",{className:"w-full px-5 mb-5",children:[Object(E.jsxs)("div",{className:"py-3 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Sector name"}),Object(E.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(j&&"sector_name"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"sector_name"===j.element&&y(null),o(e.target.value)},value:n,disabled:e.loadingRequest}),j&&"sector_name"===j.element&&Object(E.jsx)("span",{className:"text-red-700",children:j.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Sector code"}),Object(E.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(j&&"sector_code"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"sector_code"===j.element&&y(null),d(Number(e.target.value))},value:l,disabled:e.loadingRequest}),j&&"sector_code"===j.element&&Object(E.jsx)("span",{className:"text-red-700",children:j.msg})]})]}),Object(E.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(E.jsx)("button",{onClick:function(){e.setActionTypes(null),o(""),d(0),y(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return P()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),T=function(e,t){var s=[],r=[];return Object(d.a)(e).forEach((function(e){s.includes(e.district_id)||(t&&e.province_id===t||void 0===t)&&(s.push(e.district_id),r.push(e))})),r},S=function(e,t){var s=[],r=[];return Object(d.a)(e).forEach((function(e){s.includes(e.center_id)||e.district_id!==t||(s.push(e.center_id),r.push(e))})),r},I=function(e,t){var s=[],r=[];return Object(d.a)(e).forEach((function(e){s.includes(e.room_id)||e.center_id!==t||(s.push(e.room_id),r.push(e))})),r},A=n.a.memo(Object(c.b)((function(e){return{locations:e.locations.roomLocation}}),{getAllRoom:l.q})((function(e){var t=Object(a.useState)(null),s=Object(r.a)(t,2),n=s[0],c=s[1],l=Object(a.useState)(null),d=Object(r.a)(l,2),u=d[0],p=d[1],m=Object(a.useState)(null),x=Object(r.a)(m,2),h=x[0],b=x[1],j=Object(a.useState)(null),f=Object(r.a)(j,2),g=f[0],O=f[1],_=Object(a.useState)(!0),v=Object(r.a)(_,2),P=v[0],C=v[1],T=Object(a.useState)(!1),S=Object(r.a)(T,2),I=S[0],A=S[1];if(Object(a.useEffect)((function(){!e.locations.length&&P?e.getAllRoom((function(e,t){C(e),!e&&t.length>0&&console.log(t)})):P&&C(!1)}),[P,e]),!0===P)return Object(E.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading locations..."});return Object(E.jsx)(a.Fragment,{children:Object(E.jsxs)("div",{className:"w-full my-5",children:[Object(E.jsx)("div",{className:"flex justify-between p-2 gap-1",children:Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("span",{className:"text-blue-600 text-2xl md:text-2xl lg:text-3xl font-bold",children:"Locations Management"}),Object(E.jsxs)("div",{className:"flex flex-row items-center md:gap-3 gap-2 mt-1",children:[Object(E.jsx)(o.f,{className:"text-xl"}),Object(E.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[u&&Object(E.jsx)("span",{className:"text-gray-700 text-base font-bold",children:u.province_name}),h&&Object(E.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(E.jsx)(i.e,{}),Object(E.jsxs)("span",{className:"text-blue-600 text-base font-bold underline",children:[h.district_name," district"]})]})]})]})]})}),Object(E.jsxs)("div",{className:"w-full bg-white",children:[Object(E.jsx)("div",{className:"border-b px-2 py-3 flex justify-between",children:g&&(!g||"CREATE_SECTOR"!==n&&"UPDATE_SECTOR"!==n)||!h||"CREATE_DISTRICT"===n||"UPDATE_DISTRICT"===n?h&&(!h||"CREATE_DISTRICT"!==n&&"UPDATE_DISTRICT"!==n)||!u?Object(E.jsxs)("div",{className:"flex items-center gap-1",children:[Object(E.jsx)("span",{className:"uppercase text-xl font-semibold text-gray-800",children:"province"}),Object(E.jsx)("span",{children:"/"})]}):Object(E.jsxs)("div",{className:"flex items-center gap-2",children:[Object(E.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){p(null)},children:"province"}),Object(E.jsx)("span",{children:"/"}),Object(E.jsx)("span",{className:"text-xl text-gray-800",children:u.province_name})]}):Object(E.jsxs)("div",{className:"flex items-center gap-1",children:[Object(E.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){p(null)},children:"province"}),Object(E.jsx)("span",{children:"/"}),Object(E.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){b(null)},children:"district"}),Object(E.jsx)("span",{children:"/"}),Object(E.jsx)("span",{className:"text-xl text-gray-800",children:h.district_name})]})}),(!u||u&&("CREATE_PROVINCE"===n||"UPDATE_PROVINCE"===n))&&Object(E.jsx)(N,{thisProvince:u,thisDistrict:h,loadingRequest:I,locations:e.locations,actionTypes:n,setLoadingRequest:A,setThisProvince:p,setActionTypes:c}),(!h||h&&("CREATE_DISTRICT"===n||"UPDATE_DISTRICT"===n))&&u&&Object(E.jsx)(y,{thisDistrict:h,loadingRequest:I,actionTypes:n,setLoadingRequest:A,setActionTypes:c,thisProvince:u,setThisDistrict:b}),(!g||g&&("CREATE_SECTOR"===n||"UPDATE_SECTOR"===n))&&h&&"CREATE_DISTRICT"!==n&&"UPDATE_DISTRICT"!==n&&Object(E.jsx)(R,{thisDistrict:h,thisSector:g,loadingRequest:I,actionTypes:n,setLoadingRequest:A,setThisSector:O,setActionTypes:c})]})]})})})))},746:function(e,t,s){"use strict";s.r(t),s.d(t,"getLevelbyId",(function(){return M})),s.d(t,"loadCoursesByInstitute",(function(){return U})),s.d(t,"loadExaminationProgress",(function(){return F})),s.d(t,"loadExamPreparationProgress",(function(){return q})),s.d(t,"isDatePast",(function(){return z})),s.d(t,"loadExamAttendance",(function(){return G})),s.d(t,"ExamDashboard",(function(){return Y}));var r=s(26),a=s(25),n=s(28),o=s(27),i=s(4),c=s.n(i),l=s(22),d=s(3),u=s(202),p=s(123),m=s.n(p),x=s(698),h=s(684),b=s(700),j=s(688),f=s(21),g=s(683),O=s(17),_=s(121),v=s(12),E=s(704),y=s(1),P=function(e){var t=Object(i.useState)(!1),s=Object(O.a)(t,2),r=s[0],a=s[1];return Object(y.jsxs)(i.Fragment,{children:[Object(y.jsxs)("div",{className:"mt-3 rounded flex flex-col md:flex-row md:justify-between items-start",children:[Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3 mb-2",children:[Object(y.jsx)(_.b,{className:"text-7xl text-blue-600 hidden md:block"}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:"Exam Dashboard"}),!1]})]}),Object(y.jsxs)("section",{className:"w-full md:w-auto my-2 md:my-0",children:[Object(y.jsx)("section",{className:"flex items-start md:items-center justify-start md:justify-end gap-2",children:e.education_categories&&e.education_categories.length>0&&e.education_categories.map((function(t,s){return Object(y.jsx)("section",{className:"w-auto ".concat(e.loading||e.loadingEducation?"cursor-not-allowed":"cursor-pointer"," ").concat(e.thisEducation&&t.education_institute_id===e.thisEducation.education_institute_id?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.loading&&!e.loadingEducation&&e.setThisEducation(t)},children:Object(y.jsxs)("section",{className:"flex-1",children:[Object(y.jsx)(v.n,{className:"inline-block mr-1 text-xs"}),Object(y.jsx)("span",{children:t.education_category_title})]})},t.education_institute_id+s)}))}),Object(y.jsx)("div",{children:Object(y.jsx)("select",{className:"bg-white text-gray-600 border border-gray-400 rounded p-2 focus:outline-none ".concat(e.loading&&"cursor-wait"),value:e.thisPeriod,disabled:e.loading||e.loadingEducation,onChange:function(t){e.setThisPeriod(t.target.value),e.onPeriodChange&&e.onPeriodChange(t.target.value)},children:e.application_sessions.map((function(e,t){return Object(y.jsx)("option",{value:e.session_plan_id,children:e.session_plan_name},e.session_plan_id+t)}))})})]})]}),r&&Object(y.jsx)(E.b,{modalFor:E.a.title,modalState:r,reportTitle:e.reportTitle,changeModalState:a,setReportTitle:e.setReportTitle})]})},N=c.a.memo(P),C=s(723),R=s(53),T=s(709),S=s(687),I=function(e){Object(n.a)(s,e);var t=Object(o.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(y.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(y.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Exams preparation chart"})}),Object(y.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(y.jsx)(S.a,{labels:["Remaining exams","Prepared exams"],categoriesLabel:["Exam preparation progress"],dataLabels:!0,yaxisText:"Exam preparation progress",tooltipText:"(Exams)",series:[{name:"Remaining exams",data:[this.props.examPreparationProgress.remaining.length]},{name:"Prepared exams",data:[this.props.examPreparationProgress.finished.length]}],colors:["#4b5563","#469769"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(i.Component),A=c.a.memo(I),D=function(e){Object(n.a)(s,e);var t=Object(o.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(y.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(y.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Examination progress chart"})}),Object(y.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(y.jsx)(S.a,{labels:["Remaining exams","Prepared exams"],categoriesLabel:["Examinations progress"],dataLabels:!0,yaxisText:"Examination progress",tooltipText:"(Exams)",series:[{name:"Remaining exams",data:[this.props.progressData.remaining.length]},{name:"Done exams",data:[this.props.progressData.finished.length]}],colors:["#4b5563","#469769"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(i.Component),w=c.a.memo(D),L=function(e){Object(n.a)(s,e);var t=Object(o.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(y.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(y.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Examination performance chart"})}),Object(y.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(y.jsx)(S.a,{labels:["Pass applicant(s)","Failed applicant(s)"],categoriesLabel:["Exam preparation progress"],dataLabels:!0,yaxisText:"Exam performance",tooltipText:"(Applicants)",series:[{name:"Pass applicant(s)",data:[this.props.examPerformance.pass.length]},{name:"Failed applicant(s)",data:[this.props.examPerformance.failed.length]}],colors:["#469769","#d97724"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(i.Component),k=c.a.memo(L),M=function(e,t){if(e)return e.find((function(e){return e.school_level_id===t}))},U=function(e,t,s){var r=[],a=!1;if(t&&e){var n=function(a){Object.prototype.hasOwnProperty.call(t,a)&&(t[a].school_levels.length>0?t[a].school_levels.forEach((function(n){var o=M(s,n);o&&(o.education_institute.includes(e.education_institute_id)||o.education_institute.length<=0)&&r&&r.push(t[a])})):r&&r.push(t[a]))};for(var o in t)n(o)}else a=!0;return a?t:r},F=function(e,t,s,r,a,n){var o=[],i=[],c=[],l=!1;return e&&U(s,r,a)&&t&&(l=!0,i=(o=Object(h.a)(U(s,r,a),t,e).filter((function(e){return e.exam&&e.exam.period===n}))).filter((function(e){return"done"===e.preparation_status.toLocaleLowerCase()})),c=o.filter((function(e){return"active"===e.preparation_status.toLocaleLowerCase()}))),console.log("===================================="),console.log({loadExaminationProgress:e}),console.log("===================================="),l?{all:o,finished:i,remaining:c}:null},q=function(e){return{all:e,finished:e.filter((function(e){return"prepared"===e.preparation_status})),remaining:e.filter((function(e){return"not prepared"===e.preparation_status}))}},z=function(e){var t=m()().format("DD-MM-YYYY"),s=m()(t,"DD-MM-YYYY"),r=m()(e,"DD-MM-YYYY");return!(s.diff(r)>0)},G=function(e,t){return{all:e.filter((function(e){return e.exam.period===t})),pass:e.filter((function(e){return e.exam.period===t&&("Editing"!==e.exam_stastus||z(e.exam.exam_date))&&e.user_total_marks>=50})),failed:e.filter((function(e){return e.exam.period===t&&("Editing"!==e.exam_stastus||z(e.exam.exam_date))&&e.user_total_marks<50})),active:e.filter((function(e){return e.exam.period===t&&"Editing"===e.exam_stastus&&!z(e.exam.exam_date)}))}},X=function(e){Object(n.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setLoadingCourses=function(e){a.setState({loadingCourses:e})},a.setLoadingExams=function(e){a.setState({loadingExams:e})},a.setLoadingDoneExam=function(e){a.setState({loadingDoneExam:e})},a.setLoadingCandidatesExamPerformance=function(e){a.setState({loadingCandidatesExamPerformance:e})},a.setLoadingExamPerformance=function(e){a.setState({loadingExamPerformance:e})},a.setLoadingSettings=function(e){a.setState({loadingSettings:e})},a.setChangingPeriod=function(e){a.setState({changingPeriod:e})},a.setReportTitle=function(e){a.setState({reportTitle:e})},a.setThisEducation=function(e){a.setState({thisEducation:e})},a.setThisPeriod=function(e){a.setState({thisPeriod:e})},a.loadByPeriods=function(e){a.props.loadDoneExam(e.session_plan_id,(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:f.a.danger}),a.setLoadingDoneExam(!1))})),a.props.loadPerfomranceExam(e.session_plan_id,(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:f.a.danger}),a.setLoadingExamPerformance(!1))}))},a.componentDidMount=function(){if(null===a.props.schoolLevels.education_categories||0===a.props.schoolLevels.education_categories.length?a.props.loadEducationCategories(a.setLoadingSettings):a.props.schoolLevels.education_categories.length>0&&!a.state.thisEducation&&(a.setThisEducation(a.props.schoolLevels.education_categories[0]),a.setLoadingSettings(!1)),null===a.props.application_sessions)a.props.GetAllSessionPlans((function(e,t,s){var r;(a.setLoadingSettings(e),a.setLoading(e),!e&&t.length&&a.props.PushPopupAlert({title:t,theme:f.a.danger}),!e&&s&&s.length>0)&&((r=s.find((function(e){return e.is_active})))?a.setThisPeriod(r.session_plan_id):a.setThisPeriod(s[s.length-1].session_plan_id))}));else if(a.props.application_sessions.length>0&&!a.state.thisPeriod.length){var e;(e=a.props.application_sessions.find((function(e){return e.is_active})))?(a.setThisPeriod(e.session_plan_id),a.loadByPeriods(e)):(a.setThisPeriod(a.props.application_sessions[a.props.application_sessions.length-1].session_plan_id),a.loadByPeriods(a.props.application_sessions[a.props.application_sessions.length-1])),a.setLoadingSettings(!1),a.setLoading(!1)}null===a.props.schoolLevels.school_levels||a.props.schoolLevels.school_levels.length<=0?a.props.loadSchoolLevels(a.setLoadingSettings):a.setLoadingSettings(!1),(null===a.props.adminExamReport.CandidatesExamPerformance||0===a.props.adminExamReport.CandidatesExamPerformance.length&&a.state.loadingCandidatesExamPerformance)&&a.props.loadCandidatesExamPerformance(null,(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:f.a.danger}),a.setLoadingCandidatesExamPerformance(!1))}))},a.onPeriodChange=function(e){a.setLoadingDoneExam(!0),a.setLoadingExamPerformance(!0),a.setChangingPeriod(!0),a.props.loadDoneExam(e,(function(e,t){if(!e){var s=!0;t.length>0&&s&&(a.props.PushPopupAlert({title:t,theme:f.a.danger}),s=!1),a.setLoadingDoneExam(!1)}})),a.props.loadPerfomranceExam(e,(function(e,t){if(!e){var s=!0;t.length>0&&s&&(a.props.PushPopupAlert({title:t,theme:f.a.danger}),s=!1),a.setLoadingExamPerformance(!1)}})),a.state.loadingDoneExam||a.state.loadingExamPerformance||a.setChangingPeriod(!1)},a.state={loading:!0,loadingCourses:!0,loadingExams:!0,loadingDoneExam:!0,loadingCandidatesExamPerformance:!0,loadingExamPerformance:!0,loadingSettings:!0,changingPeriod:!1,reportTitle:j.reportTitleType.EXAM_PREPARATION,thisEducation:null,thisPeriod:""},a}return Object(a.a)(s,[{key:"render",value:function(){return this.state.loading||null===this.props.application_sessions?Object(y.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):0===this.props.application_sessions.length?Object(y.jsx)(g.a,{}):Object(y.jsxs)("div",{children:[Object(y.jsx)(N,{reportTitle:this.state.reportTitle,setReportTitle:this.setReportTitle,loading:this.state.changingPeriod,education_categories:this.props.schoolLevels.education_categories,loadingEducation:!1,thisEducation:this.state.thisEducation,setThisEducation:this.setThisEducation,thisPeriod:this.state.thisPeriod,setThisPeriod:this.setThisPeriod,application_sessions:this.props.application_sessions,onPeriodChange:this.onPeriodChange}),this.props.examsList&&U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsxs)("section",{className:"my-2",children:[Object(y.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Exams preparation status"}),Object(y.jsx)(C.a,{dataLabels:[{title:"Total exams",icon:R.c,iconColor:"blue",count:q(Object(b.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).all.length},{title:"Prepared exams",icon:R.c,iconColor:"green",count:q(Object(b.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).finished.length},{title:"Remaining exams",icon:R.c,iconColor:"gray",count:q(Object(b.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).remaining.length}],labelsOnRow:5,children:Object(y.jsx)("div",{className:"flex justify-center",children:Object(y.jsx)(T.a,{options:{labels:["Prepared","Remaining"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#4b5563"]},series:[q(Object(b.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).finished.length,q(Object(b.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).remaining.length],width:210})})})]}),F(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)&&Object(y.jsxs)("section",{className:"my-2",children:[Object(y.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Examination progress status"}),Object(y.jsx)(C.a,{dataLabels:[{title:"Total exams",icon:R.c,iconColor:"blue",count:F(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).all.length},{title:"Done exams",icon:R.c,iconColor:"green",count:F(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).finished.length},{title:"Remaining exams",icon:R.c,iconColor:"gray",count:F(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).remaining.length}],labelsOnRow:5,children:Object(y.jsx)("div",{className:"flex justify-center",children:Object(y.jsx)(T.a,{options:{labels:["Done","Remaining"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#4b5563"]},series:[F(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).finished.length,F(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).remaining.length],width:210})})})]}),this.props.adminExamReport.CandidatesExamPerformance&&U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsxs)("section",{className:"my-2",children:[Object(y.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Examination performance status"}),Object(y.jsx)(C.a,{dataLabels:[{title:"Total attendance",icon:R.c,iconColor:"blue",count:G(Object(x.b)(Object(x.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).all.length},{title:"Pass applicant(s)",icon:R.c,iconColor:"green",count:G(Object(x.b)(Object(x.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).pass.length},{title:"Failed applicant(s)",icon:R.c,iconColor:"yellow",count:G(Object(x.b)(Object(x.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).failed.length}],labelsOnRow:5,children:Object(y.jsx)("div",{className:"flex justify-center",children:Object(y.jsx)(T.a,{options:{labels:["Pass","Failed"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#d97724"]},series:[G(Object(x.b)(Object(x.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).pass.length,G(Object(x.b)(Object(x.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).failed.length],width:210})})})]}),this.props.examsList&&U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsx)(A,{examPreparationProgress:q(Object(b.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod))}),F(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)&&Object(y.jsx)(w,{progressData:F(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)}),this.props.adminExamReport.CandidatesExamPerformance&&U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsx)(k,{examPerformance:G(Object(x.b)(Object(x.a)(U(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod)})]})}}]),s}(i.Component),Y=Object(l.b)((function(e){var t=e.auth,s=e.sessionPlan,r=e.schoolLevels,a=e.course,n=e.prepareExam,o=e.adminExamReport;return{auth:t,application_sessions:s.allSessionPlans,schoolLevels:r,courses:a.courses,examsList:n.examsList,adminExamReport:o}}),{loadCourses:d.Cc,loadExamsList:d.Hc,loadEducationCategories:d.Ec,loadDoneExam:d.Dc,loadSchoolLevels:d.Mc,loadPerfomranceExam:d.Jc,loadCandidatesExamPerformance:d.Bc,GetAllSessionPlans:u.b,PushPopupAlert:d.Nb})(X)},792:function(e,t,s){"use strict";var r;s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return a})),s.d(t,"c",(function(){return n})),function(e){e.district_name="district_name",e.center_name="center_name",e.room_number="room_number",e.room_type="room_type",e.room_capacity="room_capacity",e.room_occupation="room_occupation",e.invigilator="invigilator"}(r||(r={}));var a=function(e){var t=[],s=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s.includes(e[r].district_id)||(s.push(e[r].district_id),t.push({district_id:e[r].district_id,district_name:e[r].district_name})));return t},n=function(e,t){var s=[],r=function(r){if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r];a.occupied=function(e){var t=0;for(var s in e.course_in_room)if(Object.prototype.hasOwnProperty.call(e.course_in_room,s)){var r=e.course_in_room[s];t<r.occupied&&(t=r.occupied)}return t}(e[r]);var n=t.find((function(t){return t.roles_to_users.room_id===e[r]._id}));s.push({_id:a._id,occupied:a.occupied,isUsed:a.isUsed,center_id:a.center_id,room_type:a.room_type,room_number:a.room_number,capacity:a.capacity,center_name:a.center_name,district_id:a.district_id,district_name:a.district_name,invigilator:n?n.user_info.fname+" "+n.user_info.lname:"",course_in_room:a.course_in_room})}};for(var a in e)r(a);return s}},820:function(e,t,s){"use strict";var r,a;s.d(t,"a",(function(){return r})),function(e){e.INVIGILATOR="room_id",e.HEAD_TEACHER="school_id",e.DIRECTOR_OF_EDUCATION="district_id",e.INSTITUTE="education_institution_id"}(r||(r={})),function(e){e.first_name="first_name",e.last_name="last_name",e.email="email",e.phone_number="phone_number",e.gender="gender",e.national_id="national_id",e.province_name="province_name",e.district_name="district_name",e.center_name="center_name",e.room_name="room_name"}(a||(a={}))},821:function(e,t,s){"use strict";var r=s(17),a=s(4),n=s.n(a),o=s(12),i=s(42),c=s(47),l=s(1),d=function(e){var t=Object(a.useState)(""),s=Object(r.a)(t,2),n=s[0],d=s[1];return Object(l.jsxs)("section",{className:"".concat(e.isModal?"":"border-2 rounded border-gray-400 shadow-md"),children:[Object(l.jsxs)("div",{className:"flex items-center w-full my-1",children:[Object(l.jsx)(o.Lb,{className:"w-6 h-6 absolute ml-2"}),Object(l.jsx)("input",{type:"text",placeholder:"Search",className:"focus:border-2 h-7 ml-1 pl-9 ".concat(e.isModal?"mr-1":"mr-2"," bg-gray-100 focus:border-gray-700 w-full rounded"),onChange:function(e){return d(e.target.value)},value:n,disabled:!(e.districtList.length>0)}),!e.isModal&&Object(l.jsx)("button",{className:"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none",type:"button",onClick:function(){e.setChooseDistrict(!1)},children:"Close"})]}),Object(l.jsxs)("div",{className:"w-full h-52 mt-2 ".concat(e.isModal?"px-2":""," overflow-y-auto divide-y divide-gray-300 ").concat(e.bgWhite&&"bg-white"),children:[Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"group flex items-center justify-between my-1 ".concat("all"===e.selectedDistrict?"cursor-default bg-blue-50 hover:bg-blue-100":"hover:bg-blue-100"),children:[Object(l.jsx)("div",{className:"p-1 w-full mr-2 ".concat("all"===e.selectedDistrict?"cursor-default":"cursor-pointer"),onClick:function(){e.setChooseDistrict(!1),!e.loadindRequest&&"all"!==e.selectedDistrict&&e.setSelectedDistrict("all")},children:Object(l.jsx)("p",{className:"text-sm font-medium text-black",children:"All district"})}),Object(l.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 p-1 mr-1 rounded text-sm",children:"Choose"})]})}),Object(c.a)(e.districtList,n).length>0?Object(c.a)(e.districtList,n).map((function(t,s){return Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"group flex items-center justify-between my-1 hover:bg-gray-100",children:[Object(l.jsx)("div",{className:"p-1 w-full mr-2 cursor-pointer",onClick:function(){e.setChooseDistrict(!1),!e.loadindRequest&&e.setSelectedDistrict(t)},children:Object(l.jsx)("p",{className:"text-sm font-medium text-black",children:Object(i.a)(t.district_name)})}),Object(l.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 p-1 mr-1 rounded text-sm",children:"Choose"})]})},s+t.district_id)})):Object(l.jsx)("div",{className:"text-center p-3",children:Object(l.jsx)("p",{className:"text-base font-medium text-black",children:"No district available"})})]})]})};t.a=n.a.memo(d)}}]);
//# sourceMappingURL=23.e504653e.chunk.js.map