(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[57],{202:function(e,t,a){"use strict";a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return p})),a.d(t,"a",(function(){return x})),a.d(t,"g",(function(){return f})),a.d(t,"b",(function(){return n})),a.d(t,"h",(function(){return b})),a.d(t,"c",(function(){return g})),a.d(t,"f",(function(){return h}));var n,s=a(11),i=a(32),r=a(36),o=a(69),c=a.n(o),l=a(31),d=c()().tz(l.f),u=function(e,t){var a=null;if(null!==e){var n=e.find((function(e){return e.id===t}));if(void 0!==n){var s=r.c.find((function(e){return n&&e.key===n.element}));void 0!==s&&(a=s.key)}}return a},p=function(e,t){if(null!==t){var a,n=0,s=Object(i.a)(e);try{var r=function(){var e=a.value,s=t.find((function(t){return t.course===e.course_id}));void 0!==s&&(n+=s.total_marks)};for(s.s();!(a=s.n()).done;)r()}catch(o){s.e(o)}finally{s.f()}return n.toFixed(2)}return"Wait..."},x=function(e,t){var a=!1;if(null!==t){var n,s=Object(i.a)(e);try{var r=function(){var e=n.value;void 0!==t.find((function(t){return t.course===e.course_id}))&&(a=!0)};for(s.s();!(n=s.n()).done;)r()}catch(o){s.e(o)}finally{s.f()}}return a},f=function(e){var t=[];if(void 0===e||""===e||void 0===e.length||0===e.length)return{status:!1,msg:"Please type a formula"};if(e.length<3)return{status:!1,msg:"The formula in not valid, it is not complete!"};var a,n=Object(i.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;t=[].concat(Object(s.a)(t),[r])}}catch(l){n.e(l)}finally{n.f()}if('"'!==t[0])return{status:!1,msg:'Formula should start with (") character'};if(t.filter((function(e){return'"'===e})).length<2)return{status:!1,msg:'Formula is missing closing (") character'};if(t.filter((function(e){return'"'===e})).length>2)return{status:!1,msg:'Formula is invalid, because it has many (") characters ('.concat(t.filter((function(e){return'"'===e})).length,")")};if('"'!==t[t.length-1]&&2===t.filter((function(e){return'"'===e})).length){for(var o="",c=0;c<t.length;c++)'"'===t[c]&&0!==c&&(o=t[c+1]);if(";"!==o)return{status:!1,msg:"Formula is missing separation character (;) between formula and error"};if(";"===t[t.length-1])return{status:!1,msg:"Formula is missing error after (;) character"}}return{status:!0,msg:"Formula is valid"}};function m(e){var t=e.split("T"),a=t[0].split("-"),n=t[1].split(":");return new Date(parseInt(a[2]),parseInt(a[1])-1,parseInt(a[0]),parseInt(n[0]),parseInt(n[1]),parseInt(n[2]))}!function(e){e.Waiting="Waiting",e.Online="Online",e.Expired="Expired"}(n||(n={}));var b=function(e,t,a){var s=n.Expired,i=new Date(d.toString()),r=new Date(e),o=m(r.getDate()+"-"+(r.getMonth()+1)+"-"+r.getFullYear()+"T"+t+":0"),c=m(r.getDate()+"-"+(r.getMonth()+1)+"-"+r.getFullYear()+"T"+a+":0");return(r.getDate()>i.getDate()||r.getMonth()>i.getMonth()||r.getFullYear()>i.getFullYear())&&(s=n.Waiting),(r.getDate()<i.getDate()||r.getMonth()<i.getMonth()||r.getFullYear()<i.getFullYear())&&(s=n.Expired),r.getDate()===i.getDate()&&r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()&&(s=o.getTime()>i.getTime()?n.Waiting:o.getTime()<=i.getTime()&&c.getTime()>=i.getTime()?n.Online:n.Expired),s},g=function(e,t,a,n,s,r,o,c,l){if(null!==e&&null!==t){n(e.session_plan_id,s,r);var d,u=Object(i.a)(t.courses);try{var p=function(){var n=d.value;if(void 0===a.user_exams_temp.find((function(e){return e.course===n.course_id}))){var s=null===o||void 0===o?void 0:o.find((function(e){return e.course_id===n.course_id}));void 0!==s&&c(e.session_plan_id,n.course_id,s.district_id,s.center_id,s.room_id,t.position_id,l)}};for(u.s();!(d=u.n()).done;)p()}catch(x){u.e(x)}finally{u.f()}}},h=[{rule:"right_click_enabled",status:!1,caption:"Enable right click"},{rule:"copy_enabled",status:!1,caption:"Enable copy"},{rule:"paste_enabled",status:!1,caption:"Enable paste"},{rule:"stop_candidate_when_comeback",status:!1,caption:"Enable Candidate when coming back"},{rule:"allow_to_leave_browser",status:!1,caption:"Enable to leave browser"}]},825:function(e,t,a){"use strict";a.r(t),a.d(t,"_CandidateExams",(function(){return I})),a.d(t,"CandidateExams",(function(){return T}));var n=a(11),s=a(32),i=a(5),r=a.n(i),o=a(2),c=a(7),l=a(20),d=a(19),u=a(22),p=a(21),x=a(4),f=a(15),m=a(84),b=a(91),g=a(8),h=a.n(g),v=a(9),j=a(12),_=a(13),O=a(17),y=a(69),E=a.n(y),w=a(31),N=a(25),D=a(3),A=a(68),P=a(28),k=a(41),S=a(95),M=a(202),F=(a(18),a(26)),C=a(54),Y=a(1),I=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).setLoading=function(e){i.setState({loading:e})},i.loadCandidateExams=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setLoading(!0),Object(_.b)(),e.prev=2,e.next=5,h.a.get("".concat(v.a.QBank,"/exam/user/").concat(t,"/").concat(a));case 5:n=e.sent,i.setState({candidateExams:n.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("My exams error: ",Object(o.a)({},e.t0)),alert(Object(j.a)(e.t0));case 13:i.setLoading(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}(),i.loadUserProfileDetails=function(){i.setState({loading:!0}),i.props.FC_GetProfileDetails(i.props.auth.user.user_id,(function(e,t){i.setState({loading:!1})})),i.setState({loading:!1})},i.InitializationFn=function(e){i.props.loadExamsDone(e.application_period,i.props.auth.user.user_id,i.setLoading);var t,a=Object(s.a)(e.position.courses);try{var n=function(){var a=t.value;if(void 0===i.props.candidateExam.user_exams_temp.find((function(e){return e.course===a.course_id}))){var n=e.exams.find((function(e){return e.course_id===a.course_id}));void 0!==n&&i.props.InitializeExamDetails(e.application_session.session_plan_id,a.course_id,n.district_id,n.center_id,n.room_id,e.position.position_id,i.setLoading)}};for(a.s();!(t=a.n()).done;)n()}catch(r){a.e(r)}finally{a.f()}},i.loadUserApplications=Object(c.a)(r.a.mark((function e(){var t,a,n,c,l,d,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setLoading(!0),e.prev=1,e.next=4,h.a.get("".concat(v.a.APPLICATION,"/application/").concat(i.props.auth.user.user_id));case 4:if(200===(t=e.sent).status){i.setState({candidateApplications:t.data}),a=Object(s.a)(t.data);try{for(a.s();!(n=a.n()).done;)c=n.value,i.InitializationFn(c)}catch(r){a.e(r)}finally{a.f()}if(null===i.props.candidateApplications.candidate_applications||0===i.props.candidateApplications.candidate_applications.length){l=Object(s.a)(t.data);try{for(l.s();!(d=l.n()).done;)u=d.value,i.props.AddUserApplication(u)}catch(r){l.e(r)}finally{l.f()}}}e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Appl ex Err: ",Object(o.a)({},e.t0));case 11:i.setLoading(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),i.componentDidMount=function(){i.props.loadApplicationPeriods(i.setLoading),""!==i.props.auth.user.sex&&0!==i.props.auth.user.sex.length||i.loadUserProfileDetails(),i.loadUserApplications(),null!==i.props.auth.application_session&&i.loadCandidateExams(i.props.auth.user.user_id,i.props.auth.application_session.session_plan_id),null!==i.props.auth.application_session&&i.props.loadExamsDone(i.props.auth.application_session.session_plan_id,i.props.auth.user.user_id,i.setLoading)},i.removeDuplicatesExams=function(e){var t,a=[],i=Object(s.a)(e);try{var r=function(){var e=t.value;void 0===a.find((function(t){return t._id===e._id}))&&(a=[].concat(Object(n.a)(a),[e]))};for(i.s();!(t=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}return a},i.removeDuplicatesNotPreparedExams=function(e){var t,a=[],i=Object(s.a)(e);try{var r=function(){var e=t.value;void 0===a.find((function(t){return t.course===e.course}))&&(a=[].concat(Object(n.a)(a),[e]))};for(i.s();!(t=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}return a},i.setTimeOut=function(e){var t=i.state.activeExams;i.setState({activeExams:[].concat(Object(n.a)(t),[e])})},i.selectApplication=function(e,t,a){if(null!==e){var n=e.find((function(e){return e.position.position_id===t}));if(void 0!==n&&void 0!==n.position.courses.find((function(e){return e.course_id===a})))return n}return null},i.state={loading:!1,candidateExams:null,activeExams:[],candidateApplications:null},i}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=E()().tz(w.f);return Object(D.g)(this.props.auth,C.a.MY_APPLICATION).view?null!==this.props.candidateExam.selected_exam_id?Object(Y.jsx)(N.a,{to:"/do-exam"}):Object(Y.jsxs)("div",{className:"mt-2",children:[Object(Y.jsx)("div",{className:"rounded mt-2",children:Object(Y.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(Y.jsx)(f.b,{to:"/apps-page",title:"Back to menus",className:"bg-white group hover:bg-blue-50 h-10 w-10 flex items-center justify-center rounded-full cursor-pointer",children:Object(Y.jsx)(m.a,{className:"text-3xl text-blue-600 group-hover:text-blue-800"})}),Object(Y.jsxs)("div",{className:"flex flex-col",children:[Object(Y.jsx)("span",{className:"font-extrabold text-3xl",children:"My exams"}),Object(Y.jsx)("span",{className:"text-gray-600 text-sm",children:"List of exams that are assigned to me"})]})]})}),!0===this.state.loading||null===this.state.candidateExams||null==this.state.candidateApplications?Object(Y.jsx)("div",{className:"px-4 pt-5 pb-1 bg-white mt-2 rounded",children:Object(Y.jsx)(P.a,{})}):0===this.removeDuplicatesExams(this.state.candidateExams.preparedExam).length?Object(Y.jsx)("div",{className:"bg-gray-50 rounded px-4 py-5 text-center font-bold mt-2 text-2xl text-gray-400",children:"No exams found"}):this.removeDuplicatesExams(this.state.candidateExams.preparedExam).map((function(a,n){var s;return Object(Y.jsx)("div",{className:"my-2 rounded bg-white p-2 group",children:Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(Y.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full",children:[Object(Y.jsx)("div",{children:Object(Y.jsx)(b.d,{className:"text-4xl text-gray-600 group-hover:text-blue-600"})}),Object(Y.jsxs)("div",{className:"flex flex-col w-full",children:[Object(Y.jsx)("span",{className:"text-base text-gray-800 font-extrabold group-hover:text-blue-600",children:a.course_name}),Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-start w-full gap-3 -mt-1",children:[Object(Y.jsxs)("div",{className:"text-sm text-gray-500 group-hover:text-blue-600",children:["Date: ",Object(k.a)(a.exam_date,"DD/MM/YYYY")]}),Object(Y.jsxs)("div",{className:"text-sm bg-gray-100 underline text-gray-500 group-hover:text-blue-600 font-bold rounded-full px-2",children:["Start time: ",a.start_time]}),Object(Y.jsxs)("div",{className:"text-sm bg-blue-100 text-blue-900 group-hover:text-blue-600 font-bold rounded-full px-2",children:["Status: ",a.user_status]})]})]})]}),Object(Y.jsx)("div",{className:"w-full flex flex-row items-center justify-end",children:void 0!==e.state.activeExams.find((function(e){return e===a._id}))||a.user_status===A.c.Editing||a.user_status===A.c.Paused?Object(M.h)(a.exam_date,a.start_time,a.end_time)!==M.b.Expired?(null===(s=e.selectApplication(e.state.candidateApplications,a.position,a.course))||void 0===s?void 0:s.application_status)!==F.a.Shortlisted?Object(Y.jsx)("div",{className:"text-yellow-800 font-extrabold text-base bg-yellow-100 rounded px-3 py-1 cursor-not-allowed",children:"Not shortlisted"}):Object(Y.jsx)("div",{onClick:function(){var t=e.selectApplication(e.state.candidateApplications,a.position,a.course);null!==t?t.application_status===F.a.Shortlisted?(e.props.setSelectedPosition(t.position),e.props.setSelectedCourse(t.position.courses.find((function(e){return e.course_id===a.course}))),e.props.setSelectedCandidateExam(a._id)):alert("Corresponding application is not shortlisted!"):alert("Invalid exam!")},className:"".concat(a.user_status===A.c.Editing||a.user_status===A.c.Paused?"bg-green-600 group-hover:bg-green-800":"bg-blue-600 group-hover:bg-blue-800"," btn  text-white cursor-pointer w-max"),children:a.user_status===A.c.Editing?"Back to Exam":a.user_status===A.c.Paused?"Paused, back to exam":"Start Exam"}):a.user_status===A.c.Editing||a.user_status===A.c.Done||a.user_status===A.c.Paused||a.user_status===A.c.Removed?Object(Y.jsxs)("div",{className:"text-blue-700 flex flex-col items-end justify-center w-max",children:[Object(Y.jsx)("span",{children:"Marks"}),Object(Y.jsxs)("span",{className:"text-2xl font-extrabold -mt-2",children:[Math.round(a.user_marks),"%"]})]}):Object(Y.jsx)("div",{className:"bg-yellow-100 text-yellow-700 font-extrabold text-base px-3 py-1 rounded-md w-max",children:"Expired"}):!1===a.found?Object(Y.jsx)("div",{title:"Please wait for the exam time",className:"text-lg lg:text-xl font-extrabold bg-green-100 text-green-700 px-3 py-1 rounded cursor-not-allowed w-max",children:Object(Y.jsx)(S.a,{start_time:new Date(t.toString()).toString(),duration_min:Object(k.i)(new Date(t.toString()),new Date(Object(k.a)(a.exam_date,"MM/DD/YYYY")+" "+a.start_time)),timeout:function(){return e.setTimeOut(a._id)},returnString:!0,labels:!0,days:!0})}):Object(Y.jsxs)("div",{className:"text-blue-700 flex flex-col items-end justify-center w-max",children:[Object(Y.jsx)("span",{children:"Marks"}),Object(Y.jsxs)("span",{className:"text-2xl font-extrabold -mt-2",children:[Math.round(a.user_marks),"%"]})]})})]})},n+1)})),null!==this.state.candidateExams&&this.removeDuplicatesNotPreparedExams(this.state.candidateExams.notPreparedExam).length>0&&this.removeDuplicatesNotPreparedExams(this.state.candidateExams.notPreparedExam).map((function(e,t){return Object(Y.jsx)("div",{className:"my-2 rounded bg-white p-2 py-3 group",children:Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(Y.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(Y.jsx)("div",{children:Object(Y.jsx)(b.d,{className:"text-4xl text-gray-300 group-hover:text-blue-600"})}),Object(Y.jsxs)("div",{className:"flex flex-col",children:[Object(Y.jsx)("span",{className:"text-base text-gray-500 font-bold group-hover:text-blue-600",children:e.course_name}),Object(Y.jsx)("div",{className:"flex flex-row items-center gap-3 -mt-1",children:Object(Y.jsx)("div",{className:"text-sm text-gray-500 group-hover:text-blue-600",children:"Not prepared"})})]})]}),Object(Y.jsx)("div",{className:"bg-gray-100 text-gray-600 font-extrabold text-base px-3 py-1 rounded-md",children:"Not prepared"})]})},t+1)}))]}):Object(Y.jsx)(N.a,{to:"/"})}}]),a}(x.Component),T=Object(O.b)((function(e){return{auth:e.auth,candidateExam:e.candidateExam,candidateApplications:e.candidateApplications}}),{FC_GetProfileDetails:D.L,LoadCandidateApplications:D.qb,setSelectedCandidateExam:D.qc,setSelectedCourse:D.rc,setSelectedPosition:D.xc,InitializeExamDetails:D.pb,loadExamsDone:D.bc,AddUserApplication:D.b,loadApplicationPeriods:D.Tb})(I)}}]);
//# sourceMappingURL=57.60c89017.chunk.js.map