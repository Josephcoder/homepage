(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[38,42],{193:function(t,e,s){"use strict";var n=s(23),a=s(4),i=s(195),c=s(8),r=s(1);e.a=function(t){var e,s,o=t.rows,l=t.columns,d=t.hideColumns,u=void 0!==d&&d,p=t.pagination,b=void 0!==p&&p,h=t.search,f=void 0!==h&&h,x=t.tableSize,j=void 0===x?"w-full":x,m=t.tableClass,g=t.tableId,O=void 0===g?"myTable":g,v=t.rounded,y=void 0!==v&&v,_=t.searchBG,N=void 0===_?"bg-gray-200":_,S=t.thColor,w=void 0===S?"blue":S,T=t.loading,E=void 0!==T&&T;O="myTable"===O?function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=s.length,a=0;a<t;a++)e+=s.charAt(Math.floor(Math.random()*n));return e}():O;var I=Object(a.useState)(0),P=Object(n.a)(I,2),C=P[0],A=P[1],k=Object(a.useState)(1),D=Object(n.a)(k,2),L=D[0],R=D[1],q=Object(a.useState)(1),F=Object(n.a)(q,2),M=F[0],U=F[1],H=Object(a.useState)(),B=Object(n.a)(H,2),V=B[0],G=B[1],Y=Object(a.useState)(10),z=Object(n.a)(Y,2),J=z[0],Q=z[1],K=Object(a.useState)(0),W=Object(n.a)(K,2),X=W[0],Z=W[1],$=Object(a.useState)(0),tt=Object(n.a)($,2),et=tt[0],st=tt[1];Object(a.useEffect)((function(){b&&nt()}));var nt=function(){e=document.getElementById(O),s=e.getElementsByTagName("tr"),A(s.length),R(Math.ceil(C/J)),Z((M-1)*J),st(Math.min(X+J-1,C-1));var t=Array.from(Array(L+1-1).keys()).map((function(t){return 1+t}));V&&t.length===V.length||G(t);for(var n=0;n<s.length;n++)s[n].style.display=n>=X&&n<=et?"":"none"};return Object(r.jsxs)("div",{className:"".concat(j),children:[f&&Object(r.jsx)("div",{className:"".concat(N," w-full mb-2"),children:f&&Object(r.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(r.jsx)(c.Bb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(r.jsx)("input",{type:"search",placeholder:"search",onChange:function(t){return function(t,s){var n,a,i,c,r;for("field"===s&&"all"===t&&(t=""),n=t.toLowerCase(),a=(e=document.getElementById(O)).getElementsByTagName("tr"),c=0;c<a.length;c++)for(r=0;r<l.length;r++)if(i=a[c].getElementsByTagName("td")[r]){if((i.textContent||i.innerText).toLowerCase().indexOf(n)>-1){a[c].style.display="";break}a[c].style.display="none"}}(t.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:E}),b&&Object(r.jsx)("div",{className:"select",children:Object(r.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(t){return Q(Number(t.target.value))},disabled:E,children:[Object(r.jsx)("option",{value:"10",children:"10"}),Object(r.jsx)("option",{value:"25",children:"25"}),Object(r.jsx)("option",{value:"50",children:"50"}),Object(r.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(r.jsxs)("table",{className:m||"w-full shadow ".concat(y&&"sm:rounded-lg"," table-auto order-table"),id:O,children:[!u&&Object(r.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(r.jsx)("tr",{className:"text-left tracking-wide bg-".concat(w,"-100 border-b-2 border-").concat(w,"-500 text-").concat(w,"-600"),children:l.map((function(t,e){return Object(r.jsx)("th",{className:"".concat(t.padding," text-").concat(t.alignText," px-3 py-2 ").concat(t.isSortAllowed&&"cursor-pointer"),onClick:function(){return t.isSortAllowed&&function(t){var e,s,n,a,i,c,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(n=!0,e=document.getElementById(t))for(;n;){for(n=!1,s=e.rows,a=1;a<s.length-1;a++)if(r=!1,i=s[a].getElementsByTagName("TD")[o],c=s[a+1].getElementsByTagName("TD")[o],"asc"===l&&i&&c){if(i.innerHTML.toLowerCase()>c.innerHTML.toLowerCase()){r=!0;break}}else if("desc"===l&&i&&c&&i.innerHTML.toLowerCase()<c.innerHTML.toLowerCase()){r=!0;break}r&&s[a].parentNode?(s[a].parentNode.insertBefore(s[a+1],s[a]),n=!0,d++):0===d&&"asc"===l&&(l="desc",n=!0)}}(O,e)},children:Object(r.jsxs)("div",{className:"flex items-center gap-1",children:[t.columnTitle,t.isSortAllowed&&Object(r.jsx)(i.i,{})]})},e)}))})}),Object(r.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:o()})]}),b&&Object(r.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(r.jsx)("div",{children:Object(r.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",J," of ",C-1," Entries"]})}),Object(r.jsx)("div",{children:Object(r.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==M&&"bg-white"),"aria-label":"Previous",disabled:1===M||E,onClick:function(){return U(M-1)},children:Object(r.jsx)(c.gb,{className:"h-5 w-5"})})}),Object(r.jsx)("div",{children:V&&V.map((function(t,e){return Object(r.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(t!==M?"bg-white":"bg-gray-100 cursor-default"),disabled:t===M||E,onClick:function(){return U(t)},children:t},e)}))}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(M!==L&&"bg-white"),"aria-label":"Next",disabled:M===L||E,onClick:function(){return U(M+1)},children:Object(r.jsx)(c.hb,{className:"h-5 w-5"})})})]})})]})]})}},196:function(t,e,s){"use strict";s.d(e,"b",(function(){return h})),s.d(e,"a",(function(){return f})),s.d(e,"d",(function(){return x})),s.d(e,"c",(function(){return j}));var n=s(19),a=s(18),i=s(21),c=s(20),r=s(4),o=s.n(r),l=s(17),d=s(3),u=s(8),p=s(1),b=function(t){Object(i.a)(s,t);var e=Object(c.a)(s);function s(t){var a;return Object(n.a)(this,s),(a=e.call(this,t)).componentDidMount=function(){return a.props.PageHasSubNav(!0)},a.componentWillUnmount=function(){return a.props.PageHasSubNav(!1)},a.state={loading:!1},a}return Object(a.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var t=this.props.system.navigation;return Object(p.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===t?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(o.a.Component),h=Object(l.b)((function(t){return{auth:t.auth,system:t.system}}),{NavToogle:d.mb,PageHasSubNav:d.nb})(b),f=function(t){var e=t.title,s=void 0===e?"":e,n=t.icon,a=void 0===n?u.m:n,i=t.active,c=void 0!==i&&i,r=t.count,o=void 0===r?0:r,l=a;return Object(p.jsxs)("section",{className:"".concat(!0===c?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:s})]}),o>0?Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:o}):null]})},x=function(t){var e=t.children;return Object(p.jsx)("div",{className:"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer",children:e})},j=function(t){var e=t.title,s=void 0===e?"":e,n=t.icon,a=void 0===n?u.m:n,i=t.active,c=void 0!==i&&i,r=t.count,o=void 0===r?0:r,l=a;return Object(p.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster ".concat(!0===c?"bg-blue-500 text-white font-bold":" text-blue-800"," text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),children:[Object(p.jsx)(l,{className:"inline-block mr-0.1 text-xs ".concat(!0===c?"text-white":"")}),Object(p.jsx)("span",{className:"inline-block pl-1 ".concat(!0===c?"text-white":""),children:s}),o>=1?Object(p.jsx)("span",{className:"text-sm fint-bold ".concat(!0===c?"text-white":""),children:o}):null]})}},207:function(t,e,s){"use strict";s.d(e,"g",(function(){return p})),s.d(e,"d",(function(){return b})),s.d(e,"e",(function(){return h})),s.d(e,"a",(function(){return f})),s.d(e,"i",(function(){return x})),s.d(e,"c",(function(){return j})),s.d(e,"f",(function(){return m})),s.d(e,"b",(function(){return g})),s.d(e,"h",(function(){return O}));var n=s(5),a=s.n(n),i=s(7),c=s(9),r=s.n(c),o=s(6),l=s(10),d=s(12),u=s(13),p=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,""),e.prev=1,Object(d.b)(),e.next=5,r.a.get("".concat(l.a.AUTH,"/settings"));case 5:n=e.sent,s({type:o.a.GET_SYSTEM_SETTINGS,payload:n.data}),t(!1,""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log({code_error:e.t0}),t(!1,Object(u.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},b=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.DISABLE_SYSTEM_SETTINGS,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,""),e.prev=1,Object(d.b)(),e.next=5,r.a.get("".concat(l.a.APPLICATION,"/applicationsesion"));case 5:n=e.sent,s({type:o.a.GET_APPLICATION_SESSIONS,payload:n.data}),t(!1,""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log({code_error:e.t0}),t(!1,Object(u.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},f=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.CREATE_APPLICATION_SESSIONS,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(t){return console.log({check:t}),function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.UPDATE_APPLICATION_SESSIONS,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.DISABLE_APPLICATION_SESSION,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,""),e.prev=1,Object(d.b)(),e.next=5,r.a.get("".concat(l.a.APPLICATION,"/position"));case 5:n=e.sent,s({type:o.a.GET_POSTIONS,payload:n.data}),t(!1,""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log({code_error:e.t0}),t(!1,Object(u.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},g=function(t){return console.log({deletePosition:t}),function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.DELETE_POSITION,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.PUBLISH_POSITION,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},224:function(t,e,s){"use strict";s.d(e,"c",(function(){return n})),s.d(e,"b",(function(){return a})),s.d(e,"a",(function(){return i}));var n,a,i,c=s(42);!function(t){t.INITIATED="initiated",t.CONFIRMED="confirmed",t.RECEIVED="received"}(n||(n={})),function(t){t.Title="title",t.Description="description",t.Files="files",t.email="email",t.names="names",t.phone_number="phone_number",t.position="position",t.relation="relation",t.src="src",t.year="year",t.company="company",t.category_subcategory_data="category_subcategory_data",t.others="others",t.start_year="start_year",t.end_year="end_year",t.School="School"}(a||(a={})),function(t){t.APPROVED="approved",t.REJECTED="rejected"}(i||(i={}));c.c.APPLICATION,c.c.DOCUMENT_VALIDATION,c.c.EXAMINATION,c.c.MARKS_PUBLICATION,c.c.PLACEMENT_TRANSFER},247:function(t,e,s){"use strict";s.d(e,"g",(function(){return u})),s.d(e,"a",(function(){return p})),s.d(e,"e",(function(){return b})),s.d(e,"c",(function(){return h})),s.d(e,"b",(function(){return f})),s.d(e,"f",(function(){return x})),s.d(e,"d",(function(){return j}));var n=s(5),a=s.n(n),i=s(7),c=s(9),r=s.n(c),o=s(6),l=s(10),d=s(13),u=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,""),e.prev=1,e.next=4,r.a.get("".concat(l.a.APPLICATION,"/roomlocation"));case 4:n=e.sent,s({type:o.a.GET_ALL_ROOM,payload:n.data}),t(!1,""),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Err: ",e.t0),t(!1,Object(d.a)(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},p=function(t){return console.log({data:t}),function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.CREATE_CENTER,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(t){return console.log({data:t}),function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.UPDATE_CENTER,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.DELETE_CENTER,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(t){return console.log({data:t}),function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.CREATE_ROOM,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.UPDATE_ROOM,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(t){return console.log({delete_room:t}),function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:o.a.DELETE_ROOM,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},422:function(t,e,s){"use strict";s.d(e,"f",(function(){return u})),s.d(e,"a",(function(){return p})),s.d(e,"g",(function(){return b})),s.d(e,"c",(function(){return h})),s.d(e,"e",(function(){return f})),s.d(e,"b",(function(){return x})),s.d(e,"h",(function(){return j})),s.d(e,"d",(function(){return m}));var n=s(5),a=s.n(n),i=s(7),c=s(6),r=(s(191),s(12),s(9)),o=s.n(r),l=s(10),d=s(13),u=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,""),e.prev=1,e.next=4,o.a.get("".concat(l.a.APPLICATION,"/schools"));case 4:n=e.sent,s({type:c.a.GET_SCHOOLS,payload:n.data}),t(!1,""),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Err: ",e.t0),t(!1,Object(d.a)(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},p=function(t){return console.log({schools:t}),function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:c.a.CREATE_SCHOOL,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:c.a.UPDATE_SCHOOL,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:c.a.DELETE_SCHOOL,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(t,e){return function(){var s=Object(i.a)(a.a.mark((function s(n){var i;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e(!0,""),s.prev=1,s.next=4,o.a.get("".concat(l.a.PLACEMENT,"/requestpost/school/").concat(t));case 4:i=s.sent,console.log({schoolPosts:i.data}),n({type:c.a.FETCH_SCHOOL_POSTS,payload:i.data}),e(!1,""),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),e(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(t){return s.apply(this,arguments)}}()},x=function(t){return function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:c.a.CREATE_SCHOOL_POST,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(t,e){return console.log({TYPE:t,data:e}),function(){var s=Object(i.a)(a.a.mark((function s(n){return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n({type:c.a.UPDATE_SCHOOL_POST,payload:{TYPE:t,data:e}});case 1:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}()},m=function(t,e){return function(){var s=Object(i.a)(a.a.mark((function s(n){var i;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e(!0,""),s.prev=1,s.next=4,o.a.get("".concat(l.a.PLACEMENT,"/requestpost/district/").concat(t));case 4:i=s.sent,console.log({districtPosts:i}),n({type:c.a.FETCH_DISTRICT_POSTS,payload:i.data}),e(!1,""),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),e(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(t){return s.apply(this,arguments)}}()}},456:function(t,e,s){"use strict";s.r(e),s.d(e,"getSchoolById",(function(){return C})),s.d(e,"Schools",(function(){return k}));var n=s(11),a=s(5),i=s.n(a),c=s(7),r=s(19),o=s(18),l=s(21),d=s(20),u=s(9),p=s.n(u),b=s(4),h=s.n(b),f=s(82),x=s(195),j=s(50),m=s(8),g=s(17),O=s(3),v=s(247),y=s(422),_=s(33),N=s(196),S=s(193),w=s(25),T=s(191),E=s(10),I=s(13),P=s(1),C=function(t,e){return t.filter((function(t){return t._id===e}))[0]},A=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(r.a)(this,s),(a=e.call(this,t)).setLoading=function(t){a.setState({loading:t})},a.setLoadingRequest=function(t){a.setState({loadingRequest:t})},a.setError=function(t){a.setState({error:t})},a.loadDistrict=Object(c.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("".concat(E.a.APPLICATION,"/district"));case 3:e=t.sent,a.setState({district:e.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error({code_error:t.t0}),a.props.PushPopupAlert({title:Object(I.a)(t.t0),theme:w.a.danger});case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),a.componentDidMount=function(){null!==a.props.education_categories&&0!==a.props.education_categories.length||a.props.loadEducationCategories(a.setLoading),a.props.allRoom.length||a.props.getAllRoom((function(t,e){!t&&e.length>0&&console.log(e)})),!a.props.schools.length&&a.state.loading&&a.props.getSchools((function(t,e){console.log(t,e),a.setLoading(t),e.length>0&&console.error({loadingCandidatesError:e})})),a.state.district.length||a.loadDistrict(),a.props.schools.length&&(a.setState({schoolList:a.props.schools}),a.setLoading(!1))},a.tableData=function(){return a.state.schoolList.length?a.state.schoolList.map((function(t,e){return Object(P.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(P.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:e+1}),Object(P.jsx)("td",{className:"p-3 text-left",children:t.school_name}),Object(P.jsx)("td",{className:"py-3 px-5 text-left",children:a.props.education_categories&&a.props.education_categories.filter((function(e){return e.education_institute_id===t.education_category_id})).length>0?a.props.education_categories.filter((function(e){return e.education_institute_id===t.education_category_id}))[0].education_category_title:"No Institute"}),Object(P.jsx)("td",{className:"py-3 px-5 text-left",children:a.state.district&&a.state.district.filter((function(e){return e.district_id===t.district_id})).length>0?a.state.district.filter((function(e){return e.district_id===t.district_id}))[0].district_name:"No district"}),Object(P.jsx)("td",{className:"px-3",children:Object(P.jsxs)("div",{className:"flex items-center gap-2 float-right",children:[Object(P.jsxs)("button",{className:"bg-blue-600 text-white font-bold py-1 px-2 flex items-center rounded focus:outline-none ".concat(a.state.loadingRequest?"cursor-not-allowed":null),title:"Edit School",disabled:a.state.loadingRequest,onClick:function(){a.setState({modalState:"UPDATE",thisSchool:t,schoolName:t.school_name,instituteId:t.education_category_id,districtId:t.district_id,provinceId:a.props.allRoom.find((function(e){return e.districts.find((function(e){return e.district_id===t.district_id}))}))?a.props.allRoom.find((function(e){return e.districts.find((function(e){return e.district_id===t.district_id}))})).province_id:""})},children:[Object(P.jsx)(m.eb,{className:"w-4 h-4"}),"Edit"]}),Object(P.jsxs)("button",{className:"bg-red-700 text-white font-bold py-1 px-2 flex items-center rounded focus:outline-none ".concat(a.state.loadingRequest?"cursor-not-allowed":null),title:"Delete",disabled:a.state.loadingRequest,onClick:function(){return a.handleDelete(t._id)},children:[Object(P.jsx)(m.eb,{className:"w-4 h-4"}),"Delete"]})]})})]},e+t._id)})):[Object(P.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(P.jsx)("td",{className:"p-3 text-center",colSpan:5,children:"No School Found"})},1)]},a.handleSubmit=function(){var t=Object(c.a)(i.a.mark((function t(e){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),a.state.schoolName.length){t.next=3;break}return t.abrupt("return",a.setError({element:"school_name",msg:"School name is required"}));case 3:if(a.state.instituteId.length){t.next=5;break}return t.abrupt("return",a.setError({element:"edication_id",msg:"Education Institute is required"}));case 5:if(a.state.districtId.length){t.next=7;break}return t.abrupt("return",a.setError({element:"districtId_id",msg:"District is required"}));case 7:if(a.setLoadingRequest(!0),t.prev=8,"CREATE"!==a.state.modalState){t.next=16;break}return t.next=12,p.a.post("".concat(E.a.APPLICATION,"/schools"),{school_name:a.state.schoolName,district_id:a.state.districtId,education_category_id:a.state.instituteId});case 12:(s=t.sent).data&&(console.log({res:s}),a.setState({schoolList:[].concat(Object(n.a)(a.state.schoolList),[{_id:s.data.data.shool_id,status:s.data.data.status,school_name:s.data.data.school_name,district_id:s.data.data.district_id,education_category_id:s.data.data.education_category_id}])}),a.props.createSchool({_id:s.data.data.shool_id,status:s.data.data.status,school_name:s.data.data.school_name,district_id:s.data.data.district_id,education_category_id:s.data.data.education_category_id}),a.props.PushPopupAlert({title:"New School created successfully",theme:w.a.success}),a.setLoadingRequest(!1),a.setState({schoolName:"",districtId:"",instituteId:"",provinceId:""})),t.next=21;break;case 16:if(!a.state.thisSchool||"UPDATE"!==a.state.modalState){t.next=21;break}return t.next=19,p.a.patch("".concat(E.a.APPLICATION,"/schools"),{school_id:a.state.thisSchool._id,school_name:a.state.schoolName,district_id:a.state.districtId,education_category_id:a.state.instituteId});case 19:(s=t.sent).data&&(console.log({res:s}),a.props.updateSchool({_id:a.state.thisSchool._id,status:!0,school_name:a.state.schoolName,district_id:a.state.districtId,education_category_id:a.state.instituteId}),a.props.PushPopupAlert({title:"School updated successfully",theme:w.a.success}),a.setLoadingRequest(!1),a.setState({schoolName:"",districtId:"",instituteId:"",provinceId:"",thisSchool:null,modalState:""}));case 21:t.next=28;break;case 23:t.prev=23,t.t0=t.catch(8),console.log({doc_category_error:t.t0}),a.props.PushPopupAlert({title:Object(I.a)(t.t0),theme:w.a.danger}),a.setLoadingRequest(!1);case 28:case"end":return t.stop()}}),t,null,[[8,23]])})));return function(e){return t.apply(this,arguments)}}(),a.handleDelete=function(){var t=Object(c.a)(i.a.mark((function t(e){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure do you want to delete this room?")){t.next=14;break}return a.setLoadingRequest(!0),t.prev=2,t.next=5,p.a.delete("".concat(E.a.APPLICATION,"/schools/").concat(e));case 5:(s=t.sent).data&&(console.log({res:s}),a.props.deleteSchool(e),a.props.PushPopupAlert({title:"School deleted successfully",theme:w.a.success})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log({province_error:t.t0}),a.props.PushPopupAlert({title:Object(I.a)(t.t0),theme:w.a.danger});case 13:a.setLoadingRequest(!1);case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),a.filterSchools=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];"INSTITUTE"===t&&(n=a.state.thisDistrict&&!s?"ALL"===e?a.props.schools.filter((function(t){return t.district_id===a.state.thisDistrict.district_id})):a.props.schools.filter((function(t){return t.education_category_id===e&&t.district_id===a.state.thisDistrict.district_id})):"ALL"===e?a.props.schools:a.props.schools.filter((function(t){return t.education_category_id===e}))),"DISTRICT"===t&&(n=a.state.thisEdication?"ALL"===e?a.props.schools.filter((function(t){return t.education_category_id===a.state.thisEdication.education_institute_id})):a.props.schools.filter((function(t){return t.district_id===e&&t.education_category_id===a.state.thisEdication.education_institute_id})):"ALL"===e?a.props.schools:a.props.schools.filter((function(t){return t.district_id===e}))),a.setState({schoolList:n})},a.countSchool=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL",s=0;return"DEFAULT"===t?s=a.state.schoolList.length:"EDUCATION"===t?s=a.state.schoolList.filter((function(t){return t.education_category_id===e})).length:"DISTRICT"===t&&(s=a.state.schoolList.filter((function(t){return t.district_id===e})).length),Object(T.i)(s)},a.state={loading:!0,loadingRequest:!1,districtFilterStatus:!1,edicationCategoryFilterStatus:!1,provinceFilterStatus:!1,thisEdication:null,thisProvince:null,thisDistrict:null,district:[],schoolList:a.props.schools,modalState:"",error:null,schoolName:"",thisSchool:null,instituteId:"",provinceId:"",districtId:""},a}return Object(o.a)(s,[{key:"render",value:function(){var t=this;return!0===this.state.loading?Object(P.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading schools..."}):Object(P.jsxs)(h.a.Fragment,{children:[Object(P.jsx)(N.b,{children:this.state.loading?Object(P.jsxs)("section",{className:"animate-pulse",children:[Object(P.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"}),Object(P.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"}),Object(P.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"})]}):Object(P.jsxs)(h.a.Fragment,{children:[Object(P.jsx)("span",{className:"font-semibold text-lg text-gray-500",children:"Filter by Institute"}),Object(P.jsx)("section",{className:"mt-2 ".concat(this.state.loadingRequest&&"cursor-pointer"),onClick:function(){return!t.state.loadingRequest&&t.setState({edicationCategoryFilterStatus:!t.state.edicationCategoryFilterStatus})},children:Object(P.jsx)(N.a,{title:this.state.thisEdication?this.state.thisEdication.education_category_title:"Choose Education Institute",active:!(!this.state.edicationCategoryFilterStatus&&null===this.state.thisEdication)})}),this.state.edicationCategoryFilterStatus&&this.props.education_categories&&this.props.education_categories.length>0&&Object(P.jsx)(N.d,{children:this.props.education_categories&&this.props.education_categories.map((function(e,s){return Object(P.jsx)("section",{onClick:function(){return!t.state.loadingRequest&&(t.setState({thisEdication:e,edicationCategoryFilterStatus:!1}),t.filterSchools("INSTITUTE",e.education_institute_id))},children:Object(P.jsx)(N.c,{title:e.education_category_title,icon:m.V,active:!!t.state.thisEdication&&e.education_institute_id===t.state.thisEdication.education_institute_id})},e.education_institute_id+s)}))}),Object(P.jsxs)("section",{children:[Object(P.jsx)("span",{className:"font-semibold text-lg text-gray-500",children:"Filter by District"}),Object(P.jsx)("section",{className:"mt-2",onClick:function(){return!t.state.loadingRequest&&t.setState({provinceFilterStatus:!t.state.provinceFilterStatus,edicationCategoryFilterStatus:!1,districtFilterStatus:!1})},children:Object(P.jsx)(N.a,{title:this.state.thisProvince?this.state.thisProvince.province_name:"Choose Province",active:!(!this.state.provinceFilterStatus&&null===this.state.thisProvince)})})]}),this.state.provinceFilterStatus&&this.props.allRoom&&this.props.allRoom.length>0&&Object(P.jsx)(N.d,{children:this.props.allRoom&&this.props.allRoom.map((function(e,s){return Object(P.jsx)("section",{onClick:function(){return!t.state.loadingRequest&&(t.setState({provinceFilterStatus:!1,thisProvince:e,thisDistrict:null}),t.state.thisEdication&&t.filterSchools("INSTITUTE",t.state.thisEdication.education_institute_id,!0))},children:Object(P.jsx)(N.c,{title:e.province_name,icon:m.V,active:!!t.state.thisProvince&&e.province_id===t.state.thisProvince.province_id})},e.province_id+s)}))}),this.state.thisProvince&&Object(P.jsx)("section",{className:"mt-2",onClick:function(){return!t.state.loadingRequest&&t.setState({edicationCategoryFilterStatus:!1,provinceFilterStatus:!1,districtFilterStatus:!t.state.districtFilterStatus})},children:Object(P.jsx)(N.a,{title:this.state.thisDistrict?this.state.thisDistrict.district_name:"Choose District",active:!(!this.state.districtFilterStatus&&null===this.state.thisDistrict)})}),this.state.districtFilterStatus&&this.state.thisProvince&&this.state.thisProvince.districts.length>0&&Object(P.jsx)(N.d,{children:this.state.thisProvince&&this.state.thisProvince.districts.map((function(e,s){return Object(P.jsx)("section",{onClick:function(){return!t.state.loadingRequest&&(t.setState({thisDistrict:e,districtFilterStatus:!1}),t.filterSchools("DISTRICT",e.district_id))},children:Object(P.jsx)(N.c,{title:e.district_name,icon:m.V,active:!!t.state.thisDistrict&&e.district_id===t.state.thisDistrict.district_id})},e.district_id+s)}))})]})}),Object(P.jsxs)("div",{className:"w-full my-5 px-1",children:[Object(P.jsx)("div",{className:"flex items-start justify-between",children:Object(P.jsxs)("div",{className:"flex flex-row items-center",children:[Object(P.jsx)(x.b,{className:"text-blue-500 w-28 h-28"}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("h1",{className:"text-3xl font-semibold",children:"Schools Management"}),Object(P.jsxs)("div",{className:"flex flex-row items-center mx-2 md:gap-3 gap-2",children:[Object(P.jsxs)("div",{className:"flex flex-col mt-1",children:[Object(P.jsx)("span",{className:"text-gray-600 text-base",children:"All School(s)"}),Object(P.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:this.countSchool()})]}),this.props.education_categories&&this.props.education_categories.length>0&&this.props.education_categories.map((function(e,s){return Object(P.jsxs)("div",{className:"flex flex-col mt-1",children:[Object(P.jsx)("span",{className:"text-gray-600 text-base",children:e.education_category_title}),Object(P.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:t.countSchool("EDUCATION",e.education_institute_id)})]},s+e.education_institute_id)}))]})]})]})}),Object(P.jsxs)("div",{className:"md:w-98 bg-white mx-auto md:p-2",children:[Object(P.jsxs)("div",{className:"flex items-start justify-between",children:[Object(P.jsxs)("div",{children:[this.state.thisEdication&&Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsxs)("div",{className:"flex items-center gap-1 mx-1",children:[Object(P.jsx)(m.J,{className:"text-gray-600"}),Object(P.jsx)("span",{className:"font-semibold text-gray-500",children:"Institute:"}),Object(P.jsx)("span",{className:"font-semibold text-blue-700",children:this.state.thisEdication.education_category_title})]}),Object(P.jsx)(j.b,{className:"cursor-pointer rounded-full hover:bg-red-500 hover:text-white",onClick:function(){return!t.state.loading&&(t.setState({thisEdication:null}),t.filterSchools("INSTITUTE","ALL"))},title:"Clean Education Institute filter"})]}),this.state.thisProvince&&Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsxs)("div",{className:"flex items-center gap-1 mx-1",children:[Object(P.jsx)(m.J,{className:"text-gray-600"}),Object(P.jsx)("span",{className:"font-semibold text-gray-500",children:"Location:"}),Object(P.jsx)("span",{className:"font-semibold ".concat(this.state.thisDistrict?"text-black cursor-pointer":"text-blue-700"),children:this.state.thisProvince.province_name}),this.state.thisDistrict&&Object(P.jsxs)("div",{className:"flex items-center",children:[Object(P.jsx)(f.d,{}),Object(P.jsx)("span",{className:"text-blue-700 font-semibold",children:this.state.thisDistrict.district_name})]})]}),Object(P.jsx)(j.b,{className:"cursor-pointer rounded-full hover:bg-red-500 hover:text-white",onClick:function(){return!t.state.loading&&(t.setState({thisDistrict:null,thisProvince:null}),t.filterSchools("DISTRICT","ALL"))},title:"Clean location filter"})]})]}),Object(P.jsxs)("button",{type:"button",className:"btn btn-blue flex my-1",onClick:function(){return t.setState({modalState:"CREATE"})},disabled:this.state.loadingRequest,children:[Object(P.jsx)(m.zb,{className:"h-6 w-6"}),Object(P.jsx)("span",{className:"ml-2",children:"Add School"})]})]}),Object(P.jsx)(S.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"School",alignText:"left",padding:"p-3"},{columnTitle:"Institute",alignText:"left",padding:"p-3"},{columnTitle:"District",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:this.tableData,pagination:!0,search:!0,thColor:"gray"})]})]}),this.state.modalState&&Object(P.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){return t.setState({modalState:"",thisSchool:null,schoolName:"",instituteId:"",districtId:"",provinceId:""})},displayClose:!0,backDropClose:!1,title:Object(P.jsxs)("div",{className:"text-gray-600 font-bold text-3xl md:ml-4 inline-flex items-center gap-2",children:[Object(P.jsx)(x.b,{className:"w-11 h-11 text-gray-500 hover:bg-gray-500 hover:text-gray-50 rounded-full p-0 foucs:outline-none"}),"CREATE"===this.state.modalState?"CREATE ":"UPDATE "," ","SCHOOL"]}),widthSizeClass:_.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(P.jsx)("div",{className:"mx-8 mb-8",children:Object(P.jsxs)("form",{onSubmit:function(e){return t.handleSubmit(e)},children:[Object(P.jsxs)("div",{className:"py-4 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"School name"}),Object(P.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block border-2 ".concat(this.state.error&&"school_name"===this.state.error.element?"border-red-700":"border-gray-500"),placeholder:"School name",value:this.state.schoolName,onChange:function(e){t.setError(null),t.setState({schoolName:e.target.value})},disabled:this.state.loadingRequest}),this.state.error&&"school_name"===this.state.error.element&&Object(P.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"Institutes"}),Object(P.jsxs)("select",{className:"text-left input-white w-full block border-2 py-3 px-4 pr-8 ".concat(this.state.error&&"edication_id"===this.state.error.element?"border-red-700":"border-gray-500"),value:this.state.instituteId,onChange:function(e){return t.setState({instituteId:e.target.value})},disabled:this.state.loadingRequest,children:[Object(P.jsx)("option",{value:"",disabled:!0,children:"Choose Institute"}),this.props.education_categories&&this.props.education_categories.map((function(t,e){return Object(P.jsx)("option",{value:t.education_institute_id,children:t.education_category_title},e+t.education_institute_id)}))]}),this.state.error&&"edication_id"===this.state.error.element&&Object(P.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"Province"}),Object(P.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 border-gray-500",value:this.state.provinceId,onChange:function(e){return t.setState({provinceId:e.target.value})},disabled:this.state.loadingRequest,children:[Object(P.jsx)("option",{value:"",disabled:!0,children:"Choose province"}),this.props.allRoom&&this.props.allRoom.map((function(t,e){return Object(P.jsx)("option",{value:t.province_id,children:t.province_name},e+t.province_id)}))]})]}),this.state.provinceId&&Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"District"}),Object(P.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 ".concat(this.state.error&&"districtId_id"===this.state.error.element?"border-red-700":"border-gray-500"),value:this.state.districtId,onChange:function(e){return t.setState({districtId:e.target.value})},disabled:this.state.loadingRequest,children:[Object(P.jsx)("option",{value:"",disabled:!0,children:"Choose district"}),this.props.allRoom&&this.props.allRoom.filter((function(e){return e.province_id===t.state.provinceId}))[0].districts.length>0?this.props.allRoom.filter((function(e){return e.province_id===t.state.provinceId}))[0].districts.map((function(t,e){return Object(P.jsx)("option",{value:t.district_id,children:t.district_name},e+t.district_id)})):Object(P.jsx)("option",{disabled:!0,children:"No District Found"},702)]}),this.state.error&&"districtId_id"===this.state.error.element&&Object(P.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]})]}),Object(P.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(P.jsx)("button",{onClick:function(){return t.setState({modalState:"",thisSchool:null,schoolName:"",instituteId:"",districtId:"",provinceId:""})},className:"btn bg-gray-400 text-white hover:bg-gray-600 focus:outline-none",type:"button",disabled:this.state.loadingRequest,children:"Exit"}),Object(P.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600 focus:outline-none ".concat(this.state.loadingRequest?"animate-pulse":null),type:"submit",disabled:this.state.loadingRequest,children:this.state.loadingRequest?"Loading...":"Save"})]})]})})})]})}}]),s}(b.Component),k=Object(g.b)((function(t){var e=t.auth,s=t.schools,n=t.schoolLevels,a=t.locations;return{auth:e,schools:s.schools,education_categories:n.education_categories,allRoom:a.roomLocation}}),{createSchool:y.a,getSchools:y.f,updateSchool:y.g,getAllRoom:v.g,deleteSchool:y.c,loadEducationCategories:O.Qb,PushPopupAlert:O.ob})(A)},822:function(t,e,s){"use strict";s.r(e),s.d(e,"District",(function(){return E}));var n=s(5),a=s.n(n),i=s(7),c=s(23),r=s(4),o=s.n(r),l=s(17),d=s(24),u=s(33),p=s(193),b=s(224),h=s(422),f=s(191),x=s(504),j=s(3),m=s(25),g=s(207),O=s(9),v=s.n(O),y=s(10),_=s(13),N=s(456),S=s(195),w=s(48),T=s(1),E=Object(l.b)((function(t){var e=t.auth,s=t.schools,n=t.system_settings;return{auth:e,schools:s.schools,districtPosts:s.districtPosts,systemPositions:n.systemPositions}}),{getPositions:g.f,getSchools:h.f,fetchDistrictPosts:h.d,createSchoolPost:h.b,updateSchoolPost:h.h,PushPopupAlert:j.ob})((function(t){var e,s=Object(r.useState)(!1),n=Object(c.a)(s,2),l=n[0],h=n[1],j=Object(r.useState)(!0),g=Object(c.a)(j,2),O=g[0],E=g[1],I=Object(r.useState)(null),P=Object(c.a)(I,2),C=P[0],A=P[1],k=Object(r.useState)("all"),D=Object(c.a)(k,2),L=D[0],R=D[1],q=Object(r.useState)(!1),F=Object(c.a)(q,2),M=F[0],U=F[1],H=Object(r.useState)(!0),B=Object(c.a)(H,2),V=B[0],G=B[1],Y=Object(r.useState)(null),z=Object(c.a)(Y,2),J=z[0],Q=z[1],K=Object(r.useState)(!1),W=Object(c.a)(K,2),X=W[0],Z=W[1],$=Object(r.useState)(0),tt=Object(c.a)($,2),et=tt[0],st=tt[1],nt=Object(r.useState)(null),at=Object(c.a)(nt,2),it=at[0],ct=at[1];Object(r.useEffect)((function(){t.schools.length?(G(!1),l&&h(!1)):t.getSchools((function(t,e){G(t),e.length>0&&console.error({loadingCandidatesError:e})})),null===t.systemPositions&&(h(!0),t.getPositions((function(e,s){h(e),console.log({status:e,msg:s}),s.length&&t.PushPopupAlert({title:s,theme:m.a.danger})}))),!t.districtPosts.length&&O?t.fetchDistrictPosts(t.auth.user_access.district_id,(function(e,s){e||(s.length>0&&O&&(console.error("error loading school post: ",s),t.PushPopupAlert({title:s,theme:m.a.danger})),E(!1))})):E(!1)}),[l,O,t]);var rt=function(t,e){return t.filter((function(t){return t.position_id===e}))[0]};if(t.auth.user_access.district_id.length<=0)return Object(T.jsx)(d.a,{to:"/"});if(!0===V)return Object(T.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."});var ot=function(){var e=Object(i.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),!(et<0)){e.next=5;break}return e.abrupt("return",ct({element:"approved_posts",msg:"Invalid number of approved post"}));case 5:if(!(J&&et>J.needed_posts)){e.next=7;break}return e.abrupt("return",ct({element:"approved_posts",msg:"Invalid number of approved post"}));case 7:if(U(!0),e.prev=8,"CONFIRM"!==C||!J){e.next=14;break}return e.next=12,v.a.patch("".concat(y.a.PLACEMENT,"/requestpost/").concat(J.requested_post_id),{confirmed_posts:et,confirmed_by:t.auth.user.user_id,received_posts:0,approval_date:new Date,school_id:J.school_id,position_id:J.position_id,district_id:J.district_id,needed_posts:J.needed_posts,male_number:J.male_number,female_number:J.female_number,description:J.description,occupied_posts:J.occupied_posts,requested_by:t.auth.user.user_id,requested_post_status:b.c.CONFIRMED});case 12:e.sent&&(t.fetchDistrictPosts(t.auth.user_access.district_id,(function(e,s){e||(s.length>0&&O&&(console.error("error loading school post: ",s),t.PushPopupAlert({title:s,theme:m.a.danger})),E(!1))})),Q(null),st(0),A(null),t.PushPopupAlert({title:"Post request has been responded!",theme:m.a.info}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),console.error({post_relpy:e.t0}),t.PushPopupAlert({title:Object(_.a)(e.t0),theme:m.a.danger});case 20:U(!1);case 21:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(o.a.Fragment,{children:[Object(T.jsxs)("div",{className:"flex flex-row items-start gap-4 my-2",children:[Object(T.jsx)(x.a,{className:"text-blue-700 w-12 h-12 md:block hidden"}),Object(T.jsx)("div",{className:"w-full",children:Object(T.jsx)("div",{className:"flex justify-between w-full",children:Object(T.jsxs)("div",{className:"flex flex-col gap-1 justify-between",children:[Object(T.jsx)("h1",{className:"md:text-4xl text-3xl font-semibold",children:"Teacher Request"}),Object(T.jsx)("div",{className:"flex-row items-center md:gap-3 gap-2 hidden",children:Object(T.jsx)("div",{className:"flex flex-row items-center mt-1 gap-1",children:Object(T.jsx)("span",{className:"text-gray-600 text-xl",children:"level:"})})})]})})})]}),Object(T.jsx)("div",{className:"grid md:grid-cols-5 gap-2 bg-white shadow-md p-2",children:Object(T.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(T.jsx)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:Object(T.jsx)("div",{className:"flex flex-col md:flex-row",children:Object(T.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none",onChange:function(t){return R(t.target.value)},children:[Object(T.jsx)("option",{value:"all",children:"All Position"}),t.systemPositions&&t.systemPositions.length>0?t.systemPositions.map((function(t,e){return Object(T.jsx)("option",{value:t.position_id,children:t.position_title},e+1)})):Object(T.jsx)("option",{value:"",children:"No Position found"})]})})}),Object(T.jsx)(p.a,{columns:[{columnTitle:"SCHOOL",alignText:"left",padding:"p-3"},{columnTitle:"POSITION",alignText:"left",padding:"p-3"},{columnTitle:"REQUEST",alignText:"left",padding:"p-3"},{columnTitle:"APPROVED",alignText:"left",padding:"p-3"},{columnTitle:"OCCUPIED",alignText:"left",padding:"p-3"},{columnTitle:"VACCANTS",alignText:"left",padding:"p-3"},{columnTitle:"STATUS",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){if(O)return[Object(T.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(T.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"Loading post request(s)"})},1)];var e=t.districtPosts;return 0===(e=""!==L&&"all"!==L?e.filter((function(t){return t.position_id===L})):e).length?[Object(T.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(T.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"No Data Found"})},1)]:e.map((function(e,s){var n;return Object(T.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(T.jsx)("td",{className:"py-3 px-4 text-left",children:null===(n=Object(N.getSchoolById)(t.schools,e.school_id))||void 0===n?void 0:n.school_name}),Object(T.jsx)("td",{className:"py-3 px-4 text-left",children:t.systemPositions&&rt(t.systemPositions,e.position_id).position_title}),Object(T.jsx)("td",{className:"py-3 px-4 text-left text-base font-bold",children:e.needed_posts}),Object(T.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:e.requested_post_status!==b.c.INITIATED?e.confirmed_posts:"-"}),Object(T.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:e.occupied_posts?e.occupied_posts:"-"}),Object(T.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:e.requested_post_status===b.c.RECEIVED?e.received_posts:"-"}),Object(T.jsx)("td",{children:Object(T.jsx)("span",{className:"px-2 py-1 font-semibold rounded ".concat(e.requested_post_status===b.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":e.requested_post_status===b.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:e.requested_post_status===b.c.INITIATED?"Pending":Object(f.a)(e.requested_post_status)})}),Object(T.jsx)("td",{className:"py- text-left",children:Object(T.jsxs)("div",{className:"flex item-center justify-end gap-1",children:[Object(T.jsx)("button",{className:" btn btn-blue transition ease-out duration-500 flex items-center ",title:"View User Profile",onClick:function(){Q(e),A("CONFIRM")},children:"Reply"}),Object(T.jsx)("button",{className:" btn btn-blue transition ease-out duration-500 flex items-center ",title:"View User Profile",onClick:function(){Q(e),Z(!0)},children:"Details"}),e.requested_post_status===b.c.INITIATED&&Object(T.jsx)("button",{className:"btn bg-gray-500 text-white hover:bg-gray-700",onClick:function(){A("UPDATE")},disabled:M,children:"Edit"})]})})]},s+1)}))},pagination:!0,search:!0,thColor:"gray"})]})}),C&&J&&t.systemPositions&&Object(T.jsx)(u.d,{backDrop:!0,theme:u.c.default,close:function(){Q(null),A(null)},displayClose:!0,backDropClose:!1,title:Object(T.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(T.jsx)("div",{className:"flex flex-col",children:Object(T.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Responding to Requesting Teachers"})})}),widthSizeClass:u.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(T.jsx)("div",{className:"px-4 mx-auto mb-4 mt-3",children:Object(T.jsx)("form",{onSubmit:ot,children:Object(T.jsxs)("div",{className:"bg-white",children:[Object(T.jsxs)("div",{className:"text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"School"}),Object(T.jsx)("input",{type:"text",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:null===(e=Object(N.getSchoolById)(t.schools,J.school_id))||void 0===e?void 0:e.school_name,placeholder:"school name",disabled:!0})]}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Position"}),Object(T.jsx)("input",{type:"text",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:rt(t.systemPositions,J.position_id).position_title,placeholder:"position title",disabled:!0})]}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Needed posts (number)"}),Object(T.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:J.needed_posts,min:1,placeholder:"1",disabled:!0})]}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Occupation (number)"}),Object(T.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:J.occupied_posts,min:1,placeholder:"1",disabled:!0})]}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Explanation"}),Object(T.jsx)("textarea",{className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",placeholder:"Explanation",value:J.description,rows:2,disabled:!0})]}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Requested date"}),Object(T.jsx)("input",{type:"text",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:Object(w.a)(J.request_date.toString()),placeholder:"YYYY/MM/DD",disabled:!0})]}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Approved posts (number)"}),Object(T.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 bg-white focus:outline-none focus:bg-gray-100 ".concat(null!==it&&"approved_posts"===it.element?"border-red-500":"border-gray-700"),value:et,onChange:function(t){st(Number(t.target.value))},min:0,max:J.needed_posts,placeholder:"1",disabled:M}),null!==it&&"approved_posts"===it.element&&Object(T.jsx)("span",{className:"text-red-600 font-bold text-xs",children:it.msg})]})]}),Object(T.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(T.jsx)("button",{className:"btn bg-gray-400 text-white hover:bg-gray-600",onClick:function(){Q(null),st(0),A(null)},children:"Exit"}),Object(T.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",disabled:M,children:M?"Loading...":"Request"})]})]})})})}),X&&null===C&&J&&t.systemPositions&&Object(T.jsx)(u.d,{backDrop:!0,theme:u.c.default,close:function(){Q(null),Z(!1)},displayClose:!0,backDropClose:!1,title:Object(T.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(T.jsx)("div",{className:"flex flex-col",children:Object(T.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Viewing Post Request"})})}),widthSizeClass:u.b.large,padding:{title:!0,body:!1,footer:!1},children:Object(T.jsxs)("section",{className:"px-4 mx-auto mb-4 mt-3 flex items-start",children:[Object(T.jsxs)("section",{className:"w-full",children:[Object(T.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(T.jsx)("span",{className:"text-gray-500 italic",children:"Position: "}),Object(T.jsx)("span",{className:"font-bold",children:rt(t.systemPositions,J.position_id).position_title}),Object(T.jsx)("button",{className:"rounded-full border-2 px-3 border-blue-500 hover:bg-blue-50",children:"more"})]}),Object(T.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(T.jsx)("span",{className:"text-gray-500 italic",children:"Requested posts: "}),Object(T.jsx)("span",{className:"font-bold text-xl",children:J.needed_posts})]}),Object(T.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(T.jsx)("span",{className:"text-gray-500 italic",children:"Confirmed posts: "}),Object(T.jsx)("span",{className:"font-bold text-xl",children:J.requested_post_status!==b.c.INITIATED?Object(T.jsxs)("div",{className:"flex items-center gap-1",children:[J.confirmed_posts,Object(T.jsx)(S.g,{className:"bg-yellow-600 w-5 h-5 text-white cursor-pointer"})]}):"-"})]}),Object(T.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(T.jsx)("span",{className:"text-gray-500 italic",children:"Received posts: "}),Object(T.jsx)("span",{className:"font-bold text-xl",children:J.requested_post_status===b.c.RECEIVED?J.received_posts:"-"})]}),Object(T.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(T.jsx)("span",{className:"text-gray-500 italic",children:"Number of female: "}),Object(T.jsx)("span",{className:"font-bold text-xl",children:J.female_number})]}),Object(T.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(T.jsx)("span",{className:"text-gray-500 italic",children:"Number of male: "}),Object(T.jsx)("span",{className:"font-bold text-xl",children:J.male_number})]}),Object(T.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(T.jsx)("span",{className:"text-gray-500 italic",children:"Request reason: "}),Object(T.jsx)("span",{className:"font-bold text-xl",children:J.description})]}),Object(T.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(T.jsx)("span",{className:"text-gray-500 italic",children:"Status: "}),Object(T.jsx)("span",{className:"px-2 py-1 mx-1 font-semibold rounded ".concat(J.requested_post_status===b.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":J.requested_post_status===b.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:J.requested_post_status===b.c.INITIATED?"Pending":Object(f.a)(J.requested_post_status)})]})]}),Object(T.jsx)("div",{className:"mb-3 flex items-center justify-end gap-2",children:Object(T.jsx)("button",{className:"font-bold py-1 px-4 rounded bg-gray-500 text-white hover:bg-gray-700",onClick:function(){A("UPDATE")},disabled:J.requested_post_status!==b.c.INITIATED,children:"Edit"})})]})})]})}))}}]);
//# sourceMappingURL=38.d044e016.chunk.js.map