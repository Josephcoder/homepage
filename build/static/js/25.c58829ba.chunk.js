(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[25,5],{187:function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"e",(function(){return a})),s.d(t,"c",(function(){return l})),s.d(t,"g",(function(){return n})),s.d(t,"f",(function(){return o})),s.d(t,"a",(function(){return c})),s.d(t,"d",(function(){return r}));var i=[{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"7322342684"},{school_id:"32762426329",school_title:"Rucee De Kigali",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"73232432684",number_of_females:10,number_of_males:12}],a=function(e){return null===e||null!==e.match(/^ *$/)},l=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},n=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=new Array(t+1).join("0");return(s+e).slice(-t)},c=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},r=function(e){var t=new Date(e),s=new Date;return t.getTime()<s.getTime()}},199:function(e,t,s){"use strict";s.d(t,"b",(function(){return x})),s.d(t,"a",(function(){return j})),s.d(t,"d",(function(){return h})),s.d(t,"c",(function(){return m}));var i=s(18),a=s(19),l=s(21),n=s(20),o=s(4),c=s.n(o),r=s(17),p=s(3),d=s(8),b=s(1),u=function(e){Object(l.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){return a.props.PageHasSubNav(!0)},a.componentWillUnmount=function(){return a.props.PageHasSubNav(!1)},a.state={loading:!1},a}return Object(a.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(b.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(c.a.Component),x=Object(r.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:p.nb,PageHasSubNav:p.ob})(u),j=function(e){var t=e.title,s=void 0===t?"":t,i=e.icon,a=void 0===i?d.m:i,l=e.active,n=void 0!==l&&l,o=e.count,c=void 0===o?0:o,r=a;return Object(b.jsxs)("section",{className:"".concat(!0===n?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(b.jsxs)("section",{className:"flex-1",children:[Object(b.jsx)(r,{className:"inline-block mr-1 text-xs"}),Object(b.jsx)("span",{children:s})]}),c>0?Object(b.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:c}):null]})},h=function(e){var t=e.children;return Object(b.jsx)("div",{className:"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer",children:t})},m=function(e){var t=e.title,s=void 0===t?"":t,i=e.icon,a=void 0===i?d.m:i,l=e.active,n=void 0!==l&&l,o=e.count,c=void 0===o?0:o,r=a;return Object(b.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster ".concat(!0===n?"bg-blue-500 text-white font-bold":" text-blue-800"," text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),children:[Object(b.jsx)(r,{className:"inline-block mr-0.1 text-xs ".concat(!0===n?"text-white":"")}),Object(b.jsx)("span",{className:"inline-block pl-1 ".concat(!0===n?"text-white":""),children:s}),c>=1?Object(b.jsx)("span",{className:"text-sm fint-bold ".concat(!0===n?"text-white":""),children:c}):null]})}},224:function(e,t,s){"use strict";var i,a;s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return l})),function(e){e.Pending="Pending",e.Accepted="Accepted",e.Rejected="Rejected"}(i||(i={})),function(e){e.Initiated="initiated",e.Incomplete="incomplete",e.Rejected="rejected",e.Pending="pending",e.Shortlisted="shortlisted",e.Pass="pass",e.Failed="failed",e.Placed="placed"}(a||(a={}));var l=[{key:a.Initiated,caption:"Initiated"},{key:a.Failed,caption:"Failed"},{key:a.Incomplete,caption:"Incomplete"},{key:a.Pending,caption:"Pending"},{key:a.Placed,caption:"Placed"},{key:a.Rejected,caption:"Rejected"},{key:a.Shortlisted,caption:"Shortlisted"},{key:a.Pass,caption:"Passed"}]},395:function(e,t,s){"use strict";t.a=s.p+"static/media/profile.a9136072.png"},401:function(e,t){},426:function(e,t,s){"use strict";s(4);var i=s(427),a=s(428),l=s(25),n=s(1);t.a=function(e){var t=e.fileData,s=e.fileName,o=e.btnName,c=void 0===o?"Excel":o,r=e.className,p=void 0===r?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":r,d=e.showIcon,b=void 0===d||d;return Object(n.jsxs)("button",{onClick:function(e){return function(e,t){var s={Sheets:{data:a.utils.json_to_sheet(e)},SheetNames:["data"]},l=a.write(s,{bookType:"xlsx",type:"array"}),n=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});i.saveAs(n,t+".xlsx")}(t,s)},className:p,children:[b&&Object(n.jsx)(l.k,{}),c]})}},430:function(e,t){},431:function(e,t){},463:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var i=s(5),a=s.n(i),l=s(7),n=s(402),o=s(68),c=s.p+"static/media/mineduc.11a9ae1c.png";s(433);var r=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var s=1;s<=t;s++)e.setPage(s),e.text("Page "+String(s)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},p=function(){var e=Object(l.a)(a.a.mark((function e(t,s){var i,l,p,d,b,u,x,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.orientation?t.orientation:"p",l=20,20,185,(p=new n.default(i,"mm","a4")).setTextColor(95,95,95),p.setFontSize(28),p.addImage(c,"png",20,20,10,10),p.text("MINEDUC",32,28.5,void 0,"left"),p.setFontSize(26),p.text(t.title,p.internal.pageSize.getWidth()/2,42.7,void 0,"center"),p.setFontSize(20),p.text(t.institute,p.internal.pageSize.getWidth()/2,53.7,void 0,"center"),d=p.splitTextToSize(t.subject,145),p.setFontSize(16),b=63,p.setTextColor(95,95,95),p.text("".concat(t.subjectTitle,": "),l,b),u=p.getTextWidth("".concat(t.subjectTitle,": ")),p.setTextColor(38,38,38),x=0;x<d.length;x++)b>280&&(b=10,p.addPage()),p.text(d[x],l+u,b),b+=7;return p.setTextColor(95,95,95),p.text("Period: ",l,b+3),u=p.getTextWidth("Period: "),p.setTextColor(38,38,38),p.text(t.period,l+u,b+3),p.autoTable({html:s,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),p.setFontSize(12),j=p.lastAutoTable.finalY,p.text("Reported by: ".concat(t.doneBy),l,j+15),p.text("Report downloaded on "+Object(o.a)((new Date).toString()),l,j+23),r(p),e.next=34,p.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"));case 34:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()},801:function(e,t,s){"use strict";s.r(t),s.d(t,"reportContentKeyInterface",(function(){return S})),s.d(t,"Applications",(function(){return I}));var i,a=s(18),l=s(19),n=s(21),o=s(20),c=s(4),r=s(8),p=s(17),d=s(3),b=s(199),u=s(28),x=s(224),j=s(78),h=s(31),m=s(55),f=s(194),g=s(189),O=s(210),v=s(191),y=s(399),N=s(395),_=s(1);!function(e){e.profile="profile",e.position="position"}(i||(i={}));var S,w=function(e){Object(n.a)(s,e);var t=Object(o.a)(s);function s(e){var l;return Object(a.a)(this,s),(l=t.call(this,e)).tabStatusClass=function(e){return!0===e?"col-span-6 bg-white hover:bg-blue-100 py-4 px-3 cursor-pointer text-lg border-b-4 border-blue-600 text-blue-600 font-bold flex flex-row items-center justify-start bg-blue-50 gap-3 animate__animated animate__pulse":"col-span-6 bg-white hover:bg-blue-50 py-4 px-3 cursor-pointer text-lg border-b-4 border-white hover:border-blue-200 text-gray-600 hover:text-blue-700 flex flex-row items-center justify-start gap-3"},l.state={loading:!1,tab:i.profile},l}return Object(l.a)(s,[{key:"render",value:function(){var e,t=this;return Object(_.jsxs)("div",{className:"px-2 py-2 border-t",children:[Object(_.jsxs)("div",{className:"rounded grid md:grid-cols-12",children:[Object(_.jsxs)("div",{onClick:function(){return t.setState({tab:i.profile})},className:"".concat(this.state.tab===i.profile?this.tabStatusClass(!0):this.tabStatusClass(!1)),children:[Object(_.jsx)(v.i,{className:"text-3xl"}),"Applicant profile"]}),Object(_.jsxs)("div",{onClick:function(){return t.setState({tab:i.position})},className:"".concat(this.state.tab===i.position?this.tabStatusClass(!0):this.tabStatusClass(!1)),children:[Object(_.jsx)(y.c,{className:"text-3xl"}),"Position requirements"]})]}),Object(_.jsx)("div",{className:"border rounded px-4 py-4 mt-3",children:this.state.tab===i.profile?Object(_.jsx)("div",{className:"grid md:grid-cols-12",children:Object(_.jsxs)("div",{className:"col-span-6",children:[Object(_.jsx)("div",{className:"text-3xl text-blue-600 font-bold mb-6",children:"General information"}),Object(_.jsx)("div",{className:"",children:Object(_.jsx)("div",{className:"px-2 py-2",children:Object(_.jsx)("img",{src:N.a,alt:"",className:"h-28 w-28 rounded-full mb-2"})})}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"First name: "}),Object(_.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.fname})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Last name: "}),Object(_.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.lname})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"National ID: "}),Object(_.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.n_id})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Gender: "}),Object(_.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.sex})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Phone number: "}),Object(_.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.phone_number})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Email: "}),Object(_.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.email})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"District: "}),Object(_.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.district})]})]})}):Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"text-2xl text-blue-600 font-bold mb-3",children:"Application details"}),Object(_.jsxs)("div",{className:"border px-3 py-3 rounded mb-6",children:[Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Application period: "}),Object(_.jsxs)("span",{className:"font-bold",children:[this.props.selectedApplication.application_session.application_session_name," - ",this.props.selectedApplication.application_session.period]})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Application date: "}),Object(_.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.application_session.createdAt})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Application status: "}),Object(_.jsx)("span",{className:"font-bold",children:null===(e=x.b.find((function(e){return e.key===t.props.selectedApplication.application_status})))||void 0===e?void 0:e.caption})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Application history: "}),Object(_.jsx)("span",{className:"font-bold",children:Object(_.jsx)("ol",{className:"text-gray-500 text-sm",children:this.props.selectedApplication.application_history.map((function(e,t){return Object(_.jsxs)("li",{className:"",children:[t+1,") ",e.date," (",e.comment,")"]},t+1)}))})})]})]}),Object(_.jsx)("div",{className:"text-2xl text-blue-600 font-bold mb-3",children:"Position details"}),Object(_.jsxs)("div",{className:"border px-3 py-3 rounded",children:[Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Position name: "}),Object(_.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.position.position_title})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Position description: "}),Object(_.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.position.description})]}),Object(_.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(_.jsx)("span",{className:"text-gray-500 italic",children:"Position exams: "}),Object(_.jsx)("span",{className:"font-bold",children:Object(_.jsx)("ol",{children:this.props.selectedApplication.position.courses.map((function(e,t){return Object(_.jsxs)("li",{children:["(",t+1,") Course name: ",e.course_name," - ",e.course_code]},t+1)}))})})]})]})]})})]})}}]),s}(c.Component),A=s(46),C=s(50),P=(s(16),s(15)),k=s(426),L=s(463),D=s(26),E=s(68),T=s(187);!function(e){e.names="names",e.gender="gender",e.national_id="national_id",e.email="email",e.phone="phone",e.district="district",e.application_session="application_session",e.education_category="education_category",e.date="date",e.decision="decision",e.position="position"}(S||(S={}));var R=[{key:S.names,title:"Applicant Names",status:!0},{key:S.national_id,title:"National ID",status:!0},{key:S.gender,title:"Gender",status:!0},{key:S.phone,title:"Phone",status:!0},{key:S.application_session,title:"Application Period",status:!0},{key:S.education_category,title:"Education Institute",status:!0},{key:S.date,title:"Application Date",status:!0},{key:S.decision,title:"Decision",status:!0},{key:S.position,title:"Position Title",status:!0}],F=function(e){Object(n.a)(s,e);var t=Object(o.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).setLoadingState=function(e){i.setState({loading:e})},i.loadAllApplications=function(e,t,s,a){null!==e&&null!==t&&i.props.AdminLoadApplicationList(e.position_id,t.application_session_id,s,a)},i.AdminApplicationStatuses=function(e){var t=[{title:"All",count:e.length,status:"ALL"}],s=function(s){t.push({title:x.b[s].caption,count:e.filter((function(e){return e.application_status===x.b[s].key})).length,status:x.b[s].key})};for(var i in x.b)s(i);return t},i.filteredApplications=function(e,t,s){var i=e;return null!==s&&null!==e&&(i=e.filter((function(e){return e.position.education_institute_id.education_institute_id===s.education_institute_id}))),null===t||"ALL"===t||null===i?i:i.filter((function(e){return e.application_status===t}))},i.updateReportContent=function(e){var t=i.state.reportContent.findIndex((function(t){return t.key===e})),s=i.state.reportContent;s[t].status=!s[t].status,i.setState({reportContent:s}),s.find((function(e){return!1===e.status}))?i.setState({selectAll:!1}):i.setState({selectAll:!0}),i.updateApplicationToPrint()},i.generatePDF=function(){if(!document.querySelectorAll("#report_content tbody tr").length)return i.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:D.a.warning}),!1;if(i.props.applications_list.selected_position&&i.props.periods.selected_period&&i.props.schoolLevels.selectedEducationCategory){var e=document.getElementById("report_content"),t={doneBy:i.props.auth.user.fname+" "+i.props.auth.user.lname,title:"Applications Report",subjectTitle:"Position",subject:i.props.applications_list.selected_position.position_title,period:i.props.periods.selected_period.application_session_name,footer:"Online Recruitment",institute:i.props.schoolLevels.selectedEducationCategory.education_category_title};e&&Object(L.a)(t,e)}},i.updateApplicationToPrint=function(){if(i.props.applications_list.applicationsList){var e=[],t=1;for(var s in i.props.applications_list.applicationsList)if(Object.prototype.hasOwnProperty.call(i.props.applications_list.applicationsList,s)){var a=i.props.applications_list.applicationsList[s],l={application_id:t,names:a.fname+" "+a.lname,national_id:a.n_id,gender:"M"===a.sex?"Male":"Female",position:a.position.position_title,phone:a.phone_number,email:a.email,education_category:a.position.education_institute_id.education_category_title,application_session:a.application_session.application_session_name,district:a.district,date:a.createdAt,decision:a.application_status};for(var n in i.state.reportContent)Object.prototype.hasOwnProperty.call(i.state.reportContent,n)&&(i.state.reportContent[n].status||delete l[i.state.reportContent[n].key]);e.push(l),t++}i.setState({applicationsToPrint:e}),e=[],t=1}},i.resetReportContent=function(e){var t=i.state.reportContent;for(var s in t)i.isChangeAllowed(t[s].key)&&(t[s].status=!e);i.setState({reportContent:t,selectAll:!e}),i.updateApplicationToPrint()},i.isChangeAllowed=function(e){return e!==S.names&&e!==S.decision&&e!==S.application_session},i.componentDidMount=function(){if(null!==i.props.schoolLevels.education_categories&&0!==i.props.schoolLevels.education_categories.length||i.props.loadEducationCategories(i.setLoadingState),null===i.props.periods.applicationPeriods&&i.props.loadApplicationPeriods(i.setLoadingState),null===i.props.periods.selected_period&&i.props.periods.applicationPeriods){var e=i.props.periods.applicationPeriods.find((function(e){return e.is_active}));e?(i.props.setSelectedPeriod(e),i.setState({selectPeriod:!1})):i.setState({selectPeriod:!0})}null===i.props.applications_list.positions_list&&i.props.loadAllPositions(i.setLoadingState),null===i.props.applications_list.selected_position&&i.setState({selectPosition:!0}),i.loadAllApplications(i.props.applications_list.selected_position,i.props.periods.selected_period,i.props.schoolLevels.selectedEducationCategory,i.setLoadingState),i.props.applications_list.selected_position&&i.props.periods.selected_period&&i.setState({reportTitle:i.props.applications_list.selected_position.position_title+" - Application Report - "+i.props.periods.selected_period.application_session_name})},i.setSort=function(e){i.state.sortProperty===e&&"ASC"===i.state.sortOrder?i.setState({sortProperty:e,isSorted:!0,sortOrder:"DESC"}):i.setState({sortProperty:e,isSorted:!0,sortOrder:"ASC"})},i.state={loading:!1,selectedApplicationStatus:"ALL",selectPosition:!1,selectPeriod:!1,applicationDetailsModal:null,generateReportModal:null,searchInput:"",searchPositionInput:"",reportTitle:"Application Report",selectAll:!0,applicationsToPrint:null,formError:null,reportContent:R,sortProperty:"",isSorted:!1,sortOrder:"ASC"},i}return Object(l.a)(s,[{key:"componentDidUpdate",value:function(e,t){t.loading!==this.state.loading&&this.updateApplicationToPrint()}},{key:"render",value:function(){var e,t,s=this;return Object(_.jsxs)(c.Fragment,{children:[Object(_.jsxs)(b.b,{children:[Object(_.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(_.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===this.props.schoolLevels.education_categories?Object(_.jsx)(u.a,{}):0===this.props.schoolLevels.education_categories.length?Object(_.jsx)("span",{children:"No result found"}):this.props.schoolLevels.education_categories.map((function(e,t){return Object(_.jsxs)("div",{onClick:function(){s.props.setSelectedEducationCategory(e),s.loadAllApplications(s.props.applications_list.selected_position,s.props.periods.selected_period,s.props.schoolLevels.selectedEducationCategory,s.setLoadingState)},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat(null!==s.props.schoolLevels.selectedEducationCategory&&s.props.schoolLevels.selectedEducationCategory.education_institute_id===e.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:[null!==s.props.schoolLevels.selectedEducationCategory&&s.props.schoolLevels.selectedEducationCategory.education_institute_id===e.education_institute_id?Object(_.jsx)(r.sb,{}):Object(_.jsx)(r.tb,{}),Object(_.jsx)("span",{children:e.education_category_title})]},t+1)}))]}),Object(_.jsxs)("div",{className:"",children:[Object(_.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(_.jsxs)("div",{onClick:function(){return s.setState({selectPeriod:!0})},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline  text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:[null!==this.props.periods.selected_period?"".concat(this.props.periods.selected_period.application_session_name," - ").concat(this.props.periods.selected_period.period):"Filter by period",Object(_.jsx)(O.c,{className:"text-3xl text-blue-600"})]})]}),Object(_.jsxs)("div",{className:"pt-1",children:[Object(_.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Application statuses:"}),null===this.props.applications_list.applicationsList?Object(_.jsx)(u.a,{}):this.AdminApplicationStatuses(this.props.applications_list.applicationsList).map((function(e,t){return Object(_.jsx)(c.Fragment,{children:Object(_.jsx)("div",{onClick:function(){return s.setState({selectedApplicationStatus:e.status})},children:Object(_.jsx)(b.a,{title:e.title,count:e.count,active:s.state.selectedApplicationStatus===e.status})})},e.title)}))]})]}),Object(_.jsxs)("section",{children:[Object(_.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(_.jsx)("div",{className:"col-span-6",children:Object(_.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(_.jsx)("span",{className:"text-3xl font-bold text-gray-700",children:"Report of applications"}),Object(_.jsxs)("div",{onClick:function(){return s.setState({selectPosition:!0})},className:"flex flex-row gap-2",children:[Object(_.jsx)("span",{className:"text-gray-500",children:"Selected position: "}),Object(_.jsx)("span",{className:"text-blue-600 font-bold underline cursor-pointer",children:null!==this.props.applications_list.selected_position?this.props.applications_list.selected_position.position_title:"No position selected, Click to select"})]})]})}),Object(_.jsx)("div",{className:"col-span-6",children:Object(_.jsxs)("div",{className:"float-right mt-2",children:[this.state.applicationsToPrint&&this.state.applicationsToPrint.length>0&&Object(_.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(_.jsx)(g.d,{className:"text-2xl text-gray-500"}),Object(_.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(_.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",disabled:this.state.loading,onClick:function(){return s.setState({generateReportModal:{reportType:"EXCEL",status:!0}})},children:"EXCEL"}),Object(_.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",onClick:function(){return s.generatePDF()},disabled:this.state.loading,children:"PDF"})]}),Object(_.jsxs)("div",{onClick:function(){return s.setState({selectPosition:!0})},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(_.jsx)(g.e,{className:"text-xl"}),"Filter by position"]})]})})]}),Object(_.jsxs)("div",{className:"bg-white my-4",children:[Object(_.jsx)("div",{className:"w-full px-2 py-2",children:Object(_.jsx)("input",{onChange:function(e){return s.setState({searchInput:e.target.value})},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded"})}),Object(_.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(_.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(_.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("fname")},children:Object(_.jsxs)("div",{className:"flex items-center gap-1",children:["Applicant names ",Object(_.jsx)(g.h,{})]})}),Object(_.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(_.jsx)("td",{className:"px-2 py-2",children:"Gender"}),Object(_.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(_.jsx)("td",{className:"px-2 py-2",children:"Position"}),Object(_.jsx)("td",{className:"px-2 py-2",children:"Res. District"}),Object(_.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("application_status")},children:Object(_.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(_.jsx)(g.h,{})]})}),Object(_.jsx)("td",{className:"px-2 py-2",children:"Date"})]})}),Object(_.jsx)("tbody",{children:!0===this.state.loading||null===this.filteredApplications(this.props.applications_list.applicationsList,this.state.selectedApplicationStatus,this.props.schoolLevels.selectedEducationCategory)?Object(_.jsx)("tr",{children:Object(_.jsx)("td",{colSpan:7,className:"px-2 py-2",children:Object(_.jsx)(u.a,{})})}):0===(null===(e=this.filteredApplications(this.props.applications_list.applicationsList,this.state.selectedApplicationStatus,this.props.schoolLevels.selectedEducationCategory))||void 0===e?void 0:e.length)?Object(_.jsx)("tr",{children:Object(_.jsx)("td",{colSpan:7,className:"px-2 py-2",children:Object(_.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(_.jsx)(f.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(_.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"}),Object(_.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(_.jsxs)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:[Object(_.jsx)("li",{onClick:function(){return s.setState({selectPeriod:!0})},className:"underline text-gray-500 cursor-pointer",children:"Filter by period"}),Object(_.jsx)("li",{className:"text-gray-400 italic",children:"or"}),Object(_.jsx)("li",{onClick:function(){return s.setState({selectPosition:!0})},className:"underline text-blue-600 cursor-pointer",children:"Filter by position"})]})})]})})}):Object(E.h)(this.state.isSorted,Object(C.a)(this.filteredApplications(this.props.applications_list.applicationsList,this.state.selectedApplicationStatus,this.props.schoolLevels.selectedEducationCategory),this.state.searchInput),this.state.sortProperty,this.state.sortOrder).map((function(e,t){return Object(_.jsxs)("tr",{onClick:function(){return s.setState({applicationDetailsModal:{selected_application:e,status:!0}})},className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 cursor-pointer border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(_.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(_.jsxs)("td",{className:"px-2 py-2",children:[e.fname," ",e.lname]}),Object(_.jsx)("td",{className:"px-2 py-2",children:e.n_id}),Object(_.jsx)("td",{className:"px-2 py-2",children:"M"===e.sex?"Male":"Female"}),Object(_.jsx)("td",{className:"px-2 py-2",children:e.phone_number}),Object(_.jsx)("td",{className:"px-2 py-2",children:e.position.position_title}),Object(_.jsx)("td",{className:"px-2 py-2",children:e.district}),Object(_.jsx)("td",{className:"px-2 py-2",children:Object(T.a)(e.application_status)}),Object(_.jsx)("td",{className:"px-2 py-2",children:Object(E.a)(e.createdAt)})]},t+1)}))})]})]})]}),(!0===this.state.selectPosition||!0===this.state.selectPeriod)&&Object(_.jsx)(h.d,{title:Object(_.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[!0===this.state.selectPeriod?Object(_.jsx)(r.Q,{className:"text-5xl text-blue-600"}):Object(_.jsx)(j.g,{className:"text-5xl text-blue-600"}),Object(_.jsx)("div",{className:"flex flex-col",children:Object(_.jsx)("span",{className:"font-bold text-xl text-blue-600",children:!0===this.state.selectPeriod?"Choose a period":"Filter by a position"})})]}),backDrop:!0,theme:h.c.default,close:function(){return null!==s.props.applications_list.selected_position&&null!==s.props.periods.selected_period&&s.setState({selectPosition:!1,selectPeriod:!1})},backDropClose:!0,widthSizeClass:h.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(_.jsx)("div",{className:"px-2 pb-2",children:!0===this.state.selectPeriod?null===this.props.periods.applicationPeriods?Object(_.jsx)(u.a,{}):0===this.props.periods.applicationPeriods.length?Object(_.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(_.jsx)(r.Cb,{className:"text-6xl"}),Object(_.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(_.jsx)("span",{children:"No application periods found!"}),Object(_.jsx)(P.b,{to:"/",className:"btn bg-yellow-100 text-yellow-700 my-4 hover:bg-yellow-200",children:"Go back"})]})]}):this.props.periods.applicationPeriods.map((function(e,t){return Object(_.jsxs)("div",{onClick:function(){s.props.setSelectedPeriod(e),s.loadAllApplications(s.props.applications_list.selected_position,s.props.periods.selected_period,s.props.schoolLevels.selectedEducationCategory,s.setLoadingState),s.setState({selectPeriod:!1})},className:"grid grid-cols-12 bg-blue-50 border border-blue-200 rounded px-2 py-2 cursor-pointer hover:bg-blue-100 hover:border-blue-500 mb-3",children:[Object(_.jsxs)("div",{className:"col-span-5",children:[Object(_.jsx)("div",{className:"text-blue-500 text-sm italic",children:"Period"}),Object(_.jsx)("div",{className:"font-bold",children:e.application_session_name}),Object(_.jsx)("div",{className:"my-4"}),Object(_.jsx)("div",{className:"text-blue-500 text-sm italic",children:"Status"}),Object(_.jsx)("div",{className:"font-bold",children:!0===e.is_active?"Active":"Expired"})]}),Object(_.jsxs)("div",{className:"col-span-5",children:[Object(_.jsx)("div",{className:"text-blue-500 text-sm italic",children:"Start date"}),Object(_.jsx)("div",{className:"font-bold",children:e.application_start_date}),Object(_.jsx)("div",{className:"my-4"}),Object(_.jsx)("div",{className:"text-blue-500 text-sm italic",children:"Ending date"}),Object(_.jsx)("div",{className:"font-bold",children:e.application_end_date})]}),Object(_.jsx)("div",{className:"col-span-2 flex items-center justify-end",children:Object(_.jsx)("div",{className:"btn bg-blue-600 text-white mr-2",children:"Choose"})})]},t+1)})):!0===this.state.selectPosition&&null===this.props.applications_list.positions_list?Object(_.jsx)(A.b,{type:A.a.dark}):0===(null===(t=this.props.applications_list.positions_list)||void 0===t?void 0:t.length)?Object(_.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(_.jsx)(r.Cb,{className:"text-6xl"}),Object(_.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(_.jsx)("span",{children:"No positions found! Please go back!"}),Object(_.jsx)(P.b,{to:"/",className:"btn bg-yellow-100 text-yellow-700 my-4 hover:bg-yellow-200",children:"Go back"})]})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("span",{className:"text-gray-600 text-xs font-bold",children:"Filter by position name"}),Object(_.jsx)("input",{onChange:function(e){return s.setState({searchPositionInput:e.target.value})},type:"text",className:"mb-4 bg-gray-100 px-3 py-2 rounded",placeholder:"Keyword..."})]}),Object(C.a)(this.props.applications_list.positions_list,this.state.searchPositionInput).map((function(e,t){return Object(_.jsx)("div",{onClick:function(){var t;s.props.setSelectedPosition(e),s.loadAllApplications(s.props.applications_list.selected_position,s.props.periods.selected_period,s.props.schoolLevels.selectedEducationCategory,s.setLoadingState),s.setState({selectPosition:!1,reportTitle:(null===(t=s.props.applications_list.selected_position)||void 0===t?void 0:t.position_title)+" - Application Report - "+s.props.periods.selected_period.application_session_name})},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(_.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(_.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(_.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(_.jsx)("div",{children:Object(_.jsx)(m.a,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:e.position_title}),Object(_.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(_.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:e.school_level_id.school_level_name})]}),Object(_.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:e.education_institute_id.education_category_title})]})]})}),Object(_.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(_.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(_.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})},t+1)}))]})})}),null!==this.state.applicationDetailsModal&&!0===this.state.applicationDetailsModal.status&&Object(_.jsx)(h.d,{title:Object(_.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsxs)("span",{className:"font-bold text-2xl text-gray-500",children:[this.state.applicationDetailsModal.selected_application.fname," ",this.state.applicationDetailsModal.selected_application.lname]}),Object(_.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Position:"," ",this.state.applicationDetailsModal.selected_application.position.position_title]})]})}),backDrop:!0,theme:h.c.default,close:function(){return s.setState({applicationDetailsModal:null})},backDropClose:!0,widthSizeClass:h.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(_.jsx)(w,{selectedApplication:this.state.applicationDetailsModal.selected_application})}),null!==this.state.generateReportModal&&!0===this.state.generateReportModal.status&&Object(_.jsx)(h.d,{title:Object(_.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(_.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",this.state.generateReportModal.reportType," ","Report"]})]})}),backDrop:!0,theme:h.c.default,close:function(){return s.setState({generateReportModal:null})},backDropClose:!1,widthSizeClass:h.b.medium,displayClose:!0,padding:{title:!0},children:Object(_.jsxs)("div",{className:"px-6",children:[Object(_.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("label",{children:"Title"}),Object(_.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(this.state.formError&&"report_title"===this.state.formError.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:this.state.reportTitle,onChange:function(e){s.setState({formError:null,reportTitle:e.target.value})},disabled:this.state.loading}),this.state.formError&&"report_title"===this.state.formError.element&&Object(_.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(_.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(_.jsx)("label",{children:"Report content"}),Object(_.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:this.state.reportContent.map((function(e,t){return Object(_.jsxs)("div",{className:"flex items-center gap-1 ".concat(s.isChangeAllowed(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return s.isChangeAllowed(e.key)&&s.updateReportContent(e.key)},title:s.isChangeAllowed(e.key)?"":"Required for every report!",children:[e.status?Object(_.jsx)(r.r,{className:"w-6 h-6 text-blue-700"}):Object(_.jsx)(r.s,{className:"w-6 h-6"}),Object(_.jsx)("span",{children:e.title})]},t)}))}),this.state.formError&&"report_content"===this.state.formError.element&&Object(_.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]})]}),Object(_.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(_.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return s.resetReportContent(s.state.selectAll)},children:[this.state.selectAll?Object(_.jsx)(r.r,{className:"w-6 h-6 text-blue-700"}):Object(_.jsx)(r.s,{className:"w-6 h-6"}),Object(_.jsx)("span",{children:"Select all"})]}),this.state.applicationsToPrint&&!this.state.loading&&Object(_.jsx)(k.a,{fileData:this.state.applicationsToPrint,fileName:this.state.reportTitle,btnName:"Generate"})]})]})})]})}}]),s}(c.Component),I=Object(p.b)((function(e){return{auth:e.auth,applications_list:e.applications_list,application:e.application,positions:e.positions,periods:e.periods,schoolLevels:e.schoolLevels}}),{loadApplicationPeriods:d.Jb,AdminLoadApplicationList:d.c,loadAllPositions:d.Ib,setSelectedPosition:d.kc,setSelectedPeriod:d.jc,loadEducationCategories:d.Ob,setSelectedEducationCategory:d.fc,PushPopupAlert:d.pb})(F)}}]);
//# sourceMappingURL=25.c58829ba.chunk.js.map