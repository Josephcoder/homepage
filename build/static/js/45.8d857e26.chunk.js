(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[45],{1321:function(e,t,s){"use strict";s.r(t),s.d(t,"ProfileDetails",(function(){return L}));var a,r=s(2),l=s(25),c=s(24),i=s(27),n=s(26),d=s(4),o=s.n(d),b=s(23),h=s(3),u=s(12),m=s(811),j=s(28),x=s(1),g=function(e){var t,s,a,r=e.user,l=e.changePassword,c=e.editProfile,i=e.access_name,n=e.district_name,o=e.school_name,b=r.fname,h=r.lname,g=r.father_names,p=r.mother_names,v=r.sex,_=r.date_of_birth,O=r.place_of_birth,y=r.country_of_birth,N=r.district,f=r.email,w=r.n_id,k=r.phone_number,C=r.province,S=r.civil_status,D=r.photo,P=r.village,H=r.cell,F=r.sector,T=r.residence;return Object(x.jsxs)(d.Fragment,{children:[Object(x.jsxs)("div",{className:" bg-blue-200 p-3 h-20 rounded-t z-0 flex flex-col lg:items-center items-end lg:flex-row-reverse",children:[Object(x.jsxs)("button",{onClick:function(){return c()},className:"py-1 px-2 rounded-md bg-blue-500 lg:mb-0 mb-1 text-white hover:bg-blue-600 hover:text-white  mx-1",children:[Object(x.jsx)(u.ib,{className:"inline-block mr-2"}),"Edit profile"]}),Object(x.jsxs)("button",{className:"py-1 px-2 rounded-md bg-blue-500 text-white hover:bg-blue-600 hover:text-white mr-1",onClick:function(){return l()},children:[Object(x.jsx)(u.cb,{className:"inline-block mr-2"}),"Change password"]})]}),Object(x.jsxs)("div",{className:"bg-red-3000 h-0 p-3 -mt-5 rounded-t flex items-center z-0",children:[Object(x.jsx)("img",{src:D&&"pic"!==D?Object(j.c)(D):m.a,alt:"Profile",className:"w-24 h-24 object-cover shadow-lg rounded-md border-2 border-gray-500-- border-blue-400"}),Object(x.jsxs)("section",{className:"pl-2 pt-8 mt-10",children:[Object(x.jsxs)("h1",{className:" text-2xl font-bold text-gray-600",children:[b," ",h]}),Object(x.jsx)("span",{className:"inline-block px-2 bg-yellow-300 rounded-full",children:i})]})]}),Object(x.jsxs)("div",{className:"bg-white p-3 rounded-b -mt-1- pt-12 shadow",children:[Object(x.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4 mt-3 border-t pt-2 px-2",children:[(null===n||void 0===n?void 0:n.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Email:"})," ",Object(x.jsxs)("b",{className:"text-lg",children:[i," on ",n," district"]})]}),(null===o||void 0===o?void 0:o.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Email:"})," ",Object(x.jsxs)("b",{className:"text-lg",children:[i," of ",o]})]}),(null===f||void 0===f?void 0:f.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Email:"})," ",Object(x.jsx)("b",{className:"text-lg",children:f})]}),(null===k||void 0===k?void 0:k.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Phone number:"})," ",Object(x.jsx)("b",{className:"text-lg",children:k})]})]}),Object(x.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4 mt-3 pt-2 px-2",children:[Object(x.jsxs)("div",{className:"",children:[Object(x.jsx)("div",{className:"hover:bg-blue-100"}),(null===w||void 0===w?void 0:w.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"NID:"})," ",Object(x.jsx)("b",{className:"text-lg",children:w})]}),(null===b||void 0===b?void 0:b.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"First name:"})," ",Object(x.jsx)("b",{className:"text-lg",children:b})]}),(null===h||void 0===h?void 0:h.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Last name:"})," ",Object(x.jsx)("b",{className:"text-lg",children:h})]}),(null===g||void 0===g?void 0:g.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Father's name:"})," ",Object(x.jsx)("b",{className:"text-lg",children:g})]}),(null===p||void 0===p?void 0:p.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Mother's name:"})," ",Object(x.jsx)("b",{className:"text-lg",children:p})]}),(null===v||void 0===v?void 0:v.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Sex:"})," ",Object(x.jsx)("b",{className:"text-lg",children:v})]}),(null===_||void 0===_?void 0:_.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"DOB:"})," ",Object(x.jsx)("b",{className:"text-lg",children:_})]})]}),Object(x.jsxs)("div",{className:"",children:[Object(x.jsxs)("div",{className:"bg-gray-50 p-2 rounded my-2",children:[(null===T||void 0===T||null===(t=T.province_name)||void 0===t?void 0:t.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Residence Province:"})," ",Object(x.jsx)("b",{className:"text-lg",children:null===T||void 0===T?void 0:T.province_name})]}),(null===T||void 0===T||null===(s=T.district_name)||void 0===s?void 0:s.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Residence District:"})," ",Object(x.jsx)("b",{className:"text-lg",children:null===T||void 0===T?void 0:T.district_name})]}),(null===T||void 0===T||null===(a=T.sector_name)||void 0===a?void 0:a.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Residence Sector:"})," ",Object(x.jsx)("b",{className:"text-lg",children:null===T||void 0===T?void 0:T.sector_name})]})]}),(null===N||void 0===N?void 0:N.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"District:"})," ",Object(x.jsx)("b",{className:"text-lg",children:N})]}),(null===P||void 0===P?void 0:P.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Village:"})," ",Object(x.jsx)("b",{className:"text-lg",children:P})]}),(null===H||void 0===H?void 0:H.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"cell:"})," ",Object(x.jsx)("b",{className:"text-lg",children:H})]}),(null===F||void 0===F?void 0:F.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Sector:"})," ",Object(x.jsx)("b",{className:"text-lg",children:F})]}),(null===C||void 0===C?void 0:C.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"province:"})," ",Object(x.jsx)("b",{className:"text-lg",children:C})]}),(null===S||void 0===S?void 0:S.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Civil status:"})," ",Object(x.jsx)("b",{className:"text-lg",children:S})]}),(null===O||void 0===O?void 0:O.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Place of birth:"})," ",Object(x.jsx)("b",{className:"text-lg",children:O})]}),(null===y||void 0===y?void 0:y.length)>0&&Object(x.jsxs)("div",{className:"mb-2 flex flex-col border-b py-1",children:[Object(x.jsx)("i",{className:"text-gray-400 ",children:"Country of birth:"})," ",Object(x.jsx)("b",{className:"text-lg",children:y})]})]})]})]})]})},p=s(17),v=s(218),_=s(19),O=s(9),y=s(8),N=s(35),f=function(e){var t,s,a,r,l,c,i,n,o,b,h=e.doc,m=e.category,j=e.sub_category,g=e.close,f=e.categories,w=e.sub_categories,k=(e.Delete,e.Update),C=(e.deleting_document_id,Object(d.useState)(!1)),S=Object(p.a)(C,2),D=S[0],P=S[1],H=m,F=j;if(null===m){var T=f.find((function(e){return e.user_detail_category_id===h.category_id}));H=void 0===T?null:T}if(null===j&&void 0!==h.sub_category_id&&h.sub_category_id.length>=1){var E=w.find((function(e){return e.user_detail_subcategory_id===h.sub_category_id}));F=void 0===E?null:E}var A=!1;if(void 0!==h.files&&null!==(null===h||void 0===h?void 0:h.files)&&(null===h||void 0===h||null===(t=h.files)||void 0===t?void 0:t.length)>1){var I=h.files.split("."),z=I[I.length-1];N.c.includes(z)&&(A=!0)}return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(_.d,{widthSizeClass:_.b.extraLarge,backDrop:!0,backDropClose:!1,close:function(){return g()},displayClose:!0,theme:_.c.default,title:Object(x.jsxs)("label",{className:"text-xl m-0 text-bold text-gray-700",children:[null===(s=H)||void 0===s?void 0:s.title," ",null!==F&&" - "+F.title]}),padding:{body:!0,footer:!0,title:!0},children:[void 0!==h.files&&null!==h.files&&(null===h||void 0===h||null===(a=h.files)||void 0===a?void 0:a.length)>1&&Object(x.jsx)(x.Fragment,{children:!0===A?Object(x.jsx)("div",{className:"bg-gray-900 w-full p-1",children:Object(x.jsx)("img",{src:y.a.AUTH_FILES+h.files,alt:"Document file details",className:"w-full rounded"})}):Object(x.jsx)("div",{className:"p-8 bg-gray-700 text-center",children:Object(x.jsx)("a",{className:"p-2 bg-blue-500 text-white rounded",rel:"noreferrer",href:y.a.AUTH_FILES+h.files,target:"_blank",children:"Open document"})})}),Object(x.jsxs)("div",{className:"p-3 ",children:[Object(x.jsxs)("div",{className:"flex",children:[Object(x.jsxs)("div",{className:"flex-1",children:[void 0!==h.validation_status&&(null===h||void 0===h||null===(r=h.files)||void 0===r?void 0:r.length)>=4&&Object(x.jsx)("span",{className:"text-sm bg-yellow-200 py-0.5 px-2 rounded-full text-yellow-800",children:null===h||void 0===h?void 0:h.validation_status}),Object(x.jsxs)("h2",{className:"text-xl mt-1 mb-4 font-bold text-blue-800",children:[Object(x.jsxs)("span",{className:"font-thin text-blue-600",children:[" ",null===(l=H)||void 0===l?void 0:l.title]})," ",null===(c=h.category_subcategory_data)||void 0===c?void 0:c.title,h.title&&" - "+h.title]})]}),Object(x.jsx)("div",{className:"ml-1",children:null===h.school&&null===h.category_subcategory_data&&Object(x.jsxs)("button",{onClick:function(){return k(h)},className:"py-1 rounded px-3 text-sm mb-1 block w-full bg-blue-200 hover:bg-blue-300 text-blue-800",children:[Object(x.jsx)(u.ib,{className:"inline-block"}),"Edit"]})}),Object(x.jsx)("div",{className:"ml-1 ",children:h.validation_status!==O.d.Approved&&Object(x.jsx)(x.Fragment,{})})]}),!0===D?Object(x.jsx)("div",{className:"p-2",children:Object(x.jsx)(v.a,{claim_type:O.h.DOCUMENT_VALIDATION,file_id:h.doc_id,setFormState:function(){return P(!1)}})}):Object(x.jsxs)("div",{className:"",children:[h.description.length>=1&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b pb-3 border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"Description:"}),Object(x.jsx)("span",{className:"",children:h.description})]}),Object(x.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[null!==H&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"Category:"}),Object(x.jsx)("b",{children:H.title})]}),null!==F&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"Sub category:"}),Object(x.jsx)("b",{children:F.title})]}),void 0!==h.company&&h.company.length>=1&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"Company:"}),Object(x.jsx)("b",{children:h.company})]}),void 0!==h.names&&h.names.length>=1&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"Names:"}),Object(x.jsx)("b",{children:h.names})]}),void 0!==h.email&&h.email.length>=1&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"Email:"}),Object(x.jsx)("b",{children:h.email})]}),void 0!==h.phone_number&&h.phone_number.length>=1&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"Phone Number:"}),Object(x.jsx)("b",{children:h.phone_number})]}),void 0!==h.start_year&&h.start_year.length>=1&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"Start Year:"}),Object(x.jsx)("b",{children:h.start_year})]}),void 0!==h.end_year&&h.end_year.length>=1&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"End Year:"}),Object(x.jsx)("b",{children:h.end_year})]}),void 0!==h.year&&h.year.length>=1&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"Year:"}),Object(x.jsx)("b",{children:h.year})]}),void 0!==h.category_subcategory_data&&null!==h.category_subcategory_data&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("b",{children:h.category_subcategory_data.title}),Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:h.category_subcategory_data.description})]}),void 0!==h.school&&null!==h.school&&Object(x.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(x.jsx)("label",{className:"block text-gray-500 text-sm",children:"School"}),Object(x.jsx)("b",{children:h.school.school_name}),(null===(i=h.school.education_category_id)||void 0===i?void 0:i.education_category_title)&&Object(x.jsx)("i",{className:"block",children:null===(n=h.school.education_category_id)||void 0===n?void 0:n.education_category_title}),(null===(o=h.school.district_id)||void 0===o?void 0:o.district_name)&&Object(x.jsxs)("span",{className:"block",children:["District: ",Object(x.jsx)("b",{children:null===(b=h.school.district_id)||void 0===b?void 0:b.district_name})," "]})]})]})]})]})]})})},w=s(338),k=s(337),C=s(47),S=s(42);!function(e){e[e.title=0]="title",e[e.company=1]="company",e[e.description=2]="description",e[e.email=3]="email",e[e.end_year=4]="end_year",e[e.files=5]="files",e[e.names=6]="names",e[e.phone_number=7]="phone_number",e[e.school=8]="school",e[e.start_year=9]="start_year",e[e.sub_category_id=10]="sub_category_id",e[e.main_error=11]="main_error",e[e.main_success=12]="main_success",e[e.none=13]="none",e[e.year=14]="year"}(a||(a={}));var D,P=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).componentDidMount=function(){if(c.props.categories.length<=0||null===c.props.document)c.setState({error:{target:a.none,msg:"The document selected does not have a category"}});else{var e=c.props.categories.find((function(e){return e.user_detail_category_id===c.props.document.category_id}));void 0===e?c.setState({error:{target:a.none,msg:"The document selected does not have a category"}}):c.setState({category:e,title:c.props.document.title,description:c.props.document.description,email:c.props.document.email,end_year:c.props.document.end_year,names:c.props.document.names,phone_number:c.props.document.phone_number,school:"",start_year:c.props.document.start_year,year:c.props.document.year,company:c.props.document.company})}},c.submitHandler=function(e){var t,s;e.preventDefault(),c.setState({error:{target:a.none,msg:""}});var l=Object(r.a)(Object(r.a)({},c.props.document),{},{title:c.state.title,description:c.state.description,email:c.state.email,end_year:c.state.end_year,names:c.state.names,phone_number:c.state.phone_number,start_year:c.state.start_year,year:c.state.year,company:c.state.company}),i=void 0===(null===(t=c.state.category)||void 0===t?void 0:t.fields)?[]:null===(s=c.state.category)||void 0===s?void 0:s.fields.map((function(e){return e.toLowerCase()}));return!0===i.includes("title")&&c.state.title.length<=0?c.setState({error:{target:a.title,msg:"Please add the title"}}):!0===i.includes("description")&&c.state.description.length<=0?c.setState({error:{target:a.description,msg:"Please add the description"}}):!0===i.includes("school")&&c.state.school.length<=0?c.setState({error:{target:a.school,msg:"Please add the school"}}):!0===i.includes("email")&&c.state.email.length<=0?c.setState({error:{target:a.email,msg:"Please add the email"}}):!0===i.includes("names")&&c.state.names.length<=0?c.setState({error:{target:a.names,msg:"Please add the names"}}):!0===i.includes("phone_number")&&c.state.phone_number.length<=0?c.setState({error:{target:a.phone_number,msg:"Please add the phone_number"}}):!0===i.includes("company")&&c.state.company.length<=0?c.setState({error:{target:a.company,msg:"Please add the company"}}):!0===i.includes("year")&&c.state.year.length<=0?c.setState({error:{target:a.year,msg:"Please add the year"}}):!0===i.includes("start_year")&&c.state.start_year.length<=0?c.setState({error:{target:a.start_year,msg:"Please add the start_year"}}):!0===i.includes("end_year")&&c.state.end_year.length<=0?c.setState({error:{target:a.end_year,msg:"Please add the end_year"}}):(c.setState({loading:!0}),void c.props.FC_EditUserDocument(l,c.props.auth.user.user_id,(function(e,t){!0===e?c.setState({loading:!1,success:!0}):c.setState({loading:!1,error:{target:a.main_error,msg:t}})})))},c.inputChangeHandler=function(e){c.setState(Object(r.a)(Object(r.a)({},c.state),{},Object(C.a)({error:{target:a.none,msg:""}},e.currentTarget.name,e.target.value)))},c.state={loading:!1,success:!1,category:null,error:{target:a.none,msg:""},document:c.props.document,title:"",description:"",email:"",end_year:"",names:"",phone_number:"",school:"",start_year:"",year:"",company:""},c}return Object(c.a)(s,[{key:"render",value:function(){var e,t,s,r,l,c,i,n,o,b,h,u,m,j,g,p,v,O,y,N,f,w,k,C,D,P,H,F,T,E,A,I,z,R,Y,L,U,V,B=this,M=void 0===(null===(e=this.state.category)||void 0===e?void 0:e.fields)?[]:null===(t=this.state.category)||void 0===t?void 0:t.fields.map((function(e){return e.toLowerCase()}));return Object(x.jsx)(d.Fragment,{children:Object(x.jsx)(_.d,{widthSizeClass:_.b.medium,backDrop:!0,backDropClose:!1,close:function(){return B.props.close()},displayClose:!0,theme:_.c.default,title:Object(x.jsx)("label",{className:"text-xl m-0 text-bold text-gray-700",children:"Update document"}),padding:{body:!0,footer:!0,title:!0},children:Object(x.jsxs)("div",{className:"p-2",children:[this.state.error.target===a.main_error&&Object(x.jsx)(S.b,{theme:S.a.danger,title:this.state.error.msg}),this.state.error.target===a.main_success&&Object(x.jsx)(S.b,{theme:S.a.success,title:this.state.error.msg}),!0===this.state.success&&Object(x.jsx)(S.b,{theme:S.a.success,title:"Details updated successfully"}),Object(x.jsx)("div",{className:"mt-1",children:Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"title",className:"d-block",children:"Category"}),Object(x.jsx)("div",{className:"input-white w-20 inline-block border-gray-300 border-2 font-bold bg-blue-200",children:null===(s=this.state.category)||void 0===s?void 0:s.title})]})}),Object(x.jsx)("form",{onSubmit:this.submitHandler,children:Object(x.jsxs)("div",{className:"bg-white",children:[!0===M.includes("category_subcategory_data")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"title",className:"d-block",children:"Title"}),Object(x.jsx)("input",{value:null===(r=this.props.document.category_subcategory_data)||void 0===r?void 0:r.title,type:"text",name:"title",className:"input-white w-20 inline-block  ".concat((null===(l=this.state.error)||void 0===l?void 0:l.target)===a.title?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Enter the title",disabled:!0,readOnly:!0}),(null===(c=this.state.error)||void 0===c?void 0:c.target)===a.title&&Object(x.jsx)("span",{className:"text-red-600",children:null===(i=this.state.error)||void 0===i?void 0:i.msg})]}),!0===M.includes("school")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"title",className:"d-block",children:"Title"}),Object(x.jsx)("input",{value:null===(n=this.props.document.school)||void 0===n?void 0:n.school_name,type:"text",name:"title",className:"input-white w-20 inline-block  ".concat((null===(o=this.state.error)||void 0===o?void 0:o.target)===a.title?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Enter the title",disabled:!0,readOnly:!0}),(null===(b=this.state.error)||void 0===b?void 0:b.target)===a.title&&Object(x.jsx)("span",{className:"text-red-600",children:null===(h=this.state.error)||void 0===h?void 0:h.msg})]}),!0===M.includes("title")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"title",className:"d-block",children:"Title"}),Object(x.jsx)("input",{value:this.state.title,type:"text",name:"title",onChange:this.inputChangeHandler,className:"input-white w-20 inline-block  ".concat((null===(u=this.state.error)||void 0===u?void 0:u.target)===a.title?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Enter the title",disabled:this.state.loading}),(null===(m=this.state.error)||void 0===m?void 0:m.target)===a.title&&Object(x.jsx)("span",{className:"text-red-600",children:null===(j=this.state.error)||void 0===j?void 0:j.msg})]}),!0===M.includes("description")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"description",className:"d-block",children:"Description"}),Object(x.jsx)("input",{value:this.state.description,type:"text",name:"description",onChange:this.inputChangeHandler,className:"input-white w-20 inline-block  ".concat((null===(g=this.state.error)||void 0===g?void 0:g.target)===a.description?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Enter the description",disabled:this.state.loading}),(null===(p=this.state.error)||void 0===p?void 0:p.target)===a.description&&Object(x.jsx)("span",{className:"text-red-600",children:null===(v=this.state.error)||void 0===v?void 0:v.msg})]}),!0===M.includes("email")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"email",className:"d-block",children:"Email"}),Object(x.jsx)("input",{value:this.state.email,type:"text",name:"email",onChange:this.inputChangeHandler,className:"input-white w-20 inline-block  ".concat((null===(O=this.state.error)||void 0===O?void 0:O.target)===a.email?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Your email",disabled:this.state.loading}),(null===(y=this.state.error)||void 0===y?void 0:y.target)===a.email&&Object(x.jsx)("span",{className:"text-red-600",children:null===(N=this.state.error)||void 0===N?void 0:N.msg})]}),!0===M.includes("names")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"names",className:"d-block",children:"Names"}),Object(x.jsx)("input",{value:this.state.names,type:"text",name:"names",onChange:this.inputChangeHandler,className:"input-white w-20 inline-block  ".concat((null===(f=this.state.error)||void 0===f?void 0:f.target)===a.names?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Your names",disabled:this.state.loading}),(null===(w=this.state.error)||void 0===w?void 0:w.target)===a.names&&Object(x.jsx)("span",{className:"text-red-600",children:null===(k=this.state.error)||void 0===k?void 0:k.msg})]}),!0===M.includes("phone_number")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"phone_number",className:"d-block",children:"Phone number"}),Object(x.jsx)("input",{value:this.state.phone_number,type:"text",name:"phone_number",onChange:this.inputChangeHandler,className:"input-white w-20 inline-block  ".concat((null===(C=this.state.error)||void 0===C?void 0:C.target)===a.phone_number?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Your phone_number",disabled:this.state.loading}),(null===(D=this.state.error)||void 0===D?void 0:D.target)===a.phone_number&&Object(x.jsx)("span",{className:"text-red-600",children:null===(P=this.state.error)||void 0===P?void 0:P.msg})]}),!0===M.includes("company")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"company",className:"d-block",children:"Company"}),Object(x.jsx)("input",{value:this.state.company,type:"text",name:"company",onChange:this.inputChangeHandler,className:"input-white w-20 inline-block  ".concat((null===(H=this.state.error)||void 0===H?void 0:H.target)===a.company?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Company name",disabled:this.state.loading}),(null===(F=this.state.error)||void 0===F?void 0:F.target)===a.company&&Object(x.jsx)("span",{className:"text-red-600",children:null===(T=this.state.error)||void 0===T?void 0:T.msg})]}),!0===M.includes("year")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"year",className:"d-block",children:"Year"}),Object(x.jsx)("input",{value:this.state.year,type:"date",name:"year",onChange:this.inputChangeHandler,className:"input-white w-20 inline-block  ".concat((null===(E=this.state.error)||void 0===E?void 0:E.target)===a.year?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"year",disabled:this.state.loading}),(null===(A=this.state.error)||void 0===A?void 0:A.target)===a.year&&Object(x.jsx)("span",{className:"text-red-600",children:null===(I=this.state.error)||void 0===I?void 0:I.msg})]}),!0===M.includes("start_year")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"start_year",className:"d-block",children:"Start year"}),Object(x.jsx)("input",{value:this.state.start_year,type:"date",name:"start_year",onChange:this.inputChangeHandler,className:"input-white w-20 inline-block  ".concat((null===(z=this.state.error)||void 0===z?void 0:z.target)===a.start_year?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"start_year",disabled:this.state.loading}),(null===(R=this.state.error)||void 0===R?void 0:R.target)===a.start_year&&Object(x.jsx)("span",{className:"text-red-600",children:null===(Y=this.state.error)||void 0===Y?void 0:Y.msg})]}),!0===M.includes("end_year")&&Object(x.jsxs)("div",{className:"p-2",children:[Object(x.jsx)("label",{htmlFor:"end_year",className:"d-block",children:"End year"}),Object(x.jsx)("input",{value:this.state.end_year,type:"date",name:"end_year",onChange:this.inputChangeHandler,className:"input-white w-20 inline-block  ".concat((null===(L=this.state.error)||void 0===L?void 0:L.target)===a.end_year?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"end_year",disabled:this.state.loading}),(null===(U=this.state.error)||void 0===U?void 0:U.target)===a.end_year&&Object(x.jsx)("span",{className:"text-red-600",children:null===(V=this.state.error)||void 0===V?void 0:V.msg})]}),Object(x.jsx)("div",{className:"p-2  text-right",children:Object(x.jsx)("button",{className:"py-2 font-bold  px-8 rounded bg-hero text-white inline-block",disabled:this.state.loading,type:"submit",children:!0===this.state.loading?"Loading...":"Update document"})})]})})]})})})}}]),s}(o.a.Component),H=Object(b.b)((function(e){return{auth:e.auth}}),{FC_EditUserDocument:h.K})(P),F=s(130),T=s(55);!function(e){e[e.old_password=0]="old_password",e[e.new_password=1]="new_password",e[e.re_new_password=2]="re_new_password",e[e.main__error=3]="main__error",e[e.main_success=4]="main_success",e[e.none=5]="none"}(D||(D={}));var E=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).handleChange=function(e){var t;"new_password"===e.currentTarget.name?a.setState(Object(r.a)(Object(r.a)({},a.state),{},(t={error:{target:D.none,msg:""}},Object(C.a)(t,e.currentTarget.name,e.target.value),Object(C.a)(t,"password_validation",{uppercase:Object(T.d)(e.target.value),lowercase:Object(T.a)(e.target.value),special:Object(T.c)(e.target.value),number:Object(T.b)(e.target.value),length:e.target.value.length>=N.e&&e.target.value.length<N.d}),t))):a.setState(Object(r.a)(Object(r.a)({},a.state),{},Object(C.a)({error:{target:D.none,msg:""}},e.currentTarget.name,e.target.value)))},a.updateAccountHandler=function(e){return e.preventDefault(),a.state.old_password.length<=4?a.setState({error:{target:D.old_password,msg:"Please enter the current password"}}):a.state.password_validation.uppercase&&a.state.password_validation.lowercase&&a.state.password_validation.number&&a.state.password_validation.special&&a.state.password_validation.length?a.state.new_password!==a.state.re_new_password?a.setState({error:{target:D.re_new_password,msg:"Does not match to the new password"}}):(a.setState({loading:!0,error:{target:D.none,msg:""}}),void a.props.FC_ChangePassword({new_password:a.state.new_password,old_password:a.state.old_password,user_id:a.props.auth.user.user_id},(function(e,t){!0===e?a.setState({loading:!1,old_password:"",new_password:"",re_new_password:"",error:{target:D.main_success,msg:"Your password has been updated successfully"}}):a.setState({loading:!1,error:{target:D.main__error,msg:t}})}))):a.setState({error:{target:D.new_password,msg:"Password must pass the validation test"}})},a.state={loading:!1,error:{target:D.none,msg:""},old_password:"",new_password:"",re_new_password:"",password_validation:{uppercase:!1,lowercase:!1,number:!1,length:!1,special:!1}},a}return Object(c.a)(s,[{key:"render",value:function(){var e,t,s,a,r,l,c,i,n,d=this,o=this.state.password_validation.uppercase&&this.state.password_validation.lowercase&&this.state.password_validation.number&&this.state.password_validation.special&&this.state.password_validation.length?null:Object(x.jsxs)("div",{className:"px-2 mb-2 bg-white rounded shadow-lg mx-2 p-2 -mt-2",children:[Object(x.jsxs)("div",{className:"p-1 border-gray-200 border rounded-full flex",children:[this.state.password_validation.lowercase&&Object(x.jsx)("div",{className:"bg-blue-500 pt-1 rounded-l-full inline-block- w-1/6"}),this.state.password_validation.uppercase&&Object(x.jsx)("div",{className:"bg-blue-500 pt-1  inline-block- w-1/6"}),this.state.password_validation.number&&Object(x.jsx)("div",{className:"bg-blue-500 pt-1  inline-block- w-1/6"}),this.state.password_validation.length&&Object(x.jsx)("div",{className:"bg-blue-500 pt-1  inline-block- w-1/6"}),this.state.password_validation.special&&Object(x.jsx)("div",{className:"bg-blue-500 pt-1 rounded-r-full inline-block- w-2/6"})]}),Object(x.jsx)("h5",{children:"Password must:"}),Object(x.jsxs)("div",{className:"pt-1 text-sm",children:[Object(x.jsxs)("div",{className:"".concat(this.state.password_validation.lowercase?"text-green-600 font-bold":"text-gray-500"),children:[this.state.password_validation.lowercase?Object(x.jsx)(u.w,{className:"inline-block"}):Object(x.jsx)(u.Db,{className:"inline-block"})," ",Object(x.jsx)("span",{children:"Include a lowercase character"})]}),Object(x.jsxs)("div",{className:"".concat(this.state.password_validation.uppercase?"text-green-600 font-bold":"text-gray-500"),children:[this.state.password_validation.uppercase?Object(x.jsx)(u.w,{className:"inline-block"}):Object(x.jsx)(u.Db,{className:"inline-block"})," ",Object(x.jsx)("span",{children:"Include an uppercase character"})]}),Object(x.jsxs)("div",{className:"".concat(this.state.password_validation.number?"text-green-600 font-bold":"text-gray-500"),children:[this.state.password_validation.number?Object(x.jsx)(u.w,{className:"inline-block"}):Object(x.jsx)(u.Db,{className:"inline-block"})," ",Object(x.jsx)("span",{children:"Include a Number"})]}),Object(x.jsxs)("div",{className:"".concat(this.state.password_validation.length?"text-green-600 font-bold":"text-gray-500"),children:[this.state.password_validation.length?Object(x.jsx)(u.w,{className:"inline-block"}):Object(x.jsx)(u.Db,{className:"inline-block"})," ",Object(x.jsxs)("span",{children:["Between ",N.e," and ",N.d," character"]})]}),Object(x.jsxs)("div",{className:"".concat(this.state.password_validation.special?"text-green-600 font-bold":"text-gray-500"),children:[this.state.password_validation.special?Object(x.jsx)(u.w,{className:"inline-block"}):Object(x.jsx)(u.Db,{className:"inline-block"})," ",Object(x.jsx)("span",{children:"A special character"})]})]})]});return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(_.d,{widthSizeClass:_.b.medium,backDrop:!0,backDropClose:!1,close:function(){return d.props.close()},displayClose:!0,theme:_.c.default,title:Object(x.jsx)("label",{className:"text-xl m-0 text-bold text-gray-700",children:"Change password"}),padding:{body:!0,footer:!0,title:!0},children:Object(x.jsx)("div",{className:"bg-white rounded-b-md",children:Object(x.jsxs)("form",{onSubmit:this.updateAccountHandler,children:[this.state.error.target===D.main_success&&Object(x.jsx)("div",{className:"p-2 m-2 text-center rounded-md bg-green-200 text-green-700 animate__zoomIn animate__animated",children:this.state.error.msg}),this.state.error.target===D.main__error&&Object(x.jsx)("div",{className:"p-2 m-2 text-center rounded-md bg-red-200 text-red-700 animate__zoomIn animate__animated",children:this.state.error.msg}),Object(x.jsx)("div",{className:"mt-2",children:Object(x.jsxs)("div",{className:"p-2 ",children:[Object(x.jsx)("label",{htmlFor:"title",className:"d-block",children:"Current password"}),Object(x.jsx)("input",{type:"password",name:"old_password",value:this.state.old_password,className:"font-bold input-white w-20 inline-block  ".concat((null===(e=this.state.error)||void 0===e?void 0:e.target)===D.old_password?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Current password",onChange:this.handleChange,disabled:this.state.loading,required:!0}),(null===(t=this.state.error)||void 0===t?void 0:t.target)===D.old_password&&Object(x.jsx)("span",{className:"text-red-600",children:null===(s=this.state.error)||void 0===s?void 0:s.msg})]})}),Object(x.jsx)("div",{className:"mt-3",children:Object(x.jsxs)("div",{className:"p-2 ",children:[Object(x.jsx)("label",{htmlFor:"title",className:"d-block",title:"Re-enter the new password",children:"New Password"}),Object(x.jsx)("input",{type:"password",name:"new_password",value:this.state.new_password,className:"font-bold input-white w-20 inline-block  ".concat((null===(a=this.state.error)||void 0===a?void 0:a.target)===D.new_password?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"New password",onChange:this.handleChange,disabled:this.state.loading,required:!0}),(null===(r=this.state.error)||void 0===r?void 0:r.target)===D.new_password&&Object(x.jsx)("span",{className:"text-red-600",children:null===(l=this.state.error)||void 0===l?void 0:l.msg})]})}),o,Object(x.jsx)("div",{className:"mt-2",children:Object(x.jsxs)("div",{className:"p-2 ",children:[Object(x.jsx)("label",{htmlFor:"title",className:"d-block",title:"Re-enter the new password",children:"Re-Password"}),Object(x.jsx)("input",{type:"password",name:"re_new_password",value:this.state.re_new_password,className:"font-bold input-white w-20 inline-block  ".concat((null===(c=this.state.error)||void 0===c?void 0:c.target)===D.re_new_password?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Re-New password",onChange:this.handleChange,disabled:this.state.loading,required:!0}),(null===(i=this.state.error)||void 0===i?void 0:i.target)===D.re_new_password&&Object(x.jsx)("span",{className:"text-red-600",children:null===(n=this.state.error)||void 0===n?void 0:n.msg})]})}),Object(x.jsx)("div",{className:"p-2",children:Object(x.jsx)("button",{className:"py-2 font-bold  px-8 rounded bg-hero text-white inline-block",disabled:this.state.loading,type:"submit",children:!0===this.state.loading?Object(x.jsx)("b",{className:"animate__animated animate__fadeIn animate__infinite",children:"Changing password..."}):"Change password"})})]})})})})}}]),s}(o.a.Component),A=Object(b.b)((function(e){return{auth:e.auth}}),{FC_ChangePassword:F.c})(E),I=function(e){var t=e.documents,s=e.selected_category,a=e.selected_sub_category,r=e.selectDoc,l=(e.addNewDoc,e.categories),c=e.sub_categories,i=(e.Delete,e.deleting_document_id),n=[];return null===s?n=t:null===a?n=t.filter((function(e){return e.category_id===(null===s||void 0===s?void 0:s.user_detail_category_id)})):null!==a&&(n=t.filter((function(e){return e.category_id===s.user_detail_category_id&&e.sub_category_id===a.user_detail_subcategory_id}))),Object(x.jsxs)("div",{className:"",children:[Object(x.jsxs)("div",{className:"p-2 border-b border-gray-200 rounded-md flex bg-white justify-between items-center",children:[Object(x.jsxs)("section",{children:[Object(x.jsx)("h1",{className:"".concat(null===a?"text-2xl":"text-xl","  m-0  text-blue-800"),children:null===s?"All details":Object(x.jsxs)(d.Fragment,{children:[null===s||void 0===s?void 0:s.title," ",null!==a&&Object(x.jsxs)("b",{className:"block -mt-1",children:[" ",a.title]})]})}),Object(x.jsx)("p",{className:"m-0 text-sm text-gray-400",children:null===a?null===s||void 0===s?void 0:s.description:a.description})]}),Object(x.jsxs)("button",{className:"px-3 py-1 bg-gray-100 rounded hover:bg-gray-200 text-gray-500 cursor-not-allowed",children:[Object(x.jsx)(u.ob,{className:"text-3xl mx-auto block"}),Object(x.jsx)("span",{className:"text-sm",children:"Add new"})]})]}),Object(x.jsx)("div",{className:"p-2 ",children:n.length<=0?Object(x.jsxs)("div",{className:"p-4 text-center  text-gray-500",children:[Object(x.jsx)(u.q,{className:"text-7xl mx-auto my-2"}),Object(x.jsx)("h2",{className:"text-2xl mb-2",children:"No data found on"}),Object(x.jsxs)("h1",{className:"text-xl mb-2 text-blue-900",children:[null===s?"Any category":null===s||void 0===s?void 0:s.title," ",null!==a&&Object(x.jsxs)("b",{className:"block",children:[" ",null===a||void 0===a?void 0:a.title," "]})]}),Object(x.jsxs)("p",{children:["Please click on ",Object(x.jsx)("b",{children:"Add new"})," and improve your CV"]})]}):n.map((function(e,t){var s,a,n,d=l.find((function(t){return t.user_detail_category_id===e.category_id})),o=c.find((function(t){return t.user_detail_subcategory_id===e.sub_category_id})),b="",h="";return e.validation_status===O.d.Approved?(b="white",h="green-500 "):e.validation_status===O.d.Waiting?(b="white",h="blue-500 "):e.validation_status===O.d.Rejected&&(b="red-100",h="red-500 "),Object(x.jsxs)("div",{className:"flex px-0.5 py-2 cursor-pointer mb-2 rounded shadow-sm-- hover:shadow border hover:bg-blue-100  border-".concat(h,"-100  items-center bg-").concat(b),children:[Object(x.jsxs)("div",{className:"flex-1 pl-2",onClick:function(){return r(e)},children:[Object(x.jsx)("span",{className:"text-sm block text-gray-600",children:null===d||void 0===d?void 0:d.title}),Object(x.jsxs)("div",{className:"  text-lg m-0  text-gray-900",children:[Object(x.jsxs)("h3",{className:"font-bold inline-block",children:[null===o||void 0===o?void 0:o.title,e.title&&" - "+e.title]}),Object(x.jsx)("h3",{className:"inline-block ml-2",children:null===(s=e.category_subcategory_data)||void 0===s?void 0:s.title})]}),void 0!==e.validation_status&&(null===e||void 0===e||null===(a=e.files)||void 0===a?void 0:a.length)>=4&&Object(x.jsx)("span",{className:"text-sm  bg-".concat(h,"-500 py-0.5 px-2 rounded-full text-white"),children:null===e||void 0===e?void 0:e.validation_status})]}),Object(x.jsx)("div",{className:" mx-2",onClick:function(){return r(e)},children:void 0!==e.files&&(null===(n=e.files)||void 0===n?void 0:n.length)>=4&&Object(x.jsx)("button",{className:"p-2",title:"This item has a file",children:Object(x.jsx)(u.k,{className:"text-4xl text-".concat(h,"-400")})})}),e.validation_status!==O.d.Approved&&Object(x.jsx)("div",{className:"px-3",children:Object(x.jsx)("button",{className:"text-4xl text-gray-400",disabled:i===e.doc_id,children:i===e.doc_id?Object(x.jsx)("b",{className:"animate__animated animate__fadeIn animate__infinite text-sm",children:"Deleting..."}):Object(x.jsx)(u.G,{})})})]},t)}))})]})},z=s(682),R=function(e){var t=e.user,s=e.documentTypes,a=e.documents,r=s.categories,l=s.sub_categories;return a.length<=0?Object(x.jsxs)("div",{className:"p-4 text-center",children:[Object(x.jsx)("h1",{className:"text-3xl font-bold text-gray-500",children:"You have no data to generate the CV"}),Object(x.jsx)("h3",{children:"Please complete the details in order to get your profile"})]}):Object(x.jsx)("div",{children:Object(x.jsxs)("div",{id:"content",className:"p-3 border",style:{width:"2480"},children:[Object(x.jsx)("div",{className:"py-1"}),Object(x.jsx)("div",{className:" ",children:Object(x.jsxs)("div",{className:"flex",children:[Object(x.jsx)("div",{className:"",children:Object(x.jsx)("img",{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",alt:"Profile details",className:"w-28"})}),Object(x.jsxs)("div",{className:"flex-1 pl-3",children:[Object(x.jsxs)("h1",{className:"text-3xl font-bold",children:[t.fname," ",t.lname]}),Object(x.jsxs)("section",{className:"border-t my-1",children:[Object(x.jsx)("span",{className:"text-gray-500 inlinr-block mr-2",children:"Sex:"}),Object(x.jsx)("b",{children:t.sex})]}),Object(x.jsxs)("section",{className:"border-t my-1",children:[Object(x.jsx)("span",{className:"text-gray-500 inlinr-block mr-2",children:"Email:"}),Object(x.jsx)("b",{children:t.email})]}),Object(x.jsxs)("section",{className:"border-t my-1",children:[Object(x.jsx)("span",{className:"text-gray-500 inlinr-block mr-2",children:"Phone:"}),Object(x.jsx)("b",{children:t.phone_number})]})]})]})}),Object(x.jsxs)("div",{className:"mt-2 border-t grid grid-flow-col gap-4",children:[Object(x.jsxs)("div",{className:"",children:[Object(x.jsx)("h1",{className:"p-1 mb-1 bg-gray-600 text-center text-lg font-bold text-white",children:"Education"}),l.filter((function(e){return e.category_id===N.b})).map((function(e){var t=a.filter((function(t){return t.sub_category_id===e.user_detail_subcategory_id}));return t.length<=0?null:Object(x.jsxs)("div",{className:"border p-2 rounded mb-2",children:[Object(x.jsx)("h1",{className:"text-xl text-blue-500 font-bold",children:e.title}),Object(x.jsx)("div",{className:"mt-1",children:t.map((function(e){var t;return Object(x.jsxs)("div",{className:"p-1 border-t",children:[Object(x.jsx)("b",{children:e.category_subcategory_data?e.category_subcategory_data.title:"Document"}),Object(x.jsx)("p",{children:null===(t=e.school)||void 0===t?void 0:t.school_name})]},e.doc_id)}))})]},e.user_detail_subcategory_id)}))]}),Object(x.jsx)("div",{className:"",children:r.filter((function(e){return e.user_detail_category_id!==N.b})).map((function(e){var t=l.filter((function(t){return t.category_id===e.user_detail_category_id}));return t.length<=0?null:Object(x.jsxs)("section",{children:[Object(x.jsx)("h1",{className:"p-1 mb-1 bg-gray-600 text-center text-xl font-bold text-white",children:e.title}),t.map((function(e){var t=a.filter((function(t){return t.sub_category_id===e.user_detail_subcategory_id}));return t.length<=0?null:Object(x.jsxs)("div",{className:"border p-2 rounded mb-2",children:[Object(x.jsx)("h1",{className:"text-xl text-blue-500 font-bold",children:e.title}),Object(x.jsx)("div",{className:"mt-1",children:t.map((function(t){var s;return Object(x.jsxs)("div",{className:"p-1 border-t",children:[t.title.length>=2&&Object(x.jsxs)("b",{children:[t.title," "]}),"-"," ",Object(x.jsx)("b",{children:e.title})," -"," ",Object(x.jsx)("b",{children:t.category_subcategory_data?t.category_subcategory_data.title:"Document"}),Object(x.jsx)("p",{children:null===(s=t.school)||void 0===s?void 0:s.school_name})]},t.doc_id)}))})]},e.user_detail_subcategory_id)}))]},e.user_detail_category_id)}))})]})]})})},Y=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).CvRef=void 0,a.componentDidMount=function(){a.setState({loading:!0}),a.props.FC_GetProfileDetails(a.props.auth.user.user_id,(function(e,t){!0===e?a.setState({loading:!1}):a.setState({loading:!1,error:{msg:t,target:"all"}})}))},a.categoryHandler=function(e){return a.setState({selected_category:e,selected_sub_category:null})},a.subCategoryHandler=function(e){return a.setState({selected_sub_category:e})},a.selectDocHandler=function(e){a.setState({selected_doc:e})},a.editDocHandler=function(e){a.setState({edit_doc:e})},a.addNewDocHandler=function(){return a.setState((function(e){return{create_new_doc:!e.create_new_doc}}))},a.deleteDocHandler=function(e){!0===window.confirm("Are you sure you want to delete?")&&(a.setState({deleting_document_id:e}),a.props.FC_DeleteDocument({doc_id:e,user_id:a.props.auth.user.user_id},(function(e,t){!0===e?a.setState({error:{target:"success-msg",msg:"Document deleted successfully"},deleting_document_id:""}):a.setState({error:{target:"failed-msg",msg:t},deleting_document_id:""}),setTimeout((function(){a.setState({error:{target:"",msg:""}})}),3e3)})))},a.updateDocHandler=function(e){console.log({update_doc:e}),a.setState({edit_doc:e,selected_doc:null})},a.changePasswordHadler=function(){return a.setState((function(e){return{changePassword:!e.changePassword}}))},a.updateProfileHandler=function(){return a.setState((function(e){return{updateProfile:!e.updateProfile}}))},a.sideNavHandler=function(){return a.setState((function(e){return{side_nav:!e.side_nav}}))},a.openCB_Toogle=function(){return a.setState((function(e){return{printCV:!e.printCV}}))},a.CvRef=o.a.createRef(),a.state={loading:!1,selected_category:null,selected_sub_category:null,selected_doc:null,edit_doc:null,create_new_doc:!1,error:{target:"",msg:""},updateProfile:!1,changePassword:!1,side_nav:!1,printCV:!1,deleting_document_id:""},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=this.props.auth,s=t.user,a=t.document_types,l=a.categories,c=a.sub_categories,i=t.documents,n=l.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{count:i.filter((function(t){return t.category_id===e.user_detail_category_id})).length})}));return!0===this.state.loading?Object(x.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading profile..."}):Object(x.jsxs)(d.Fragment,{children:["success-msg"===this.state.error.target&&Object(x.jsx)("div",{className:"fixed top-0 right-0 left-0 z-50 ",children:Object(x.jsx)(S.b,{theme:S.a.success,title:this.state.error.msg})}),"failed-msg"===this.state.error.target&&Object(x.jsx)("div",{className:"fixed top-0 right-0 left-0 z-50 ",children:Object(x.jsx)(S.b,{theme:S.a.danger,title:this.state.error.msg})}),!0===this.state.printCV&&Object(x.jsx)(_.d,{widthSizeClass:_.b.extraLarge,backDrop:!0,backDropClose:!0,close:function(){return e.openCB_Toogle()},displayClose:!0,theme:_.c.default,title:Object(x.jsxs)("label",{className:"text-xl m-0 text-bold text-gray-700",children:["Your CV"," "]}),padding:{body:!0,footer:!0,title:!0},children:Object(x.jsx)(R,{user:this.props.auth.user,documentTypes:this.props.auth.document_types,documents:this.props.auth.documents})}),Object(x.jsxs)(z.b,{children:[Object(x.jsx)("section",{onClick:function(){return e.categoryHandler(null)},className:"mt-4",children:Object(x.jsx)(z.a,{title:"Profile",count:0,active:null===this.state.selected_category})}),Object(x.jsx)("div",{className:"pt-1",children:n.map((function(t,s){var a;return Object(x.jsx)(d.Fragment,{children:Object(x.jsx)("section",{onClick:function(){return e.categoryHandler(t)},title:t.description,children:Object(x.jsx)(z.a,{title:t.title,count:t.count,active:(null===(a=e.state.selected_category)||void 0===a?void 0:a.user_detail_category_id)===t.user_detail_category_id})})},t.title)}))}),Object(x.jsxs)("button",{onClick:this.openCB_Toogle,className:"btn bg-blue-200 text-blue-600 text-center mt-2 w-full",children:[Object(x.jsx)(u.h,{className:"inline-block mr-1"})," Profile Summary"]})]}),!0===this.state.create_new_doc&&Object(x.jsx)(w.a,{close:this.addNewDocHandler,category:this.state.selected_category,sub_category:null}),null!==this.state.edit_doc&&Object(x.jsx)(H,{categories:this.props.auth.document_types.categories,document:this.state.edit_doc,close:function(){return e.setState({edit_doc:null})}}),null!==this.state.selected_doc&&Object(x.jsx)(d.Fragment,{children:Object(x.jsx)(f,{category:this.state.selected_category,sub_category:this.state.selected_sub_category,doc:this.state.selected_doc,categories:l,sub_categories:c,close:function(){return e.selectDocHandler(null)},Update:this.updateDocHandler,Delete:this.deleteDocHandler,deleting_document_id:this.state.deleting_document_id})}),!0===this.state.updateProfile&&Object(x.jsx)(k.a,{close:this.updateProfileHandler,residenceOnly:!1}),!0===this.state.changePassword&&Object(x.jsx)(A,{close:this.changePasswordHadler}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)("div",{className:"mt-3  pt-2",children:Object(x.jsx)("div",{className:"shadow rounded bg-white bg-opacity-50",children:null===this.state.selected_category?Object(x.jsx)(g,{user:s,access_name:this.props.auth.user_access.role,district_name:this.props.auth.user_access.district_name,school_name:this.props.auth.user_access.school_name,changePassword:this.changePasswordHadler,editProfile:this.updateProfileHandler}):Object(x.jsx)(I,{documents:i,selected_category:this.state.selected_category,selected_sub_category:this.state.selected_sub_category,selectDoc:this.selectDocHandler,addNewDoc:this.addNewDocHandler,categories:l,sub_categories:c,Delete:this.deleteDocHandler,deleting_document_id:this.state.deleting_document_id})})})})]})}}]),s}(o.a.PureComponent),L=Object(b.b)((function(e){return{auth:e.auth}}),{FC_GetProfileDetails:h.Y,FC_DeleteDocument:h.J})(Y)},682:function(e,t,s){"use strict";s.d(t,"b",(function(){return m})),s.d(t,"a",(function(){return j}));var a=s(25),r=s(24),l=s(27),c=s(26),i=s(4),n=s.n(i),d=s(23),o=s(3),b=s(12),h=s(1),u=function(e){Object(l.a)(s,e);var t=Object(c.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).componentDidMount=function(){return r.props.PageHasSubNav(!0)},r.componentWillUnmount=function(){return r.props.PageHasSubNav(!1)},r.state={loading:!1},r}return Object(r.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(h.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(n.a.Component),m=Object(d.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:o.Sb,PageHasSubNav:o.Tb})(u),j=function(e){var t=e.title,s=void 0===t?"":t,a=e.icon,r=void 0===a?b.o:a,l=e.active,c=void 0!==l&&l,i=e.count,n=void 0===i?0:i,d=r;return Object(h.jsxs)("section",{className:"".concat(!0===c?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(h.jsxs)("section",{className:"flex-1",children:[Object(h.jsx)(d,{className:"inline-block mr-1 text-xs"}),Object(h.jsx)("span",{children:s})]}),n>0?Object(h.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:n}):null]})}},811:function(e,t,s){"use strict";t.a=s.p+"static/media/profile.a9136072.png"}}]);
//# sourceMappingURL=45.8d857e26.chunk.js.map