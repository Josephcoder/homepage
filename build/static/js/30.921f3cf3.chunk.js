(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[30],{1336:function(e,t,s){"use strict";s.r(t),s.d(t,"ignoreThisApplicationStatus",(function(){return Y})),s.d(t,"reportContentKeyInterface",(function(){return U})),s.d(t,"Applications",(function(){return J}));var i,n=s(5),a=s.n(n),l=s(7),c=s(25),o=s(24),r=s(27),d=s(26),p=s(10),u=s.n(p),b=s(4),x=s.n(b),h=s(71),j=s(206),f=s(67),m=s(12),g=s(23),v=s(50),O=s(3),y=s(203),N=s(685),_=s(693),S=s(33),w=s(682),P=s(31),A=s(21),C=s(32),k=s(8),D=s(14),T=s(28),E=s(77),I=s(51),L=s(39),F=s(93),G=s(19),R=s(694),M=s(49),z=s(213),B=s(1);!function(e){e.profile="profile",e.position="position"}(i||(i={}));var U,H=function(e){Object(r.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).tabStatusClass=function(e){return!0===e?"col-span-6 bg-white py-2 px-3 cursor-pointer text-lg bg-blue-600 text-white rounded-md font-bold flex flex-row items-center justify-start bg-blue-50 gap-3 animate__animated animate__fadeIn":"col-span-6 bg-white bg-blue-50 hover:bg-blue-100 py-2 px-3 cursor-pointer text-lg border-b-4 border-blue-200 text-gray-600 hover:text-blue-700 flex flex-row items-center justify-start gap-3"},n.state={loading:!1,tab:i.profile},n}return Object(o.a)(s,[{key:"render",value:function(){var e,t,s=this,n=this.props.positions.find((function(e){return e.position_id===s.props.selectedApplication.position}));return Object(B.jsxs)("div",{className:"px-2 py-2 border-t",children:[Object(B.jsxs)("div",{className:"rounded grid md:grid-cols-12",children:[Object(B.jsxs)("div",{onClick:function(){return s.setState({tab:i.profile})},className:"".concat(this.state.tab===i.profile?this.tabStatusClass(!0):this.tabStatusClass(!1)),children:[Object(B.jsx)(M.n,{className:"text-3xl"}),"Application details"]}),Object(B.jsxs)("div",{onClick:function(){return s.setState({tab:i.position})},className:"".concat(this.state.tab===i.position?this.tabStatusClass(!0):this.tabStatusClass(!1)),children:[Object(B.jsx)(M.p,{className:"text-3xl"}),"Position details"]})]}),Object(B.jsx)("div",{className:"border rounded px-4 py-4 mt-3",children:this.state.tab===i.profile?Object(B.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(B.jsxs)("div",{className:"col-span-6",children:[Object(B.jsx)("div",{className:"text-2xl font-bold mb-6",children:"General information"}),Object(B.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(B.jsx)("span",{className:"text-gray-500",children:"First name: "}),Object(B.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.fname})]}),Object(B.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(B.jsx)("span",{className:"text-gray-500",children:"Last name: "}),Object(B.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.lname})]}),Object(B.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(B.jsx)("span",{className:"text-gray-500",children:"National ID: "}),Object(B.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.n_id})]}),Object(B.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(B.jsx)("span",{className:"text-gray-500",children:"Gender: "}),Object(B.jsx)("span",{className:"font-bold",children:"M"})]}),Object(B.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(B.jsx)("span",{className:"text-gray-500",children:"Phone number: "}),Object(B.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.phone_number})]}),Object(B.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(B.jsx)("span",{className:"text-gray-500",children:"Email: "}),Object(B.jsx)("span",{className:"font-bold",children:this.props.selectedApplication.email})]}),Object(B.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(B.jsx)("span",{className:"text-gray-500",children:"Resident district: "}),Object(B.jsx)("span",{className:"font-bold",children:this.props.getDistrictName(this.props.selectedApplication.district_of_residence_id)})]})]}),Object(B.jsxs)("div",{className:"col-span-6",children:[Object(B.jsx)("div",{className:"mb-4 font-extrabold text-2xl",children:"Application details"}),Object(B.jsxs)("div",{className:"flex flex-col w-full rounded-md bg-gray-100 hover:bg-blue-100 p-3",children:[Object(B.jsx)("span",{className:"text-gray-500",children:"Application session"}),Object(B.jsxs)("span",{className:"font-bold uppercase",children:[null===(e=this.props.sessionPlan.find((function(e){return e._id===s.props.selectedApplication.application_session})))||void 0===e?void 0:e.session_plan_name,"(",null===(t=this.props.sessionPlan.find((function(e){return e._id===s.props.selectedApplication.application_session})))||void 0===t?void 0:t.period,")"]})]}),Object(B.jsxs)("div",{className:"flex flex-col w-full rounded-md bg-gray-100 hover:bg-blue-100 p-3 mt-2",children:[Object(B.jsx)("span",{className:"text-gray-500",children:"Application date"}),Object(B.jsx)("span",{className:"font-bold",children:new Date(this.props.selectedApplication.createdAt).toString()})]}),Object(B.jsxs)("div",{className:"flex flex-col w-full rounded-md bg-gray-100 hover:bg-blue-100 p-3 mt-2",children:[Object(B.jsx)("span",{className:"text-gray-500",children:"Application status"}),Object(B.jsx)("span",{className:"font-bold uppercase",children:this.props.selectedApplication.application_status})]})]}),Object(B.jsx)("div",{className:"col-span-12",children:Object(B.jsxs)("div",{className:"flex flex-col w-full mt-2 gap-3 border-2 border-blue-600 rounded-md p-4",children:[Object(B.jsx)("div",{className:"text-2xl font-extrabold -mt-2",children:"Placement Preferences"}),Object(B.jsxs)("div",{className:"grid grid-cols-12 gap-3",children:[null===this.props.selectedApplication.contract?Object(B.jsx)("div",{className:"col-span-12 bg-red-100 px-3 py-2 text-left w-full text-yellow-700",children:"No preferences found!"}):0===this.props.selectedApplication.contract.district.values.length?Object(B.jsx)("div",{className:"col-span-12 bg-green-100 text-green-800 font-bold px-3 py-2 rounded",children:"All districts"}):this.props.selectedApplication.contract.district.values.map((function(e,t){return Object(B.jsxs)("div",{className:"".concat(null!==s.props.selectedApplication.contract&&!1===s.props.selectedApplication.contract.district.strict?"col-span-4":"col-span-6"," flex flex-row items-center gap-2"),children:[Object(B.jsx)("div",{children:Object(B.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-600 text-white flex items-center justify-center",children:t+1})}),Object(B.jsx)("div",{children:s.props.getDistrictName(e)})]},t+1)})),null!==this.props.selectedApplication.contract&&!1===this.props.selectedApplication.contract.district.strict&&Object(B.jsx)("div",{className:"col-span-4",children:Object(B.jsx)("div",{className:"bg-yellow-100 text-yellow-900 rounded-full px-2 w-max mt-1 font-bold",children:"And other districts"})})]})]})})]}):void 0!==n&&Object(B.jsx)(z.a,{positionDetails:n,cancel:function(){},apply:function(){},auth:this.props.auth,showRegister:function(e){},hideTools:!0})})]})}}]),s}(b.Component),W=x.a.memo(H),X=s(687),Y=[P.a.Failed,P.a.Pass];!function(e){e.No="No",e.Names="Names",e.Gender="Gender",e.NationalID="NationalID",e.Email="Email",e.Phone="Phone",e.Residence="Residence",e.Session="Session",e.Institution="Institution",e.Date="Date",e.Decision="Decision",e.Position="Position",e.Preferences="Preferences"}(U||(U={}));var K=[{key:U.Names,title:"Applicant Names",status:!0},{key:U.NationalID,title:"National ID",status:!0},{key:U.Gender,title:"Gender",status:!0},{key:U.Phone,title:"Phone",status:!0},{key:U.Session,title:"Application Period",status:!0},{key:U.Institution,title:"Education Institute",status:!0},{key:U.Date,title:"Application Date",status:!0},{key:U.Decision,title:"Decision",status:!0},{key:U.Position,title:"Position Title",status:!0},{key:U.Preferences,title:"Preferences",status:!0}],q=function(e){Object(r.a)(s,e);var t=Object(d.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).setLoadingState=function(e){i.setState({loading:e})},i.loadAllApplications=function(){var e=Object(l.a)(a.a.mark((function e(t,s,n){var l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||null===s){e.next=14;break}return n(!0,""),e.prev=2,e.next=5,u.a.get("".concat(k.a.APPLICATION,"/apply/updated/").concat(t.position_id,"/").concat(s._id));case 5:l=e.sent,i.setState({applicationListData:l.data}),console.log("applicationListData: ",l),n(!1,""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error({error_found:e.t0});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,s,i){return e.apply(this,arguments)}}(),i.FD_GetSessions=function(e){i.props.FC_GetAllSessionByInstitution(e,(function(e,t,s){if(i.setLoadingState(e),!e&&s&&s.length>0&&null===i.state.selected_period){var n=s.find((function(e){return e.is_active}));n?(i.setState({selected_period:n}),i.setState({selectPeriod:!1,defaultSelectedPeriod:n})):s.length>0?(n=s[s.length-1],i.setState({selected_period:n}),i.setState({selectPeriod:!1,defaultSelectedPeriod:n})):i.setState({selectPeriod:!0})}}))},i.FC_OnInstitutionChanged=function(e){i.props.FC_GetPositionsByInstitution(e,(function(e,t){i.setLoadingState(e),console.log({status:e,msg:t}),t.length?i.props.PushPopupAlert({title:t,theme:A.a.danger}):!1===e&&i.setState({selectPosition:!0})})),i.props.FC_GetAllSessionByInstitution(e,(function(e,t,s){if(i.setLoadingState(e),!e&&(Object(C.f)(t)||i.props.PushPopupAlert({title:t,theme:A.a.warning}),s&&s.length>0)){var n=s.find((function(e){return e.is_active}));n?i.setState({selected_period:n}):i.setState({selectPeriod:!0})}}))},i.GetDistrictName=function(e){var t,s=null===(t=i.state.districts)||void 0===t?void 0:t.districts.find((function(t){return t.district_code.toString()===e.toString()}));return void 0===s?"":s.district_name},i.AdminApplicationStatuses=function(e){var t=[{title:"All",count:e.length,status:"ALL"}],s=function(s){Y.includes(P.c[s].key)||t.push({title:P.c[s].caption,count:e.filter((function(e){return e.application_status===P.c[s].key})).length,status:P.c[s].key})};for(var i in P.c)s(i);return t},i.filteredApplications=function(e,t,s){var i=e;return"all"!==s&&null!==e&&(i=e.filter((function(e){var t;return e.application_session===(null===(t=s.session_plan)||void 0===t?void 0:t._id)}))),null===t||"ALL"===t||null===i?i:i.filter((function(e){return e.application_status===t}))},i.setDownloading=function(e){i.setState({downloading:e})},i.updateApplicationToPrint=function(){if(null!==i.state.selected_position&&i.setState({reportTitle:i.state.selected_position.position_title}),i.state.applicationListData){var e=[],t=1;for(var s in i.state.applicationListData)Object.prototype.hasOwnProperty.call(i.state.applicationListData,s)&&null!==i.state.selected_position&&function(){var n,a,l,c=i.state.applicationListData[s],o={No:t,Names:c.fname+" "+c.lname,NationalID:c.n_id,Gender:"M"===c.gender?"Male":"Female",Position:i.state.selected_position.position_title,Phone:c.phone_number,Email:c.email,Institution:i.state.selected_position.education_institute_id.education_category_title,Session:null===(n=i.props.sessionPlan.allSessionPlans)||void 0===n||null===(a=n.find((function(e){return e._id===c.application_session})))||void 0===a?void 0:a.session_plan_name,Residence:i.GetDistrictName(c.district_of_residence_id),Preferences:"".concat(null===c.contract?"":0===(null===(l=c.contract.district.values)||void 0===l?void 0:l.length)?"All districts":c.contract.district.values.map((function(e){return"".concat(i.GetDistrictName(e))}))).concat(null!==c.contract&&!1===c.contract.district.strict&&c.contract.district.values.length>0?", and other districts":""),Date:new Date(c.createdAt).toString(),Decision:c.application_status};for(var r in i.state.reportContent)Object.prototype.hasOwnProperty.call(i.state.reportContent,r)&&(i.state.reportContent[r].status||delete o[i.state.reportContent[r].key]);e.push(o),t++}();null!==i.state.selectedApplicationStatus&&"ALL"!==i.state.selectedApplicationStatus&&(e=e.filter((function(e){return e.Decision===i.state.selectedApplicationStatus}))),i.setState({applicationsToPrint:e}),e=[],t=1}},i.updateReportContent=function(e){var t=i.state.reportContent.findIndex((function(t){return t.key===e})),s=i.state.reportContent;s[t].status=!s[t].status,i.setState({reportContent:s}),s.find((function(e){return!1===e.status}))?i.setState({selectAll:!1}):i.setState({selectAll:!0}),i.updateApplicationToPrint()},i.generateThisPDF=function(){if(!document.querySelectorAll("#report_content tbody tr").length)return i.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:A.a.warning}),!1;if(i.state.selected_position&&i.state.selected_period){var e=document.getElementById("report_content"),t={doneBy:i.props.auth.user.fname+" "+i.props.auth.user.lname,title:"Applications Report",subjectTitle:"Position",subject:i.state.selected_position.position_title,period:i.state.selected_period.session_plan_name,footer:"Online Recruitment",institute:"all"===i.state.selectedEducationCategory?"All institute":i.state.selectedEducationCategory.education_category_title,orientation:"l"};console.log("===================================="),console.log({table:e}),console.log("===================================="),e&&Object(_.a)(t,e,i.setDownloading)}},i.isChangeAllowed=function(e){return e!==U.Names&&e!==U.Decision&&e!==U.Session},i.resetReportContent=function(e){var t=i.state.reportContent;for(var s in t)i.isChangeAllowed(t[s].key)&&(t[s].status=!e);i.setState({reportContent:t,selectAll:!e}),i.updateApplicationToPrint()},i.setSort=function(e){i.state.sortProperty===e&&"ASC"===i.state.sortOrder?i.setState({sortProperty:e,isSorted:!0,sortOrder:"DESC"}):i.setState({sortProperty:e,isSorted:!0,sortOrder:"ASC"})},i.state={loading:!1,defaultSelectedPeriod:null,selectedEducationCategory:"all",selectedApplicationStatus:"ALL",applicationListData:null,selectPosition:!1,selectPeriod:!1,applicationDetailsModal:null,generateReportModal:null,searchInput:"",searchPositionInput:"",reportTitle:"Application Report",selectAll:!0,applicationsToPrint:null,formError:null,reportContent:K,sortProperty:"",isSorted:!1,sortOrder:"ASC",selected_period:null,downloading:!1,selected_position:null,districts:null},i}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;null===this.state.districts&&(this.setState({loading:!0}),Object(O.Mb)((function(t,s,i){null!==s?e.setState({districts:s,loading:!1}):!1===t&&(alert(Object(D.a)(t)),e.setState({loading:!1,districts:null}))}))),!0===Object(T.d)(this.props.auth.education_institution_id)?this.FC_OnInstitutionChanged(this.props.auth.education_institution_id):null===this.props.schoolLevels.education_categories||this.props.schoolLevels.education_categories.length?this.props.loadEducationCategories((function(t,s){e.setLoadingState(t),!t&&s&&s.length>0&&(e.setState({selectedEducationCategory:s[0]}),!1===Object(T.d)(e.props.auth.education_institution_id)?e.FC_OnInstitutionChanged(s[0].education_institute_id):e.FC_OnInstitutionChanged(e.props.auth.education_institution_id))})):this.props.schoolLevels.selectedEducationCategory||(this.setState({selectedEducationCategory:this.props.schoolLevels.education_categories[0]}),this.FC_OnInstitutionChanged(this.props.schoolLevels.education_categories[0].education_institute_id))}},{key:"componentDidUpdate",value:function(e,t){t.loading!==this.state.loading&&this.updateApplicationToPrint()}},{key:"render",value:function(){var e,t=this;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(w.b,{children:[!1===Object(T.d)(this.props.auth.education_institution_id)&&Object(B.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(B.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===this.props.schoolLevels.education_categories?Object(B.jsx)(S.a,{}):0===this.props.schoolLevels.education_categories.length?Object(B.jsx)("span",{children:"No result found"}):Object(B.jsx)("section",{children:this.props.schoolLevels.education_categories.map((function(e,s){return Object(B.jsxs)("div",{onClick:function(){t.setState({selectedEducationCategory:e}),t.FC_OnInstitutionChanged(e.education_institute_id)},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"!==t.state.selectedEducationCategory&&t.state.selectedEducationCategory.education_institute_id===e.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"!==t.state.selectedEducationCategory&&t.state.selectedEducationCategory.education_institute_id===e.education_institute_id?Object(B.jsx)(m.Mb,{}):Object(B.jsx)(m.Nb,{}),Object(B.jsx)("span",{children:e.education_category_title})]},s+1)}))})]}),Object(B.jsxs)("div",{className:"",children:[Object(B.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(B.jsxs)("div",{onClick:function(){return t.setState({selectPeriod:!0})},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline  text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:[null!==this.state.selected_period?Object(C.b)(this.state.selected_period.session_plan_name):"Filter by period",Object(B.jsx)(j.e,{className:"text-3xl text-blue-600"})]})]}),this.state.selected_position&&Object(B.jsxs)("div",{className:"pt-1",children:[Object(B.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Application statuses:"}),null===this.state.applicationListData||null===this.state.districts?Object(B.jsx)(S.a,{}):this.AdminApplicationStatuses(this.state.applicationListData).map((function(e,s){return Object(B.jsx)(b.Fragment,{children:Object(B.jsx)("div",{onClick:function(){return t.setState({selectedApplicationStatus:e.status})},children:Object(B.jsx)(w.a,{title:e.title,count:e.count,active:t.state.selectedApplicationStatus===e.status})})},e.title)}))]})]}),Object(B.jsxs)("section",{children:[Object(B.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(B.jsx)("div",{className:"col-span-8",children:Object(B.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(B.jsx)("span",{className:"text-3xl font-light",children:"Applications Report"}),Object(B.jsx)("div",{onClick:function(){return t.setState({selectPosition:!0})},className:"flex flex-row gap-2 items-end",children:Object(B.jsx)("span",{className:"text-blue-600 font-bold underline cursor-pointer text-xl",children:null!==this.state.selected_position?this.state.selected_position.position_title:"No position selected, Click to select"})})]})}),Object(B.jsx)("div",{className:"col-span-4",children:Object(B.jsxs)("div",{className:"float-right mt-2",children:[this.state.applicationsToPrint&&this.state.applicationsToPrint.length>0&&Object(B.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(B.jsx)(h.f,{className:"text-2xl text-gray-500"}),Object(B.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(B.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 ".concat(this.state.downloading&&"cursor-wait"),disabled:this.state.loading||this.state.downloading,onClick:function(){return t.setState({generateReportModal:{reportType:"EXCEL",status:!0}})},children:"EXCEL"}),Object(B.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",onClick:function(){return t.generateThisPDF()},disabled:this.state.loading,children:"PDF"})]}),Object(B.jsxs)("div",{onClick:function(){return t.setState({selectPosition:!0})},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(B.jsx)(h.h,{className:"text-xl"}),"Filter by position"]})]})})]}),Object(B.jsxs)("div",{className:"bg-white my-4",children:[Object(B.jsx)("div",{className:"w-full px-2 py-2",children:Object(B.jsx)("input",{onChange:function(e){return t.setState({searchInput:e.target.value})},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:null===this.filteredApplications(this.state.applicationListData,this.state.selectedApplicationStatus,this.state.selectedEducationCategory)||0===this.filteredApplications(this.state.applicationListData,this.state.selectedApplicationStatus,this.state.selectedEducationCategory).length})}),Object(B.jsx)("div",{className:"w-full overflow-x-auto",children:Object(B.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(B.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(B.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return t.setSort("fname")},children:Object(B.jsxs)("div",{className:"flex items-center gap-1",children:["Applicant names ",Object(B.jsx)(h.k,{})]})}),Object(B.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(B.jsx)("td",{className:"px-2 py-2",children:"Gender"}),Object(B.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(B.jsx)("td",{className:"px-2 py-2",children:"Position"}),Object(B.jsx)("td",{className:"px-2 py-2",children:"Res. District"}),Object(B.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return t.setSort("application_status")},children:Object(B.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(B.jsx)(h.k,{})]})}),Object(B.jsx)("td",{className:"px-2 py-2 cursor-pointer",children:Object(B.jsx)("div",{className:"flex items-center gap-1",children:"Preferences"})}),Object(B.jsx)("td",{className:"px-2 py-2",children:"Date"})]})}),Object(B.jsx)("tbody",{children:null===this.state.selected_position?Object(B.jsx)("tr",{children:Object(B.jsx)("td",{colSpan:10,className:"px-2 py-2",children:Object(B.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(B.jsx)(f.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(B.jsx)("span",{className:"text-sm font-bold",children:"No position selected! Please select position to get data"}),Object(B.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(B.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(B.jsx)("li",{onClick:function(){return t.setState({selectPosition:!0})},className:"underline text-blue-600 cursor-pointer",children:"Choose position"})})})]})})}):null===this.state.applicationListData||null===this.filteredApplications(this.state.applicationListData,this.state.selectedApplicationStatus,this.state.selectedEducationCategory)?Object(B.jsx)("tr",{children:Object(B.jsx)("td",{colSpan:10,className:"px-2 py-2",children:Object(B.jsx)(S.a,{})})}):0===this.filteredApplications(this.state.applicationListData,this.state.selectedApplicationStatus,this.state.selectedEducationCategory).length?Object(B.jsx)("tr",{children:Object(B.jsx)("td",{colSpan:10,className:"px-2 py-2",children:Object(B.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(B.jsx)(f.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(B.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"}),Object(B.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(B.jsxs)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:[Object(B.jsx)("li",{onClick:function(){return t.setState({selectPeriod:!0})},className:"underline text-gray-500 cursor-pointer",children:"Filter by period"}),Object(B.jsx)("li",{className:"text-gray-400 italic",children:"or"}),Object(B.jsx)("li",{onClick:function(){return t.setState({selectPosition:!0})},className:"underline text-blue-600 cursor-pointer",children:"Filter by position"})]})})]})})}):Object(T.s)(this.state.isSorted,Object(v.a)(this.filteredApplications(this.state.applicationListData,this.state.selectedApplicationStatus,this.state.selectedEducationCategory),this.state.searchInput),this.state.sortProperty,this.state.sortOrder).map((function(e,s){var i,n;return Object(B.jsxs)("tr",{onClick:function(){return t.setState({applicationDetailsModal:{selected_application:e,status:!0}})},className:"".concat(s%2!==0?"bg-gray-100":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 cursor-pointer border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(B.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(B.jsxs)("td",{className:"px-2 py-2",children:[e.fname," ",e.lname]}),Object(B.jsx)("td",{className:"px-2 py-2",children:e.n_id}),Object(B.jsx)("td",{className:"px-2 py-2",children:"M"===e.gender?"Male":"Female"}),Object(B.jsx)("td",{className:"px-2 py-2",children:e.phone_number}),Object(B.jsx)("td",{className:"px-2 py-2",children:null===(i=t.state.selected_position)||void 0===i?void 0:i.position_title}),Object(B.jsx)("td",{className:"px-2 py-2",children:t.GetDistrictName(e.district_of_residence_id)}),Object(B.jsx)("td",{className:"px-2 py-2",children:Object(C.a)(e.application_status)}),Object(B.jsxs)("td",{className:"px-2 py-2",children:[null===e.contract?"":0===(null===(n=e.contract.district.values)||void 0===n?void 0:n.length)?"All districts":e.contract.district.values.map((function(s){return"".concat(t.GetDistrictName(s)).concat(null!==e.contract&&e.contract.district.values.length>0&&e.contract.district.values[e.contract.district.values.length-1]!==s?", ":"")})),null!==e.contract&&!1===e.contract.district.strict&&e.contract.district.values.length>0?", and other districts":""]}),Object(B.jsx)("td",{className:"px-2 py-2",children:Object(T.a)(e.createdAt)})]},s+1)}))})]})})]})]}),(!0===this.state.selectPosition||!0===this.state.selectPeriod)&&Object(B.jsx)(G.d,{title:Object(B.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[!0===this.state.selectPeriod?Object(B.jsx)(m.S,{className:"text-5xl text-blue-600"}):Object(B.jsx)(I.l,{className:"text-5xl text-blue-600"}),Object(B.jsx)("div",{className:"flex flex-col",children:Object(B.jsx)("span",{className:"font-bold text-xl text-blue-600",children:!0===this.state.selectPeriod?"Choose a period":"Filter by a position"})})]}),backDrop:!0,theme:G.c.default,close:function(){return t.setState({selectPosition:!1,selectPeriod:!1,searchPositionInput:""})},backDropClose:!0,widthSizeClass:G.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(B.jsx)("div",{className:"px-2 pb-2",children:!0===this.state.selectPeriod?Object(B.jsx)(R.a,{allSession:this.props.sessionPlan.allSessionPlans,setSelectSession:function(e){"all"!==e&&(t.setState({selected_period:e}),t.loadAllApplications(t.state.selected_position,e,(function(e,s){t.setLoadingState(e),Object(C.f)(s)||t.props.PushPopupAlert({title:s,theme:A.a.warning})})),t.setState({selectPeriod:!1,applicationListData:null}))},chooseAll:!1,currentSelected:this.state.selected_period?this.state.selected_period:"all"}):!0===this.state.selectPosition&&null===this.props.positions?Object(B.jsx)(F.b,{type:F.a.dark}):0===this.props.positions.length?Object(B.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(B.jsx)(m.Xb,{className:"text-6xl"}),Object(B.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(B.jsx)("span",{children:"No positions found! Please go back!"}),Object(B.jsx)(L.b,{to:"/",className:"btn bg-yellow-100 text-yellow-700 my-4 hover:bg-yellow-200",children:"Go back"})]})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{className:"flex flex-col",children:[Object(B.jsx)("span",{className:"text-gray-600 text-xs font-bold",children:"Filter by position name"}),Object(B.jsx)("input",{onChange:function(e){return t.setState({searchPositionInput:e.target.value})},type:"text",className:"mb-4 bg-gray-100 px-3 py-2 rounded",placeholder:"Keyword..."})]}),Object(v.a)(this.props.positions,this.state.searchPositionInput).map((function(e,s){var i,n,a;return Object(B.jsx)("div",{onClick:function(){var s;t.setState({selected_position:e}),t.loadAllApplications(e,t.state.selected_period?t.state.selected_period:t.state.defaultSelectedPeriod,(function(e,s){t.setLoadingState(e),Object(C.f)(s)||t.props.PushPopupAlert({title:s,theme:A.a.warning})})),t.setState({selectPosition:!1,searchPositionInput:"",applicationListData:null,reportTitle:(null===(s=t.state.selected_position)||void 0===s?void 0:s.position_title)+" - Application Report - "+t.state.selected_period?t.state.selected_period.session_plan_name:t.state.defaultSelectedPeriod?t.state.defaultSelectedPeriod.session_plan_name:""})},className:"".concat((null===(i=t.state.selected_position)||void 0===i?void 0:i.position_id)===e.position_id?"bg-blue-100 border-blue-600":"bg-white border-gray-200"," cursor-pointer rounded  px-3 py-2 border hover:border-blue-500 hover:bg-blue-100 mb-2 group"),children:Object(B.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(B.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(B.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(B.jsx)("div",{children:(null===(n=t.state.selected_position)||void 0===n?void 0:n.position_id)===e.position_id?Object(B.jsx)(E.b,{className:"text-4xl md:text-5xl text-blue-600"}):Object(B.jsx)(I.c,{className:"text-4xl md:text-5xl text-gray-400 group-hover:text-blue-600"})}),Object(B.jsxs)("div",{className:"flex flex-col",children:[Object(B.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:e.position_title}),Object(B.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(B.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:e.school_level_id.school_level_name})]}),Object(B.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:e.education_institute_id.education_category_title})]})]})}),(null===(a=t.state.selected_position)||void 0===a?void 0:a.position_id)!==e.position_id&&Object(B.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(B.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(B.jsx)("div",{className:"btn bg-gray-100 group-hover:bg-blue-600 text-blue-800 group-hover:text-white float-right",children:"Choose"})})})]})},s+1)}))]})})}),null!==this.state.applicationDetailsModal&&!0===this.state.applicationDetailsModal.status&&Object(B.jsx)(G.d,{title:Object(B.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(B.jsxs)("div",{className:"flex flex-col",children:[Object(B.jsxs)("span",{className:"font-extrabold text-2xl text-blue-700",children:[this.state.applicationDetailsModal.selected_application.fname," ",this.state.applicationDetailsModal.selected_application.lname]}),Object(B.jsxs)("div",{className:"rounded-full text-base border border-blue-600 px-3 py-1 w-max font-bold",children:["Position: ",null===(e=this.state.selected_position)||void 0===e?void 0:e.position_title]})]})}),backDrop:!0,theme:G.c.default,close:function(){return t.setState({applicationDetailsModal:null})},backDropClose:!0,widthSizeClass:G.b.extraLarge,displayClose:!0,padding:{title:!0},children:null===this.props.positions?"No positions found!":null===this.props.sessionPlan.allSessionPlans?"No session found!":Object(B.jsx)(W,{selectedApplication:this.state.applicationDetailsModal.selected_application,auth:this.props.auth,positions:this.props.positions,getDistrictName:this.GetDistrictName,sessionPlan:this.props.sessionPlan.allSessionPlans})}),null!==this.state.generateReportModal&&!0===this.state.generateReportModal.status&&Object(B.jsx)(G.d,{title:Object(B.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(B.jsxs)("div",{className:"flex flex-col",children:[Object(B.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(B.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",this.state.generateReportModal.reportType," ","Report"]})]})}),backDrop:!0,theme:G.c.default,close:function(){return t.setState({generateReportModal:null})},backDropClose:!1,widthSizeClass:G.b.medium,displayClose:!0,padding:{title:!0},children:Object(B.jsxs)("div",{className:"px-6",children:[Object(B.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(B.jsxs)("div",{className:"flex flex-col",children:[Object(B.jsx)("label",{children:"Title"}),Object(B.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(this.state.formError&&"report_title"===this.state.formError.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:this.state.reportTitle,onChange:function(e){t.setState({formError:null,reportTitle:e.target.value})},disabled:this.state.loading}),this.state.formError&&"report_title"===this.state.formError.element&&Object(B.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(B.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(B.jsx)("label",{children:"Report content"}),Object(B.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:this.state.reportContent.map((function(e,s){return Object(B.jsxs)("div",{className:"flex items-center gap-1 ".concat(t.isChangeAllowed(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return t.isChangeAllowed(e.key)&&t.updateReportContent(e.key)},title:t.isChangeAllowed(e.key)?"":"Required for every report!",children:[e.status?Object(B.jsx)(m.u,{className:"w-6 h-6 text-blue-700"}):Object(B.jsx)(m.v,{className:"w-6 h-6"}),Object(B.jsx)("span",{children:e.title})]},s)}))}),this.state.formError&&"report_content"===this.state.formError.element&&Object(B.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]})]}),Object(B.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(B.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return t.resetReportContent(t.state.selectAll)},children:[this.state.selectAll?Object(B.jsx)(m.u,{className:"w-6 h-6 text-blue-700"}):Object(B.jsx)(m.v,{className:"w-6 h-6"}),Object(B.jsx)("span",{children:"Select all"})]}),this.state.applicationsToPrint&&!this.state.loading&&Object(B.jsx)(X.a,{fileData:this.state.applicationsToPrint,fileName:this.state.reportTitle,btnName:"Generate"})]})]})})]})}}]),s}(b.Component),J=Object(g.b)((function(e){var t=e.auth,s=e.system_settings,i=e.sessionPlan,n=e.schoolLevels;return{auth:t,positions:s.systemPositions,sessionPlan:i,schoolLevels:n}}),{FC_GetAllSessionByInstitution:y.b,FC_GetPositionsByInstitution:N.a,loadEducationCategories:O.Nc,PushPopupAlert:O.Vb})(q)},682:function(e,t,s){"use strict";s.d(t,"b",(function(){return x})),s.d(t,"a",(function(){return h}));var i=s(25),n=s(24),a=s(27),l=s(26),c=s(4),o=s.n(c),r=s(23),d=s(3),p=s(12),u=s(1),b=function(e){Object(a.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).componentDidMount=function(){return n.props.PageHasSubNav(!0)},n.componentWillUnmount=function(){return n.props.PageHasSubNav(!1)},n.state={loading:!1},n}return Object(n.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(u.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(o.a.Component),x=Object(r.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.Tb,PageHasSubNav:d.Ub})(b),h=function(e){var t=e.title,s=void 0===t?"":t,i=e.icon,n=void 0===i?p.o:i,a=e.active,l=void 0!==a&&a,c=e.count,o=void 0===c?0:c,r=n;return Object(u.jsxs)("section",{className:"".concat(!0===l?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(u.jsxs)("section",{className:"flex-1",children:[Object(u.jsx)(r,{className:"inline-block mr-1 text-xs"}),Object(u.jsx)("span",{children:s})]}),o>0?Object(u.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:o}):null]})}},685:function(e,t,s){"use strict";s.d(t,"f",(function(){return b})),s.d(t,"d",(function(){return x})),s.d(t,"b",(function(){return h})),s.d(t,"e",(function(){return j})),s.d(t,"c",(function(){return f})),s.d(t,"g",(function(){return m})),s.d(t,"a",(function(){return g}));var i=s(5),n=s.n(i),a=s(7),l=s(10),c=s.n(l),o=s(6),r=s(8),d=s(16),p=s(14),u="".concat(r.a.AUTH,"/auth/user/access"),b=function(e){return function(){var t=Object(a.a)(n.a.mark((function t(s){var i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(r.a.AUTH,"/system/setting"));case 5:i=t.sent,console.log("=================getSystemSettings==================="),console.log(i),console.log("=================getSystemSettings==================="),s({type:o.a.GET_SYSTEM_SETTINGS,payload:i.data}),e(!1,""),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(p.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(a.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(a.a)(n.a.mark((function t(s){var i,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(u,"/roleaccess"));case 5:i=t.sent,a=i.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),s({type:o.a.GET_TASK_ACCESS,payload:a}),e(!1,"",a),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(p.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(a.a)(n.a.mark((function t(s){var i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(r.a.APPLICATION,"/position"));case 5:i=t.sent,s({type:o.a.GET_POSTIONS,payload:i.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(p.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return console.log({deletePosition:e}),function(){var t=Object(a.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(a.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return function(){var s=Object(a.a)(n.a.mark((function s(i){var a;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,Object(d.b)(),s.next=5,c.a.get("".concat(r.a.APPLICATION,"/position/instituteposition/").concat(e));case 5:a=s.sent,i({type:o.a.GET_POSTIONS,payload:a.data}),t(!1,"",a.data),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log({code_error:s.t0}),t(!1,Object(p.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()}},687:function(e,t,s){"use strict";s(4);var i=s(712),n=s(713),a=s(34),l=s(1),c=function(e){for(var t=0;t<e.length;){if(void 0===e[t].sheetName||"string"!==typeof e[t].sheetName||void 0===e[t].data||!1===Array.isArray(e[t].data))return!1;t++}return!0};t.a=function(e){var t=e.fileData,s=e.fileName,o=e.btnName,r=void 0===o?"Excel":o,d=e.className,p=void 0===d?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":d,u=e.showIcon,b=void 0===u||u,x="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",h=".xlsx";return Object(l.jsxs)("button",{onClick:function(e){return function(e,t){if(c(e)){var s=n.utils.book_new();e.forEach((function(e){var t=n.utils.json_to_sheet(e.data);n.utils.book_append_sheet(s,t,e.sheetName)}));var a=n.write(s,{bookType:"xlsx",type:"array"}),l=new Blob([a],{type:x});i.saveAs(l,t+h)}else{var o={Sheets:{data:n.utils.json_to_sheet(e)},SheetNames:["data"]},r=n.write(o,{bookType:"xlsx",type:"array"}),d=new Blob([r],{type:x});i.saveAs(d,t+h)}}(t,s)},className:p,children:[b&&Object(l.jsx)(a.j,{}),r]})}},693:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var i=s(5),n=s.n(i),a=s(7),l=s(719),c=s(28),o=s.p+"static/media/mineduc.11a9ae1c.png";s(721);var r=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var s=1;s<=t;s++)e.setPage(s),e.text("Page "+String(s)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},d=function(){var e=Object(a.a)(n.a.mark((function e(t,s,i){var a,d,p,u,b,x,h,j;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i(!0),a=t.orientation?t.orientation:"p",d=20,20,185,(p=new l.default(a,"mm","a4")).setTextColor(95,95,95),p.setFontSize(28),p.addImage(o,"png",20,20,10,10),p.text("MINEDUC",32,28.5,void 0,"left"),p.setFontSize(26),p.text(t.title,p.internal.pageSize.getWidth()/2,42.7,void 0,"center"),p.setFontSize(20),p.text(t.institute,p.internal.pageSize.getWidth()/2,53.7,void 0,"center"),u=p.splitTextToSize(t.subject,145),p.setFontSize(16),b=63,p.setTextColor(95,95,95),p.text("".concat(t.subjectTitle,": "),d,b),x=p.getTextWidth("".concat(t.subjectTitle,": ")),p.setTextColor(38,38,38),h=0;h<u.length;h++)b>280&&(b=10,p.addPage()),p.text(u[h],d+x,b),b+=7;return p.setTextColor(95,95,95),p.text("Period: ",d,b+3),x=p.getTextWidth("Period: "),p.setTextColor(38,38,38),p.text(t.period,d+x,b+3),p.autoTable({html:s,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),p.setFontSize(12),j=p.lastAutoTable.finalY,p.text("Reported by: ".concat(t.doneBy),d,j+15),p.text("Report downloaded on "+Object(c.a)((new Date).toString()),d,j+23),r(p),e.next=35,p.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"),{returnPromise:!0}).then(i(!1));case 35:case"end":return e.stop()}}),e)})));return function(t,s,i){return e.apply(this,arguments)}}()},694:function(e,t,s){"use strict";var i=s(17),n=(s(11),s(18),s(4)),a=s.n(n),l=s(12),c=s(33),o=(s(9),s(50)),r=s(1),d=function(e){var t,s,a=Object(n.useState)(null),d=Object(i.a)(a,2),p=d[0],u=d[1],b=Object(n.useState)(""),x=Object(i.a)(b,2),h=x[0],j=x[1];return Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("div",{className:"px-3",children:Object(r.jsx)("input",{onChange:function(e){return j(e.target.value)},type:"text",className:"py-3 px-4 w-full rounded border border-gray-400 mb-3",placeholder:"Search by year, name",disabled:null===e.allSession||0===e.allSession.length})}),Object(r.jsx)("div",{className:"bg-gray-100 px-3 pt-3 pb-2 rounded-b",children:null===e.allSession?Object(r.jsx)(c.a,{}):0===e.allSession.length?Object(r.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center mb-2 bg-white py-4",children:[Object(r.jsx)(l.Xb,{className:"text-6xl"}),Object(r.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(r.jsx)("span",{children:"No session found!"})})]}):Object(r.jsxs)("section",{children:[e.chooseAll&&Object(r.jsxs)("div",{className:"rounded border ".concat("all"===e.currentSelected?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2 flex flex-col md:flex-row items-start md:items-center md:justify-between"),children:[Object(r.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"===e.currentSelected?Object(r.jsx)(l.w,{className:"text-blue-500 text-4xl"}):Object(r.jsx)(l.Nb,{className:"text-gray-300 text-4xl"}),Object(r.jsx)("div",{className:"flex flex-col",children:Object(r.jsx)("div",{className:"text-gray-600 font-bold",children:"All session"})})]}),Object(r.jsx)("div",{onClick:function(){e.setSelectSession("all")},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"})]}),(t=e.allSession,s=h,Object(o.a)(t,s)).map((function(t,s){return Object(r.jsx)("div",{className:"rounded border ".concat("all"!==e.currentSelected&&e.currentSelected._id===t._id?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2"),children:Object(r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between ",children:[Object(r.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"!==e.currentSelected&&e.currentSelected._id===t._id?Object(r.jsx)(l.w,{className:"text-blue-500 text-4xl"}):Object(r.jsx)(l.Nb,{className:"text-gray-300 text-4xl"}),Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsx)("div",{className:"".concat("all"!==e.currentSelected&&e.currentSelected._id===t._id?"text-blue-600":"text-gray-600"," font-bold"),children:t.session_plan_name}),Object(r.jsxs)("div",{className:"text-sm text-gray-500",children:[Object(r.jsx)("span",{children:"Status: "}),Object(r.jsx)("span",{className:"".concat(!0===t.is_active?"text-gray-900 font-bold underline":"text-gray-500 italic"),children:!0===t.is_active?"Active":"Expired"})]})]})]}),Object(r.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(null===p||p._id!==t._id)&&Object(r.jsx)("div",{onClick:function(){return u(t)},className:"bg-gray-50 group-hover:bg-blue-100 font-semibold text-gray-400 group-hover:text-blue-600 rounded px-3 py-2 cursor-pointer",children:"Details"}),Object(r.jsx)("div",{onClick:function(){e.setSelectSession(t)},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"}),null!==p&&p._id===t._id&&Object(r.jsx)("div",{onClick:function(){return u(null)},className:"bg-red-100 group-hover:bg-red-200 font-semibold text-red-600 group-hover:text-red-800 rounded px-3 py-2 cursor-pointer",children:"Close"})]})]})},s+1)}))]})})]})};t.a=a.a.memo(d)},710:function(e,t){},714:function(e,t){},715:function(e,t){}}]);
//# sourceMappingURL=30.921f3cf3.chunk.js.map