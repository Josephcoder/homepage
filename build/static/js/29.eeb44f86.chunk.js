(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[29],{190:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return j})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return h}));var s,a=n(5),i=n.n(a),c=n(7),r=n(9),o=n.n(r),l=n(6),u=n(10),d=n(12);!function(e){e.waiting="waiting",e.approved="approved",e.rejected="rejected"}(s||(s={}));var b=function(){return function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,o.a.get("".concat(u.a.AUTH,"/users"));case 4:n=e.sent,console.log({users_response:n}),t({type:l.a.FETCH_USERS_ACCESS,payload:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({user_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return console.log({data:e}),function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:l.a.BLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:l.a.UNBLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return console.log({data:e}),function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:l.a.ASSIGN_ROLE_TO_USER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:l.a.CUSTOMIZE_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:l.a.RESET_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return console.log({data:e}),function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:l.a.VERIFY_ALL_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},193:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return m}));var s=n(18),a=n(19),i=n(21),c=n(20),r=n(4),o=n.n(r),l=n(17),u=n(3),d=n(8),b=n(1),p=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){return a.props.PageHasSubNav(!0)},a.componentWillUnmount=function(){return a.props.PageHasSubNav(!1)},a.state={loading:!1},a}return Object(a.a)(n,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(b.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),n}(o.a.Component),j=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:u.nb,PageHasSubNav:u.ob})(p),x=function(e){var t=e.title,n=void 0===t?"":t,s=e.icon,a=void 0===s?d.m:s,i=e.active,c=void 0!==i&&i,r=e.count,o=void 0===r?0:r,l=a;return Object(b.jsxs)("section",{className:"".concat(!0===c?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(b.jsxs)("section",{className:"flex-1",children:[Object(b.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(b.jsx)("span",{children:n})]}),o>0?Object(b.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:o}):null]})},f=function(e){var t=e.children;return Object(b.jsx)("div",{className:"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer",children:t})},m=function(e){var t=e.title,n=void 0===t?"":t,s=e.icon,a=void 0===s?d.m:s,i=e.active,c=void 0!==i&&i,r=e.count,o=void 0===r?0:r,l=a;return Object(b.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster ".concat(!0===c?"bg-blue-500 text-white font-bold":" text-blue-800"," text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),children:[Object(b.jsx)(l,{className:"inline-block mr-0.1 text-xs ".concat(!0===c?"text-white":"")}),Object(b.jsx)("span",{className:"inline-block pl-1 ".concat(!0===c?"text-white":""),children:n}),o>=1?Object(b.jsx)("span",{className:"text-sm fint-bold ".concat(!0===c?"text-white":""),children:o}):null]})}},201:function(e,t,n){"use strict";n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return x})),n.d(t,"i",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return O}));var s=n(5),a=n.n(s),i=n(7),c=n(9),r=n.n(c),o=n(6),l=n(10),u=n(12),d=n(13),b=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,r.a.get("".concat(l.a.AUTH,"/settings"));case 5:s=t.sent,n({type:o.a.GET_SYSTEM_SETTINGS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,r.a.get("".concat(l.a.APPLICATION,"/applicationsesion"));case 5:s=t.sent,n({type:o.a.GET_APPLICATION_SESSIONS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.CREATE_APPLICATION_SESSIONS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return console.log({check:e}),function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.UPDATE_APPLICATION_SESSIONS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DISABLE_APPLICATION_SESSION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,r.a.get("".concat(l.a.APPLICATION,"/position"));case 5:s=t.sent,n({type:o.a.GET_POSTIONS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return console.log({deletePosition:e}),function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},376:function(e,t,n){"use strict";n(4);var s=n(396),a=n(397),i=n(26),c=n(1);t.a=function(e){var t=e.fileData,n=e.fileName,r=e.btnName,o=void 0===r?"Excel":r,l=e.className,u=void 0===l?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":l,d=e.showIcon,b=void 0===d||d;return Object(c.jsxs)("button",{onClick:function(e){return function(e,t){var n={Sheets:{data:a.utils.json_to_sheet(e)},SheetNames:["data"]},i=a.write(n,{bookType:"xlsx",type:"array"}),c=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});s.saveAs(c,t+".xlsx")}(t,n)},className:u,children:[b&&Object(c.jsx)(i.k,{}),o]})}},377:function(e,t){},382:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var s=n(5),a=n.n(s),i=n(7),c=n(378),r=n(68),o=n.p+"static/media/mineduc.11a9ae1c.png";n(400);var l=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var n=1;n<=t;n++)e.setPage(n),e.text("Page "+String(n)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},u=function(){var e=Object(i.a)(a.a.mark((function e(t,n){var s,i,u,d,b,p,j,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=t.orientation?t.orientation:"p",i=20,20,185,(u=new c.default(s,"mm","a4")).setTextColor(95,95,95),u.setFontSize(28),u.addImage(o,"png",20,20,10,10),u.text("MINEDUC",32,28.5,void 0,"left"),u.setFontSize(26),u.text(t.title,u.internal.pageSize.getWidth()/2,42.7,void 0,"center"),u.setFontSize(20),u.text(t.institute,u.internal.pageSize.getWidth()/2,53.7,void 0,"center"),d=u.splitTextToSize(t.subject,145),u.setFontSize(16),b=63,u.setTextColor(95,95,95),u.text("".concat(t.subjectTitle,": "),i,b),p=u.getTextWidth("".concat(t.subjectTitle,": ")),u.setTextColor(38,38,38),j=0;j<d.length;j++)b>280&&(b=10,u.addPage()),u.text(d[j],i+p,b),b+=7;return u.setTextColor(95,95,95),u.text("Period: ",i,b+3),p=u.getTextWidth("Period: "),u.setTextColor(38,38,38),u.text(t.period,i+p,b+3),u.autoTable({html:n,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),u.setFontSize(12),x=u.lastAutoTable.finalY,u.text("Reported by: ".concat(t.doneBy),i,x+15),u.text("Report downloaded on "+Object(r.a)((new Date).toString()),i,x+23),l(u),e.next=34,u.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"));case 34:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},398:function(e,t){},399:function(e,t){},406:function(e,t,n){"use strict";var s,a,i;n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),function(e){e.Waiting="Waiting",e.Placed="Placed",e.Failed="Failed"}(s||(s={})),function(e){e.male="Male",e.female="Female",e.null="-"}(a||(a={})),function(e){e.names="names",e.gender="gender",e.national_id="national_id",e.email="email",e.phone="phone",e.user_position_marks="user_position_marks",e.position_title="position_title",e.education_category="education_category",e.date="date",e.waiting_status="waiting_status",e.waitingList_session="waitingList_session"}(i||(i={}))},433:function(e,t,n){"use strict";n(4);var s=n(1);t.a=function(e){var t=function(){for(var t=[],n=0;n<e.cols;n++)t.push(n);return t.map((function(e){return Object(s.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(s.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()}),Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()}),Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()})]})}},443:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var s=n(5),a=n.n(s),i=n(7),c=n(9),r=n.n(c),o=n(6),l=n(10),u=n(12),d=n(13),b=n(406),p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.a.Waiting,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"createdAt";return function(){var c=Object(i.a)(a.a.mark((function i(c){var b;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(!0,""),a.prev=1,Object(u.b)(),a.next=5,r.a.post("".concat(l.a.DO_EXAM,"/waiting"),{order:"desc",sortBy:s,filter:{waiting_status:n,position:e}});case 5:b=a.sent,console.log({api_waiting:b.data}),c({type:o.a.GET_WAITING_LIST,payload:b.data}),t(!1,""),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),console.error(a.t0),t(!1,Object(d.a)(a.t0));case 15:case"end":return a.stop()}}),i,null,[[1,11]])})));return function(e){return c.apply(this,arguments)}}()}},488:function(e,t,n){"use strict";n.r(t),n.d(t,"getUserById",(function(){return C})),n.d(t,"getPeriodById",(function(){return P})),n.d(t,"WaitingListReport",(function(){return A}));var s=n(24),a=n(4),i=n(189),c=n(205),r=n(195),o=n(8),l=n(17),u=n(3),d=n(201),b=n(190),p=n(382),j=n(28),x=n(31),f=n(193),m=n(25),h=n(376),g=n(68),O=n(433),v=n(443),y=n(406),_=n(78),N=n(46),w=n(55),S=n(186),k=n(1),C=function(e,t){return e.find((function(e){return e.user_id===t}))},P=function(e,t){return e.find((function(e){return e.application_session_id===t}))},L=[{key:y.c.names,title:"Applicant Names",status:!0},{key:y.c.national_id,title:"National ID",status:!0},{key:y.c.gender,title:"Gender",status:!0},{key:y.c.phone,title:"Phone",status:!0},{key:y.c.user_position_marks,title:"Applicant marks",status:!0},{key:y.c.waitingList_session,title:"Waiting list Session",status:!0},{key:y.c.education_category,title:"Education Institute",status:!0},{key:y.c.date,title:"Waiting list Date",status:!0},{key:y.c.waiting_status,title:"Waiting list Status",status:!0},{key:y.c.position_title,title:"Position",status:!0}],A=Object(l.b)((function(e){var t=e.auth,n=e.system_settings,s=e.users,a=e.schoolLevels,i=e.waitingList;return{auth:t,application_sessions:n.applicationSessions,systemPositions:n.systemPositions,userList:s,schoolLevels:a,waitingList:i}}),{getWaitingList:v.a,getApplicationSessions:d.e,loadEducationCategories:u.Ob,fetchUserAccess:b.d,getPositions:d.f,PushPopupAlert:u.pb})((function(e){var t=Object(a.useState)("all"),n=Object(s.a)(t,2),l=n[0],u=n[1],d=Object(a.useState)(!0),b=Object(s.a)(d,2),v=b[0],A=b[1],T=Object(a.useState)(!0),E=Object(s.a)(T,2),I=E[0],F=E[1],D=Object(a.useState)(!0),U=Object(s.a)(D,2),R=U[0],W=U[1],z=Object(a.useState)(!0),G=Object(s.a)(z,2),M=G[0],B=G[1],H=Object(a.useState)(!0),Y=Object(s.a)(H,2),X=Y[0],K=Y[1],q=Object(a.useState)(!0),J=Object(s.a)(q,2),Q=J[0],V=J[1],Z=Object(a.useState)(),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)("all"),se=Object(s.a)(ne,2),ae=se[0],ie=se[1],ce=Object(a.useState)(null),re=Object(s.a)(ce,2),oe=re[0],le=re[1],ue=Object(a.useState)(!1),de=Object(s.a)(ue,2),be=de[0],pe=de[1],je=Object(a.useState)(""),xe=Object(s.a)(je,2),fe=xe[0],me=xe[1],he=Object(a.useState)(!1),ge=Object(s.a)(he,2),Oe=ge[0],ve=ge[1],ye=Object(a.useState)("ASC"),_e=Object(s.a)(ye,2),Ne=_e[0],we=_e[1],Se=Object(a.useState)(""),ke=Object(s.a)(Se,2),Ce=ke[0],Pe=ke[1],Le=Object(a.useState)(""),Ae=Object(s.a)(Le,2),Te=Ae[0],Ee=Ae[1],Ie=Object(a.useState)(null),Fe=Object(s.a)(Ie,2),De=Fe[0],Ue=Fe[1],Re=Object(a.useState)(""),We=Object(s.a)(Re,2),ze=We[0],Ge=We[1],Me=Object(a.useState)(L),Be=Object(s.a)(Me,2),He=Be[0],Ye=Be[1],Xe=Object(a.useState)(!0),Ke=Object(s.a)(Xe,2),qe=Ke[0],Je=Ke[1],Qe=Object(a.useState)(null),Ve=Object(s.a)(Qe,2),Ze=Ve[0],$e=Ve[1],et=Object(a.useState)(!1),tt=Object(s.a)(et,2),nt=tt[0],st=tt[1],at=Object(a.useState)("all"),it=Object(s.a)(at,2),ct=it[0],rt=it[1];Object(a.useEffect)((function(){null===e.schoolLevels.education_categories||0===e.schoolLevels.education_categories.length?e.loadEducationCategories(B):B(!1),!e.application_sessions.length&&I?e.getApplicationSessions((function(t,n){t||(F(!1),A(!1),n.length&&e.PushPopupAlert({title:n,theme:m.a.danger}))})):I&&(A(!1),F(!1)),null===e.systemPositions?e.getPositions((function(t,n){W(t),n.length&&e.PushPopupAlert({title:n,theme:m.a.danger})})):R&&W(!1),e.systemPositions&&null===oe&&!be&&pe(!0),!e.userList.length&&X?(K(!1),e.fetchUserAccess()):X&&K(!1)}),[R,I,X,e,be,l,oe]);if(!0===v)return Object(k.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."});var ot,lt,ut=function(e){we(fe===e&&"ASC"===Ne?"DESC":"ASC"),me(e),ve(!0)},dt=function(){if(oe){var t="";t="all"===l?"All session":l.application_session_name,Ge("Waiting list - "+oe.position_title+" - "+t)}if(e.systemPositions&&e.waitingList){var n=[],s=1;for(var a in e.waitingList)if(Object.prototype.hasOwnProperty.call(e.waitingList,a)){var i=e.waitingList[a],c=Object(S.d)(e.systemPositions,i.position),r=C(e.userList,i.user),o=P(e.application_sessions,i.period),u={id:s.toString(),names:r?r.user_info.fname+" "+r.user_info.lname:"Unknown user",gender:r?"M"===r.user_info.sex?"Male":"Female":"-",national_id:r&&r.n_id?r.n_id:"-",phone:r?r.phone_number:"-",email:r?r.email:"-",user_position_marks:Number(i.user_position_marks.toFixed(2)),position_title:c.position_title,education_category:c.education_institute_id.education_category_title,waitingList_session:o?o.application_session_name:"Unknown session",date:Object(g.a)(i.createdAt),waiting_status:i.waiting_status};for(var d in He)Object.prototype.hasOwnProperty.call(He,d)&&(He[d].status||delete u[He[d].key]);n.push(u),s++}te(n),n=[],s=1}},bt=function(t,n){if(null===t||null===n)return null;var s=[];for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var i=t[a],c=Object(S.d)(n,i.position),r=C(e.userList,i.user),o=P(e.application_sessions,i.period),l={names:r?r.user_info.fname+" "+r.user_info.lname:"Unknown user",waitingList_id:i.id,gender:r?(r.user_info.sex,y.b.male):y.b.null,national_id:r&&r.n_id?r.n_id:"-",phone:r?r.phone_number:"-",email:r?r.email:"-",user_position_marks:Number(i.user_position_marks.toFixed(2)),position_id:c.position_id,position_title:c.position_title,education_category:c.education_institute_id.education_category_title,education_category_id:c.education_institute_id.education_institute_id,waitingList_session:o?o.application_session_name:"Unknown session",date:Object(g.a)(i.createdAt),waiting_status:i.waiting_status,waitingList_session_id:i.period};s.push(l)}return s},pt=function(e){return e!==y.c.names&&e!==y.c.waiting_status&&e!==y.c.waitingList_session&&e!==y.c.position_title&&e!==y.c.date&&e!==y.c.user_position_marks&&e!==y.c.national_id&&e!==y.c.education_category},jt=function(e,t,n,s){var a=e;return"all"!==t&&(a=a.filter((function(e){return e.waiting_status===t}))),"all"!==n&&(a=a.filter((function(e){return e.waitingList_session_id===n.application_session_id}))),"all"!==s&&(a=a.filter((function(e){return e.education_category===s.education_category_title}))),a};return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsxs)(f.b,{children:[Object(k.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(k.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===e.schoolLevels.education_categories||M?Object(k.jsx)(j.a,{}):0===e.schoolLevels.education_categories.length?Object(k.jsx)("span",{children:"No result found"}):Object(k.jsxs)(a.Fragment,{children:[Object(k.jsxs)("div",{onClick:function(){return rt("all")},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"===ct?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"===ct?Object(k.jsx)(o.sb,{}):Object(k.jsx)(o.tb,{}),Object(k.jsx)("span",{children:"All"})]}),e.schoolLevels.education_categories.map((function(e,t){return Object(k.jsxs)("div",{onClick:function(){return rt(e)},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"!==ct&&ct.education_institute_id===e.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"!==ct&&ct.education_institute_id===e.education_institute_id?Object(k.jsx)(o.sb,{}):Object(k.jsx)(o.tb,{}),Object(k.jsx)("span",{children:e.education_category_title})]},t+1)}))]})]}),Object(k.jsxs)("div",{className:"",children:[Object(k.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(k.jsxs)("div",{onClick:function(){return st(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-base px-2 hover:underline  text-blue-600  mb-4 w-full flex flex-row items-center gap-2 justify-between animate__animated animate__zoomIn",children:["all"!==l?"".concat(l.application_session_name," - ").concat(l.period):"All session",Object(k.jsx)(c.c,{className:"text-xl text-blue-600"})]})]}),Object(k.jsxs)("div",{className:"pt-1",children:[Object(k.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Claim types:"}),Q||null===bt(e.waitingList,e.systemPositions)?Object(k.jsx)(j.a,{}):function(e){var t=[{title:"All status",count:e.length,type:"all"}],n=Object.values(y.a),s=function(s){t.push({title:n[s],count:e.filter((function(e){return e.waiting_status===n[s]})).length,type:n[s]})};for(var a in n)s(a);return t}(bt(e.waitingList,e.systemPositions)).map((function(e,t){return Object(k.jsx)("div",{onClick:function(){return ie(e.type)},children:Object(k.jsx)(f.a,{title:e.title,count:e.count,active:ae===e.type})},e.title+t)}))]})]}),Object(k.jsxs)("section",{children:[Object(k.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(k.jsx)("div",{className:"col-span-6",children:Object(k.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(k.jsx)("span",{className:"text-3xl font-bold text-gray-700",children:"Waiting list report"}),Object(k.jsxs)("div",{onClick:function(){return pe(!0)},className:"flex flex-row gap-2",children:[Object(k.jsx)("span",{className:"text-gray-500",children:"Selected position: "}),Object(k.jsx)("span",{className:"text-blue-600 font-bold underline cursor-pointer",children:null!==oe?oe.position_title:"No position selected, Click to select"})]})]})}),Object(k.jsx)("div",{className:"col-span-6",children:Object(k.jsxs)("div",{className:"float-right mt-2",children:[e.waitingList&&e.waitingList.length>0&&Object(k.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(k.jsx)(i.d,{className:"text-2xl text-gray-500"}),Object(k.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(k.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",disabled:v,onClick:function(){dt(),Ue({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(k.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",onClick:function(){return function(){if(!document.querySelectorAll("#report_content tbody tr").length)return e.PushPopupAlert({title:"Can't generate Report of empty Data",theme:m.a.warning}),!1;var t="";t="all"===l?"All session":l.application_session_name;var n=document.getElementById("report_content"),s={doneBy:e.auth.user.fname+" "+e.auth.user.lname,title:ze,subjectTitle:"Position",subject:oe?oe.position_title:"",period:t,footer:"Online Recruitment",institute:oe?oe.education_institute_id.education_category_title:""};n&&Object(p.a)(s,n)}()},disabled:v,children:"PDF"})]}),Object(k.jsxs)("div",{onClick:function(){return pe(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(k.jsx)(i.e,{className:"text-xl"}),"Filter by position"]})]})})]}),Object(k.jsxs)("div",{className:"bg-white my-4",children:[Object(k.jsx)("div",{className:"w-full px-2 py-2",children:Object(k.jsx)("input",{onChange:function(e){return Pe(e.target.value)},type:"text",value:Ce,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded focus:border-gray-800",disabled:Q||null===bt(e.waitingList,e.systemPositions)})}),Object(k.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(k.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return ut("names")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Applicant names ",Object(k.jsx)(i.h,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return ut("gender")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Gender ",Object(k.jsx)(i.h,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return ut("user_position_marks")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Marks ",Object(k.jsx)(i.h,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return ut("education_category")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Institute ",Object(k.jsx)(i.h,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return ut("waiting_status")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(k.jsx)(i.h,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return ut("waitingList_session")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Session ",Object(k.jsx)(i.h,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return ut("date")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Date ",Object(k.jsx)(i.h,{})]})})]})}),Object(k.jsx)("tbody",{children:Q||null===bt(e.waitingList,e.systemPositions)?Object(k.jsx)(O.a,{cols:10}):0===jt(bt(e.waitingList,e.systemPositions),ae,l,ct).length?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:10,className:"px-2 py-2",children:Object(k.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(k.jsx)(r.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(k.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"}),Object(k.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(k.jsxs)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:[Object(k.jsx)("li",{onClick:function(){return pe(!0)},className:"underline text-gray-500 cursor-pointer",children:"Filter by position"}),Object(k.jsx)("li",{className:"text-gray-400 italic",children:"or"}),Object(k.jsx)("li",{className:"text-gray-500 underline",onClick:function(){return st(!0)},children:"Filter by period"})]})})]})})}):Object(g.k)(Oe,(ot=jt(bt(e.waitingList,e.systemPositions),ae,l,ct),lt=Ce,void 0===lt||""===lt?ot:ot.filter((function(e){var t;for(var n in e)if(t=!1,"names"!==n&&"gender"!==n&&"national_id"!==n&&"phone"!==n&&"email"!==n&&"user_position_marks"!==n&&"position_title"!==n&&"education_category"!==n&&"waitingList_session"!==n&&"date"!==n&&"waiting_status"!==n||e[n]&&(t=e[n].toString().toLowerCase().indexOf(lt.toLowerCase())>-1),t)break;return t}))),fe,Ne).map((function(e,t){return Object(k.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 cursor-pointer border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(k.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.names}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.national_id}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.gender}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.phone}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.user_position_marks}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.education_category}),Object(k.jsx)("td",{className:"px-2 py-2",children:Object(S.a)(e.waiting_status.toLowerCase())}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.waitingList_session}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.date})]},t+1)}))})]})]})]}),be&&l&&Object(k.jsx)(x.d,{title:Object(k.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(k.jsx)(_.g,{className:"text-5xl text-blue-600"}),Object(k.jsx)("div",{className:"flex flex-col",children:Object(k.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Filter by a position"})})]}),backDrop:!0,theme:x.c.default,close:function(){return null!==oe&&pe(!1)},backDropClose:!0,widthSizeClass:x.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(k.jsx)("div",{className:"px-2 pb-2",children:null===e.systemPositions?Object(k.jsx)(N.b,{type:N.a.dark}):0===e.systemPositions.length?Object(k.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(k.jsx)(o.Cb,{className:"text-6xl"}),Object(k.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(k.jsx)("span",{children:"No positions found! Please go back!"}),Object(k.jsx)("button",{onClick:function(){return W(!0),void e.getPositions((function(t,n){W(t),n.length&&e.PushPopupAlert({title:n,theme:m.a.danger})}))},className:"btn bg-yellow-100 text-yellow-700 my-4 hover:bg-yellow-200 ".concat(R&&"animate-pulse"),disabled:R,children:R?"Loading...":"Reload"})]})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)("span",{className:"text-gray-600 text-xs font-bold",children:"Filter by position name"}),Object(k.jsx)("input",{onChange:function(e){return Ee(e.target.value)},type:"text",className:"mb-4 bg-gray-100 px-3 py-2 rounded",placeholder:"Keyword..."})]}),Object(g.i)(e.systemPositions,Te).map((function(t,n){return Object(k.jsx)("div",{onClick:function(){var n;!function(e){var t="";t="all"===l?"All session":l.application_session_name,Ge("Waiting list - "+e+" - "+t)}(t.position_title),le(t),n=t.position_id,V(!0),e.getWaitingList(n,(function(t,n){!1===t&&(V(t),n.length>0&&e.PushPopupAlert({title:n,theme:m.a.danger}))})),pe(!1)},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(k.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(k.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(k.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(k.jsx)("div",{children:Object(k.jsx)(w.a,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:t.position_title}),Object(k.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(k.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:t.school_level_id.school_level_name})]}),Object(k.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:t.education_institute_id.education_category_title})]})]})}),Object(k.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(k.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(k.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})},n+1)}))]})})}),null!==De&&!0===De.status&&Object(k.jsx)(x.d,{title:Object(k.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(k.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",De.reportType," Report"]})]})}),backDrop:!0,theme:x.c.default,close:function(){return Ue(null)},backDropClose:!1,widthSizeClass:x.b.medium,displayClose:!0,padding:{title:!0},children:Object(k.jsxs)("div",{className:"px-6",children:[Object(k.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)("label",{children:"Title"}),Object(k.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(Ze&&"report_title"===Ze.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:ze,onChange:function(e){$e(null),Ge(e.target.value)},disabled:v}),Ze&&"report_title"===Ze.element&&Object(k.jsx)("span",{className:"text-red-500",children:Ze.msg})]}),Object(k.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(k.jsx)("label",{children:"Report content"}),Object(k.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:He.map((function(e,t){return Object(k.jsxs)("div",{className:"flex items-center gap-1 ".concat(pt(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return pt(e.key)&&function(e){var t=He.findIndex((function(t){return t.key===e})),n=He;n[t].status=!n[t].status,Ye(n);var s=n.find((function(e){return!1===e.status}));Je(!s),dt()}(e.key)},title:pt(e.key)?"":"Required for every report!",children:[e.status?Object(k.jsx)(o.r,{className:"w-6 h-6 text-blue-700"}):Object(k.jsx)(o.s,{className:"w-6 h-6"}),Object(k.jsx)("span",{children:e.title})]},t)}))}),Ze&&"report_content"===Ze.element&&Object(k.jsx)("span",{className:"text-red-500",children:Ze.msg})]})]}),Object(k.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(k.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return function(e){var t=He;for(var n in t)pt(t[n].key)&&(t[n].status=!e);Ye(t),Je(!e),dt()}(qe)},children:[qe?Object(k.jsx)(o.r,{className:"w-6 h-6 text-blue-700"}):Object(k.jsx)(o.s,{className:"w-6 h-6"}),Object(k.jsx)("span",{children:"Select all"})]}),ee&&!v&&Object(k.jsx)(h.a,{fileData:ee,fileName:ze,btnName:"Generate"})]})]})}),nt&&Object(k.jsx)(x.d,{title:Object(k.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(k.jsx)(o.Q,{className:"text-5xl text-blue-600"}),Object(k.jsx)("span",{className:"flex flex-col",children:"Choose a period"})]}),backDrop:!0,theme:x.c.default,close:function(){return null!==l&&st(!1)},backDropClose:!0,widthSizeClass:x.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(k.jsx)("div",{className:"px-2 pb-2",children:I?Object(k.jsx)(j.a,{}):0===e.application_sessions.length?Object(k.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(k.jsx)(o.Cb,{className:"text-6xl"}),Object(k.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(k.jsx)("span",{children:"No application periods found!"})})]}):Object(k.jsxs)("section",{children:[Object(k.jsxs)("div",{onClick:function(){u("all"),st(!1)},className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded px-2 py-2 cursor-pointer hover:bg-blue-100 hover:border-blue-500 mb-3",children:[Object(k.jsx)("div",{className:"font-bold text-xl",children:"All session"}),Object(k.jsx)("div",{className:"col-span-2 flex items-center justify-end",children:Object(k.jsx)("div",{className:"btn bg-blue-600 text-white mr-2",children:"Choose"})})]}),e.application_sessions.map((function(e,t){return Object(k.jsxs)("div",{onClick:function(){u(e),st(!1)},className:"grid grid-cols-12 bg-blue-50 border border-blue-200 rounded px-2 py-2 cursor-pointer hover:bg-blue-100 hover:border-blue-500 mb-3",children:[Object(k.jsxs)("div",{className:"col-span-5",children:[Object(k.jsx)("div",{className:"text-blue-500 text-sm italic",children:"Period"}),Object(k.jsx)("div",{className:"font-bold",children:e.application_session_name}),Object(k.jsx)("div",{className:"my-4"}),Object(k.jsx)("div",{className:"text-blue-500 text-sm italic",children:"Status"}),Object(k.jsx)("div",{className:"font-bold",children:!0===e.is_active?"Active":"Expired"})]}),Object(k.jsxs)("div",{className:"col-span-5",children:[Object(k.jsx)("div",{className:"text-blue-500 text-sm italic",children:"Start date"}),Object(k.jsx)("div",{className:"font-bold",children:e.application_start_date}),Object(k.jsx)("div",{className:"my-4"}),Object(k.jsx)("div",{className:"text-blue-500 text-sm italic",children:"Ending date"}),Object(k.jsx)("div",{className:"font-bold",children:e.application_end_date})]}),Object(k.jsx)("div",{className:"col-span-2 flex items-center justify-end",children:Object(k.jsx)("div",{className:"btn bg-blue-600 text-white mr-2",children:"Choose"})})]},t+1)}))]})})})]})}))}}]);
//# sourceMappingURL=29.eeb44f86.chunk.js.map