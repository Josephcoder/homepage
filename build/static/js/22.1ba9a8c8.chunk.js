(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[22,11,12,27,35,46],{1322:function(e,t,s){"use strict";s.r(t),s.d(t,"WaitingListDashboard",(function(){return q}));var a=s(26),r=s(25),i=s(28),n=s(27),o=s(4),c=s.n(o),l=s(53),d=s(76),u=s(67),p=s(12),m=s(22),x=s(3),h=s(202),b=s(681),j=s(208),f=s(91),g=s(23),O=s(21),_=s(765),v=s(42),P=s(24),y=s(923),E=s(683),N=s(1),C=function(){return Object(N.jsxs)("div",{className:"grid 2xl:grid-cols-5 xl:grid-cols-4 lg:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-4 items-center animate-pulse my-3 mr-5",children:[Object(N.jsx)("div",{className:"flex items-center h-36 w-36 rounded-full bg-gray-400 space-x-2 mb-2 lg:mb-0 mx-auto"}),Object(N.jsx)("div",{className:"flex items-center h-28 bg-gray-400 w-full rounded-md space-x-2 mb-2 lg:mb-0"}),Object(N.jsx)("div",{className:"flex items-center h-28 bg-gray-400 w-full rounded-md space-x-2 mb-2 lg:mb-0"}),Object(N.jsx)("div",{className:"flex items-center h-28 bg-gray-400 w-full rounded-md space-x-2 mb-2 lg:mb-0"}),Object(N.jsx)("div",{className:"flex items-center h-28 bg-gray-400 w-full rounded-md space-x-2 mb-2 lg:mb-0"})]})},R=c.a.memo(C),T=s(709),S=s(723),w=s(121),L=s(71),A=function(e){return Object(N.jsxs)("div",{className:"mt-3 rounded flex flex-col md:flex-row md:justify-between items-start",children:[Object(N.jsx)("section",{children:Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3 mb-2",children:[Object(N.jsx)(w.b,{className:"text-7xl text-blue-600 hidden md:block"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:e.reportTitle}),Object(N.jsxs)("div",{onClick:function(){return e.setSelectPosition(!0)},className:"flex flex-row items-center gap-2 mt-1",children:[Object(N.jsx)("span",{className:"text-gray-500",children:"Selected position: "}),Object(N.jsx)("span",{className:"text-gray-700 text-lg font-bold underline cursor-pointer",children:null!==e.thisPosition?e.thisPosition.position_title:"All positions"}),Object(N.jsxs)("button",{onClick:function(){return e.setSelectPosition(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm",children:[Object(N.jsx)(L.g,{className:"text-xl"}),"Filter by position"]})]})]})]})}),Object(N.jsxs)("section",{className:"w-full md:w-auto my-2 md:my-0",children:[Object(N.jsx)("section",{children:e.education_categories&&e.education_categories.length>0&&Object(N.jsxs)("div",{className:"flex items-start md:items-center justify-start md:justify-end gap-2",children:[e.allEducation&&Object(N.jsx)("div",{className:"w-auto ".concat(e.loading||e.loadingEducation?"cursor-not-allowed":"cursor-pointer"," ").concat("all"===e.thisEducation?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.loading&&!e.loadingEducation&&e.setThisEducation("all")},children:Object(N.jsxs)("section",{className:"flex-1",children:[Object(N.jsx)(p.n,{className:"inline-block mr-1 text-xs"}),Object(N.jsx)("span",{children:"All"})]})}),e.education_categories.map((function(t,s){return Object(N.jsx)("div",{className:"w-auto ".concat(e.loading?"cursor-not-allowed":"cursor-pointer"," ").concat("all"!==e.thisEducation&&t.education_institute_id===e.thisEducation.education_institute_id?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.loading&&!e.loadingEducation&&e.setThisEducation(t)},children:Object(N.jsxs)("div",{className:"flex-1",children:[Object(N.jsx)(p.n,{className:"inline-block mr-1 text-xs"}),Object(N.jsx)("span",{children:t.education_category_title})]})},t.education_institute_id+s)}))]})}),Object(N.jsxs)("select",{className:"bg-white text-gray-600 border border-gray-400 rounded p-2 focus:outline-none",value:e.thisPeriod,disabled:e.loading||e.loadingEducation,onChange:function(t){e.setThisPeriod(t.target.value)},children:[Object(N.jsx)("option",{value:"all",children:"All Session"}),e.application_sessions.map((function(e,t){return Object(N.jsx)("option",{value:e.session_plan_id,children:e.session_plan_name},e.session_plan_id+t)}))]})]})]})},I=c.a.memo(A),D=s(688),k=s(687),F=function(e){var t=function(){var t=[],s=[],a=[],r=[],i=[];return function(e){var t=[],s=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s.includes(e[a].waitingList_session_id)||(s.push(e[a].waitingList_session_id),t.push(e[a].waitingList_session)));return{sessionNames:t,sessionIds:s}}(e.waitingListData).sessionIds.forEach((function(n){var o=e.waitingListData.filter((function(e){return e.waitingList_session_id===n}));for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&function(){var n=o[c],l=Object(D.getPeriodById)(e.sessions,n.waitingList_session_id);i.includes(n.waitingList_session_id)||(i.push(n.waitingList_session_id),r.push(l?l.session_plan_name:"Unknown"),"all"!==e.thisGender?(t.push(o.filter((function(t){return t.waitingList_session_id===n.waitingList_session_id&&t.waiting_status===_.a.WAITING&&t.gender.toString().toLocaleLowerCase()===e.thisGender.toString().toLocaleLowerCase()})).length),s.push(o.filter((function(t){return t.waitingList_session_id===n.waitingList_session_id&&t.waiting_status===_.a.PLACED&&t.gender.toString().toLocaleLowerCase()===e.thisGender.toString().toLocaleLowerCase()})).length),a.push(o.filter((function(t){return t.waitingList_session_id===n.waitingList_session_id&&t.waiting_status===_.a.PENDING&&t.gender.toString().toLocaleLowerCase()===e.thisGender.toString().toLocaleLowerCase()})).length)):(t.push(o.filter((function(e){return e.waitingList_session_id===n.waitingList_session_id&&e.waiting_status===_.a.WAITING})).length),s.push(o.filter((function(e){return e.waitingList_session_id===n.waitingList_session_id&&e.waiting_status===_.a.PLACED})).length),a.push(o.filter((function(e){return e.waitingList_session_id===n.waitingList_session_id&&e.waiting_status===_.a.PENDING})).length)))}()})),{waitingData:t,placementData:s,failedData:a,labels:r}};return Object(N.jsxs)("section",{className:"my-3 max-w-full bg-white",children:[Object(N.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(N.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Waiting list chart"})}),Object(N.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(N.jsx)(k.a,{labels:t().labels,categoriesLabel:t().labels,dataLabels:!1,yaxisText:"(Applicants)",tooltipText:"Applicants",series:[{name:"Waiting list",data:t().waitingData},{name:"Pending placement",data:t().failedData},{name:"Confirmed placement",data:t().placementData}],colors:["#469769","#d97724","#4b5563"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:e.chartHeight})})]})},M=c.a.memo(F),U=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).setLoading=function(e){r.setState({loading:e})},r.setLoadingWaitingList=function(e){r.setState({loadingWaitingList:e})},r.setThisPosition=function(e){r.setState({thisPosition:e})},r.setSelectPosition=function(e){r.setState({selectPosition:e})},r.setThisEducation=function(e){r.setState({thisEducation:e})},r.setThisGender=function(e){r.setState({thisGender:e})},r.setSearchPositionInput=function(e){r.setState({searchPositionInput:e})},r.setThisPeriod=function(e){r.setState({thisPeriod:e})},r.componentDidMount=function(){null!==r.props.schoolLevels.education_categories&&0!==r.props.schoolLevels.education_categories.length||r.props.loadEducationCategories(r.setLoading),null==r.props.application_sessions&&r.props.GetAllSessionPlans((function(e,t){r.setLoading(e),e||t.length&&r.props.PushPopupAlert({title:t,theme:O.a.danger})})),null===r.props.systemPositions?r.props.getPositions((function(e,t){r.setLoading(e),t.length&&r.props.PushPopupAlert({title:t,theme:O.a.danger})})):r.state.loading&&r.setLoading(!1),r.state.loadingWaitingList&&r.props.getWaitingList((function(e,t){!1===e&&(r.setLoadingWaitingList(e),t.length>0&&r.props.PushPopupAlert({title:t,theme:O.a.danger}))}))},r.FC_WaitingListStatus=function(e){return[{title:"All applicants",count:{all:e,waiting:e.filter((function(e){return e.waiting_status===_.a.WAITING})),placed:e.filter((function(e){return e.waiting_status===_.a.PLACED})),failed:e.filter((function(e){return e.waiting_status===_.a.PENDING}))},type:"all"},{title:"Male applicants",count:{all:e.filter((function(e){return e.gender===_.b.male})),waiting:e.filter((function(e){return e.gender===_.b.male&&e.waiting_status===_.a.WAITING})),placed:e.filter((function(e){return e.gender===_.b.male&&e.waiting_status===_.a.PLACED})),failed:e.filter((function(e){return e.gender===_.b.male&&e.waiting_status===_.a.PENDING}))},type:"male"},{title:"Female applicants",count:{all:e.filter((function(e){return e.gender===_.b.female})),waiting:e.filter((function(e){return e.gender===_.b.female&&e.waiting_status===_.a.WAITING})),placed:e.filter((function(e){return e.gender===_.b.female&&e.waiting_status===_.a.PLACED})),failed:e.filter((function(e){return e.gender===_.b.female&&e.waiting_status===_.a.PENDING}))},type:"female"}]},r.FC_WaitingListData=function(e,t){if(null===e||null===t||null===r.props.application_sessions)return null;var s=[];for(var a in e)if(e[a].user_info){var i=e[a],n=Object(v.c)(t,i.position_id),o=Object(y.getPeriodById)(r.props.application_sessions,i.session_id),c={names:i.user_info.fname+" "+i.user_info.lname,waitingList_id:i._id,gender:(i.user_info.sex,_.b.male),national_id:i.n_id,phone:i.phone_number,email:i.email,user_position_marks:Number(i.marks.toFixed(2)),position_id:n?n.position_id:"Unknown position",position_title:n?n.position_title:"Unknown position",education_category:n?n.education_institute_id.education_category_title:"",education_category_id:n?n.education_institute_id.education_institute_id:"",waitingList_session:o?o.session_plan_name:"Unknown session",date:Object(P.a)(i.createdAt),waiting_status:i.status,status:i.status,waitingList_session_id:i.session_id};s.push(c)}return s},r.FC_FilterWaitingList=function(e,t,s,a,r){var i=e;return"all"!==t&&(i=i.filter((function(e){return e.status===t}))),r&&(i=i.filter((function(e){return e.position_id===r.position_id}))),"all"!==s&&(i=i.filter((function(e){return e.waitingList_session_id===s}))),"all"!==a&&(i=i.filter((function(e){return e.education_category===a.education_category_title}))),i},r.getWaitingListDataByTitle=function(e){return e.find((function(e){return e.type===r.state.thisGender}))},r.displayGenderTitle=function(e){return"male"===e?"All male applicants":"female"===e?"All female applicants":"All applicants"},r.state={thisPeriod:"all",loading:!0,loadingWaitingList:!0,thisPosition:null,selectPosition:!1,thisEducation:"all",thisGender:"all",searchPositionInput:""},r}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return this.state.loading||null===this.props.application_sessions?Object(N.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):0===this.props.application_sessions.length?Object(N.jsx)(E.a,{}):Object(N.jsxs)("div",{children:[Object(N.jsx)(I,{education_categories:this.props.schoolLevels.education_categories,loading:this.state.loading,loadingEducation:this.state.loading,thisEducation:this.state.thisEducation,setThisEducation:this.setThisEducation,thisPeriod:this.state.thisPeriod,setThisPeriod:this.setThisPeriod,application_sessions:this.props.application_sessions,reportTitle:"Waiting list Dashboard",allEducation:!0,setSelectPosition:this.setSelectPosition,thisPosition:this.state.thisPosition}),(this.state.loadingWaitingList||null===this.props.waitingList)&&Object(N.jsx)("section",{children:Object(N.jsx)(R,{})}),!this.state.loadingWaitingList&&null!==this.props.waitingList&&Object(N.jsxs)("section",{children:[this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)&&this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition)&&Object(N.jsxs)("section",{className:"my-2",children:[Object(N.jsxs)("div",{className:"text-2xl font-semibold text-gray-600 flex items-center gap-2",children:[this.displayGenderTitle(this.state.thisGender)," ",Object(N.jsx)("select",{className:"btn bg-white border border-blue-300 text-gray-600 hover:bg-gray-50 text-sm focus:outline-none",value:this.state.thisGender,onChange:function(t){return e.setThisGender(t.target.value)},children:this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition)).map((function(e,t){return Object(N.jsx)("option",{value:e.type,children:e.title},e.type+t)}))})]}),this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition)))&&Object(N.jsx)(S.a,{dataLabels:[{title:"Total applicants",icon:l.c,iconColor:"blue",count:this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.all.length},{title:"Waiting Applicants",icon:l.c,iconColor:"green",count:this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.waiting.length},{title:"Placed & Not confirmed",icon:l.c,iconColor:"yellow",count:this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.failed.length},{title:"Placed & Confirmed",icon:l.c,iconColor:"gray",count:this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.placed.length}],labelsOnRow:5,children:Object(N.jsx)("div",{className:"flex justify-center",children:Object(N.jsx)(T.a,{options:{labels:["Waiting list","Placed list","Failed exam"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#d97724","#4b5563"]},series:[this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.waiting.length,this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.placed.length,this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.failed.length],width:210})})})]}),this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)&&Object(N.jsx)(M,{waitingListData:this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition),sessions:this.props.application_sessions,chartHeight:650,thisGender:this.state.thisGender}),this.state.selectPosition&&Object(N.jsx)(g.d,{title:Object(N.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(N.jsx)(u.j,{className:"text-5xl text-blue-600"}),Object(N.jsx)("div",{className:"flex flex-col",children:Object(N.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Filter by a position"})})]}),backDrop:!0,theme:g.c.default,close:function(){e.setSelectPosition(!1),e.setSearchPositionInput("")},backDropClose:!0,widthSizeClass:g.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(N.jsx)("div",{className:"px-2 pb-2",children:null===this.props.systemPositions?Object(N.jsx)(f.b,{type:f.a.dark}):0===this.props.systemPositions.length?Object(N.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(N.jsx)(p.Lb,{className:"text-6xl"}),Object(N.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(N.jsx)("span",{children:"No positions found! Please go back!"})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{className:"text-gray-600 text-xs font-bold",children:"Filter by position name"}),Object(N.jsx)("input",{onChange:function(t){return e.setSearchPositionInput(t.target.value)},type:"text",className:"mb-4 bg-gray-100 px-3 py-2 rounded",placeholder:"Keyword..."})]}),Object(N.jsx)("div",{onClick:function(){e.setThisPosition(null),e.setSelectPosition(!1),e.setSearchPositionInput("")},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(N.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(N.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(N.jsx)("div",{children:Object(N.jsx)(d.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(N.jsx)("div",{className:"flex flex-col",children:Object(N.jsx)("span",{className:"text-base lg:text-lg font-bold text-gray-700",children:"All position"})})]})}),Object(N.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(N.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(N.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})}),Object(P.m)(this.props.systemPositions,this.state.searchPositionInput).map((function(t,s){return Object(N.jsx)("div",{onClick:function(){e.setThisPosition(t),e.setSelectPosition(!1),e.setSearchPositionInput("")},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(N.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(N.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(N.jsx)("div",{children:Object(N.jsx)(d.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:t.position_title}),Object(N.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(N.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:t.school_level_id.school_level_name})]}),Object(N.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:t.education_institute_id.education_category_title})]})]})}),Object(N.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(N.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(N.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})},s+1)}))]})})})]})]})}}]),s}(o.Component),q=Object(m.b)((function(e){var t=e.auth,s=e.system_settings,a=e.sessionPlan,r=e.schoolLevels,i=e.waitingList;return{auth:t,application_sessions:a.allSessionPlans,systemPositions:s.systemPositions,schoolLevels:r,waitingList:i}}),{getWaitingList:j.a,GetAllSessionPlans:h.b,loadEducationCategories:x.Ec,getPositions:b.d,PushPopupAlert:x.Nb})(U)},680:function(e,t,s){"use strict";s.d(t,"b",(function(){return x})),s.d(t,"a",(function(){return h}));var a=s(26),r=s(25),i=s(28),n=s(27),o=s(4),c=s.n(o),l=s(22),d=s(3),u=s(12),p=s(1),m=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).componentDidMount=function(){return r.props.PageHasSubNav(!0)},r.componentWillUnmount=function(){return r.props.PageHasSubNav(!1)},r.state={loading:!1},r}return Object(r.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(p.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(c.a.Component),x=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.Lb,PageHasSubNav:d.Mb})(m),h=function(e){var t=e.title,s=void 0===t?"":t,a=e.icon,r=void 0===a?u.n:a,i=e.active,n=void 0!==i&&i,o=e.count,c=void 0===o?0:o,l=r;return Object(p.jsxs)("section",{className:"".concat(!0===n?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:s})]}),c>0?Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:c}):null]})}},681:function(e,t,s){"use strict";s.d(t,"e",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"a",(function(){return x})),s.d(t,"d",(function(){return h})),s.d(t,"b",(function(){return b})),s.d(t,"f",(function(){return j}));var a=s(5),r=s.n(a),i=s(7),n=s(10),o=s.n(n),c=s(6),l=s(9),d=s(16),u=s(15),p=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,o.a.get("".concat(l.a.AUTH,"/settings"));case 5:a=t.sent,s({type:c.a.GET_SYSTEM_SETTINGS,payload:a.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){var a,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,o.a.get("".concat(l.a.AUTH,"/allroleaccess"));case 5:a=t.sent,i=a.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),s({type:c.a.GET_TASK_ACCESS,payload:i}),e(!1,"",i),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,o.a.get("".concat(l.a.APPLICATION,"/position"));case 5:a=t.sent,s({type:c.a.GET_POSTIONS,payload:a.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return console.log({deletePosition:e}),function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},682:function(e,t,s){"use strict";s.d(t,"g",(function(){return m})),s.d(t,"d",(function(){return x})),s.d(t,"b",(function(){return h})),s.d(t,"f",(function(){return b})),s.d(t,"a",(function(){return j})),s.d(t,"c",(function(){return f})),s.d(t,"e",(function(){return g}));var a,r=s(5),i=s.n(r),n=s(7),o=s(10),c=s.n(o),l=s(6),d=s(9),u=s(16),p=s(15),m=30;!function(e){e.waiting="waiting",e.approved="approved",e.rejected="rejected"}(a||(a={}));var x=function(e,t){return t&&t(!0,""),function(){var s=Object(n.a)(i.a.mark((function s(a){var r;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,Object(u.b)(),s.next=4,c.a.get("".concat(d.a.AUTH,"/users?page=").concat(e,"&limit=").concat(m));case 4:r=s.sent,console.log("===================================="),console.log({fetchUserAccess:r}),console.log("===================================="),a({type:l.a.FETCH_USERS_ACCESS,payload:{users:[{data:r.data.users,page:e}],next:r.data.next,previous:r.data.previous,total_users:r.data.total_users}}),t&&t(!1,"",r.data.users),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(0),console.error({user_error:s.t0}),t&&t(!1,Object(p.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[0,12]])})));return function(e){return s.apply(this,arguments)}}()},h=function(e,t){return function(){var s=Object(n.a)(i.a.mark((function s(a){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.BLOCK_USER_TO_SYSTEM,payload:{id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},b=function(e,t){return function(){var s=Object(n.a)(i.a.mark((function s(a){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.UNBLOCK_USER_TO_SYSTEM,payload:{id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},j=function(e,t){return function(){var s=Object(n.a)(i.a.mark((function s(a){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.ASSIGN_ROLE_TO_USER,payload:{data:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},f=function(e,t){return function(){var s=Object(n.a)(i.a.mark((function s(a){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.CUSTOMIZE_USER_ACCESS,payload:{data:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},g=function(e,t){return function(){var s=Object(n.a)(i.a.mark((function s(a){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.RESET_USER_ACCESS,payload:{user_id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}},683:function(e,t,s){"use strict";s(4);var a=s(12),r=s(1);t.a=function(){return Object(r.jsx)("div",{className:"my-5",children:Object(r.jsxs)("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center p-6 my-8 text-yellow-900 border border-yellow-900",children:[Object(r.jsx)(a.Q,{className:"text-6xl md:text-9xl"}),Object(r.jsxs)("div",{className:"text-center flex flex-col",children:[Object(r.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:"No session available"}),Object(r.jsx)("span",{className:"text-lg",children:"Please Wait for the system to publish the sessions or contact the administrator"})]})]})})}},684:function(e,t,s){"use strict";s.d(t,"e",(function(){return m})),s.d(t,"c",(function(){return x})),s.d(t,"d",(function(){return h})),s.d(t,"a",(function(){return b})),s.d(t,"f",(function(){return f}));var a,r=s(17),i=s(4),n=s.n(i),o=s(71),c=s(38),l=s(42),d=s(24),u=s(688),p=s(1);!function(e){e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.STATUS="exam_status"}(a||(a={}));var m=function(e){return e!==a.COURSER_NAME&&e!==a.COURSE_CODE&&e!==a.PERIOD&&e!==a.STATUS},x=[{key:a.COURSER_NAME,title:"Course names",status:!0},{key:a.COURSE_CODE,title:"Course code",status:!0},{key:a.SCHOOL_LEVEL,title:"School levels",status:!0},{key:a.PERIOD,title:"Exam period",status:!0},{key:a.DATE,title:"Exam date",status:!0},{key:a.TIME,title:"Exam time",status:!0},{key:a.DURATION,title:"Exam duration",status:!0},{key:a.STATUS,title:"Exam Status",status:!0}],h=function(e){return"Done"===e?"Completed":"Editing"===e?"In exam":e},b=function(e,t,s){var a=[],r=[],i=function(i){if(Object.prototype.hasOwnProperty.call(t,i)){if(r.includes(t[i].id))return"continue";r.push(t[i].id);var n=e.find((function(e){return e.course_id===t[i].course}));if(n){var o=s.find((function(e){return e.course===t[i].course&&e.period===t[i].period}));a.push({course_name:n.course_name,course_code:n.course_code,description:n.description,school_levels:n.school_levels,course_id:n.course_id,exam:t[i],preparation_status:o?o.exam_status:"remaining"})}}};for(var n in t)i(n);return a},j=function(e,t){return"all"===t?e:e.filter((function(e){return e.preparation_status===t}))},f=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var a in e)if(s=!1,"course_name"!==a&&"course_code"!==a&&"preparation_status"!==a||(s=e[a].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},g=function(e){var t=Object(i.useState)(""),s=Object(r.a)(t,2),a=s[0],n=s[1],m=Object(i.useState)(!1),x=Object(r.a)(m,2),g=x[0],O=x[1],_=Object(i.useState)(""),v=Object(r.a)(_,2),P=v[0],y=v[1],E=Object(i.useState)("ASC"),N=Object(r.a)(E,2),C=N[0],R=N[1],T=function(e){P===e&&"ASC"===C?(R("DESC"),y(e),O(!0)):(R("ASC"),y(e),O(!0))};return Object(p.jsx)(i.Fragment,{children:Object(p.jsxs)("div",{className:"bg-white my-4",children:[Object(p.jsx)("div",{className:"w-full px-2 py-2",children:Object(p.jsx)("input",{onChange:function(e){return n(e.target.value)},type:"text",value:a,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.doneExamsData&&j(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress).length<=0)})}),Object(p.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(p.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return T("course_name")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(p.jsx)(o.j,{})]})}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return T("preparation_status")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Exam Status ",Object(p.jsx)(o.j,{})]})})]})}),Object(p.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:7,className:"px-2 py-2",children:Object(p.jsx)(c.a,{})})}):e.examsListData&&e.doneExamsData&&j(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress).length<=0?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:7,className:"px-2 py-2 text-center",children:"No Exam list available!"})}):e.examsListData&&e.doneExamsData&&Object(d.p)(g,f(j(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress),a),P,C).map((function(t,s){return Object(p.jsxs)("tr",{className:"".concat("Done"===t.preparation_status?"bg-blue-50":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(p.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(p.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(t.course_name)," (",Object(p.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.exam_date):"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(u.getPeriodById)(e.thisPeriod,t.exam.period)?Object(u.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:Object(l.a)(h(t.preparation_status))})]},s+1)}))})]})]})})};t.b=n.a.memo(g)},686:function(e,t,s){"use strict";s(4);var a=s(1);t.a=function(e){var t=function(){for(var t=[],s=0;s<e.cols;s++)t.push(s);return t.map((function(e){return Object(a.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(a.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},687:function(e,t,s){"use strict";var a=s(17),r=s(4),i=s.n(r),n=s(708),o=s.n(n),c=s(1),l={borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},d=function(e){var t=Object(r.useState)(!0),s=Object(a.a)(t,2),i=s[0],n=s[1],d=Object(r.useState)({chart:{events:{dataPointSelection:function(t,s,a){console.log({labelClicked:a.w.config.labels[a.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(a.dataPointIndex,a.seriesIndex)}},stacked:!!e.stacked&&e.stacked},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"}}),u=Object(a.a)(d,2),p=u[0],m=u[1];return Object(r.useEffect)((function(){e.colors&&e.colors.length>0&&i?m({chart:{stacked:!!e.stacked&&e.stacked,events:{dataPointSelection:function(t,s,a){console.log({chartClicked:a.w.config.labels[a.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(a.dataPointIndex,a.seriesIndex)}},zoom:{enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"},colors:e.colors}):i&&m({chart:{stacked:!!e.stacked&&e.stacked,events:{dataPointSelection:function(t,s,a){console.log({labelClicked:a.w.config.labels[a.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(a.dataPointIndex,a.seriesIndex)}},zoom:{enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"}}),n(!1)}),[i,p,e]),i?Object(c.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):Object(c.jsx)("div",{className:"w-full",children:Object(c.jsx)(o.a,{options:p,series:e.series,type:"bar",width:"100%",height:e.chartHeight?e.chartHeight:void 0})})};t.a=i.a.memo(d)},688:function(e,t,s){"use strict";s.r(t),s.d(t,"getExamByCourseId",(function(){return X})),s.d(t,"getPeriodById",(function(){return Y})),s.d(t,"loadAllExams",(function(){return H})),s.d(t,"reportTitleType",(function(){return a})),s.d(t,"ExamReport",(function(){return K}));var a,r=s(5),i=s.n(r),n=s(7),o=s(26),c=s(25),l=s(28),d=s(27),u=s(4),p=s.n(u),m=s(71),x=s(204),h=s(12),b=s(22),j=s(3),f=s(202),g=s(690),O=s(38),_=s(680),v=s(160),P=s(8),y=s(21),E=s(42),N=s(24),C=s(683),R=s(17),T=s(698),S=s(684),w=s(1),L=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",i=[];i="all"===r?e:e.filter((function(e){return e.exam_stastus===r})),s&&(i=i.filter((function(e){return e.exam.exam_location&&e.exam.exam_location.district_id===s}))),a&&(i=i.filter((function(e){return e.course_id===a})));for(var n=0;n<i.length;n++)for(var o=n;o<i.length;o++)i[o].user_total_marks>i[n].user_total_marks&&(t=i[o],i[o]=i[n],i[n]=t);return i},A=p.a.memo(Object(b.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(u.useState)(""),s=Object(R.a)(t,2),a=s[0],r=s[1];return Object(w.jsx)(u.Fragment,{children:Object(w.jsxs)("div",{className:"bg-white my-4",children:[Object(w.jsx)("div",{className:"w-full px-2 py-2",children:Object(w.jsx)("input",{onChange:function(e){return r(e.target.value)},type:"text",value:a,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.candidatePerformanceData&&L(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).length<=0)})}),Object(w.jsx)("div",{className:"w-full overflow-x-auto",children:Object(w.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(w.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Applicants"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Email"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(w.jsx)("td",{className:"px-2 py-2",children:Object(w.jsx)("div",{className:"flex items-center gap-1",children:"Exam"})}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam period"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam start time"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam end time"}),Object(w.jsx)("td",{className:"px-2 py-2",children:Object(w.jsx)("div",{className:"flex items-center gap-1",children:"Marks"})}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(w.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:12,className:"px-2 py-2",children:Object(w.jsx)(O.a,{})})}):e.candidatePerformanceData&&L(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).length<=0?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:12,className:"px-2 py-2 text-center",children:"No applicant list available!"})}):e.candidatePerformanceData&&Object(T.g)(L(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).slice(0,30),a).map((function(t,s){return Object(w.jsxs)("tr",{className:"".concat(Object(T.d)(t.exam_stastus)," text-gray-600 hover:bg-blue-100 hover:text-blue-700 text-sm"),children:[Object(w.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(w.jsx)("td",{className:"px-2 py-2",children:Object(E.a)(t.user_name)}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.national_id}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.user_email}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.user_phone}),Object(w.jsxs)("td",{className:"px-2 py-2",children:[Object(E.a)(t.course_name)," (",Object(w.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam&&Y(e.thisPeriod,t.exam.period)?Y(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam.exam_date?Object(N.a)(t.exam.exam_date):"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam.start_time?Object(N.q)(t.exam.start_time).timeAMPM:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam.end_time?Object(N.q)(t.exam.end_time).timeAMPM:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam_stastus!==P.i.Editing?Number(t.user_total_marks.toFixed(1))+"%":"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:Object(E.a)(Object(S.d)(t.exam_stastus))})]},s+1)}))})]})})]})})}))),I=s(700),D=s(722),k=s(47),F=function(e,t,s,a,r){var i,n=0,o=0,c=[],l=[],d=[],u=s.filter((function(e){return"done"===e.exam_status.toLocaleLowerCase()})),p=function(s){if(Object.prototype.hasOwnProperty.call(u,s)){if(d.includes(u[s].id))return"continue";d.push(u[s].id);var i=e.find((function(e){return e.course_id===u[s].course})),p=0;if(i){var m=a.filter((function(e){return e.course===u[s].course&&e.exam_location&&e.exam_location.district_id===r}));for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)){if(l.includes(m[x].user.user_id))continue;l.push(m[x].user.user_id),p+=m[x].total_marks,m[x].user_status!==P.i.Editing&&m[x].total_marks>=50?n+=1:m[x].user_status!==P.i.Editing&&(o+=1)}var h=t.find((function(e){return e.course===u[s].course&&e.period===u[s].period}));h&&c.push({course_name:i.course_name,course_code:i.course_code,description:i.description,school_levels:i.school_levels,course_id:i.course_id,exam:h,pass_applicant:n,failed_applicant:o,applicants:l.length,user_total_marks:p?p/l.length:p}),p=0,l=[]}}d=[]};for(var m in u)p(m);for(var x=0;x<c.length;x++)for(var h=x;h<c.length;h++)c[h].user_total_marks>c[x].user_total_marks&&(i=c[h],c[h]=c[x],c[x]=i);return c},M=p.a.memo(Object(b.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(u.useState)(""),s=Object(R.a)(t,2),a=s[0],r=s[1];return Object(w.jsx)(u.Fragment,{children:Object(w.jsxs)("div",{className:"bg-white my-4 max-w-full overflow-x-auto",children:[Object(w.jsx)("div",{className:"w-full px-2 py-2",children:Object(w.jsx)("input",{onChange:function(e){return r(e.target.value)},type:"text",value:a,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&F(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).slice(0,30).length<=0)})}),Object(w.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(w.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",children:Object(w.jsx)("div",{className:"flex items-center gap-1",children:"Course"})}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Pass Applicants"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Failed Applicants"}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",children:Object(w.jsx)("div",{className:"flex items-center gap-1",children:"Percentage"})})]})}),Object(w.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:7,className:"px-2 py-2",children:Object(w.jsx)(O.a,{})})}):e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&F(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).length<=0?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:7,className:"px-2 py-2 text-center",children:Object(w.jsx)(v.b,{theme:v.a.Dark,value:"No Exam list available!"})})}):e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&Object(k.a)(F(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).slice(0,30),a).map((function(t,s){return Object(w.jsxs)("tr",{className:"bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm",children:[Object(w.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(w.jsxs)("td",{className:"px-2 py-2",children:[Object(E.a)(t.course_name)," (",Object(w.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(N.a)(t.exam.exam_date):"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam&&Y(e.thisPeriod,t.exam.period)?Y(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:void 0!==t.pass_applicant?t.pass_applicant:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:void 0!==t.failed_applicant?t.failed_applicant:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:Number(t.user_total_marks.toFixed(1))+"%"})]},s+1)}))})]})]})})}))),U=function(e){return Object(w.jsx)(u.Fragment,{children:e.reportTitle!==a.EXAM_PERFORMANCE&&e.reportTitle!==a.EXAM_DISTRICT_PERFORMANCE&&Object(w.jsxs)("div",{className:"pt-1",children:[Object(w.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Filter by statuses:"}),e.reportTitle===a.EXAM_PREPARATION&&Object(w.jsxs)("section",{children:[Object(w.jsx)("div",{onClick:function(){return e.setFilterPreparation("all")},children:Object(w.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterPreparation})}),Object(w.jsx)("div",{onClick:function(){return e.setFilterPreparation("prepared")},children:Object(w.jsx)(_.a,{title:"Prepared",count:0,active:"prepared"===e.filterPreparation})}),Object(w.jsx)("div",{onClick:function(){return e.setFilterPreparation("not prepared")},children:Object(w.jsx)(_.a,{title:"Not Prepared",count:0,active:"not prepared"===e.filterPreparation})})]}),e.reportTitle===a.EXAMINATION_PROGRESS&&Object(w.jsxs)("section",{children:[Object(w.jsx)("div",{onClick:function(){return e.setFilterExamProgress("all")},children:Object(w.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterExamProgress})}),Object(w.jsx)("div",{onClick:function(){return e.setFilterExamProgress("Done")},children:Object(w.jsx)(_.a,{title:"Completed exam",count:0,active:"Done"===e.filterExamProgress})}),Object(w.jsx)("div",{onClick:function(){return e.setFilterExamProgress("Active")},children:Object(w.jsx)(_.a,{title:"Remaining Exam",count:0,active:"Active"===e.filterExamProgress})})]}),(e.reportTitle===a.APPLICANTS_PERFORMANCE||e.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(w.jsxs)("section",{children:[Object(w.jsx)("div",{onClick:function(){return e.setFilterApplicantPerformance("all")},children:Object(w.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterApplicantPerformance})}),Object.values(P.i).map((function(t,s){return Object(w.jsx)("div",{onClick:function(){return e.setFilterApplicantPerformance(t)},children:Object(w.jsx)(_.a,{title:Object(S.d)(t),count:0,active:e.filterApplicantPerformance===t})},s+t)}))]})]})})},q=p.a.memo(U),W=s(704),G=s(53),z=s(746),B=p.a.memo(Object(b.b)((function(e){var t=e.adminExamReport,s=e.schoolLevels,a=e.course,r=e.prepareExam;return{schoolLevels:s,courses:a.courses,examsList:r.examsList,adminExamReport:t}}),{SetReportDistrictId:j.Ub})((function(e){var t=Object(u.useState)(!1),s=Object(R.a)(t,2),r=s[0],i=s[1],n=Object(u.useState)(!1),o=Object(R.a)(n,2),c=o[0],l=o[1],d=Object(u.useState)(!1),p=Object(R.a)(d,2),x=p[0],h=p[1],b=Object(u.useState)(!1),j=Object(R.a)(b,2),f=j[0],g=j[1];return Object(u.useEffect)((function(){e.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&null===e.adminExamReport.reportDistrictId&&l(!0),e.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&null!==e.adminExamReport.reportDistrictId&&l(!1)}),[e.adminExamReport.reportDistrictId,e.reportTitle]),Object(w.jsxs)(u.Fragment,{children:[Object(w.jsxs)("div",{className:"grid md:grid-cols-12 items-center",children:[Object(w.jsx)("div",{className:"col-span-1 md:col-span-8",children:Object(w.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(w.jsx)("span",{className:"text-xl font-bold text-gray-700",children:"Exam Report"}),Object(w.jsxs)("div",{className:"flex flex-row gap-2 items-end cursor-pointer",onClick:function(){return i(!0)},children:[Object(w.jsx)("span",{className:"text-gray-500 text-xl",children:"Report type: "}),Object(w.jsxs)("span",{className:"text-blue-600 text-3xl font-bold underline",children:[e.reportTitle," ",e.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_name:""]})]}),(e.reportTitle===a.EXAM_DISTRICT_PERFORMANCE||e.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE||e.reportTitle===a.APPLICANTS_PERFORMANCE)&&Object(w.jsxs)("div",{className:"flex flex-wrap justify-starts items-center text-xs text-gray-800 font-medium gap-1 my-1",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Filter result: "}),!e.adminExamReport.reportDistrictId||e.reportTitle!==a.APPLICANTS_DISTRICT_PERFORMANCE&&e.reportTitle!==a.EXAM_DISTRICT_PERFORMANCE?Object(w.jsx)("span",{className:"px-2 py-1 rounded bg-gray-300",children:"# All district"}):Object(w.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-300",children:["# ",e.adminExamReport.reportDistrictId.district_name]}),e.adminExamReport.reportCourseId?e.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE&&Object(w.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-300",children:["#",e.adminExamReport.reportCourseId.course_name+" ("+e.adminExamReport.reportCourseId.course_code+")"]}):Object(w.jsx)("span",{className:"px-2 py-1 rounded bg-gray-300",children:"# All exams"})]})]})}),Object(w.jsx)("div",{className:"col-span-1 md:col-span-4",children:Object(w.jsxs)("div",{className:"float-right mt-3",children:[e.dataToPrint&&e.dataToPrint.length>0&&Object(w.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(w.jsx)(m.e,{className:"text-2xl text-gray-500"}),Object(w.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(w.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 focus:outline-none",onClick:function(){e.updateExamToPrint(),h(!0),e.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(w.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 focus:outline-none ".concat(e.downloading&&"cursor-wait"),onClick:function(){return e.downlaodPDF()},disabled:e.downloading,children:"PDF"})]}),Object(w.jsx)("div",{children:Object(w.jsxs)("div",{onClick:function(){return i(!0)},className:"bg-blue-50 py-2 px-2 border border-blue-300 text-blue-600 font-medium hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm float-right",children:[Object(w.jsx)(G.e,{className:"text-xl"}),"Change Report"]})}),Object(w.jsxs)("section",{className:"flex items-center gap-1 float-right mt-1",children:[(e.reportTitle===a.EXAM_DISTRICT_PERFORMANCE||e.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(w.jsxs)("div",{onClick:function(){return l(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(w.jsx)(m.g,{className:"text-xl"}),"Filter by district"]}),(e.reportTitle===a.APPLICANTS_PERFORMANCE||e.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(w.jsxs)("div",{onClick:function(){return g(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(w.jsx)(m.g,{className:"text-xl"}),"Filter by exam"]})]})]})})]}),x&&Object(w.jsx)(W.b,{modalFor:W.a.generateReportModal,modalState:x,changeModalState:h,reportTitle:e.reportTitle,setGenerateReportModal:e.setGenerateReportModal,excelReportTitle:e.excelReportTitle,setExcelReportTitle:e.setExcelReportTitle,updateExamToPrint:e.updateExamToPrint,generateReportModal:e.generateReportModal,examsToPrint:e.examsToPrint,examPreparationReportContent:e.examPreparationReportContent,setExamPreparationReportContent:e.setExamPreparationReportContent,examPerformanceToPrint:e.examPerformanceToPrint,examPerformanceReportContent:e.examPerformanceReportContent,setExamPerformanceReportContent:e.setExamPerformanceReportContent,exam30PerformanceToPrint:e.exam30PerformanceToPrint,exam30PerformanceReportContent:e.exam30PerformanceReportContent,setExam30PerformanceReportContent:e.setExam30PerformanceReportContent,examinationProgressToPrint:e.examinationProgressToPrint,examinationProgressReportContent:e.examinationProgressReportContent,setExaminationProgressExamPerformanceReportContent:e.setExaminationProgressExamPerformanceReportContent,candidateExamPerformanceToPrint:e.candidateExamPerformanceToPrint,candidateExamPerformanceReportContent:e.candidateExamPerformanceReportContent,setCandidateExamPerformanceReportContent:e.setCandidateExamPerformanceReportContent,candidate30ExamPerformanceToPrint:e.candidate30ExamPerformanceToPrint,candidate30ExamPerformanceReportContent:e.candidate30ExamPerformanceReportContent,setCandidate30ExamPerformanceReportContent:e.setCandidate30ExamPerformanceReportContent}),r&&Object(w.jsx)(W.b,{modalFor:W.a.title,modalState:r,reportTitle:e.reportTitle,changeModalState:i,setReportTitle:e.setReportTitle,setExcelReportTitle:e.setExcelReportTitle}),c&&Object(w.jsx)(W.b,{modalFor:W.a.choose_district,modalState:c,changeModalState:l,districtId:e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:"all",reportTitle:e.reportTitle}),f&&Object(z.loadExaminationProgress)(e.adminExamReport.DoneExam,e.examsList,e.schoolLevels.selectedEducationCategory,e.courses,e.schoolLevels.school_levels,e.thisPeriod)&&Object(w.jsx)(W.b,{modalFor:W.a.choose_exam,modalState:f,AllExamData:Object(z.loadExaminationProgress)(e.adminExamReport.DoneExam,e.examsList,e.schoolLevels.selectedEducationCategory,e.courses,e.schoolLevels.school_levels,e.thisPeriod).finished,changeModalState:g,thisExam:e.adminExamReport.reportCourseId})]})}))),X=function(e,t){return e.find((function(e){return e.course===t}))},Y=function(e,t){return e.find((function(e){return e.session_plan_id===t}))},H=function(e,t){var s=e;return s=s&&t?s.filter((function(e){return e.period===(null===t||void 0===t?void 0:t.session_plan_id)})):e};!function(e){e.APPLICANTS_PERFORMANCE="Exam report",e.EXAM_PREPARATION="List of prepared and not prepared exams",e.EXAM_PERFORMANCE="Exam performance",e.EXAMINATION_PROGRESS="List of complete & remaining exams",e.EXAM_DISTRICT_PERFORMANCE="Top 30 exams passed in",e.APPLICANTS_DISTRICT_PERFORMANCE="Top 30 applicants performance"}(a||(a={}));var V=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).setLoading=function(e){r.setState({loading:e})},r.setLoadingCourses=function(e){r.setState({loadingCourses:e})},r.setLoadingExams=function(e){r.setState({loadingExams:e})},r.setDownloading=function(e){r.setState({downloading:e})},r.setLoadingDoneExam=function(e){r.setState({loadingDoneExam:e})},r.setLoadingCandidatesExamPerformance=function(e){r.setState({loadingCandidatesExamPerformance:e})},r.setLoadingExamPerformance=function(e){r.setState({loadingExamPerformance:e})},r.setLoadingSettings=function(e){r.setState({loadingSettings:e})},r.setSelectPeriod=function(e){r.setState({selectPeriod:e})},r.setDistrictModal=function(e){r.setState({districtModal:e})},r.setFilterPreparation=function(e){r.setState({filterPreparation:e})},r.setFilterExamProgress=function(e){r.setState({filterExamProgress:e})},r.setFilterApplicantPerformance=function(e){r.setState({filterApplicantPerformance:e})},r.setGenerateReportModal=function(e){r.setState({generateReportModal:e})},r.setSelectedPeriod=function(e){r.setState({selected_period:e})},r.setReportTitle=function(e){r.setState({reportTitle:e})},r.setExcelReportTitle=function(e){r.setState({excelReportTitle:e})},r.setExamsToPrint=function(e){r.setState({examsToPrint:e})},r.setExamPreparationReportContent=function(e){r.setState({examPreparationReportContent:e})},r.setExamPerformanceToPrint=function(e){r.setState({examPerformanceToPrint:e})},r.setExamPerformanceReportContent=function(e){r.setState({examPerformanceReportContent:e})},r.setExam30PerformanceToPrint=function(e){r.setState({exam30PerformanceToPrint:e})},r.setExam30PerformanceReportContent=function(e){r.setState({exam30PerformanceReportContent:e})},r.setExaminationProgressToPrint=function(e){r.setState({examinationProgressToPrint:e})},r.setExaminationProgressExamPerformanceReportContent=function(e){r.setState({examinationProgressReportContent:e})},r.setCandidateExamPerformanceToPrint=function(e){r.setState({candidateExamPerformanceToPrint:e})},r.setCandidateExamPerformanceReportContent=function(e){r.setState({candidateExamPerformanceReportContent:e})},r.setCandidate30ExamPerformanceToPrint=function(e){r.setState({candidate30ExamPerformanceToPrint:e})},r.setCandidate30ExamPerformanceReportContent=function(e){r.setState({candidate30ExamPerformanceReportContent:e})},r.selectDefaultSession=function(e){if(e.length>0){var t=e.find((function(e){return e.is_active}));r.setSelectedPeriod(t||e[0])}r.setSelectPeriod(!1)},r.componentDidMount=function(){if(null===r.props.periods.allSessionPlans||0===r.props.periods.allSessionPlans.length?r.props.GetAllSessionPlans((function(e,t,s){r.setLoadingSettings(e),e||(Object(E.e)(t)||r.props.PushPopupAlert({title:t,theme:y.a.danger}),s&&s.length>0&&null===r.state.selected_period&&r.selectDefaultSession(s))})):null===r.state.selected_period&&r.selectDefaultSession(r.props.periods.allSessionPlans),null===r.props.schoolLevels.education_categories||r.props.schoolLevels.education_categories.length?r.props.loadEducationCategories((function(e,t,s){r.setLoadingSettings(e),e||(Object(E.e)(t)||r.props.PushPopupAlert({title:t,theme:y.a.danger}),s&&s.length>0&&!r.props.schoolLevels.selectedEducationCategory&&r.props.setSelectedEducationCategory(s[0]))})):r.props.schoolLevels.selectedEducationCategory||r.props.setSelectedEducationCategory(r.props.schoolLevels.education_categories[0]),(null===r.props.schoolLevels.school_levels||r.props.schoolLevels.school_levels.length<=0)&&r.props.loadSchoolLevels(r.setLoadingSettings),null===r.props.courses||0===r.props.courses.length&&r.state.loadingCourses?r.props.loadCourses(r.setLoadingCourses):r.state.loadingCourses&&r.setLoadingCourses(!1),null===r.props.examsList||0===r.props.examsList.length&&r.state.loadingExams?r.props.loadExamsList(r.setLoadingExams):r.state.loadingExams&&r.setLoadingExams(!1),r.props.auth.application_session&&r.props.auth.application_session.session_plan_id&&(null===r.props.adminExamReport.DoneExam||0===r.props.adminExamReport.DoneExam.length&&r.state.loadingDoneExam)?r.props.loadDoneExam(r.props.auth.application_session.session_plan_id,(function(e,t){e||(t.length>0&&r.props.PushPopupAlert({title:t,theme:y.a.danger}),r.setLoadingDoneExam(!1))})):r.state.loadingDoneExam&&r.setLoadingDoneExam(!1),r.props.auth.application_session&&r.props.auth.application_session.session_plan_id&&(null===r.props.adminExamReport.CandidatesExamPerformance||0===r.props.adminExamReport.CandidatesExamPerformance.length&&r.state.loadingCandidatesExamPerformance)?r.props.loadCandidatesExamPerformance({order:"desc",sortBy:j.Qb.DATE,filter:{period:r.props.auth.application_session.session_plan_id}},(function(e,t){e||(t.length>0&&r.props.PushPopupAlert({title:t,theme:y.a.danger}),r.setLoadingCandidatesExamPerformance(!1))})):r.state.loadingCandidatesExamPerformance&&r.setLoadingCandidatesExamPerformance(!1),r.props.auth.application_session&&r.props.auth.application_session.session_plan_id&&(null===r.props.adminExamReport.ExamPerformance||0===r.props.adminExamReport.ExamPerformance.length&&r.state.loadingExamPerformance)?r.props.loadPerfomranceExam(r.props.auth.application_session.session_plan_id,(function(e,t){e||(t.length>0&&r.props.PushPopupAlert({title:t,theme:y.a.danger}),r.setLoadingExamPerformance(!1))})):r.state.loadingExamPerformance&&r.setLoadingExamPerformance(!1),r.state.excelReportTitle===r.state.reportTitle){var e="";r.state.excelReportTitle===a.EXAM_DISTRICT_PERFORMANCE&&r.props.adminExamReport.reportDistrictId?e+=" ".concat(r.props.adminExamReport.reportDistrictId.district_name," district"):r.state.excelReportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE?(r.props.adminExamReport.reportDistrictId&&(e+=" in ".concat(r.props.adminExamReport.reportDistrictId.district_name," district")),r.props.adminExamReport.reportCourseId&&(e+=" in exam of ".concat(r.props.adminExamReport.reportCourseId.course_name,"(").concat(r.props.adminExamReport.reportCourseId.course_code,")"))):e="",r.setExcelReportTitle(r.state.excelReportTitle+e),r.setLoading(!1)}},r.onPeriodChange=function(e){r.props.loadDoneExam(e,(function(e,t){r.setLoadingDoneExam(e),e||(t.length>0&&r.props.PushPopupAlert({title:t,theme:y.a.danger}),r.setLoadingDoneExam(!1))})),r.props.loadPerfomranceExam(e,(function(e,t){r.setLoadingExamPerformance(e),e||(t.length>0&&r.props.PushPopupAlert({title:t,theme:y.a.danger}),r.setLoadingExamPerformance(!1))})),r.props.loadCandidatesExamPerformance({order:"desc",sortBy:j.Qb.DATE,filter:{period:e}},(function(e,t){e||(t.length>0&&r.props.PushPopupAlert({title:t,theme:y.a.danger}),r.setLoadingCandidatesExamPerformance(!1))}))},r.getLevelbyId=function(e){if(r.props.schoolLevels.school_levels)return r.props.schoolLevels.school_levels.find((function(t){return t.school_level_id===e}))},r.getCourses=function(){var e=[],t=!0;if(r.props.courses)if(r.props.schoolLevels.selectedEducationCategory){var s=function(t){Object.prototype.hasOwnProperty.call(r.props.courses,t)&&(r.props.courses[t].school_levels.length>0?r.props.courses[t].school_levels.forEach((function(s){var a=r.getLevelbyId(s);a&&(a.education_institute.includes(r.props.schoolLevels.selectedEducationCategory.education_institute_id)||a.education_institute.length<=0)&&e&&e.push(r.props.courses[t])})):e&&e.push(r.props.courses[t]))};for(var a in r.props.courses)s(a)}else t=!1;return t?e:r.props.courses},r.updateExamToPrint=function(){if(r.state.reportTitle===a.EXAM_PREPARATION&&H(r.props.examsList,r.state.selected_period)&&r.getCourses()&&r.props.periods.allSessionPlans){var e=Object(I.a)(r.getCourses(),H(r.props.examsList,r.state.selected_period)),t=[],s=1;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n="";e[i].school_levels.length?e[i].school_levels.forEach((function(e,t){var s=r.getLevelbyId(e);0===t?n=s?s.school_level_name:"":n+=s?", "+s.school_level_name:""})):n="Any level";var o={course_id:s,course_name:e[i].course_name,course_code:e[i].course_code,description:e[i].description,school_levels:e[i].school_levels.length?n:"Any",exam_period:e[i].exam&&Y(r.props.periods.allSessionPlans,e[i].exam.period)?Y(r.props.periods.allSessionPlans,e[i].exam.period).session_plan_name:"-",exam_date:e[i].exam?Object(N.a)(e[i].exam.exam_date):"-",exam_time:e[i].exam?e[i].exam.start_time:"-",exam_duration:e[i].exam?e[i].exam.duration.toString():"-",preparation_status:e[i].exam?"Prepared":"Not prepared"};for(var c in r.state.examPreparationReportContent)Object.prototype.hasOwnProperty.call(r.state.examPreparationReportContent,c)&&(r.state.examPreparationReportContent[c].status||delete o[r.state.examPreparationReportContent[c].key]);t.push(o),s++}r.setExamsToPrint(t),t=[],s=1}if(r.state.reportTitle===a.EXAM_PERFORMANCE&&H(r.props.examsList,r.state.selected_period)&&r.getCourses()&&r.props.adminExamReport.ExamPerformance&&r.props.periods.allSessionPlans){var l=Object(D.a)(r.getCourses(),H(r.props.examsList,r.state.selected_period),r.props.adminExamReport.ExamPerformance),d=[],u=1;for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var m="";l[p].school_levels.length?l[p].school_levels.forEach((function(e,t){var s=r.getLevelbyId(e);0===t?m=s?s.school_level_name:"":m+=s?", "+s.school_level_name:""})):m="Any level";var x={course_id:u,course_name:l[p].course_name,course_code:l[p].course_code,description:l[p].description,school_levels:l[p].school_levels.length?m:"Any",exam_period:l[p].exam&&Y(r.props.periods.allSessionPlans,l[p].exam.period)?Y(r.props.periods.allSessionPlans,l[p].exam.period).session_plan_name:"-",exam_date:l[p].exam?Object(N.a)(l[p].exam.exam_date):"-",exam_time:l[p].exam?l[p].exam.start_time:"-",exam_duration:l[p].exam?l[p].exam.duration.toString():"-",exam_performance:Number(l[p].exam_performance.toFixed(1))};for(var h in r.state.examPerformanceReportContent)Object.prototype.hasOwnProperty.call(r.state.examPerformanceReportContent,h)&&(r.state.examPerformanceReportContent[h].status||delete x[r.state.examPerformanceReportContent[h].key]);d.push(x),u++}r.setExamPerformanceToPrint(d),d=[],u=1}if(r.state.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&H(r.props.examsList,r.state.selected_period)&&r.getCourses()&&r.props.adminExamReport.DoneExam&&r.props.adminExamReport.CandidatesExamPerformance&&r.props.adminExamReport.reportDistrictId&&r.props.periods.allSessionPlans){var b=F(r.getCourses(),H(r.props.examsList,r.state.selected_period),r.props.adminExamReport.DoneExam,r.props.adminExamReport.CandidatesExamPerformance,r.props.adminExamReport.reportDistrictId.district_id).slice(0,30),j=[],f=1;for(var g in b)if(Object.prototype.hasOwnProperty.call(b,g)){var O="";b[g].school_levels.length?b[g].school_levels.forEach((function(e,t){var s=r.getLevelbyId(e);0===t?O=s?s.school_level_name:"":O+=s?", "+s.school_level_name:""})):O="Any level";var _={course_id:f,course_name:b[g].course_name,course_code:b[g].course_code,description:b[g].description,school_levels:b[g].school_levels.length?O:"Any",exam_period:b[g].exam&&Y(r.props.periods.allSessionPlans,b[g].exam.period)?Y(r.props.periods.allSessionPlans,b[g].exam.period).session_plan_name:"-",exam_date:b[g].exam?Object(N.a)(b[g].exam.exam_date):"-",exam_time:b[g].exam?b[g].exam.start_time:"-",exam_duration:b[g].exam?b[g].exam.duration.toString():"-",exam_performance:0};for(var v in r.state.exam30PerformanceReportContent)Object.prototype.hasOwnProperty.call(r.state.exam30PerformanceReportContent,v)&&(r.state.exam30PerformanceReportContent[v].status||delete _[r.state.exam30PerformanceReportContent[v].key]);j.push(_),f++}r.setExam30PerformanceToPrint(j),j=[],f=1}if(r.state.reportTitle===a.EXAMINATION_PROGRESS&&H(r.props.examsList,r.state.selected_period)&&r.getCourses()&&r.props.adminExamReport.DoneExam&&r.props.periods.allSessionPlans){var y=Object(S.a)(r.getCourses(),H(r.props.examsList,r.state.selected_period),r.props.adminExamReport.DoneExam),C=[],R=1;for(var w in y)if(Object.prototype.hasOwnProperty.call(y,w)){var A="";y[w].school_levels.length?y[w].school_levels.forEach((function(e,t){var s=r.getLevelbyId(e);0===t?A=s?s.school_level_name:"":A+=s?", "+s.school_level_name:""})):A="Any level";var k={course_id:R,course_name:y[w].course_name,course_code:y[w].course_code,description:y[w].description,school_levels:y[w].school_levels.length?A:"Any",exam_period:y[w].exam&&Y(r.props.periods.allSessionPlans,y[w].exam.period)?Y(r.props.periods.allSessionPlans,y[w].exam.period).session_plan_name:"-",exam_date:y[w].exam?Object(N.a)(y[w].exam.exam_date):"-",exam_time:y[w].exam?y[w].exam.start_time:"-",exam_duration:y[w].exam?y[w].exam.duration.toString():"-",exam_status:"Done"===y[w].preparation_status?"Completed":y[w].preparation_status};for(var M in r.state.examinationProgressReportContent)Object.prototype.hasOwnProperty.call(r.state.examinationProgressReportContent,M)&&(r.state.examinationProgressReportContent[M].status||delete k[r.state.examinationProgressReportContent[M].key]);C.push(k),R++}r.setExaminationProgressToPrint(C),C=[],R=1}if(r.state.reportTitle===a.APPLICANTS_PERFORMANCE&&r.getCourses()&&r.props.adminExamReport.CandidatesExamPerformance&&r.props.periods.allSessionPlans){var U=Object(T.a)(r.getCourses(),r.props.adminExamReport.CandidatesExamPerformance,r.props.adminExamReport.reportCourseId?r.props.adminExamReport.reportCourseId.course_id:"all"),q=[],W=1;for(var G in U)if(Object.prototype.hasOwnProperty.call(U,G)){var z="";U[G].school_levels.length?U[G].school_levels.forEach((function(e,t){var s=r.getLevelbyId(e);0===t?z=s?s.school_level_name:"":z+=s?", "+s.school_level_name:""})):z="Any level";var B={applicant_id:W,course_name:U[G].course_name,course_code:U[G].course_code,description:U[G].description,school_levels:U[G].school_levels.length?z:"Any",exam_period:Y(r.props.periods.allSessionPlans,U[G].exam.period)?Y(r.props.periods.allSessionPlans,U[G].exam.period).session_plan_name:"-",exam_date:Object(N.a)(U[G].exam.exam_date),exam_start_time:Object(N.q)(Number(U[G].exam.start_time)).timeAMPM,exam_end_time:Object(N.q)(Number(U[G].exam.end_time)).timeAMPM,performance_status:Object(E.a)(Object(S.d)(U[G].exam_stastus)),applicant_name:Object(E.a)(U[G].user_name),national_id:U[G].national_id,email:U[G].user_email,phone:U[G].user_phone,marks:U[G].exam_stastus!==P.i.Editing?Number(U[G].user_total_marks.toFixed(1))+"%":"-"};for(var X in r.state.candidateExamPerformanceReportContent)Object.prototype.hasOwnProperty.call(r.state.candidateExamPerformanceReportContent,X)&&(r.state.candidateExamPerformanceReportContent[X].status||delete B[r.state.candidateExamPerformanceReportContent[X].key]);q.push(B),W++}r.setCandidateExamPerformanceToPrint(q),q=[],W=1}if(r.state.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE&&r.getCourses()&&r.props.adminExamReport.CandidatesExamPerformance&&r.props.periods.allSessionPlans){var V=L(Object(T.a)(r.getCourses(),r.props.adminExamReport.CandidatesExamPerformance,r.props.adminExamReport.reportCourseId?r.props.adminExamReport.reportCourseId.course_id:"all"),r.props.adminExamReport.reportDistrictId?r.props.adminExamReport.reportDistrictId.district_id:null,r.props.adminExamReport.reportCourseId?r.props.adminExamReport.reportCourseId.course_id:null,r.state.filterApplicantPerformance).slice(0,30),K=[],J=1;for(var Q in V)if(Object.prototype.hasOwnProperty.call(V,Q)){var Z="";V[Q].school_levels.length?V[Q].school_levels.forEach((function(e,t){var s=r.getLevelbyId(e);0===t?Z=s?s.school_level_name:"":Z+=s?", "+s.school_level_name:""})):Z="Any level";var $={applicant_id:J,course_name:V[Q].course_name,course_code:V[Q].course_code,description:V[Q].description,school_levels:V[Q].school_levels.length?Z:"Any",exam_period:Y(r.props.periods.allSessionPlans,V[Q].exam.period)?Y(r.props.periods.allSessionPlans,V[Q].exam.period).session_plan_name:"-",exam_date:Object(N.a)(V[Q].exam.exam_date),exam_start_time:Object(N.q)(Number(V[Q].exam.start_time)).timeAMPM,exam_end_time:Object(N.q)(Number(V[Q].exam.end_time)).timeAMPM,performance_status:Object(E.a)(Object(S.d)(V[Q].exam_stastus)),applicant_name:Object(E.a)(V[Q].user_name),national_id:V[Q].national_id,email:V[Q].user_email,phone:V[Q].user_phone,marks:V[Q].exam_stastus!==P.i.Editing?Number(V[Q].user_total_marks.toFixed(1))+"%":"-"};for(var ee in r.state.candidate30ExamPerformanceReportContent)Object.prototype.hasOwnProperty.call(r.state.candidate30ExamPerformanceReportContent,ee)&&(r.state.candidate30ExamPerformanceReportContent[ee].status||delete $[r.state.candidate30ExamPerformanceReportContent[ee].key]);K.push($),J++}r.setCandidate30ExamPerformanceToPrint(K),K=[],J=1}},r.addToTitle=function(){var e="";return r.state.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&r.props.adminExamReport.reportDistrictId?e+=" ".concat(r.props.adminExamReport.reportDistrictId.district_name," district"):r.state.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE?(r.props.adminExamReport.reportDistrictId&&(e+=" in ".concat(r.props.adminExamReport.reportDistrictId.district_name," district")),r.props.adminExamReport.reportCourseId&&(e+=" in exam of ".concat(r.props.adminExamReport.reportCourseId.course_name,"(").concat(r.props.adminExamReport.reportCourseId.course_code,")"))):e="",e},r.downlaodPDF=Object(n.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.querySelectorAll("#report_content tbody tr").length){e.next=3;break}return r.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:y.a.warning}),e.abrupt("return",!1);case 3:if(!r.state.selected_period){e.next=10;break}if(t=document.getElementById("report_content"),s={doneBy:r.props.auth.user.fname+" "+r.props.auth.user.lname,title:"Exam Report",subjectTitle:"Subject",subject:"".concat(r.state.reportTitle," ").concat(r.addToTitle()),period:r.state.selected_period.session_plan_name,footer:"Online Teacher Recruitment",institute:r.props.schoolLevels.selectedEducationCategory?r.props.schoolLevels.selectedEducationCategory.education_category_title:"All institute",orientation:r.state.reportTitle===a.APPLICANTS_PERFORMANCE||r.state.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE?"l":"p"},e.t0=t,!e.t0){e.next=10;break}return e.next=10,Object(g.a)(s,t,r.setDownloading);case 10:case"end":return e.stop()}}),e)}))),r.state={loading:!0,loadingCourses:!0,loadingExams:!0,downloading:!1,loadingDoneExam:!0,loadingCandidatesExamPerformance:!0,loadingExamPerformance:!0,loadingSettings:!0,selectPeriod:!1,districtModal:!1,filterPreparation:"all",filterExamProgress:"all",filterApplicantPerformance:"all",generateReportModal:null,selected_period:null,reportTitle:a.APPLICANTS_PERFORMANCE,excelReportTitle:a.APPLICANTS_PERFORMANCE,examsToPrint:null,examPreparationReportContent:I.c,examPerformanceToPrint:null,examPerformanceReportContent:D.c,exam30PerformanceToPrint:null,exam30PerformanceReportContent:D.c,examinationProgressToPrint:null,examinationProgressReportContent:S.c,candidateExamPerformanceToPrint:null,candidateExamPerformanceReportContent:T.f,candidate30ExamPerformanceToPrint:null,candidate30ExamPerformanceReportContent:T.f},r}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return this.state.loading||null===this.props.periods.allSessionPlans?Object(w.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."}):0===this.props.periods.allSessionPlans.length?Object(w.jsx)(C.a,{}):Object(w.jsxs)("div",{children:[Object(w.jsxs)(_.b,{children:[Object(w.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(w.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===this.props.schoolLevels.education_categories?Object(w.jsx)(O.a,{}):0===this.props.schoolLevels.education_categories.length?Object(w.jsx)("span",{children:"No result found"}):this.props.schoolLevels.education_categories.map((function(t,s){return Object(w.jsxs)("div",{onClick:function(){e.props.setSelectedEducationCategory(t),e.updateExamToPrint()},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat(null!==e.props.schoolLevels.selectedEducationCategory&&e.props.schoolLevels.selectedEducationCategory.education_institute_id===t.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:[null!==e.props.schoolLevels.selectedEducationCategory&&e.props.schoolLevels.selectedEducationCategory.education_institute_id===t.education_institute_id?Object(w.jsx)(h.Ab,{}):Object(w.jsx)(h.Bb,{}),Object(w.jsx)("span",{children:t.education_category_title})]},s+1)}))]}),Object(w.jsxs)("div",{className:"",children:[Object(w.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(w.jsxs)("div",{onClick:function(){return e.setSelectPeriod(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:[null!==this.state.selected_period?"".concat(this.state.selected_period.session_plan_name):"Filter by period",Object(w.jsx)(x.e,{className:"text-lg text-blue-600"})]})]}),Object(w.jsx)(q,{reportTitle:this.state.reportTitle,filterPreparation:this.state.filterPreparation,setFilterPreparation:this.setFilterPreparation,filterExamProgress:this.state.filterExamProgress,setFilterExamProgress:this.setFilterExamProgress,filterApplicantPerformance:this.state.filterApplicantPerformance,setFilterApplicantPerformance:this.setFilterApplicantPerformance})]}),Object(w.jsx)(B,{downloading:this.state.downloading,dataToPrint:H(this.props.examsList,this.state.selected_period),downlaodPDF:this.downlaodPDF,reportTitle:this.state.reportTitle,setReportTitle:this.setReportTitle,setGenerateReportModal:this.setGenerateReportModal,generateReportModal:this.state.generateReportModal,excelReportTitle:this.state.excelReportTitle,setExcelReportTitle:this.setExcelReportTitle,updateExamToPrint:this.updateExamToPrint,examsToPrint:this.state.examsToPrint,examPreparationReportContent:this.state.examPreparationReportContent,setExamPreparationReportContent:this.setExamPreparationReportContent,examPerformanceToPrint:this.state.examPerformanceToPrint,examPerformanceReportContent:this.state.examPerformanceReportContent,setExamPerformanceReportContent:this.setExamPerformanceReportContent,exam30PerformanceToPrint:this.state.exam30PerformanceToPrint,exam30PerformanceReportContent:this.state.exam30PerformanceReportContent,setExam30PerformanceReportContent:this.setExam30PerformanceReportContent,examinationProgressToPrint:this.state.examinationProgressToPrint,examinationProgressReportContent:this.state.examinationProgressReportContent,setExaminationProgressExamPerformanceReportContent:this.setExaminationProgressExamPerformanceReportContent,candidateExamPerformanceToPrint:this.state.candidateExamPerformanceToPrint,candidateExamPerformanceReportContent:this.state.candidateExamPerformanceReportContent,setCandidateExamPerformanceReportContent:this.setCandidateExamPerformanceReportContent,candidate30ExamPerformanceToPrint:this.state.candidate30ExamPerformanceToPrint,candidate30ExamPerformanceReportContent:this.state.candidate30ExamPerformanceReportContent,setCandidate30ExamPerformanceReportContent:this.setCandidate30ExamPerformanceReportContent,thisPeriod:this.state.selected_period?this.state.selected_period.session_plan_id:""}),this.state.reportTitle===a.EXAM_PREPARATION&&this.props.periods.allSessionPlans&&Object(w.jsx)(I.b,{loading:this.state.loadingExams||this.state.loadingCourses||this.state.loadingDoneExam,examsListData:H(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,filterPreparation:this.state.filterPreparation}),this.state.reportTitle===a.EXAMINATION_PROGRESS&&this.props.periods.allSessionPlans&&Object(w.jsx)(S.b,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingDoneExam),examsListData:H(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,doneExamsData:this.props.adminExamReport.DoneExam,filterExamProgress:this.state.filterExamProgress}),this.state.reportTitle===a.EXAM_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(w.jsx)(D.b,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingExamPerformance),examsListData:H(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,examsPerformanceData:this.props.adminExamReport.ExamPerformance}),this.state.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&this.props.periods.allSessionPlans&&this.props.adminExamReport.reportDistrictId?Object(w.jsx)(M,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:H(this.props.examsList,this.state.selected_period),doneExamsData:this.props.adminExamReport.DoneExam,courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,thisDistrict:this.props.adminExamReport.reportDistrictId}):this.state.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&Object(w.jsx)(v.b,{theme:v.a.Light,value:"Select district to view data",component:Object(w.jsxs)("div",{onClick:function(){return e.setDistrictModal(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(w.jsx)(m.g,{className:"text-xl"}),"Filter by district"]})}),this.state.reportTitle===a.APPLICANTS_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(w.jsx)(T.e,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:H(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,filterApplicantPerformance:this.state.filterApplicantPerformance}),this.state.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(w.jsx)(A,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:H(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,filterApplicantPerformance:this.state.filterApplicantPerformance}),this.state.districtModal&&Object(w.jsx)(W.b,{modalFor:W.a.choose_district,modalState:this.state.districtModal,changeModalState:this.setDistrictModal,districtId:this.props.adminExamReport.reportDistrictId?this.props.adminExamReport.reportDistrictId.district_id:"all",reportTitle:this.state.reportTitle}),Object(w.jsx)(W.b,{modalState:this.state.selectPeriod,changeModalState:this.setSelectPeriod,applicationPeriods:this.props.periods.allSessionPlans,selected_period:this.state.selected_period,setSelectedPeriod:this.setSelectedPeriod,onPeriodChange:this.onPeriodChange,modalFor:W.a.period})]})}}]),s}(u.Component),K=Object(b.b)((function(e){var t=e.auth,s=e.sessionPlan,a=e.schoolLevels,r=e.course,i=e.prepareExam,n=e.adminExamReport;return{auth:t,periods:s,schoolLevels:a,courses:r.courses,examsList:i.examsList,adminExamReport:n}}),{setSelectedPeriod:j.gd,loadCourses:j.Cc,loadExamsList:j.Hc,GetAllSessionPlans:f.b,loadEducationCategories:j.Ec,loadDoneExam:j.Dc,loadSchoolLevels:j.Mc,loadPerfomranceExam:j.Jc,loadCandidatesExamPerformance:j.Bc,setSelectedEducationCategory:j.cd,PushPopupAlert:j.Nb})(V)},689:function(e,t,s){"use strict";s(4);var a=s(717),r=s(718),i=s(34),n=s(1);t.a=function(e){var t=e.fileData,s=e.fileName,o=e.btnName,c=void 0===o?"Excel":o,l=e.className,d=void 0===l?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":l,u=e.showIcon,p=void 0===u||u;return Object(n.jsxs)("button",{onClick:function(e){return function(e,t){var s={Sheets:{data:r.utils.json_to_sheet(e)},SheetNames:["data"]},i=r.write(s,{bookType:"xlsx",type:"array"}),n=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});a.saveAs(n,t+".xlsx")}(t,s)},className:d,children:[p&&Object(n.jsx)(i.j,{}),c]})}},690:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var a=s(5),r=s.n(a),i=s(7),n=s(711),o=s(24),c=s.p+"static/media/mineduc.11a9ae1c.png";s(716);var l=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var s=1;s<=t;s++)e.setPage(s),e.text("Page "+String(s)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},d=function(){var e=Object(i.a)(r.a.mark((function e(t,s,a){var i,d,u,p,m,x,h,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a(!0),i=t.orientation?t.orientation:"p",d=20,20,185,(u=new n.default(i,"mm","a4")).setTextColor(95,95,95),u.setFontSize(28),u.addImage(c,"png",20,20,10,10),u.text("MINEDUC",32,28.5,void 0,"left"),u.setFontSize(26),u.text(t.title,u.internal.pageSize.getWidth()/2,42.7,void 0,"center"),u.setFontSize(20),u.text(t.institute,u.internal.pageSize.getWidth()/2,53.7,void 0,"center"),p=u.splitTextToSize(t.subject,145),u.setFontSize(16),m=63,u.setTextColor(95,95,95),u.text("".concat(t.subjectTitle,": "),d,m),x=u.getTextWidth("".concat(t.subjectTitle,": ")),u.setTextColor(38,38,38),h=0;h<p.length;h++)m>280&&(m=10,u.addPage()),u.text(p[h],d+x,m),m+=7;return u.setTextColor(95,95,95),u.text("Period: ",d,m+3),x=u.getTextWidth("Period: "),u.setTextColor(38,38,38),u.text(t.period,d+x,m+3),u.autoTable({html:s,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),u.setFontSize(12),b=u.lastAutoTable.finalY,u.text("Reported by: ".concat(t.doneBy),d,b+15),u.text("Report downloaded on "+Object(o.a)((new Date).toString()),d,b+23),l(u),e.next=35,u.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"),{returnPromise:!0}).then(a(!1));case 35:case"end":return e.stop()}}),e)})));return function(t,s,a){return e.apply(this,arguments)}}()},691:function(e,t,s){"use strict";s.d(t,"k",(function(){return u})),s.d(t,"i",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"m",(function(){return x})),s.d(t,"c",(function(){return h})),s.d(t,"e",(function(){return b})),s.d(t,"j",(function(){return j})),s.d(t,"b",(function(){return f})),s.d(t,"n",(function(){return g})),s.d(t,"d",(function(){return O})),s.d(t,"f",(function(){return _})),s.d(t,"h",(function(){return v})),s.d(t,"g",(function(){return P})),s.d(t,"l",(function(){return y}));var a=s(5),r=s.n(a),i=s(7),n=s(6),o=s(10),c=s.n(o),l=s(9),d=s(15),u=function(e){return e(!0,""),function(){var t=Object(i.a)(r.a.mark((function t(s){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("".concat(l.a.APPLICATION,"/schools"));case 3:a=t.sent,s({type:n.a.GET_SCHOOLS,payload:a.data}),e(!1,"",a.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var s=Object(i.a)(r.a.mark((function s(a){var i;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.APPLICATION,"/schools/").concat(e));case 4:i=s.sent,a({type:n.a.GET_SCHOOLS_BY_ID,payload:i.data}),t(!1,"",i.data),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 13:case"end":return s.stop()}}),s,null,[[1,9]])})));return function(e){return s.apply(this,arguments)}}()},m=function(e){return console.log({schools:e}),function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:n.a.CREATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:n.a.UPDATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:n.a.DELETE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e,t){return function(){var s=Object(i.a)(r.a.mark((function s(a){var i;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/requestpost/school/").concat(e));case 4:i=s.sent,console.log("===================================="),console.log({schoolPosts:i}),console.log("===================================="),a({type:n.a.FETCH_SCHOOL_POSTS,payload:i.data}),t(!1,""),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},j=function(e,t){return function(){var s=Object(i.a)(r.a.mark((function s(a){var i;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/placedcandidate/school/").concat(e));case 4:i=s.sent,console.log({getSchoolPlacement:i.data}),a({type:n.a.GET_SCHOOL_PLACEMENT,payload:i.data}),t(!1,"",i.data),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:n.a.CREATE_SCHOOL_POST,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return console.log({TYPE:e,data:t}),function(){var s=Object(i.a)(r.a.mark((function s(a){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:n.a.UPDATE_SCHOOL_POST,payload:{TYPE:e,data:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},O=function(e,t){return function(){var s=Object(i.a)(r.a.mark((function s(a){var i;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/requestpost/district/").concat(e));case 4:i=s.sent,console.log("===================================="),console.log({fetchDistrictPosts:i}),console.log("===================================="),a({type:n.a.FETCH_DISTRICT_POSTS,payload:i.data}),t(!1,""),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},_=function(e,t){return function(){var s=Object(i.a)(r.a.mark((function s(a){var i;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/placedcandidate/district/").concat(e));case 4:i=s.sent,console.log("===================================="),console.log({getDistrictPlacement:i.data}),console.log("===================================="),a({type:n.a.GET_DISTRICT_PLACEMENT,payload:i.data}),t(!1,"",i.data),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},v=function(e,t,s){return function(){var a=Object(i.a)(r.a.mark((function a(i){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0,""),a.prev=1,a.next=4,c.a.get("".concat(l.a.PLACEMENT,"/confirmedpostrequest/institute/").concat(e,"/").concat(t));case 4:o=a.sent,console.log("===================================="),console.log({getInstitutePlacementLimit:o.data}),console.log("===================================="),i({type:n.a.GET_INSTITUTE_PLACEMENT_LIMIT,payload:o.data}),s(!1,"",o.data),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),console.log("Err: ",a.t0),s(!1,Object(d.a)(a.t0));case 16:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()},P=function(e,t,s){return function(){var a=Object(i.a)(r.a.mark((function a(i){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0,""),a.prev=1,a.next=4,c.a.get("".concat(l.a.PLACEMENT,"/confirmedpostrequest/district/").concat(e,"/").concat(t));case 4:o=a.sent,console.log("===================================="),console.log({getDistrictPlacementLimit:o.data}),console.log("===================================="),i({type:n.a.GET_DISTRICT_PLACEMENT_LIMIT,payload:o.data}),s(!1,"",o.data),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),console.log("Err: ",a.t0),s(!1,Object(d.a)(a.t0));case 16:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()},y=function(e){return console.log("===================================="),console.log({updateInstitutePlacementLimit:e}),console.log("===================================="),function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:n.a.UPDATE_INSTITUTE_PLACEMENT_LIMIT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},696:function(e,t,s){"use strict";s.d(t,"c",(function(){return U})),s.d(t,"a",(function(){return q}));var a,r=s(5),i=s.n(r),n=s(7),o=s(26),c=s(25),l=s(28),d=s(27),u=s(10),p=s.n(u),m=s(4),x=s.n(m),h=s(12),b=s(22),j=s(3),f=s(200),g=s(691),O=s(682),_=s(38),v=s(160),P=s(201),y=s(21),E=s(42),N=s(9),C=s(15),R=s(726),T=s(713),S=s(705),w=s(17),L=s(47),A=s(1),I=function(e){var t=Object(m.useState)(""),s=Object(w.a)(t,2),a=s[0],r=s[1];return Object(A.jsxs)("section",{className:"border-2 rounded border-gray-400",children:[Object(A.jsxs)("div",{className:"flex items-center w-full my-1",children:[Object(A.jsx)(h.Lb,{className:"w-6 h-6 absolute ml-2"}),Object(A.jsx)("input",{type:"text",placeholder:"Search",className:"focus:border-2 h-7 ml-1 pl-9 mr-2 bg-gray-100 focus:border-gray-700 w-full rounded",onChange:function(e){return r(e.target.value)},value:a,disabled:!(e.roleList.length>0)}),Object(A.jsx)("button",{className:"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none",type:"button",onClick:function(){e.setChooseRole(!1)},children:"Close"})]}),Object(A.jsx)("div",{className:"w-full h-52 mt-2 overflow-y-auto divide-y divide-gray-300",children:Object(L.a)(e.roleList,a).length>0?Object(L.a)(e.roleList,a).map((function(t,s){return Object(A.jsx)("section",{children:Object(A.jsxs)("div",{className:"group flex items-center justify-between my-1 hover:bg-gray-100",children:[Object(A.jsx)("div",{className:"p-1 w-full mr-2 cursor-pointer",onClick:function(){e.setChooseRole(!1),!e.loadindRequest&&e.handleSelectRole(t.system_user_role_id)},children:Object(A.jsx)("p",{className:"text-sm font-medium text-black",children:Object(E.a)(t.role)})}),Object(A.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 py-1 px-2 mr-1 rounded text-sm",children:"Choose"})]})},s+t.role)})):Object(A.jsx)("div",{className:"text-center p-3",children:Object(A.jsx)("p",{className:"text-base font-medium text-black",children:"No role available"})})})]})},D=x.a.memo(I),k=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setRoleId=function(e){a.setState({roleId:e})},a.setSelectedRole=function(e){a.setState({selectedRole:e})},a.setProvinceId=function(e){a.setState({provinceId:e})},a.setDistrictId=function(e){a.setState({districtId:e})},a.setCenterId=function(e){a.setState({centerId:e})},a.setRoomId=function(e){a.setState({roomId:e})},a.setLoadingForm=function(e){a.setState({loadingForm:e})},a.setSchoolId=function(e){a.setState({schoolId:e})},a.setChooseSchool=function(e){a.setState({chooseSchool:e})},a.setLoading=function(e){a.setState({loading:e})},a.setInstituteId=function(e){a.setState({instituteId:e})},a.setFormError=function(e){a.setState({formError:e})},a.setLoadingRequest=function(e){a.setState({loadingRequest:e})},a.setChooseRole=function(e){a.setState({chooseRole:e})},a.setDefaultState=function(e,t){var s,r;if(t.district_required&&a.props.roomList)(r=a.distinctDistrict(a.props.roomList).find((function(t){return t._id===e.district_id})))&&a.setProvinceId(r.province_id),r&&a.setDistrictId(e.district_id),a.setLoadingForm(!1);else if(t.room_required&&a.props.roomList)(s=q(a.props.roomList).find((function(t){return t.room_id===e.room_id})))&&a.setProvinceId(s.province_id),s&&a.setDistrictId(s.district_id),s&&a.setCenterId(s.center_id),a.setRoomId(e.room_id),a.setLoadingForm(!1);else if(t.school_required&&a.props.roomList&&a.props.schoolList){var i=a.props.schoolList.find((function(t){return t._id===e.school_id}));i?((s=q(a.props.roomList).find((function(e){return e.district_id===(null===i||void 0===i?void 0:i.district_id)})))&&a.setProvinceId(s.province_id),s&&a.setDistrictId(s.district_id),a.setSchoolId(e.school_id),a.setLoadingForm(!1)):a.setLoadingForm(!1)}else a.setLoadingForm(!1)},a.componentDidMount=function(){if(a.props.roleList.length){if(a.props.userInfo.default_access&&a.state.loadingForm){if(!a.state.roleId.length){var e=a.props.roleList.find((function(e){return e.system_user_role_id===a.props.userInfo.default_access.system_user_role_id}));e&&(a.setRoleId(a.props.userInfo.default_access.system_user_role_id),a.setSelectedRole(e),a.setDefaultState(a.props.userInfo.default_access,e))}console.log("===================================="),console.log({vvvvv:a.props.userInfo.default_access}),console.log("====================================")}a.state.selectedRole&&a.props.userInfo.default_access&&a.setDefaultState(a.props.userInfo.default_access,a.state.selectedRole),a.setLoading(!1)}},a.handleSelectRole=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SELECT";if(a.props.roleList){var s=a.props.roleList.find((function(t){return t.system_user_role_id===e}));s&&(a.setRoleId(e),a.setSelectedRole(s),a.state.formError&&"role_id"===a.state.formError.element&&a.setFormError(null),"SELECT"===t&&(a.setProvinceId(""),a.setDistrictId(""),a.setSchoolId(""),a.setCenterId(""),a.setRoomId(""),a.setInstituteId("")))}},a.tableData=function(){return a.state.roleId.length>0&&null===a.state.selectedRole&&a.props.roleList&&a.handleSelectRole(a.state.roleId,"DEFAULT"),a.state.selectedRole?a.state.selectedRole.access.map((function(e,t){return Object(A.jsxs)("tr",{className:"text-left border-b border-gray-200 hover:bg-gray-100",children:[Object(A.jsx)("td",{className:"px-2 py-1",children:Object(A.jsx)("label",{className:"inline-flex items-center",children:Object(A.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(A.jsx)("td",{children:Object(A.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(A.jsx)(S.a,{}):Object(A.jsx)(h.N,{}),e.permitted.create?" Yes":"No"]})}),Object(A.jsx)("td",{children:Object(A.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(A.jsx)(S.a,{}):Object(A.jsx)(h.N,{}),e.permitted.view?" Yes":"No"]})}),Object(A.jsx)("td",{children:Object(A.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(A.jsx)(S.a,{}):Object(A.jsx)(h.N,{}),e.permitted.update?" Yes":"No"]})}),Object(A.jsx)("td",{children:Object(A.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(A.jsx)(S.a,{}):Object(A.jsx)(h.N,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id+Math.random())})):[Object(A.jsx)("tr",{children:Object(A.jsx)("td",{colSpan:5,className:"text-center px-2 py-2",children:"No Default Access Available on this Role."})},"55re")]},a.assignRoleToUser=function(){var e=Object(n.a)(i.a.mark((function e(t){var s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("Are sure you want to change user role?")){e.next=3;break}return e.abrupt("return",!1);case 3:if(a.state.selectedRole){e.next=5;break}return e.abrupt("return",a.setFormError({element:"role_id",msg:"User role is required!"}));case 5:if(!0!==a.state.selectedRole.room_required||!Object(E.e)(a.state.provinceId)){e.next=7;break}return e.abrupt("return",a.setFormError({element:"province_id",msg:"Province is required!"}));case 7:if(!0!==a.state.selectedRole.education_institution_required||!Object(E.e)(a.state.instituteId)){e.next=9;break}return e.abrupt("return",a.setFormError({element:"institute_id",msg:"Institute is required on this role!"}));case 9:if(!0!==a.state.selectedRole.room_required&&!0!==a.state.selectedRole.district_required||!Object(E.e)(a.state.districtId)){e.next=11;break}return e.abrupt("return",a.setFormError({element:"district_id",msg:"District is required!"}));case 11:if(!0!==a.state.selectedRole.school_required||!Object(E.e)(a.state.schoolId)){e.next=13;break}return e.abrupt("return",a.setFormError({element:"school_id",msg:"School is required!"}));case 13:if(!0!==a.state.selectedRole.room_required||!Object(E.e)(a.state.centerId)){e.next=15;break}return e.abrupt("return",a.setFormError({element:"center_id",msg:"Center is required!"}));case 15:if(!0!==a.state.selectedRole.room_required||!Object(E.e)(a.state.roomId)){e.next=17;break}return e.abrupt("return",a.setFormError({element:"room_id",msg:"Room is required!"}));case 17:return a.setLoadingRequest(!0),s={user_id:a.props.userInfo.user_id,data:{system_user_role_id:a.state.roleId,status:1,role:a.state.selectedRole.role,access:a.state.selectedRole.access,school_id:a.state.selectedRole.school_required?a.state.schoolId:"",district_id:a.state.selectedRole.district_required?a.state.districtId:"",room_id:a.state.selectedRole.room_required?a.state.roomId:"",education_institution_id:a.state.selectedRole.education_institution_required?a.state.instituteId:""}},e.prev=19,e.next=22,p.a.post("".concat(N.a.AUTH,"/addroletouser"),{user_id:a.props.userInfo.user_id,system_user_role_id:a.state.roleId,status:1,role:a.state.selectedRole.role,access:!0,school_id:!0===a.state.selectedRole.school_required?a.state.schoolId:"",district_id:!0===a.state.selectedRole.district_required?a.state.districtId:"",room_id:!0===a.state.selectedRole.room_required?a.state.roomId:"",education_institution_id:a.state.selectedRole.education_institution_required?a.state.instituteId:""});case 22:(r=e.sent)&&(console.log("===================================="),console.log({assignRoleToUser:r}),console.log("===================================="),a.props.assignRoleToUserAccess(s,a.props.currentPage),a.setLoadingRequest(!1),a.props.setChangeRole(!1),a.props.PushPopupAlert({title:"Assigning Role to User completed successfully",theme:y.a.success})),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(19),console.log({role_error:e.t0}),a.props.PushPopupAlert({title:Object(C.a)(e.t0),theme:y.a.danger});case 30:case"end":return e.stop()}}),e,null,[[19,26]])})));return function(t){return e.apply(this,arguments)}}(),a.distinctDistrict=function(e,t){var s=[],a=[];if(t)a=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))for(var i in e[r].districts)Object.prototype.hasOwnProperty.call(e[r].districts,i)&&(s.includes(e[r].districts[i]._id)||(s.push(e[r].districts[i]._id),a.push(e[r].districts[i])));return a},a.distinctCenter=function(e,t){var s=[],a=[];return q(e).forEach((function(e){s.includes(e.center_id)||e.district_id!==t||(s.push(e.center_id),a.push(e))})),a},a.distinctRoom=function(e,t){var s=[],a=[];return q(e).forEach((function(e){s.includes(e.room_id)||e.center_id!==t||(s.push(e.room_id),a.push(e))})),a},a.state={loading:!0,loadingForm:!0,loadingRequest:!1,roleId:"",provinceId:"",districtId:"",schoolId:"",roomId:"",instituteId:"",centerId:"",selectedRole:null,formError:null,chooseRole:!1,chooseSchool:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e,t=this;return!0===this.state.loading||this.state.loadingForm||null===this.props.userInfo.default_access||0===this.state.roleId.length||null===this.state.selectedRole?Object(A.jsx)("div",{className:"text-center py-7 font-bold text-3xl text-gray-400 animate-pulse",children:"Loading..."}):Object(A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 py-2 md:py-4 px-2 md:px-0",children:[Object(A.jsx)("div",{className:"col-span-1 bg-white w-full overflow-x-auto border rounded",children:Object(A.jsxs)("div",{className:"px-6 md:px-12 py-5 bg-white mx-auto rounded-2xl w-100",children:[Object(A.jsx)("h3",{className:"font-semibold text-2xl text-gray-800 mb-4",children:"Change User Role"}),this.state.loadingForm?Object(A.jsx)(_.a,{}):Object(A.jsx)("form",{onSubmit:function(e){return t.assignRoleToUser(e)},children:Object(A.jsxs)("div",{className:"space-y-5",children:[Object(A.jsxs)("div",{className:"space-y-2",children:[Object(A.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:"User Role"}),!this.state.chooseRole&&Object(A.jsx)("div",{className:"w-full text-base bg-white text-grey-darker cursor-pointer border-2 px-4 py-3 rounded focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"role_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onClick:function(){!t.state.loadingRequest&&t.setChooseRole(!0),!t.state.loadingRequest&&t.setFormError(null)},children:this.state.selectedRole?this.state.selectedRole.role:"Select role"}),this.state.chooseRole&&Object(A.jsx)(D,{setChooseRole:this.setChooseRole,handleSelectRole:this.handleSelectRole,roleList:this.props.roleList,loadindRequest:this.state.loadingRequest}),this.state.formError&&"role_id"===this.state.formError.element&&Object(A.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.education_institution_required&&Object(A.jsxs)("div",{className:"space-y-2",children:[Object(A.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Institute"}),Object(A.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"institute_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setInstituteId(e.target.value),t.setProvinceId(""),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId(""),t.state.formError&&"institute_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.instituteId,children:[Object(A.jsx)("option",{value:"",children:"Select institute"}),this.props.schoolLevels.education_categories&&this.props.schoolLevels.education_categories.length>0?this.props.schoolLevels.education_categories.map((function(e){return Object(A.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},e.education_institute_id+Math.random())})):Object(A.jsx)("option",{value:"",disabled:!0,children:"No institute available"})]}),this.state.formError&&"institute_id"===this.state.formError.element&&Object(A.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(A.jsxs)("div",{className:"space-y-2",children:[Object(A.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Province"}),Object(A.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"province_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setProvinceId(e.target.value),t.state.formError&&"province_id"===t.state.formError.element&&t.setFormError(null),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},value:this.state.provinceId,disabled:this.state.loadingRequest,children:[Object(A.jsx)("option",{value:"",children:"Select province"}),this.props.roomList&&this.props.roomList.map((function(e){return Object(A.jsx)("option",{value:e._id,children:e.province_name},e._id+Math.random())}))]}),this.state.formError&&"province_id"===this.state.formError.element&&Object(A.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&(this.state.selectedRole.district_required||this.state.selectedRole.room_required)&&Object(A.jsxs)("div",{className:"space-y-2",children:[Object(A.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"District"}),Object(A.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"district_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setDistrictId(e.target.value),t.state.formError&&"district_id"===t.state.formError.element&&t.setFormError(null),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},value:this.state.districtId,disabled:this.state.loadingRequest,children:[Object(A.jsx)("option",{value:"",children:"Select district"}),this.props.roomList&&this.distinctDistrict(this.props.roomList,Object(E.e)(this.state.provinceId)?void 0:this.state.provinceId).length>0?this.distinctDistrict(this.props.roomList,Object(E.e)(this.state.provinceId)?void 0:this.state.provinceId).map((function(e){return Object(A.jsx)("option",{value:e._id,children:e.district_name},e._id+Math.random())})):Object(A.jsx)("option",{value:"",disabled:!0,children:"No district found"})]}),this.state.formError&&"district_id"===this.state.formError.element&&Object(A.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.school_required&&Object(A.jsxs)("div",{className:"space-y-2",children:[Object(A.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"School"}),Object(A.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"school_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setSchoolId(e.target.value),t.state.formError&&"school_id"===t.state.formError.element&&t.setFormError(null),t.setCenterId(""),t.setRoomId("")},disabled:this.state.loadingRequest,value:this.state.schoolId,children:[Object(A.jsx)("option",{value:"",children:"Selected school"}),this.props.schoolList&&this.props.schoolList.map((function(e){return Object(A.jsx)("option",{value:e._id,children:e.school_name},e._id+Math.random())}))]}),this.state.formError&&"school_id"===this.state.formError.element&&Object(A.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(A.jsxs)("div",{className:"space-y-2",children:[Object(A.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Center"}),Object(A.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"center_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setCenterId(e.target.value),t.state.formError&&"center_id"===t.state.formError.element&&t.setFormError(null),t.setRoomId("")},disabled:this.state.loadingRequest,value:this.state.centerId,children:[Object(A.jsx)("option",{value:"",children:"Select center"}),this.state.districtId&&this.state.districtId.length>0&&this.props.roomList&&this.distinctCenter(this.props.roomList,this.state.districtId).length>0?this.distinctCenter(this.props.roomList,this.state.districtId).map((function(e,t){return Object(A.jsx)("option",{value:e.center_id,children:e.center_name},e.center_id+t+Math.random())})):Object(A.jsx)("option",{value:"",disabled:!0,children:"No center found"})]}),this.state.formError&&"center_id"===this.state.formError.element&&Object(A.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(A.jsxs)("div",{className:"space-y-2",children:[Object(A.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Room"}),Object(A.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"room_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setRoomId(e.target.value),t.state.formError&&"room_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.roomId,children:[Object(A.jsx)("option",{value:"",children:"Select room"}),!Object(E.e)(this.state.centerId)&&this.props.roomList&&this.distinctRoom(this.props.roomList,this.state.centerId).length>0?this.distinctRoom(this.props.roomList,this.state.centerId).map((function(e,t){return Object(A.jsx)("option",{value:e.room_id,className:"".concat("0"===e.room_name?"hidden":"block"),children:e.room_name},e.room_id+t+Math.random())})):Object(A.jsx)("option",{value:"",disabled:!0,children:"No room found"})]}),this.state.formError&&"room_id"===this.state.formError.element&&Object(A.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(A.jsxs)("div",{className:"flex justify-between 2xl:justify-start gap-2",children:[Object(A.jsx)("button",{className:"btn bg-gray-500 text-gray-50 focus:outline-none",onClick:function(){t.props.setChangeRole(!1),t.setFormError(null),t.setProvinceId(""),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},disabled:this.state.loadingRequest,children:"Back"}),Object(A.jsx)("button",{className:"btn btn-blue focus:outline-none",disabled:this.state.loadingRequest,children:this.state.loadingRequest?"Loading...":"Save Change"})]})]})})]})}),Object(A.jsxs)("div",{className:"cols-span-1 md:col-span-2 bg-white w-full border rounded text-center p-2 hidden md:block",children:[Object(A.jsx)("div",{className:"my-4",children:Object(A.jsxs)("span",{className:"text-gray-600 font-semibold text-2xl",children:[null===(e=this.state.selectedRole)||void 0===e?void 0:e.role,"'s Default Access"]})}),!this.state.loading&&Object(A.jsx)("div",{className:"overflow-x-auto w-full",children:Object(A.jsx)(P.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!1,searchBG:"bg-gray-50",thColor:"gray",tableId:"defaultAccess"})})]})]})}}]),s}(m.Component),F=x.a.memo(Object(b.b)((function(e){return{schoolLevels:e.schoolLevels}}),{assignRoleToUserAccess:O.a,PushPopupAlert:j.Nb})(k)),M=s.p+"static/media/blank_profile.c3f94521.png",U=function(e,t){return e.find((function(e){return e.user_id===t}))};!function(e){e.View_User="View User Info",e.Add_Access="Add Access To User",e.Update_Access="Update User Access",e.Close_Modal="Close Modal"}(a||(a={}));var q=function(e){var t=[];for(var s in e){var a=e[s].districts;for(var r in a){var i=a[r].centers;for(var n in i){var o=i[n].rooms;for(var c in o)t.push({province_id:e[s]._id,province_name:e[s].province_name,district_id:a[r]._id,district_name:a[r].district_name,center_id:i[n]._id,center_name:i[n].center_name,room_id:o[c]._id,room_name:o[c].room_number.toString(),capacity:o[c].capacity,occupied:o[c].occupied})}}}return t},W=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setManageUserId=function(e){a.setState({manageUserId:e})},a.setLoadingRequest=function(e){a.setState({loadingRequest:e})},a.setLoadingSchool=function(e){a.setState({loadingSchool:e})},a.setLoading=function(e){a.setState({loading:e})},a.setLoadingRequestType=function(e){a.setState({loadingRequestType:e})},a.setRoomList=function(e){a.setState({roomList:e})},a.setRoomTables=function(e){a.setState({roomTable:e})},a.setCurrentAccess=function(e){a.setState({currentAccess:e})},a.setSchoolList=function(e){a.setState({schoolList:e})},a.setUserAccess=function(e){a.setState({userAccess:e})},a.componentDidMount=function(){0===a.props.schools.length?a.props.getSchools((function(e,t,s){a.setLoadingSchool(e),e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:y.a.danger}),s&&(a.setLoadingSchool(!1),a.setSchoolList(s)))})):(a.setSchoolList(a.props.schools),a.setLoadingSchool(!1)),0===a.props.allRoom.length?a.props.getAllRoom((function(e,t,s){a.setLoading(e),!e&&t.length>0&&a.props.PushPopupAlert({title:t,theme:y.a.danger}),s&&s.length>0&&(a.setRoomList(s),a.setRoomTables(q(s)))})):a.state.loading&&(a.setRoomList(a.props.allRoom),a.setRoomTables(q(a.props.allRoom)),a.setLoading(!1))},a.tableData=function(){if(a.props.loadingUser||a.state.loading||a.state.loadingSchool)return[Object(A.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(A.jsx)("td",{className:"p-3 text-center",colSpan:8,children:Object(A.jsx)(_.a,{})})},Math.random())];var e=a.props.users;return e.length<=0?[Object(A.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(A.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"No Data Found"})},Math.random())]:e.map((function(e,t){var s,r;return Object(A.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group cursor-pointer",onClick:function(){a.props.setManageUser(e),a.setManageUserId(e.user_id)},children:[Object(A.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(A.jsx)("td",{className:"p-3 text-left",children:Object(A.jsx)("span",{children:e.user_info&&e.user_info.fname+" "+e.user_info.lname})}),Object(A.jsx)("td",{className:"p-3 text-left",children:e.email}),Object(A.jsx)("td",{className:"p-3 text-left",children:e.user_info&&"M"===e.user_info.sex?"Male":"Female"}),Object(A.jsx)("td",{className:"p-3 text-left text-blue-700 text-base font-medium",children:e.default_access&&e.default_access.system_user_role_id&&e.default_access.system_user_role_id&&Object(A.jsx)("span",{className:"px-2 py-1 font-semibold rounded text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100",children:(null===(s=Object(E.d)(a.props.roleList,e.default_access.system_user_role_id))||void 0===s?void 0:s.role)&&Object(E.a)(null===(r=Object(E.d)(a.props.roleList,e.default_access.system_user_role_id))||void 0===r?void 0:r.role)})}),Object(A.jsx)("td",{className:"px-3 text-center",children:Object(A.jsx)("button",{className:"btn bg-gray-200 group-hover:bg-blue-700 group-hover:text-white focus:outline-none",title:"Manage User Access",onClick:function(){a.props.setManageUser(e),a.setManageUserId(e.user_id)},children:"Manage"})})]},t+Math.random())}))},a.blockUser=function(){var e=Object(n.a)(i.a.mark((function e(t,s){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||a.props.PushPopupAlert({title:"User Access is required doesn't exist",theme:y.a.danger}),a.setLoadingRequest(!0),window.confirm("Are sure you want to ".concat(s?"block":"activate"," this user?"))){e.next=4;break}return e.abrupt("return",a.setLoadingRequest(!1));case 4:return e.prev=4,e.next=7,p.a.patch("".concat(N.a.AUTH,"/users/disactive/").concat(t),{is_active:!s});case 7:(r=e.sent)&&(console.log("===================================="),console.log({blockUserToSystem:r}),console.log("===================================="),s?a.props.blockUserToSystem(t,a.props.currentPage):a.props.unBlockUserToSystem(t,a.props.currentPage),a.props.PushPopupAlert({title:"User has been ".concat(s?"blocked":"activated","!"),theme:y.a.info})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error({blockUser_ERROR:e.t0}),a.props.PushPopupAlert({title:Object(C.a)(e.t0),theme:y.a.danger});case 15:a.setLoadingRequest(!1),t="";case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,s){return e.apply(this,arguments)}}(),a.restUserAccess=function(){var e=Object(n.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||a.props.PushPopupAlert({title:"User Access is required doesn't exist",theme:y.a.warning}),window.confirm("Are sure you want to reset to default access?")){e.next=3;break}return e.abrupt("return",a.setLoadingRequest(!1));case 3:return a.setLoadingRequest(!0),a.setLoadingRequestType("RESET"),e.prev=5,e.next=8,p.a.delete("".concat(N.a.AUTH,"/custaccess/user/").concat(t));case 8:e.sent&&a.props.resetUserAccess(t,a.props.currentPage),(s=a.props.users.find((function(e){return e.user_id===t})))&&(s.default_access&&a.setUserAccess(s.default_access.access),a.props.PushPopupAlert({title:"Resetting User Access complete successfully",theme:y.a.info}),a.setCurrentAccess(null)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error({reseting_user_access:e.t0}),a.props.PushPopupAlert({title:Object(C.a)(e.t0),theme:y.a.danger});case 18:a.setLoadingRequest(!1),a.setLoadingRequestType(null),t="";case 21:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),a.distinctDistrict=function(e,t){var s=[],a=[];if(t)a=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))for(var i in e[r].districts)Object.prototype.hasOwnProperty.call(e[r].districts,i)&&(s.includes(e[r].districts[i]._id)||(s.push(e[r].districts[i]._id),a.push(e[r].districts[i])));return a},a.state={manageUserId:"",loadingRequest:!1,loading:!0,loadingSchool:!0,loadingRequestType:null,schoolList:null,roomList:null,roomTable:null,userAccess:null,currentAccess:null},a}return Object(c.a)(s,[{key:"render",value:function(){var e,t,s,a=this;return Object(A.jsxs)("div",{children:[!this.props.manageUser&&Object(A.jsx)("div",{className:"grid md:grid-cols-5 gap-2 mb-5",children:Object(A.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(A.jsx)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:Object(A.jsx)("div",{className:"flex flex-col md:flex-row gap-1 items-center mx-1.5"})}),this.props.users&&Object(A.jsx)(P.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"Email",alignText:"left",padding:"p-3"},{columnTitle:"Gender",alignText:"left",padding:"p-3"},{columnTitle:"Role",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:this.tableData,pagination:!1,search:!0,thColor:"gray",loading:this.props.loadingUser||this.state.loading||this.state.loadingSchool})]})}),this.props.manageUser&&Object(A.jsxs)("div",{className:"bg-gray-100 h-100",children:[Object(A.jsxs)("div",{className:"bg-white border-b border-t px-4 py-2 flex flex-col md:flex-row items-center gap-x-14",children:[this.props.users.find((function(e){return e.user_id===a.state.manageUserId}))?Object(A.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start items-center w-full gap-3",children:[Object(A.jsx)("img",{src:"pic"!==this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_info.photo?this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_info.photo:M,alt:"",className:"rounded-full w-32 h-32"}),Object(A.jsxs)("div",{className:"flex flex-col gap-1 items-start w-full",children:[Object(A.jsx)("span",{className:"text-2xl font-semibold",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_info.fname+" "+this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_info.lname}),Object(A.jsxs)("div",{className:"flex items-center",children:[Object(A.jsx)(h.Y,{className:"w-5 h-5"}),Object(A.jsx)("span",{className:"text-lg font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(E.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).role})]}),Object(A.jsxs)("div",{className:"flex items-center gap-1",children:[Object(A.jsx)("span",{className:"text-gray-500",children:"Level:"}),Object(A.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(E.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).district_required?"District":this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(E.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).school_required?"School":this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(E.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).room_required?"Room":this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(E.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).education_institution_required?"Institute":"-"})]}),this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(E.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).education_institution_required?Object(A.jsxs)("div",{className:"flex items-center gap-1",children:[Object(A.jsx)("span",{className:"text-gray-500",children:"Institute:"}),Object(A.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&this.props.schoolLevels.education_categories&&Object(E.b)(this.props.schoolLevels.education_categories,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.education_institution_id)?Object(E.b)(this.props.schoolLevels.education_categories,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.education_institution_id).education_category_title:"Unknown Institute"})]}):this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(E.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).district_required?Object(A.jsxs)("div",{className:"flex items-center gap-1",children:[Object(A.jsx)("span",{className:"text-gray-500",children:"District:"}),Object(A.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&this.state.roomList&&Object(R.distinctDistrict)(this.state.roomList).find((function(e){return e.district_id===a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.district_id}))&&Object(R.distinctDistrict)(this.state.roomList).find((function(e){return e.district_id===a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.district_id})).district_name})]}):this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(E.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).school_required?Object(A.jsxs)("div",{className:"flex items-center gap-1",children:[Object(A.jsx)("span",{className:"text-gray-500",children:"School:"}),Object(A.jsx)("span",{className:"text-base font-medium",children:this.state.schoolList&&this.state.schoolList.find((function(e){var t;return e._id===(null===(t=a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access)||void 0===t?void 0:t.school_id)}))?this.state.schoolList.find((function(e){var t;return e._id===(null===(t=a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access)||void 0===t?void 0:t.school_id)})).school_name:"Unknown school"})]}):this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(E.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).room_required&&Object(A.jsxs)("div",{className:"flex items-center gap-1",children:[Object(A.jsx)(h.X,{className:"text-gray-500"}),this.state.roomTable&&Object(A.jsx)("span",{className:"text-base font-medium",children:(null===(e=this.state.roomTable.find((function(e){var t;return e.room_id===(null===(t=a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===e?void 0:e.district_name)+" - "+(null===(t=this.state.roomTable.find((function(e){var t;return e.room_id===(null===(t=a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===t?void 0:t.center_name)+" - Room "+(null===(s=this.state.roomTable.find((function(e){var t;return e.room_id===(null===(t=a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===s?void 0:s.room_name)})]})]})]},this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_id+Math.random()):Object(A.jsx)(v.b,{theme:v.a.Dark,value:"User info not found"}),this.props.users.find((function(e){return e.user_id===a.state.manageUserId}))&&Object(A.jsxs)("div",{className:"flex flex-col w-full",children:[Object(A.jsxs)("div",{className:"flex items-center gap-1",children:[Object(A.jsx)("span",{className:"text-gray-500",children:"NID:"}),Object(A.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).n_id})]}),Object(A.jsxs)("div",{className:"flex items-center gap-1",children:[Object(A.jsx)("span",{className:"text-gray-500",children:"Email:"}),Object(A.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).email})]}),Object(A.jsxs)("div",{className:"flex items-center gap-1",children:[Object(A.jsx)("span",{className:"text-gray-500",children:"Phone:"}),Object(A.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).phone_number})]}),Object(A.jsxs)("div",{className:"flex items-center gap-1",children:[Object(A.jsx)("span",{className:"text-gray-500",children:"Status:"}),Object(A.jsx)("span",{className:"text-base font-medium",children:!1===this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).is_active?"Blocked":"Active"})]}),Object(A.jsxs)("div",{className:"flex items-center gap-1",children:[this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).custome_access&&Object(A.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-50 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"cursor-wait bg-gray-400":"bg-gray-600"),onClick:function(){return a.restUserAccess(a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_id)},disabled:this.state.loadingRequest,children:[Object(A.jsx)(h.Y,{className:"w-4 h-4 fill-current"}),Object(A.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Reseting...":"Reset Access"})]}),!this.props.changeRole&&Object(A.jsxs)("button",{className:"bg-yellow-300 hover:bg-yellow-400 px-2 py-1 font-semibold text-black inline-flex items-center rounded",onClick:function(){return a.props.setChangeRole(!0)},children:[Object(A.jsx)(h.Y,{className:"w-4 h-4 fill-current"}),Object(A.jsx)("span",{children:"Change Role"})]}),this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).is_active?Object(A.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"STATUS"===this.state.loadingRequestType?"cursor-wait bg-red-500":"bg-red-700"),onClick:function(){return!a.state.loadingRequest&&a.props.manageUser&&a.blockUser(a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_id,a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).is_active)},disabled:this.state.loadingRequest,children:[Object(A.jsx)(h.Y,{className:"w-4 h-4 fill-current"}),Object(A.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Loading...":"Block user"})]}):Object(A.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"STATUS"===this.state.loadingRequestType?"cursor-wait bg-yellow-500":"bg-yellow-700"),onClick:function(){return!a.state.loadingRequest&&a.props.manageUser&&a.blockUser(a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_id,a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).is_active)},disabled:this.state.loadingRequest,children:[Object(A.jsx)(h.Y,{className:"w-4 h-4 fill-current"}),Object(A.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Loading...":"Re-Activate"})]})]})]},this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_id+Math.random())]}),this.props.manageUser&&this.state.roomList&&this.props.changeRole?Object(A.jsx)(F,{userInfo:this.props.manageUser,roleList:this.props.roleList,district:this.distinctDistrict(this.state.roomList),schoolList:this.state.schoolList,roomList:this.state.roomList,setChangeRole:this.props.setChangeRole,currentPage:this.props.currentPage}):Object(A.jsx)(T.UserAccess,{userInfo:U(this.props.users,this.state.manageUserId),manageUserId:this.state.manageUserId,setUserAccess:this.setUserAccess,userAccess:this.state.userAccess,setCurrentAccess:this.setCurrentAccess,currentAccess:this.state.currentAccess,currentPage:this.props.currentPage})]})]})}}]),s}(m.Component);t.b=x.a.memo(Object(b.b)((function(e){var t=e.schoolLevels,s=e.schools,a=e.locations;return{schoolLevels:t,schools:s.schools,allRoom:a.roomLocation}}),{blockUserToSystem:O.b,unBlockUserToSystem:O.f,resetUserAccess:O.e,getSchools:g.k,getAllRoom:f.q,PushPopupAlert:j.Nb})(W))},697:function(e,t,s){"use strict";var a=s(17),r=s(11),i=s(18),n=s(4),o=s.n(n),c=s(12),l=s(38),d=s(8),u=s(24),p=s(47),m=s(1),x=function(e){var t,s=new Date,a=[],n=Object(i.a)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,c=new Date(o.start_date),l=new Date(o.end_date);c.getTime()<=s.getTime()&&l.getTime()>=s.getTime()&&o.type_status===d.j.OPEN&&(a=[].concat(Object(r.a)(a),[o]))}}catch(u){n.e(u)}finally{n.f()}return a},h=function(e){var t,s,r=Object(n.useState)(null),i=Object(a.a)(r,2),o=i[0],d=i[1],h=Object(n.useState)(""),b=Object(a.a)(h,2),j=b[0],f=b[1];return Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("div",{className:"px-3",children:Object(m.jsx)("input",{onChange:function(e){return f(e.target.value)},type:"text",className:"py-3 px-4 w-full rounded border border-gray-400 mb-3",placeholder:"Search by year, name",disabled:null===e.allSession||0===e.allSession.length})}),Object(m.jsx)("div",{className:"bg-gray-100 px-3 pt-3 pb-2 rounded-b",children:null===e.allSession?Object(m.jsx)(l.a,{}):0===e.allSession.length?Object(m.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center mb-2 bg-white py-4",children:[Object(m.jsx)(c.Lb,{className:"text-6xl"}),Object(m.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(m.jsx)("span",{children:"No session found!"})})]}):Object(m.jsxs)("section",{children:[e.chooseAll&&Object(m.jsxs)("div",{className:"rounded border ".concat("all"===e.currentSelected?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2 flex flex-col md:flex-row items-start md:items-center md:justify-between"),children:[Object(m.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"===e.currentSelected?Object(m.jsx)(c.t,{className:"text-blue-500 text-4xl"}):Object(m.jsx)(c.Bb,{className:"text-gray-300 text-4xl"}),Object(m.jsx)("div",{className:"flex flex-col",children:Object(m.jsx)("div",{className:"text-gray-600 font-bold",children:"All session"})})]}),Object(m.jsx)("div",{onClick:function(){e.setSelectSession("all")},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"})]}),(t=e.allSession,s=j,Object(p.a)(t,s)).map((function(t,s){return Object(m.jsxs)("div",{className:"rounded border ".concat("all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2"),children:[Object(m.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between ",children:[Object(m.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?Object(m.jsx)(c.t,{className:"text-blue-500 text-4xl"}):Object(m.jsx)(c.Bb,{className:"text-gray-300 text-4xl"}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"".concat("all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?"text-blue-600":"text-gray-600"," font-bold"),children:t.session_plan_name}),Object(m.jsxs)("div",{className:"text-sm text-gray-500",children:[Object(m.jsx)("span",{children:"Status: "}),Object(m.jsx)("span",{className:"".concat(!0===t.is_active?"text-gray-900 font-bold underline":"text-gray-500 italic"),children:!0===t.is_active?"Active":"Expired"})]})]})]}),Object(m.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(null===o||o.session_plan_id!==t.session_plan_id)&&Object(m.jsx)("div",{onClick:function(){return d(t)},className:"bg-gray-50 group-hover:bg-blue-100 font-semibold text-gray-400 group-hover:text-blue-600 rounded px-3 py-2 cursor-pointer",children:"Details"}),Object(m.jsx)("div",{onClick:function(){e.setSelectSession(t)},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"}),null!==o&&o.session_plan_id===t.session_plan_id&&Object(m.jsx)("div",{onClick:function(){return d(null)},className:"bg-red-100 group-hover:bg-red-200 font-semibold text-red-600 group-hover:text-red-800 rounded px-3 py-2 cursor-pointer",children:"Close"})]})]}),null!==o&&o.session_plan_id===t.session_plan_id&&Object(m.jsx)("div",{className:"bg-white rounded border border-blue-50 mt-2 animate__animated animate__fadeIn",children:Object(m.jsxs)("table",{className:"w-full",children:[Object(m.jsx)("thead",{className:"bg-blue-50",children:Object(m.jsxs)("tr",{className:"text-left",children:[Object(m.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(m.jsx)("th",{children:"Plan"}),Object(m.jsx)("th",{children:"Start date"}),Object(m.jsx)("th",{children:"Ending date"}),Object(m.jsx)("th",{children:"Status"})]})}),Object(m.jsx)("tbody",{className:"text-sm",children:null!==o&&o.session_plan_id===t.session_plan_id&&o.plans.length>0&&t.plans.map((function(e,s){return Object(m.jsxs)("tr",{className:"".concat(void 0!==x(t.plans).find((function(t){return t.type_key===e.type_key}))?"bg-blue-100 text-blue-600 font-bold":""," text-left border-b border-blue-50"),children:[Object(m.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(m.jsx)("td",{children:e.type_title}),Object(m.jsx)("td",{children:Object(u.a)(e.start_date,"DD/MM/YYYY")}),Object(m.jsx)("td",{children:Object(u.a)(e.end_date,"DD/MM/YYYY")}),Object(m.jsx)("td",{children:e.type_status})]},s+1)}))})]})})]},s+1)}))]})})]})};t.a=o.a.memo(h)},698:function(e,t,s){"use strict";s.d(t,"c",(function(){return b})),s.d(t,"f",(function(){return j})),s.d(t,"a",(function(){return f})),s.d(t,"b",(function(){return g})),s.d(t,"g",(function(){return O})),s.d(t,"d",(function(){return _}));var a,r=s(17),i=s(4),n=s.n(i),o=s(71),c=s(22),l=s(38),d=s(207),u=s(42),p=s(24),m=s(684),x=s(688),h=s(1);!function(e){e.APPLICANT="applicant_name",e.N_ID="national_id",e.EMAIL="email",e.PHONE="phone",e.MARKS="marks",e.STATUS="performance_status",e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.START_TIME="exam_start_time",e.END_TIME="exam_end_time"}(a||(a={}));var b=function(e){return e!==a.COURSER_NAME&&e!==a.COURSE_CODE&&e!==a.PERIOD&&e!==a.APPLICANT&&e!==a.N_ID},j=[{key:a.APPLICANT,title:"Applicant names",status:!0},{key:a.N_ID,title:"National ID",status:!0},{key:a.EMAIL,title:"Email",status:!0},{key:a.PHONE,title:"Phone",status:!0},{key:a.MARKS,title:"Marks",status:!0},{key:a.COURSER_NAME,title:"Course names",status:!0},{key:a.COURSE_CODE,title:"Course code",status:!0},{key:a.SCHOOL_LEVEL,title:"School levels",status:!0},{key:a.PERIOD,title:"Exam period",status:!0},{key:a.DATE,title:"Exam date",status:!0},{key:a.START_TIME,title:"Exam start time",status:!0},{key:a.END_TIME,title:"Exam end time",status:!0},{key:a.STATUS,title:"Status",status:!0}],f=function(e,t,s){var a=[],r=[],i=function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!r.includes(t[s]._id)){r.push(t[s]._id);var i=e.find((function(e){return e.course_id===t[s].course}));i&&a.push({user_id:t[s].user.user_id,user_name:Object(u.a)(t[s].user.user_info.lname)+" "+Object(u.a)(t[s].user.user_info.fname),national_id:t[s].user.n_id?t[s].user.n_id:"",user_email:t[s].user.email,user_phone:t[s].user.phone_number,course_name:i.course_name,course_code:i.course_code,description:i.description,school_levels:i.school_levels,course_id:i.course_id,exam:t[s],user_total_marks:t[s].total_marks,exam_stastus:t[s].user_status})}};for(var n in t)i(n);return"all"!==s&&(a=a.filter((function(e){return e.course_id===s}))),a},g=function(e,t){return"all"===t?e:e.filter((function(e){return e.exam_stastus===t}))},O=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var a in e)if(s=!1,"course_name"!==a&&"course_code"!==a&&"user_total_marks"!==a&&"exam_stastus"!==a&&"description"!==a&&"user_name"!==a&&"user_phone"!==a&&"user_email"!==a&&"national_id"!==a||(s=e[a].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},_=function(e){return"Done"===e?"bg-blue-50 border-gray-300 hover:border-blue-500 border-t border-b":"Removed"===e?"bg-white border-red-300 hover:border-red-500 border-t border-b":"Paused"===e?"bg-white border-yellow-300 hover:border-yellow-500 border-t border-b":"bg-white border-gray-300 hover:border-blue-500 border-t border-b"};t.e=n.a.memo(Object(c.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(i.useState)(""),s=Object(r.a)(t,2),a=s[0],n=s[1],c=Object(i.useState)(!1),b=Object(r.a)(c,2),j=b[0],v=b[1],P=Object(i.useState)(""),y=Object(r.a)(P,2),E=y[0],N=y[1],C=Object(i.useState)("ASC"),R=Object(r.a)(C,2),T=R[0],S=R[1],w=function(e){E===e&&"ASC"===T?(S("DESC"),N(e),v(!0)):(S("ASC"),N(e),v(!0))};return Object(h.jsx)(i.Fragment,{children:Object(h.jsxs)("div",{className:"bg-white my-4",children:[Object(h.jsx)("div",{className:"w-full px-2 py-2",children:Object(h.jsx)("input",{onChange:function(e){return n(e.target.value)},type:"text",value:a,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.candidatePerformanceData&&g(f(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance).length<=0)})}),Object(h.jsx)("div",{className:"w-full overflow-x-auto",children:Object(h.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(h.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(h.jsx)("td",{className:"px-2 py-2",onClick:function(){return w("user_name")},children:"Applicants"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Email"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(h.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return w("course_name")},children:Object(h.jsxs)("div",{className:"flex items-center gap-1",children:["Exam ",Object(h.jsx)(o.j,{})]})}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam period"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam start time"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam end time"}),Object(h.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return w("user_total_marks")},children:Object(h.jsxs)("div",{className:"flex items-center gap-1",children:["Marks ",Object(h.jsx)(o.j,{})]})}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(h.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:12,className:"px-2 py-2",children:Object(h.jsx)(l.a,{})})}):e.candidatePerformanceData&&g(f(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance).length<=0?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:12,className:"px-2 py-2 text-center",children:"No applicant list available!"})}):e.candidatePerformanceData&&Object(p.p)(j,O(g(f(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance),a),E,T).map((function(t,s){return Object(h.jsxs)("tr",{className:"".concat(_(t.exam_stastus)," text-gray-600 hover:bg-blue-100 hover:text-blue-700 text-sm"),children:[Object(h.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(h.jsx)("td",{className:"px-2 py-2",children:Object(u.a)(t.user_name)}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.national_id}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.user_email}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.user_phone}),Object(h.jsxs)("td",{className:"px-2 py-2",children:[Object(u.a)(t.course_name)," (",Object(h.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(x.getPeriodById)(e.thisPeriod,t.exam.period)?Object(x.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.exam_date?Object(p.a)(t.exam.exam_date):"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.start_time?Object(p.q)(t.exam.start_time).timeAMPM:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.end_time?Object(p.q)(t.exam.end_time).timeAMPM:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam_stastus!==d.a.Editing?Number(t.user_total_marks.toFixed(1))+"%":"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:Object(u.a)(Object(m.d)(t.exam_stastus))})]},s+1)}))})]})})]})})})))},700:function(e,t,s){"use strict";s.d(t,"c",(function(){return m})),s.d(t,"d",(function(){return x})),s.d(t,"a",(function(){return h})),s.d(t,"e",(function(){return j}));var a,r=s(17),i=s(4),n=s.n(i),o=s(71),c=s(38),l=s(42),d=s(24),u=s(688),p=s(1);!function(e){e.course_name="course_name",e.course_code="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.STATUS="preparation_status"}(a||(a={}));var m=[{key:a.course_name,title:"Course names",status:!0},{key:a.course_code,title:"Course code",status:!0},{key:a.SCHOOL_LEVEL,title:"School levels",status:!0},{key:a.PERIOD,title:"Exam period",status:!0},{key:a.DATE,title:"Exam date",status:!0},{key:a.TIME,title:"Exam time",status:!0},{key:a.DURATION,title:"Exam duration",status:!0},{key:a.STATUS,title:"Exam status",status:!0}],x=function(e){return e!==a.course_name&&e!==a.course_code},h=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=[],r=[],i=function(i){if(Object.prototype.hasOwnProperty.call(e,i)){if(r.includes(e[i].course_id))return"continue";r.push(e[i].course_id);var n=Object(l.e)(s)?t.find((function(t){return t.course===e[i].course_id})):t.find((function(t){return t.course===e[i].course_id&&t.period===s}));n?a.push({course_name:e[i].course_name,course_code:e[i].course_code,description:e[i].description,school_levels:e[i].school_levels,course_id:e[i].course_id,exam:n,preparation_status:"prepared"}):a.push({course_name:e[i].course_name,course_code:e[i].course_code,description:e[i].description,school_levels:e[i].school_levels,course_id:e[i].course_id,exam:null,preparation_status:"not prepared"})}};for(var n in e)i(n);return a},b=function(e,t){return"all"===t?e:e.filter((function(e){return e.preparation_status===t}))},j=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var a in e)if(s=!1,"course_name"!==a&&"course_code"!==a&&"preparation_status"!==a||(s=e[a].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},f=function(e){var t=Object(i.useState)(""),s=Object(r.a)(t,2),a=s[0],n=s[1],m=Object(i.useState)(!1),x=Object(r.a)(m,2),f=x[0],g=x[1],O=Object(i.useState)(""),_=Object(r.a)(O,2),v=_[0],P=_[1],y=Object(i.useState)("ASC"),E=Object(r.a)(y,2),N=E[0],C=E[1],R=function(e){v===e&&"ASC"===N?(C("DESC"),P(e),g(!0)):(C("ASC"),P(e),g(!0))};return Object(p.jsx)(i.Fragment,{children:Object(p.jsxs)("div",{className:"bg-white my-4",children:[Object(p.jsx)("div",{className:"w-full px-2 py-2",children:e.courseListData&&e.examsListData&&Object(p.jsx)("input",{onChange:function(e){return n(e.target.value)},type:"text",value:a,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:b(h(e.courseListData,e.examsListData),e.filterPreparation).length<=0})}),Object(p.jsx)("div",{className:"w-full overflow-x-auto",children:Object(p.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(p.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("course_name")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(p.jsx)(o.j,{})]})}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Created at"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("preparation_status")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Exam Status ",Object(p.jsx)(o.j,{})]})})]})}),Object(p.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:8,className:"px-2 py-2",children:Object(p.jsx)(c.a,{})})}):e.courseListData&&e.examsListData&&b(h(e.courseListData,e.examsListData),e.filterPreparation).length<=0?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:8,className:"px-2 py-2 text-center",children:"No Course for exam found"})}):e.examsListData&&Object(d.p)(f,j(b(h(e.courseListData,e.examsListData),e.filterPreparation),a),v,N).map((function(t,s){return Object(p.jsxs)("tr",{className:"".concat(t.exam?"bg-blue-50":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(p.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(p.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(t.course_name)," (",Object(p.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.exam_date):"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(u.getPeriodById)(e.thisPeriod,t.exam.period)?Object(u.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.createdAt):"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:Object(l.a)(t.exam?"Prepared":"Not prepared")})]},s+1)}))})]})})]})})};t.b=n.a.memo(f)},704:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a,r=s(17),i=s(4),n=s.n(i),o=s(122),c=s(12),l=s(22),d=s(3),u=s(200),p=s(38),m=s(23),x=s(42),h=s(689),b=s(697),j=s(696),f=s(698),g=s(684),O=s(700),_=s(722),v=s(688),P=s(1),y=function(e){var t,s=[],a=[],r=e.length;for(t=0;t<r;t++)s.includes(e[t].district_id)||(s.push(e[t].district_id),a.push(e[t]));return a};!function(e){e.title="TITLE",e.period="PERIOD",e.generateReportModal="GENERATE REPORT",e.choose_exam="Choosing Exam",e.choose_district="Choosing District"}(a||(a={}));t.b=n.a.memo(Object(l.b)((function(e){return{locations:e.locations.roomLocation}}),{getAllRoom:u.q,SetReportDistrictId:d.Ub,SetReportCourseId:d.Tb})((function(e){var t=Object(i.useState)(null),s=Object(r.a)(t,2),n=s[0],l=s[1],d=Object(i.useState)(!0),u=Object(r.a)(d,2),E=u[0],N=u[1],C=Object(i.useState)(""),R=Object(r.a)(C,2),T=R[0],S=R[1],w=Object(i.useState)(!0),L=Object(r.a)(w,2),A=L[0],I=L[1],D=Object(i.useState)(null),k=Object(r.a)(D,2),F=k[0],M=k[1],U=Object(i.useState)(e.districtId?e.districtId:"all"),q=Object(r.a)(U,2),W=q[0],G=q[1],z=function(t){return e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION?Object(O.d)(t):!e.reportTitle||e.reportTitle!==v.reportTitleType.EXAM_PERFORMANCE&&e.reportTitle!==v.reportTitleType.EXAM_DISTRICT_PERFORMANCE?e.reportTitle&&e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS?Object(g.e)(t):!(!e.reportTitle||e.reportTitle!==v.reportTitleType.APPLICANTS_PERFORMANCE&&e.reportTitle!==v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(f.c)(t):Object(_.d)(t)},B=function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.examPerformanceReportContent){var s=e.examPerformanceReportContent.findIndex((function(e){return e.key===t})),a=e.examPerformanceReportContent;a[s].status=!a[s].status,e.setExamPerformanceReportContent&&e.setExamPerformanceReportContent(a);var r=a.find((function(e){return!1===e.status}));N(!r),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.exam30PerformanceReportContent){var i=e.exam30PerformanceReportContent.findIndex((function(e){return e.key===t})),n=e.exam30PerformanceReportContent;n[i].status=!n[i].status,e.setExam30PerformanceReportContent&&e.setExam30PerformanceReportContent(n);var o=n.find((function(e){return!1===e.status}));N(!o),e.updateExamToPrint&&e.updateExamToPrint()}},X=function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.candidateExamPerformanceReportContent){var s=e.candidateExamPerformanceReportContent.findIndex((function(e){return e.key===t})),a=e.candidateExamPerformanceReportContent;a[s].status=!a[s].status,e.setCandidateExamPerformanceReportContent&&e.setCandidateExamPerformanceReportContent(a);var r=a.find((function(e){return!1===e.status}));N(!r),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.candidate30ExamPerformanceReportContent){var i=e.candidate30ExamPerformanceReportContent.findIndex((function(e){return e.key===t})),n=e.candidate30ExamPerformanceReportContent;n[i].status=!n[i].status,e.setCandidate30ExamPerformanceReportContent&&e.setCandidate30ExamPerformanceReportContent(n);var o=n.find((function(e){return!1===e.status}));N(!o),e.updateExamToPrint&&e.updateExamToPrint()}};Object(i.useEffect)((function(){e.locations.length||e.modalFor!==a.choose_district?I(!1):e.getAllRoom((function(e,t){!e&&t.length>0&&console.error(t),I(e)}))}),[e]);var Y=function(){if(e.reportTitle){if(e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&e.excelReportTitle&&e.examsToPrint)return{status:!0,data:e.examsToPrint};if(e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.excelReportTitle&&e.examPerformanceToPrint)return{status:!0,data:e.examPerformanceToPrint};if(e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.excelReportTitle&&e.exam30PerformanceToPrint)return{status:!0,data:e.exam30PerformanceToPrint};if(e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&e.excelReportTitle&&e.examinationProgressToPrint)return{status:!0,data:e.examinationProgressToPrint};if(e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.excelReportTitle&&e.candidateExamPerformanceToPrint)return{status:!0,data:e.candidateExamPerformanceToPrint};if(e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.excelReportTitle&&e.candidate30ExamPerformanceToPrint)return{status:!0,data:e.candidate30ExamPerformanceToPrint}}return{status:!1,data:[]}};return Object(P.jsxs)("div",{children:[e.modalFor===a.period&&e.applicationPeriods&&e.modalState&&Object(P.jsx)(m.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(c.O,{className:"text-5xl text-blue-600"}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose a period"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.selected_period&&e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(P.jsx)(b.a,{allSession:e.applicationPeriods,setSelectSession:function(t){"all"!==t&&(e.setSelectedPeriod&&e.setSelectedPeriod(t),e.onPeriodChange&&e.onPeriodChange(t.session_plan_id),e.changeModalState(!1))},chooseAll:!1,currentSelected:e.selected_period?e.selected_period:"all"})}),e.modalFor===a.title&&e.modalState&&Object(P.jsx)(m.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(o.e,{className:"text-5xl text-blue-600"}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose exam report type"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(P.jsx)("div",{className:"px-2 pb-2",children:Object.values(v.reportTitleType).map((function(t,s){return Object(P.jsxs)("div",{onClick:function(){e.setReportTitle&&e.setReportTitle(t),e.setExcelReportTitle&&e.setExcelReportTitle(t),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(e.reportTitle&&e.reportTitle===t?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"text-blue-500 text-sm font-medium italic",children:"Report type"}),Object(P.jsxs)("div",{className:"font-bold",children:[t,t===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&" district"]})]}),Object(P.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]},s+1)}))})}),e.generateReportModal&&e.modalFor===a.generateReportModal&&e.modalState&&Object(P.jsx)(m.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(P.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",e.generateReportModal.reportType," Report"]})]})}),backDrop:!0,theme:m.c.default,close:function(){return e.setGenerateReportModal&&e.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:m.b.medium,displayClose:!0,padding:{title:!0},children:Object(P.jsxs)("div",{className:"px-6",children:[Object(P.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"Title"}),Object(P.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(n&&"report_title"===n.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:e.excelReportTitle?e.excelReportTitle:"",onChange:function(t){e.setExcelReportTitle&&e.setExcelReportTitle(t.target.value),l(null)}}),n&&"report_title"===n.element&&Object(P.jsx)("span",{className:"text-red-500",children:n.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(P.jsx)("label",{children:"Report content"}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examPreparationReportContent&&e.examPreparationReportContent.map((function(t,s){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(z(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return z(t.key)&&function(t){if(e.examPreparationReportContent){var s=e.examPreparationReportContent.findIndex((function(e){return e.key===t})),a=e.examPreparationReportContent;a[s].status=!a[s].status,e.setExamPreparationReportContent&&e.setExamPreparationReportContent(a);var r=a.find((function(e){return!1===e.status}));N(!r),e.updateExamToPrint&&e.updateExamToPrint()}}(t.key)},title:z(t.key)?"":"Required for every report!",children:[t.status?Object(P.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.s,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:t.title})]},s)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examPerformanceReportContent&&e.examPerformanceReportContent.map((function(e,t){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(z(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return z(e.key)&&B(e.key)},title:z(e.key)?"":"Required for every report!",children:[e.status?Object(P.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.s,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.exam30PerformanceReportContent&&e.exam30PerformanceReportContent.map((function(e,t){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(z(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return z(e.key)&&B(e.key)},title:z(e.key)?"":"Required for every report!",children:[e.status?Object(P.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.s,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examinationProgressReportContent&&e.examinationProgressReportContent.map((function(t,s){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(z(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return z(t.key)&&function(t){if(e.examinationProgressReportContent){var s=e.examinationProgressReportContent.findIndex((function(e){return e.key===t})),a=e.examinationProgressReportContent;a[s].status=!a[s].status,e.setExaminationProgressExamPerformanceReportContent&&e.setExaminationProgressExamPerformanceReportContent(a);var r=a.find((function(e){return!1===e.status}));N(!r),e.updateExamToPrint&&e.updateExamToPrint()}}(t.key)},title:z(t.key)?"":"Required for every report!",children:[t.status?Object(P.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.s,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:t.title})]},s)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.candidateExamPerformanceReportContent&&e.candidateExamPerformanceReportContent.map((function(e,t){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(z(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return z(e.key)&&X(e.key)},title:z(e.key)?"":"Required for every report!",children:[e.status?Object(P.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.s,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.candidate30ExamPerformanceReportContent&&e.candidate30ExamPerformanceReportContent.map((function(e,t){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(z(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return z(e.key)&&X(e.key)},title:z(e.key)?"":"Required for every report!",children:[e.status?Object(P.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.s,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:e.title})]},t)}))}),n&&"report_content"===n.element&&Object(P.jsx)("span",{className:"text-red-500",children:n.msg})]})]}),Object(P.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(P.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&e.examPreparationReportContent){var s=e.examPreparationReportContent;for(var a in s)z(s[a].key)&&(s[a].status=!t);e.setExamPreparationReportContent&&e.setExamPreparationReportContent(s),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.examPerformanceReportContent){var r=e.examPerformanceReportContent;for(var i in r)z(r[i].key)&&(r[i].status=!t);e.setExamPerformanceReportContent&&e.setExamPerformanceReportContent(r),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.exam30PerformanceReportContent){var n=e.exam30PerformanceReportContent;for(var o in n)z(n[o].key)&&(n[o].status=!t);e.setExam30PerformanceReportContent&&e.setExam30PerformanceReportContent(n),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&e.examinationProgressReportContent){var c=e.examinationProgressReportContent;for(var l in c)z(c[l].key)&&(c[l].status=!t);e.setExaminationProgressExamPerformanceReportContent&&e.setExaminationProgressExamPerformanceReportContent(c),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.candidateExamPerformanceReportContent){var d=e.candidateExamPerformanceReportContent;for(var u in d)z(d[u].key)&&(d[u].status=!t);e.setCandidateExamPerformanceReportContent&&e.setCandidateExamPerformanceReportContent(d),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.candidate30ExamPerformanceReportContent){var p=e.candidate30ExamPerformanceReportContent;for(var m in p)z(p[m].key)&&(p[m].status=!t);e.setCandidate30ExamPerformanceReportContent&&e.setCandidate30ExamPerformanceReportContent(p),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}}(E)},children:[E?Object(P.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.s,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:"Select all"})]}),Y().status&&Object(P.jsx)(h.a,{fileData:Y().data,fileName:e.excelReportTitle,btnName:"Generate"})]})]})}),e.modalFor===a.choose_exam&&e.modalState&&e.AllExamData&&Object(P.jsx)(m.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(o.e,{className:"text-5xl text-blue-600"}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose exam"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(P.jsxs)("div",{className:"px-2 pb-2",children:[Object(P.jsx)("div",{className:"w-full py-2",children:Object(P.jsx)("input",{onChange:function(e){return S(e.target.value)},type:"text",value:T,placeholder:"Search...",className:"w-full bg-white py-2 px-3 rounded border border-gray-400",disabled:e.AllExamData.length<=0})}),Object(P.jsxs)("div",{onClick:function(){e.SetReportCourseId(null),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(null===e.thisExam?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"text-sm font-medium italic",children:["code: ",Object(P.jsx)("span",{className:"text-blue-500",children:"-"})]}),Object(P.jsx)("div",{className:"font-bold text-lg",children:"All exams"})]}),Object(P.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]}),Object(g.f)(e.AllExamData,T).map((function(t,s){return Object(P.jsxs)("div",{onClick:function(){e.SetReportCourseId(t),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(e.thisExam&&e.thisExam.course_id===t.course_id?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"text-sm font-medium italic",children:["code:"," ",Object(P.jsx)("span",{className:"text-blue-500",children:t.course_code})]}),Object(P.jsx)("div",{className:"font-bold text-lg",children:t.course_name})]}),Object(P.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]},s+1)}))]})}),e.modalFor===a.choose_district&&e.modalState&&Object(P.jsx)(m.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(o.e,{className:"text-5xl text-blue-600"}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose district"})})]}),backDrop:!0,theme:m.c.default,close:function(){return!Object(x.e)(W)&&e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.medium,displayClose:!0,padding:{title:!0},children:Object(P.jsx)("div",{className:"px-2 pb-2 ",children:A?Object(P.jsx)(p.a,{}):Object(P.jsxs)("section",{className:"pb-8 px-7 ",children:[Object(P.jsx)("label",{className:"uppercase md:text-sm text-xs text-gray-500 text-light font-semibold",children:"District"}),e.locations.length>0?Object(P.jsxs)("div",{className:"",children:[Object(P.jsxs)("select",{className:"py-3 px-3 w-full rounded border-2 bg-white mt-1 focus:outline-none ".concat(F&&"district"===F.element?"border-red-400 focus:border-red-800":"border-gray-400 focus:border-gray-800"),value:W,onChange:function(t){G(t.target.value),function(t){if(M(null),"all"===t)(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE||e.isAllDistrictAllowed&&!0===e.isAllDistrictAllowed)&&e.SetReportDistrictId?(e.SetReportDistrictId(null),e.changeModalState(!1)):M({element:"district",msg:"District is required"});else if(e.SetReportDistrictId){var s=Object(j.a)(e.locations).find((function(e){return e.district_id===t}));if(!s)return M({element:"district",msg:"Invalid district id"});e.SetReportDistrictId({district_id:s.district_id,district_name:s.district_name}),e.changeModalState(!1)}}(t.target.value)},children:[Object(P.jsx)("option",{value:"all",children:"Select district"}),y(Object(j.a)(e.locations)).map((function(e,t){return Object(P.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)}))]}),F&&"district"===F.element&&Object(P.jsx)("p",{className:"text-xs italic text-red-500 mt-3",children:F.msg})]}):Object(P.jsx)("div",{className:"alert-info",children:"No district found"})]})})})]})})))},709:function(e,t,s){"use strict";var a=s(4),r=s.n(a),i=s(708),n=s.n(i),o=s(1),c=function(e){return Object(o.jsx)("div",{className:"donut",children:Object(o.jsx)(n.a,{options:e.options,series:e.series,type:"donut",width:"".concat(e.width?e.width:"380")})})};t.a=r.a.memo(c)},712:function(e,t){},713:function(e,t,s){"use strict";s.r(t),s.d(t,"UserAccess",(function(){return R}));var a=s(5),r=s.n(a),i=s(7),n=s(26),o=s(25),c=s(28),l=s(27),d=s(10),u=s.n(d),p=s(4),m=s.n(p),x=s(71),h=s(12),b=s(710),j=s(705),f=s(22),g=s(36),O=s(3),_=s(682),v=s(201),P=s(21),y=s(9),E=s(15),N=s(1),C=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).setViewPermission=function(e){a.setState({viewPermission:e})},a.setLoadindRequest=function(e){a.setState({loadindRequest:e})},a.setCreatePermission=function(e){a.setState({createPermission:e})},a.setUpdatePermission=function(e){a.setState({updatePermission:e})},a.setDeletePermission=function(e){a.setState({deletePermission:e})},a.setLoadind=function(e){a.setState({loading:e})},a.overrideUserAccess=function(e,t){if(e&&t&&t.length>0){var s=[],r=function(a){if(Object.prototype.hasOwnProperty.call(e,a)){var r=t.find((function(t){return t.id===e[a].id}));r?s.push(r):s.push(e[a])}};for(var i in e)r(i);a.props.setUserAccess(s)}},a.componentDidMount=function(){a.props.userInfo&&a.props.userInfo.custome_access?(a.props.userInfo.default_access&&a.overrideUserAccess(a.props.userInfo.default_access.access,a.props.userInfo.custome_access.access),a.setLoadind(!1)):(a.props.userInfo&&a.props.userInfo.default_access&&a.props.setUserAccess(a.props.userInfo.default_access.access),a.setLoadind(!1))},a.tableData=function(){return a.props.userAccess?a.props.userAccess.map((function(e,t){return Object(N.jsxs)("tr",{className:"text-left border-b border-gray-200 cursor-pointer hover:bg-gray-100 ".concat(a.props.currentAccess&&a.props.currentAccess.id===e.id&&"bg-gray-200 border my-3 hover:bg-gray-100"),onClick:function(){return a.props.currentAccess&&a.props.currentAccess.id===e.id?(a.props.setCurrentAccess(null),a.setCreatePermission(!1),a.setViewPermission(!1),a.setUpdatePermission(!1),a.setDeletePermission(!1)):(a.props.setCurrentAccess(e),a.setCreatePermission(e.permitted.create),a.setViewPermission(e.permitted.view),a.setUpdatePermission(e.permitted.update),a.setDeletePermission(e.permitted.delete))},children:[Object(N.jsx)("td",{className:"px-2 py-1",children:Object(N.jsx)("label",{className:"inline-flex items-center",children:Object(N.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.N,{}),e.permitted.create?" Yes":"No"]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.N,{}),e.permitted.view?" Yes":"No"]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.N,{}),e.permitted.update?" Yes":"No"]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.N,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id+Math.random())})):[Object(N.jsx)("tr",{children:Object(N.jsx)("td",{children:"No data"})},Math.random())]},a.handleCustomization=function(){var e=Object(i.a)(r.a.mark((function e(t){var s,i,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.props.userInfo){e.next=26;break}if(a.setLoadindRequest(!0),s=null,s=a.props.userInfo.custome_access,i=-1,e.prev=6,s&&a.props.currentAccess?(i=s.access.findIndex((function(e){return e.id===a.props.currentAccess.id})))>=0?(s.access[i].permitted.create=a.state.createPermission,s.access[i].permitted.view=a.state.viewPermission,s.access[i].permitted.update=a.state.updatePermission,s.access[i].permitted.delete=a.state.deletePermission):s.access.push({id:a.props.currentAccess.id,task:a.props.currentAccess.task,key:a.props.currentAccess.key,permitted:{create:a.state.createPermission,view:a.state.viewPermission,update:a.state.updatePermission,delete:a.state.deletePermission}}):a.props.currentAccess&&(s={access:[{id:a.props.currentAccess.id,task:a.props.currentAccess.task,key:a.props.currentAccess.key,permitted:{create:a.state.createPermission,view:a.state.viewPermission,update:a.state.updatePermission,delete:a.state.deletePermission}}],user_id:a.props.userInfo.user_id,custome_user_access_id:""}),!s){e.next=19;break}if(null===a.props.userInfo.custome_access){e.next=15;break}return e.next=12,u.a.patch("".concat(y.a.AUTH,"/custaccess"),{access:s.access,user_id:a.props.userInfo.user_id});case 12:n=e.sent,e.next=18;break;case 15:return e.next=17,u.a.post("".concat(y.a.AUTH,"/custaccess"),{access:s.access,user_id:a.props.userInfo.user_id});case 17:n=e.sent;case 18:n&&(s.custome_user_access_id=n.data.data.custome_user_access_id,a.props.customizeUserAccess(s,a.props.currentPage),s&&a.props.userInfo.default_access&&a.overrideUserAccess(a.props.userInfo.default_access.access,s.access),a.props.PushPopupAlert({title:"Resetting User Access complete successfully",theme:P.a.info}),s=null,a.props.setCurrentAccess(null),a.setCreatePermission(!1),a.setViewPermission(!1),a.setUpdatePermission(!1),a.setDeletePermission(!1));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),console.error({customize_access:e.t0}),a.props.PushPopupAlert({title:Object(E.a)(e.t0),theme:P.a.danger});case 25:a.setLoadindRequest(!1);case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),a.state={loading:!0,loadindRequest:!1,createPermission:!1,viewPermission:!1,updatePermission:!1,deletePermission:!1},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return void 0===this.props.userInfo?Object(N.jsx)(g.a,{to:"/users"}):this.state.loading||null===this.props.userInfo?Object(N.jsx)("div",{className:"text-center py-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading User Access..."}):Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mx-1 my-2",children:[Object(N.jsxs)("div",{className:"col-span-1 md:col-span-3 bg-white w-full overflow-x-auto border rounded text-center p-2 ".concat(this.props.currentAccess?"hidden md:block":""),children:[Object(N.jsx)("span",{className:"text-gray-600 mt-2 font-semibold text-2xl",children:"Settings"}),!this.state.loading&&Object(N.jsx)("div",{className:"overflow-x-auto w-full",children:Object(N.jsx)(v.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!0,searchBG:"bg-gray-50",thColor:"gray"})})]}),Object(N.jsx)("div",{className:"col-span-1 md:col-span-2",children:this.props.currentAccess?Object(N.jsxs)("div",{className:"",children:[Object(N.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-center my-2 text-gray-900",children:"Customize User Access"}),Object(N.jsx)("div",{className:"flex justify-center mb-3",children:Object(N.jsxs)("h2",{className:"text-2xl font-semibold text-center text-gray-600 flex flex-row items-center",children:[Object(N.jsx)(x.i,{className:"w-7 h-7"}),this.props.currentAccess.task]})}),Object(N.jsx)("div",{className:"flex flex-col px-2 md:px-1",children:Object(N.jsxs)("form",{className:"flex flex-col items-center",onSubmit:function(t){return e.handleCustomization(t)},children:[Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(b.a,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"Create"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to create"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setCreatePermission(!e.state.createPermission)},checked:this.state.createPermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(h.Eb,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"View"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm md:pr-4",children:"This permission gives the user the ability to view"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setViewPermission(!e.state.viewPermission)},checked:this.state.viewPermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(h.D,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"Update"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm",children:"This permission gives the user the ability to update"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setUpdatePermission(!e.state.updatePermission)},checked:this.state.updatePermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(h.B,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"Delete"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to delete"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setDeletePermission(!e.state.deletePermission)},checked:this.state.deletePermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"flex items-center justify-center w-full py-3 gap-2",children:[Object(N.jsx)("button",{className:"btn bg-gray-500 hover:bg-gray-700 focus:outline-none text-white",disabled:this.state.loadindRequest,onClick:function(){e.props.setCurrentAccess(null),e.setCreatePermission(!1),e.setViewPermission(!1),e.setUpdatePermission(!1),e.setDeletePermission(!1)},children:"Cancel"}),Object(N.jsx)("button",{className:"btn btn-blue",disabled:this.state.loadindRequest,children:this.state.loadindRequest?"Processing..":"Save Change"})]})]})})]}):Object(N.jsxs)("div",{className:"w-full hidden md:flex flex-col items-center text-gray-600 gap-1 py-3",children:[Object(N.jsx)(h.Nb,{className:"w-20 h-20"}),Object(N.jsx)("span",{className:"text-8 md:text-12",children:"Choose Access to Customize"})]})})]})})}}]),s}(p.Component),R=m.a.memo(Object(f.b)(null,{customizeUserAccess:_.c,PushPopupAlert:O.Nb})(C))},719:function(e,t){},720:function(e,t){},721:function(e,t,s){"use strict";var a=s(4),r=s.n(a),i=s(53),n=s(42),o=s(1),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",icon:i.r,iconColor:"indigo",count:0,countOver:void 0},t=e.icon;return Object(o.jsxs)("div",{className:"flex items-center px-6 py-4 bg-white w-full rounded-md space-x-2 mb-2 lg:mb-0 shadow-md",children:[Object(o.jsx)("div",{className:"p-3 rounded-full bg-".concat(e.iconColor,"-200 bg-opacity-75"),children:Object(o.jsx)(t,{className:"h-8 w-8 text-".concat(e.iconColor,"-600")})}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("h1",{className:"text-3xl font-semibold text-gray-700",children:[Object(n.f)(e.count)," ",e.countOver&&"/ "+Object(n.f)(e.countOver)]}),Object(o.jsx)("span",{className:"text-gray-500 text-lg",children:e.title})]})]})};t.a=r.a.memo(c)},722:function(e,t,s){"use strict";s.d(t,"d",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"a",(function(){return x}));var a,r=s(17),i=s(4),n=s.n(i),o=s(71),c=s(38),l=s(42),d=s(24),u=s(1);!function(e){e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.PERFORMANCE="exam_performance"}(a||(a={}));var p=function(e){return e!==a.COURSER_NAME&&e!==a.COURSE_CODE&&e!==a.PERIOD&&e!==a.PERFORMANCE},m=[{key:a.COURSER_NAME,title:"Course names",status:!0},{key:a.COURSE_CODE,title:"Course code",status:!0},{key:a.SCHOOL_LEVEL,title:"School levels",status:!0},{key:a.PERIOD,title:"Exam period",status:!0},{key:a.DATE,title:"Exam date",status:!0},{key:a.TIME,title:"Exam time",status:!0},{key:a.DURATION,title:"Exam duration",status:!0},{key:a.PERFORMANCE,title:"Exam performance",status:!0}],x=function(e,t,s){var a=[],r=[],i=function(i){if(Object.prototype.hasOwnProperty.call(s,i)){if(r.includes(s[i].answer_sheet_id))return"continue";r.push(s[i].answer_sheet_id);var n=e.find((function(e){return e.course_id===s[i].course}));if(n){var o=t.find((function(e){return e.course===s[i].course&&e.period===s[i].period}));a.push({course_name:n.course_name,course_code:n.course_code,description:n.description,school_levels:n.school_levels,course_id:n.course_id,exam:o||null,exam_performance:s[i].total_marks})}}};for(var n in s)i(n);return console.log("===============-----------------====================="),console.log({result:a}),console.log("===============-----------------====================="),a},h=function(e){var t,s,a=Object(i.useState)(""),p=Object(r.a)(a,2),m=p[0],h=p[1],b=Object(i.useState)(!1),j=Object(r.a)(b,2),f=j[0],g=j[1],O=Object(i.useState)(""),_=Object(r.a)(O,2),v=_[0],P=_[1],y=Object(i.useState)("ASC"),E=Object(r.a)(y,2),N=E[0],C=E[1],R=function(e){v===e&&"ASC"===N?(C("DESC"),P(e),g(!0)):(C("ASC"),P(e),g(!0))};return Object(u.jsx)(n.a.Fragment,{children:Object(u.jsxs)("div",{className:"bg-white my-4",children:[Object(u.jsx)("div",{className:"w-full px-2 py-2",children:Object(u.jsx)("input",{onChange:function(e){return h(e.target.value)},type:"text",value:m,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.examsPerformanceData&&x(e.courseListData,e.examsListData,e.examsPerformanceData).length<=0)})}),Object(u.jsx)("div",{className:"w-full overflow-x-auto",children:Object(u.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(u.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("course_name")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(u.jsx)(o.j,{})]})}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("exam_performance")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Exam performance ",Object(u.jsx)(o.j,{})]})})]})}),Object(u.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:6,className:"px-2 py-2",children:Object(u.jsx)(c.a,{})})}):e.examsListData&&e.examsPerformanceData&&x(e.courseListData,e.examsListData,e.examsPerformanceData).length<=0?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:6,className:"px-2 py-2 text-center",children:"No Exam list available!"})}):e.examsListData&&e.examsPerformanceData&&Object(d.p)(f,(t=x(e.courseListData,e.examsListData,e.examsPerformanceData),s=m,void 0===s||""===s?t:t.filter((function(e){var t;for(var a in e)if(t=!1,"course_name"!==a&&"course_code"!==a&&"exam_performance"!==a||(t=e[a].toString().toLowerCase().indexOf(s.toLowerCase())>-1),t)break;return t}))),v,N).map((function(e,t){return Object(u.jsxs)("tr",{className:"bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm",children:[Object(u.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(u.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(e.course_name)," (",Object(u.jsx)("span",{className:"font-semibold",children:e.course_code}),")"]}),Object(u.jsx)("td",{className:"px-2 py-2",children:e.exam?Object(d.a)(e.exam.exam_date):"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:e.exam?e.exam.start_time:"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:e.exam?e.exam.duration+" min":"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:Number(e.exam_performance.toFixed(1))+"%"})]},t+1)}))})]})})]})})};t.b=n.a.memo(h)},723:function(e,t,s){"use strict";var a=s(4),r=s.n(a),i=s(721),n=s(1),o=function(e){var t=e.labelsOnRow&&e.labelsOnRow>4?e.labelsOnRow:4;return Object(n.jsxs)("div",{className:"grid 2xl:grid-cols-".concat(t," xl:grid-cols-").concat(t-1," lg:grid-cols-").concat(t-2," md:grid-cols-").concat(t-3," sm:grid-cols-2 grid-cols-1 gap-4 items-center mx-auto"),children:[e.children&&(e.childrenPosition&&"START"===e.childrenPosition||!e.childrenPosition)&&e.children,e.dataLabels.map((function(e,t){return Object(n.jsx)("section",{children:Object(n.jsx)(i.a,{title:e.title,icon:e.icon,iconColor:e.iconColor,count:e.count})},t+e.title)})),e.children&&e.childrenPosition&&"END"===e.childrenPosition&&e.children]})};t.a=r.a.memo(o)},726:function(e,t,s){"use strict";s.r(t),s.d(t,"distinctDistrict",(function(){return T})),s.d(t,"distinctCenter",(function(){return S})),s.d(t,"distinctRoom",(function(){return w})),s.d(t,"Locations",(function(){return L}));var a=s(17),r=s(4),i=s.n(r),n=s(121),o=s(31),c=s(22),l=s(200),d=s(696),u=s(5),p=s.n(u),m=s(7),x=s(10),h=s.n(x),b=s(9),j=s(205),f=s(21),g=s(15),O=s(160),_=s(23),v=s(42),P=s(1),y=i.a.memo(Object(c.b)(null,{FC_CreateDistrict:l.b,FC_UpdateDistrict:l.m,FC_DeleteDistrict:l.g,PushPopupAlert:j.c})((function(e){var t=Object(r.useState)(""),s=Object(a.a)(t,2),i=s[0],n=s[1],o=Object(r.useState)(0),c=Object(a.a)(o,2),l=c[0],d=c[1],u=Object(r.useState)(null),x=Object(a.a)(u,2),j=x[0],y=x[1],E=function(){var t=Object(m.a)(p.a.mark((function t(){var s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(v.e)(i)){t.next=2;break}return t.abrupt("return",y({element:"district_name",msg:"District name is required"}));case 2:if(!(l<=0)){t.next=4;break}return t.abrupt("return",y({element:"district_code",msg:"Invalid district code, code must be greater than 0"}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_DISTRICT"!==e.actionTypes){t.next=13;break}return t.next=9,h.a.post("".concat(b.a.APPLICATION,"/district"),{province_id:e.thisProvince._id,province_code:e.thisProvince.province_code,district_name:i,district_code:l,centers:[]});case 9:(s=t.sent).data&&(console.log({province_id:e.thisProvince._id,data:s.data.data,res:s}),e.FC_CreateDistrict({province_id:e.thisProvince._id,data:{centers:s.data.data.centers,sectors:s.data.data.sectors,province_code:s.data.data.province_code,province_id:s.data.data.province_id,district_code:s.data.data.district_code,district_name:s.data.data.district_name,district_id:s.data.data._id}}),e.PushPopupAlert({title:"New district created successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),n(""),d(0)),t.next=19;break;case 13:if(!e.thisDistrict||"UPDATE_DISTRICT"!==e.actionTypes){t.next=19;break}return a=e.thisDistrict.centers.map((function(e){return e._id})),t.next=17,h.a.patch("".concat(b.a.APPLICATION,"/district"),{district_id:e.thisDistrict._id,province_code:e.thisProvince.province_code,district_name:i,district_code:l,centers:a});case 17:(s=t.sent).data&&(e.FC_UpdateDistrict({province_id:e.thisProvince._id,district_id:e.thisDistrict._id,district_name:i}),e.PushPopupAlert({title:"District updated successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),n(""),e.setThisDistrict(null));case 19:t.next=26;break;case 21:t.prev=21,t.t0=t.catch(5),console.log({doc_category_error:t.t0}),e.PushPopupAlert({title:Object(g.a)(t.t0),theme:f.a.danger}),e.setLoadingRequest(!1);case 26:case"end":return t.stop()}}),t,null,[[5,21]])})));return function(){return t.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:"w-full p-2",children:[e.thisProvince.districts.length>0?Object(P.jsx)("div",{className:"rounded border border-gray-100 shadow-sm animate__animated animate__fadeIn",children:Object(P.jsxs)("table",{className:"w-full z-0",children:[Object(P.jsx)("thead",{className:"bg-gray-50",children:Object(P.jsxs)("tr",{className:"text-left",children:[Object(P.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(P.jsx)("th",{children:"District name"}),Object(P.jsx)("th",{children:"District code"}),Object(P.jsx)("th",{children:"Sectors"})]})}),Object(P.jsx)("tbody",{className:"text-base",children:e.thisProvince.districts.map((function(e,t){return Object(P.jsxs)("tr",{className:"text-left border-b border-gray-50",children:[Object(P.jsx)("td",{className:"px-3 py-1",children:t+1}),Object(P.jsx)("td",{children:e.district_name}),Object(P.jsx)("td",{children:e.district_code}),Object(P.jsx)("td",{children:e.sectors&&e.sectors.length>0?e.sectors.length+" Sector(s)":""})]},t+e._id)}))})]})}):Object(P.jsx)(O.b,{theme:O.a.Dark,value:"No district found!",component:Object(P.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(P.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(P.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_DISTRICT")},className:"underline text-gray-500 cursor-pointer",children:"Add district"})})})}),e.actionTypes&&("CREATE_DISTRICT"===e.actionTypes||"UPDATE_DISTRICT"===e.actionTypes)&&Object(P.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){e.setActionTypes(null),n(""),d(10),y(null)},displayClose:!1,backDropClose:!1,title:Object(P.jsx)("div",{className:"flex items-center space-x-5",children:Object(P.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(P.jsx)("h2",{className:"uppercase text-back",children:"CREATE_DISTRICT"===e.actionTypes?"CREATING NEW DISTRICT":"UPDATE_DISTRICT"===e.actionTypes&&"UPDATING EXISTING DISTRICT"})})}),widthSizeClass:_.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(P.jsxs)("div",{className:"mx-5 mb-4",children:[Object(P.jsxs)("div",{className:"py-2 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"District name"}),Object(P.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(j&&"district_name"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"district_name"===j.element&&y(null),n(e.target.value)},value:i,disabled:e.loadingRequest}),j&&"district_name"===j.element&&Object(P.jsx)("span",{className:"text-red-700",children:j.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"District code"}),Object(P.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(j&&"district_code"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"district_code"===j.element&&y(null),d(Number(e.target.value))},value:l,disabled:e.loadingRequest}),j&&"district_code"===j.element&&Object(P.jsx)("span",{className:"text-red-700",children:j.msg})]})]}),Object(P.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(P.jsx)("button",{onClick:function(){e.setActionTypes(null),n(""),d(10),y(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(P.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return E()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),E=s(76),N=i.a.memo(Object(c.b)(null,{FC_CreateProvince:l.c,FC_UpdateProvince:l.n,FC_DeleteProvince:l.h,PushPopupAlert:j.c})((function(e){var t=Object(r.useState)(""),s=Object(a.a)(t,2),i=s[0],n=s[1],o=Object(r.useState)(0),c=Object(a.a)(o,2),l=c[0],d=c[1],u=Object(r.useState)(null),x=Object(a.a)(u,2),j=x[0],y=x[1],N=function(){var t=Object(m.a)(p.a.mark((function t(){var s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(v.e)(i)){t.next=2;break}return t.abrupt("return",y({element:"province_title",msg:"Title of Province is required"}));case 2:if(!(l<=0)){t.next=4;break}return t.abrupt("return",y({element:"province_code",msg:"Code of Province is required"}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_PROVINCE"!==e.actionTypes){t.next=13;break}return t.next=9,h.a.post("".concat(b.a.APPLICATION,"/province"),{province_name:i,province_code:l,districts:[]});case 9:(s=t.sent).data&&(e.FC_CreateProvince(s.data.data),e.PushPopupAlert({title:"New Province created successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),n("")),t.next=19;break;case 13:if(!e.thisProvince||"UPDATE_PROVINCE"!==e.actionTypes){t.next=19;break}return a=e.thisProvince.districts.map((function(e){return e._id})),t.next=17,h.a.patch("".concat(b.a.APPLICATION,"/province"),{province_id:e.thisProvince._id,province_name:i,province_code:l,districts:a});case 17:(s=t.sent).data&&(console.log({res:s.data.updated}),e.FC_UpdateProvince(s.data.updated),e.PushPopupAlert({title:"Province updated successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),n(""),e.setThisProvince(null));case 19:t.next=26;break;case 21:t.prev=21,t.t0=t.catch(5),console.error({province_error:t.t0}),e.PushPopupAlert({title:Object(g.a)(t.t0),theme:f.a.danger}),e.setLoadingRequest(!1);case 26:case"end":return t.stop()}}),t,null,[[5,21]])})));return function(){return t.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:"w-full p-2",children:[e.locations.length>0?e.locations.map((function(t,s){return Object(P.jsxs)("div",{className:"flex justify-between items-center p-2 mb-3 rounded border border-gray-100 shadow",children:[Object(P.jsx)("div",{className:"flex items-center",children:Object(P.jsxs)("div",{className:"ml-2",children:[Object(P.jsx)("div",{className:"text-xl font-semibold text-gray-600",children:t.province_name}),Object(P.jsx)("div",{className:"text-sm font-light text-gray-500",children:t.districts.length>0?t.districts.length+"District(s)":null})]})}),Object(P.jsx)("div",{className:"flex items-center gap-2",children:Object(P.jsx)("button",{title:e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?"Close Districts":"View Districts",className:"".concat(e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?"bg-gray-500 hover:bg-gray-600":"bg-gray-400 hover:bg-gray-500"," p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none"),onClick:function(){e.thisProvince&&e.thisProvince._id===t._id?e.setThisProvince(null):e.setThisProvince(t),n(""),e.setActionTypes(null)},children:e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?Object(P.jsx)(E.k,{className:"text-white w-4 h-4"}):Object(P.jsx)(E.j,{className:"text-white w-4 h-4"})})})]},s+t._id)})):Object(P.jsx)(O.b,{theme:O.a.Dark,value:"No province found!",component:Object(P.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(P.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(P.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_PROVINCE")},className:"underline text-gray-500 cursor-pointer",children:"Add province"})})})}),e.actionTypes&&("CREATE_PROVINCE"===e.actionTypes||"UPDATE_PROVINCE"===e.actionTypes)&&Object(P.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){e.setActionTypes(null),n(""),d(0),y(null)},displayClose:!1,backDropClose:!1,title:Object(P.jsx)("div",{className:"flex items-center space-x-5",children:Object(P.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(P.jsx)("h2",{className:"uppercase text-back",children:"CREATE_PROVINCE"===e.actionTypes?"CREATING NEW PROVINCE":"UPDATE_PROVINCE"===e.actionTypes&&"UPDATING EXISTING PROVINCE"})})}),widthSizeClass:_.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(P.jsxs)("div",{className:"mx-5 mb-4",children:[Object(P.jsxs)("div",{className:"py-2 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"Province name"}),Object(P.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(j&&"province_title"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"province_title"===j.element&&y(null),n(e.target.value)},value:i,disabled:e.loadingRequest}),j&&"province_title"===j.element&&Object(P.jsx)("span",{className:"text-red-700",children:j.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"Province code"}),Object(P.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(j&&"province_code"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"province_code"===j.element&&y(null),d(Number(e.target.value))},value:l,disabled:e.loadingRequest}),j&&"province_code"===j.element&&Object(P.jsx)("span",{className:"text-red-700",children:j.msg})]})]}),Object(P.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(P.jsx)("button",{onClick:function(){e.setActionTypes(null),n(""),d(0),y(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(P.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return N()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),C=s(12),R=i.a.memo(Object(c.b)(null,{FC_CreateSector:l.e,FC_UpdateSector:l.p,FC_DeleteSector:l.j,PushPopupAlert:j.c})((function(e){var t=Object(r.useState)(""),s=Object(a.a)(t,2),i=s[0],n=s[1],o=Object(r.useState)(0),c=Object(a.a)(o,2),l=c[0],d=c[1],u=Object(r.useState)(null),x=Object(a.a)(u,2),j=x[0],y=x[1],E=function(){var t=Object(m.a)(p.a.mark((function t(){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(v.e)(i)){t.next=2;break}return t.abrupt("return",y({element:"sector_name",msg:"Sector name is required"}));case 2:if(!(l<=0)){t.next=4;break}return t.abrupt("return",y({element:"sector_code",msg:"Invalid sector code, must be "}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_SECTOR"!==e.actionTypes){t.next=13;break}return t.next=9,h.a.post("".concat(b.a.APPLICATION,"/sector"),{district_id:e.thisDistrict._id,district_code:e.thisDistrict.district_code,sector_name:i,sector_code:l});case 9:(s=t.sent).data&&(console.log({district_id:e.thisDistrict._id,data:s.data.data,res:s}),e.FC_CreateSector({province_id:e.thisDistrict.province_id,district_id:e.thisDistrict._id,data:{district_id:s.data.data.district_id,district_code:s.data.data.district_code,sector_name:s.data.data.sector_name,sector_code:s.data.data.sector_code,sector_id:s.data.data.sector_id}}),e.PushPopupAlert({title:"New sector created successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),n("")),t.next=18;break;case 13:if(!e.thisSector||"UPDATE_SECTOR"!==e.actionTypes){t.next=18;break}return t.next=16,h.a.patch("".concat(b.a.APPLICATION,"/sector"),{district_id:e.thisSector.district_id,district_code:e.thisDistrict.district_code,sector_id:e.thisSector.sector_id,sector_name:i,sector_code:l});case 16:(s=t.sent).data&&(e.FC_UpdateSector({province_id:e.thisDistrict.province_id,district_id:e.thisSector.district_id,sector_id:e.thisSector.sector_id,sector_name:i,sector_code:l}),e.PushPopupAlert({title:"Sector updated successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),n(""),e.setThisSector(null));case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(5),console.log({sector_error:t.t0}),e.PushPopupAlert({title:Object(g.a)(t.t0),theme:f.a.danger}),e.setLoadingRequest(!1);case 25:case"end":return t.stop()}}),t,null,[[5,20]])})));return function(){return t.apply(this,arguments)}}(),N=function(){var t=Object(m.a)(p.a.mark((function t(s){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.delete("".concat(b.a.APPLICATION,"/sector/").concat(s));case 3:t.sent.data&&(e.FC_DeleteSector({province_id:e.thisDistrict.province_id,district_id:e.thisDistrict._id,sector_id:s}),e.PushPopupAlert({title:"Sector deleted successfully",theme:f.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null)),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log({district_error:t.t0}),e.PushPopupAlert({title:Object(g.a)(t.t0),theme:f.a.danger}),e.setLoadingRequest(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:"w-full p-2",children:[e.thisDistrict.sectors&&e.thisDistrict.sectors.length>0?Object(P.jsx)("div",{className:"rounded border border-gray-100 shadow-sm animate__animated animate__fadeIn",children:Object(P.jsxs)("table",{className:"w-full z-0",children:[Object(P.jsx)("thead",{className:"bg-gray-50",children:Object(P.jsxs)("tr",{className:"text-left",children:[Object(P.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(P.jsx)("th",{children:"Sector name"}),Object(P.jsx)("th",{children:"Sector code"}),Object(P.jsx)("th",{children:"Status"})]})}),Object(P.jsx)("tbody",{className:"text-sm",children:e.thisDistrict.sectors.map((function(t,s){return Object(P.jsxs)("tr",{className:"text-left border-b border-gray-50",children:[Object(P.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(P.jsx)("td",{children:t.sector_name}),Object(P.jsx)("td",{children:t.sector_name}),Object(P.jsx)("td",{children:Object(P.jsxs)("div",{className:"flex items-center gap-2",children:[Object(P.jsx)("button",{title:"Update sector",className:"bg-blue-500 hover:bg-blue-600 p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none",onClick:function(){e.setThisSector(t),n(t.sector_name),d(t.sector_code),e.setActionTypes("UPDATE_SECTOR")},disabled:e.loadingRequest||null!==e.actionTypes,children:Object(P.jsx)(C.z,{className:"text-white w-4 h-4"})}),Object(P.jsx)("button",{title:"Delete sector",className:"bg-red-500 hover:bg-red-600 p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none",onClick:function(){return N(t.sector_id)},disabled:e.loadingRequest,children:Object(P.jsx)(C.w,{className:"text-white w-4 h-4"})})]})})]},s+t.district_id)}))})]})}):Object(P.jsx)(O.b,{theme:O.a.Dark,value:"No sector found!",component:Object(P.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(P.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(P.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_SECTOR")},className:"underline text-gray-500 cursor-pointer",children:"Add sector"})})})}),e.actionTypes&&("CREATE_SECTOR"===e.actionTypes||"UPDATE_SECTOR"===e.actionTypes)&&Object(P.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){e.setActionTypes(null),n(""),d(0),y(null)},displayClose:!1,backDropClose:!1,title:Object(P.jsx)("div",{className:"flex items-center space-x-5",children:Object(P.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(P.jsx)("h2",{className:"uppercase text-back",children:"CREATE_SECTOR"===e.actionTypes?"CREATING NEW SECTOR":"UPDATE_SECTOR"===e.actionTypes&&"UPDATING EXISTING SECTOR"})})}),widthSizeClass:_.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(P.jsxs)("div",{className:"w-full px-5 mb-5",children:[Object(P.jsxs)("div",{className:"py-3 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"Sector name"}),Object(P.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(j&&"sector_name"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"sector_name"===j.element&&y(null),n(e.target.value)},value:i,disabled:e.loadingRequest}),j&&"sector_name"===j.element&&Object(P.jsx)("span",{className:"text-red-700",children:j.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"Sector code"}),Object(P.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(j&&"sector_code"===j.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){j&&"sector_code"===j.element&&y(null),d(Number(e.target.value))},value:l,disabled:e.loadingRequest}),j&&"sector_code"===j.element&&Object(P.jsx)("span",{className:"text-red-700",children:j.msg})]})]}),Object(P.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(P.jsx)("button",{onClick:function(){e.setActionTypes(null),n(""),d(0),y(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(P.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return E()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),T=function(e,t){var s=[],a=[];return Object(d.a)(e).forEach((function(e){s.includes(e.district_id)||(t&&e.province_id===t||void 0===t)&&(s.push(e.district_id),a.push(e))})),a},S=function(e,t){var s=[],a=[];return Object(d.a)(e).forEach((function(e){s.includes(e.center_id)||e.district_id!==t||(s.push(e.center_id),a.push(e))})),a},w=function(e,t){var s=[],a=[];return Object(d.a)(e).forEach((function(e){s.includes(e.room_id)||e.center_id!==t||(s.push(e.room_id),a.push(e))})),a},L=i.a.memo(Object(c.b)((function(e){return{locations:e.locations.roomLocation}}),{getAllRoom:l.q})((function(e){var t=Object(r.useState)(null),s=Object(a.a)(t,2),i=s[0],c=s[1],l=Object(r.useState)(null),d=Object(a.a)(l,2),u=d[0],p=d[1],m=Object(r.useState)(null),x=Object(a.a)(m,2),h=x[0],b=x[1],j=Object(r.useState)(null),f=Object(a.a)(j,2),g=f[0],O=f[1],_=Object(r.useState)(!0),v=Object(a.a)(_,2),E=v[0],C=v[1],T=Object(r.useState)(!1),S=Object(a.a)(T,2),w=S[0],L=S[1];if(Object(r.useEffect)((function(){!e.locations.length&&E?e.getAllRoom((function(e,t){C(e),!e&&t.length>0&&console.log(t)})):E&&C(!1)}),[E,e]),!0===E)return Object(P.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading locations..."});return Object(P.jsx)(r.Fragment,{children:Object(P.jsxs)("div",{className:"w-full my-5",children:[Object(P.jsx)("div",{className:"flex justify-between p-2 gap-1",children:Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-blue-600 text-2xl md:text-2xl lg:text-3xl font-bold",children:"Locations Management"}),Object(P.jsxs)("div",{className:"flex flex-row items-center md:gap-3 gap-2 mt-1",children:[Object(P.jsx)(n.f,{className:"text-xl"}),Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[u&&Object(P.jsx)("span",{className:"text-gray-700 text-base font-bold",children:u.province_name}),h&&Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(P.jsx)(o.e,{}),Object(P.jsxs)("span",{className:"text-blue-600 text-base font-bold underline",children:[h.district_name," district"]})]})]})]})]})}),Object(P.jsxs)("div",{className:"w-full bg-white",children:[Object(P.jsx)("div",{className:"border-b px-2 py-3 flex justify-between",children:g&&(!g||"CREATE_SECTOR"!==i&&"UPDATE_SECTOR"!==i)||!h||"CREATE_DISTRICT"===i||"UPDATE_DISTRICT"===i?h&&(!h||"CREATE_DISTRICT"!==i&&"UPDATE_DISTRICT"!==i)||!u?Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)("span",{className:"uppercase text-xl font-semibold text-gray-800",children:"province"}),Object(P.jsx)("span",{children:"/"})]}):Object(P.jsxs)("div",{className:"flex items-center gap-2",children:[Object(P.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){p(null)},children:"province"}),Object(P.jsx)("span",{children:"/"}),Object(P.jsx)("span",{className:"text-xl text-gray-800",children:u.province_name})]}):Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){p(null)},children:"province"}),Object(P.jsx)("span",{children:"/"}),Object(P.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){b(null)},children:"district"}),Object(P.jsx)("span",{children:"/"}),Object(P.jsx)("span",{className:"text-xl text-gray-800",children:h.district_name})]})}),(!u||u&&("CREATE_PROVINCE"===i||"UPDATE_PROVINCE"===i))&&Object(P.jsx)(N,{thisProvince:u,thisDistrict:h,loadingRequest:w,locations:e.locations,actionTypes:i,setLoadingRequest:L,setThisProvince:p,setActionTypes:c}),(!h||h&&("CREATE_DISTRICT"===i||"UPDATE_DISTRICT"===i))&&u&&Object(P.jsx)(y,{thisDistrict:h,loadingRequest:w,actionTypes:i,setLoadingRequest:L,setActionTypes:c,thisProvince:u,setThisDistrict:b}),(!g||g&&("CREATE_SECTOR"===i||"UPDATE_SECTOR"===i))&&h&&"CREATE_DISTRICT"!==i&&"UPDATE_DISTRICT"!==i&&Object(P.jsx)(R,{thisDistrict:h,thisSector:g,loadingRequest:w,actionTypes:i,setLoadingRequest:L,setThisSector:O,setActionTypes:c})]})]})})})))},746:function(e,t,s){"use strict";s.r(t),s.d(t,"getLevelbyId",(function(){return F})),s.d(t,"loadCoursesByInstitute",(function(){return M})),s.d(t,"loadExaminationProgress",(function(){return U})),s.d(t,"loadExamPreparationProgress",(function(){return q})),s.d(t,"isDatePast",(function(){return W})),s.d(t,"loadExamAttendance",(function(){return G})),s.d(t,"ExamDashboard",(function(){return B}));var a=s(26),r=s(25),i=s(28),n=s(27),o=s(4),c=s.n(o),l=s(22),d=s(3),u=s(202),p=s(123),m=s.n(p),x=s(698),h=s(684),b=s(700),j=s(688),f=s(21),g=s(683),O=s(17),_=s(121),v=s(12),P=s(704),y=s(1),E=function(e){var t=Object(o.useState)(!1),s=Object(O.a)(t,2),a=s[0],r=s[1];return Object(y.jsxs)(o.Fragment,{children:[Object(y.jsxs)("div",{className:"mt-3 rounded flex flex-col md:flex-row md:justify-between items-start",children:[Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3 mb-2",children:[Object(y.jsx)(_.b,{className:"text-7xl text-blue-600 hidden md:block"}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:"Exam Dashboard"}),!1]})]}),Object(y.jsxs)("section",{className:"w-full md:w-auto my-2 md:my-0",children:[Object(y.jsx)("section",{className:"flex items-start md:items-center justify-start md:justify-end gap-2",children:e.education_categories&&e.education_categories.length>0&&e.education_categories.map((function(t,s){return Object(y.jsx)("section",{className:"w-auto ".concat(e.loading||e.loadingEducation?"cursor-not-allowed":"cursor-pointer"," ").concat(e.thisEducation&&t.education_institute_id===e.thisEducation.education_institute_id?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.loading&&!e.loadingEducation&&e.setThisEducation(t)},children:Object(y.jsxs)("section",{className:"flex-1",children:[Object(y.jsx)(v.n,{className:"inline-block mr-1 text-xs"}),Object(y.jsx)("span",{children:t.education_category_title})]})},t.education_institute_id+s)}))}),Object(y.jsx)("div",{children:Object(y.jsx)("select",{className:"bg-white text-gray-600 border border-gray-400 rounded p-2 focus:outline-none ".concat(e.loading&&"cursor-wait"),value:e.thisPeriod,disabled:e.loading||e.loadingEducation,onChange:function(t){e.setThisPeriod(t.target.value),e.onPeriodChange&&e.onPeriodChange(t.target.value)},children:e.application_sessions.map((function(e,t){return Object(y.jsx)("option",{value:e.session_plan_id,children:e.session_plan_name},e.session_plan_id+t)}))})})]})]}),a&&Object(y.jsx)(P.b,{modalFor:P.a.title,modalState:a,reportTitle:e.reportTitle,changeModalState:r,setReportTitle:e.setReportTitle})]})},N=c.a.memo(E),C=s(723),R=s(53),T=s(709),S=s(687),w=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(y.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(y.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Exams preparation chart"})}),Object(y.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(y.jsx)(S.a,{labels:["Remaining exams","Prepared exams"],categoriesLabel:["Exam preparation progress"],dataLabels:!0,yaxisText:"Exam preparation progress",tooltipText:"(Exams)",series:[{name:"Remaining exams",data:[this.props.examPreparationProgress.remaining.length]},{name:"Prepared exams",data:[this.props.examPreparationProgress.finished.length]}],colors:["#4b5563","#469769"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(o.Component),L=c.a.memo(w),A=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(y.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(y.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Examination progress chart"})}),Object(y.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(y.jsx)(S.a,{labels:["Remaining exams","Prepared exams"],categoriesLabel:["Examinations progress"],dataLabels:!0,yaxisText:"Examination progress",tooltipText:"(Exams)",series:[{name:"Remaining exams",data:[this.props.progressData.remaining.length]},{name:"Done exams",data:[this.props.progressData.finished.length]}],colors:["#4b5563","#469769"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(o.Component),I=c.a.memo(A),D=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(y.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(y.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Examination performance chart"})}),Object(y.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(y.jsx)(S.a,{labels:["Pass applicant(s)","Failed applicant(s)"],categoriesLabel:["Exam preparation progress"],dataLabels:!0,yaxisText:"Exam performance",tooltipText:"(Applicants)",series:[{name:"Pass applicant(s)",data:[this.props.examPerformance.pass.length]},{name:"Failed applicant(s)",data:[this.props.examPerformance.failed.length]}],colors:["#469769","#d97724"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(o.Component),k=c.a.memo(D),F=function(e,t){if(e)return e.find((function(e){return e.school_level_id===t}))},M=function(e,t,s){var a=[],r=!1;if(t&&e){var i=function(r){Object.prototype.hasOwnProperty.call(t,r)&&(t[r].school_levels.length>0?t[r].school_levels.forEach((function(i){var n=F(s,i);n&&(n.education_institute.includes(e.education_institute_id)||n.education_institute.length<=0)&&a&&a.push(t[r])})):a&&a.push(t[r]))};for(var n in t)i(n)}else r=!0;return r?t:a},U=function(e,t,s,a,r,i){var n=[],o=[],c=[],l=!1;return e&&M(s,a,r)&&t&&(l=!0,o=(n=Object(h.a)(M(s,a,r),t,e).filter((function(e){return e.exam&&e.exam.period===i}))).filter((function(e){return"done"===e.preparation_status.toLocaleLowerCase()})),c=n.filter((function(e){return"active"===e.preparation_status.toLocaleLowerCase()}))),console.log("===================================="),console.log({loadExaminationProgress:e}),console.log("===================================="),l?{all:n,finished:o,remaining:c}:null},q=function(e){return{all:e,finished:e.filter((function(e){return"prepared"===e.preparation_status})),remaining:e.filter((function(e){return"not prepared"===e.preparation_status}))}},W=function(e){var t=m()().format("DD-MM-YYYY"),s=m()(t,"DD-MM-YYYY"),a=m()(e,"DD-MM-YYYY");return!(s.diff(a)>0)},G=function(e,t){return{all:e.filter((function(e){return e.exam.period===t})),pass:e.filter((function(e){return e.exam.period===t&&("Editing"!==e.exam_stastus||W(e.exam.exam_date))&&e.user_total_marks>=50})),failed:e.filter((function(e){return e.exam.period===t&&("Editing"!==e.exam_stastus||W(e.exam.exam_date))&&e.user_total_marks<50})),active:e.filter((function(e){return e.exam.period===t&&"Editing"===e.exam_stastus&&!W(e.exam.exam_date)}))}},z=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).setLoading=function(e){r.setState({loading:e})},r.setLoadingCourses=function(e){r.setState({loadingCourses:e})},r.setLoadingExams=function(e){r.setState({loadingExams:e})},r.setLoadingDoneExam=function(e){r.setState({loadingDoneExam:e})},r.setLoadingCandidatesExamPerformance=function(e){r.setState({loadingCandidatesExamPerformance:e})},r.setLoadingExamPerformance=function(e){r.setState({loadingExamPerformance:e})},r.setLoadingSettings=function(e){r.setState({loadingSettings:e})},r.setChangingPeriod=function(e){r.setState({changingPeriod:e})},r.setReportTitle=function(e){r.setState({reportTitle:e})},r.setThisEducation=function(e){r.setState({thisEducation:e})},r.setThisPeriod=function(e){r.setState({thisPeriod:e})},r.loadByPeriods=function(e){r.props.loadDoneExam(e.session_plan_id,(function(e,t){e||(t.length>0&&r.props.PushPopupAlert({title:t,theme:f.a.danger}),r.setLoadingDoneExam(!1))})),r.props.loadPerfomranceExam(e.session_plan_id,(function(e,t){e||(t.length>0&&r.props.PushPopupAlert({title:t,theme:f.a.danger}),r.setLoadingExamPerformance(!1))}))},r.componentDidMount=function(){if(null===r.props.schoolLevels.education_categories||0===r.props.schoolLevels.education_categories.length?r.props.loadEducationCategories(r.setLoadingSettings):r.props.schoolLevels.education_categories.length>0&&!r.state.thisEducation&&(r.setThisEducation(r.props.schoolLevels.education_categories[0]),r.setLoadingSettings(!1)),null===r.props.application_sessions)r.props.GetAllSessionPlans((function(e,t,s){var a;(r.setLoadingSettings(e),r.setLoading(e),!e&&t.length&&r.props.PushPopupAlert({title:t,theme:f.a.danger}),!e&&s&&s.length>0)&&((a=s.find((function(e){return e.is_active})))?r.setThisPeriod(a.session_plan_id):r.setThisPeriod(s[s.length-1].session_plan_id))}));else if(r.props.application_sessions.length>0&&!r.state.thisPeriod.length){var e;(e=r.props.application_sessions.find((function(e){return e.is_active})))?(r.setThisPeriod(e.session_plan_id),r.loadByPeriods(e)):(r.setThisPeriod(r.props.application_sessions[r.props.application_sessions.length-1].session_plan_id),r.loadByPeriods(r.props.application_sessions[r.props.application_sessions.length-1])),r.setLoadingSettings(!1),r.setLoading(!1)}null===r.props.schoolLevels.school_levels||r.props.schoolLevels.school_levels.length<=0?r.props.loadSchoolLevels(r.setLoadingSettings):r.setLoadingSettings(!1),(null===r.props.adminExamReport.CandidatesExamPerformance||0===r.props.adminExamReport.CandidatesExamPerformance.length&&r.state.loadingCandidatesExamPerformance)&&r.props.loadCandidatesExamPerformance(null,(function(e,t){e||(t.length>0&&r.props.PushPopupAlert({title:t,theme:f.a.danger}),r.setLoadingCandidatesExamPerformance(!1))}))},r.onPeriodChange=function(e){r.setLoadingDoneExam(!0),r.setLoadingExamPerformance(!0),r.setChangingPeriod(!0),r.props.loadDoneExam(e,(function(e,t){if(!e){var s=!0;t.length>0&&s&&(r.props.PushPopupAlert({title:t,theme:f.a.danger}),s=!1),r.setLoadingDoneExam(!1)}})),r.props.loadPerfomranceExam(e,(function(e,t){if(!e){var s=!0;t.length>0&&s&&(r.props.PushPopupAlert({title:t,theme:f.a.danger}),s=!1),r.setLoadingExamPerformance(!1)}})),r.state.loadingDoneExam||r.state.loadingExamPerformance||r.setChangingPeriod(!1)},r.state={loading:!0,loadingCourses:!0,loadingExams:!0,loadingDoneExam:!0,loadingCandidatesExamPerformance:!0,loadingExamPerformance:!0,loadingSettings:!0,changingPeriod:!1,reportTitle:j.reportTitleType.EXAM_PREPARATION,thisEducation:null,thisPeriod:""},r}return Object(r.a)(s,[{key:"render",value:function(){return this.state.loading||null===this.props.application_sessions?Object(y.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):0===this.props.application_sessions.length?Object(y.jsx)(g.a,{}):Object(y.jsxs)("div",{children:[Object(y.jsx)(N,{reportTitle:this.state.reportTitle,setReportTitle:this.setReportTitle,loading:this.state.changingPeriod,education_categories:this.props.schoolLevels.education_categories,loadingEducation:!1,thisEducation:this.state.thisEducation,setThisEducation:this.setThisEducation,thisPeriod:this.state.thisPeriod,setThisPeriod:this.setThisPeriod,application_sessions:this.props.application_sessions,onPeriodChange:this.onPeriodChange}),this.props.examsList&&M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsxs)("section",{className:"my-2",children:[Object(y.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Exams preparation status"}),Object(y.jsx)(C.a,{dataLabels:[{title:"Total exams",icon:R.c,iconColor:"blue",count:q(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).all.length},{title:"Prepared exams",icon:R.c,iconColor:"green",count:q(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).finished.length},{title:"Remaining exams",icon:R.c,iconColor:"gray",count:q(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).remaining.length}],labelsOnRow:5,children:Object(y.jsx)("div",{className:"flex justify-center",children:Object(y.jsx)(T.a,{options:{labels:["Prepared","Remaining"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#4b5563"]},series:[q(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).finished.length,q(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).remaining.length],width:210})})})]}),U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)&&Object(y.jsxs)("section",{className:"my-2",children:[Object(y.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Examination progress status"}),Object(y.jsx)(C.a,{dataLabels:[{title:"Total exams",icon:R.c,iconColor:"blue",count:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).all.length},{title:"Done exams",icon:R.c,iconColor:"green",count:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).finished.length},{title:"Remaining exams",icon:R.c,iconColor:"gray",count:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).remaining.length}],labelsOnRow:5,children:Object(y.jsx)("div",{className:"flex justify-center",children:Object(y.jsx)(T.a,{options:{labels:["Done","Remaining"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#4b5563"]},series:[U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).finished.length,U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).remaining.length],width:210})})})]}),this.props.adminExamReport.CandidatesExamPerformance&&M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsxs)("section",{className:"my-2",children:[Object(y.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Examination performance status"}),Object(y.jsx)(C.a,{dataLabels:[{title:"Total attendance",icon:R.c,iconColor:"blue",count:G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).all.length},{title:"Pass applicant(s)",icon:R.c,iconColor:"green",count:G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).pass.length},{title:"Failed applicant(s)",icon:R.c,iconColor:"yellow",count:G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).failed.length}],labelsOnRow:5,children:Object(y.jsx)("div",{className:"flex justify-center",children:Object(y.jsx)(T.a,{options:{labels:["Pass","Failed"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#d97724"]},series:[G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).pass.length,G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).failed.length],width:210})})})]}),this.props.examsList&&M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsx)(L,{examPreparationProgress:q(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod))}),U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)&&Object(y.jsx)(I,{progressData:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)}),this.props.adminExamReport.CandidatesExamPerformance&&M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsx)(k,{examPerformance:G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod)})]})}}]),s}(o.Component),B=Object(l.b)((function(e){var t=e.auth,s=e.sessionPlan,a=e.schoolLevels,r=e.course,i=e.prepareExam,n=e.adminExamReport;return{auth:t,application_sessions:s.allSessionPlans,schoolLevels:a,courses:r.courses,examsList:i.examsList,adminExamReport:n}}),{loadCourses:d.Cc,loadExamsList:d.Hc,loadEducationCategories:d.Ec,loadDoneExam:d.Dc,loadSchoolLevels:d.Mc,loadPerfomranceExam:d.Jc,loadCandidatesExamPerformance:d.Bc,GetAllSessionPlans:u.b,PushPopupAlert:d.Nb})(z)},765:function(e,t,s){"use strict";var a,r,i;s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return i})),function(e){e.WAITING="waiting",e.PENDING="pending",e.PLACED="placed"}(a||(a={})),function(e){e.male="Male",e.female="Female",e.null="-"}(r||(r={})),function(e){e.names="names",e.gender="gender",e.national_id="national_id",e.email="email",e.phone="phone",e.user_position_marks="user_position_marks",e.position_title="position_title",e.education_category="education_category",e.date="date",e.waiting_status="waiting_status",e.waitingList_session="waitingList_session"}(i||(i={}))},923:function(e,t,s){"use strict";s.r(t),s.d(t,"getPeriodById",(function(){return G})),s.d(t,"WaitingListReport",(function(){return X}));var a=s(26),r=s(25),i=s(28),n=s(27),o=s(4),c=s.n(o),l=s(71),d=s(204),u=s(66),p=s(76),m=s(67),x=s(12),h=s(22),b=s(3),j=s(202),f=s(681),g=s(208),O=s(200),_=s(38),v=s(53),P=s(1),y=function(e){return Object(P.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at district level"})]}),Object(P.jsx)("p",{children:function(){var t=Object(P.jsx)(P.Fragment,{}),s="";return 0===e.data.length?t=Object(P.jsx)("p",{children:"The system will place me in the available posts from all districts of the selected provinces."}):!1===e.strict&&e.data.length>0?(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-1&&(s+=", ")})),t=Object(P.jsxs)("p",{children:["The system will place you in the available posts"," ",Object(P.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(P.jsx)("span",{className:"font-semibold",children:s})," and all remaining districts of the selected provinces."]})):!0===e.strict&&e.data.length>0&&(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-2&&(s+=", "),a===e.data.length-2&&a>0&&(s+=" and ")})),t=Object(P.jsxs)("p",{children:["The system will ",Object(P.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in"," ",Object(P.jsx)("span",{className:"font-semibold",children:s}),"."]})),t}()})]})},E=function(e){return Object(P.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at province level"})]}),Object(P.jsx)("p",{children:function(){var t=Object(P.jsx)(P.Fragment,{}),s="";return 0===e.data.length?t=Object(P.jsx)("p",{children:"The system will place me in the available posts from all provinces."}):!1===e.strict&&e.data.length>0?(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-1&&(s+=", ")})),t=Object(P.jsxs)("p",{children:["The system will place me in the available posts"," ",Object(P.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(P.jsx)("span",{className:"font-semibold",children:s})," and all remaining provinces."]})):!0===e.strict&&e.data.length>0&&(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-2&&(s+=", "),a===e.data.length-2&&a>0&&(s+=" and ")})),t=Object(P.jsxs)("p",{children:["The system will ",Object(P.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in"," ",Object(P.jsx)("span",{className:"font-semibold",children:s}),"."]})),t}()})]})},N=function(e){return Object(P.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at school level"})]}),Object(P.jsx)("p",{children:function(){var t=Object(P.jsx)(P.Fragment,{}),s="";return 0===e.data.length?t=Object(P.jsx)("p",{children:"The system will place me in the available posts from all Schools of the selected provinces, districts, and sectors."}):!1===e.strict&&e.data.length>0?(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-1&&(s+=", ")})),t=Object(P.jsxs)("p",{children:["The system will place me in the available posts"," ",Object(P.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(P.jsx)("span",{className:"font-semibold",children:s})," and in all remaining schools from the selected schools, districts, and sectors."]})):!0===e.strict&&e.data.length>0&&(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-2&&(s+=", "),a===e.data.length-2&&a>0&&(s+=" and ")})),t=Object(P.jsxs)("p",{children:["The system will ",Object(P.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in ",Object(P.jsx)("span",{className:"font-semibold",children:s}),"."]})),t}()})]})},C=function(e){return Object(P.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at sector level"})]}),Object(P.jsx)("p",{children:function(){var t=Object(P.jsx)(P.Fragment,{}),s="";return 0===e.data.length?t=Object(P.jsx)("p",{children:"The system will place me in the available posts from all sectors."}):!1===e.strict&&e.data.length>0?(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-1&&(s+=", ")})),t=Object(P.jsxs)("p",{children:["The system will place me in the available posts"," ",Object(P.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(P.jsx)("span",{className:"font-semibold",children:s})," and all remaining sectors of the selected provinces and districts."]})):!0===e.strict&&e.data.length>0&&(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-2&&(s+=", "),a===e.data.length-2&&a>0&&(s+=" and ")})),t=Object(P.jsxs)("p",{children:["The system will ",Object(P.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in ",Object(P.jsx)("span",{className:"font-semibold",children:s}),"."]})),t}()})]})},R=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).componentDidMount=function(){null===r.props.locations&&Object(b.Eb)((function(e,t,s){!0===e&&null!==t?(r.props.FC_GetWaitingLocationList(t),r.setState({loading:!1})):r.setState({loading:!1})})),null===r.state.selectedSchool&&r.props.contract.school.values.length>=1?(r.setState({loading:!0}),r.props.FC_LoadSchoolsByIDs(r.props.contract.school.values.map((function(e){return e.toString()})),(function(e,t,s){!0===e&&r.setState({selectedSchool:t,loading:!1})}))):r.setState({loading:!1,selectedSchool:[]})},r.state={loading:!0,selectedSchool:null},r}return Object(r.a)(s,[{key:"render",value:function(){var e=this;if(!0===this.state.loading||null===this.props.locations||null===this.state.selectedSchool)return Object(P.jsxs)("div",{className:"bg-white mt-6 mx-6 p-6 h-full flex flex-col items-start justify-center rounded",children:[Object(P.jsx)("div",{className:"text-xl mx-4 my-4 animate-pulse",children:"Loading contract, Please wait..."}),Object(P.jsx)(_.a,{})]});var t=[],s=[],a=[];null!==this.props.contract&&(this.props.contract.province.values.forEach((function(s){if(null!==e.props.locations){var a=e.props.locations.provinces.find((function(e){return e.province_code===s.toString()}));void 0!==a&&t.push({id:a.province_code,title:a.province_name})}})),this.props.contract.district.values.forEach((function(t){if(null!==e.props.locations){var a=e.props.locations.districts.find((function(e){return e.district_code===t.toString()}));void 0!==a&&s.push({id:a.district_code,title:a.district_name})}})),this.props.contract.sector.values.forEach((function(t){if(null!==e.props.locations){var s=e.props.locations.sectors.find((function(e){return e.sector_code===t.toString()}));void 0!==s&&a.push({id:s.sector_code,title:s.sector_name})}})));var r=Object(P.jsx)("span",{className:"font-semibold",children:this.props.candidates}),i=Object(P.jsx)("span",{className:"font-semibold",children:this.props.position});return Object(P.jsxs)("div",{className:"pb-4",children:[Object(P.jsxs)("div",{className:"px-4",children:[Object(P.jsx)("h2",{className:"text-black text-center font-semibold text-2xl sm:text-3xl underline",children:"Placement Preferences"}),Object(P.jsxs)("div",{className:"mt-6 text-lg flex flex-col",children:[Object(P.jsxs)("p",{children:["Names: ",r]}),Object(P.jsxs)("p",{children:["Position: ",i]})]})]}),Object(P.jsx)(E,{data:t,strict:this.props.contract.province.strict}),Object(P.jsx)(y,{data:s,strict:this.props.contract.district.strict}),Object(P.jsx)(C,{data:a,strict:this.props.contract.sector.strict}),Object(P.jsx)(N,{data:this.state.selectedSchool.map((function(e){return{id:e.school_code,title:e.school_name}})),strict:this.props.contract.school.strict})]})}}]),s}(o.Component),T=c.a.memo(Object(h.b)((function(e){return{locations:e.locations.waitingLocation}}),{FC_LoadSchoolsByDistrict:b.ab,FC_LoadSchoolsByIDs:b.bb,FC_GetWaitingLocationList:O.k})(R)),S=s(690),w=s(91),L=s(686),A=s(23),I=s(680),D=s(21),k=s(765),F=s(42),M=s(689),U=s(24),q=s(697),W=s(683),G=function(e,t){return e.find((function(e){return e.session_plan_id===t}))},z=[{key:k.c.names,title:"Applicant Names",status:!0},{key:k.c.national_id,title:"National ID",status:!0},{key:k.c.gender,title:"Gender",status:!0},{key:k.c.phone,title:"Phone",status:!0},{key:k.c.user_position_marks,title:"Applicant marks",status:!0},{key:k.c.waitingList_session,title:"Waiting list Session",status:!0},{key:k.c.education_category,title:"Education Institute",status:!0},{key:k.c.date,title:"Waiting list Date",status:!0},{key:k.c.waiting_status,title:"Waiting list Status",status:!0},{key:k.c.position_title,title:"Position",status:!0}],B=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).setLoading=function(e){r.setState({loading:e})},r.setLoadingWaitingList=function(e){r.setState({loadingWaitingList:e})},r.setThisPeriod=function(e){r.setState({thisPeriod:e})},r.setWaitingListToPrint=function(e){r.setState({waitingListToPrint:e})},r.setThisWaitingListStatus=function(e){r.setState({thisWaitingListStatus:e})},r.setThisPosition=function(e){r.setState({thisPosition:e})},r.setSelectPosition=function(e){r.setState({selectPosition:e})},r.setSortProperty=function(e){r.setState({sortProperty:e})},r.setIsSorted=function(e){r.setState({isSorted:e})},r.setSortOrder=function(e){r.setState({sortOrder:e})},r.setSearchInput=function(e){r.setState({searchInput:e})},r.setSearchPositionInput=function(e){r.setState({searchPositionInput:e})},r.setDownloading=function(e){r.setState({downloading:e})},r.setGenerateReportModal=function(e){r.setState({generateReportModal:e})},r.setReportTitle=function(e){r.setState({reportTitle:e})},r.setReportContent=function(e){r.setState({reportContent:e})},r.setSelectAll=function(e){r.setState({selectAll:e})},r.setFormError=function(e){r.setState({formError:e})},r.setSelectPeriod=function(e){r.setState({selectPeriod:e})},r.setThisEducation=function(e){r.setState({thisEducation:e})},r.componentDidMount=function(){null!==r.props.schoolLevels.education_categories&&0!==r.props.schoolLevels.education_categories.length||r.props.loadEducationCategories(r.setLoading),null===r.props.application_sessions&&r.props.GetAllSessionPlans((function(e,t){r.setLoading(e),e||t.length&&r.props.PushPopupAlert({title:t,theme:D.a.danger})})),null===r.props.systemPositions&&r.props.getPositions((function(e,t){r.setLoading(e),t.length&&r.props.PushPopupAlert({title:t,theme:D.a.danger})})),r.state.loadingWaitingList&&r.props.getWaitingList((function(e,t){r.setLoadingWaitingList(e),!1===e&&t.length>0&&r.props.PushPopupAlert({title:t,theme:D.a.danger})}))},r.setSort=function(e){r.state.sortProperty===e&&"ASC"===r.state.sortOrder?r.setSortOrder("DESC"):r.setSortOrder("ASC"),r.setSortProperty(e),r.setIsSorted(!0)},r.showStatus=function(e){var t="";switch(e){case k.a.WAITING:t="Waiting";break;case k.a.PENDING:t="Placed & pending";break;case k.a.PLACED:t="Placed & confirmed";break;default:t="All"}return t},r.FC_WaitingListStatus=function(e){var t=[{title:"All status",count:e.length,type:"all"}],s=Object.values(k.a),a=function(a){t.push({title:Object(F.a)(s[a]),count:e.filter((function(e){return e.status===s[a]})).length,type:s[a]})};for(var r in s)a(r);return t},r.updateReportContent=function(e){var t=r.state.reportContent.findIndex((function(t){return t.key===e})),s=r.state.reportContent;s[t].status=!s[t].status,r.setReportContent(s),s.find((function(e){return!1===e.status}))?r.setSelectAll(!1):r.setSelectAll(!0),r.updateWaitingListToPrint()},r.updateWaitingListToPrint=function(){if(r.state.thisPosition){var e="";e="all"===r.state.thisPeriod?"All session":r.state.thisPeriod.session_plan_name,r.setReportTitle("Waiting list - "+r.state.thisPosition.position_title+" - "+e)}if(r.props.systemPositions&&r.props.waitingList&&r.props.application_sessions){var t=[],s=1;for(var a in r.props.waitingList)if(Object.prototype.hasOwnProperty.call(r.props.waitingList,a)){var i=r.props.waitingList[a],n=Object(F.c)(r.props.systemPositions,i.position_id),o=G(r.props.application_sessions,i.session_id),c={id:s.toString(),names:i.user_info.fname+" "+i.user_info.lname,gender:"M"===i.user_info.sex?"Male":"Female",national_id:i.n_id,phone:i.phone_number,email:i.email,user_position_marks:Number(i.marks.toFixed(2)),position_title:n?n.position_title:"Unknown position",education_category:n?n.education_institute_id.education_category_title:"-",waitingList_session:o?o.session_plan_name:"Unknown session",date:Object(U.a)(i.createdAt),waiting_status:r.showStatus(i.status)};for(var l in r.state.reportContent)Object.prototype.hasOwnProperty.call(r.state.reportContent,l)&&(r.state.reportContent[l].status||delete c[r.state.reportContent[l].key]);t.push(c),s++}r.setWaitingListToPrint(t),t=[],s=1}},r.FC_WaitingListData=function(e,t){if(null===e||null===t||null===r.props.application_sessions)return null;var s=[];for(var a in e){var i=e[a];if(i.user_info){var n=Object(F.c)(t,i.position_id),o=G(r.props.application_sessions,i.session_id),c={names:i.user_info.fname+" "+i.user_info.lname,waitingList_id:i._id,gender:"M"===i.user_info.sex?k.b.male:k.b.female,national_id:i.n_id,phone:i.phone_number,email:i.email,user_position_marks:Number(i.marks.toFixed(2)),position_id:n?n.position_id:"Unknown position",position_title:n?n.position_title:"Unknown position",education_category:n?n.education_institute_id.education_category_title:"",education_category_id:n?n.education_institute_id.education_institute_id:"",waitingList_session:o?o.session_plan_name:"Unknown session",date:Object(U.a)(i.createdAt),waiting_status:r.showStatus(i.status),status:i.status,waitingList_session_id:i.session_id};s.push(c)}}return s},r.resetReportContent=function(e){var t=r.state.reportContent;for(var s in t)r.isChangeAllowed(t[s].key)&&(t[s].status=!e);r.setReportContent(t),r.setSelectAll(!e),r.updateWaitingListToPrint()},r.isChangeAllowed=function(e){return e!==k.c.names&&e!==k.c.waiting_status&&e!==k.c.waitingList_session&&e!==k.c.position_title&&e!==k.c.date&&e!==k.c.user_position_marks&&e!==k.c.national_id&&e!==k.c.education_category},r.generateReportTitle=function(e){var t="";t="all"===r.state.thisPeriod?"All session":r.state.thisPeriod.session_plan_name,r.setReportTitle("Waiting list - "+e+" - "+t)},r.FC_GeneratePDF=function(){if(document.querySelectorAll("#report_content tbody tr").length){var e="";e="all"===r.state.thisPeriod?"All session":r.state.thisPeriod.session_plan_name;var t=document.getElementById("report_content"),s={doneBy:r.props.auth.user.fname+" "+r.props.auth.user.lname,title:r.state.reportTitle,subjectTitle:"Position",subject:r.state.thisPosition?r.state.thisPosition.position_title:"All position",period:e,footer:"Online Teacher Recruitment",institute:r.state.thisPosition?r.state.thisPosition.education_institute_id.education_category_title:""};t&&Object(S.a)(s,t,r.setDownloading)}else r.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:D.a.warning})},r.FC_FilterWaitingList=function(e,t,s,a,r){var i=e;return"all"!==t&&(i=i.filter((function(e){return e.status===t}))),r&&(i=i.filter((function(e){return e.position_id===r.position_id}))),"all"!==s&&(i=i.filter((function(e){return e.waitingList_session_id===s.session_plan_id}))),"all"!==a&&(i=i.filter((function(e){return e.education_category===a.education_category_title}))),i},r.viewContractor=function(e){var t=void 0;return r.props.waitingList&&(t=r.props.waitingList.find((function(t){return t._id===e.waitingList_id}))),t},r.state={thisPeriod:"all",loading:!0,loadingWaitingList:!0,waitingListToPrint:null,thisWaitingListStatus:"all",thisPosition:null,selectPosition:!1,sortProperty:"",isSorted:!1,sortOrder:"ASC",searchInput:"",searchPositionInput:"",downloading:!1,generateReportModal:null,reportTitle:"",reportContent:z,selectAll:!0,formError:null,selectPeriod:!1,thisEducation:"all",selectedWaiting:null},r}return Object(r.a)(s,[{key:"render",value:function(){var e,t,s=this;return this.props.application_sessions&&0===this.props.application_sessions.length?Object(P.jsx)(W.a,{}):Object(P.jsxs)("div",{children:[Object(P.jsxs)(I.b,{children:[Object(P.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===this.props.schoolLevels.education_categories?Object(P.jsx)(_.a,{}):0===this.props.schoolLevels.education_categories.length?Object(P.jsx)("span",{children:"No institute found"}):Object(P.jsxs)(o.Fragment,{children:[Object(P.jsxs)("div",{onClick:function(){return s.setThisEducation("all")},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"===this.state.thisEducation?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"===this.state.thisEducation?Object(P.jsx)(x.Ab,{}):Object(P.jsx)(x.Bb,{}),Object(P.jsx)("span",{children:"All"})]}),this.props.schoolLevels.education_categories.map((function(e,t){return Object(P.jsxs)("div",{onClick:function(){return s.setThisEducation(e)},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"!==s.state.thisEducation&&s.state.thisEducation.education_institute_id===e.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"!==s.state.thisEducation&&s.state.thisEducation.education_institute_id===e.education_institute_id?Object(P.jsx)(x.Ab,{}):Object(P.jsx)(x.Bb,{}),Object(P.jsx)("span",{children:e.education_category_title})]},t+1)}))]})]}),Object(P.jsxs)("div",{className:"",children:[Object(P.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(P.jsxs)("div",{onClick:function(){return s.setSelectPeriod(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-base px-2 hover:underline  text-blue-600  mb-4 w-full flex flex-row items-center gap-2 justify-between animate__animated animate__zoomIn",children:["all"!==this.state.thisPeriod?"".concat(this.state.thisPeriod.session_plan_name," - ").concat(this.state.thisPeriod.period):"All session",Object(P.jsx)(d.e,{className:"text-xl text-blue-600"})]})]}),Object(P.jsxs)("div",{className:"pt-1",children:[Object(P.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Claim types:"}),this.state.loadingWaitingList||null===this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)?Object(P.jsx)(_.a,{}):this.FC_WaitingListStatus(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)).map((function(e,t){return Object(P.jsx)("div",{onClick:function(){return s.setThisWaitingListStatus(e.type)},children:Object(P.jsx)(I.a,{title:e.title,count:e.count,active:s.state.thisWaitingListStatus===e.type})},e.title+t)}))]})]}),Object(P.jsxs)("section",{children:[Object(P.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(P.jsx)("div",{className:"col-span-6",children:Object(P.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(P.jsx)("span",{className:"text-3xl font-bold text-gray-700",children:"Waiting list report"}),Object(P.jsxs)("div",{onClick:function(){return s.setSelectPosition(!0)},className:"flex flex-row gap-2",children:[Object(P.jsx)("span",{className:"text-gray-500",children:"Selected position: "}),Object(P.jsx)("span",{className:"text-blue-600 font-bold underline cursor-pointer",children:null!==this.state.thisPosition?this.state.thisPosition.position_title:"All position"})]})]})}),Object(P.jsx)("div",{className:"col-span-6",children:Object(P.jsxs)("div",{className:"float-right mt-2",children:[this.props.waitingList&&this.props.waitingList.length>0&&Object(P.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(P.jsx)(l.e,{className:"text-2xl text-gray-500"}),Object(P.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(P.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",disabled:this.state.loading,onClick:function(){s.updateWaitingListToPrint(),s.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(P.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 ".concat(this.state.downloading&&"cursor-wait"),onClick:function(){return s.FC_GeneratePDF()},disabled:this.state.loading||this.state.downloading,children:"PDF"})]}),Object(P.jsxs)("div",{onClick:function(){return s.setSelectPosition(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(P.jsx)(l.g,{className:"text-xl"}),"Filter by position"]})]})})]}),Object(P.jsxs)("div",{className:"bg-white my-4",children:[Object(P.jsx)("div",{className:"w-full px-2 py-2",children:Object(P.jsx)("input",{onChange:function(e){return s.setSearchInput(e.target.value)},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded focus:border-gray-800",disabled:this.state.loadingWaitingList||null===this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)})}),Object(P.jsx)("div",{className:"w-full overflow-x-auto",children:Object(P.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(P.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("names")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Applicant names ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("gender")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Gender ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("user_position_marks")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Marks ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("position_title")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Position ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("education_category")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Institute ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("waiting_status")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("waitingList_session")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Session ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("date")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Date ",Object(P.jsx)(l.j,{})]})})]})}),Object(P.jsx)("tbody",{children:this.state.loadingWaitingList?Object(P.jsx)(L.a,{cols:11}):null===this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)?Object(P.jsx)(L.a,{cols:10}):0===this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),this.state.thisWaitingListStatus,this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition).length?Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:11,className:"px-2 py-2",children:Object(P.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(P.jsx)(u.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(P.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"}),Object(P.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(P.jsxs)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:[Object(P.jsx)("li",{onClick:function(){return s.setSelectPosition(!0)},className:"underline text-gray-500 cursor-pointer",children:"Filter by position"}),Object(P.jsx)("li",{className:"text-gray-400 italic",children:"or"}),Object(P.jsx)("li",{className:"text-gray-500 underline",onClick:function(){return s.setSelectPeriod(!0)},children:"Filter by period"})]})})]})})}):Object(U.p)(this.state.isSorted,(e=this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),this.state.thisWaitingListStatus,this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition),t=this.state.searchInput,void 0===t||""===t?e:e.filter((function(e){var s;for(var a in e)if(s=!1,"names"!==a&&"gender"!==a&&"national_id"!==a&&"phone"!==a&&"email"!==a&&"user_position_marks"!==a&&"position_title"!==a&&"education_category"!==a&&"waitingList_session"!==a&&"date"!==a&&"waiting_status"!==a||e[a]&&(s=e[a].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))),this.state.sortProperty,this.state.sortOrder).map((function(e,t){return Object(P.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 cursor-pointer border-b border-gray-300 hover:border-blue-500 text-sm"),onClick:function(){return s.setState({selectedWaiting:e})},children:[Object(P.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.names}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.national_id}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.gender}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.phone}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.user_position_marks}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.position_title}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.education_category}),Object(P.jsx)("td",{className:"px-2 py-2",children:Object(F.a)(e.waiting_status.toLowerCase())}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.waitingList_session}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.date})]},t+1)}))})]})})]}),this.state.selectPosition&&Object(P.jsx)(A.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(m.j,{className:"text-5xl text-blue-600"}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Filter by a position"})})]}),backDrop:!0,theme:A.c.default,close:function(){s.setSelectPosition(!1),s.setSearchPositionInput("")},backDropClose:!0,widthSizeClass:A.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(P.jsx)("div",{className:"px-2 pb-2",children:null===this.props.systemPositions?Object(P.jsx)(w.b,{type:w.a.dark}):0===this.props.systemPositions.length?Object(P.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(P.jsx)(x.Lb,{className:"text-6xl"}),Object(P.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(P.jsx)("span",{children:"No positions found! Please go back!"})})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-gray-600 text-xs font-bold",children:"Filter by position name"}),Object(P.jsx)("input",{onChange:function(e){return s.setSearchPositionInput(e.target.value)},type:"text",className:"mb-4 bg-gray-100 px-3 py-2 rounded",placeholder:"Keyword..."})]}),Object(P.jsx)("div",{onClick:function(){s.generateReportTitle("All position"),s.setThisPosition(null),s.setSelectPosition(!1),s.setSearchPositionInput("")},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(P.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(P.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(P.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(P.jsx)("div",{children:Object(P.jsx)(p.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"text-base lg:text-lg font-bold text-gray-700",children:"All position"})})]})}),Object(P.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(P.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(P.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})}),Object(U.m)(this.props.systemPositions,this.state.searchPositionInput).map((function(e,t){return Object(P.jsx)("div",{onClick:function(){s.generateReportTitle(e.position_title),s.setThisPosition(e),s.setSelectPosition(!1),s.setSearchPositionInput("")},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(P.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(P.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(P.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(P.jsx)("div",{children:Object(P.jsx)(p.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:e.position_title}),Object(P.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(P.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:e.school_level_id.school_level_name})]}),Object(P.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:e.education_institute_id.education_category_title})]})]})}),Object(P.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(P.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(P.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})},t+1)}))]})})}),this.state.selectPeriod&&Object(P.jsx)(A.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(x.O,{className:"text-5xl text-blue-600"}),Object(P.jsx)("span",{className:"flex flex-col",children:"Choose a period"})]}),backDrop:!0,theme:A.c.default,close:function(){return s.setSelectPeriod(!1)},backDropClose:!0,widthSizeClass:A.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(P.jsx)(q.a,{allSession:this.props.application_sessions,setSelectSession:function(e){s.setThisPeriod(e),s.setSelectPeriod(!1)},chooseAll:!0,currentSelected:this.state.thisPeriod})}),null!==this.state.generateReportModal&&!0===this.state.generateReportModal.status&&Object(P.jsx)(A.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(P.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",this.state.generateReportModal.reportType," ","Report"]})]})}),backDrop:!0,theme:A.c.default,close:function(){return s.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:A.b.medium,displayClose:!0,padding:{title:!0},children:Object(P.jsxs)("div",{className:"px-6",children:[Object(P.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"Title"}),Object(P.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(this.state.formError&&"report_title"===this.state.formError.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:this.state.reportTitle,onChange:function(e){s.setFormError(null),s.setReportTitle(e.target.value)},disabled:this.state.loading}),this.state.formError&&"report_title"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(P.jsx)("label",{children:"Report content"}),Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:this.state.reportContent.map((function(e,t){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(s.isChangeAllowed(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return s.isChangeAllowed(e.key)&&s.updateReportContent(e.key)},title:s.isChangeAllowed(e.key)?"":"Required for every report!",children:[e.status?Object(P.jsx)(x.r,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(x.s,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:e.title})]},t)}))}),this.state.formError&&"report_content"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]})]}),Object(P.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(P.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return s.resetReportContent(s.state.selectAll)},children:[this.state.selectAll?Object(P.jsx)(x.r,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(x.s,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:"Select all"})]}),this.state.waitingListToPrint&&!this.state.loading&&Object(P.jsx)(M.a,{fileData:this.state.waitingListToPrint,fileName:this.state.reportTitle,btnName:"Generate"})]})]})}),this.state.selectedWaiting&&this.viewContractor(this.state.selectedWaiting)&&Object(P.jsx)(A.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center"}),backDrop:!0,theme:A.c.default,close:function(){return s.setState({selectedWaiting:null})},backDropClose:!0,widthSizeClass:A.b.extraLarge,displayClose:!0,padding:{title:!0,body:!0},children:Object(P.jsx)("div",{className:"mb-7",children:Object(P.jsx)(T,{contract:this.viewContractor(this.state.selectedWaiting).contract,candidates:this.state.selectedWaiting.names,position:this.state.selectedWaiting.position_title})})})]})]})}}]),s}(o.Component),X=Object(h.b)((function(e){var t=e.auth,s=e.system_settings,a=e.sessionPlan,r=e.schoolLevels,i=e.waitingList;return{auth:t,application_sessions:a.allSessionPlans,systemPositions:s.systemPositions,schoolLevels:r,waitingList:i}}),{getWaitingList:g.a,GetAllSessionPlans:j.b,loadEducationCategories:b.Ec,getPositions:f.d,PushPopupAlert:b.Nb})(B)}}]);
//# sourceMappingURL=22.1ba9a8c8.chunk.js.map