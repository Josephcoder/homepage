(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[5],{168:function(e,t,r){"use strict";r.r(t),r.d(t,"ProfileDetails",(function(){return w}));var s=r(4),l=r(15),a=r(16),i=r(18),c=r(17),n=r(3),o=r.n(n),d=r(8),u=r(2),b=r(5),h=r(1),m=function(e){var t=e.documents,r=e.selected_category,s=e.selected_sub_category,l=e.selectDoc,a=e.addNewDoc,i=e.categories,c=e.sub_categories,o=[];return null===r?o=t:null===s?o=t.filter((function(e){return e.category_id===(null===r||void 0===r?void 0:r.user_detail_category_id)})):null!==s&&(o=t.filter((function(e){return e.category_id===r.user_detail_category_id&&e.sub_category_id===s.user_detail_subcategory_id}))),Object(h.jsxs)("div",{className:"col-span-4  shadow rounded bg-white bg-opacity-50",children:[Object(h.jsxs)("div",{className:"p-3 border-b border-gray-200 flex bg-white justify-between",children:[Object(h.jsx)("h1",{className:"text-3xl m-0 font-bold text-gray-600",children:null===r?"All details":Object(h.jsxs)(n.Fragment,{children:[null===r||void 0===r?void 0:r.title," ",null!==s&&" - "+s.title]})}),Object(h.jsx)("button",{className:"px-3 py-1 bg-blue-600 rounded hover:bg-blue-800 text-white",onClick:function(){return a()},children:"Add new"})]}),Object(h.jsx)("div",{className:"p-2 ",children:o.length<=0?Object(h.jsxs)("div",{className:"p-4 text-center  text-gray-500",children:[Object(h.jsx)(b.g,{className:"text-7xl mx-auto my-2"}),Object(h.jsx)("h2",{className:"text-3xl",children:"No data found on"}),Object(h.jsxs)("h1",{className:"text-xl font-bold text-blue-900",children:[null===r?"Any category":null===r||void 0===r?void 0:r.title," ",null!==s&&" - "+(null===s||void 0===s?void 0:s.title)]}),Object(h.jsxs)("p",{children:["Please click on ",Object(h.jsx)("b",{children:"Add new"})," and improve your CV"]})]}):o.map((function(e,t){var r,a=i.find((function(t){return t.user_detail_category_id===e.category_id})),n=null;return e.sub_category_id.length>=1&&(n=c.find((function(t){return t.user_detail_subcategory_id===e.sub_category_id}))),Object(h.jsxs)("div",{className:"flex p-1 mb-2 rounded hover:shadow border hover:bg-blue-100  border-blue-100  items-center bg-white",onClick:function(){return l(e)},children:[Object(h.jsxs)("div",{className:"flex-1 pl-2",children:[Object(h.jsx)("h3",{className:"text-xl font-bold text-blue-800",children:e.title}),void 0!==a&&Object(h.jsxs)("p",{className:"text-sm m-0",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Category: "})," ",Object(h.jsxs)("b",{children:[a.title,null!==s&&null!==n&&void 0!==n&&" - "+(null===(r=n)||void 0===r?void 0:r.title)]})]})]}),Object(h.jsx)("div",{className:" mx-2",children:Object(h.jsx)("button",{className:"p-2",children:Object(h.jsx)(b.y,{className:"text-5xl text-blue-800"})})}),Object(h.jsx)("div",{className:"pr-1"})]},t)}))})]})},j=r(94),v=function(e){var t=e.user,r=t.fname,s=t.lname,l=t.father_names,a=t.mother_names,i=t.sex,c=t.date_of_birth,o=t.place_of_birth,d=t.country_of_birth,u=t.district,b=t.email,m=t.n_id,v=t.phone_number,g=t.province,x=t.civil_status,p=t.village,_=t.cell,y=t.sector;return Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)("div",{className:"bg-hero p-3 h-20 rounded-t mt-3  z-0"}),Object(h.jsxs)("div",{className:"bg-red-3000 h-0 p-3 -mt-5 rounded-t flex items-center z-0",children:[Object(h.jsx)("img",{src:j.a,alt:"Profile",className:"w-24 h-24 object-cover  shadow-lg   rounded-full border-2 border-blue-700"}),Object(h.jsxs)("h1",{className:"mt-10 pt-4 pl-2 text-2xl font-bold text-gray-600",children:[r," ",s]})]}),Object(h.jsx)("div",{className:"bg-white p-3 rounded-b -mt-1 pt-10 shadow",children:Object(h.jsxs)("div",{className:"grid lg:grid-cols-3 gap-4 mt-3 border-t pt-2 px-2",children:[Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("div",{className:"hover:bg-blue-100",children:[b.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Email:"})," ",Object(h.jsx)("b",{children:b})]}),v.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Phone number:"})," ",Object(h.jsx)("b",{children:v})]})]}),m.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"NID:"})," ",Object(h.jsx)("b",{children:m})]}),r.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"First name:"})," ",Object(h.jsx)("b",{children:r})]}),s.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Last name:"})," ",Object(h.jsx)("b",{children:s})]})]}),Object(h.jsxs)("div",{className:"",children:[l.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Father's name:"})," ",Object(h.jsx)("b",{children:l})]}),a.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Mother's name:"})," ",Object(h.jsx)("b",{children:a})]}),i.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Sex:"})," ",Object(h.jsx)("b",{children:i})]}),o.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Place of birth:"})," ",Object(h.jsx)("b",{children:o})]}),d.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Country of birth:"})," ",Object(h.jsx)("b",{children:d})]}),c.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"DOB:"})," ",Object(h.jsx)("b",{children:c})]})]}),Object(h.jsxs)("div",{className:"",children:[u.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"District:"})," ",Object(h.jsx)("b",{children:u})]}),p.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Village:"})," ",Object(h.jsx)("b",{children:p})]}),_.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"cell:"})," ",Object(h.jsx)("b",{children:_})]}),y.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Sector:"})," ",Object(h.jsx)("b",{children:y})]}),g.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"province:"})," ",Object(h.jsx)("b",{children:g})]}),x.length>0&&Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)("i",{className:"text-gray-400",children:"Civil status:"})," ",Object(h.jsx)("b",{children:x})]})]})]})})]})},g=function(e){var t=e.categories,r=e.sub_categories,s=e.selected_category,l=e.selected_sub_category,a=e.SelectCategoty,i=e.SelectSubCategory,c=e.total_documents,o=[];return null!==s&&(o=r.filter((function(e){return e.category_id===s.user_detail_category_id}))),Object(h.jsxs)("div",{className:" bg-white- shadow- rounded p-2-",children:[Object(h.jsx)("h2",{className:"text-xl font-bold text-gray-500 mb-2",children:"Categories"}),Object(h.jsxs)("div",{className:"mt-1",children:[Object(h.jsxs)("button",{onClick:function(){return a(null)},className:"p-2 rounded  w-full text-left  flex items-center ".concat(null===s?"bg-blue-700 text-white":"bg-blue-200 text-blue-800 hover:bg-blue-600 hover:text-white"," mb-1  font-bold"),children:[Object(h.jsx)("span",{className:"flex-1",children:"All"}),c>=1&&Object(h.jsx)("b",{className:"border border-white text-white bg-blue-600 py-0.5 -my-0.5 px-2 rounded-full text-sm",children:c})]}),t.map((function(e,t){return Object(h.jsxs)(n.Fragment,{children:[Object(h.jsxs)("button",{onClick:function(){return a(e)},className:"p-2 rounded  w-full text-left flex items-center ".concat((null===s||void 0===s?void 0:s.user_detail_category_id)===e.user_detail_category_id?"bg-blue-700 text-white":"bg-blue-200 text-blue-800 hover:bg-blue-600 hover:text-white"," mb-1  font-bold"),children:[Object(h.jsx)("span",{className:"flex-1",children:e.title}),e.count>=1&&Object(h.jsx)("b",{className:"border border-white text-white bg-blue-600 py-0.5 -my-0.5 px-2 rounded-full text-sm",children:e.count})]}),(null===s||void 0===s?void 0:s.user_detail_category_id)===e.user_detail_category_id&&o.length>=1&&Object(h.jsxs)("div",{className:"ml-4 mb-3",children:[Object(h.jsx)("button",{onClick:function(){return i(null)},className:" ".concat(null===l?"bg-blue-500 mb-1  text-white":"bg-blue-100 mb-1 hover:bg-blue-300 text-blue-800"," py-1 px-2 rounded block w-full text-left  font-bold"),children:"All"}),o.map((function(e,t){return Object(h.jsx)("button",{onClick:function(){return i(e)},className:" ".concat((null===l||void 0===l?void 0:l.user_detail_subcategory_id)===e.user_detail_subcategory_id?"bg-blue-500 mb-1  text-white":"bg-blue-100 mb-1 hover:bg-blue-300 text-blue-800"," py-1 px-2 rounded block w-full text-left  font-bold"),children:e.title},t)}))]})]},t)}))]})]})},x=function(e){var t,r=e.doc,s=e.category,l=e.sub_category,a=e.close,i=e.categories,c=e.sub_categories,n=e.Delete,o=(e.Update,s),d=l;if(null===s){var u=i.find((function(e){return e.user_detail_category_id===r.category_id}));o=void 0===u?null:u}if(null===l&&void 0!==r.sub_category_id&&r.sub_category_id.length>=1){var m=c.find((function(e){return e.user_detail_subcategory_id===r.sub_category_id}));d=void 0===m?null:m}return Object(h.jsx)("div",{className:"fixed   top-2 right-0 left-0 bottom-2 z-50  w-full  max-w-screen-md  max-w-screen-lg- h-auto m-auto",children:Object(h.jsxs)("div",{className:"max-h-screen bg-white  overflow-auto pb-4",children:[Object(h.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(h.jsx)("div",{className:"flex-1",children:Object(h.jsxs)("h4",{className:"text-xl m-0 text-bold text-gray-700",children:[null===(t=o)||void 0===t?void 0:t.title," ",null!==d&&" - "+d.title]})}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("button",{className:"p-1 rounded-full  bg-red-400 text-white",onClick:function(){return a()},children:Object(h.jsx)(b.o,{})})})]}),void 0!==r.files&&r.files.length>1&&Object(h.jsx)("div",{className:"bg-gray-900 w-full p-1",children:Object(h.jsx)("img",{src:r.files,alt:"Document file details",className:"w-full rounded"})}),Object(h.jsxs)("div",{className:"p-3 ",children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsxs)("div",{className:"flex-1",children:[void 0!==r.approved&&Object(h.jsx)("span",{className:"text-sm bg-yellow-200 py-0.5 px-2 rounded-full text-yellow-800",children:null===r||void 0===r?void 0:r.approved}),Object(h.jsx)("h2",{className:"text-xl mt-1 mb-4 font-bold text-blue-800",children:r.title})]}),Object(h.jsx)("div",{className:"ml-1",children:Object(h.jsxs)("button",{onClick:function(){n(r.doc_id),a()},className:"py-1 rounded px-3 text-sm mb-1 block w-full bg-red-200 hover:bg-red-300 text-red-800",children:[Object(h.jsx)(b.q,{className:"inline-block"})," Delete"]})})]}),Object(h.jsxs)("div",{className:"",children:[r.description.length>=1&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b pb-3 border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"Description:"}),Object(h.jsx)("span",{className:"",children:r.description})]}),Object(h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[null!==o&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"Category:"}),Object(h.jsx)("b",{children:o.title})]}),null!==d&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"Sub category:"}),Object(h.jsx)("b",{children:d.title})]}),void 0!==r.school&&void 0!==r.school.title&&r.school.title.length>=1&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"School:"}),Object(h.jsx)("b",{children:r.school.title})]}),void 0!==r.company&&r.company.length>=1&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"Company:"}),Object(h.jsx)("b",{children:r.company})]}),void 0!==r.names&&r.names.length>=1&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"Names:"}),Object(h.jsx)("b",{children:r.names})]}),void 0!==r.email&&r.email.length>=1&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"Email:"}),Object(h.jsx)("b",{children:r.email})]}),void 0!==r.phone_number&&r.phone_number.length>=1&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"Phone Number:"}),Object(h.jsx)("b",{children:r.phone_number})]}),void 0!==r.start_year&&r.start_year.length>=1&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"Start Year:"}),Object(h.jsx)("b",{children:r.start_year})]}),void 0!==r.end_year&&r.end_year.length>=1&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"End Year:"}),Object(h.jsx)("b",{children:r.end_year})]}),void 0!==r.year&&r.year.length>=1&&Object(h.jsxs)("div",{className:"mb-2 py-1 border-b border-gray-200",children:[Object(h.jsx)("label",{className:"block text-gray-500 text-sm",children:"Year:"}),Object(h.jsx)("b",{children:r.year})]})]})]})]})]})})},p=function(e){var t=e.categories,r=e.selectCat;return Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("h1",{className:"text-3xl text-blue-700 mb-1",children:"Select category"}),Object(h.jsx)("p",{className:"text-gray-500",children:"Please select an item"}),Object(h.jsx)("div",{className:"mt-2",children:t.map((function(e){return Object(h.jsxs)("div",{className:"bg-blue-100 rounded p-2 mb-1 hover:bg-blue-200 cursor-pointer",onClick:function(){return r(e)},children:[Object(h.jsx)("h3",{className:"text-lg font-bold text-blue-800",children:e.title}),Object(h.jsx)("p",{className:"m-0 text-sm text-blue-700",children:e.description})]},e.user_detail_category_id)}))})]})},_=function(e){var t=e.sub_categories,r=e.category,s=e.selectCat;return Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsxs)("h1",{className:"text-3xl text-blue-700 mb-1",children:["Select a sub-category ",Object(h.jsx)("b",{children:null===r||void 0===r?void 0:r.title})]}),Object(h.jsx)("p",{className:"text-gray-500 ",children:"Please select an item"}),Object(h.jsx)("div",{className:"mt-2",children:t.map((function(e){return Object(h.jsxs)("div",{className:"bg-blue-100 rounded p-2 mb-1 hover:bg-blue-200 cursor-pointer",onClick:function(){return s(e)},children:[Object(h.jsx)("h3",{className:"text-lg font-bold text-blue-800",children:e.title}),Object(h.jsx)("p",{className:"m-0 text-sm text-blue-700",children:e.description})]},e.user_detail_subcategory_id)}))})]})},y=r(20),O=function(e){Object(i.a)(r,e);var t=Object(c.a)(r);function r(e){var s;return Object(l.a)(this,r),(s=t.call(this,e)).input_title=void 0,s.input_description=void 0,s.input_files=void 0,s.input_start_year=void 0,s.input_end_year=void 0,s.input_email=void 0,s.input_names=void 0,s.input_phone_number=void 0,s.input_company=void 0,s.input_year=void 0,s.input_school=void 0,s.componentDidMount=function(){(s.props.auth.document_types.categories.length<=0||s.props.auth.document_types.sub_categories.length<=0)&&s.setState({no_categories:!0})},s.selectCategoryHandler=function(e){return s.setState({category:e,sub_category:null,sub_categories_list:null===e?[]:s.props.auth.document_types.sub_categories.filter((function(t){return t.category_id===(null===e||void 0===e?void 0:e.user_detail_category_id)}))})},s.selectSubCategoryHandler=function(e){return s.setState({sub_category:e})},s.submitHandler=function(e){var t,r,l,a,i,c,n,o,d,u,b,h,m,j,v;e.preventDefault(),s.setState({error:{target:"",msg:""}});var g,x,p={category_id:null===(t=s.state.category)||void 0===t?void 0:t.user_detail_category_id,company:"",description:"",email:"",end_year:"",files:"",names:"",phone_number:"",school:{title:"",school_id:""},start_year:"",sub_category_id:void 0!==(null===(r=s.state.sub_category)||void 0===r?void 0:r.user_detail_subcategory_id)&&(null===(l=s.state.sub_category)||void 0===l?void 0:l.user_detail_subcategory_id.length)>=1?null===(a=s.state.sub_category)||void 0===a?void 0:a.user_detail_subcategory_id:"",title:"",year:"",approved:"Waiting",doc_id:""};if(void 0===(null===(i=s.input_title.current)||void 0===i?void 0:i.value))p.title="";else{var _,y;if((null===(_=s.input_title.current)||void 0===_?void 0:_.value.length)<=0)return s.setState({error:{target:"title",msg:"Please add the title"}});p.title=null===(y=s.input_title.current)||void 0===y?void 0:y.value}if(void 0===(null===(c=s.input_description.current)||void 0===c?void 0:c.value))p.description="";else{var O,f;if((null===(O=s.input_description.current)||void 0===O?void 0:O.value.length)<=0)return s.setState({error:{target:"description",msg:"Please add the description"}});p.description=null===(f=s.input_description.current)||void 0===f?void 0:f.value}if(void 0===(null===(n=s.input_school.current)||void 0===n?void 0:n.value))p.school={school_id:"",title:""};else{var N,w;if((null===(N=s.input_school.current)||void 0===N?void 0:N.value.length)<=0)return s.setState({error:{target:"school",msg:"Please add the school"}});p.school={school_id:"",title:null===(w=s.input_school.current)||void 0===w?void 0:w.value}}if(void 0===(null===(o=s.input_email.current)||void 0===o?void 0:o.value))p.email="";else{var k,C;if((null===(k=s.input_email.current)||void 0===k?void 0:k.value.length)<=0)return s.setState({error:{target:"email",msg:"Please add the email"}});p.email=null===(C=s.input_email.current)||void 0===C?void 0:C.value}if(void 0===(null===(d=s.input_names.current)||void 0===d?void 0:d.value))p.names="";else{var S,D;if((null===(S=s.input_names.current)||void 0===S?void 0:S.value.length)<=0)return s.setState({error:{target:"names",msg:"Please add the names"}});p.names=null===(D=s.input_names.current)||void 0===D?void 0:D.value}if(void 0===(null===(u=s.input_phone_number.current)||void 0===u?void 0:u.value))p.phone_number="";else{var F,H;if((null===(F=s.input_phone_number.current)||void 0===F?void 0:F.value.length)<=0)return s.setState({error:{target:"phone_number",msg:"Please add the phone_number"}});p.phone_number=null===(H=s.input_phone_number.current)||void 0===H?void 0:H.value}if(void 0===(null===(b=s.input_company.current)||void 0===b?void 0:b.value))p.company="";else{var P,R;if((null===(P=s.input_company.current)||void 0===P?void 0:P.value.length)<=0)return s.setState({error:{target:"company",msg:"Please add the company"}});p.company=null===(R=s.input_company.current)||void 0===R?void 0:R.value}if(void 0===(null===(h=s.input_year.current)||void 0===h?void 0:h.value))p.year="";else{var U,A;if((null===(U=s.input_year.current)||void 0===U?void 0:U.value.length)<=0)return s.setState({error:{target:"year",msg:"Please add the year"}});p.year=null===(A=s.input_year.current)||void 0===A?void 0:A.value}if(void 0===(null===(m=s.input_start_year.current)||void 0===m?void 0:m.value))p.start_year="";else{var Y,E;if((null===(Y=s.input_start_year.current)||void 0===Y?void 0:Y.value.length)<=0)return s.setState({error:{target:"start_year",msg:"Please add the start_year"}});p.start_year=null===(E=s.input_start_year.current)||void 0===E?void 0:E.value}if(void 0===(null===(j=s.input_end_year.current)||void 0===j?void 0:j.value))p.end_year="";else{var z,L;if((null===(z=s.input_end_year.current)||void 0===z?void 0:z.value.length)<=0)return s.setState({error:{target:"end_year",msg:"Please add the end_year"}});p.end_year=null===(L=s.input_end_year.current)||void 0===L?void 0:L.value}void 0===(null===(v=s.input_files.current)||void 0===v?void 0:v.value)?p.files="":(null===(g=s.input_files.current)||void 0===g?void 0:g.value.length)<=0?p.files="":p.files=null===(x=s.input_files.current)||void 0===x?void 0:x.value;s.setState({loading:!0}),s.props.FC_UploadUserDocument(p,s.props.auth.user.user_id,(function(e,t){var r,l,a,i,c,n,o,d,u,b,h;!0===e?(s.setState({loading:!1,success:!0}),setTimeout((function(){s.setState({success:!1})}),3e3),void 0!==(null===(r=s.input_title.current)||void 0===r?void 0:r.value)&&(s.input_title.current.value=""),void 0!==(null===(l=s.input_description.current)||void 0===l?void 0:l.value)&&(s.input_description.current.value=""),void 0!==(null===(a=s.input_files.current)||void 0===a?void 0:a.value)&&(s.input_files.current.value=""),void 0!==(null===(i=s.input_start_year.current)||void 0===i?void 0:i.value)&&(s.input_start_year.current.value=""),void 0!==(null===(c=s.input_end_year.current)||void 0===c?void 0:c.value)&&(s.input_end_year.current.value=""),void 0!==(null===(n=s.input_email.current)||void 0===n?void 0:n.value)&&(s.input_email.current.value=""),void 0!==(null===(o=s.input_names.current)||void 0===o?void 0:o.value)&&(s.input_names.current.value=""),void 0!==(null===(d=s.input_phone_number.current)||void 0===d?void 0:d.value)&&(s.input_phone_number.current.value=""),void 0!==(null===(u=s.input_company.current)||void 0===u?void 0:u.value)&&(s.input_company.current.value=""),void 0!==(null===(b=s.input_year.current)||void 0===b?void 0:b.value)&&(s.input_year.current.value=""),void 0!==(null===(h=s.input_school.current)||void 0===h?void 0:h.value)&&(s.input_school.current.value="")):s.setState({loading:!1,error:{target:"all",msg:t}})}))},s.state={loading:!1,success:!1,error:{target:"",msg:""},no_categories:!1,category:s.props.category,sub_category:s.props.sub_category,sub_categories_list:null===s.props.category?[]:s.props.auth.document_types.sub_categories.filter((function(e){var t;return e.category_id===(null===(t=s.props.category)||void 0===t?void 0:t.user_detail_category_id)}))},s.input_title=o.a.createRef(),s.input_description=o.a.createRef(),s.input_files=o.a.createRef(),s.input_start_year=o.a.createRef(),s.input_end_year=o.a.createRef(),s.input_email=o.a.createRef(),s.input_names=o.a.createRef(),s.input_phone_number=o.a.createRef(),s.input_company=o.a.createRef(),s.input_year=o.a.createRef(),s.input_school=o.a.createRef(),s}return Object(a.a)(r,[{key:"componentDidUpdate",value:function(e){var t,r,s,l,a=this;(null===e.category&&null!==this.props.category||null===e.sub_category&&null!==this.props.sub_category||(null===(t=e.sub_category)||void 0===t?void 0:t.user_detail_subcategory_id)!==(null===(r=this.props.sub_category)||void 0===r?void 0:r.user_detail_subcategory_id)||(null===(s=e.category)||void 0===s?void 0:s.user_detail_category_id)!==(null===(l=this.props.category)||void 0===l?void 0:l.user_detail_category_id))&&this.setState({category:this.props.category,sub_category:this.props.sub_category,sub_categories_list:null===this.props.category?[]:this.props.auth.document_types.sub_categories.filter((function(e){var t;return e.category_id===(null===(t=a.props.category)||void 0===t?void 0:t.user_detail_category_id)})),error:{target:"",msg:""}})}},{key:"render",value:function(){var e,t,r,s,l,a,i,c,o,d,u,m,j,v,g,x,O,f,N,w,k,C,S,D,F,H,P,R,U,A,Y,E,z,L,M,G=this,J=[];null!==this.state.category&&(J=null===(M=this.state.category)||void 0===M?void 0:M.fields.map((function(e){return e.toLowerCase()})));return!0===this.props.active?Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)("div",{className:"fixed top-0 right-0 left-0 bottom-0 z-40 bg-gray-900 opacity-50",onClick:function(){return G.props.close()}}),Object(h.jsx)("div",{className:"fixed top-0 right-0 left-0 bottom-0 z-50 bg-white-- max-w-screen-md w-2/3 h-5/6 m-auto rounded overflow-auto",children:Object(h.jsxs)("div",{className:"bg-white",children:[Object(h.jsxs)("div",{className:"py-1.5 border-b border-gray-200 rounded-t bg-white text-gray-500 font-bold px-2 flex items-center",children:[Object(h.jsx)("div",{className:"flex-1",children:Object(h.jsxs)("h2",{className:"m-0 text-3xl",children:["Add"," ",null!==this.state.category&&"(".concat(null===(e=this.state.category)||void 0===e?void 0:e.title,")")]})}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("button",{onClick:function(){return G.props.close()},className:"p-1 bg-red-200 hover:bg-red-300 text-red-800 rounded-full",children:Object(h.jsx)(b.o,{})})})]}),Object(h.jsxs)("div",{className:"px-2 py-0.5 bg-gray-100 text-xl rounded text-blue-900 font-bold",children:[Object(h.jsxs)("button",{className:"p-1 font-bold hover:underline",onClick:function(){return G.selectCategoryHandler(null)},children:["Select ",Object(h.jsx)(b.n,{className:"inline"})]}),null!==this.state.category&&Object(h.jsxs)("button",{className:"p-1 font-bold hover:underline",onClick:function(){return G.selectSubCategoryHandler(null)},children:[this.state.category.title," ",this.state.sub_categories_list.length>=1&&Object(h.jsx)(b.n,{className:"inline"})]}),null!==this.state.sub_category&&Object(h.jsxs)("button",{className:"p-1 font-bold hover:underline",children:[this.state.sub_category.title," "]})]}),null===this.state.category?Object(h.jsx)(p,{categories:this.props.auth.document_types.categories,selectCat:this.selectCategoryHandler}):this.state.sub_categories_list.length>=1&&null===this.state.sub_category?Object(h.jsx)(_,{sub_categories:this.state.sub_categories_list,category:this.state.category,selectCat:this.selectSubCategoryHandler}):Object(h.jsxs)("div",{className:"p-2",children:["all"===this.state.error.target&&Object(h.jsx)(y.b,{theme:y.a.danger,title:"Failed to add details",description:this.state.error.msg}),!0===this.state.success&&Object(h.jsx)(y.b,{theme:y.a.success,title:"Details Uploaded successfuly"}),Object(h.jsx)("form",{onSubmit:this.submitHandler,children:Object(h.jsxs)("div",{className:"bg-white",children:[!0===J.includes("title")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"title",className:"d-block",children:"Title"}),Object(h.jsx)("input",{ref:this.input_title,type:"text",name:"names",className:"input-white w-20 inline-block  ".concat("title"===(null===(t=this.state.error)||void 0===t?void 0:t.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Enter the title",disabled:this.state.loading}),"title"===(null===(r=this.state.error)||void 0===r?void 0:r.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(s=this.state.error)||void 0===s?void 0:s.msg})]}),!0===J.includes("description")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"description",className:"d-block",children:"Description"}),Object(h.jsx)("input",{ref:this.input_description,type:"text",name:"names",className:"input-white w-20 inline-block  ".concat("description"===(null===(l=this.state.error)||void 0===l?void 0:l.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Enter the description",disabled:this.state.loading}),"description"===(null===(a=this.state.error)||void 0===a?void 0:a.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(i=this.state.error)||void 0===i?void 0:i.msg})]}),!0===J.includes("school")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"school",className:"d-block",children:"School"}),Object(h.jsx)("input",{ref:this.input_school,type:"text",name:"names",className:"input-white w-20 inline-block  ".concat("school"===(null===(c=this.state.error)||void 0===c?void 0:c.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Your school",disabled:this.state.loading}),"school"===(null===(o=this.state.error)||void 0===o?void 0:o.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(d=this.state.error)||void 0===d?void 0:d.msg})]}),!0===J.includes("email")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"email",className:"d-block",children:"Email"}),Object(h.jsx)("input",{ref:this.input_email,type:"text",name:"names",className:"input-white w-20 inline-block  ".concat("email"===(null===(u=this.state.error)||void 0===u?void 0:u.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Your email",disabled:this.state.loading}),"email"===(null===(m=this.state.error)||void 0===m?void 0:m.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(j=this.state.error)||void 0===j?void 0:j.msg})]}),!0===J.includes("names")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"names",className:"d-block",children:"Names"}),Object(h.jsx)("input",{ref:this.input_names,type:"text",name:"names",className:"input-white w-20 inline-block  ".concat("names"===(null===(v=this.state.error)||void 0===v?void 0:v.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Your names",disabled:this.state.loading}),"names"===(null===(g=this.state.error)||void 0===g?void 0:g.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(x=this.state.error)||void 0===x?void 0:x.msg})]}),!0===J.includes("phone_number")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"phone_number",className:"d-block",children:"Phone number"}),Object(h.jsx)("input",{ref:this.input_phone_number,type:"text",name:"phone_number",className:"input-white w-20 inline-block  ".concat("phone_number"===(null===(O=this.state.error)||void 0===O?void 0:O.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Your phone_number",disabled:this.state.loading}),"phone_number"===(null===(f=this.state.error)||void 0===f?void 0:f.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(N=this.state.error)||void 0===N?void 0:N.msg})]}),!0===J.includes("company")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"company",className:"d-block",children:"Company"}),Object(h.jsx)("input",{ref:this.input_company,type:"text",name:"company",className:"input-white w-20 inline-block  ".concat("company"===(null===(w=this.state.error)||void 0===w?void 0:w.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"Company name",disabled:this.state.loading}),"company"===(null===(k=this.state.error)||void 0===k?void 0:k.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(C=this.state.error)||void 0===C?void 0:C.msg})]}),!0===J.includes("year")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"year",className:"d-block",children:"Year"}),Object(h.jsx)("input",{ref:this.input_year,type:"date",name:"year",className:"input-white w-20 inline-block  ".concat("year"===(null===(S=this.state.error)||void 0===S?void 0:S.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"year",disabled:this.state.loading}),"year"===(null===(D=this.state.error)||void 0===D?void 0:D.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(F=this.state.error)||void 0===F?void 0:F.msg})]}),!0===J.includes("start_year")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"start_year",className:"d-block",children:"Start year"}),Object(h.jsx)("input",{ref:this.input_start_year,type:"date",name:"start_year",className:"input-white w-20 inline-block  ".concat("start_year"===(null===(H=this.state.error)||void 0===H?void 0:H.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"start_year",disabled:this.state.loading}),"start_year"===(null===(P=this.state.error)||void 0===P?void 0:P.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(R=this.state.error)||void 0===R?void 0:R.msg})]}),!0===J.includes("end_year")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"end_year",className:"d-block",children:"End year"}),Object(h.jsx)("input",{ref:this.input_end_year,type:"date",name:"end_year",className:"input-white w-20 inline-block  ".concat("end_year"===(null===(U=this.state.error)||void 0===U?void 0:U.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"end_year",disabled:this.state.loading}),"end_year"===(null===(A=this.state.error)||void 0===A?void 0:A.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(Y=this.state.error)||void 0===Y?void 0:Y.msg})]}),!0===J.includes("files")&&Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{htmlFor:"files",className:"d-block",children:"Files"}),Object(h.jsx)("input",{ref:this.input_files,type:"file",name:"files",className:"input-white w-20 inline-block  ".concat("files"===(null===(E=this.state.error)||void 0===E?void 0:E.target)?"border-red-500 border-2":"border-gray-500 border-2"),placeholder:"files",disabled:this.state.loading}),"files"===(null===(z=this.state.error)||void 0===z?void 0:z.target)&&Object(h.jsx)("span",{className:"text-red-600",children:null===(L=this.state.error)||void 0===L?void 0:L.msg})]}),Object(h.jsx)("div",{className:"p-2  text-right",children:Object(h.jsx)("button",{className:"py-2 font-bold  px-8 rounded bg-hero text-white inline-block",disabled:this.state.loading,type:"submit",children:!0===this.state.loading?"Loading...":"Save document"})})]})})]})]})})]}):null}}]),r}(o.a.Component);O.defaultProps={category:null,sub_category:null};var f=Object(d.b)((function(e){return{auth:e.auth}}),{FC_UploadUserDocument:u.y})(O),N=function(e){Object(i.a)(r,e);var t=Object(c.a)(r);function r(e){var s;return Object(l.a)(this,r),(s=t.call(this,e)).componentDidMount=function(){s.setState({loading:!0}),s.props.FC_GetProfileDetails(s.props.auth.user.user_id,(function(e,t){!0===e?s.setState({loading:!1}):s.setState({loading:!1,error:{msg:t,target:"all"}})}))},s.categoryHandler=function(e){return s.setState({selected_category:e,selected_sub_category:null})},s.subCategoryHandler=function(e){return s.setState({selected_sub_category:e})},s.selectDocHandler=function(e){s.setState({selected_doc:e})},s.addNewDocHandler=function(){return s.setState((function(e){return{create_new_doc:!e.create_new_doc}}))},s.deleteDocHandler=function(e){!0===window.confirm("Are you sure you want to delete?")&&s.props.FC_DeleteDocument({doc_id:e,user_id:s.props.auth.user.user_id},(function(e,t){!0===e?console.log("Success"):s.setState({error:{target:"all",msg:""}})}))},s.updateDocHandler=function(e){console.log("Update: ",e)},s.state={loading:!1,selected_category:null,selected_sub_category:null,selected_doc:null,create_new_doc:!1,error:{target:"",msg:""}},s}return Object(a.a)(r,[{key:"render",value:function(){var e=this,t=this.props.auth,r=t.user,l=t.document_types,a=l.categories,i=l.sub_categories,c=t.documents,o=a.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{count:c.filter((function(t){return t.category_id===e.user_detail_category_id})).length})}));return!0===this.state.loading?Object(h.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading profile..."}):Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)(f,{active:this.state.create_new_doc,close:this.addNewDocHandler,category:this.state.selected_category,sub_category:this.state.selected_sub_category}),null!==this.state.selected_doc&&Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)("div",{className:"fixed top-0 right-0 left-0 bottom-0 z-40 bg-gray-900 opacity-50",onClick:function(){return e.selectDocHandler(null)}}),Object(h.jsx)(x,{category:this.state.selected_category,sub_category:this.state.selected_sub_category,doc:this.state.selected_doc,categories:a,sub_categories:i,close:function(){return e.selectDocHandler(null)},Update:this.updateDocHandler,Delete:this.deleteDocHandler})]}),Object(h.jsxs)("div",{className:"container mx-auto px-2",children:[Object(h.jsx)(v,{user:r}),Object(h.jsxs)("div",{className:"mt-3 grid lg:grid-cols-5 gap-4  pt-2",children:[Object(h.jsx)(g,{categories:o,sub_categories:i,selected_category:this.state.selected_category,selected_sub_category:this.state.selected_sub_category,SelectCategoty:this.categoryHandler,SelectSubCategory:this.subCategoryHandler,total_documents:c.length}),Object(h.jsx)(m,{documents:c,selected_category:this.state.selected_category,selected_sub_category:this.state.selected_sub_category,selectDoc:this.selectDocHandler,addNewDoc:this.addNewDocHandler,categories:a,sub_categories:i})]})]})]})}}]),r}(o.a.Component),w=Object(d.b)((function(e){return{auth:e.auth}}),{FC_GetProfileDetails:u.n,FC_DeleteDocument:u.k})(N)}}]);
//# sourceMappingURL=5.08407729.chunk.js.map