(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[11],{641:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return l}));var r=function(e){return null===e||null!==e.match(/^ *$/)},a=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},c=function(e,t){return e.find((function(e){return e.education_institute_id===t}))},s=function(e,t){return e.find((function(e){return e.position_id===t}))},o=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Array(t+1).join("0");return(n+e).slice(-t)},l=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},646:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return x}));var r=n(25),a=n(24),c=n(27),s=n(26),o=n(4),i=n.n(o),l=n(20),u=n(3),d=n(10),b=n(1),p=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){return a.props.PageHasSubNav(!0)},a.componentWillUnmount=function(){return a.props.PageHasSubNav(!1)},a.state={loading:!1},a}return Object(a.a)(n,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(b.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),n}(i.a.Component),f=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:u.rb,PageHasSubNav:u.sb})(p),x=function(e){var t=e.title,n=void 0===t?"":t,r=e.icon,a=void 0===r?d.m:r,c=e.active,s=void 0!==c&&c,o=e.count,i=void 0===o?0:o,l=a;return Object(b.jsxs)("section",{className:"".concat(!0===s?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(b.jsxs)("section",{className:"flex-1",children:[Object(b.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(b.jsx)("span",{children:n})]}),i>0?Object(b.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:i}):null]})}},647:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return j})),n.d(t,"n",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return O})),n.d(t,"m",(function(){return S})),n.d(t,"d",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"i",(function(){return N}));var r=n(5),a=n.n(r),c=n(7),s=n(8),o=n.n(s),i=n(6),l=n(9),u=n(15),d=n(14),b=function(e){return e(!0,""),function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,o.a.get("".concat(l.a.CLAIMING,"/session-type"));case 4:r=t.sent,console.log({GET_PLANS_TYPES:r.data}),c=[],200===r.status&&null!==r.data&&r.data.length>0&&(c=r.data),n({type:i.a.GET_PLANS_TYPES,payload:c}),e(!1,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error({error:Object(d.a)(t.t0)}),e(!1,Object(d.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return console.log({thisType:e}),{type:i.a.SELECT_PLAN_TYPE,payload:e}},f=function(e){return e(!0,""),function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,o.a.get("".concat(l.a.CLAIMING,"/session/active/"));case 4:r=t.sent,console.log({GET_ACTIVE_SESSION_PLANS:r.data}),c=void 0,r.data&&void 0!==r.data.is_active&&(c=r.data),console.log({session_plan:r.data}),n({type:i.a.GET_ACTIVE_SESSION_PLANS,payload:c||"none"}),e(!1,"",c||"none"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error({error:Object(d.a)(t.t0)}),e(!1,Object(d.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return e(!0,""),function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,o.a.get("".concat(l.a.CLAIMING,"/session/"));case 4:r=t.sent,console.log({GET_ALL_SESSION_PLANS:r.data}),c=[],200===r.status&&null!==r.data&&r.data.length>0&&(c=r.data),n({type:i.a.GET_ALL_SESSION_PLANS,payload:c}),e(!1,"",c),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error({error:Object(d.a)(t.t0)}),e(!1,Object(d.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return{type:i.a.CREATE_SESSION_PLAN,payload:e}},h=function(e){return{type:i.a.UPDATE_SESSION_PLAN,payload:e}},m=function(e){return{type:i.a.SESSION_ACTIVATION,payload:e}},g=function(e){return{type:i.a.DELETE_SESSION_PLAN,payload:e}},v=function(e){return{type:i.a.CREATE_ACADEMIC_SESSION,payload:e}},O=function(e){return e(!0,""),function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,o.a.get("".concat(l.a.PLACEMENT,"/postrequestperiod/"));case 4:r=t.sent,console.log({GET_ALL_SESSION_PLANS:r.data}),c=[],200===r.status&&null!==r.data&&r.data.length>0&&(c=r.data),console.log("===================================="),console.log({GetAllAcademicSession:r}),console.log("===================================="),n({type:i.a.GET_ALL_ACADEMIC_SESSION,payload:c}),e(!1,"",c),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.error({error:Object(d.a)(t.t0)}),e(!1,Object(d.a)(t.t0));case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return{type:i.a.UPDATE_ACADEMIC_SESSION,payload:e}},y=function(e){return{type:i.a.ACADEMIC_SESSION_ACTIVATION,payload:e}},_=function(e){return{type:i.a.DELETE_ACADEMIC_SESSION,payload:e}},N=function(e){return e(!0,""),function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,o.a.get("".concat(l.a.PLACEMENT,"/postrequestperiod/one"));case 4:r=t.sent,console.log({GET_ACTIVE_ACADEMIC_SESSION:r.data}),c=void 0,r.data&&(c=r.data),console.log({session_plan:r.data}),n({type:i.a.GET_ACTIVE_ACADEMIC_SESSION,payload:c||"none"}),e(!1,"",c||"none"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error({error:Object(d.a)(t.t0)}),e(!1,Object(d.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}},668:function(e,t,n){"use strict";n(4);var r=n(747),a=n(748),c=n(38),s=n(1);t.a=function(e){var t=e.fileData,n=e.fileName,o=e.btnName,i=void 0===o?"Excel":o,l=e.className,u=void 0===l?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":l,d=e.showIcon,b=void 0===d||d;return Object(s.jsxs)("button",{onClick:function(e){return function(e,t){var n={Sheets:{data:a.utils.json_to_sheet(e)},SheetNames:["data"]},c=a.write(n,{bookType:"xlsx",type:"array"}),s=new Blob([c],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});r.saveAs(s,t+".xlsx")}(t,n)},className:u,children:[b&&Object(s.jsx)(c.j,{}),i]})}},673:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(5),a=n.n(r),c=n(7),s=n(731),o=n(47),i=n.p+"static/media/mineduc.11a9ae1c.png";n(746);var l=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var n=1;n<=t;n++)e.setPage(n),e.text("Page "+String(n)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},u=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,u,d,b,p,f,x,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r(!0),c=t.orientation?t.orientation:"p",u=20,20,185,(d=new s.default(c,"mm","a4")).setTextColor(95,95,95),d.setFontSize(28),d.addImage(i,"png",20,20,10,10),d.text("MINEDUC",32,28.5,void 0,"left"),d.setFontSize(26),d.text(t.title,d.internal.pageSize.getWidth()/2,42.7,void 0,"center"),d.setFontSize(20),d.text(t.institute,d.internal.pageSize.getWidth()/2,53.7,void 0,"center"),b=d.splitTextToSize(t.subject,145),d.setFontSize(16),p=63,d.setTextColor(95,95,95),d.text("".concat(t.subjectTitle,": "),u,p),f=d.getTextWidth("".concat(t.subjectTitle,": ")),d.setTextColor(38,38,38),x=0;x<b.length;x++)p>280&&(p=10,d.addPage()),d.text(b[x],u+f,p),p+=7;return d.setTextColor(95,95,95),d.text("Period: ",u,p+3),f=d.getTextWidth("Period: "),d.setTextColor(38,38,38),d.text(t.period,u+f,p+3),d.autoTable({html:n,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),d.setFontSize(12),j=d.lastAutoTable.finalY,d.text("Reported by: ".concat(t.doneBy),u,j+15),d.text("Report downloaded on "+Object(o.a)((new Date).toString()),u,j+23),l(d),e.next=35,d.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"),{returnPromise:!0}).then(r(!1));case 35:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},682:function(e,t,n){"use strict";var r=n(17),a=n(11),c=n(40),s=n(4),o=n.n(s),i=n(10),l=n(32),u=n(19),d=n(47),b=n(42),p=n(1),f=function(e){var t,n=new Date,r=[],s=Object(c.a)(e);try{for(s.s();!(t=s.n()).done;){var o=t.value,i=new Date(o.start_date),l=new Date(o.end_date);i.getTime()<=n.getTime()&&l.getTime()>=n.getTime()&&o.type_status===u.j.OPEN&&(r=[].concat(Object(a.a)(r),[o]))}}catch(d){s.e(d)}finally{s.f()}return r},x=function(e){var t,n,a=Object(s.useState)(null),c=Object(r.a)(a,2),o=c[0],u=c[1],x=Object(s.useState)(""),j=Object(r.a)(x,2),h=j[0],m=j[1];return Object(p.jsxs)("div",{className:"",children:[Object(p.jsx)("div",{className:"px-3",children:Object(p.jsx)("input",{onChange:function(e){return m(e.target.value)},type:"text",className:"py-3 px-4 w-full rounded border border-gray-400 mb-3",placeholder:"Search by year, name",disabled:null===e.allSession||0===e.allSession.length})}),Object(p.jsx)("div",{className:"bg-gray-100 px-3 pt-3 pb-2 rounded-b",children:null===e.allSession?Object(p.jsx)(l.a,{}):0===e.allSession.length?Object(p.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center mb-2 bg-white py-4",children:[Object(p.jsx)(i.Bb,{className:"text-6xl"}),Object(p.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(p.jsx)("span",{children:"No session found!"})})]}):Object(p.jsxs)("section",{children:[e.chooseAll&&Object(p.jsxs)("div",{className:"rounded border ".concat("all"===e.currentSelected?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2 flex flex-col md:flex-row items-start md:items-center md:justify-between"),children:[Object(p.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"===e.currentSelected?Object(p.jsx)(i.t,{className:"text-blue-500 text-4xl"}):Object(p.jsx)(i.rb,{className:"text-gray-300 text-4xl"}),Object(p.jsx)("div",{className:"flex flex-col",children:Object(p.jsx)("div",{className:"text-gray-600 font-bold",children:"All session"})})]}),Object(p.jsx)("div",{onClick:function(){e.setSelectSession("all")},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"})]}),(t=e.allSession,n=h,Object(b.a)(t,n)).map((function(t,n){return Object(p.jsxs)("div",{className:"rounded border ".concat("all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2"),children:[Object(p.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between ",children:[Object(p.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?Object(p.jsx)(i.t,{className:"text-blue-500 text-4xl"}):Object(p.jsx)(i.rb,{className:"text-gray-300 text-4xl"}),Object(p.jsxs)("div",{className:"flex flex-col",children:[Object(p.jsx)("div",{className:"".concat("all"!==e.currentSelected&&e.currentSelected.session_plan_id===t.session_plan_id?"text-blue-600":"text-gray-600"," font-bold"),children:t.session_plan_name}),Object(p.jsxs)("div",{className:"text-sm text-gray-500",children:[Object(p.jsx)("span",{children:"Status: "}),Object(p.jsx)("span",{className:"".concat(!0===t.is_active?"text-gray-900 font-bold underline":"text-gray-500 italic"),children:!0===t.is_active?"Active":"Expired"})]})]})]}),Object(p.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(null===o||o.session_plan_id!==t.session_plan_id)&&Object(p.jsx)("div",{onClick:function(){return u(t)},className:"bg-gray-50 group-hover:bg-blue-100 font-semibold text-gray-400 group-hover:text-blue-600 rounded px-3 py-2 cursor-pointer",children:"Details"}),Object(p.jsx)("div",{onClick:function(){e.setSelectSession(t)},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"}),null!==o&&o.session_plan_id===t.session_plan_id&&Object(p.jsx)("div",{onClick:function(){return u(null)},className:"bg-red-100 group-hover:bg-red-200 font-semibold text-red-600 group-hover:text-red-800 rounded px-3 py-2 cursor-pointer",children:"Close"})]})]}),null!==o&&o.session_plan_id===t.session_plan_id&&Object(p.jsx)("div",{className:"bg-white rounded border border-blue-50 mt-2 animate__animated animate__fadeIn",children:Object(p.jsxs)("table",{className:"w-full",children:[Object(p.jsx)("thead",{className:"bg-blue-50",children:Object(p.jsxs)("tr",{className:"text-left",children:[Object(p.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(p.jsx)("th",{children:"Plan"}),Object(p.jsx)("th",{children:"Start date"}),Object(p.jsx)("th",{children:"Ending date"}),Object(p.jsx)("th",{children:"Status"})]})}),Object(p.jsx)("tbody",{className:"text-sm",children:null!==o&&o.session_plan_id===t.session_plan_id&&o.plans.length>0&&t.plans.map((function(e,n){return Object(p.jsxs)("tr",{className:"".concat(void 0!==f(t.plans).find((function(t){return t.type_key===e.type_key}))?"bg-blue-100 text-blue-600 font-bold":""," text-left border-b border-blue-50"),children:[Object(p.jsx)("td",{className:"px-3 py-1",children:n+1}),Object(p.jsx)("td",{children:e.type_title}),Object(p.jsx)("td",{children:Object(d.a)(e.start_date,"DD/MM/YYYY")}),Object(p.jsx)("td",{children:Object(d.a)(e.end_date,"DD/MM/YYYY")}),Object(p.jsx)("td",{children:e.type_status})]},n+1)}))})]})})]},n+1)}))]})})]})};t.a=o.a.memo(x)},732:function(e,t){},749:function(e,t){},750:function(e,t){}}]);
//# sourceMappingURL=11.e504ecda.chunk.js.map