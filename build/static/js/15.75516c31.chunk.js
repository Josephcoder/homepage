(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[15],{185:function(e,t,s){},186:function(e,t,s){"use strict";s.d(t,"g",(function(){return n})),s.d(t,"h",(function(){return i})),s.d(t,"i",(function(){return d})),s.d(t,"f",(function(){return l})),s.d(t,"e",(function(){return b.d})),s.d(t,"d",(function(){return b.b})),s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return c})),s.d(t,"c",(function(){return a}));s(185);var r,c,a,o,n=function(e,t){var s;return void 0===(null===(s=t.find((function(t){return t.category_id===e.category.user_detail_category_id})))||void 0===s?void 0:s.category_id)?e.category.user_detail_category_id:null},i=function(e,t){var s=[];if(e.position_requirement.length>0){var r=function(r){var c,a=null===(c=t.find((function(t){return t.category_subcategory_data&&t.category_subcategory_data.category_subcategory_Data_id===e.position_requirement[r]._id})))||void 0===c?void 0:c.category_subcategory_data;void 0!==a&&null!==a||!0!==e.position_requirement[r].required||s.push({category_subcat_id:e.position_requirement[r]._id,category_id:e.category.user_detail_category_id,user_detail_subcategory_id:e.subcategory.user_detail_subcategory_id})};for(var c in e.position_requirement)r(c)}return s},d=function(e,t){var s=[];if(e.position_requirement.length>0){var r=function(r){var c,a=null===(c=t.find((function(t){return t.category_subcategory_data&&t.category_subcategory_data.category_subcategory_Data_id===e.position_requirement[r]._id})))||void 0===c?void 0:c.category_subcategory_data;void 0!==a&&null!==a||!1!==e.position_requirement[r].required||s.push({category_subcat_id:e.position_requirement[r]._id,category_id:e.category.user_detail_category_id,user_detail_subcategory_id:e.subcategory.user_detail_subcategory_id})};for(var c in e.position_requirement)r(c)}return s},l=function(e,t){var s=!0;for(var r in e)0===e[r].position_requirement.length?null!==e[r]&&null!==t&&null!==n(e[r],t)&&void 0!==n(e[r],t)&&(s=!1):0!==i(e[r],t).length&&(s=!1);return s},b=s(85);!function(e){e.Waiting="waiting",e.Rejected="rejected",e.Approved="approved"}(r||(r={})),function(e){e.USER_CONNECTED="user-connected",e.USER_DISCONNECTED="user-disconnected",e.JOIN_ROOM="join-room",e.UPDATED_ROOM_LIST="UPDATED_ROOM_LIST"}(c||(c={})),function(e){e.START_EXAM_CLIENT="START_EXAM_CLIENT",e.START_EXAM_SERVER="START_EXAM_SERVER",e.STOP_EXAM_CLIENT="STOP_EXAM_CLIENT",e.STOP_EXAM_SERVER="STOP_EXAM_SERVER",e.CAND_EVENT_CLIENT="CAND_EVENT_CLIENT",e.CAND_EVENT_SERVER="CAND_EVENT_SERVER",e.CAND_CONTINUE_EXAM_SERVER="CAND_CONTINUE_EXAM_SERVER",e.CAND_CONTINUE_EXAM_CLIENT="CAND_CONTINUE_EXAM_CLIENT",e.CAND_STOP_EXAM_CLIENT="CAND_STOP_EXAM_CLIENT",e.CAND_STOP_EXAM_SERVER="CAND_STOP_EXAM_SERVER",e.CAND_RESTART_EXAM_CLIENT="CAND_RESTART_EXAM_CLIENT",e.CAND_RESTART_EXAM_SERVER="CAND_RESTART_EXAM_SERVER",e.ALL_CAND_RESTART_EXAM_CLIENT="ALL_CAND_RESTART_EXAM_CLIENT",e.ALL_CAND_RESTART_EXAM_SERVER="ALL_CAND_RESTART_EXAM_SERVER",e.CAND_WARNING_EXAM_CLIENT="CAND_WARNING_EXAM_CLIENT",e.CAND_WARNING_EXAM_SERVER="CAND_WARNING_EXAM_SERVER",e.CAND_BRODCAST_MSG_CLIENT="CAND_BRODCAST_MSG_CLIENT",e.CAND_BRODCAST_MSG_SERVER="CAND_BRODCAST_MSG_SERVER",e.CAND_PRIVATE_MSG_CLIENT="CAND_PRIVATE_MSG_CLIENT",e.CAND_PRIVATE_MSG_SERVER="CAND_PRIVATE_MSG_SERVER",e.CAND_EXAM_EVENT_CLIENT="CAND_EXAM_EVENT_CLIENT",e.CAND_EXAM_EVENT_SERVER="CAND_EXAM_EVENT_SERVER"}(a||(a={})),function(e){e.PASTE_A_TEXT="PASTE A TEXT",e.MOVE_MOUSE_OUT="MOVE MOUSE OUT WINDOW"}(o||(o={}))},223:function(e,t,s){"use strict";s.r(t),s.d(t,"ProctoringCenter",(function(){return S}));var r,c=s(28),a=s(29),o=s(31),n=s(30),i=s(2),d=s.n(i),l=s(22),b=s(6),m=s(12),x=s(7),j=s(1),u=function(e){var t=e.course_title,s=e.post_title,r=e.duration,c=e.started_at,a=e.end_at,o=e.exam_start,n=e.startExamHandler,d=e.stopExamHandler,l=e.focus_mode,m=e.focusToggle,x=e.leaveRoom;return Object(j.jsxs)("div",{className:"".concat(!0===l?"border-blue-500 border-opacity-30 text-white proctoring-evaluator-navigation":"bg-white rounded-t-sm"," py-2 px-3 border-b  grid grid-flow-row md:grid-cols-1 lg:grid-cols-2 transition-all ease-in-out"),children:[Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("button",{onClick:function(){return m()},className:"px-2 ".concat(!0===l?"bg-blue-900 hover:bg-blue-500 ":"bg-blue-100 hover:bg-blue-500 "," mr-2  rounded-md  hover:text-white"),children:!0===l?Object(j.jsxs)(i.Fragment,{children:[Object(j.jsx)(b.K,{className:"text-3xl mx-auto -mb-2"}),Object(j.jsx)("span",{className:"text-xs inline-block pt-1",children:"Un-Focus"})]}):Object(j.jsxs)(i.Fragment,{children:[Object(j.jsx)(b.J,{className:"text-3xl mx-auto -mb-2"}),Object(j.jsx)("span",{className:"text-xs inline-block pt-1",children:"Focus"})]})}),Object(j.jsxs)("div",{className:"",children:[Object(j.jsx)("label",{htmlFor:"",className:"".concat(!0===l?"text-gray-200":""," text-sm m-0"),children:s}),Object(j.jsx)("h3",{className:"text-white- text-xl  font-bold",children:t})]})]}),Object(j.jsx)("div",{className:"text-red lg:pt-0 sm:pt-3 text-right md:text-left lg:text-right",children:Object(j.jsxs)("div",{className:"grid grid-cols-5 gap-4 text-left",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"text-gray-400 text-sm",children:"Duration"}),Object(j.jsx)("h2",{className:"text-xl font-bold",children:r})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"text-gray-400 text-sm",children:"Started at:"}),Object(j.jsx)("h2",{className:"text-xl font-bold",children:c})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"text-gray-400 text-sm",children:"End at"}),Object(j.jsx)("h2",{className:"text-xl font-bold",children:a})]}),Object(j.jsx)("div",{className:"flex items-center",children:!1===o&&Object(j.jsx)("button",{onClick:function(){return window.confirm("Are you sure you want to leave the room??")&&x()},className:"btn bg-red-100 text-red-900 w-full hover:bg-red-500 hover:text-white",title:"Start Exam",children:"Leave"})}),Object(j.jsx)("div",{className:"flex items-center",children:!1===o?Object(j.jsx)("button",{onClick:function(){return n()},className:"btn bg-green-500 text-white w-full",title:"Start Exam",children:"Start"}):Object(j.jsx)("button",{onClick:function(){return d()},className:"btn bg-red-600 text-white w-full",title:"stop Exam",children:"Stop"})})]})})]})},p=function(e){var t=e.total,s=e.active,r=e.done,c=e.left,a=e.focus_mode;return Object(j.jsxs)("div",{className:"grid grid-col-4 grid-flow-col gap-4 p-2 ".concat(!0===a?"bg-blue-900 text-gray-300":"bg-white"," rounded-md m-2 text-center w-90"),children:[Object(j.jsxs)("div",{title:"Total candite(s)",children:[Object(j.jsx)("h1",{className:"text-2xl font-bold -mb-1 p-0",children:t}),Object(j.jsx)("label",{htmlFor:"",className:"text-sm -mt-2",children:"Total"})]}),Object(j.jsxs)("div",{title:"Active candite(s)",children:[Object(j.jsx)("h1",{className:"text-2xl font-bold -mb-1 p-0",children:s}),Object(j.jsx)("label",{htmlFor:"",className:"text-sm -mt-2",children:"Active"})]}),Object(j.jsxs)("div",{title:"Candite(s) who done exam",children:[Object(j.jsx)("h1",{className:"text-2xl font-bold -mb-1 p-0",children:r}),Object(j.jsx)("label",{htmlFor:"",className:"text-sm -mt-2",children:"Done"})]}),Object(j.jsxs)("div",{title:"Candite(s) who left unfinished",children:[Object(j.jsx)("h1",{className:"text-2xl font-bold -mb-1 p-0",children:c}),Object(j.jsx)("label",{htmlFor:"",className:"text-sm -mt-2",children:"Left"})]})]})},_=s(3),h=function(e){var t=e.events,s=(e.clickOpen,e.clickHandler,e.candidates);e.focus_mode;return Object(j.jsxs)("div",{className:"mt-2 p-2 rounded-md bg-gray-900 text-white",children:[Object(j.jsx)("h1",{className:"text-xl",children:"Events"}),Object(j.jsxs)("table",{className:"w-full text-left",children:[Object(j.jsx)("thead",{className:"text-sm text-gray-500",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"username"}),Object(j.jsx)("th",{children:"Event type"}),Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Time"})]})}),Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"James"}),Object(j.jsx)("th",{children:"COPY_EXAM"}),Object(j.jsx)("th",{children:"PASTE EXAM"}),Object(j.jsx)("th",{children:"Time"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"username"}),Object(j.jsx)("th",{children:"Event type"}),Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Time"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"username"}),Object(j.jsx)("th",{children:"Event type"}),Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Time"})]}),t.map((function(e,t){var r=s.find((function(t){return t.user_id===e.user_id}));return void 0===r?null:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{className:"text-blue-500 font-bold",title:r.fname+" "+r.lname,children:r.lname}),Object(j.jsx)("td",{className:"text-red-400 text-sm pl-1",children:e.event_type}),Object(j.jsx)("td",{className:"text-red-600 text-sm",children:e.description}),Object(j.jsx)("td",{className:"text-gray-400 pl-1",children:"2min"})]},t)}))]})]})]})},g=void 0;!function(e){e[e.Details=0]="Details",e[e.Events=1]="Events"}(r||(r={}));var O,N=function(e){var t=e.candidate,s=e.chatHandler,c=e.micHandler,a=e.focusHandler,o=e.stopHandler,n=e.restartHandler,d=e.warnHandler,l=e.closeHandler,m=e.events,x=e.home_proctoring,u=e.exam_started,p=e.focus_mode,O=Object(i.useState)(r.Details),N=Object(_.a)(O,2),f=N[0],E=N[1];return void 0===t?Object(j.jsxs)("div",{className:"p-4 text-center bg-white",children:[Object(j.jsx)("h1",{className:"text-3xl text-gray-800",children:"Opps!!"}),Object(j.jsxs)("p",{className:"text-3xl text-gray-700",children:["The selected candidate can't be found"," "]})]}):Object(j.jsxs)("div",{className:"p-1",children:[Object(j.jsxs)("div",{className:"p-2 border-rounded ".concat(!0===p?"bg-blue-900 text-white":"bg-gray-500 text-white","  rounded-md flex items-baseline "),children:[Object(j.jsx)("button",{onClick:function(){return l()},className:"p-1 block bg-blue-900 bg-opacity-70 rounded-md mr-2 font-bold text-1xl",children:Object(j.jsx)(b.e,{})}),Object(j.jsx)("h3",{className:"text-center -mt-1 mb-0 pb-0 text-1xl font-bold block text-blue-500--",children:"User details"})]}),Object(j.jsxs)("div",{className:"p-2 text-center",children:[Object(j.jsx)(b.a,{className:"text-9xl text-center mx-auto"}),Object(j.jsx)("h1",{className:"text-xl  ".concat(!0===p?"text-white":"text-gray-800"," font-bold"),children:t.email}),Object(j.jsxs)("h2",{className:" ".concat(!0===p?"text-gray-400":"text-gray-800","  text-md"),children:[t.fname," ",t.lname]})]}),Object(j.jsx)("div",{className:"my-2 py-1 rounded grid grid-cols-3 gap-1",children:!0===u&&!1===t.active&&Object(j.jsxs)(j.Fragment,{children:[!0===x&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("button",{onClick:c.bind(g,t.user_id),className:"proctoring-action-button",children:[Object(j.jsx)(b.zb,{className:"text-2xl mx-auto b-0 pb-0"}),Object(j.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Mic"})]}),Object(j.jsxs)("button",{onClick:s.bind(g,t.user_id),className:"proctoring-action-button",children:[Object(j.jsx)(b.p,{className:"text-2xl mx-auto b-0 pb-0"}),Object(j.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Chat"})]}),Object(j.jsxs)("button",{onClick:a.bind(g,t.user_id),className:"proctoring-action-button",children:[Object(j.jsx)(b.J,{className:"text-2xl mx-auto b-0 pb-0"}),Object(j.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Focus"})]})]}),Object(j.jsxs)("button",{onClick:o.bind(g,t.user_id),className:"proctoring-action-button",children:[Object(j.jsx)(b.cb,{className:"text-2xl mx-auto b-0 pb-0"}),Object(j.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Stop"})]}),Object(j.jsxs)("button",{onClick:n.bind(g,t.user_id),className:"proctoring-action-button",children:[Object(j.jsx)(b.nb,{className:"text-2xl mx-auto b-0 pb-0"}),Object(j.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Restart"})]}),Object(j.jsxs)("button",{title:"give a warning",onClick:function(){return d(t.user_id)},className:"proctoring-action-button",children:[Object(j.jsx)(b.Ab,{className:"text-2xl mx-auto b-0 pb-0"}),Object(j.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Warn"})]})]})}),Object(j.jsxs)("div",{className:"my-1 bg-blue-900 bg-opacity-40 rounded-md p-1 mt-2 grid grid-cols-2 gap-2 text-sm",children:[Object(j.jsx)("button",{onClick:function(){return E(r.Details)},className:"p-1 rounded-md text-white ".concat(f===r.Details?"bg-blue-700 border-2 border-blue-300":"bg-blue-900"),children:"candidate"}),Object(j.jsx)("button",{onClick:function(){return E(r.Events)},className:"p-1 rounded-md text-white ".concat(f===r.Events?"bg-blue-700 border-2 border-blue-300":"bg-blue-900"),children:"Events"})]}),f===r.Details?Object(j.jsxs)("div",{className:"mt-2 ".concat(!0===p?"text-white":"text-gray-900"," border-blue-400"),children:[Object(j.jsx)("h2",{className:" font-bold text-xl mb-1",children:"User information"}),Object(j.jsxs)("div",{className:"p-2 rounded-md border   border-opacity-20",children:[Object(j.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===p?"border-white":"border-gray-400"),children:[Object(j.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"Username:"}),Object(j.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.email})]}),Object(j.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===p?"border-white":"border-gray-400"),children:[Object(j.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"First name:"}),Object(j.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.fname})]}),Object(j.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===p?"border-white":"border-gray-400"),children:[Object(j.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"Last name:"}),Object(j.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.lname})]}),Object(j.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===p?"border-white":"border-gray-400"),children:[Object(j.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"email:"}),Object(j.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.email})]}),Object(j.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===p?"border-white":"border-gray-400"),children:[Object(j.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"Posistion:"}),Object(j.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.position_title})]}),Object(j.jsxs)("div",{className:"border-b  border-opacity-60 py-1 ".concat(!0===p?"border-white":"border-gray-400"),children:[Object(j.jsx)("label",{className:"text-sm m-0 p-0 opacity-70",children:"Course name:"}),Object(j.jsx)("h4",{className:"font-bold text-lg p-0 -mt-1",children:t.course_name})]})]})]}):Object(j.jsx)(h,{candidates:[t],events:m,focus_mode:p})]})},f=function(e){var t=e.clickHandler,s=e.candidates,r=e.focus_mode,c=e.show_title;return Object(j.jsxs)("div",{className:"mt-2 ".concat(!0===r?"text-white p-2 ":""),children:[!0===c&&Object(j.jsx)("h1",{className:"text-3xl font-bold text-center pb-2 border-b mb-1 border-gray-100",children:"Candidates"}),Object(j.jsxs)("table",{className:"w-full text-left ".concat(!0===r?"":"bg-white rounded-md",'  p-2"'),children:[Object(j.jsx)("thead",{className:"text-sm text-gray-500",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:s.map((function(e,s){return Object(j.jsxs)("tr",{className:"border-b mb-1 ".concat(!0===r?"border-blue-800 border-opacity-60 hover:bg-blue-900":"border-gray-200 border-opacity-60 hover:bg-blue-100","  cursor-pointer"),onClick:t.bind(undefined,e.user_id),children:[Object(j.jsx)("td",{className:"".concat(!0===r?"text-blue-500":"text-gray-400","  w-5 text-left"),children:Object(j.jsx)(b.a,{className:"text-5xl"})}),Object(j.jsxs)("td",{className:"text-gray-400 pl-1 py-1",children:[Object(j.jsx)("h4",{className:"font-bold text-lg p-0 m-0 ".concat(!0===r?"text-white":"text-gray-900"),children:e.email}),Object(j.jsxs)("p",{className:"text-sm p-0 m-0 -mt-1",children:[e.fname," ",e.lname]})]})]},s)}))})]})]})},E=void 0,v=function(e){var t=e.seat_number,s=e.candidate,r=e.warningHandler,c=e.stopHandler,a=e.detailsHandler,o=e.continueHandler,n=e.exam_started,i=e.focus_mode,d=!0===(null===s||void 0===s?void 0:s.stopped)?"red":!0===i?"blue":"gray";return Object(j.jsxs)("div",{className:"bg-".concat(d,"-900 bg-opacity-50 hover:bg-opacity-100 cursor-pointer border-").concat(d,"-400 border p-2 rounded-md text-white transition-all ease-in-out"),onClick:a.bind(E,s.user_id),children:[Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("span",{className:"text-".concat(d,"-200"),children:"Seat number"}),Object(j.jsx)("h1",{className:"text-5xl font-bold",children:t})]}),Object(j.jsxs)("div",{className:"mt-1 border-t border-".concat(d,"-500 pt-2"),children:[Object(j.jsx)("h4",{className:"text-xs text-".concat(d,"-400"),children:"Full names"}),Object(j.jsxs)("h4",{className:"text-sm font-bold",children:[s.fname," ",s.lname]})]}),!0===n&&Object(j.jsxs)("div",{className:"mt-2",children:[!1===s.stopped?Object(j.jsxs)("button",{onClick:r.bind(E,s.user_id),className:"px-2 text-sm py-1 rounded-md text-gray-900 bg-yellow-300",children:[Object(j.jsx)(b.Ab,{className:"inline"})," Warn"]}):Object(j.jsxs)("button",{onClick:o.bind(E,s.user_id),className:"px-2 text-sm py-1 rounded-md text-gray-900 bg-green-400",children:[Object(j.jsx)(b.Ab,{className:"inline"})," Condinue"]}),Object(j.jsxs)("button",{onClick:c.bind(E,s.user_id),className:"px-2 text-sm py-1 rounded-md text-white- bg-red-700 ml-1",children:[Object(j.jsx)(b.cb,{className:"inline"})," Stop"]})]})]})},C=s(186),y=s(73);!function(e){e[e.Candidates=0]="Candidates",e[e.Events=1]="Events"}(O||(O={}));var A=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(c.a)(this,s),(r=t.call(this,e)).myPeer=void 0,r.componentDidMount=function(){var e=r.props.proctoring.exam,t=e.room_id,s=e.course_id,c=e.position_id;r.props.proctoring.candidates.length<=0?r.props.FC_GetProctoringRoom({room_id:t,course_id:s,position_id:c},(function(e,t,s){!0===e?(r.setState({loading_room:!1}),!1===r.props.proctoring.candidate_loaded&&r.props.socket.socket.emit(C.b.JOIN_ROOM,{room_id:r.props.proctoring.room.room_id,user_id:r.props.auth.user.user_id,peer_id:""},(function(e){return r.props.FC_SetActiveCandidates(e)}))):r.setState({loading_room:!1,error:{target:"all",msg:s}})})):r.props.socket.socket.emit(C.b.UPDATED_ROOM_LIST,r.props.proctoring.room.room_id,(function(e){console.log({active_candidates:e}),r.props.FC_SetActiveCandidates(e)})),r.props.socket.socket.on(C.b.USER_CONNECTED,(function(e){r.props.FC_SetOneActiveCandidate(e.user_id)})),r.props.socket.socket.on(C.b.USER_DISCONNECTED,(function(e){return r.props.FC_CandidateOffline(e)})),r.props.socket.socket.on(C.c.CAND_EXAM_EVENT_CLIENT,(function(e){return r.props.FC_CandidateExamEvent(e)}))},r.leaveRoom=function(){r.props.socket.socket.off(C.b.USER_CONNECTED),r.props.socket.socket.off(C.b.USER_DISCONNECTED),r.props.socket.socket.off(C.c.CAND_EXAM_EVENT_CLIENT),r.props.FC_ClearExamToRoomProctoring()},r.startCenterProctoring=function(){},r.sendEvent=function(){console.log("Sending a signal"),r.props.socket.socket.emit(C.c.CAND_WARNING_EXAM_SERVER,{user_id:r.props.auth.user.user_id,room_id:r.props.proctoring.exam.room_id})},r.blank=function(e){return console.log("clicked")},r.ActiveSIdeTabHandler=function(e){return r.setState({active_side_tab:e})},r.SelectCandidateHandler=function(e){return r.setState({selected_candidate:e})},r.startExamHandler=function(){window.confirm("Are you sure you want to start the exam??")&&(r.props.socket.socket.emit(C.c.START_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id,data:"start exam"}),r.props.FC_ExamStartStop(!0))},r.stopExamHandler=function(){window.confirm("Are you sure you want to stop the exam??")&&(r.props.socket.socket.emit(C.c.STOP_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id}),r.props.FC_ExamStartStop(!1))},r.continueHandler=function(e){r.props.FC_ContinueExam(e),r.props.socket.socket.emit(C.c.CAND_CONTINUE_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id,user_id:e})},r.stopCandidateHandler=function(e){r.props.socket.socket.emit(C.c.CAND_STOP_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id,user_id:e,msg:"Hey you are stopped by the supervisor"}),r.props.FC_StopCandidate(e)},r.warnCandidateHandler=function(e){r.props.socket.socket.emit(C.c.CAND_WARNING_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id,user_id:e,msg:"yey you are fucked"})},r.restartCandidateHandler=function(e){console.log("RESTART EXAM CANDIDATE"),r.props.socket.socket.emit(C.c.CAND_RESTART_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id,user_id:e,msg:"You did it again"})},r.focusToggle=function(){return r.setState((function(e){return{focus_mode:!e.focus_mode}}))},r.state={focus_mode:!1,loading_room:!0,loading:!1,events:[],active_side_tab:O.Events,selected_candidate:null,online_room:!1,online_candidates:[],start_exam:!1,error:{msg:"",target:""}},r}return Object(a.a)(s,[{key:"render",value:function(){var e=this,t=this.props.proctoring.candidates.filter((function(e){return!0===e.active})),s=this.props.proctoring.candidates.filter((function(e){return!1===e.active}));return Object(j.jsxs)("div",{className:"".concat(!1===this.state.focus_mode?" p-1":"fixed right-0 left-0 bottom-0 top-0 z-50"," transition-all ease-in-out"),children:[Object(j.jsx)(u,{focusToggle:this.focusToggle,focus_mode:this.state.focus_mode,course_title:this.props.proctoring.exam.course_name,post_title:this.props.proctoring.exam.position_title,duration:this.props.proctoring.exam.duration+"H",started_at:"12:00 AM",end_at:"14:00 PM",exam_start:this.props.proctoring.exam.start_exam,startExamHandler:this.startExamHandler,stopExamHandler:this.stopExamHandler,leaveRoom:this.leaveRoom}),Object(j.jsx)("div",{className:"".concat(!0===this.state.focus_mode?"proctoring-body-contents text-white":"","  h-screen"),children:Object(j.jsxs)("div",{className:"grid lg:grid-flow-col gap-4",children:[Object(j.jsx)("div",{className:"col-span-4 p-2 pt-3 h-screen overflow-y-auto",children:!1===this.props.proctoring.candidate_loaded?Object(j.jsxs)("div",{className:"p-8 text-center animate__animated animate__zoomIn",children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("h2",{className:"text-xl font-bold text-gray-400",children:"Loading candidates"})]}):Object(j.jsxs)("div",{className:"animate__animated animate__zoomI",children:[Object(j.jsxs)("div",{className:"".concat(!0===this.state.focus_mode?"bg-blue-900 bg-opacity-30":"bg-gray-100"," rounded-md mb-4"),children:[Object(j.jsxs)("h3",{className:"text-2xl font-bold  pt-1.5 pb-1 px-2 rounded flex items-center ".concat(!0===this.state.focus_mode?"text-blue-100 bg-blue-900":"text-white bg-gray-500"," pb-1 mb-1"),children:[Object(j.jsx)("span",{className:"flex-1",children:"Non active candidates "}),Object(j.jsx)("span",{className:"inline-block mr-1 p-0.5 bg-green-700 text-white text-md py-0 px-2 rounded-full",children:t.length})]}),0===t.length?Object(j.jsxs)("div",{className:"py-8 text-center w-full",children:[Object(j.jsx)(b.O,{className:"inline-block text-6xl"}),Object(j.jsx)("h3",{className:"text-center text-2xl font-bold",children:"No candidate"}),Object(j.jsx)("h3",{className:"text-center",children:"Once candidates start to join they will apper here"})]}):Object(j.jsx)("div",{className:"grid grid-flow-row sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:t.map((function(t,s){return Object(j.jsx)(v,{focus_mode:e.state.focus_mode,seat_number:s+1,candidate:t,stopHandler:e.stopCandidateHandler,warningHandler:e.warnCandidateHandler,detailsHandler:e.SelectCandidateHandler,continueHandler:e.continueHandler,exam_started:e.props.proctoring.exam.start_exam},s)}))})]}),0!==s.length&&Object(j.jsxs)("div",{className:"".concat(!0===this.state.focus_mode?"bg-blue-900 bg-opacity-30":"bg-gray-100"," rounded-md"),children:[Object(j.jsxs)("h3",{className:"text-2xl font-bold  pt-1.5 pb-1 px-2 rounded flex items-center ".concat(!0===this.state.focus_mode?"text-blue-100 bg-blue-900":"text-white bg-gray-500"," pb-1 mb-1"),children:[Object(j.jsx)("span",{className:"flex-1",children:"Non active candidates "}),Object(j.jsx)("span",{className:"inline-block mr-1 p-0.5 bg-green-700 text-white text-md py-0 px-2 rounded-full",children:s.length})]}),Object(j.jsx)("div",{className:"mt-3 mx-2 pb-2",children:Object(j.jsx)(f,{candidates:s,clickHandler:this.SelectCandidateHandler,show_title:!1,focus_mode:this.state.focus_mode})})]})]})}),Object(j.jsx)("div",{className:"".concat(!0===this.state.focus_mode?"proctoring-side-section border-blue-500  border-opacity-30":"bg-gray-100 "," p-2  col-span-1 transition-all ease-in-out  h-screen overflow-y-auto  border-l "),children:null===this.state.selected_candidate?Object(j.jsxs)(d.a.Fragment,{children:[Object(j.jsx)(p,{total:43,active:43,done:43,left:43,focus_mode:this.state.focus_mode}),Object(j.jsxs)("div",{className:"my-2 p-1 rounded-md bg-blue-800 bg-opacity-60 grid grid-col-2 grid-flow-col gap-1",children:[Object(j.jsx)("button",{onClick:this.ActiveSIdeTabHandler.bind(this,O.Events),className:"btn rounded-md bg-blue-700 text-blue-100 ".concat(this.state.active_side_tab===O.Events?"border-2 border-blue-400":"bg-blue-800 bg-opacity-60"),children:"Event list"}),Object(j.jsx)("button",{onClick:this.ActiveSIdeTabHandler.bind(this,O.Candidates),className:"btn rounded-md bg-blue-700 text-blue-100 ".concat(this.state.active_side_tab===O.Candidates?"border-2 border-blue-400":"bg-blue-800 bg-opacity-60"),children:"Candidates"})]}),this.state.active_side_tab===O.Events?Object(j.jsx)(h,{candidates:this.props.proctoring.candidates,events:this.state.events,focus_mode:this.state.focus_mode}):Object(j.jsx)(f,{candidates:this.props.proctoring.candidates,clickHandler:this.SelectCandidateHandler,focus_mode:this.state.focus_mode,show_title:!1})]}):Object(j.jsx)(N,{candidate:this.props.proctoring.candidates.find((function(t){return t.user_id===e.state.selected_candidate})),events:this.state.events.filter((function(t){return t.user_id===e.state.selected_candidate})),chatHandler:this.blank,micHandler:this.blank,focusHandler:this.blank,stopHandler:this.stopCandidateHandler,restartHandler:this.restartCandidateHandler,warnHandler:this.warnCandidateHandler,closeHandler:function(){return e.SelectCandidateHandler(null)},home_proctoring:!1,exam_started:this.props.proctoring.exam.start_exam,focus_mode:this.state.focus_mode})})]})})]})}}]),s}(d.a.Component),T=Object(m.b)((function(e){return{socket:e.socket,auth:e.auth,proctoring:e.proctoring}}),{FC_GetProctoringRoom:x.v,FC_SetActiveCandidates:x.H,FC_SetOneActiveCandidate:x.I,FC_CandidateOffline:x.i,FC_ExamStartStop:x.q,FC_ContinueExam:x.n,FC_StopCandidate:x.J,FC_CandidateExamEvent:x.h,FC_ClearExamToRoomProctoring:x.m})(A),R=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(c.a)(this,s),(r=t.call(this,e)).componentDidMount=function(){r.props.auth.user_access.room_id.length>=3&&""===r.props.proctoring.room.room_id&&r.props.FC_RoomDetails(r.props.auth.user_access.room_id,(function(e,t){var s;!0===e?(console.log({session:r.props.auth.application_session}),r.props.auth.application_session?r.props.FC_ExamsDetailsData(null===(s=r.props.auth.application_session)||void 0===s?void 0:s._id,(function(e,t){!1===e&&r.setState({exams_error:!0,exams_error_msg:t})})):r.setState({error:!0,errorMsg:"No application session found"})):r.setState({error:!0,errorMsg:t})}))},r.state={error:!1,errorMsg:"",exams_error:!1,exams_error_msg:""},r}return Object(a.a)(s,[{key:"render",value:function(){var e=this;if(!0===this.state.error)return Object(j.jsx)("div",{className:"mt-4",children:Object(j.jsxs)("div",{className:"p-5 bg-red-100 rounded-md mx-auto text-center text-red-900 animate__animated animate__bounceIn",children:[Object(j.jsx)("h1",{className:"text-3xl font-bold",children:"Failed do load data"}),Object(j.jsx)("p",{children:this.state.errorMsg})]})});if(!1===this.state.error&&!1===this.props.proctoring.room.loaded)return Object(j.jsx)("div",{className:"m-5 text-center",children:Object(j.jsx)("h5",{className:"text-gray-400 animate__animated animate__fadeIn animate__infinite text-xl",children:"Loading room details"})});var t=this.props.proctoring.room,s=t.room_number,r=t.center_name,c=t.district_name,a=t.province_name;return""!==this.props.proctoring.exam.course_id&&""!==this.props.proctoring.exam.position_id?Object(j.jsx)(T,{}):Object(j.jsx)(i.Fragment,{children:Object(j.jsxs)("div",{className:"mr-2",children:[Object(j.jsxs)("div",{className:"p-5 bg-white rounded-b-md ",children:[Object(j.jsx)("h2",{className:"text-2xl text-gray-600 font-bold text-center border-b pb-2",children:"Room details"}),Object(j.jsxs)("div",{className:"flex flex-col md:flex-row",children:[Object(j.jsxs)("div",{className:"flex flex-1 items-center",children:[Object(j.jsx)("div",{className:"p-4",children:Object(j.jsx)(b.U,{className:"text-4xl"})}),Object(j.jsxs)("div",{className:"p-2 pt-3 flex-1",children:[Object(j.jsxs)("div",{className:"mb-1",children:[Object(j.jsx)("span",{className:"text-gray-400",children:"Province:"})," ",Object(j.jsxs)("b",{children:[" ",a]})]}),Object(j.jsxs)("div",{className:"mb-1",children:[Object(j.jsx)("span",{className:"text-gray-400",children:"District:"})," ",Object(j.jsxs)("b",{children:[" ",c]})]})]})]}),Object(j.jsxs)("div",{className:"flex flex-1 items-center",children:[Object(j.jsx)("div",{className:"p-4",children:Object(j.jsx)(l.i,{className:"text-4xl"})}),Object(j.jsxs)("div",{className:"p-2 flex-1",children:[Object(j.jsxs)("div",{className:"mb-1",children:[Object(j.jsx)("span",{className:"text-gray-400",children:"Center name:"})," ",Object(j.jsxs)("b",{children:[" ",r]})]}),Object(j.jsxs)("div",{className:"mb-1",children:[Object(j.jsx)("span",{className:"text-gray-400",children:"Room Number:"})," ",Object(j.jsxs)("b",{children:[" ",s]})]})]})]})]})," "]}),Object(j.jsx)("h2",{className:"mt-5 text-2xl font-bold text-gray-500",children:"Exams on this room"}),Object(j.jsx)("div",{className:"mt-2 p-2 bg-white rounded-md",children:this.props.proctoring.room_exams.length<=0?Object(j.jsx)("div",{className:"p-5 text-center",children:"No exams assigned to this room"}):Object(j.jsxs)("table",{className:"w-full text-left",children:[Object(j.jsx)("thead",{className:"bg-gray-100 rounded-md",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"p-2",children:"#"}),Object(j.jsx)("th",{className:"p-2",children:"Position"}),Object(j.jsx)("th",{className:"p-2",children:"Course"}),Object(j.jsx)("th",{className:"p-2",children:"Code"}),Object(j.jsx)("th",{className:"p-2",children:"Date"}),Object(j.jsx)("th",{className:"p-2"})]})}),Object(j.jsx)("tbody",{children:this.props.proctoring.room_exams.map((function(t,s){var r=e.props.proctoring.exams_list.exams.find((function(e){return e.course===t.course_id}));return Object(j.jsxs)("tr",{className:"p-2 border-t group hover:bg-blue-50",children:[Object(j.jsx)("td",{className:"p-2 text-gray-400",children:s+1}),Object(j.jsx)("td",{className:"p-2 font-bold",children:t.course_name}),Object(j.jsx)("td",{className:"p-2",children:Object(j.jsx)("span",{className:"p-1 text-sm bg-yellow-100 font-bold text-yellow-900 rounded",children:t.position_title})}),Object(j.jsx)("td",{className:"p-2",children:t.course_code}),Object(j.jsx)("td",{className:"p-2 text-sm",children:!1===e.state.error&&!1===e.props.proctoring.exams_list.loaded?Object(j.jsx)("span",{className:"text-blue-500 animate__animated animate__fadeIn animate__infinite",children:"Loading..."}):void 0===r?"Not found":r.exam_date}),Object(j.jsx)("td",{className:"p-2 text-right",children:void 0!==r&&void 0!==r&&Object(j.jsxs)(i.Fragment,{children:[t.course_id===e.props.proctoring.exam.course_id&&t.position_id===e.props.proctoring.exam.position_id&&Object(j.jsx)("button",{className:" group-hover:bg-red-500 py-1 px-3 rounded text-red-500 group-hover:text-white bg-red-100",onClick:function(){return window.confirm("Are you sure you want to exist the room")&&e.props.FC_ClearExamToRoomProctoring()},children:"Leave Room"}),""===e.props.proctoring.exam.room_id&&Object(j.jsx)("button",{onClick:function(){void 0!==r&&void 0!==r&&null!==t&&void 0!==t&&e.props.FC_LoadExamToRoomProctoring({video_support:!1,start_exam:!1,start_time:null===r||void 0===r?void 0:r.start_time,end_time:"",exam_done:!1,period_id:e.props.auth.application_session,exam_status:null===r||void 0===r?void 0:r.exam_status,exam_date:null===r||void 0===r?void 0:r.exam_date,duration:null===r||void 0===r?void 0:r.duration,position_id:t.position_id,position_title:t.position_title,course_id:t.course_id,course_code:t.course_code,course_name:t.course_name,room_id:e.props.proctoring.room.room_id})},className:" group-hover:bg-blue-500 py-1 px-3 rounded text-blue-500 group-hover:text-white bg-blue-100",children:"Open"})]})})]},s)}))})]})})]})})}}]),s}(d.a.Component),S=Object(m.b)((function(e){return{auth:e.auth,proctoring:e.proctoring}}),{FC_RoomDetails:x.G,FC_ExamsDetailsData:x.r,FC_LoadExamToRoomProctoring:x.z,FC_ClearExamToRoomProctoring:x.m})(R)}}]);
//# sourceMappingURL=15.75516c31.chunk.js.map