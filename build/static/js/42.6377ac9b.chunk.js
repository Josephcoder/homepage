(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[42],{1305:function(t,e,n){"use strict";n.r(e),n.d(e,"DocumentValidationStatus",(function(){return a})),n.d(e,"_DocumentValidation",(function(){return S})),n.d(e,"DocumentValidation",(function(){return E}));var a,r,s=n(25),o=n(24),i=n(27),c=n(26),l=n(4),u=n(10),d=n(20),p=n(3),f=n(22),m=n(37),h=n(640),b=n(667),g=n(167),x=n(647),j=n(656),_=n(32),y=n(665),v=n(646),O=n(721),C=n(657),N=n(1);!function(t){t.Waiting="waiting",t.Approved="approved",t.Rejected="rejected"}(a||(a={})),function(t){t.applicant_name="names",t.national_id="national_id",t.phone_number="phone",t.email="email",t.document="document",t.comment="comment",t.status="status"}(r||(r={}));var w=[{key:r.applicant_name,title:"Applicant name",status:!0},{key:r.national_id,title:"National ID",status:!0},{key:r.email,title:"Email",status:!0},{key:r.phone_number,title:"Phone",status:!0},{key:r.document,title:"Document title",status:!0},{key:r.comment,title:"Validation comment",status:!0},{key:r.status,title:"Status",status:!0}],S=function(t){Object(i.a)(n,t);var e=Object(c.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).setLoading=function(t){o.setState({loading:t})},o.setLoadingCandidates=function(t){o.setState({loadingCandidates:t})},o.setSelectAll=function(t){o.setState({selectAll:t})},o.setSelectPosition=function(t){o.setState({selectPosition:t})},o.setSelectedPosition=function(t){o.setState({selectedPosition:t})},o.setReportTitle=function(t){o.setState({reportTitle:t})},o.setFormError=function(t){o.setState({formError:t})},o.setSortOrder=function(t){o.setState({sortOrder:t})},o.setSortProperty=function(t){o.setState({sortProperty:t})},o.setIsSorted=function(t){o.setState({isSorted:t})},o.setGenerateReportModal=function(t){o.setState({generateReportModal:t})},o.setDownloading=function(t){o.setState({downloading:t})},o.setSort=function(t){o.state.sortProperty===t&&"ASC"===o.state.sortOrder?o.setSortOrder("DESC"):o.setSortOrder("ASC"),o.setSortProperty(t),o.setIsSorted(!0)},o.loadCandidatesInInstitute=function(t,e){!t&&e&&e.length>0&&null===o.state.thisEducation&&(o.setState({thisEducation:e[0]}),(null==o.props.documentReducer.candidatesInInstitute||o.props.documentReducer.candidatesInInstitute.length<=0)&&o.props.auth.application_session&&o.props.auth.application_session.session_plan_id?o.props.getCandidatesInInstitute(e[0].education_institute_id,o.props.auth.application_session.session_plan_id,(function(t,e,n){o.setLoadingCandidates(t),!t&&e.length>0&&(console.error({loadingCandidatesError:e}),o.props.PushPopupAlert({title:e,theme:m.a.danger}),o.setLoadingCandidates(!1)),!t&&n&&o.setState({reportMainData:Object(O.a)(o.props.documentReducer,n,"all")})})):o.setLoadingCandidates(!1))},o.componentDidMount=function(){o.setLoading(!1),(null===o.props.documentReducer.documentCategory||o.props.documentReducer.documentCategory.length<=0)&&o.props.getDocumentCategory(),(null===o.props.documentReducer.documentSubCategory||o.props.documentReducer.documentSubCategory.length<=0)&&o.props.getDocumentSubCategory(),(null===o.props.documentReducer.documentFields||o.props.documentReducer.documentFields.length<=0)&&o.props.getDocumentFields(),null===o.props.education_categories||o.props.education_categories.length<=0?o.props.loadEducationCategories(o.loadCandidatesInInstitute):null===o.state.thisEducation&&o.loadCandidatesInInstitute(!1,o.props.education_categories)},o.FC_GeneratePDF=function(){if(!document.querySelectorAll("#report_content tbody tr").length)return o.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:m.a.warning}),!1;if(o.props.auth.application_session){var t=document.getElementById("report_content"),e={doneBy:o.props.auth.user.fname+" "+o.props.auth.user.lname,title:"Document Validation Report",subjectTitle:"Document validation ".concat(o.props.sessions&&"none"!==o.props.sessions?o.props.sessions.session_plan_name:"All session"),subject:"All applications",period:o.props.sessions&&"none"!==o.props.sessions?o.props.sessions.session_plan_name:"All session",footer:"Online Recruitment",institute:o.state.thisEducation?o.state.thisEducation.education_category_title:"All institute",orientation:"l"};t&&Object(b.a)(e,t,o.setDownloading)}},o.updateContentToPrint=function(){if(o.props.auth.application_session){var t="Application marks publication Report - "+o.props.auth.application_session.session_plan_name;o.setReportTitle(t)}if(!o.state.reportMainData&&o.props.documentReducer.candidatesInInstitute&&o.setState({reportMainData:Object(O.a)(o.props.documentReducer,o.props.documentReducer.candidatesInInstitute,"all")}),o.state.reportMainData){var e=[],n=1;for(var a in o.state.reportMainData)if(Object.prototype.hasOwnProperty.call(o.state.reportMainData,a)){var r=null;for(var s in r={no:n,names:o.state.reportMainData[a].names,national_id:o.state.reportMainData[a].n_id,phone:o.state.reportMainData[a].phone_number,email:o.state.reportMainData[a].email,document:o.state.reportMainData[a].main_doc_title,comment:o.state.reportMainData[a].validated_by?o.state.reportMainData[a].validated_by.comment:"",status:o.state.reportMainData[a].validation_status},o.state.reportContentExport)Object.prototype.hasOwnProperty.call(o.state.reportContentExport,s)&&!o.state.reportContentExport[s].status&&r&&delete r[o.state.reportContentExport[s].key];r&&e.push(r),n++}o.setState({dataToPrint:e}),e=[],n=1}},o.updateReportContent=function(t){var e=o.state.reportContentExport.findIndex((function(e){return e.key===t})),n=o.state.reportContentExport;n[e].status=!n[e].status,o.setState({reportContentExport:n}),n.find((function(t){return!1===t.status}))?o.setSelectAll(!1):o.setSelectAll(!0),o.updateContentToPrint()},o.isChangeAllowed=function(t){return t!==r.applicant_name&&t!==r.document&&t!==r.national_id},o.resetReportContent=function(t){var e=o.state.reportContentExport;for(var n in e)o.isChangeAllowed(e[n].key)&&(e[n].status=!t);o.setState({reportContentExport:e}),o.setSelectAll(!t),o.updateContentToPrint()},o.FC_FilterReportData=function(t,e){var n=t;return"all"!==e&&(n=n.filter((function(t){return t.validation_status===e}))),n},o.ReportStatuses=function(t){var e=[{title:"All",count:t.length,status:"all"}];return e.push({title:Object(h.a)(a.Waiting.toLocaleLowerCase()),count:t.filter((function(t){return t.validation_status===a.Waiting})).length,status:a.Waiting},{title:Object(h.a)(a.Approved.toLocaleLowerCase()),count:t.filter((function(t){return t.validation_status===a.Approved})).length,status:a.Approved},{title:Object(h.a)(a.Rejected.toLocaleLowerCase()),count:t.filter((function(t){return t.validation_status===a.Rejected})).length,status:a.Rejected}),e},o.state={loading:!0,loadingCandidates:!0,selectedStatus:"all",selectAll:!0,thisEducation:null,reportMainData:null,reportContentExport:w,reportTitle:"Document validation report",dataToPrint:null,sortProperty:"",isSorted:!1,sortOrder:"ASC",searchInput:"",searchPositionInput:"",generateReportModal:null,formError:null,selectPosition:!1,selectedPosition:null,downloading:!1},o}return Object(o.a)(n,[{key:"render",value:function(){var t,e,n=this;return this.state.loading?Object(N.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."}):null===this.props.auth.application_session?Object(N.jsx)(C.a,{}):Object(N.jsxs)("div",{children:[Object(N.jsx)(x.b,{children:Object(N.jsxs)("div",{className:"pt-1",children:[Object(N.jsx)("div",{className:"text-base font-semibold text-gray-700 pb-2 pt-2",children:"Filter by statuses:"}),null===this.props.documentReducer.candidatesInInstitute||this.state.loadingCandidates?Object(N.jsx)(_.a,{}):this.ReportStatuses(Object(O.a)(this.props.documentReducer,this.props.documentReducer.candidatesInInstitute,"all")).map((function(t,e){return Object(N.jsx)(l.Fragment,{children:Object(N.jsx)("div",{onClick:function(){return n.setState({selectedStatus:t.status})},children:Object(N.jsx)(x.a,{title:t.title,count:t.count,active:n.state.selectedStatus===t.status})})},t.title)}))]})}),Object(N.jsxs)("section",{children:[Object(N.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(N.jsx)("div",{className:"col-span-8",children:Object(N.jsx)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:Object(N.jsx)("span",{className:"text-3xl font-bold text-gray-700",children:"Document validation report"})})}),Object(N.jsx)("div",{className:"col-span-4",children:Object(N.jsx)("div",{className:"float-right mt-2",children:this.props.documentReducer.candidatesInInstitute&&this.props.documentReducer.candidatesInInstitute.length>0&&Object(N.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(N.jsx)(g.e,{className:"text-2xl text-gray-500"}),Object(N.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(N.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",disabled:!(this.props.documentReducer.candidatesInInstitute&&!this.state.downloading),onClick:function(){n.updateContentToPrint(),n.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(N.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 ".concat(this.state.downloading&&"cursor-wait"),onClick:function(){return n.FC_GeneratePDF()},disabled:!this.props.documentReducer.candidatesInInstitute,children:"PDF"})]})})})]}),Object(N.jsxs)("div",{className:"bg-white my-4",children:[Object(N.jsx)("div",{className:"w-full px-2 py-2",children:Object(N.jsx)("input",{onChange:function(t){return n.setState({searchInput:t.target.value})},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded focus:border-gray-800",disabled:null===this.state.loadingCandidates||null===this.props.documentReducer.candidatesInInstitute||this.FC_FilterReportData(Object(O.a)(this.props.documentReducer,this.props.documentReducer.candidatesInInstitute,"all"),this.state.selectedStatus).length<=0})}),Object(N.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(N.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("names")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["Names ",Object(N.jsx)(g.i,{})]})}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("national_id")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["National Id ",Object(N.jsx)(g.i,{})]})}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("phone")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["Phone ",Object(N.jsx)(g.i,{})]})}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("email")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["Email ",Object(N.jsx)(g.i,{})]})}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("position_name")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["Position ",Object(N.jsx)(g.i,{})]})}),Object(N.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return n.setSort("status")},children:Object(N.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(N.jsx)(g.i,{})]})})]})}),Object(N.jsx)("tbody",{children:null===this.props.documentReducer.candidatesInInstitute||this.state.loadingCandidates?Object(N.jsx)(j.a,{cols:8}):(t=this.FC_FilterReportData(Object(O.a)(this.props.documentReducer,this.props.documentReducer.candidatesInInstitute,"all"),this.state.selectedStatus),e=this.state.searchInput,void 0===e||""===e?t:t.filter((function(t){var n;for(var a in t)if(n=!1,"names"!==a&&"n_id"!==a&&"phone_number"!==a&&"main_doc_title"!==a&&"title"!==a&&"description"!==a&&"validation_status"!==a||t[a]&&(n=t[a].toString().toLowerCase().indexOf(e.toLowerCase())>-1),n)break;return n}))).map((function(t,e){return Object(N.jsxs)("tr",{className:"hover:bg-blue-100 hover:text-blue-700 border-b hover:border-blue-500 text-sm bg-white ".concat("rejected"!==t.validation_status&&"approved"!==t.validation_status&&"border-gray-500"),children:[Object(N.jsx)("td",{className:"px-2 py-2",children:e+1}),Object(N.jsx)("td",{className:"px-2 py-2",children:t.names}),Object(N.jsx)("td",{className:"px-2 py-2",children:t.n_id}),Object(N.jsx)("td",{className:"px-2 py-2",children:t.phone_number}),Object(N.jsx)("td",{className:"px-2 py-2",children:t.email}),Object(N.jsx)("td",{className:"px-2 py-2",children:t.main_doc_title}),Object(N.jsx)("td",{className:"px-2 py-2 ".concat("rejected"===t.validation_status?"text-yellow-700":"approved"===t.validation_status?"text-blue-700":""),children:Object(h.a)(t.validation_status)})]},e+t.user_id)}))})]})]})]}),null!==this.state.generateReportModal&&!0===this.state.generateReportModal.status&&Object(N.jsx)(f.d,{title:Object(N.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(N.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",this.state.generateReportModal.reportType," ","Report"]})]})}),backDrop:!0,theme:f.c.default,close:function(){return n.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:f.b.medium,displayClose:!0,padding:{title:!0},children:Object(N.jsxs)("div",{className:"px-6",children:[Object(N.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("label",{children:"Title"}),Object(N.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(this.state.formError&&"report_title"===this.state.formError.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:this.state.reportTitle,onChange:function(t){n.setFormError(null),n.setReportTitle(t.target.value)},disabled:!this.state.reportMainData}),this.state.formError&&"report_title"===this.state.formError.element&&Object(N.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(N.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(N.jsx)("label",{children:"Report content"}),Object(N.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:this.state.reportContentExport.map((function(t,e){return Object(N.jsxs)("div",{className:"flex items-center gap-1 ".concat(n.isChangeAllowed(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return n.isChangeAllowed(t.key)&&n.updateReportContent(t.key)},title:n.isChangeAllowed(t.key)?"":"Required for every report!",children:[t.status?Object(N.jsx)(u.r,{className:"w-6 h-6 text-blue-700"}):Object(N.jsx)(u.s,{className:"w-6 h-6"}),Object(N.jsx)("span",{children:t.title})]},e)}))}),this.state.formError&&"report_content"===this.state.formError.element&&Object(N.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]})]}),Object(N.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(N.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return n.resetReportContent(n.state.selectAll)},children:[this.state.selectAll?Object(N.jsx)(u.r,{className:"w-6 h-6 text-blue-700"}):Object(N.jsx)(u.s,{className:"w-6 h-6"}),Object(N.jsx)("span",{children:"Select all"})]}),this.state.dataToPrint&&this.state.reportMainData&&Object(N.jsx)(y.a,{fileData:this.state.dataToPrint,fileName:this.state.reportTitle,btnName:"Generate"})]})]})})]})}}]),n}(l.Component),E=Object(d.b)((function(t){return{auth:t.auth,documentReducer:t.document,education_categories:t.schoolLevels.education_categories}}),{getDocumentCategory:v.h,getDocumentSubCategory:v.j,getDocumentFields:v.i,loadEducationCategories:p.lc,getCandidatesInInstitute:v.g,PushPopupAlert:p.tb})(S)},646:function(t,e,n){"use strict";n.d(e,"h",(function(){return p})),n.d(e,"a",(function(){return f})),n.d(e,"k",(function(){return m})),n.d(e,"d",(function(){return h})),n.d(e,"j",(function(){return b})),n.d(e,"c",(function(){return g})),n.d(e,"m",(function(){return x})),n.d(e,"f",(function(){return j})),n.d(e,"i",(function(){return _})),n.d(e,"b",(function(){return y})),n.d(e,"l",(function(){return v})),n.d(e,"e",(function(){return O})),n.d(e,"g",(function(){return N})),n.d(e,"n",(function(){return w}));var a=n(5),r=n.n(a),s=n(7),o=n(8),i=n.n(o),c=n(6),l=n(9),u=n(15),d=n(14),p=function(){return function(){var t=Object(s.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,i.a.get("".concat(l.a.AUTH,"/detailcategory"));case 4:n=t.sent,console.log({docCategory:n}),e({type:c.a.GET_DOCUMENT_CATEGORY,payload:n.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error({error:Object(d.a)(t.t0)});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.CREATE_DOCUMENT_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.UPDATE_DOCUMENT_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.DELETE_DOCUMENT_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(){return function(){var t=Object(s.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,i.a.get("".concat(l.a.AUTH,"/detailsubcategory"));case 4:n=t.sent,console.log({docSubCategory:n}),e({type:c.a.GET_DOCUMENT_SUB_CATEGORY,payload:n.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log({doc_SUB_category_error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},g=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.CREATE_DOCUMENT_SUB_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.UPDATE_DOCUMENT_SUB_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.DELETE_DOCUMENT_SUB_CATEGORY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(){return function(){var t=Object(s.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.b)(),t.next=4,i.a.get("".concat(l.a.AUTH,"/categorysubcatedata"));case 4:n=t.sent,console.log({docFields:n}),e({type:c.a.GET_DOCUMENT_FIELDS,payload:n.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log({doc_SUB_category_error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},y=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.CREATE_DOCUMENT_FIELDS,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(t){return console.log({reducer:t}),function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.UPDATE_DOCUMENT_FIELDS,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.DELETE_DOCUMENT_FIELDS,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(t){var e=[],n=[];return t.filter((function(t){return null!==t&&void 0!==t})).forEach((function(t){n.includes(t.user_id)||(e.push(t),n.push(t.user_id))})),e},N=function(t,e,n){return function(){var a=Object(s.a)(r.a.mark((function a(s){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(!0,"",null),a.prev=1,Object(u.b)(),a.next=5,i.a.get("".concat(l.a.APPLICATION,"/educationtypeuserdocs/").concat(t,"/").concat(e));case 5:o=a.sent,console.log("===================================="),console.log({getCandidatesInInstitute:o,distinctCandidates:C(o.data)}),console.log("===================================="),s({type:c.a.GET_CANDIDATE_IN_INSTITUTE,payload:C(o.data)}),n(!1,"",C(o.data)),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),console.log({getCandidatesInInstitute:a.t0}),n(!1,Object(d.a)(a.t0),null);case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(t){return a.apply(this,arguments)}}()},w=function(t){return console.log("===================================="),console.log({verifyDocument:t}),console.log("===================================="),function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:c.a.VERIFY_DOCUMENT,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},647:function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return h}));var a=n(25),r=n(24),s=n(27),o=n(26),i=n(4),c=n.n(i),l=n(20),u=n(3),d=n(10),p=n(1),f=function(t){Object(s.a)(n,t);var e=Object(o.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).componentDidMount=function(){return r.props.PageHasSubNav(!0)},r.componentWillUnmount=function(){return r.props.PageHasSubNav(!1)},r.state={loading:!1},r}return Object(r.a)(n,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var t=this.props.system.navigation;return Object(p.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===t?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),n}(c.a.Component),m=Object(l.b)((function(t){return{auth:t.auth,system:t.system}}),{NavToogle:u.rb,PageHasSubNav:u.sb})(f),h=function(t){var e=t.title,n=void 0===e?"":e,a=t.icon,r=void 0===a?d.m:a,s=t.active,o=void 0!==s&&s,i=t.count,c=void 0===i?0:i,l=r;return Object(p.jsxs)("section",{className:"".concat(!0===o?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:n})]}),c>0?Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:c}):null]})}},656:function(t,e,n){"use strict";n(4);var a=n(1);e.a=function(t){var e=function(){for(var e=[],n=0;n<t.cols;n++)e.push(n);return e.map((function(t){return Object(a.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(a.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},t)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("tr",{className:"border-b border-gray-200",children:e()},228),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:e()},22648),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:e()},229768)]})}},657:function(t,e,n){"use strict";n(4);var a=n(10),r=n(1);e.a=function(){return Object(r.jsx)("div",{className:"my-5",children:Object(r.jsxs)("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center p-6 my-8 text-yellow-900 border border-yellow-900",children:[Object(r.jsx)(a.R,{className:"text-6xl md:text-9xl"}),Object(r.jsxs)("div",{className:"text-center flex flex-col",children:[Object(r.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:"No session available"}),Object(r.jsx)("span",{className:"text-lg",children:"Please Wait for the system to publish the sessions or contact the administrator"})]})]})})}},665:function(t,e,n){"use strict";n(4);var a=n(727),r=n(728),s=n(38),o=n(1);e.a=function(t){var e=t.fileData,n=t.fileName,i=t.btnName,c=void 0===i?"Excel":i,l=t.className,u=void 0===l?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":l,d=t.showIcon,p=void 0===d||d;return Object(o.jsxs)("button",{onClick:function(t){return function(t,e){var n={Sheets:{data:r.utils.json_to_sheet(t)},SheetNames:["data"]},s=r.write(n,{bookType:"xlsx",type:"array"}),o=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});a.saveAs(o,e+".xlsx")}(e,n)},className:u,children:[p&&Object(o.jsx)(s.j,{}),c]})}},667:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(5),r=n.n(a),s=n(7),o=n(718),i=n(47),c=n.p+"static/media/mineduc.11a9ae1c.png";n(726);var l=function(t){var e=t.internal.getNumberOfPages();t.setFont("helvetica","italic"),t.setFontSize(8);for(var n=1;n<=e;n++)t.setPage(n),t.text("Page "+String(n)+" of "+String(e),t.internal.pageSize.width/2,297,{align:"center"})},u=function(){var t=Object(s.a)(r.a.mark((function t(e,n,a){var s,u,d,p,f,m,h,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a(!0),s=e.orientation?e.orientation:"p",u=20,20,185,(d=new o.default(s,"mm","a4")).setTextColor(95,95,95),d.setFontSize(28),d.addImage(c,"png",20,20,10,10),d.text("MINEDUC",32,28.5,void 0,"left"),d.setFontSize(26),d.text(e.title,d.internal.pageSize.getWidth()/2,42.7,void 0,"center"),d.setFontSize(20),d.text(e.institute,d.internal.pageSize.getWidth()/2,53.7,void 0,"center"),p=d.splitTextToSize(e.subject,145),d.setFontSize(16),f=63,d.setTextColor(95,95,95),d.text("".concat(e.subjectTitle,": "),u,f),m=d.getTextWidth("".concat(e.subjectTitle,": ")),d.setTextColor(38,38,38),h=0;h<p.length;h++)f>280&&(f=10,d.addPage()),d.text(p[h],u+m,f),f+=7;return d.setTextColor(95,95,95),d.text("Period: ",u,f+3),m=d.getTextWidth("Period: "),d.setTextColor(38,38,38),d.text(e.period,u+m,f+3),d.autoTable({html:n,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),d.setFontSize(12),b=d.lastAutoTable.finalY,d.text("Reported by: ".concat(e.doneBy),u,b+15),d.text("Report downloaded on "+Object(i.a)((new Date).toString()),u,b+23),l(d),t.next=35,d.save("".concat(e.title+": "+e.subject+": "+e.period,".pdf"),{returnPromise:!0}).then(a(!1));case 35:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},719:function(t,e){},721:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"k",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"i",(function(){return f})),n.d(e,"f",(function(){return m})),n.d(e,"j",(function(){return h})),n.d(e,"h",(function(){return b})),n.d(e,"g",(function(){return g}));var a=n(172),r=n.n(a),s=n(640),o=n(31),i=function(t,e){var n="",a="",r="",s="";if(e.sub_category_id&&e.sub_category_id.length>0&&t.documentSubCategory?a=s=t.documentSubCategory.find((function(t){return t.user_detail_subcategory_id===e.sub_category_id}))?t.documentSubCategory.find((function(t){return t.user_detail_subcategory_id===e.sub_category_id})).title:"Unknown qualification":e.category_id.length>0&&t.documentCategory&&(n=s=t.documentCategory.find((function(t){return t.user_detail_category_id===e.category_id}))?t.documentCategory.find((function(t){return t.user_detail_category_id===e.category_id})).title:"Unknown category"),e.category_subcategory_data.length>0&&t.documentFields){var o=t.documentFields.find((function(t){return t._id===e.category_subcategory_data}));s+=" in "+(r=o?o.title:"Unknown filed")}return{category:n,sub_category:a,field:r,main:s}},c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",a=[];for(var r in e){var s=e[r].details;for(var o in s){var c=e[r].details[o];null!==c.files&&c.files.length>0&&"default"===n&&"waiting"===c.validation_status?a.push({user_id:e[r].user_id,n_id:e[r].n_id,fname:e[r].fname,lname:e[r].lname,phone_number:e[r].phone_number,district:e[r].district,email:e[r].email,main_doc_title:i(t,c).main,category_id:c.category_id,sub_category_id:c.sub_category_id,category_subcategory_data:c.category_subcategory_data,title:c.title,description:c.description,files:c.files,start_year:c.start_year,end_year:c.end_year,school:c.school,details_email:c.email,names:c.names,details_phone_number:c.phone_number,company:c.company,year:c.year,doc_id:c.doc_id,validation_status:c.validation_status,validated_by:c.validated_by,doc_history_status:c.doc_history_status,get_in_date:c.get_in_date,approved:c.approved,exams:e[r].exams}):null!==c.files&&c.files.length>0&&"all"===n&&a.push({user_id:e[r].user_id,names:e[r].fname+" "+e[r].lname,n_id:e[r].n_id,fname:e[r].fname,lname:e[r].lname,phone_number:e[r].phone_number,district:e[r].district,email:e[r].email,main_doc_title:i(t,c).main,category_id:c.category_id,sub_category_id:c.sub_category_id,category_subcategory_data:c.category_subcategory_data,title:c.title,description:c.description,files:c.files,start_year:c.start_year,end_year:c.end_year,school:c.school,details_email:c.email,details_phone_number:c.phone_number,company:c.company,year:c.year,doc_id:c.doc_id,validation_status:c.validation_status,validated_by:c.validated_by,doc_history_status:c.doc_history_status,get_in_date:c.get_in_date,approved:c.approved,exams:e[r].exams})}}return a},l=function(t){if(t&&t.plans){var e=t.plans.find((function(t){return t.type_key===o.c.DOCUMENT_VALIDATION}));if(e){var n=r()(),a=r()(e.start_date),s=r()(e.end_date);if(a.diff(n,"days")<=0&&s.diff(n,"days")>=0&&e.type_status===o.d.OPEN)return!0}}return!1},u=function(t,e,n){var a,r=[],s="all"===n?e:e.filter((function(t){return t.district_id===n})),o=s.length;for(a=0;a<o;a++)r.includes(s[a].center_id)||r.push(s[a].center_id);for(var i=[],c=(t?t.filter((function(t){return t.details.length>0})):[]).filter((function(t){return t.details.filter((function(t){return""!==t.files}))})),l=[],u=[],d=0;d<c.length;d++)l.includes(c[d].email)||(l.push(c[d].email),u.push(c[d]));for(var p=i,f=0;f<u.length;f++)for(var m=0;m<u[f].exams.length;m++){r.includes(u[f].exams[m].center_id)&&i.push(u[f]);for(var h=[],b=[],g=0;g<i.length;g++)h.includes(i[g].email)||(h.push(i[g].email),b.push(i[g]));p=b}return p},d=function(t,e){if("all"===e)return t;for(var n=[],a=t,r=0;r<a.length;r++)for(var s=0;s<a[r].exams.length;s++)if(a[r].exams[s].center_id===e){n.push(a[r]);for(var o=[],i=[],c=0;c<n.length;c++)o.includes(n[c].email)||(o.push(n[c].email),i.push(n[c]));n=i}return n},p=function(t,e){if("all"===e)return t;var n=[];console.log({generalResult:t});for(var a=t,r=0;r<a.length;r++)for(var s=0;s<a[r].exams.length;s++)if(a[r].exams[s].room_id===e){n.push(a[r]);for(var o=[],i=[],c=0;c<n.length;c++)o.includes(n[c].email)||(o.push(n[c].email),i.push(n[c]));n=i}return n},f=function(t,e,n){var a,r=t.find((function(t){return t.user_id===e}));return r&&(a=r.details.find((function(t){return t.doc_id===n}))),{user:r,doc:a}},m=function(t,e){return t.filter((function(t){return t.validation_status===e&&t.files})).length},h=function(t,e,n,a,r,o,i){var c,l=0;if(t.length<=0)return n(!1),a(""),r(""),o(null),i(!1),!1;if(t.length-1<e){for(l=0,c=!1;!c&&t.length-1>=l;)void 0===t[l]||Object(s.f)(t[l].files)||c||(n(!0),a(t[l].doc_id),r(t[l].user_id),o(l),i(!0),c=!0),l++;return c||(n(!1),a(""),r(""),o(null),i(!1)),!0}if(void 0===t[e]||Object(s.f)(t[e].files)){for(l=0,c=!1;!c&&t.length-1>=l;)void 0===t[l]||Object(s.f)(t[l].files)||c||(n(!0),a(t[l].doc_id),r(t[l].user_id),o(l),i(!0),c=!0),l++;return c||(n(!1),a(""),r(""),o(null),i(!1)),!0}return n(!0),a(t[e].doc_id),r(t[e].user_id),o(e),i(!0),!0},b=function(t,e,n,a,r,s,o){if(t.details.length<=0)return n(!1),a(""),r(""),s(null),o(!1),!1;var i=t.details.filter((function(t){return"waiting"===t.validation_status&&t.files}));return i.length<=0?(n(!1),a(""),r(""),s(null),o(!1),!1):i.length-1<e?(n(!0),a(i[0].doc_id),r(t.user_id),s(0),o(!0),!0):(n(!0),a(i[e].doc_id),r(t.user_id),s(e),o(!0),!0)},g=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"waiting",r=t;return"docCategory"===e?r=t.filter((function(t){return t.category_id===n&&t.files&&t.files.length>0&&t.validation_status===a})):"docSubCategory"===e&&(r=t.filter((function(t){return t.sub_category_id===n&&t.files&&t.files.length>0&&t.validation_status===a}))),r.length}},729:function(t,e){},730:function(t,e){}}]);
//# sourceMappingURL=42.6377ac9b.chunk.js.map