(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[51],{198:function(e,t,c){"use strict";c.d(t,"d",(function(){return x})),c.d(t,"b",(function(){return b})),c.d(t,"f",(function(){return j})),c.d(t,"a",(function(){return m})),c.d(t,"c",(function(){return f})),c.d(t,"e",(function(){return h})),c.d(t,"g",(function(){return p}));var s,a=c(5),n=c.n(a),r=c(7),i=c(8),l=c.n(i),o=c(6),d=c(9),u=c(13);!function(e){e.waiting="waiting",e.approved="approved",e.rejected="rejected"}(s||(s={}));var x=function(){return function(){var e=Object(r.a)(n.a.mark((function e(t){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(u.b)(),e.next=4,l.a.get("".concat(d.a.AUTH,"/users?page=1&limit=500"));case 4:c=e.sent,console.log({users_response:c}),t({type:o.a.FETCH_USERS_ACCESS,payload:c.data.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({user_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return console.log({data:e}),function(){var t=Object(r.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:o.a.BLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:o.a.UNBLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return console.log({data:e}),function(){var t=Object(r.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:o.a.ASSIGN_ROLE_TO_USER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:o.a.CUSTOMIZE_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:o.a.RESET_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return console.log({data:e}),function(){var t=Object(r.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:o.a.VERIFY_ALL_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},199:function(e,t,c){"use strict";var s=c(14),a=c(4),n=c(84),r=c(10),i=c(1);t.a=function(e){var t,c,l=e.rows,o=e.columns,d=e.hideColumns,u=void 0!==d&&d,x=e.pagination,b=void 0!==x&&x,j=e.search,m=void 0!==j&&j,f=e.tableSize,h=void 0===f?"w-full":f,p=e.tableClass,O=e.tableId,g=void 0===O?"myTable":O,v=e.rounded,y=void 0!==v&&v,N=e.searchBG,w=void 0===N?"bg-gray-200":N,k=e.thColor,_=void 0===k?"blue":k,C=e.loading,S=void 0!==C&&C;g="myTable"===g?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=c.length,a=0;a<e;a++)t+=c.charAt(Math.floor(Math.random()*s));return t}():g;var T=Object(a.useState)(0),E=Object(s.a)(T,2),A=E[0],U=E[1],L=Object(a.useState)(1),B=Object(s.a)(L,2),M=B[0],R=B[1],I=Object(a.useState)(1),H=Object(s.a)(I,2),z=H[0],D=H[1],Y=Object(a.useState)(),F=Object(s.a)(Y,2),G=F[0],P=F[1],V=Object(a.useState)(10),J=Object(s.a)(V,2),K=J[0],Z=J[1],q=Object(a.useState)(0),Q=Object(s.a)(q,2),W=Q[0],X=Q[1],$=Object(a.useState)(0),ee=Object(s.a)($,2),te=ee[0],ce=ee[1];Object(a.useEffect)((function(){b&&se()}));var se=function(){t=document.getElementById(g),c=t.getElementsByTagName("tr"),U(c.length),R(Math.ceil(A/K)),X((z-1)*K),ce(Math.min(W+K-1,A-1));var e=Array.from(Array(M+1-1).keys()).map((function(e){return 1+e}));G&&e.length===G.length||P(e);for(var s=0;s<c.length;s++)c[s].style.display=s>=W&&s<=te?"":"none"};return Object(i.jsxs)("div",{className:"".concat(h),children:[m&&Object(i.jsx)("div",{className:"".concat(w," w-full mb-2"),children:m&&Object(i.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(i.jsx)(r.Cb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(i.jsx)("input",{type:"search",placeholder:"search",onChange:function(e){return function(e,c){var s,a,n,r,i;for("field"===c&&"all"===e&&(e=""),s=e.toLowerCase(),a=(t=document.getElementById(g)).getElementsByTagName("tr"),r=0;r<a.length;r++)for(i=0;i<o.length;i++)if(n=a[r].getElementsByTagName("td")[i]){if((n.textContent||n.innerText).toLowerCase().indexOf(s)>-1){a[r].style.display="";break}a[r].style.display="none"}}(e.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:S}),b&&Object(i.jsx)("div",{className:"select",children:Object(i.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(e){return Z(Number(e.target.value))},disabled:S,children:[Object(i.jsx)("option",{value:"10",children:"10"}),Object(i.jsx)("option",{value:"25",children:"25"}),Object(i.jsx)("option",{value:"50",children:"50"}),Object(i.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(i.jsxs)("table",{className:p||"w-full shadow ".concat(y&&"sm:rounded-lg"," table-auto order-table"),id:g,children:[!u&&Object(i.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(i.jsx)("tr",{className:"text-left tracking-wide bg-".concat(_,"-100 border-b-2 border-").concat(_,"-500 text-").concat(_,"-600"),children:o.map((function(e,t){return Object(i.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,c,s,a,n,r,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(s=!0,t=document.getElementById(e))for(;s;){for(s=!1,c=t.rows,a=1;a<c.length-1;a++)if(i=!1,n=c[a].getElementsByTagName("TD")[l],r=c[a+1].getElementsByTagName("TD")[l],"asc"===o&&n&&r){if(n.innerHTML.toLowerCase()>r.innerHTML.toLowerCase()){i=!0;break}}else if("desc"===o&&n&&r&&n.innerHTML.toLowerCase()<r.innerHTML.toLowerCase()){i=!0;break}i&&c[a].parentNode?(c[a].parentNode.insertBefore(c[a+1],c[a]),s=!0,d++):0===d&&"asc"===o&&(o="desc",s=!0)}}(g,t)},children:Object(i.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(i.jsx)(n.i,{})]})},t)}))})}),Object(i.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:l()})]}),b&&Object(i.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(i.jsx)("div",{children:Object(i.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",K," of ",A-1," Entries"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==z&&"bg-white"),"aria-label":"Previous",disabled:1===z||S,onClick:function(){return D(z-1)},children:Object(i.jsx)(r.hb,{className:"h-5 w-5"})})}),Object(i.jsx)("div",{children:G&&G.map((function(e,t){return Object(i.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(e!==z?"bg-white":"bg-gray-100 cursor-default"),disabled:e===z||S,onClick:function(){return D(e)},children:e},t)}))}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(z!==M&&"bg-white"),"aria-label":"Next",disabled:z===M||S,onClick:function(){return D(z+1)},children:Object(i.jsx)(r.ib,{className:"h-5 w-5"})})})]})})]})]})}},231:function(e,t,c){"use strict";c.r(t),c.d(t,"UserAccess",(function(){return g}));var s=c(5),a=c.n(s),n=c(7),r=c(14),i=c(8),l=c.n(i),o=c(4),d=c(84),u=c(10),x=c(248),b=c(220),j=c(17),m=c(198),f=c(199),h=c(9),p=c(12),O=c(1),g=Object(j.b)(null,{customizeUserAccess:m.c})((function(e){var t=e.userInfo,c=e.customizeUserAccess,s=e.setFeedBack,i=(e.feedBack,e.setUserAccess),j=e.userAccess,m=e.currentAccess,g=e.setCurrentAccess,v=Object(o.useState)(!0),y=Object(r.a)(v,2),N=y[0],w=y[1],k=Object(o.useState)(!1),_=Object(r.a)(k,2),C=_[0],S=_[1],T=Object(o.useState)(!1),E=Object(r.a)(T,2),A=E[0],U=E[1],L=Object(o.useState)(!1),B=Object(r.a)(L,2),M=B[0],R=B[1],I=Object(o.useState)(!1),H=Object(r.a)(I,2),z=H[0],D=H[1],Y=Object(o.useState)(!1),F=Object(r.a)(Y,2),G=F[0],P=F[1],V=function(e,t){if(e&&t&&t.length>0){var c=[],s=function(s){if(Object.prototype.hasOwnProperty.call(e,s)){var a=t.find((function(t){return t.id===e[s].id}));a?c.push(a):c.push(e[s])}};for(var a in e)s(a);i(c)}};Object(o.useEffect)((function(){t&&t.custome_access&&t.default_access&&function(e,t){if(e&&t&&t.length>0){for(var c=[],s=function(){var e=Object(r.a)(n[a],2),s=e[0],i=e[1],l=t.find((function(e){return e.id===i.id}));l?c.push(l):c.push(i),console.log(s)},a=0,n=Object.entries(e);a<n.length;a++)s();i(c)}}(t.default_access.access,t.custome_access.access)}),[t,i]),Object(o.useEffect)((function(){t&&!t.custome_access&&t.default_access&&i(t.default_access.access),w(!1)}),[t,i]);var J=function(){var e=Object(n.a)(a.a.mark((function e(n){var r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),S(!0),s({type:"",message:""}),r=null,r=t.custome_access,i=-1,e.prev=6,r&&m?(i=r.access.findIndex((function(e){return e.id===m.id})))>=0?(r.access[i].permitted.create=A,r.access[i].permitted.view=M,r.access[i].permitted.update=z,r.access[i].permitted.delete=G):r.access.push({id:m.id,task:m.task,key:m.key,permitted:{create:A,view:M,update:z,delete:G}}):m&&(r={access:[{id:m.id,task:m.task,key:m.key,permitted:{create:A,view:M,update:z,delete:G}}],user_id:t.user_id,custome_user_access_id:""}),!r){e.next=19;break}if(null===t.custome_access){e.next=15;break}return e.next=12,l.a.patch("".concat(h.a.AUTH,"/custaccess"),{access:r.access,user_id:t.user_id});case 12:o=e.sent,e.next=18;break;case 15:return e.next=17,l.a.post("".concat(h.a.AUTH,"/custaccess"),{access:r.access,user_id:t.user_id});case 17:o=e.sent;case 18:o&&(r.custome_user_access_id=o.data.data.custome_user_access_id,console.log({task:r}),console.log(o.data.data),c(r),r&&t.default_access&&V(t.default_access.access,r.access),s({type:"success",message:"Reseting User Access complete successfully"}),r=null,g(null),U(!1),R(!1),D(!1),P(!1));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),console.error({customize_access:e.t0}),s({type:"danger",message:Object(p.a)(e.t0)});case 25:S(!1);case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}();return!0===N||null===t?Object(O.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading User Access..."}):N?Object(O.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."}):Object(O.jsx)(o.Fragment,{children:Object(O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mx-1 my-2",children:[Object(O.jsxs)("div",{className:"col-span-1 md:col-span-3 bg-white w-full overflow-x-auto border rounded text-center p-2 ".concat(m?"hidden md:block":""),children:[Object(O.jsx)("span",{className:"text-gray-600 mt-2 font-semibold text-2xl",children:"Settings"}),!N&&Object(O.jsx)("div",{className:"overflow-x-auto w-full",children:Object(O.jsx)(f.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:function(){return j?j.map((function(e,t){return Object(O.jsxs)("tr",{className:"text-left border-b border-gray-200 cursor-pointer hover:bg-gray-100 ".concat(m&&m.id===e.id&&"bg-gray-200 border my-3 hover:bg-gray-100"),onClick:function(){return m&&m.id===e.id?(g(null),U(!1),R(!1),D(!1),P(!1)):(g(e),U(e.permitted.create),R(e.permitted.view),D(e.permitted.update),P(e.permitted.delete))},children:[Object(O.jsx)("td",{className:"px-2 py-1",children:Object(O.jsx)("label",{className:"inline-flex items-center",children:Object(O.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(O.jsx)(b.a,{}):Object(O.jsx)(u.O,{}),e.permitted.create?" Yes":"No"]})}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(O.jsx)(b.a,{}):Object(O.jsx)(u.O,{}),e.permitted.view?" Yes":"No"]})}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(O.jsx)(b.a,{}):Object(O.jsx)(u.O,{}),e.permitted.update?" Yes":"No"]})}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(O.jsx)(b.a,{}):Object(O.jsx)(u.O,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id)})):[Object(O.jsx)("tr",{children:Object(O.jsx)("td",{children:"No data"})},46)]},pagination:!1,search:!0,searchBG:"bg-gray-50",thColor:"gray"})})]}),Object(O.jsx)("div",{className:"col-span-1 md:col-span-2",children:m?Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-center my-2 text-gray-900",children:"Customize User Access"}),Object(O.jsx)("div",{className:"flex justify-center mb-3",children:Object(O.jsxs)("h2",{className:"text-2xl font-semibold text-center text-gray-600 flex flex-row items-center",children:[Object(O.jsx)(d.h,{className:"w-7 h-7"}),m.task]})}),Object(O.jsx)("div",{className:"flex flex-col px-2 md:px-1",children:Object(O.jsxs)("form",{className:"flex flex-col items-center",onSubmit:function(e){return J(e)},children:[Object(O.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(O.jsx)(x.a,{className:"w-7 h-7 text-gray-600"}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("h3",{className:"font-semibold text-xl",children:"Create"}),Object(O.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to create"})]}),Object(O.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return U(!A)},checked:A,disabled:C})]}),Object(O.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(O.jsx)(u.wb,{className:"w-7 h-7 text-gray-600"}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("h3",{className:"font-semibold text-xl",children:"View"}),Object(O.jsx)("span",{className:"text-gray-600 text-sm md:pr-4",children:"This permission gives the user the ability to view"})]}),Object(O.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return R(!M)},checked:M,disabled:C})]}),Object(O.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(O.jsx)(u.D,{className:"w-7 h-7 text-gray-600"}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("h3",{className:"font-semibold text-xl",children:"Update"}),Object(O.jsx)("span",{className:"text-gray-600 text-sm",children:"This permission gives the user the ability to update"})]}),Object(O.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return D(!z)},checked:z,disabled:C})]}),Object(O.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(O.jsx)(u.B,{className:"w-7 h-7 text-gray-600"}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("h3",{className:"font-semibold text-xl",children:"Delete"}),Object(O.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to delete"})]}),Object(O.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return P(!G)},checked:G,disabled:C})]}),Object(O.jsxs)("div",{className:"flex items-center justify-center w-full py-3 gap-2",children:[Object(O.jsx)("button",{className:"btn bg-gray-500 hover:bg-gray-700 focus:outline-none text-white",disabled:C,onClick:function(){g(null),U(!1),R(!1),D(!1),P(!1)},children:"Cancel"}),Object(O.jsx)("button",{className:"btn btn-blue",disabled:C,children:C?"Processing..":"Save Change"})]})]})})]}):Object(O.jsxs)("div",{className:"w-full hidden md:flex flex-col items-center text-gray-600 gap-1 py-3",children:[Object(O.jsx)(u.Eb,{className:"w-20 h-20"}),Object(O.jsx)("span",{className:"text-8 md:text-12",children:"Choose Access to Customize"})]})})]})})}))}}]);
//# sourceMappingURL=51.84b68e30.chunk.js.map