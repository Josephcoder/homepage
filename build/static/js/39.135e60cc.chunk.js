(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[39],{1320:function(e,t,r){"use strict";r.r(t),r.d(t,"Centers",(function(){return U}));var i=r(26),s=r(25),n=r(28),c=r(27),o=r(4),a=r.n(o),l=r(123),d=r(31),u=r(22),b=r(204),h=r(160),m=r(23),x=r(681),p=r(2),j=r(5),f=r.n(j),g=r(7),v=r(17),O=r(12),y=r(9),_=r.n(y),N=r(10),C=r(694),T=r(206),w=r(21),R=r(15),P=r(24),E=r(1),D=function(e){return Object(E.jsxs)(o.Fragment,{children:[Object(E.jsxs)("div",{className:"py-4 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Province"}),Object(E.jsxs)("select",{className:"bg-white py-1 px-2 border-2 w-full focus:outline-none focus:bg-gray-100 text-gray-600 focus:text-gray-800 rounded h-10 md:w-full ".concat(e.error&&"province_id"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),onChange:function(t){e.error&&"province_id"===e.error.element&&e.setError(null),e.selectProvince(t.target.value)},value:e.thisProvince?e.thisProvince._id:"",disabled:e.loadingRequest,children:[Object(E.jsx)("option",{value:"",disabled:!0,children:"Select province"}),e.locations.map((function(e,t){return Object(E.jsx)("option",{value:e._id,children:e.province_name},e._id+t)}))]}),e.error&&"province_id"===e.error.element&&Object(E.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"District"}),Object(E.jsxs)("select",{className:"bg-white py-1 px-2 border-2 w-full focus:outline-none focus:bg-gray-100 text-gray-600 focus:text-gray-800 rounded h-10 md:w-full ".concat(e.error&&"district_id"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"," ").concat(!e.thisProvince&&"cursor-not-allowed"),onChange:function(t){e.error&&"district_id"===e.error.element&&e.setError(null),e.selectDistrict(e.thisProvince?e.thisProvince._id:"",t.target.value)},value:e.thisDistrict?e.thisDistrict._id:"",disabled:e.loadingRequest||null===e.thisProvince,children:[Object(E.jsx)("option",{value:"",disabled:!0,children:"Select district"}),null!==e.thisProvince&&e.locations.filter((function(t){return t._id===e.thisProvince._id})).length>0?e.locations.filter((function(t){return t._id===e.thisProvince._id}))[0].districts.map((function(e,t){return Object(E.jsx)("option",{value:e._id,children:e.district_name},t+e._id)})):Object(E.jsx)("option",{value:"",disabled:!0,children:"No district found"})]}),e.error&&"district_id"===e.error.element&&Object(E.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Center"}),Object(E.jsxs)("select",{className:"bg-white py-1 px-2 border-2 w-full focus:outline-none focus:bg-gray-100 text-gray-600 focus:text-gray-800 rounded h-10 md:w-full ".concat(e.error&&"center_id"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"," ").concat(!e.thisDistrict&&"cursor-not-allowed"),onChange:function(t){e.error&&"center_id"===e.error.element&&e.setError(null),e.selectCenter(e.thisProvince?e.thisProvince._id:"",e.thisDistrict?e.thisDistrict._id:"",t.target.value)},value:e.thisCenter?e.thisCenter._id:"",disabled:e.loadingRequest||null===e.thisProvince||null===e.thisDistrict,children:[Object(E.jsx)("option",{value:"",disabled:!0,children:"Select center"}),null!==e.thisDistrict&&e.thisDistrict.centers&&e.thisDistrict.centers.length>0?e.thisDistrict.centers.map((function(e,t){return Object(E.jsx)("option",{value:e._id,children:e.center_name},t+e._id)})):Object(E.jsx)("option",{value:"",disabled:!0,children:"No center found"})]}),e.error&&"center_id"===e.error.element&&Object(E.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Room"}),Object(E.jsx)("input",{type:"number",className:"text-left input-white w-full inline-block border-2 ".concat(e.error&&"room_number"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),placeholder:"Room number",value:e.roomNumber,onChange:function(t){return e.setRoomNumber(parseInt(t.target.value))},disabled:e.loadingRequest}),e.error&&"room_number"===e.error.element&&Object(E.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Seats Capacity"}),Object(E.jsx)("input",{type:"number",className:"text-left input-white w-full inline-block border-2 ".concat(e.error&&"room_capacity"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),placeholder:"Room capacity",value:e.roomCapacity,onChange:function(t){return e.setRoomCapacity(parseInt(t.target.value))},disabled:e.loadingRequest}),e.error&&"room_capacity"===e.error.element&&Object(E.jsx)("span",{className:"text-red-700",children:e.error.msg})]})]}),Object(E.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(E.jsx)("button",{onClick:function(){e.setActionTypes(""),e.setThisRoom(null),e.setRoomCapacity(0),e.setRoomNumber(0)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return e.handleSubmitRoom()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})},A=a.a.memo(D),k=function(e){return Object(E.jsxs)(o.Fragment,{children:[Object(E.jsxs)("div",{className:"py-4 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Province"}),Object(E.jsxs)("select",{className:"bg-white py-1 px-2 border-2 w-full focus:outline-none focus:bg-gray-100 text-gray-600 focus:text-gray-800 rounded h-10 md:w-full ".concat(e.error&&"province_id"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"),onChange:function(t){e.error&&"province_id"===e.error.element&&e.setError(null),e.selectProvince(t.target.value)},value:e.thisProvince?e.thisProvince._id:"",disabled:e.loadingRequest,children:[Object(E.jsx)("option",{value:"",disabled:!0,children:"Select province"}),e.locations.map((function(e,t){return Object(E.jsx)("option",{value:e._id,children:e.province_name},e._id+t)}))]}),e.error&&Object(E.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"District"}),Object(E.jsxs)("select",{className:"bg-white py-1 px-2 border-2 w-full focus:outline-none focus:bg-gray-100 text-gray-600 focus:text-gray-800 rounded h-10 md:w-full ".concat(e.error&&"district_id"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"," ").concat(!e.thisProvince&&"cursor-not-allowed"),onChange:function(t){e.error&&"district_id"===e.error.element&&e.setError(null),e.selectDistrict(e.thisProvince?e.thisProvince._id:"",t.target.value)},value:e.thisDistrict?e.thisDistrict._id:"",disabled:e.loadingRequest||null===e.thisProvince,children:[Object(E.jsx)("option",{value:"",disabled:!0,children:"Select district"}),null!==e.thisProvince&&e.locations.filter((function(t){return t._id===e.thisProvince._id})).length>0?e.locations.filter((function(t){return t._id===e.thisProvince._id}))[0].districts.map((function(e,t){return Object(E.jsx)("option",{value:e._id,children:e.district_name},t+e._id)})):Object(E.jsx)("option",{value:"",disabled:!0,children:"No district found"})]}),e.error&&Object(E.jsx)("span",{className:"text-red-700",children:e.error.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Center name"}),Object(E.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(e.error&&"center_name"===e.error.element?"border-red-700":"border-gray-400 focus:border-gray-500"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(t){e.error&&"center_name"===e.error.element&&e.setError(null),e.setCenterName(t.target.value)},value:e.centerName,disabled:e.loadingRequest}),e.error&&Object(E.jsx)("span",{className:"text-red-700",children:e.error.msg})]})]}),Object(E.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(E.jsxs)("button",{type:"button",className:"btn bg-gray-500 focus:outline-none hover:bg-gray-700 text-white flex items-center gap-1",onClick:function(){e.setActionTypes(""),e.setCenterName("")},disabled:e.loadingRequest,children:[Object(E.jsx)(O.o,{className:"inline-block mr-1 text-xl font-bold ".concat(e.loadingRequest?"animate-pulse":"")}),"Cancel"]}),Object(E.jsxs)("button",{type:"button",className:"btn btn-blue focus:outline-none flex items-center gap-1",onClick:function(){return e.handleSubmit()},disabled:e.loadingRequest,children:[Object(E.jsx)(O.Kb,{className:"inline-blocktext-xl font-bold"}),Object(E.jsx)("span",{children:e.loadingRequest?"loading...":"Save"})]})]})]})},q=a.a.memo(k),L=r(47),I=r(40),S=r(703),F=a.a.memo(Object(u.b)((function(e){return{auth:e.auth}}),{FC_CreateCenter:b.a,FC_UpdateCenter:b.l,FC_DeleteCenter:b.f,FC_CreateRoom:b.d,FC_UpdateRoom:b.o,FC_DeleteRoom:b.i,PushPopupAlert:T.c})((function(e){var t=Object(o.useState)(""),r=Object(v.a)(t,2),i=r[0],s=r[1],n=Object(o.useState)(""),c=Object(v.a)(n,2),a=c[0],d=c[1],u=Object(o.useState)(""),b=Object(v.a)(u,2),h=b[0],m=b[1],x=Object(o.useState)(0),j=Object(v.a)(x,2),y=j[0],D=j[1],k=Object(o.useState)(0),F=Object(v.a)(k,2),M=F[0],U=F[1],G=Object(o.useState)(null),V=Object(v.a)(G,2),z=V[0],J=V[1],W=Object(o.useState)(""),X=Object(v.a)(W,2),H=X[0],K=X[1],B=Object(o.useState)(""),Q=Object(v.a)(B,2),Y=Q[0],Z=Q[1],$=function(){var t=Object(g.a)(f.a.mark((function t(){var r,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.thisProvince){t.next=2;break}return t.abrupt("return",J({element:"province_id",msg:"Province is required"}));case 2:if(e.thisDistrict){t.next=4;break}return t.abrupt("return",J({element:"district_id",msg:"District is required"}));case 4:if(i.length){t.next=6;break}return t.abrupt("return",J({element:"center_name",msg:"Center name is required"}));case 6:if(e.setLoadingRequest(!0),t.prev=7,"CREATE_CENTER"!==e.actionTypes){t.next=15;break}return t.next=11,_.a.post("".concat(N.a.APPLICATION,"/center"),{education_institute_id:e.auth.education_institution_id,district_id:e.thisDistrict._id,center_name:i,rooms:[]});case 11:(r=t.sent).data&&(e.FC_CreateCenter({province_id:e.thisProvinceId,district_id:e.thisDistrict._id,data:r.data.data}),e.PushPopupAlert({title:"New Center created successfully",theme:w.a.success}),e.setLoadingRequest(!1),e.setActionTypes(""),s("")),t.next=21;break;case 15:if(!e.thisCenter||"UPDATE_CENTER"!==e.actionTypes){t.next=21;break}return n=e.thisCenter.rooms.map((function(e){return e._id})),t.next=19,_.a.patch("".concat(N.a.APPLICATION,"/center"),{education_institute_id:e.thisCenter.education_institute_id,examination_center_id:e.thisCenter._id,center_name:i,rooms:n,isUsed:!0});case 19:(r=t.sent).data&&(e.FC_UpdateCenter({province_id:e.thisProvinceId,district_id:e.thisDistrict._id,examination_center_id:e.thisCenter._id,center_name:i}),e.PushPopupAlert({title:"Center updated successfully",theme:w.a.success}),e.setLoadingRequest(!1),e.setActionTypes(""),s(""));case 21:t.next=28;break;case 23:t.prev=23,t.t0=t.catch(7),console.log({doc_category_error:t.t0}),e.PushPopupAlert({title:Object(R.a)(t.t0),theme:w.a.danger}),e.setLoadingRequest(!1);case 28:case"end":return t.stop()}}),t,null,[[7,23]])})));return function(){return t.apply(this,arguments)}}(),ee=function(){var t=Object(g.a)(f.a.mark((function t(r){var i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(I.e)(e.thisProvinceId)){t.next=2;break}return t.abrupt("return",Object(T.c)({title:"Province is required!",theme:w.a.warning}));case 2:if(e.thisDistrict){t.next=4;break}return t.abrupt("return",Object(T.c)({title:"District is required!",theme:w.a.warning}));case 4:return K(r),t.prev=5,t.next=8,_.a.delete("".concat(N.a.APPLICATION,"/center/").concat(r));case 8:t.sent.data&&(e.FC_DeleteCenter({province_id:e.thisProvinceId,district_id:e.thisDistrict._id,center_id:r}),i=Object(p.a)({},e.thisDistrict),[],s=e.thisDistrict.centers.filter((function(e){return e._id!==r})),i.centers=s,e.setThisDistrict(i),e.PushPopupAlert({title:"Center deleted successfully",theme:w.a.success}),e.setLoadingRequest(!1),e.setActionTypes("")),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(5),console.log({province_error:t.t0}),e.PushPopupAlert({title:Object(R.a)(t.t0),theme:w.a.danger}),e.setLoadingRequest(!1);case 17:K("");case 18:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}(),te=function(){var t=Object(g.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.thisProvince){t.next=2;break}return t.abrupt("return",J({element:"province_id",msg:"Province is required"}));case 2:if(e.thisDistrict){t.next=4;break}return t.abrupt("return",J({element:"district_id",msg:"District is required"}));case 4:if(e.thisCenter){t.next=6;break}return t.abrupt("return",J({element:"center_id",msg:"Center is required"}));case 6:if(!(y<=0)){t.next=8;break}return t.abrupt("return",J({element:"room_number",msg:"Room number is required"}));case 8:if(!(M<=0)){t.next=10;break}return t.abrupt("return",J({element:"room_capacity",msg:"Enter valid room capacity"}));case 10:if(e.setLoadingRequest(!0),t.prev=11,"CREATE_ROOM"!==e.actionTypes){t.next=19;break}return t.next=15,_.a.post("".concat(N.a.APPLICATION,"/room"),{center_id:e.thisCenter._id,room_type:C.d.Physical,room_number:y,capacity:M,occupied:0});case 15:(r=t.sent).data&&(e.FC_CreateRoom({province_id:e.thisProvinceId,district_id:e.thisDistrict._id,center_id:e.thisCenter._id,data:r.data.data}),e.PushPopupAlert({title:"New Room created successfully",theme:w.a.success}),e.setLoadingRequest(!1),e.setActionTypes(""),D(0),U(0)),t.next=24;break;case 19:if(!e.thisRoom||"UPDATE_ROOM"!==e.actionTypes){t.next=24;break}return t.next=22,_.a.patch("".concat(N.a.APPLICATION,"/room"),{examination_center_room_id:e.thisRoom._id,center_id:e.thisCenter._id,room_type:e.thisRoom.room_type,room_number:y,capacity:M,occupied:e.thisRoom.occupied,isUsed:!0});case 22:(r=t.sent).data&&(e.FC_UpdateRoom({province_id:e.thisProvinceId,district_id:e.thisDistrict._id,center_id:e.thisCenter._id,room_id:e.thisRoom._id,room_number:y,capacity:M}),e.PushPopupAlert({title:"Room updated successfully",theme:w.a.success}),e.setLoadingRequest(!1),e.setActionTypes(""),D(0),U(0),e.setThisRoom(null));case 24:t.next=31;break;case 26:t.prev=26,t.t0=t.catch(11),console.log({doc_category_error:t.t0}),e.PushPopupAlert({title:Object(R.a)(t.t0),theme:w.a.danger}),e.setLoadingRequest(!1);case 31:case"end":return t.stop()}}),t,null,[[11,26]])})));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(g.a)(f.a.mark((function t(r){var i,s,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(I.e)(e.thisProvinceId)){t.next=2;break}return t.abrupt("return",Object(T.c)({title:"Province is required!",theme:w.a.warning}));case 2:if(e.thisDistrict){t.next=4;break}return t.abrupt("return",Object(T.c)({title:"District is required!",theme:w.a.warning}));case 4:if(null!==e.thisCenter){t.next=6;break}return t.abrupt("return",Object(T.c)({title:"Center is required!",theme:w.a.warning}));case 6:return K(r),t.prev=7,t.next=10,_.a.delete("".concat(N.a.APPLICATION,"/centerroom/").concat(r));case 10:(i=t.sent).data&&(console.log({res:i}),s=Object(p.a)({},e.thisCenter),[],n=e.thisCenter.rooms.filter((function(e){return e._id!==r})),s.rooms=n,e.FC_DeleteRoom({province_id:e.thisProvinceId,district_id:e.thisDistrict._id,center_id:e.thisCenter._id,room_id:r}),e.setThisCenter(s),e.PushPopupAlert({title:"Room deleted successfully",theme:w.a.success}),e.setLoadingRequest(!1),e.setActionTypes("")),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(7),console.log({province_error:t.t0}),e.PushPopupAlert({title:Object(R.a)(t.t0),theme:w.a.danger}),e.setLoadingRequest(!1);case 19:K("");case 20:case"end":return t.stop()}}),t,null,[[7,14]])})));return function(e){return t.apply(this,arguments)}}(),ie=function(t){if("ALL"!==t){var r=e.locations.find((function(e){return e._id===t}));r&&(e.setThisProvince(r),r.districts.length>0&&e.setThisDistrict(null))}else e.setThisProvince(null),e.setThisDistrict(null)},se=function(t,r){if("ALL"!==t||!Object(I.e)(t)){var i=e.locations.find((function(e){return e._id===t}));if(i){var s=i.districts.find((function(e){return e._id===r}));e.setThisDistrict(s||null)}e.setThisCenter(null)}},ne=function(t,r){var i=void 0,s=void 0,n=[];if(t&&!r&&(i=e.locations.find((function(e){return e.province_code.toString()===t.province_code.toString()}))))for(var c in i.districts)if(Object.prototype.hasOwnProperty.call(i.districts,c)){var o=i.districts[c];for(var a in o.centers)Object.prototype.hasOwnProperty.call(o.centers,a)&&n.push(o.centers[a])}if(t&&r&&(i=e.locations.find((function(e){return e.province_code.toString()===t.province_code.toString()})))&&(s=i.districts.find((function(e){return e.district_code.toString()===r.district_code.toString()}))))for(var l in s.centers)Object.prototype.hasOwnProperty.call(s.centers,l)&&n.push(s.centers[l]);if(!t&&!r)for(var d in e.locations)if(Object.prototype.hasOwnProperty.call(e.locations,d)){var u=e.locations[d];for(var b in u.districts)if(Object.prototype.hasOwnProperty.call(u.districts,b)){var h=u.districts[b];for(var m in h.centers)Object.prototype.hasOwnProperty.call(h.centers,m)&&n.push(h.centers[m])}}return n},ce=function(t){var r=void 0,i=void 0;for(var s in e.locations)Object.prototype.hasOwnProperty.call(e.locations,s)&&(i=e.locations[s].districts.find((function(e){return e._id===t})))&&function(){var t=i;(r=e.locations.find((function(e){return e.province_code.toString()===t.province_code.toString()})))&&(e.setThisProvince(r),e.setThisDistrict(i))}();return[]};return Object(E.jsxs)("div",{className:"bg-white w-full p-2 border border-gray-300 rounded shadow",children:[Object(E.jsxs)("div",{className:"border-b px-2 py-3 flex justify-between",children:[Object(E.jsx)("h2",{className:"text-3xl font-semibold text-gray-800",children:"List of Centers"}),Object(E.jsxs)("div",{className:"flex items-center gap-2",children:[Object(E.jsxs)("button",{type:"button",className:"btn mb-1 border-2 border-blue-400 bg-blue-400 hover:bg-blue-500 hover:border-blue-500\n        text-white rounded-md flex items-center font-bold focus:outline-none ".concat(e.loadingRequest&&"cursor-wait"," ").concat(""!==e.actionTypes&&"cursor-not-allowed"),onClick:function(){return e.setActionTypes("CREATE_CENTER")},disabled:""!==e.actionTypes||e.loadingRequest,children:[Object(E.jsx)(O.b,{className:"inline-block mr-1 text-xl font-bold"})," New Center"]}),Object(E.jsxs)("button",{type:"button",className:"btn hover:bg-blue-500 mb-1 border-2 border-blue-500 bg-white\n        hover:text-white rounded-md flex items-center font-bold text-gray-700 focus:outline-none gap-1 ".concat(e.loadingRequest&&"cursor-wait"," ").concat(""!==e.actionTypes&&"cursor-not-allowed"),onClick:function(){return e.setActionTypes("CREATE_ROOM")},disabled:""!==e.actionTypes||e.loadingRequest,children:[Object(E.jsx)(O.b,{className:"inline-block mr-1 text-xl font-bold"}),"New Room"]})]})]}),Object(E.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-2 w-full my-2",children:[Object(E.jsx)("div",{className:"w-full sm:w-1/5",children:Object(E.jsxs)("select",{className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full",placeholder:"Filter by province",onChange:function(e){return ie(e.target.value)},value:e.thisProvince?e.thisProvince._id:"",children:[Object(E.jsx)("option",{value:"ALL",children:"All province"}),e.locations.map((function(e,t){return Object(E.jsx)("option",{value:e._id,children:e.province_name},t+e._id)}))]})}),Object(E.jsx)("div",{className:"w-full sm:w-1/5",children:Object(E.jsxs)("select",{className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full",placeholder:"Filter by district",onChange:function(t){return se(e.thisProvince._id,t.target.value)},value:e.thisDistrict?e.thisDistrict._id:"ALL",children:[Object(E.jsx)("option",{value:"ALL",children:"All district"}),null!==e.thisProvince?e.locations.filter((function(t){return t._id===e.thisProvince._id})).length>0?e.locations.filter((function(t){return t._id===e.thisProvince._id}))[0].districts.map((function(e,t){return Object(E.jsx)("option",{value:e._id,children:e.district_name},t+e._id)})):Object(E.jsx)("option",{value:"",disabled:!0,children:"No district found"}):Object(E.jsx)("option",{value:"",disabled:!0,children:"Select province first!"})]})}),Object(E.jsx)("div",{className:"w-full sm:w-3/5",children:Object(E.jsx)("input",{onChange:function(e){return Z(e.target.value)},type:"text",className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500",placeholder:"Search centers by title",value:Y,disabled:!(ne(e.thisProvince,e.thisDistrict).length>0)})})]}),ne(e.thisProvince,e.thisDistrict).length>0?Object(E.jsx)("div",{className:"bg-white",children:Object(L.a)(ne(e.thisProvince,e.thisDistrict),Y).map((function(t,r){return Object(E.jsxs)("div",{className:"p-2 my-3 rounded border hover:bg-gray-50",children:[Object(E.jsxs)("div",{className:"flex justify-between items-center group",children:[Object(E.jsxs)("div",{className:"ml-2 cursor-pointer",onClick:function(){return e.thisCenter&&e.thisCenter._id===t._id?e.setThisCenter(null):e.setThisCenter(t)},children:[Object(E.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:t.center_name}),Object(E.jsx)("div",{className:"text-base top-1 text-gray-600",children:t.rooms.length>0?t.rooms.length+" Room(s)":null})]}),Object(E.jsxs)("div",{className:"flex items-center gap-2",children:[e.thisCenter&&e.thisCenter._id===t._id&&Object(E.jsx)("button",{className:"text-white bg-blue-400 group-hover:bg-blue-600 focus:outline-none p-2 rounded-full group-hover:shadow-md group-hover:text-white  ".concat(e.loadingRequest&&"cursor-wait"," ").concat(""!==e.actionTypes&&"cursor-not-allowed"),onClick:function(){s(t.center_name),ce(t.district_id),e.setThisCenter(t),e.setActionTypes("UPDATE_CENTER")},disabled:e.loadingRequest||""!==e.actionTypes,title:"Edit center",children:Object(E.jsx)(O.A,{className:"w-6 h-6"})}),e.thisCenter&&e.thisCenter._id===t._id&&(i=e.thisCenter,!(i.rooms.length>0))&&Object(E.jsx)("button",{title:"Delete center",className:"bg-red-400 group-hover:bg-red-600 text-white focus:outline-none p-2 rounded-full group-hover:shadow-md group-hover:text-white ".concat(e.loadingRequest&&"cursor-wait"," ").concat(""!==e.actionTypes&&"cursor-not-allowed"),onClick:function(){return d(t._id)},disabled:e.loadingRequest||H.length>0||""!==e.actionTypes,children:Object(E.jsx)(O.x,{className:"w-6 h-6"})}),Object(E.jsx)("button",{title:e.thisCenter&&e.thisCenter._id===t._id?"Close Center":"View Rooms",className:"".concat(e.thisCenter&&e.thisCenter._id===t._id?"group-hover:bg-gray-600":"group-hover:bg-gray-500"," p-2 rounded-full bg-gray-300 group-hover:shadow-md flex justify-center items-center focus:outline-none text-gray-800 group-hover:text-white"),onClick:function(){return e.thisCenter&&e.thisCenter._id===t._id?e.setThisCenter(null):e.setThisCenter(t)},children:e.thisCenter&&e.thisCenter._id===t._id?Object(E.jsx)(O.H,{className:"w-6 h-6"}):Object(E.jsx)(O.I,{className:"w-6 h-6"})})]})]}),e.thisCenter&&e.thisCenter._id===t._id&&Object(E.jsxs)("div",{className:"bg-white h-full w-full mt-2 p-2 pb-5 border border-gray-300 rounded shadow animate__animated animate__fadeIn",children:[Object(E.jsxs)("div",{className:"border-b px-2 py-3 flex justify-between",children:[Object(E.jsx)("h2",{className:"text-3xl font-semibold text-gray-800",children:"List of Rooms"}),Object(E.jsxs)("button",{type:"button",className:"btn hover:bg-blue-500 mb-1 border-2 border-blue-500 bg-white hover:text-white rounded-md flex items-center font-bold text-gray-700 focus:outline-none gap-1 ".concat(e.loadingRequest&&"cursor-wait"," ").concat(""!==e.actionTypes&&"cursor-not-allowed"),onClick:function(){e.setActionTypes("CREATE_ROOM"),ce(t.district_id)},disabled:""!==e.actionTypes||e.loadingRequest,children:[Object(E.jsx)(O.b,{className:"inline-block mr-1 text-xl font-bold"}),"New Room"]})]}),t.rooms.length>0?Object(E.jsxs)("table",{className:"w-full shadow sm:rounded-lg table-auto order-table max-w-full",children:[Object(E.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(E.jsxs)("tr",{className:"text-left tracking-wide bg-gray-100 border-b-2 border-gray-500 text-gray-600 overflow-hidden",children:[Object(E.jsx)("th",{className:"p-3 text-left",children:"Room"}),Object(E.jsx)("th",{className:"p-3 text-left",children:"Type"}),Object(E.jsx)("th",{className:"p-3 text-left",children:"Capacity"}),Object(E.jsx)("th",{className:"p-3 text-left"})]})}),Object(E.jsx)("tbody",{id:"table-data_".concat(t._id),className:"bg-white text-black text-base",children:t.rooms.map((function(r,i){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"p-3 text-left",children:r.room_number}),Object(E.jsx)("td",{className:"p-3 text-left",children:r.room_type}),Object(E.jsx)("td",{className:"p-3 text-left",children:r.capacity}),Object(E.jsx)("td",{children:Object(E.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[Object(E.jsx)("button",{title:"Update this field",className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none",onClick:function(){e.setThisRoom(r),U(r.capacity),D(r.room_number),ce(t.district_id),e.setActionTypes("UPDATE_ROOM")},disabled:e.loadingRequest||""!==e.actionTypes,children:Object(E.jsx)(O.A,{className:"text-blue-700 w-7 h-7"})}),Object(E.jsx)("button",{title:"Delete this field",className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none",onClick:function(){return m(r._id)},disabled:e.loadingRequest||""!==e.actionTypes,children:H===r._id?"Loading...":Object(E.jsx)("div",{className:"flex justify-center items-center gap-1",children:Object(E.jsx)(O.C,{className:"text-red-700 w-7 h-7"})})})]})})]},i+r._id)}))})]}):Object(E.jsxs)("div",{className:"text-center py-8",children:[Object(E.jsx)(l.d,{className:"w-24 h-24 mx-auto text-gray-600"}),Object(E.jsx)("span",{className:"text-gray-600 text-2xl",children:"No Data Found"})]})]})]},r+t._id);var i}))}):Object(E.jsxs)("div",{className:"text-center py-8",children:[Object(E.jsx)(l.d,{className:"w-24 h-24 mx-auto text-gray-600"}),Object(E.jsx)("span",{className:"text-gray-600 text-2xl",children:"No Data Found"})]}),""!==e.actionTypes&&Object(E.jsx)(P.d,{backDrop:!0,theme:P.c.default,close:function(){return"CREATE_ROOM"!==e.actionTypes&&"UPDATE_ROOM"!==e.actionTypes||(e.setThisRoom(null),U(0),D(0)),"CREATE_CENTER"!==e.actionTypes&&"UPDATE_CENTER"!==e.actionTypes||!e.thisProvince||s(""),e.setActionTypes(""),void J(null)},displayClose:!0,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex items-center space-x-5",children:Object(E.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(E.jsxs)("h2",{className:"uppercase text-back",children:["CREATE_ROOM"===e.actionTypes?"CREATING NEW ROOM":"UPDATE_ROOM"===e.actionTypes&&"UPDATING EXISTING ROOM","CREATE_CENTER"===e.actionTypes?"CREATING NEW CENTER":"UPDATE_CENTER"===e.actionTypes&&"UPDATING EXISTING CENTER"]})})}),widthSizeClass:P.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(E.jsx)("div",{className:"mx-5 mb-8",children:Object(E.jsxs)("div",{className:"divide-y divide-gray-200",children:[("CREATE_ROOM"===e.actionTypes||"UPDATE_ROOM"===e.actionTypes)&&Object(E.jsx)(A,{roomNumber:y,roomCapacity:M,thisRoom:e.thisRoom,setError:J,loadingRequest:e.loadingRequest,setRoomNumber:D,setRoomCapacity:U,setThisRoom:e.setThisRoom,setActionTypes:e.setActionTypes,handleSubmitRoom:te,thisDistrict:e.thisDistrict,thisProvince:e.thisProvince,locations:e.locations,error:z,selectProvince:ie,selectDistrict:se,selectCenter:function(t,r,i){if("ALL"!==t||!Object(I.e)(t)||"ALL"!==r||!Object(I.e)(r)){var s=e.locations.find((function(e){return e._id===t}));if(s){var n=s.districts.find((function(e){return e._id===r}));e.setThisDistrict(n||null)}e.setThisCenter(null)}e.setThisCenter(e.locations.filter((function(e){return e._id===t}))[0].districts.filter((function(e){return e._id===r}))[0].centers.filter((function(e){return e._id===i}))[0])},thisCenter:e.thisCenter}),("CREATE_CENTER"===e.actionTypes||"UPDATE_CENTER"===e.actionTypes)&&Object(E.jsx)(q,{centerName:i,error:z,loadingRequest:e.loadingRequest,setCenterName:s,setError:J,setActionTypes:e.setActionTypes,handleSubmit:$,thisDistrict:e.thisDistrict,thisProvince:e.thisProvince,locations:e.locations,selectProvince:ie,selectDistrict:se})]})})}),!Object(I.e)(a)&&Object(E.jsx)(S.b,{modalType:S.a.DELETE,confirmFun:function(){return ee(a)},setModalAction:function(e){return!e&&d("")},description:"Do you really want to delete this center? This process can affect application shortlisting"}),!Object(I.e)(h)&&Object(E.jsx)(S.b,{modalType:S.a.DELETE,confirmFun:function(){return re(h)},setModalAction:function(e){return!e&&m("")},description:"Do you really want to delete this room? This process can affect application shortlisting"})]})}))),M=function(e){Object(n.a)(r,e);var t=Object(c.a)(r);function r(e){var s;return Object(i.a)(this,r),(s=t.call(this,e)).state={actionTypes:"",thisProvince:null,thisDistrict:null,thisCenter:null,thisRoom:null,loading:!0,loadingRequest:!1},s}return Object(s.a)(r,[{key:"componentDidMount",value:function(){var e=this;!1!==Object(m.c)(this.props.auth.education_institution_id)&&(0===this.props.locations.length&&this.state.loading?this.props.getAllRoom((function(t,r){e.setState({loading:t}),!t&&r.length>0&&console.error(r)})):this.state.loading&&this.setState({loading:!1}))}},{key:"render",value:function(){var e=this;return!1===Object(m.c)(this.props.auth.education_institution_id)?Object(E.jsx)(x.a,{title:"Authorization Error",description:"Please contact the administration to get the access."}):!0===this.state.loading?Object(E.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading locations..."}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"w-full my-5",children:[Object(E.jsx)("div",{className:"flex justify-between w-full p-2 gap-1",children:Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("span",{className:"text-blue-600 text-2xl md:text-2xl lg:text-3xl font-bold",children:"Locations Management"}),Object(E.jsxs)("div",{className:"flex flex-row items-center md:gap-3 gap-2 mt-1",children:[Object(E.jsx)(l.f,{className:"text-xl"}),Object(E.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[this.state.thisProvince&&Object(E.jsx)("span",{className:"text-gray-700 text-base font-bold",children:this.state.thisProvince.province_name}),this.state.thisDistrict&&Object(E.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(E.jsx)(d.e,{}),Object(E.jsxs)("span",{className:"text-blue-600 text-base font-bold underline",children:[this.state.thisDistrict.district_name," district"]})]})]})]})]})}),this.props.locations.length>0?Object(E.jsx)("div",{className:"w-full",children:Object(E.jsx)(F,{locations:this.props.locations,thisProvince:this.state.thisProvince,thisProvinceId:this.state.thisProvince?this.state.thisProvince._id:"",thisDistrict:this.state.thisDistrict,thisCenter:this.state.thisCenter,thisRoom:this.state.thisRoom,loadingRequest:this.state.loadingRequest,actionTypes:this.state.actionTypes,setThisProvince:function(t){return e.setState({thisProvince:t})},setThisDistrict:function(t){return e.setState({thisDistrict:t})},setLoadingRequest:function(t){return e.setState({loadingRequest:t})},setThisCenter:function(t){return e.setState({thisCenter:t})},setThisRoom:function(t){return e.setState({thisRoom:t})},setActionTypes:function(t){return e.setState({actionTypes:t})}})}):Object(E.jsx)(h.b,{theme:h.a.Dark,value:"No Locations found!"})]})})}}]),r}(o.Component),U=Object(u.b)((function(e){return{auth:e.auth,locations:e.locations.roomLocation}}),{getAllRoom:b.q})(M)},681:function(e,t,r){"use strict";var i=r(4),s=r.n(i),n=r(12),c=r(1),o=function(e){var t=e.title,r=void 0===t?"No session available":t,i=e.description,s=void 0===i?"Please Wait for the system to publish the sessions or contact the administrator":i;return Object(c.jsx)("div",{className:"my-5",children:Object(c.jsxs)("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center p-6 my-8 text-yellow-900 border border-yellow-900",children:[Object(c.jsx)(n.R,{className:"text-6xl md:text-9xl"}),Object(c.jsxs)("div",{className:"text-center flex flex-col",children:[Object(c.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:r}),Object(c.jsx)("span",{className:"text-lg",children:s})]})]})})};t.a=s.a.memo(o)},694:function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return c}));var i,s,n,c,o=r(30);!function(e){e.Physical="Physical",e.Virtual="Virtual",e.Default="Default"}(i||(i={})),function(e){e.INITIATED="initiated",e.CONFIRMED="confirmed",e.RECEIVED="received"}(s||(s={})),function(e){e.Title="title",e.Description="description",e.Files="files",e.email="email",e.names="names",e.phone_number="phone_number",e.position="position",e.relation="relation",e.src="src",e.year="year",e.company="company",e.category_subcategory_data="category_subcategory_data",e.others="others",e.start_year="start_year",e.end_year="end_year",e.School="School",e.expiration_date="expiration_date"}(n||(n={})),function(e){e.APPROVED="approved",e.REJECTED="rejected"}(c||(c={}));o.c.APPLICATION,o.c.DOCUMENT_VALIDATION,o.c.EXAMINATION,o.c.MARKS_PUBLICATION,o.c.PLACEMENT_TRANSFER},703:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var i,s=r(203),n=r(737),c=r(12),o=r(1);!function(e){e.RESTORE_DELETE="restore_delete",e.DELETE="delete",e.INFO="info",e.OTHER="other"}(i||(i={}));t.b=function(e){return Object(o.jsxs)("div",{className:"min-w-screen h-screen animated fadeIn faster  fixed  left-0 top-0 flex justify-center items-center inset-0 z-50 outline-none focus:outline-none bg-no-repeat bg-center bg-cover",id:"modal-id",children:[Object(o.jsx)("div",{className:"absolute bg-black opacity-80 inset-0 z-0"}),Object(o.jsx)("div",{className:"w-full  max-w-lg p-5 relative mx-auto my-auto rounded-xl shadow-lg bg-white animate__animated animate__zoomIn animate__faster",children:Object(o.jsxs)("div",{className:"",children:[Object(o.jsxs)("div",{className:"text-center p-5 flex-auto justify-center",children:[e.modalType===i.DELETE||e.modalType===i.RESTORE_DELETE&&Object(o.jsx)(s.a,{className:"w-4 h-4 -m-1 flex items-center text-red-500 mx-auto"}),e.modalType===i.DELETE?Object(o.jsx)(c.D,{className:"w-16 h-16 flex items-center text-red-500 mx-auto"}):e.modalType===i.RESTORE_DELETE?Object(o.jsx)(c.Jb,{className:"w-16 h-16 flex items-center text-yellow-800 mx-auto"}):e.modalType===i.INFO?Object(o.jsx)(n.a,{className:"w-16 h-16 flex items-center text-blue-500 mx-auto"}):Object(o.jsx)(n.a,{className:"w-16 h-16 flex items-center text-yellow-500 mx-auto"}),Object(o.jsx)("h2",{className:"text-xl font-bold py-4 ",children:"Are you sure?"}),Object(o.jsx)("p",{className:"text-sm text-gray-500 px-8",children:e.description})]}),Object(o.jsxs)("div",{className:"p-3  mt-2 text-center space-x-4 md:block",children:[Object(o.jsx)("button",{className:"mb-2 md:mb-0 bg-white px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-gray-600 rounded-full hover:shadow-lg hover:bg-gray-100",onClick:function(){return e.setModalAction(!1)},children:"Cancel"}),Object(o.jsx)("button",{className:"mb-2 md:mb-0 border px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg ".concat(e.modalType===i.DELETE?"border-red-500 hover:bg-red-600 bg-red-500":e.modalType===i.RESTORE_DELETE?"border-yellow-700 hover:bg-yellow-800 bg-yellow-700":e.modalType===i.INFO?"border-blue-500 hover:bg-blue-600 bg-blue-500":"border-yellow-500 hover:bg-yellow-600 bg-yellow-500"),onClick:function(){e.confirmFun(),e.setModalAction(!1)},children:"Confirm"})]})]})})]})}}}]);
//# sourceMappingURL=39.135e60cc.chunk.js.map