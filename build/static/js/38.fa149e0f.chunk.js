(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[38,6],{1311:function(e,t,i){"use strict";i.r(t),i.d(t,"Positions",(function(){return J}));var s=i(5),r=i.n(s),n=i(7),o=i(17),a=i(4),c=i.n(a),l=i(8),u=i.n(l),d=i(642),b=i(10),m=i(21),h=i(3),f=i(656),g=i(37),j=i(9),p=i(14),x=i(791),_=i(35),y=i(1),O=function(e){var t=Object(a.useState)(e.thisLevel?e.thisLevel.school_level_id:""),i=Object(o.a)(t,2),s=i[0],r=i[1],n=function(t){if(e.schoolLevels.school_levels&&e.thisEdication){var i=e.thisEdication,s=e.schoolLevels.school_levels.filter((function(e){return e.education_institute.includes(i.education_institute_id)})).find((function(e){return e.school_level_id===t}));s?e.thisLevel&&e.thisLevel.school_level_id!==s.school_level_id?function(t){e.setThisLevel(t),e.setThisCourses(null)}(s):e.setThisLevel(s):e.setThisLevel(null)}};return Object(y.jsxs)("section",{className:"m-0",children:[Object(y.jsx)("div",{className:"text-lg ml-1 font-semibold text-gray-600",children:"School level:"}),e.schoolLevels.school_levels&&e.schoolLevels.school_levels.filter((function(t){return t.education_institute.includes(e.thisEdication.education_institute_id)})).length>0?Object(y.jsxs)("select",{className:"px-3 py-3 w-full m-1 border border-gray-700 rounded bg-white hover:bg-blue-50 text-lg focus:outline-none",value:s,disabled:e.loading,onChange:function(e){n(e.target.value),r(e.target.value)},children:[Object(y.jsx)("option",{value:"",children:"Choose School level"}),e.schoolLevels.school_levels.filter((function(t){return t.education_institute.includes(e.thisEdication.education_institute_id)})).map((function(e,t){return Object(y.jsx)("option",{value:e.school_level_id,children:e.school_level_name},t+e.school_level_id)}))]}):Object(y.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(y.jsx)(d.j,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(y.jsx)("span",{children:"No School level available"})]})]})},v=c.a.memo(O),N=c.a.memo(Object(m.b)((function(e){return{schoolLevels:e.schoolLevels,course:e.course}}),{loadCourses:h.kc,loadSchoolLevels:h.uc,loadEducationCategories:h.mc})((function(e){var t=Object(a.useState)(!0),i=Object(o.a)(t,2),s=i[0],r=i[1];if(Object(a.useEffect)((function(){null===e.schoolLevels.school_levels||0===e.schoolLevels.school_levels.length?e.loadSchoolLevels(r):null===e.schoolLevels.education_categories||0===e.schoolLevels.education_categories.length?(r(!0),e.loadEducationCategories(r)):null===e.course.courses?(r(!0),e.loadCourses(r)):r(!1)}),[e,r]),s)return Object(y.jsx)(_.a,{});return Object(y.jsxs)("div",{className:"bg-white",children:[e.schoolLevels.education_categories&&e.schoolLevels.education_categories.length>0?Object(y.jsxs)("section",{className:"m-3",children:[Object(y.jsx)("div",{className:"text-lg ml-1 font-semibold text-gray-600",children:"Education Institute:"}),Object(y.jsxs)("select",{className:"my-1 block w-full py-3 px-3 border hover:bg-blue-50 border-gray-700 bg-white rounded focus:outline-none focus:border-gray-700 sm:text-lg ".concat(!e.schoolLevels.education_categories&&"cursor-wait"),onChange:function(t){return function(t,i){var s=t.find((function(e){return e.education_institute_id===i}));!s||null!==e.thisEdication&&s.education_institute_id===e.thisEdication.education_institute_id?(e.setThisEdication(null),e.setThisLevel(null)):(e.setThisEdication(s),e.setThisLevel(null))}(e.schoolLevels.education_categories,t.target.value)},disabled:!e.schoolLevels.education_categories,title:e.schoolLevels.education_categories?"":"Loading institute",value:e.thisEdication?e.thisEdication.education_institute_id:"",children:[Object(y.jsx)("option",{value:"",children:"Select institute"}),e.schoolLevels.education_categories.map((function(e,t){return Object(y.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},t+e.education_institute_id)}))]}),e.thisEdication&&Object(y.jsx)(v,{schoolLevels:e.schoolLevels,thisEdication:e.thisEdication,loading:s,thisLevel:e.thisLevel,setThisLevel:e.setThisLevel,setThisCourses:e.setThisCourses})]}):Object(y.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(y.jsx)(d.j,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(y.jsx)("span",{children:"No Education Institute available"})]}),Object(y.jsx)("div",{className:"bg-white w-full flex justify-end",children:Object(y.jsx)("button",{className:"btn m-1 mr-2 mb-2 animate__animated animate__fadeIn focus:outline-none ".concat(e.thisEdication&&e.thisLevel?"btn-blue":"cursor-not-allowed bg-blue-300 text-white"),onClick:function(){e.setFormSteps({ONE:!1,TWO:!0,THREE:!1,FOUR:!1}),"CREATE_POSITION"===e.modalAction&&e.setStepState({ONE:!0,TWO:!1,THREE:!1,FOUR:!1})},disabled:!e.thisEdication||!e.thisLevel,children:"Continue"})})]})}))),C=i(641),T=i(706),E=function(e){return Object(y.jsx)(a.Fragment,{children:Object(y.jsx)("div",{className:"p-5",children:Object(y.jsx)("div",{className:"mx-4 p-4",children:Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsxs)("div",{className:"flex items-center ".concat(1===e.currentStep?"text-white":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.ONE&&e.setFormSteps({ONE:!0,TWO:!1,THREE:!1,FOUR:!1})},children:[Object(y.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(1===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.ONE?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(y.jsx)(C.k,{className:"feather feather-bookmark w-full h-full"})}),Object(y.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(1===e.currentStep?"text-blue-500":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"),children:"Education"})]}),Object(y.jsx)("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out ".concat(e.stepState.ONE?"border-blue-500":"border-gray-300")}),Object(y.jsxs)("div",{className:"flex items-center ".concat(2===e.currentStep?"text-white":e.stepState.TWO?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.TWO&&e.setFormSteps({ONE:!1,TWO:!0,THREE:!1,FOUR:!1})},children:[Object(y.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(2===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.TWO?"border-blue-500":"border-gray-500"),children:Object(y.jsx)(b.wb,{className:"feather feather-user-plus w-full h-full"})}),Object(y.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(2===e.currentStep?"text-blue-500":e.stepState.TWO?"text-blue-500 cursor-pointer":"text-gray-500"),children:"Exam Courses"})]}),Object(y.jsx)("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out ".concat(e.stepState.TWO?"border-blue-500":"border-gray-300")}),Object(y.jsxs)("div",{className:"flex items-center ".concat(3===e.currentStep?"text-white":e.stepState.THREE?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.TWO&&e.setFormSteps({ONE:!1,TWO:!1,THREE:!0,FOUR:!1})},children:[Object(y.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(3===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.THREE?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(y.jsx)(b.Fb,{className:"feather feather-mail w-full h-full"})}),Object(y.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(3===e.currentStep?"text-blue-500":e.stepState.THREE?"text-blue-500 cursor-pointer":"text-gray-500"),onClick:function(){return e.stepState.TWO&&e.setFormSteps({ONE:!1,TWO:!1,THREE:!1,FOUR:!0})},children:"Requirements"})]}),Object(y.jsx)("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out ".concat(e.stepState.THREE?"border-blue-500":"border-gray-300")}),Object(y.jsxs)("div",{className:"flex items-center ".concat(4===e.currentStep?"text-white":e.stepState.FOUR?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.FOUR&&e.setFormSteps({ONE:!1,TWO:!1,THREE:!1,FOUR:!0})},children:[Object(y.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(4===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.FOUR?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(y.jsx)(T.d,{className:"feather feather-database w-full h-full"})}),Object(y.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(4===e.currentStep||e.stepState.FOUR?"text-blue-500":"text-gray-500"),children:"Review"})]})]})})})})},S=c.a.memo(E),w=i(914),q=i(11),R=i(647),L=i(644),F=i(640),P=i(20),I=i(666),A=function(e){return Object(y.jsx)(a.Fragment,{children:Object(y.jsx)(L.a,{columns:[{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return e.filteredFields.length?e.filteredFields.map((function(t,i){return Object(y.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 cursor-pointer",children:[Object(y.jsx)("td",{className:"px-3 text-left",children:Object(y.jsxs)("div",{className:"flex items-center gap-1",onClick:function(){return e.addFieldRequirements({category_subcategory_data_id:t._id,required:!0})},children:[e.thisFieldList&&e.thisFieldList.find((function(e){return e.category_subcategory_data_id===t._id}))?Object(y.jsx)(b.q,{className:"w-6 h-6 text-blue-700"}):Object(y.jsx)(b.r,{className:"w-6 h-6"}),Object(y.jsx)("span",{children:t.title})]})}),Object(y.jsx)("td",{className:"px-5 text-right",children:Object(y.jsxs)("div",{className:"flex flex-row items-center float-right text-lg gap-1 animate__animated animate__fadeIn cursor-pointer",onClick:function(){return e.addFieldRequirements({category_subcategory_data_id:t._id,required:!0},!0)},children:[Object(y.jsx)("div",{className:"text-gray-600 font-bold",children:"Required"}),e.thisFieldList&&e.thisFieldList.find((function(e){return e.category_subcategory_data_id===t._id&&!0===e.required}))?Object(y.jsx)(b.q,{className:"w-6 h-6 text-blue-700"}):Object(y.jsx)(b.r,{className:"w-6 h-6"})]})})]},t._id+i)})):[Object(y.jsx)("tr",{className:"border-b border-gray-200",children:Object(y.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:"No Field Found"})},4323433)]},pagination:!1,search:!0,hideColumns:!0,thColor:"gray"})})},D=c.a.memo(A),k=function(e){var t,i=Object(a.useState)(!0),s=Object(o.a)(i,2),r=s[0],n=s[1],c=function(t,i){var s=e.documentFields?e.documentFields:[];s="CATEGORY"===t?s.filter((function(e){return e.category_id===i})):"SUB_CATEGORY"===t?s.filter((function(t){return t.category_id===e.thisCategory&&(t.subcategory_id===i||null===t.subcategory_id)})):[],e.setFilteredFields(s)},l=function(t,i){if("CATEGORY"===t){if(e.thisRequirementList&&e.thisRequirementList.length>0&&!e.hasSubCategory(i)){var s=e.thisRequirementList.filter((function(e){return e.user_detail_category_id===i}));if(s.length>0)return s[0].position_requirement}}else if("SUB_CATEGORY"===t&&e.thisRequirementList&&e.thisRequirementList.length>0){var r=e.thisRequirementList.filter((function(t){return t.user_detail_category_id===e.thisCategory&&(t.user_detail_subcategory_id===i||null===t.user_detail_subcategory_id)}));if(r.length>0)return r[0].position_requirement}return[]},u=function(t){var i;return e.documentCategory&&(i=e.documentCategory.find((function(e){return e.user_detail_category_id===t}))),i||null};return Object(y.jsx)(a.Fragment,{children:Object(y.jsx)(P.d,{title:Object(y.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(y.jsx)("div",{className:"flex flex-col",children:"Adding New Requirement"})}),backDrop:!0,theme:P.c.default,close:function(){e.setAddNewRequirement(!1),e.setThisCategory(""),e.setThisSubCategory(""),e.setFormError(null)},widthSizeClass:P.b.large,displayClose:!0,backDropClose:!1,padding:{title:!0,body:!1},children:Object(y.jsx)("div",{className:"px-4",children:Object(y.jsxs)("div",{className:"p-3 mb-3",children:[Object(y.jsx)("span",{className:"text-xl text-gray-600 font-bold mb-1 hidden",children:"Position requirements"}),Object(y.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(y.jsx)("div",{className:"text-sm text-gray-600 font-bold mb-1",children:"Document category"}),Object(y.jsxs)("select",{className:"block w-full bg-white text-grey-darker border-2 rounded h-10 px-3 focus:outline-none ".concat(null!==e.formError&&"position_cat"===e.formError.element?"border-red-500":"border-gray-500"),onChange:function(t){!function(t){var i=u(t);if(i)if(e.setThisCategory(t),e.setThisSubCategory(""),i.fields.includes(I.b.category_subcategory_data)){if(e.hasSubCategory(t))e.setThisFieldList(null),e.setFilteredFields(null);else if(console.log({___:!e.hasSubCategory(t)}),console.log({_category:i.fields}),c("CATEGORY",t),e.setThisFieldList(l("CATEGORY",t)),e.thisRequirementList){var s=e.thisRequirementList.filter((function(e){return e.user_detail_category_id===t}));s?e.setIsRequirementRequired(s[0].required):e.setIsRequirementRequired(!1)}}else e.setThisFieldList(null),e.setFilteredFields(null)}(t.target.value)},value:e.thisCategory?e.thisCategory:"",children:[Object(y.jsx)("option",{value:"",disabled:!0,children:"Choose Document Category"}),e.documentCategory&&e.documentCategory.length>0?e.documentCategory.map((function(e,t){return Object(y.jsx)("option",{value:e.user_detail_category_id,children:e.title},t+e.user_detail_category_id)})):Object(y.jsx)("option",{value:"",children:"No Document Category found"})]}),null!==e.formError&&"position_cat"===e.formError.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:e.formError.msg})]}),e.thisCategory.length>0&&Object(y.jsxs)("div",{className:"flex flex-col mb-2 animate__animated animate__fadeIn",children:[Object(y.jsxs)("div",{className:"text-sm text-gray-600 font-bold mb-1",children:["Qualification of"," ",u(e.thisCategory)?null===(t=u(e.thisCategory))||void 0===t?void 0:t.title:"Category"]}),Object(y.jsxs)("select",{className:"block w-full bg-white text-grey-darker border-2 rounded h-10 px-3 focus:outline-none ".concat(null!==e.formError&&"position_sub"===e.formError.element?"border-red-500":"border-gray-500"),onChange:function(t){e.setThisSubCategory(t.target.value),c("SUB_CATEGORY",t.target.value),e.setThisFieldList(l("SUB_CATEGORY",t.target.value)),n(!l("SUB_CATEGORY",t.target.value).length),Object(F.e)(e.positionSubCategoryId)&&e.setPositionSubCategoryId(t.target.value),e.setIsRequirementRequired(!0),null!==e.formError&&"position_sub"===e.formError.element&&e.setFormError(null)},value:e.thisSubCategory?e.thisSubCategory:"",children:[Object(y.jsx)("option",{value:"",disabled:!0,children:"Choose Qualification"}),e.documentSubCategory&&e.documentSubCategory.filter((function(t){return t.category_id===e.thisCategory})).length>0?e.documentSubCategory.filter((function(t){return t.category_id===e.thisCategory})).map((function(e,t){return Object(y.jsx)("option",{value:e.user_detail_subcategory_id,children:e.title},t+e.user_detail_subcategory_id)})):Object(y.jsx)("option",{value:"",children:"No qualification found"})]}),null!==e.formError&&"position_sub"===e.formError.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:e.formError.msg})]}),!Object(F.e)(e.thisSubCategory)&&Object(y.jsxs)("div",{className:"flex items-center text-lg gap-1 mt-2 animate__animated animate__fadeIn cursor-pointer",onClick:function(){return!e.loading&&e.setIsRequirementRequired(!e.isRequirementRequired)},children:[Object(y.jsx)("div",{className:"text-gray-600 font-bold",children:"Qualification is compulsory"}),e.isRequirementRequired?Object(y.jsx)(b.q,{className:"w-6 h-6 text-blue-700"}):Object(y.jsx)(b.r,{className:"w-6 h-6"})]}),e.thisCategory.length>0&&Object(y.jsxs)("div",{className:"flex flex-col mb-2 animate__animated animate__fadeIn",children:[Object(y.jsxs)("div",{className:"flex justify-between mt-2",children:[Object(y.jsx)("div",{className:"text-sm text-gray-600 font-bold mb-1",children:"Documents"}),!Object(F.e)(e.thisSubCategory)&&Object(y.jsxs)("div",{className:"flex items-center text-lg gap-1 mb-1 animate__animated animate__fadeIn cursor-pointer",onClick:function(){return!e.loading&&e.setIsRequirementRequired(!e.isRequirementRequired)},children:[Object(y.jsx)("div",{className:"text-sm text-gray-600 font-bold mb-1",children:"Any document"}),r?Object(y.jsx)(b.q,{className:"w-6 h-6 text-blue-700"}):Object(y.jsx)(b.r,{className:"w-6 h-6"})]})]}),Object(y.jsx)("div",{className:"input-white border-2 ".concat(!e.filteredFields&&"h-10 cursor-pointer"," px-3 max-h-96 overflow-y-auto text-gray-800 ").concat(null!==e.formError&&"position_field"===e.formError.element?"border-red-500":"border-gray-500"),children:e.filteredFields?Object(y.jsx)(D,{filteredFields:e.filteredFields,isFieldRequired:e.isFieldRequired,thisFieldList:e.thisFieldList,setThisField:e.setThisField,setIsFieldRequired:e.setIsFieldRequired,setFormError:e.setFormError,setChooseFields:e.setChooseFields,addFieldRequirements:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t.required;if(e.thisFieldList){var r=e.thisFieldList.findIndex((function(e){return e.category_subcategory_data_id===t.category_subcategory_data_id}));if(r>=0){var o=Object(q.a)(e.thisFieldList);i?(s=!o[r].required,o[r]={category_subcategory_data_id:t.category_subcategory_data_id,required:s}):o.splice(r,1),o.length>0?(e.setThisFieldList(o),n(!1)):(e.setThisFieldList(null),n(!0))}else e.setThisFieldList([].concat(Object(q.a)(e.thisFieldList),[{category_subcategory_data_id:t.category_subcategory_data_id,required:t.required}])),n(!1);e.formError&&"position_field"===e.formError.element&&e.setFormError(null)}else e.setThisFieldList([{category_subcategory_data_id:t.category_subcategory_data_id,required:t.required}]),n(!1),e.formError&&"position_field"===e.formError.element&&e.setFormError(null)}}):""}),null!==e.formError&&"position_field"===e.formError.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:e.formError.msg})]}),e.thisCategory.length>0&&Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("button",{className:"btn bg-gray-500 text-gray-50 hover:bg-gray-700 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){e.setAddNewRequirement(!1),e.setThisCategory(""),e.setThisSubCategory(""),e.setFormError(null)},children:"Cancel"}),Object(y.jsx)("button",{className:"btn btn-blue mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return function(){if(!e.thisCategory)return e.setFormError({element:"position_cat",msg:"Document category is required"});if(Object(F.e)(e.thisSubCategory))return e.setFormError({element:"position_sub",msg:"Qualification is required!"});if(e.thisRequirementList){var t=e.thisRequirementList.findIndex((function(t){return t.user_detail_category_id===e.thisCategory}));if(e.hasSubCategory(e.thisCategory)&&(t=e.thisRequirementList.findIndex((function(t){return t.user_detail_category_id===e.thisCategory&&t.user_detail_subcategory_id===e.thisSubCategory}))),t>=0){var i=Object(q.a)(e.thisRequirementList);e.hasSubCategory(e.thisCategory)?e.thisRequirementList.findIndex((function(t){return t.user_detail_subcategory_id===e.thisSubCategory}))>=0?(i[t].user_detail_category_id=e.thisCategory,i[t].user_detail_subcategory_id=e.thisSubCategory?e.thisSubCategory:"",i[t].position_requirement=e.thisFieldList?e.thisFieldList:[],i[t].required=e.isRequirementRequired,e.setThisRequirementList(i)):e.setThisRequirementList([].concat(Object(q.a)(e.thisRequirementList),[{user_detail_category_id:e.thisCategory,user_detail_subcategory_id:e.thisSubCategory?e.thisSubCategory:"",position_requirement:e.thisFieldList?e.thisFieldList:[],required:e.isRequirementRequired}])):(i[t].user_detail_category_id=e.thisCategory,i[t].user_detail_subcategory_id=e.thisSubCategory?e.thisSubCategory:"",i[t].position_requirement=e.thisFieldList?e.thisFieldList:[],i[t].required=e.isRequirementRequired,e.setThisRequirementList(i))}else e.setThisRequirementList([].concat(Object(q.a)(e.thisRequirementList),[{user_detail_category_id:e.thisCategory,user_detail_subcategory_id:e.thisSubCategory?e.thisSubCategory:"",position_requirement:e.thisFieldList?e.thisFieldList:[],required:e.isRequirementRequired}]))}else e.setThisRequirementList([{user_detail_category_id:e.thisCategory,user_detail_subcategory_id:e.thisSubCategory?e.thisSubCategory:"",position_requirement:e.thisFieldList?e.thisFieldList:[],required:e.isRequirementRequired}]);e.setThisCategory(""),e.setThisSubCategory(""),e.setThisFieldList([]),e.setThisField(""),e.setIsRequirementRequired(!1),e.setIsFieldRequired(!1),e.setAddNewRequirement(!1)}()},children:"Add"})]})]})})})})},U=c.a.memo(k),H=c.a.memo(Object(m.b)((function(e){return{document:e.document}}),{getDocumentCategory:R.h,getDocumentSubCategory:R.j,getDocumentFields:R.i,getPositions:f.d,PushPopupAlert:h.tb})((function(e){var t=Object(a.useState)(!0),i=Object(o.a)(t,2),s=i[0],r=i[1],n=Object(a.useState)(null),c=Object(o.a)(n,2),l=c[0],u=c[1],d=Object(a.useState)(!1),m=Object(o.a)(d,2),h=m[0],f=m[1];Object(a.useEffect)((function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TITLE",i="Position for";return e.thisCourses.forEach((function(t,s){0===s?i+=" "+Object(F.a)(t.course_name):s===e.thisCourses.length-1?i+=" and "+Object(F.a)(t.course_name):i+=", "+Object(F.a)(t.course_name)})),"DESCRIPTION"===t&&(i+=" - "+Object(F.a)(e.thisLevel.school_level_name),i+=" in "+Object(F.a)(e.thisEdication.education_category_title)),i};e.document.documentCategory?e.document.documentSubCategory?e.document.documentFields?r(!1):e.getDocumentFields():e.getDocumentSubCategory():e.getDocumentCategory(),e.courseLength!==e.thisCourses.length&&0===e.positionTitle.length&&(e.setCourseLength(e.thisCourses.length),e.setPositionTitle(t()),e.setPositionDesc(t("DESCRIPTION")))}),[e,e.courseLength]);var g=function(t){var i=[],s=function(s){var r=t[s],n=function(t,i){var s=void 0;return e.document.documentSubCategory&&(s=e.document.documentSubCategory.find((function(e){return e.category_id===t&&e.user_detail_subcategory_id===i}))),s}(t[s].user_detail_category_id,t[s].user_detail_subcategory_id);if(r.position_requirement.length>0){var o=function(o){var a=function(t,i,s){var r=void 0;return e.document.documentFields&&(r=e.document.documentFields.find((function(e){return e.category_id===t&&(e.subcategory_id===i||null===e.subcategory_id)&&e._id===s}))),console.log({result:r}),r}(t[s].user_detail_category_id,t[s].user_detail_subcategory_id,r.position_requirement[o].category_subcategory_data_id);i.find((function(e){return e.category_id===t[s].user_detail_category_id&&e.sub_category_id===t[s].user_detail_subcategory_id&&e.field_id===r.position_requirement[o].category_subcategory_data_id}))||i.push({category_id:t[s].user_detail_category_id,category_name:e.document.documentCategory&&e.document.documentCategory.filter((function(e){return e.user_detail_category_id===t[s].user_detail_category_id})).length>0?e.document.documentCategory.filter((function(e){return e.user_detail_category_id===t[s].user_detail_category_id}))[0].title:"",sub_category_id:r.user_detail_subcategory_id,sub_category_name:n?n.title:"",sub_category_required:t[s].required,field_id:r.position_requirement[o].category_subcategory_data_id,field_name:a?a.title:"",required:r.position_requirement[o].required,isAnyField:!1})};for(var a in r.position_requirement)o(a)}else i.find((function(e){return e.category_id===t[s].user_detail_category_id&&e.sub_category_id===t[s].user_detail_subcategory_id}))||i.push({category_id:t[s].user_detail_category_id,category_name:e.document.documentCategory&&e.document.documentCategory.filter((function(e){return e.user_detail_category_id===t[s].user_detail_category_id})).length>0?e.document.documentCategory.filter((function(e){return e.user_detail_category_id===t[s].user_detail_category_id}))[0].title:"",sub_category_id:r.user_detail_subcategory_id,sub_category_name:n?n.title:"",sub_category_required:t[s].required,field_id:"",field_name:"",required:!1,isAnyField:!0})};for(var r in t)s(r);return i};return s?Object(y.jsx)(_.a,{}):Object(y.jsxs)("section",{className:"mx-4 my-3",children:[Object(y.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(y.jsx)("span",{className:"text-sm text-gray-600 font-bold mb-1",children:"Position title"}),Object(y.jsx)("input",{onChange:function(t){e.setPositionTitle(t.target.value),u(null)},type:"text",value:e.positionTitle,className:"input-white border-2 ".concat(null!==l&&"position_title"===l.element?"border-red-500":"border-gray-500"),disabled:s}),null!==l&&"position_title"===l.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:l.msg})]}),Object(y.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(y.jsx)("span",{className:"text-sm text-gray-600 font-bold mb-1",children:"Position code"}),Object(y.jsx)("input",{onChange:function(t){e.setPositionCode(t.target.value),u(null)},type:"text",value:e.positionCode,className:"input-white border-2 ".concat(null!==l&&"position_code"===l.element?"border-red-500":"border-gray-500"),disabled:s}),null!==l&&"position_code"===l.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:l.msg})]}),Object(y.jsxs)("div",{className:"flex flex-col mb-5",children:[Object(y.jsx)("span",{className:"text-sm text-gray-600 font-bold mb-1",children:"Position description"}),Object(y.jsx)("textarea",{onChange:function(t){e.setPositionDesc(t.target.value),u(null)},value:e.positionDesc,className:"input-white border-2 ".concat(null!==l&&"position_desc"===l.element?"border-red-500":"border-gray-500"),disabled:s}),null!==l&&"position_desc"===l.element&&Object(y.jsx)("span",{className:"text-red-600 font-bold text-xs",children:l.msg})]}),Object(y.jsxs)("section",{className:"bg-white border-gray-300 rounded p-2 my-2 overflow-x-auto",children:[Object(y.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-3",children:[Object(y.jsx)("span",{className:"text-lg font-semibold",children:"List of Requirements:"}),Object(y.jsx)("button",{className:"btn btn-blue",onClick:function(){f(!0),l&&"position_requirement"===l.element&&u(null)},children:"Add requirements"})]}),e.thisRequirementList&&e.thisRequirementList.length>0?Object(y.jsx)(L.a,{columns:[{columnTitle:"Category",alignText:"left",padding:"p-3"},{columnTitle:"Qualification",alignText:"left",padding:"p-3"},{columnTitle:"Qualification Status",alignText:"left",padding:"p-3"},{columnTitle:"Field",alignText:"left",padding:"p-3"},{columnTitle:"Field Status",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return e.thisRequirementList&&e.thisRequirementList.length?g(e.thisRequirementList).map((function(t,i){return Object(y.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group",children:[Object(y.jsx)("td",{className:"px-3 py-3 text-left",children:t.category_name}),Object(y.jsx)("td",{className:"px-5 py-3 text-left",children:t.sub_category_name}),Object(y.jsx)("td",{className:"px-5 py-3 text-left",children:t.sub_category_required?"Required":"Optional"}),Object(y.jsx)("td",{className:"px-5 py-3 ".concat((t.isAnyField,"text-left")),colSpan:t.isAnyField?2:0,children:t.isAnyField?"Any field":t.field_name}),!t.isAnyField&&Object(y.jsx)("td",{className:"px-5 py-3 text-left",children:t.required?"Required":"Optional"}),Object(y.jsx)("td",{className:"px-5 py-3",children:Object(y.jsx)("div",{className:"flex justify-end",children:Object(y.jsx)("div",{onClick:function(){!s&&(t.isAnyField?function(t,i){if(window.confirm("Are you sure you want to remove this qualification?")&&e.thisRequirementList){var s=Object(q.a)(e.thisRequirementList);e.thisRequirementList.findIndex((function(e){return e.user_detail_category_id===t&&e.user_detail_subcategory_id===i}))>=0&&(1===s.length?e.setThisRequirementList([]):(s=s.filter((function(e){return e.user_detail_subcategory_id!==i})),e.setThisRequirementList(s)))}}(t.category_id,t.sub_category_id):function(t,i,s){if(window.confirm("Are you sure you want to remove this document?")&&e.thisRequirementList){var r=Object(q.a)(e.thisRequirementList),n=e.thisRequirementList.findIndex((function(e){return e.user_detail_category_id===t&&e.user_detail_subcategory_id===i}));n>=0&&(1===e.thisRequirementList[n].position_requirement.length?e.setThisRequirementList([]):(1===r[n].position_requirement.length?r.splice(n,1):r[n].position_requirement=r[n].position_requirement.filter((function(e){return e.category_subcategory_data_id!==s})),e.setThisRequirementList(r)))}}(t.category_id,t.sub_category_id,t.field_id))},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 ".concat(s?"cursor-not-allowed":"cursor-pointer"),children:Object(y.jsx)(b.A,{className:"text-3xl text-red-700"})})})})]},i)})):[Object(y.jsx)("tr",{className:"border-b border-gray-200",children:Object(y.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:4,children:"No Field Found"})},4003433)]},pagination:!1,search:!1,hideColumns:!1,thColor:"blue"}):Object(y.jsx)("div",{className:"px-3 py-7 text-xl rounded my-1 text-center ".concat(l&&"position_requirement"===l.element?"border-red-700 text-red-800 border-2":"border"),children:l&&"position_requirement"===l.element?l.msg:"No Requirements available"})]}),Object(y.jsxs)("section",{className:"bg-white border-gray-300 rounded p-2 my-2 overflow-x-auto ".concat(l&&"primary_qualification"===l.element?"border-red-700 border-2":"border"),children:[Object(y.jsx)("div",{className:"flex items-center justify-between gap-2 mb-1",children:Object(y.jsx)("span",{className:"text-lg font-semibold",children:"Set primary qualification:"})}),Object(y.jsx)("div",{className:"w-full text-sm mb-3",children:"Set the considered qualification for this position"}),e.thisRequirementList&&e.thisRequirementList.length>0?Object(y.jsx)(L.a,{columns:[{columnTitle:"Qualification",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return e.document.documentSubCategory&&e.thisRequirementList&&e.thisRequirementList.length?function(e,t){var i=[],s=[];return t.forEach((function(t){if(!s.includes(t.user_detail_subcategory_id)){var r=e.find((function(e){return e.user_detail_subcategory_id===t.user_detail_subcategory_id}));r&&i.push(r),r&&s.push(t.user_detail_subcategory_id)}})),e.forEach((function(e){!s.includes(e.user_detail_subcategory_id)&&t.find((function(t){return t.user_detail_subcategory_id===e.user_detail_subcategory_id}))&&(i.push(e),s.push(e.user_detail_subcategory_id))})),i}(e.document.documentSubCategory,e.thisRequirementList).map((function(t,i){return Object(y.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group ".concat(t.user_detail_subcategory_id!==e.positionSubCategoryId&&"cursor-pointer"),onClick:function(){return t.user_detail_subcategory_id!==e.positionSubCategoryId&&e.setPositionSubCategoryId(t.user_detail_subcategory_id)},children:[Object(y.jsx)("td",{className:"px-5 py-3 text-left",children:t.title}),Object(y.jsx)("td",{className:"px-5 py-3 text-right",children:t.user_detail_subcategory_id===e.positionSubCategoryId?Object(y.jsx)("span",{className:"text-lg font-medium bg-green-50 group-hover:bg-green-100 py-1 px-3 rounded text-green-600 group-hover:text-green-700 align-middle",children:"Primary"}):Object(y.jsx)("button",{className:"btn bg-gray-200 group-hover:bg-gray-400",children:"Set as primary"})})]},i)})):[Object(y.jsx)("tr",{className:"border-b border-gray-200",children:Object(y.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:"No Field Found"})},9723627)]},pagination:!1,search:!1,hideColumns:!1,thColor:"blue"}):Object(y.jsx)("div",{className:"px-3 py-7 text-xl rounded my-1 text-center ".concat(l&&"primary_qualification"===l.element?"border-red-700 text-red-800 border-2":"border"),children:l&&"primary_qualification"===l.element?l.msg:"No qualification available"}),l&&"primary_qualification"===l.element&&Object(y.jsx)("div",{className:"text-red-800 mt-2",children:l.msg})]}),Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("button",{className:"btn bg-gray-500 text-gray-50 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return e.setFormSteps({ONE:!1,TWO:!0,THREE:!1,FOUR:!1})},children:"Back"}),Object(y.jsx)("button",{className:"btn btn-blue mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return!e.positionTitle||Object(F.e)(e.positionTitle)?u({element:"position_title",msg:"Position title is required"}):!e.positionCode||Object(F.e)(e.positionCode)?u({element:"position_code",msg:"Position code is required"}):!e.positionDesc||Object(F.e)(e.positionDesc)?u({element:"position_desc",msg:"Position description is required"}):e.thisRequirementList&&e.thisRequirementList.length?!e.positionSubCategoryId||Object(F.e)(e.positionSubCategoryId)?u({element:"primary_qualification",msg:"Position primary qualification is required"}):(e.setFormSteps({ONE:!1,TWO:!1,THREE:!1,FOUR:!0}),void("CREATE_POSITION"===e.modalAction&&e.setStepState({ONE:!0,TWO:!0,THREE:!0,FOUR:!1}))):u({element:"position_requirement",msg:"Document requirement(s) is required"})},disabled:s,children:"Review"})]}),h&&Object(y.jsx)(U,{formError:l,thisCategory:e.thisCategory,thisRequirementList:e.thisRequirementList,documentFields:e.document.documentFields,setThisCategory:e.setThisCategory,setThisSubCategory:e.setThisSubCategory,setAddNewRequirement:f,setThisFieldList:e.setThisFieldList,setThisRequirementList:e.setThisRequirementList,setFilteredFields:e.setFilteredFields,hasSubCategory:function(t){return console.log("called"),!(!e.document.documentSubCategory||!e.document.documentSubCategory.find((function(e){return e.category_id===t})))},documentCategory:e.document.documentCategory,thisSubCategory:e.thisSubCategory,documentSubCategory:e.document.documentSubCategory,chooseFields:e.chooseFields,filteredFields:e.filteredFields,loading:s,setChooseFields:e.setChooseFields,isFieldRequired:e.isFieldRequired,thisFieldList:e.thisFieldList,setThisField:e.setThisField,setIsFieldRequired:e.setIsFieldRequired,setFormError:u,setIsRequirementRequired:e.setIsRequirementRequired,isRequirementRequired:e.isRequirementRequired,positionSubCategoryId:e.positionSubCategoryId,setPositionSubCategoryId:e.setPositionSubCategoryId})]})}))),M=i(93),B=i(41),G=c.a.memo(Object(m.b)((function(e){return{course:e.course}}),{loadCourses:h.kc})((function(e){var t=Object(a.useState)(!0),i=Object(o.a)(t,2),s=i[0],r=i[1],n=Object(a.useState)(""),c=Object(o.a)(n,2),l=c[0],u=c[1];return Object(a.useEffect)((function(){null===e.course.courses?e.loadCourses(r):r(!1)}),[e,r]),s?Object(y.jsx)(_.a,{}):Object(y.jsxs)("div",{className:"mt-4",children:[e.course.courses&&e.course.courses.length>0?Object(y.jsxs)("section",{className:"m-1",children:[Object(y.jsx)("div",{className:"text-lg ml-1 font-semibold text-gray-600",children:"Courses for Exam:"}),Object(y.jsx)("div",{className:"py-2",children:Object(y.jsx)("input",{onChange:function(e){return u(e.target.value)},type:"text",className:"input-white h-10 text-sm border-2 border-gray-300 focus:border-gray-500",placeholder:"Search course by title or code",value:l})}),e.course.courses.filter((function(t){return t.school_levels.includes(e.thisLevel.school_level_id)||!t.school_levels.length})).length>0?Object(y.jsx)("section",{className:"w-full h-96 overflow-y-auto",children:Object(B.a)(e.course.courses.filter((function(t){return t.school_levels.includes(e.thisLevel.school_level_id)||!t.school_levels.length})),l).map((function(t,i){return Object(y.jsxs)("div",{className:"px-3 py-2 my-1 border rounded hover:bg-blue-50 cursor-pointer flex items-center gap-2 text-lg ".concat(e.thisCourses&&e.thisCourses.find((function(e){return e.course_id===t.course_id}))&&"bg-blue-50 text-blue-700 font-bold border-blue-700"),onClick:function(){return function(t){if(e.thisCourses&&e.thisCoursesId)if(e.thisCourses.find((function(e){return e.course_id===t.course_id}))){var i=Object(q.a)(e.thisCourses),s=Object(q.a)(e.thisCoursesId);i=i.filter((function(e){return e.course_id!==t.course_id})),s=s.filter((function(e){return e!==t.course_id})),e.setThisCourses(i),e.setThisCoursesId(s)}else e.setThisCourses([].concat(Object(q.a)(e.thisCourses),[t])),e.setThisCoursesId([].concat(Object(q.a)(e.thisCoursesId),[t.course_id]));else e.setThisCourses([t]),e.setThisCoursesId([t.course_id])}(t)},children:[e.thisCourses&&e.thisCourses.find((function(e){return e.course_id===t.course_id}))?Object(y.jsx)(M.a,{className:"w-8 h-8"}):Object(y.jsx)(M.b,{className:"w-8 h-8"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"text-lg",children:t.course_name}),Object(y.jsxs)("div",{className:"text-base",children:["(",t.course_code,")"]})]})]},i+t.course_id)}))}):Object(y.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(y.jsx)(d.j,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(y.jsx)("span",{children:"No courses available on this level"})]})]}):Object(y.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(y.jsx)(d.j,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(y.jsx)("span",{children:"No Courses available"})]}),Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("button",{className:"btn bg-gray-500 text-gray-50 float-right m-1 mr-2 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return e.setFormSteps({ONE:!0,TWO:!1,THREE:!1,FOUR:!1})},children:"Back"}),e.thisCourses&&e.thisCourses.length>0&&Object(y.jsx)("button",{className:"btn btn-blue float-right m-1 mr-2 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){e.setFormSteps({ONE:!1,TWO:!1,THREE:!0,FOUR:!1}),"CREATE_POSITION"===e.modalAction&&e.setStepState({ONE:!0,TWO:!0,THREE:!1,FOUR:!1})},children:"Continue"})]})]})}))),W=function(e){return Object(y.jsxs)(a.Fragment,{children:[Object(y.jsx)(S,{currentStep:e.formSteps.FOUR?4:e.formSteps.THREE?3:e.formSteps.TWO?2:1,thisLevel:e.thisLevel,thisEdication:e.thisEdication,thisCourses:e.thisCourses,stepState:e.stepState,setFormSteps:e.setFormSteps}),e.formSteps.ONE&&Object(y.jsx)(N,{thisLevel:e.thisLevel,thisEdication:e.thisEdication,formSteps:e.formSteps,setThisEdication:e.setThisEdication,setThisLevel:e.setThisLevel,setFormSteps:e.setFormSteps,setThisCourses:e.setThisCourses,setStepState:e.setStepState,modalAction:e.modalAction}),e.formSteps.TWO&&e.thisLevel&&Object(y.jsx)(G,{thisLevel:e.thisLevel,thisCourses:e.thisCourses,thisCoursesId:e.thisCoursesId,formSteps:e.formSteps,setThisCourses:e.setThisCourses,setThisCoursesId:e.setThisCoursesId,setFormSteps:e.setFormSteps,setStepState:e.setStepState,modalAction:e.modalAction}),e.formSteps.THREE&&e.thisEdication&&e.thisLevel&&e.thisCoursesId&&e.thisCourses&&Object(y.jsx)(H,{positionId:e.positionId,positionDesc:e.positionDesc,positionTitle:e.positionTitle,thisFieldList:e.thisFieldList,thisRequirementList:e.thisRequirementList,thisEdication:e.thisEdication,thisLevel:e.thisLevel,thisCategory:e.thisCategory,thisSubCategory:e.thisSubCategory,thisCoursesId:e.thisCoursesId,thisCourses:e.thisCourses,chooseFields:e.chooseFields,filteredFields:e.filteredFields,thisField:e.thisField,isFieldRequired:e.isFieldRequired,isRequirementRequired:e.isRequirementRequired,courseLength:e.courseLength,formSteps:e.formSteps,modalAction:e.modalAction,setPositionId:e.setPositionId,setModalAction:e.setModalAction,setThisFieldList:e.setThisFieldList,setPositionDesc:e.setPositionDesc,setPositionTitle:e.setPositionTitle,setThisCategory:e.setThisCategory,setThisSubCategory:e.setThisSubCategory,setThisRequirementList:e.setThisRequirementList,setFormSteps:e.setFormSteps,setFilteredFields:e.setFilteredFields,setThisField:e.setThisField,setIsFieldRequired:e.setIsFieldRequired,setIsRequirementRequired:e.setIsRequirementRequired,setCourseLength:e.setCourseLength,setChooseFields:e.setChooseFields,cleanStates:e.cleanStates,setStepState:e.setStepState,positionSubCategoryId:e.positionSubCategoryId,setPositionSubCategoryId:e.setPositionSubCategoryId,positionCode:e.positionCode,setPositionCode:e.setPositionCode}),e.formSteps.FOUR&&e.thisEdication&&e.thisLevel&&e.thisCoursesId&&e.thisCourses&&e.thisRequirementList&&Object(y.jsx)(w.a,{modalAction:e.modalAction,positionId:e.positionId,positionTitle:e.positionTitle,thisCourses:e.thisCourses,positionDesc:e.positionDesc,thisLevel:e.thisLevel,thisEdication:e.thisEdication,thisCoursesId:e.thisCoursesId,thisRequirementList:e.thisRequirementList,formSteps:e.formSteps,setFormSteps:e.setFormSteps,setModalAction:e.setModalAction,setThisPosition:e.setThisPosition,cleanStates:e.cleanStates,positionSubCategoryId:e.positionSubCategoryId,positionCode:e.positionCode})]})},z=c.a.memo(W),V=i(124),Y=i(46),Q=i(30),X=i(710),J=Object(m.b)((function(e){return{auth:e.auth,systemPositions:e.system_settings.systemPositions}}),{getPositions:f.d,deletePosition:f.b,PushPopupAlert:h.tb})((function(e){var t=Object(a.useState)(""),i=Object(o.a)(t,2),s=i[0],c=i[1],l=Object(Q.g)().view_type,m=Object(a.useState)(!0),h=Object(o.a)(m,2),f=h[0],_=h[1],O=Object(a.useState)(!1),v=Object(o.a)(O,2),N=v[0],C=v[1],T=Object(a.useState)(""),E=Object(o.a)(T,2),S=E[0],w=E[1],q=Object(a.useState)(null),R=Object(o.a)(q,2),L=R[0],P=R[1],I=Object(a.useState)("create"===l&&"CREATE_POSITION"),A=Object(o.a)(I,2),D=A[0],k=A[1],U=Object(a.useState)("create"===l?{ONE:!0,TWO:!1,THREE:!1,FOUR:!1}:{ONE:!1,TWO:!1,THREE:!1,FOUR:!1}),H=Object(o.a)(U,2),M=H[0],G=H[1],W=Object(a.useState)(null),J=Object(o.a)(W,2),K=J[0],Z=J[1],$=Object(a.useState)(null),ee=Object(o.a)($,2),te=ee[0],ie=ee[1],se=Object(a.useState)(null),re=Object(o.a)(se,2),ne=re[0],oe=re[1],ae=Object(a.useState)(null),ce=Object(o.a)(ae,2),le=ce[0],ue=ce[1],de=Object(a.useState)(""),be=Object(o.a)(de,2),me=be[0],he=be[1],fe=Object(a.useState)(""),ge=Object(o.a)(fe,2),je=ge[0],pe=ge[1],xe=Object(a.useState)(""),_e=Object(o.a)(xe,2),ye=_e[0],Oe=_e[1],ve=Object(a.useState)(""),Ne=Object(o.a)(ve,2),Ce=Ne[0],Te=Ne[1],Ee=Object(a.useState)(""),Se=Object(o.a)(Ee,2),we=Se[0],qe=Se[1],Re=Object(a.useState)(""),Le=Object(o.a)(Re,2),Fe=Le[0],Pe=Le[1],Ie=Object(a.useState)(null),Ae=Object(o.a)(Ie,2),De=Ae[0],ke=Ae[1],Ue=Object(a.useState)(null),He=Object(o.a)(Ue,2),Me=He[0],Be=He[1],Ge=Object(a.useState)({ONE:!1,TWO:!1,THREE:!1,FOUR:!1}),We=Object(o.a)(Ge,2),ze=We[0],Ve=We[1],Ye=Object(a.useState)(null),Qe=Object(o.a)(Ye,2),Xe=Qe[0],Je=Qe[1],Ke=Object(a.useState)(""),Ze=Object(o.a)(Ke,2),$e=Ze[0],et=Ze[1],tt=Object(a.useState)(!1),it=Object(o.a)(tt,2),st=it[0],rt=it[1],nt=Object(a.useState)(!1),ot=Object(o.a)(nt,2),at=ot[0],ct=ot[1],lt=Object(a.useState)(0),ut=Object(o.a)(lt,2),dt=ut[0],bt=ut[1],mt=Object(a.useState)(!1),ht=Object(o.a)(mt,2),ft=ht[0],gt=ht[1],jt=Object(a.useState)(""),pt=Object(o.a)(jt,2),xt=pt[0],_t=pt[1],yt=Object(a.useState)("ALL"),Ot=Object(o.a)(yt,2),vt=Ot[0],Nt=Ot[1],Ct=Object(a.useState)("TRUE"),Tt=Object(o.a)(Ct,2),Et=Tt[0],St=Tt[1],wt=Object(a.useState)(""),qt=Object(o.a)(wt,2),Rt=qt[0],Lt=qt[1];Object(a.useEffect)((function(){null===e.systemPositions?e.getPositions((function(t,i){_(t),console.log({status:t,msg:i}),i.length&&e.PushPopupAlert({title:i,theme:g.a.danger})})):f&&_(!1)}),[f,e,_]);var Ft=function(){var t=Object(n.a)(r.a.mark((function t(i){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(i),C(!0),t.prev=2,t.next=5,u.a.delete("".concat(j.a.APPLICATION,"/position/").concat(i));case 5:(s=t.sent).data&&(console.log({res:s}),e.deletePosition(i),e.PushPopupAlert({title:"Position deleted successfully",theme:g.a.success})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log({position_error:t.t0}),e.PushPopupAlert({title:Object(p.a)(t.t0),theme:g.a.danger});case 13:w(""),C(!1);case 15:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),Pt=function(){gt(!1),Z(null),ie(null),oe(null),ue(null),qe(""),Pe(""),pe(""),Oe(""),he(""),Lt(""),Te(""),ke(null),Be(null),Je(null),et(""),rt(!1),ct(!1),bt(0),G({ONE:!0,TWO:!1,THREE:!1,FOUR:!1}),Ve({ONE:!0,TWO:!1,THREE:!1,FOUR:!1})},It=function(e){var t="",i="bg-blue-100 group-hover:bg-blue-50";return L&&L.position_id===e.position_id&&(L.isPublished?(t="bg-blue-100 border border-blue-500",i="bg-blue-100 group-hover:bg-blue-50"):(t="bg-yellow-100 border border-yellow-500",i="bg-yellow-100 group-hover:bg-yellow-50")),{section:t,button:i}},At=function(e,t){var i=[];return"ALL"===t?i=e:"PUBLISHED"===t?i=e.filter((function(e){return e.isPublished})):"NOT_PUBLISHED"===t&&(i=e.filter((function(e){return!e.isPublished}))),i},Dt=function(e,t){var i=[];return"ALL"===t?i=e:"TRUE"===t?i=e.filter((function(e){return!e.isDeleted})):"FALSE"===t&&(i=e.filter((function(e){return e.isDeleted}))),i};return null===e.systemPositions||!0===f?Object(y.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."}):Object(y.jsxs)(a.Fragment,{children:[Object(y.jsx)("div",{className:"mt-3 rounded flex flex-row justify-between items-center",children:Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(y.jsx)(Y.k,{className:"text-6xl text-blue-600"}),Object(y.jsx)("div",{className:"flex flex-col",children:Object(y.jsx)("span",{className:"text-blue-600 text-2xl font-bold",children:"Positions"})})]})}),Object(y.jsxs)("div",{className:"mt-1 p-1 bg-white",children:[Object(y.jsxs)("div",{className:"flex flex-row justify-between items-center bg-gray-100 py-1",children:[Object(y.jsxs)("section",{className:"flex items-center gap-2",children:[D&&Object(y.jsx)("button",{className:"ml-3 bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none ".concat(N?"cursor-not-allowed":"cursor-pointer"," animate__animated animate__fadeIn"),disabled:N,onClick:function(){k(!1),Pt()},children:Object(y.jsx)(b.f,{className:"w-7 h-7"})}),Object(y.jsxs)("div",{className:"text-blue-600 font-extrabold ".concat(D?"text-2xl":"text-xl"," px-2"),children:["CREATE_POSITION"===D?"Creating new position":"UPDATE_POSITION"===D&&"Updating "+je,"CREATE_POSITION"!==D&&"UPDATE_POSITION"!==D&&Object(y.jsxs)("section",{className:"flex items-start md:items-center justify-start md:justify-end gap-1 mt-1",children:[Object(y.jsx)("span",{className:"text-sm text-gray-600",children:"Status: "}),Object(y.jsx)("div",{className:"w-auto ".concat(null===e.systemPositions||f||N?"cursor-not-allowed":"cursor-pointer"," ").concat("TRUE"===Et?"bg-blue-500 text-white font-bold":"bg-gray-100 text-gray-800"," hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return null!==e.systemPositions&&!f&&!N&&St("TRUE")},children:Object(y.jsxs)("div",{className:"flex-1 text-xs",children:[Object(y.jsx)(b.m,{className:"inline-block mr-1 text-xs"}),Object(y.jsx)("span",{children:"Active"})]})}),Object(y.jsx)("div",{className:"w-auto ".concat(null===e.systemPositions||f||N?"cursor-not-allowed":"cursor-pointer"," ").concat("FALSE"===Et?"bg-blue-500 text-white font-bold":"bg-gray-100 text-gray-800"," hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return null!==e.systemPositions&&!f&&!N&&St("FALSE")},children:Object(y.jsxs)("div",{className:"flex-1 text-xs",children:[Object(y.jsx)(b.m,{className:"inline-block mr-1 text-xs"}),Object(y.jsx)("span",{children:"Deleted"})]})})]})]})]}),!D&&null!==e.systemPositions&&Object(y.jsx)("div",{className:"btn bg-blue-600 text-white cursor-pointer hover:bg-blue-800",onClick:function(){k("CREATE_POSITION"),G({ONE:!0,TWO:!1,THREE:!1,FOUR:!1})},children:"Add new"})]}),D?Object(y.jsx)(z,{formSteps:M,thisLevel:te,thisEdication:K,thisCoursesId:le,thisCourses:ne,stepState:ze,positionId:me,positionDesc:Ce,positionTitle:je,thisFieldList:De,thisRequirementList:Me,thisCategory:we,thisSubCategory:Fe,chooseFields:ft,filteredFields:Xe,thisField:$e,isFieldRequired:st,isRequirementRequired:at,courseLength:dt,modalAction:D,setThisEdication:Z,setThisLevel:ie,setFormSteps:G,setThisCoursesId:ue,setThisCourses:oe,setStepState:Ve,setPositionId:he,setModalAction:k,setThisFieldList:ke,setPositionDesc:Te,setPositionTitle:pe,setThisCategory:qe,setThisSubCategory:Pe,setThisRequirementList:Be,setFilteredFields:Je,setThisField:et,setIsFieldRequired:rt,setIsRequirementRequired:ct,setCourseLength:bt,setChooseFields:gt,setThisPosition:P,cleanStates:Pt,positionSubCategoryId:Rt,setPositionSubCategoryId:Lt,setPositionCode:Oe,positionCode:ye}):Object(y.jsx)("div",{className:"flex flex-col",children:e.systemPositions&&0===Dt(e.systemPositions,Et).length?Object(y.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(y.jsx)(d.j,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(y.jsx)("span",{children:"No position available"})]}):Object(y.jsxs)("div",{children:[Object(y.jsxs)("section",{className:"flex flex-col-reverse sm:flex-row items-center gap-2 w-full my-2",children:[Object(y.jsx)("div",{className:"w-full sm:w-3/4",children:Object(y.jsx)("input",{onChange:function(e){return _t(e.target.value)},type:"text",className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full",placeholder:"Search position by title or description",value:xt,disabled:!(At(Dt(e.systemPositions,Et),vt).length>0)})}),"TRUE"===Et&&Object(y.jsx)("div",{className:"w-full sm:w-1/4",children:Object(y.jsxs)("select",{className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full",placeholder:"Filter by status",onChange:function(e){return Nt(e.target.value)},children:[Object(y.jsx)("option",{value:"",disabled:!0,children:"Filter by status"}),Object(y.jsx)("option",{value:"ALL",children:"All positions"}),Object(y.jsx)("option",{value:"PUBLISHED",children:"Published positions"}),Object(y.jsx)("option",{value:"NOT_PUBLISHED",children:"Not Published positions"})]})})]}),e.systemPositions&&Object(B.a)(At(Dt(e.systemPositions,Et),vt),xt).length>0?Object(B.a)(At(Dt(e.systemPositions,Et),vt),xt).map((function(e,t){return Object(y.jsxs)("div",{className:"border ".concat(L&&L.position_id===e.position_id||e.isPublished?"hover:bg-blue-50":"border-yellow-500 hover:bg-yellow-100"),children:[Object(y.jsxs)("div",{className:"w-full flex flex-row px-3 py-2 rounded items-start my-1 justify-between group ".concat(It(e).section),children:[Object(y.jsxs)("div",{className:"flex flex-col cursor-pointer",onClick:function(){!N&&L&&L.position_id===e.position_id?P(null):P(e)},children:[Object(y.jsx)("span",{className:"text-gray-600 font-bold",children:e.position_title}),Object(y.jsx)("span",{className:"text-xs pr-5 text-gray-500",children:e.description})]}),Object(y.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(!L||L.position_id!==e.position_id)&&Object(y.jsx)("span",{className:"inline-block rounded-full text-gray-800 duration-300 text-xs font-bold px-2 md:px-3 py-1 opacity-90 group-hover:opacity-100 ".concat(e.isPublished?"bg-blue-50":"bg-yellow-200"),children:e.isPublished?"Published":"Unpublished"}),L&&L.position_id===e.position_id&&Object(y.jsxs)("div",{className:"flex items-center gap-2",children:[!e.isDeleted&&Object(y.jsx)("button",{className:"".concat(It(e).button," rounded-full px-1 py-1 focus:outline-none ").concat(N?"cursor-not-allowed":"cursor-pointer"," animate__animated animate__fadeIn"),disabled:N,onClick:function(){Z(e.education_institute_id),ie(e.school_level_id),oe(e.courses),ue(e.courses.map((function(e){return e.course_id}))),pe(e.position_title),Oe(e.position_code),he(e.position_id),Te(e.description),Lt(e.subcategory_id),Be(function(e){console.log({requirements:e});var t=[],i=[];return e.forEach((function(e){console.log({element:e}),e.position_requirement.forEach((function(e){console.log({item:e}),i.push({category_subcategory_data_id:e._id,required:e.required})})),t.push({user_detail_category_id:e.category.user_detail_category_id,user_detail_subcategory_id:e.subcategory.user_detail_subcategory_id,position_requirement:i,required:e.required}),i=[]})),t}(e.requirements)),G({ONE:!0,TWO:!1,THREE:!1,FOUR:!1}),Ve({ONE:!0,TWO:!0,THREE:!0,FOUR:!0}),k("UPDATE_POSITION")},children:Object(y.jsx)(b.C,{className:"text-3xl text-blue-700"})}),Object(y.jsx)("button",{className:"".concat(It(e).button," rounded-full px-1 py-1 focus:outline-none ").concat(N||S?"cursor-not-allowed":"cursor-pointer"," animate__animated animate__fadeIn"),onClick:function(){return c(e.position_id)},disabled:!(!S&&!N),children:e.isDeleted?Object(y.jsx)(b.ub,{className:"text-3xl text-yellow-700"}):Object(y.jsx)(b.A,{className:"text-3xl text-red-700"})})]}),Object(y.jsx)("div",{onClick:function(){!N&&L&&L.position_id===e.position_id?P(null):P(e)},className:"".concat(L&&L.position_id===e.position_id?It(e).button:e.isPublished?"bg-gray-50 group-hover:bg-blue-100":"bg-gray-50 group-hover:bg-gray-100"," rounded-full px-1 py-1 ").concat(N?"cursor-not-allowed":"cursor-pointer"),children:L&&L.position_id===e.position_id?Object(y.jsx)(b.F,{className:"text-3xl text-gray-700"}):Object(y.jsx)(b.G,{className:"text-3xl text-gray-700"})})]})]}),L&&L.position_id===e.position_id&&Object(y.jsx)(x.a,{thisPosition:L,setThisPosition:P})]},t+e.position_id)})):Object(y.jsx)(V.b,{theme:V.a.Dark,value:"No position found"})]})})]}),!Object(F.e)(s)&&L&&Object(y.jsx)(X.b,{modalType:L.isDeleted?X.a.RESTORE_DELETE:X.a.DELETE,confirmFun:function(){return Ft(s)},setModalAction:function(e){return!e&&c("")},description:"Do you really want to ".concat(L.isDeleted?"restore this position?":"delete this position? This process can affect applications")})]})}))},640:function(e,t,i){"use strict";i.d(t,"e",(function(){return s})),i.d(t,"d",(function(){return r})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"g",(function(){return a})),i.d(t,"f",(function(){return c})),i.d(t,"a",(function(){return l}));var s=function(e){return null===e||null!==e.match(/^ *$/)},r=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},n=function(e,t){return e.find((function(e){return e.education_institute_id===t}))},o=function(e,t){return e.find((function(e){return e.position_id===t}))},a=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=new Array(t+1).join("0");return(i+e).slice(-t)},l=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},644:function(e,t,i){"use strict";var s=i(17),r=i(4),n=i(165),o=i(10),a=i(1);t.a=function(e){var t,i,c=e.tableId&&"myTable"!==e.tableId?e.tableId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=i.length,r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*s));return t}(),l=Object(r.useState)(0),u=Object(s.a)(l,2),d=u[0],b=u[1],m=Object(r.useState)(1),h=Object(s.a)(m,2),f=h[0],g=h[1],j=Object(r.useState)(1),p=Object(s.a)(j,2),x=p[0],_=p[1],y=Object(r.useState)(),O=Object(s.a)(y,2),v=O[0],N=O[1],C=Object(r.useState)(10),T=Object(s.a)(C,2),E=T[0],S=T[1],w=Object(r.useState)(0),q=Object(s.a)(w,2),R=q[0],L=q[1],F=Object(r.useState)(0),P=Object(s.a)(F,2),I=P[0],A=P[1];Object(r.useEffect)((function(){e.pagination&&D()}));var D=function(){t=document.getElementById(c),i=t.getElementsByTagName("tr"),b(i.length),g(Math.ceil(d/E)),L((x-1)*E),A(Math.min(R+E-1,d-1));var e=Array.from(Array(f+1-1).keys()).map((function(e){return 1+e}));v&&e.length===v.length||N(e);for(var s=0;s<i.length;s++)i[s].style.display=s>=R&&s<=I?"":"none"};return Object(a.jsxs)("div",{className:"".concat(e.tableSize," overflow-x-auto"),children:[e.search&&Object(a.jsx)("div",{className:"".concat(e.searchBG," w-full mb-2"),children:e.search&&Object(a.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(a.jsx)(o.xb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(a.jsx)("input",{type:"search",placeholder:"search",onChange:function(i){return function(i,s){var r,n,o,a,l;for("field"===s&&"all"===i&&(i=""),r=i.toLowerCase(),n=(t=document.getElementById(c)).getElementsByTagName("tr"),a=0;a<n.length;a++)for(l=0;l<e.columns.length;l++)if(o=n[a].getElementsByTagName("td")[l]){if((o.textContent||o.innerText).toLowerCase().indexOf(r)>-1){n[a].style.display="";break}n[a].style.display="none"}}(i.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:e.loading}),e.pagination&&Object(a.jsx)("div",{className:"select",children:Object(a.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(e){return S(Number(e.target.value))},disabled:e.loading,children:[Object(a.jsx)("option",{value:"10",children:"10"}),Object(a.jsx)("option",{value:"25",children:"25"}),Object(a.jsx)("option",{value:"50",children:"50"}),Object(a.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(a.jsxs)("div",{className:"overflow-x-auto w-full",children:[Object(a.jsxs)("table",{className:e.tableClass?e.tableClass:"w-full shadow ".concat(e.rounded&&"sm:rounded-lg"," table-auto order-table"),id:c,children:[!e.hideColumns&&Object(a.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(a.jsx)("tr",{className:"text-left tracking-wide bg-".concat(e.thColor,"-100 border-b-2 border-").concat(e.thColor,"-500 text-").concat(e.thColor,"-600"),children:e.columns.map((function(e,t){return Object(a.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,i,s,r,n,o,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",u=0;if(s=!0,t=document.getElementById(e))for(;s;){for(s=!1,i=t.rows,r=1;r<i.length-1;r++)if(a=!1,n=i[r].getElementsByTagName("TD")[c],o=i[r+1].getElementsByTagName("TD")[c],"asc"===l&&n&&o){if(n.innerHTML.toLowerCase()>o.innerHTML.toLowerCase()){a=!0;break}}else if("desc"===l&&n&&o&&n.innerHTML.toLowerCase()<o.innerHTML.toLowerCase()){a=!0;break}a&&i[r].parentNode?(i[r].parentNode.insertBefore(i[r+1],i[r]),s=!0,u++):0===u&&"asc"===l&&(l="desc",s=!0)}}(c,t)},children:Object(a.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(a.jsx)(n.i,{})]})},t)}))})}),Object(a.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:e.rows()})]}),e.pagination&&Object(a.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(a.jsx)("div",{children:Object(a.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",E," of ",d-1," Entries"]})}),Object(a.jsx)("div",{children:Object(a.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==x&&"bg-white"),"aria-label":"Previous",disabled:1===x||e.loading,onClick:function(){return _(x-1)},children:Object(a.jsx)(o.cb,{className:"h-5 w-5"})})}),Object(a.jsx)("div",{children:v&&v.map((function(t,i){return Object(a.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(t!==x?"bg-white":"bg-gray-100 cursor-default"),disabled:t===x||e.loading,onClick:function(){return _(t)},children:t},i)}))}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(x!==f&&"bg-white"),"aria-label":"Next",disabled:x===f||e.loading,onClick:function(){return _(x+1)},children:Object(a.jsx)(o.db,{className:"h-5 w-5"})})})]})})]})]})]})}},647:function(e,t,i){"use strict";i.d(t,"h",(function(){return b})),i.d(t,"a",(function(){return m})),i.d(t,"k",(function(){return h})),i.d(t,"d",(function(){return f})),i.d(t,"j",(function(){return g})),i.d(t,"c",(function(){return j})),i.d(t,"m",(function(){return p})),i.d(t,"f",(function(){return x})),i.d(t,"i",(function(){return _})),i.d(t,"b",(function(){return y})),i.d(t,"l",(function(){return O})),i.d(t,"e",(function(){return v})),i.d(t,"g",(function(){return C})),i.d(t,"n",(function(){return T}));var s=i(5),r=i.n(s),n=i(7),o=i(8),a=i.n(o),c=i(6),l=i(9),u=i(15),d=i(14),b=function(){return function(){var e=Object(n.a)(r.a.mark((function e(t){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(u.b)(),e.next=4,a.a.get("".concat(l.a.AUTH,"/detailcategory"));case 4:i=e.sent,console.log({docCategory:i}),t({type:c.a.GET_DOCUMENT_CATEGORY,payload:i.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({error:Object(d.a)(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.CREATE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.UPDATE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.DELETE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(){return function(){var e=Object(n.a)(r.a.mark((function e(t){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(u.b)(),e.next=4,a.a.get("".concat(l.a.AUTH,"/detailsubcategory"));case 4:i=e.sent,console.log({docSubCategory:i}),t({type:c.a.GET_DOCUMENT_SUB_CATEGORY,payload:i.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({doc_SUB_category_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.CREATE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.UPDATE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.DELETE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(){return function(){var e=Object(n.a)(r.a.mark((function e(t){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(u.b)(),e.next=4,a.a.get("".concat(l.a.AUTH,"/categorysubcatedata"));case 4:i=e.sent,console.log({docFields:i}),t({type:c.a.GET_DOCUMENT_FIELDS,payload:i.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({doc_SUB_category_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.CREATE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return console.log({reducer:e}),function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.UPDATE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.DELETE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){var t=[],i=[];return e.filter((function(e){return null!==e&&void 0!==e})).forEach((function(e){i.includes(e.user_id)||(t.push(e),i.push(e.user_id))})),t},C=function(e,t,i){return function(){var s=Object(n.a)(r.a.mark((function s(n){var o;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i(!0,"",null),s.prev=1,Object(u.b)(),s.next=5,a.a.get("".concat(l.a.APPLICATION,"/educationtypeuserdocs/").concat(e,"/").concat(t));case 5:o=s.sent,console.log("===================================="),console.log({getCandidatesInInstitute:o,distinctCandidates:N(o.data)}),console.log("===================================="),n({type:c.a.GET_CANDIDATE_IN_INSTITUTE,payload:N(o.data)}),i(!1,"",N(o.data)),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(1),console.log({getCandidatesInInstitute:s.t0}),i(!1,Object(d.a)(s.t0),null);case 17:case"end":return s.stop()}}),s,null,[[1,13]])})));return function(e){return s.apply(this,arguments)}}()},T=function(e){return console.log("================verifyDocument===================="),console.log({verifyDocument:e}),console.log("================verifyDocument===================="),function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.VERIFY_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},656:function(e,t,i){"use strict";i.d(t,"e",(function(){return b})),i.d(t,"c",(function(){return m})),i.d(t,"a",(function(){return h})),i.d(t,"d",(function(){return f})),i.d(t,"b",(function(){return g})),i.d(t,"f",(function(){return j}));var s=i(5),r=i.n(s),n=i(7),o=i(8),a=i.n(o),c=i(6),l=i(9),u=i(15),d=i(14),b=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,a.a.get("".concat(l.a.AUTH,"/settings"));case 5:s=t.sent,i({type:c.a.GET_SYSTEM_SETTINGS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){var s,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,a.a.get("".concat(l.a.AUTH,"/allroleaccess"));case 5:s=t.sent,n=s.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),i({type:c.a.GET_TASK_ACCESS,payload:n}),e(!1,"",n),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(u.b)(),t.next=5,a.a.get("".concat(l.a.APPLICATION,"/position"));case 5:s=t.sent,i({type:c.a.GET_POSTIONS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(d.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return console.log({deletePosition:e}),function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(n.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({type:c.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},666:function(e,t,i){"use strict";i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));var s,r,n,o=i(31);!function(e){e.INITIATED="initiated",e.CONFIRMED="confirmed",e.RECEIVED="received"}(s||(s={})),function(e){e.Title="title",e.Description="description",e.Files="files",e.email="email",e.names="names",e.phone_number="phone_number",e.position="position",e.relation="relation",e.src="src",e.year="year",e.company="company",e.category_subcategory_data="category_subcategory_data",e.others="others",e.start_year="start_year",e.end_year="end_year",e.School="School"}(r||(r={})),function(e){e.APPROVED="approved",e.REJECTED="rejected"}(n||(n={}));o.c.APPLICATION,o.c.DOCUMENT_VALIDATION,o.c.EXAMINATION,o.c.MARKS_PUBLICATION,o.c.PLACEMENT_TRANSFER},692:function(e,t,i){"use strict";var s=i(4),r=i.n(s),n=i(644),o=i(640),a=i(1),c=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(n.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Qualification",alignText:"left",padding:"p-3"},{columnTitle:"Document",alignText:"left",padding:"p-3"},{columnTitle:"Status",alignText:"left",padding:"p-3"}],rows:function(){var t=e.requirements;return 0===t.length?[Object(a.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(a.jsx)("td",{className:"p-3 text-center",colSpan:3,children:"No Data Found"})},153)]:t.map((function(e,t){return Object(a.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(a.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(a.jsx)("td",{className:"p-3 text-left",children:Object(a.jsx)("span",{children:e.subcategory_title})}),Object(a.jsx)("td",{className:"p-3 text-left",children:Object(a.jsx)("span",{children:Object(o.e)(e.field_id)?"Any document":e.field_title})}),Object(a.jsx)("td",{className:"p-3 text-left text-lg italic",children:Object(o.e)(e.field_id)?e.subcategory_required?Object(a.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional":e.required?Object(a.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional"})]},t+e.field_id)}))},pagination:!1,search:!1,thColor:"gray"})})};t.a=r.a.memo(c)},710:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var s,r=i(655),n=i(766),o=i(10),a=i(1);!function(e){e.RESTORE_DELETE="restore_delete",e.DELETE="delete",e.INFO="info",e.OTHER="other"}(s||(s={}));t.b=function(e){return Object(a.jsxs)("div",{className:"min-w-screen h-screen animated fadeIn faster  fixed  left-0 top-0 flex justify-center items-center inset-0 z-50 outline-none focus:outline-none bg-no-repeat bg-center bg-cover",id:"modal-id",children:[Object(a.jsx)("div",{className:"absolute bg-black opacity-80 inset-0 z-0"}),Object(a.jsx)("div",{className:"w-full  max-w-lg p-5 relative mx-auto my-auto rounded-xl shadow-lg bg-white animate__animated animate__zoomIn animate__faster",children:Object(a.jsxs)("div",{className:"",children:[Object(a.jsxs)("div",{className:"text-center p-5 flex-auto justify-center",children:[e.modalType===s.DELETE||e.modalType===s.RESTORE_DELETE&&Object(a.jsx)(r.a,{className:"w-4 h-4 -m-1 flex items-center text-red-500 mx-auto"}),e.modalType===s.DELETE?Object(a.jsx)(o.B,{className:"w-16 h-16 flex items-center text-red-500 mx-auto"}):e.modalType===s.RESTORE_DELETE?Object(a.jsx)(o.ub,{className:"w-16 h-16 flex items-center text-yellow-800 mx-auto"}):e.modalType===s.INFO?Object(a.jsx)(n.a,{className:"w-16 h-16 flex items-center text-blue-500 mx-auto"}):Object(a.jsx)(n.a,{className:"w-16 h-16 flex items-center text-yellow-500 mx-auto"}),Object(a.jsx)("h2",{className:"text-xl font-bold py-4 ",children:"Are you sure?"}),Object(a.jsx)("p",{className:"text-sm text-gray-500 px-8",children:e.description})]}),Object(a.jsxs)("div",{className:"p-3  mt-2 text-center space-x-4 md:block",children:[Object(a.jsx)("button",{className:"mb-2 md:mb-0 bg-white px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-gray-600 rounded-full hover:shadow-lg hover:bg-gray-100",onClick:function(){return e.setModalAction(!1)},children:"Cancel"}),Object(a.jsx)("button",{className:"mb-2 md:mb-0 border px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg ".concat(e.modalType===s.DELETE?"border-red-500 hover:bg-red-600 bg-red-500":e.modalType===s.RESTORE_DELETE?"border-yellow-700 hover:bg-yellow-800 bg-yellow-700":e.modalType===s.INFO?"border-blue-500 hover:bg-blue-600 bg-blue-500":"border-yellow-500 hover:bg-yellow-600 bg-yellow-500"),onClick:function(){e.confirmFun(),e.setModalAction(!1)},children:"Confirm"})]})]})})]})}},766:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o}));var s=i(0);function r(e){return Object(s.a)({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}}]})(e)}function n(e){return Object(s.a)({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16 8.5l-6 6-3-3L8.5 10l1.5 1.5L14.5 7 16 8.5zM5.7 12.2l.8.8H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h7c.55 0 1 .45 1 1v6.5l-.8-.8c-.39-.39-1.03-.39-1.42 0L5.7 10.8a.996.996 0 0 0 0 1.41v-.01zM4 4h5V3H4v1zm0 2h5V5H4v1zm0 2h3V7H4v1zM3 9H2v1h1V9zm0-2H2v1h1V7zm0-2H2v1h1V5zm0-2H2v1h1V3z"}}]})(e)}function o(e){return Object(s.a)({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"}}]})(e)}},791:function(e,t,i){"use strict";var s=i(5),r=i.n(s),n=i(2),o=i(7),a=i(17),c=i(8),l=i.n(c),u=i(4),d=i.n(u),b=i(10),m=i(706),h=i(21),f=i(3),g=i(647),j=i(656),p=i(35),x=i(124),_=i(37),y=i(9),O=i(53),v=i(914),N=i(692),C=i(1),T=function(e){var t=[],i=[],s=[],r=[],n=[];for(var o in e){var a=e[o].requirements;for(var c in a){var l=a[c],u=l.category,d=l.subcategory;if(u){if(l.position_requirement.length>0)for(var b in l.position_requirement){var m=l.position_requirement[b];t.push({category_id:u.user_detail_category_id,category_title:u.title,subcategory_id:d.user_detail_subcategory_id,subcategory_title:d.title,subcategory_required:l.required,field_title:m.title,field_id:m._id,required:m.required})}else t.push({category_id:u.user_detail_category_id,category_title:u.title,subcategory_id:d.user_detail_subcategory_id,subcategory_title:d.title,subcategory_required:l.required,field_title:"",field_id:"",required:!1});s.includes(u.user_detail_category_id)||(s.push(u.user_detail_category_id),i.push({category_id:u.user_detail_category_id,category_title:u.title,subcategory_id:"",subcategory_title:"",field_title:"",field_id:"",required:!1,subcategory_required:l.required})),n.includes(d.user_detail_subcategory_id)||(n.push(d.user_detail_subcategory_id),r.push({category_id:d.category_id,category_title:"",subcategory_id:d.user_detail_subcategory_id,subcategory_title:d.title,subcategory_required:l.required,field_title:"",field_id:"",required:!1}))}}}return{PositionsTemp:t,DistinctCategoriesTemp:i,DistinctSubCategoriesTemp:r}};t.a=d.a.memo(Object(h.b)((function(e){return{document:e.document}}),{getDocumentSubCategory:g.j,publishPosition:j.f,PushPopupAlert:f.tb})((function(e){var t=Object(u.useState)(""),i=Object(a.a)(t,2),s=i[0],c=i[1],d=Object(u.useState)(!0),h=Object(a.a)(d,2),f=h[0],g=h[1];if(Object(u.useEffect)((function(){e.document.documentSubCategory?g(!1):e.getDocumentSubCategory()}),[e]),f)return Object(C.jsx)(p.a,{});var j=function(){var t=Object(o.a)(r.a.mark((function t(i,s,o){var a,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure do you want to ".concat(s?"publish":"unpublish"," this position?"))){t.next=19;break}return c(i),t.prev=2,t.next=5,l.a.patch("".concat(y.a.APPLICATION,"/publishposition/").concat(i),{isPublished:s});case 5:a=t.sent,e.publishPosition({position_id:i,status:s}),e.PushPopupAlert({title:"".concat(o," ").concat(s?" published":" stopped on application"," successfully"),theme:_.a.info}),(u=Object(n.a)({},e.thisPosition)).isPublished=s,e.setThisPosition&&e.setThisPosition(u),console.log("Position publish: ",a),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),console.error("err: ",t.t0),e.PushPopupAlert({title:Object(O.f)(t.t0),theme:_.a.danger});case 18:c("");case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,i,s){return t.apply(this,arguments)}}();return Object(C.jsx)("div",{className:"w-full",children:Object(C.jsxs)("div",{className:"w-full bg-gray-100 px-4 py-1 animate__animated animate__fadeIn",children:[Object(C.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(C.jsx)("span",{className:"text-blue-600 font-bold text-2xl",children:e.thisPosition.position_title}),Object(C.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(C.jsx)("span",{className:"italic",children:"Code:"}),Object(C.jsx)("span",{className:"font-semibold",children:e.thisPosition.position_code})]}),Object(C.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(C.jsx)("span",{className:"italic",children:"Desc:"}),Object(C.jsx)("span",{className:"font-semibold",children:e.thisPosition.description})]}),Object(C.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(C.jsx)("span",{className:"italic",children:"School level:"}),Object(C.jsx)("span",{className:"font-semibold",children:e.thisPosition.school_level_id.school_level_name})]}),!e.isGuest&&Object(C.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(C.jsx)("span",{className:"italic",children:"Primary qualification:"}),Object(C.jsx)("span",{className:"font-semibold",children:e.document.documentSubCategory&&Object(v.b)(e.document.documentSubCategory,e.thisPosition.subcategory_id)?Object(v.b)(e.document.documentSubCategory,e.thisPosition.subcategory_id).title:"Undefined"})]}),Object(C.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(C.jsx)("span",{className:"italic",children:"Institute:"}),Object(C.jsx)("span",{className:"font-semibold",children:e.thisPosition.education_institute_id.education_category_title})]}),Object(C.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600 overflow-x-auto",children:[Object(C.jsx)("span",{className:"italic",children:"Courses:"}),Object(C.jsx)("span",{className:"flex items-center gap-2",children:e.thisPosition.courses.map((function(t,i){return Object(C.jsxs)("div",{className:"flex items-center gap-1",children:[Object(C.jsx)("span",{className:"font-semibold",children:t.course_name}),Object(C.jsxs)("span",{className:"text-gray-600",children:["(",t.course_code,")"]}),i!==e.thisPosition.courses.length-1&&","]},i+t.course_id)}))})]}),!e.isGuest&&Object(C.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(C.jsx)("span",{className:"italic",children:"Status:"}),Object(C.jsx)("div",{className:"flex flex-row items-center gap-2 mt-1",children:Object(C.jsxs)("div",{className:"relative ".concat(s.length>0?"cursor-not-allowed":"cursor-pointer"," flex items-center gap-1"),onClick:function(){return!s.length&&!e.isGuest&&j(e.thisPosition.position_id,!e.thisPosition.isPublished,e.thisPosition.position_title)},children:[Object(C.jsx)("span",{className:"block w-14 h-8 bg-gray-100 hover:border-gray-100 rounded-full shadow-inner"}),Object(C.jsx)("span",{className:"absolute block w-6 h-6 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-500 ease-in-out ".concat(e.thisPosition.isPublished?"bg-green-500 transform translate-x-full":"bg-yellow-500")}),s===e.thisPosition.position_id?Object(C.jsx)(m.c,{className:"animate__animated animate__rotateIn animate__infinite"}):Object(C.jsx)("span",{className:"font-medium",children:e.thisPosition.isPublished?"Published":"Unpublished"})]})})]})]}),Object(C.jsxs)("div",{className:"bg-white w-full rounded p-2 mb-2",children:[Object(C.jsx)("div",{className:"text-blue-500 text-2xl font-bold my-2",children:"Position Requirements"}),e.thisPosition.requirements.length>0?T([e.thisPosition]).DistinctCategoriesTemp.map((function(t,i){return Object(C.jsxs)("div",{className:"bg-gray-100 rounded p-2",children:[Object(C.jsxs)("div",{className:"flex items-center gap-2 text-2xl text-gray-500 font-bold",children:[Object(C.jsx)(b.Db,{}),Object(C.jsx)("span",{children:t.category_title})]}),Object(C.jsx)("div",{className:"border bg-white mt-1",children:Object(C.jsx)(N.a,{requirements:T([e.thisPosition]).PositionsTemp.filter((function(e){return e.category_id===t.category_id}))})})]},i+t.category_id)})):Object(C.jsx)(x.b,{theme:x.a.Dark,value:"No requirements"})]})]})})})))},914:function(e,t,i){"use strict";i.d(t,"b",(function(){return N}));var s=i(5),r=i.n(s),n=i(7),o=i(17),a=i(8),c=i.n(a),l=i(4),u=i.n(l),d=i(10),b=i(21),m=i(3),h=i(647),f=i(656),g=i(35),j=i(37),p=i(9),x=i(14),_=i(644),y=i(640),O=i(1),v=u.a.memo(Object(b.b)((function(e){return{document:e.document}}))((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(_.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Qualification",alignText:"left",padding:"p-3"},{columnTitle:"Document",alignText:"left",padding:"p-3"},{columnTitle:"Status",alignText:"left",padding:"p-3"}],rows:function(){var t=e.requirementsArray;return 0===t.length?[Object(O.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(O.jsx)("td",{className:"p-3 text-center",colSpan:3,children:"No Requirement Found"})},1)]:t.map((function(e,t){return Object(O.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(O.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(O.jsx)("td",{className:"p-3 text-left",children:Object(O.jsx)("span",{children:e.subcategory_title})}),Object(O.jsx)("td",{className:"p-3 text-left",children:Object(O.jsx)("span",{children:Object(y.e)(e.field_id)?"Any document":e.field_title})}),Object(O.jsx)("td",{className:"p-3 text-left text-lg italic",children:Object(y.e)(e.field_id)?e.subcategory_required?Object(O.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional":e.required?Object(O.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional"})]},t+e.field_id)}))},pagination:!1,search:!1,thColor:"white"})})}))),N=function(e,t){return e.find((function(e){return e.user_detail_subcategory_id===t}))};t.a=u.a.memo(Object(b.b)((function(e){return{document:e.document,systemPositions:e.system_settings.systemPositions}}),{getDocumentCategory:h.h,getDocumentSubCategory:h.j,getDocumentFields:h.i,getPositions:f.d,PushPopupAlert:m.tb})((function(e){var t=Object(l.useState)(!1),i=Object(o.a)(t,2),s=i[0],a=i[1],u=Object(l.useState)(!0),b=Object(o.a)(u,2),m=b[0],h=b[1];Object(l.useEffect)((function(){e.document.documentCategory?e.document.documentSubCategory?e.document.documentFields?h(!1):e.getDocumentFields():e.getDocumentSubCategory():e.getDocumentCategory()}),[e]);var f=function(){var t=Object(n.a)(r.a.mark((function t(){var i,s,n,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(!0),e.thisRequirementList){t.next=3;break}return t.abrupt("return",e.PushPopupAlert({title:"Please add requirement",theme:j.a.warning}));case 3:if(t.prev=3,"UPDATE_POSITION"!==e.modalAction){t.next=20;break}return i={position_id:e.positionId,position_title:e.positionTitle,position_code:e.positionCode,description:e.positionDesc,subcategory_id:e.positionSubCategoryId,school_level_id:e.thisLevel.school_level_id,education_institute_id:e.thisEdication.education_institute_id,courses:e.thisCoursesId,requirements:e.thisRequirementList},t.next=8,c.a.patch("".concat(p.a.APPLICATION,"/position"),i);case 8:s=t.sent,console.log("==================UPDATE POSITION=================="),console.log({update_position:i}),console.log({"Result: ":s}),console.log("===================UPDATE POSITION================="),e.getPositions((function(t,i){a(t),i.length&&e.PushPopupAlert({title:i,theme:j.a.danger})})),e.PushPopupAlert({title:"Position updated successfully",theme:j.a.info}),e.systemPositions&&e.setThisPosition(null),e.cleanStates(),e.setModalAction(!1),t.next=32;break;case 20:return n={position_title:e.positionTitle,position_code:e.positionCode,description:e.positionDesc,school_level_id:e.thisLevel.school_level_id,subcategory_id:e.positionSubCategoryId,education_institute_id:e.thisEdication.education_institute_id,courses:e.thisCoursesId,requirements:e.thisRequirementList},console.log("==================CREATE POSITION=================="),console.log({create_position:n}),console.log("==================CREATE POSITION=================="),t.next=26,c.a.post("".concat(p.a.APPLICATION,"/position"),n);case 26:o=t.sent,e.getPositions((function(t,i){a(t),i.length&&e.PushPopupAlert({title:i,theme:j.a.danger})})),e.PushPopupAlert({title:"Position created successfully",theme:j.a.success}),e.cleanStates(),e.setModalAction(!1),console.log("CREATING_NEW_POSITION: ",o);case 32:t.next=39;break;case 34:t.prev=34,t.t0=t.catch(3),e.PushPopupAlert({title:"".concat(Object(x.a)(t.t0),"! Try again"),theme:j.a.danger}),console.error("Err: ",{error:t.t0}),a(!1);case 39:case"end":return t.stop()}}),t,null,[[3,34]])})));return function(){return t.apply(this,arguments)}}();if(m)return Object(O.jsx)(g.a,{});var _=function(t){var i=[],s=[],r=[],n=[],o=[],a=function(a){if(e.document.documentCategory&&e.document.documentSubCategory&&e.document.documentFields){var c=e.document.documentCategory.find((function(e){return e.user_detail_category_id===t[a].user_detail_category_id})),l=e.document.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t[a].user_detail_subcategory_id}));if(c&&l)if(r.includes(t[a].user_detail_category_id)||(r.push(t[a].user_detail_category_id),s.push({category_id:t[a].user_detail_category_id,category_title:c.title,subcategory_id:"",subcategory_title:"",subcategory_required:t[a].required,field_title:"",field_id:"",required:!1})),o.includes(t[a].user_detail_subcategory_id)||(o.push(t[a].user_detail_subcategory_id),n.push({category_id:t[a].user_detail_category_id,category_title:"",subcategory_id:t[a].user_detail_subcategory_id,subcategory_title:l.title,subcategory_required:!1,field_title:"",field_id:"",required:!1})),t[a].position_requirement.length>0){var u=function(s){var r=t[a].position_requirement[s];i.push({category_id:c.user_detail_category_id,category_title:c.title,subcategory_id:l.user_detail_subcategory_id,subcategory_title:l.title,subcategory_required:t[a].required,field_title:e.document.documentFields.find((function(e){return e._id===r.category_subcategory_data_id}))?e.document.documentFields.find((function(e){return e._id===r.category_subcategory_data_id})).title:"",field_id:r.category_subcategory_data_id,required:r.required})};for(var d in t[a].position_requirement)u(d)}else i.push({category_id:c.user_detail_category_id,category_title:c.title,subcategory_id:l.user_detail_subcategory_id,subcategory_title:l.title,subcategory_required:t[a].required,field_title:"",field_id:"",required:!1})}};for(var c in t)a(c);return{PositionsTemp:i,DistinctCategoriesTemp:s,DistinctSubCategoriesTemp:n}};return Object(O.jsxs)(l.Fragment,{children:[Object(O.jsxs)("div",{className:"w-full px-4 py-1 mt-4 animate__animated animate__fadeIn",children:[Object(O.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(O.jsx)("span",{className:"text-blue-600 font-bold text-2xl",children:e.positionTitle}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Code:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.positionCode})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Desc:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.positionDesc})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"School level:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.thisLevel.school_level_name})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Primary qualification:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.document.documentSubCategory&&N(e.document.documentSubCategory,e.positionSubCategoryId)?N(e.document.documentSubCategory,e.positionSubCategoryId).title:"Undefined"})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Institute:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.thisEdication.education_category_title})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Courses:"}),Object(O.jsx)("span",{className:"flex items-center gap-2",children:e.thisCourses.map((function(t,i){return Object(O.jsxs)("div",{className:"flex items-center gap-1",children:[Object(O.jsx)("span",{className:"font-semibold",children:t.course_name}),Object(O.jsxs)("span",{className:"text-gray-600",children:["(",t.course_code,")"]}),i!==e.thisCourses.length-1&&","]},i+t.course_id)}))})]})]}),Object(O.jsxs)("div",{className:"bg-white w-full rounded p-2 mb-2",children:[Object(O.jsx)("div",{className:"text-blue-500 text-2xl font-bold my-2",children:"Position Requirements"}),e.thisRequirementList&&e.thisRequirementList.length>0?_(e.thisRequirementList).DistinctCategoriesTemp.map((function(t,i){return Object(O.jsxs)("div",{className:"bg-gray-100 rounded p-2",children:[Object(O.jsxs)("div",{className:"flex items-center gap-2 text-2xl text-gray-500 font-bold",children:[Object(O.jsx)(d.Db,{}),Object(O.jsx)("span",{children:t.category_title})]}),Object(O.jsx)("div",{className:"border bg-white mt-1",children:e.thisRequirementList&&Object(O.jsx)(v,{requirementsArray:_(e.thisRequirementList).PositionsTemp.filter((function(e){return e.category_id===t.category_id}))})})]},i+t.category_id)})):Object(O.jsx)("div",{children:"No Data"})]})]}),Object(O.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[Object(O.jsx)("button",{className:"btn bg-gray-500 text-gray-50 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return e.setFormSteps({ONE:!1,TWO:!1,THREE:!0,FOUR:!1})},children:"Back"}),Object(O.jsx)("button",{className:"btn btn-blue mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return f()},disabled:s,children:s?"Loading...":"Save"})]})]})})))}}]);
//# sourceMappingURL=38.fa149e0f.chunk.js.map