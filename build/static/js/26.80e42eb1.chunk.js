(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[26,2,13,30,55],{197:function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"f",(function(){return a})),s.d(t,"e",(function(){return i})),s.d(t,"c",(function(){return r})),s.d(t,"d",(function(){return c})),s.d(t,"h",(function(){return o})),s.d(t,"g",(function(){return l})),s.d(t,"a",(function(){return d}));var n=[{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"7322342684"},{school_id:"32762426329",school_title:"Rucee De Kigali",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"73232432684",number_of_females:10,number_of_males:12}],a=function(e){return null===e||null!==e.match(/^ *$/)},i=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},r=function(e,t){return e.find((function(e){return e.education_institute_id===t}))},c=function(e,t){return console.log({positions:e,position_id:t,data:e.filter((function(e){return e.position_id===t}))[0]}),e.find((function(e){return e.position_id===t}))},o=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=new Array(t+1).join("0");return(s+e).slice(-t)},d=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},199:function(e,t,s){"use strict";var n=s(14),a=s(4),i=s(85),r=s(10),c=s(1);t.a=function(e){var t,s,o=e.tableId&&"myTable"!==e.tableId?e.tableId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=s.length,a=0;a<e;a++)t+=s.charAt(Math.floor(Math.random()*n));return t}(),l=Object(a.useState)(0),d=Object(n.a)(l,2),u=d[0],m=d[1],f=Object(a.useState)(1),p=Object(n.a)(f,2),b=p[0],h=p[1],j=Object(a.useState)(1),x=Object(n.a)(j,2),g=x[0],_=x[1],y=Object(a.useState)(),O=Object(n.a)(y,2),v=O[0],N=O[1],w=Object(a.useState)(10),C=Object(n.a)(w,2),S=C[0],I=C[1],D=Object(a.useState)(0),R=Object(n.a)(D,2),T=R[0],E=R[1],k=Object(a.useState)(0),A=Object(n.a)(k,2),L=A[0],B=A[1];Object(a.useEffect)((function(){e.pagination&&P()}));var P=function(){t=document.getElementById(o),s=t.getElementsByTagName("tr"),m(s.length),h(Math.ceil(u/S)),E((g-1)*S),B(Math.min(T+S-1,u-1));var e=Array.from(Array(b+1-1).keys()).map((function(e){return 1+e}));v&&e.length===v.length||N(e);for(var n=0;n<s.length;n++)s[n].style.display=n>=T&&n<=L?"":"none"};return Object(c.jsxs)("div",{className:"".concat(e.tableSize," overflow-x-auto"),children:[e.search&&Object(c.jsx)("div",{className:"".concat(e.searchBG," w-full mb-2"),children:e.search&&Object(c.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(c.jsx)(r.Cb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(c.jsx)("input",{type:"search",placeholder:"search",onChange:function(s){return function(s,n){var a,i,r,c,l;for("field"===n&&"all"===s&&(s=""),a=s.toLowerCase(),i=(t=document.getElementById(o)).getElementsByTagName("tr"),c=0;c<i.length;c++)for(l=0;l<e.columns.length;l++)if(r=i[c].getElementsByTagName("td")[l]){if((r.textContent||r.innerText).toLowerCase().indexOf(a)>-1){i[c].style.display="";break}i[c].style.display="none"}}(s.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:e.loading}),e.pagination&&Object(c.jsx)("div",{className:"select",children:Object(c.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(e){return I(Number(e.target.value))},disabled:e.loading,children:[Object(c.jsx)("option",{value:"10",children:"10"}),Object(c.jsx)("option",{value:"25",children:"25"}),Object(c.jsx)("option",{value:"50",children:"50"}),Object(c.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(c.jsxs)("div",{className:"overflow-x-auto w-full",children:[Object(c.jsxs)("table",{className:e.tableClass?e.tableClass:"w-full shadow ".concat(e.rounded&&"sm:rounded-lg"," table-auto order-table"),id:o,children:[!e.hideColumns&&Object(c.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(c.jsx)("tr",{className:"text-left tracking-wide bg-".concat(e.thColor,"-100 border-b-2 border-").concat(e.thColor,"-500 text-").concat(e.thColor,"-600"),children:e.columns.map((function(e,t){return Object(c.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,s,n,a,i,r,c,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(n=!0,t=document.getElementById(e))for(;n;){for(n=!1,s=t.rows,a=1;a<s.length-1;a++)if(c=!1,i=s[a].getElementsByTagName("TD")[o],r=s[a+1].getElementsByTagName("TD")[o],"asc"===l&&i&&r){if(i.innerHTML.toLowerCase()>r.innerHTML.toLowerCase()){c=!0;break}}else if("desc"===l&&i&&r&&i.innerHTML.toLowerCase()<r.innerHTML.toLowerCase()){c=!0;break}c&&s[a].parentNode?(s[a].parentNode.insertBefore(s[a+1],s[a]),n=!0,d++):0===d&&"asc"===l&&(l="desc",n=!0)}}(o,t)},children:Object(c.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(c.jsx)(i.i,{})]})},t)}))})}),Object(c.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:e.rows()})]}),e.pagination&&Object(c.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",S," of ",u-1," Entries"]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==g&&"bg-white"),"aria-label":"Previous",disabled:1===g||e.loading,onClick:function(){return _(g-1)},children:Object(c.jsx)(r.hb,{className:"h-5 w-5"})})}),Object(c.jsx)("div",{children:v&&v.map((function(t,s){return Object(c.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(t!==g?"bg-white":"bg-gray-100 cursor-default"),disabled:t===g||e.loading,onClick:function(){return _(t)},children:t},s)}))}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(g!==b&&"bg-white"),"aria-label":"Next",disabled:g===b||e.loading,onClick:function(){return _(g+1)},children:Object(c.jsx)(r.ib,{className:"h-5 w-5"})})})]})})]})]})]})}},200:function(e,t,s){"use strict";s.d(t,"d",(function(){return m})),s.d(t,"b",(function(){return f})),s.d(t,"f",(function(){return p})),s.d(t,"a",(function(){return b})),s.d(t,"c",(function(){return h})),s.d(t,"e",(function(){return j})),s.d(t,"g",(function(){return x}));var n,a=s(5),i=s.n(a),r=s(7),c=s(8),o=s.n(c),l=s(6),d=s(9),u=s(13);!function(e){e.waiting="waiting",e.approved="approved",e.rejected="rejected"}(n||(n={}));var m=function(){return function(){var e=Object(r.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(u.b)(),e.next=4,o.a.get("".concat(d.a.AUTH,"/users?page=1&limit=500"));case 4:s=e.sent,console.log({users_response:s}),t({type:l.a.FETCH_USERS_ACCESS,payload:s.data.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({user_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return console.log({data:e}),function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.BLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.UNBLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return console.log({data:e}),function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.ASSIGN_ROLE_TO_USER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.CUSTOMIZE_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.RESET_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return console.log({data:e}),function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:l.a.VERIFY_ALL_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},201:function(e,t,s){"use strict";s.d(t,"b",(function(){return m})),s.d(t,"g",(function(){return f})),s.d(t,"e",(function(){return p})),s.d(t,"a",(function(){return b})),s.d(t,"c",(function(){return h})),s.d(t,"h",(function(){return j})),s.d(t,"f",(function(){return x})),s.d(t,"d",(function(){return g}));var n=s(5),a=s.n(n),i=s(7),r=s(8),c=s.n(r),o=s(6),l=s(9),d=s(13),u=s(12),m=function(e){return e(!0,""),function(){var t=Object(i.a)(a.a.mark((function t(s){var n,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,c.a.get("".concat(l.a.CLAIMING,"/session-type"));case 4:n=t.sent,console.log({GET_PLANS_TYPES:n.data}),i=[],200===n.status&&null!==n.data&&n.data.length>0&&(i=n.data),s({type:o.a.GET_PLANS_TYPES,payload:i}),e(!1,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error({error:Object(u.a)(t.t0)}),e(!1,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return console.log({thisType:e}),{type:o.a.SELECT_PLAN_TYPE,payload:e}},p=function(e){return e(!0,""),function(){var t=Object(i.a)(a.a.mark((function t(s){var n,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,c.a.get("".concat(l.a.CLAIMING,"/session/active/"));case 4:n=t.sent,console.log({GET_ACTIVE_SESSION_PLANS:n.data}),i=void 0,n.data&&void 0!==n.data.is_active&&(i=n.data),console.log({session_plan:n.data}),s({type:o.a.GET_ACTIVE_SESSION_PLANS,payload:i||"none"}),e(!1,"",i||"none"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error({error:Object(u.a)(t.t0)}),e(!1,Object(u.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return e(!0,""),function(){var t=Object(i.a)(a.a.mark((function t(s){var n,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,c.a.get("".concat(l.a.CLAIMING,"/session/"));case 4:n=t.sent,console.log({GET_ALL_SESSION_PLANS:n.data}),i=[],200===n.status&&null!==n.data&&n.data.length>0&&(i=n.data),s({type:o.a.GET_ALL_SESSION_PLANS,payload:i}),e(!1,"",i),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error({error:Object(u.a)(t.t0)}),e(!1,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return{type:o.a.CREATE_SESSION_PLAN,payload:e}},j=function(e){return{type:o.a.UPDATE_SESSION_PLAN,payload:e}},x=function(e){return{type:o.a.SESSION_ACTIVATION,payload:e}},g=function(e){return{type:o.a.DELETE_SESSION_PLAN,payload:e}}},202:function(e,t,s){"use strict";s.d(t,"b",(function(){return p})),s.d(t,"a",(function(){return b})),s.d(t,"d",(function(){return h})),s.d(t,"c",(function(){return j}));var n=s(21),a=s(20),i=s(23),r=s(22),c=s(4),o=s.n(c),l=s(18),d=s(3),u=s(10),m=s(1),f=function(e){Object(i.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){return a.props.PageHasSubNav(!0)},a.componentWillUnmount=function(){return a.props.PageHasSubNav(!1)},a.state={loading:!1},a}return Object(a.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(m.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(o.a.Component),p=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.rb,PageHasSubNav:d.sb})(f),b=function(e){var t=e.title,s=void 0===t?"":t,n=e.icon,a=void 0===n?u.m:n,i=e.active,r=void 0!==i&&i,c=e.count,o=void 0===c?0:c,l=a;return Object(m.jsxs)("section",{className:"".concat(!0===r?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(m.jsxs)("section",{className:"flex-1",children:[Object(m.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(m.jsx)("span",{children:s})]}),o>0?Object(m.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:o}):null]})},h=function(e){var t=e.children;return Object(m.jsx)("div",{className:"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer",children:t})},j=function(e){var t=e.title,s=void 0===t?"":t,n=e.icon,a=void 0===n?u.m:n,i=e.active,r=void 0!==i&&i,c=e.count,o=void 0===c?0:c,l=a;return Object(m.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster ".concat(!0===r?"bg-blue-500 text-white font-bold":" text-blue-800"," text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),children:[Object(m.jsx)(l,{className:"inline-block mr-0.1 text-xs ".concat(!0===r?"text-white":"")}),Object(m.jsx)("span",{className:"inline-block pl-1 ".concat(!0===r?"text-white":""),children:s}),o>=1?Object(m.jsx)("span",{className:"text-sm fint-bold ".concat(!0===r?"text-white":""),children:o}):null]})}},204:function(e,t,s){"use strict";s.d(t,"h",(function(){return m})),s.d(t,"a",(function(){return f})),s.d(t,"k",(function(){return p})),s.d(t,"d",(function(){return b})),s.d(t,"j",(function(){return h})),s.d(t,"c",(function(){return j})),s.d(t,"m",(function(){return x})),s.d(t,"f",(function(){return g})),s.d(t,"i",(function(){return _})),s.d(t,"b",(function(){return y})),s.d(t,"l",(function(){return O})),s.d(t,"e",(function(){return v})),s.d(t,"g",(function(){return N})),s.d(t,"n",(function(){return w}));var n=s(5),a=s.n(n),i=s(7),r=s(8),c=s.n(r),o=s(6),l=s(9),d=s(13),u=s(12),m=function(){return function(){var e=Object(i.a)(a.a.mark((function e(t){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,c.a.get("".concat(l.a.AUTH,"/detailcategory"));case 4:s=e.sent,console.log({docCategory:s}),t({type:o.a.GET_DOCUMENT_CATEGORY,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({error:Object(u.a)(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(){var e=Object(i.a)(a.a.mark((function e(t){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,c.a.get("".concat(l.a.AUTH,"/detailsubcategory"));case 4:s=e.sent,console.log({docSubCategory:s}),t({type:o.a.GET_DOCUMENT_SUB_CATEGORY,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({doc_SUB_category_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(){return function(){var e=Object(i.a)(a.a.mark((function e(t){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,c.a.get("".concat(l.a.AUTH,"/categorysubcatedata"));case 4:s=e.sent,console.log({docFields:s}),t({type:o.a.GET_DOCUMENT_FIELDS,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({doc_SUB_category_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return console.log({reducer:e}),function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e,t,s){return function(){var n=Object(i.a)(a.a.mark((function n(i){var r,m;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0,"",null),n.prev=1,Object(d.b)(),n.next=5,c.a.get("".concat(l.a.APPLICATION,"/educationtypeuserdocs/").concat(e,"/").concat(t));case 5:r=n.sent,m=r.data.filter((function(e){return null!==e&&void 0!==e})),console.log("===================================="),console.log({getCandidatesInInstitute:r,newArray:m}),console.log("===================================="),i({type:o.a.GET_CANDIDATE_IN_INSTITUTE,payload:m}),s(!1,"",m),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(1),console.log({getCandidatesInInstitute:n.t0}),s(!1,Object(u.a)(n.t0),null);case 18:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(e){return n.apply(this,arguments)}}()},w=function(e){return console.log({action_verify:e}),function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.VERIFY_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},212:function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return i}));var n,a,i,r=s(26);!function(e){e.INITIATED="initiated",e.CONFIRMED="confirmed",e.RECEIVED="received"}(n||(n={})),function(e){e.Title="title",e.Description="description",e.Files="files",e.email="email",e.names="names",e.phone_number="phone_number",e.position="position",e.relation="relation",e.src="src",e.year="year",e.company="company",e.category_subcategory_data="category_subcategory_data",e.others="others",e.start_year="start_year",e.end_year="end_year",e.School="School"}(a||(a={})),function(e){e.APPROVED="approved",e.REJECTED="rejected"}(i||(i={}));r.c.APPLICATION,r.c.DOCUMENT_VALIDATION,r.c.EXAMINATION,r.c.MARKS_PUBLICATION,r.c.PLACEMENT_TRANSFER},213:function(e,t,s){"use strict";s.d(t,"p",(function(){return u})),s.d(t,"c",(function(){return m})),s.d(t,"m",(function(){return f})),s.d(t,"h",(function(){return p})),s.d(t,"b",(function(){return b})),s.d(t,"l",(function(){return h})),s.d(t,"g",(function(){return j})),s.d(t,"e",(function(){return x})),s.d(t,"o",(function(){return g})),s.d(t,"j",(function(){return _})),s.d(t,"a",(function(){return y})),s.d(t,"k",(function(){return O})),s.d(t,"f",(function(){return v})),s.d(t,"d",(function(){return N})),s.d(t,"n",(function(){return w})),s.d(t,"i",(function(){return C}));var n=s(5),a=s.n(n),i=s(7),r=s(8),c=s.n(r),o=s(6),l=s(9),d=s(12),u=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,c.a.get("".concat(l.a.APPLICATION,"/roomlocation"));case 4:n=t.sent,s({type:o.a.GET_ALL_ROOM,payload:n.data}),console.log("===================================="),console.log({res:n.data}),console.log("===================================="),e(!1,"",n.data),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),console.error("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_PROVINCE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return console.log({data:e}),function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_PROVINCE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_PROVINCE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_DISTRICT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return console.log({data:e}),function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_DISTRICT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return console.log({data:e}),function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_DISTRICT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_SECTOR,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_SECTOR,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return console.log({data:e}),function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_SECTOR,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return console.log({data:e}),function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return console.log({data:e}),function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return console.log({data:e}),function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return console.log({delete_room:e}),function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},222:function(e,t,s){"use strict";s(4);var n=s(269),a=s(270),i=s(27),r=s(1);t.a=function(e){var t=e.fileData,s=e.fileName,c=e.btnName,o=void 0===c?"Excel":c,l=e.className,d=void 0===l?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":l,u=e.showIcon,m=void 0===u||u;return Object(r.jsxs)("button",{onClick:function(e){return function(e,t){var s={Sheets:{data:a.utils.json_to_sheet(e)},SheetNames:["data"]},i=a.write(s,{bookType:"xlsx",type:"array"}),r=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});n.saveAs(r,t+".xlsx")}(t,s)},className:d,children:[m&&Object(r.jsx)(i.k,{}),o]})}},224:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var n=s(5),a=s.n(n),i=s(7),r=s(234),c=s(41),o=s.p+"static/media/mineduc.11a9ae1c.png";s(268);var l=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var s=1;s<=t;s++)e.setPage(s),e.text("Page "+String(s)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},d=function(){var e=Object(i.a)(a.a.mark((function e(t,s,n){var i,d,u,m,f,p,b,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n(!0),i=t.orientation?t.orientation:"p",d=20,20,185,(u=new r.default(i,"mm","a4")).setTextColor(95,95,95),u.setFontSize(28),u.addImage(o,"png",20,20,10,10),u.text("MINEDUC",32,28.5,void 0,"left"),u.setFontSize(26),u.text(t.title,u.internal.pageSize.getWidth()/2,42.7,void 0,"center"),u.setFontSize(20),u.text(t.institute,u.internal.pageSize.getWidth()/2,53.7,void 0,"center"),m=u.splitTextToSize(t.subject,145),u.setFontSize(16),f=63,u.setTextColor(95,95,95),u.text("".concat(t.subjectTitle,": "),d,f),p=u.getTextWidth("".concat(t.subjectTitle,": ")),u.setTextColor(38,38,38),b=0;b<m.length;b++)f>280&&(f=10,u.addPage()),u.text(m[b],d+p,f),f+=7;return u.setTextColor(95,95,95),u.text("Period: ",d,f+3),p=u.getTextWidth("Period: "),u.setTextColor(38,38,38),u.text(t.period,d+p,f+3),u.autoTable({html:s,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),u.setFontSize(12),h=u.lastAutoTable.finalY,u.text("Reported by: ".concat(t.doneBy),d,h+15),u.text("Report downloaded on "+Object(c.a)((new Date).toString()),d,h+23),l(u),e.next=35,u.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"),{returnPromise:!0}).then(n(!1));case 35:case"end":return e.stop()}}),e)})));return function(t,s,n){return e.apply(this,arguments)}}()},228:function(e,t,s){"use strict";s(4);var n=s(1);t.a=function(e){var t=function(){for(var t=[],s=0;s<e.cols;s++)t.push(s);return t.map((function(e){return Object(n.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(n.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(n.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(n.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},235:function(e,t){},236:function(e,t,s){"use strict";s.r(t),s.d(t,"UserAccess",(function(){return _}));var n=s(5),a=s.n(n),i=s(7),r=s(14),c=s(8),o=s.n(c),l=s(4),d=s(85),u=s(10),m=s(257),f=s(225),p=s(18),b=s(200),h=s(199),j=s(9),x=s(12),g=s(1),_=Object(p.b)(null,{customizeUserAccess:b.c})((function(e){var t=e.userInfo,s=e.customizeUserAccess,n=e.setFeedBack,c=(e.feedBack,e.setUserAccess),p=e.userAccess,b=e.currentAccess,_=e.setCurrentAccess,y=Object(l.useState)(!0),O=Object(r.a)(y,2),v=O[0],N=O[1],w=Object(l.useState)(!1),C=Object(r.a)(w,2),S=C[0],I=C[1],D=Object(l.useState)(!1),R=Object(r.a)(D,2),T=R[0],E=R[1],k=Object(l.useState)(!1),A=Object(r.a)(k,2),L=A[0],B=A[1],P=Object(l.useState)(!1),F=Object(r.a)(P,2),q=F[0],U=F[1],M=Object(l.useState)(!1),V=Object(r.a)(M,2),G=V[0],z=V[1],H=function(e,t){if(e&&t&&t.length>0){var s=[],n=function(n){if(Object.prototype.hasOwnProperty.call(e,n)){var a=t.find((function(t){return t.id===e[n].id}));a?s.push(a):s.push(e[n])}};for(var a in e)n(a);c(s)}};Object(l.useEffect)((function(){t&&t.custome_access&&t.default_access&&function(e,t){if(e&&t&&t.length>0){for(var s=[],n=function(){var e=Object(r.a)(i[a],2),n=e[0],c=e[1],o=t.find((function(e){return e.id===c.id}));o?s.push(o):s.push(c),console.log(n)},a=0,i=Object.entries(e);a<i.length;a++)n();c(s)}}(t.default_access.access,t.custome_access.access)}),[t,c]),Object(l.useEffect)((function(){t&&!t.custome_access&&t.default_access&&c(t.default_access.access),N(!1)}),[t,c]);var Y=function(){var e=Object(i.a)(a.a.mark((function e(i){var r,c,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.preventDefault(),I(!0),n({type:"",message:""}),r=null,r=t.custome_access,c=-1,e.prev=6,r&&b?(c=r.access.findIndex((function(e){return e.id===b.id})))>=0?(r.access[c].permitted.create=T,r.access[c].permitted.view=L,r.access[c].permitted.update=q,r.access[c].permitted.delete=G):r.access.push({id:b.id,task:b.task,key:b.key,permitted:{create:T,view:L,update:q,delete:G}}):b&&(r={access:[{id:b.id,task:b.task,key:b.key,permitted:{create:T,view:L,update:q,delete:G}}],user_id:t.user_id,custome_user_access_id:""}),!r){e.next=19;break}if(null===t.custome_access){e.next=15;break}return e.next=12,o.a.patch("".concat(j.a.AUTH,"/custaccess"),{access:r.access,user_id:t.user_id});case 12:l=e.sent,e.next=18;break;case 15:return e.next=17,o.a.post("".concat(j.a.AUTH,"/custaccess"),{access:r.access,user_id:t.user_id});case 17:l=e.sent;case 18:l&&(r.custome_user_access_id=l.data.data.custome_user_access_id,console.log({task:r}),console.log(l.data.data),s(r),r&&t.default_access&&H(t.default_access.access,r.access),n({type:"success",message:"Reseting User Access complete successfully"}),r=null,_(null),E(!1),B(!1),U(!1),z(!1));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),console.error({customize_access:e.t0}),n({type:"danger",message:Object(x.a)(e.t0)});case 25:I(!1);case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}();return!0===v||null===t?Object(g.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading User Access..."}):v?Object(g.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."}):Object(g.jsx)(l.Fragment,{children:Object(g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mx-1 my-2",children:[Object(g.jsxs)("div",{className:"col-span-1 md:col-span-3 bg-white w-full overflow-x-auto border rounded text-center p-2 ".concat(b?"hidden md:block":""),children:[Object(g.jsx)("span",{className:"text-gray-600 mt-2 font-semibold text-2xl",children:"Settings"}),!v&&Object(g.jsx)("div",{className:"overflow-x-auto w-full",children:Object(g.jsx)(h.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:function(){return p?p.map((function(e,t){return Object(g.jsxs)("tr",{className:"text-left border-b border-gray-200 cursor-pointer hover:bg-gray-100 ".concat(b&&b.id===e.id&&"bg-gray-200 border my-3 hover:bg-gray-100"),onClick:function(){return b&&b.id===e.id?(_(null),E(!1),B(!1),U(!1),z(!1)):(_(e),E(e.permitted.create),B(e.permitted.view),U(e.permitted.update),z(e.permitted.delete))},children:[Object(g.jsx)("td",{className:"px-2 py-1",children:Object(g.jsx)("label",{className:"inline-flex items-center",children:Object(g.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(g.jsx)(f.a,{}):Object(g.jsx)(u.O,{}),e.permitted.create?" Yes":"No"]})}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(g.jsx)(f.a,{}):Object(g.jsx)(u.O,{}),e.permitted.view?" Yes":"No"]})}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(g.jsx)(f.a,{}):Object(g.jsx)(u.O,{}),e.permitted.update?" Yes":"No"]})}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(g.jsx)(f.a,{}):Object(g.jsx)(u.O,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id)})):[Object(g.jsx)("tr",{children:Object(g.jsx)("td",{children:"No data"})},46)]},pagination:!1,search:!0,searchBG:"bg-gray-50",thColor:"gray"})})]}),Object(g.jsx)("div",{className:"col-span-1 md:col-span-2",children:b?Object(g.jsxs)("div",{className:"",children:[Object(g.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-center my-2 text-gray-900",children:"Customize User Access"}),Object(g.jsx)("div",{className:"flex justify-center mb-3",children:Object(g.jsxs)("h2",{className:"text-2xl font-semibold text-center text-gray-600 flex flex-row items-center",children:[Object(g.jsx)(d.h,{className:"w-7 h-7"}),b.task]})}),Object(g.jsx)("div",{className:"flex flex-col px-2 md:px-1",children:Object(g.jsxs)("form",{className:"flex flex-col items-center",onSubmit:function(e){return Y(e)},children:[Object(g.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(g.jsx)(m.a,{className:"w-7 h-7 text-gray-600"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("h3",{className:"font-semibold text-xl",children:"Create"}),Object(g.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to create"})]}),Object(g.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return E(!T)},checked:T,disabled:S})]}),Object(g.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(g.jsx)(u.wb,{className:"w-7 h-7 text-gray-600"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("h3",{className:"font-semibold text-xl",children:"View"}),Object(g.jsx)("span",{className:"text-gray-600 text-sm md:pr-4",children:"This permission gives the user the ability to view"})]}),Object(g.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return B(!L)},checked:L,disabled:S})]}),Object(g.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(g.jsx)(u.D,{className:"w-7 h-7 text-gray-600"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("h3",{className:"font-semibold text-xl",children:"Update"}),Object(g.jsx)("span",{className:"text-gray-600 text-sm",children:"This permission gives the user the ability to update"})]}),Object(g.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return U(!q)},checked:q,disabled:S})]}),Object(g.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(g.jsx)(u.B,{className:"w-7 h-7 text-gray-600"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("h3",{className:"font-semibold text-xl",children:"Delete"}),Object(g.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to delete"})]}),Object(g.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return z(!G)},checked:G,disabled:S})]}),Object(g.jsxs)("div",{className:"flex items-center justify-center w-full py-3 gap-2",children:[Object(g.jsx)("button",{className:"btn bg-gray-500 hover:bg-gray-700 focus:outline-none text-white",disabled:S,onClick:function(){_(null),E(!1),B(!1),U(!1),z(!1)},children:"Cancel"}),Object(g.jsx)("button",{className:"btn btn-blue",disabled:S,children:S?"Processing..":"Save Change"})]})]})})]}):Object(g.jsxs)("div",{className:"w-full hidden md:flex flex-col items-center text-gray-600 gap-1 py-3",children:[Object(g.jsx)(u.Eb,{className:"w-20 h-20"}),Object(g.jsx)("span",{className:"text-8 md:text-12",children:"Choose Access to Customize"})]})})]})})}))},239:function(e,t,s){"use strict";s.d(t,"a",(function(){return A}));var n,a=s(5),i=s.n(a),r=s(7),c=s(14),o=s(4),l=s(10),d=s(199),u=s(197),m=s(18),f=s.p+"static/media/blank_profile.c3f94521.png",p=s(236),b=s(21),h=s(20),j=s(23),x=s(22),g=s(8),_=s.n(g),y=s(225),O=s(3),v=s(200),N=s(28),w=s(29),C=s(9),S=s(12),I=s(33),D=s(1),R=function(e){var t=Object(o.useState)(""),s=Object(c.a)(t,2),n=s[0],a=s[1];return Object(D.jsxs)("section",{className:"border-2 rounded border-gray-400",children:[Object(D.jsxs)("div",{className:"flex items-center w-full my-1",children:[Object(D.jsx)(l.Cb,{className:"w-6 h-6 absolute ml-2"}),Object(D.jsx)("input",{type:"text",placeholder:"Search",className:"focus:border-2 h-7 ml-1 pl-9 mr-2 bg-gray-100 focus:border-gray-700 w-full rounded",onChange:function(e){return a(e.target.value)},value:n,disabled:!(Object(I.a)(e.roleList,n).length>0)}),Object(D.jsx)("button",{className:"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none",type:"button",onClick:function(){e.setChooseRole(!1)},children:"Close"})]}),Object(D.jsx)("div",{className:"w-full h-52 mt-2 overflow-y-auto divide-y divide-gray-300",children:Object(I.a)(e.roleList,n).length>0?Object(I.a)(e.roleList,n).map((function(t,s){return Object(D.jsx)("section",{children:Object(D.jsxs)("div",{className:"group flex items-center justify-between my-1 hover:bg-gray-100",children:[Object(D.jsx)("div",{className:"p-1 w-full mr-2 cursor-pointer",onClick:function(){e.setChooseRole(!1),!e.loadindRequest&&e.handleSelectRole(t.system_user_role_id)},children:Object(D.jsx)("p",{className:"text-sm font-medium text-black",children:Object(u.a)(t.role)})}),Object(D.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 py-1 px-2 mr-1 rounded text-sm",children:"Choose"})]})},s+t.role)})):Object(D.jsx)("div",{className:"text-center p-3",children:Object(D.jsx)("p",{className:"text-base font-medium text-black",children:"No role available"})})})]})},T=function(e){Object(j.a)(s,e);var t=Object(x.a)(s);function s(e){var n;return Object(b.a)(this,s),(n=t.call(this,e)).setRoleId=function(e){n.setState({roleId:e})},n.setSelectedRole=function(e){n.setState({selectedRole:e})},n.setProvinceId=function(e){n.setState({provinceId:e})},n.setDistrictId=function(e){n.setState({districtId:e})},n.setCenterId=function(e){n.setState({centerId:e})},n.setRoomId=function(e){n.setState({roomId:e})},n.setLoadingForm=function(e){n.setState({loadingForm:e})},n.setSchoolId=function(e){n.setState({schoolId:e})},n.setLoading=function(e){n.setState({loading:e})},n.setInstituteId=function(e){n.setState({instituteId:e})},n.setFormError=function(e){n.setState({formError:e})},n.setLoadingRequest=function(e){n.setState({loadingRequest:e})},n.setChooseRole=function(e){n.setState({chooseRole:e})},n.setDefaultState=function(e,t){var s,a;if(t.district_required&&n.props.roomList)(a=n.distinctDistrict(n.props.roomList).find((function(t){return t._id===e.district_id})))&&n.setProvinceId(a.province_id),a&&n.setDistrictId(e.district_id),n.setLoadingForm(!1);else if(t.room_required&&n.props.roomList)(s=A(n.props.roomList).find((function(t){return t.room_id===e.room_id})))&&n.setProvinceId(s.province_id),s&&n.setDistrictId(s.district_id),s&&n.setCenterId(s.center_id),n.setRoomId(e.room_id),n.setLoadingForm(!1);else if(t.school_required&&n.props.roomList&&n.props.schoolList){var i=n.props.schoolList.find((function(t){return t._id===e.school_id}));i?((s=A(n.props.roomList).find((function(e){return e.district_id===(null===i||void 0===i?void 0:i.district_id)})))&&n.setProvinceId(s.province_id),s&&n.setDistrictId(s.district_id),n.setSchoolId(e.school_id),n.setLoadingForm(!1)):n.setLoadingForm(!1)}else n.setLoadingForm(!1)},n.componentDidMount=function(){if(n.props.roleList.length){if(n.props.userInfo.default_access&&n.state.loadingForm){if(!n.state.roleId.length){var e=n.props.roleList.find((function(e){return e.system_user_role_id===n.props.userInfo.default_access.system_user_role_id}));e&&(n.setRoleId(n.props.userInfo.default_access.system_user_role_id),n.setSelectedRole(e),n.setDefaultState(n.props.userInfo.default_access,e))}console.log("===================================="),console.log({vvvvv:n.props.userInfo.default_access}),console.log("====================================")}n.state.selectedRole&&n.props.userInfo.default_access&&n.setDefaultState(n.props.userInfo.default_access,n.state.selectedRole),n.setLoading(!1)}},n.handleSelectRole=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SELECT";if(n.props.roleList){var s=n.props.roleList.find((function(t){return t.system_user_role_id===e}));s&&(n.setRoleId(e),n.setSelectedRole(s),n.state.formError&&"role_id"===n.state.formError.element&&n.setFormError(null),"SELECT"===t&&(n.setProvinceId(""),n.setDistrictId(""),n.setSchoolId(""),n.setCenterId(""),n.setRoomId(""),n.setInstituteId("")))}},n.tableData=function(){return n.state.roleId.length>0&&null===n.state.selectedRole&&n.props.roleList&&n.handleSelectRole(n.state.roleId,"DEFAULT"),n.state.selectedRole?n.state.selectedRole.access.map((function(e,t){return Object(D.jsxs)("tr",{className:"text-left border-b border-gray-200 hover:bg-gray-100",children:[Object(D.jsx)("td",{className:"px-2 py-1",children:Object(D.jsx)("label",{className:"inline-flex items-center",children:Object(D.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(D.jsx)(y.a,{}):Object(D.jsx)(l.O,{}),e.permitted.create?" Yes":"No"]})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(D.jsx)(y.a,{}):Object(D.jsx)(l.O,{}),e.permitted.view?" Yes":"No"]})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(D.jsx)(y.a,{}):Object(D.jsx)(l.O,{}),e.permitted.update?" Yes":"No"]})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(D.jsx)(y.a,{}):Object(D.jsx)(l.O,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id)})):[Object(D.jsx)("tr",{children:Object(D.jsx)("td",{colSpan:5,className:"text-center px-2 py-2",children:"No Default Access Available on this Role."})},"55re")]},n.assignRoleToUser=function(){var e=Object(r.a)(i.a.mark((function e(t){var s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("Are sure you want to change user role?")){e.next=3;break}return e.abrupt("return",!1);case 3:if(n.state.selectedRole){e.next=5;break}return e.abrupt("return",n.setFormError({element:"role_id",msg:"User role is required!"}));case 5:if(!0!==n.state.selectedRole.room_required||!Object(u.f)(n.state.provinceId)){e.next=7;break}return e.abrupt("return",n.setFormError({element:"province_id",msg:"Province is required!"}));case 7:if(!0!==n.state.selectedRole.education_institution_required||!Object(u.f)(n.state.instituteId)){e.next=9;break}return e.abrupt("return",n.setFormError({element:"institute_id",msg:"Institute is required on this role!"}));case 9:if(!0!==n.state.selectedRole.room_required&&!0!==n.state.selectedRole.district_required||!Object(u.f)(n.state.districtId)){e.next=11;break}return e.abrupt("return",n.setFormError({element:"district_id",msg:"District is required!"}));case 11:if(!0!==n.state.selectedRole.school_required||!Object(u.f)(n.state.schoolId)){e.next=13;break}return e.abrupt("return",n.setFormError({element:"school_id",msg:"School is required!"}));case 13:if(!0!==n.state.selectedRole.room_required||!Object(u.f)(n.state.centerId)){e.next=15;break}return e.abrupt("return",n.setFormError({element:"center_id",msg:"Center is required!"}));case 15:if(!0!==n.state.selectedRole.room_required||!Object(u.f)(n.state.roomId)){e.next=17;break}return e.abrupt("return",n.setFormError({element:"room_id",msg:"Room is required!"}));case 17:return n.setLoadingRequest(!0),s={user_id:n.props.userInfo.user_id,data:{system_user_role_id:n.state.roleId,status:1,role:n.state.selectedRole.role,access:n.state.selectedRole.access,school_id:n.state.selectedRole.school_required?n.state.schoolId:"",district_id:n.state.selectedRole.district_required?n.state.districtId:"",room_id:n.state.selectedRole.room_required?n.state.roomId:"",education_institution_id:n.state.selectedRole.education_institution_required?n.state.instituteId:""}},e.prev=19,e.next=22,_.a.post("".concat(C.a.AUTH,"/addroletouser"),{user_id:n.props.userInfo.user_id,system_user_role_id:n.state.roleId,status:1,role:n.state.selectedRole.role,access:!0,school_id:!0===n.state.selectedRole.school_required?n.state.schoolId:"",district_id:!0===n.state.selectedRole.district_required?n.state.districtId:"",room_id:!0===n.state.selectedRole.room_required?n.state.roomId:"",education_institution_id:n.state.selectedRole.education_institution_required?n.state.instituteId:""});case 22:(a=e.sent)&&(console.log("===================================="),console.log({assignRoleToUser:a}),console.log("===================================="),n.props.assignRoleToUserAccess(s),n.setLoadingRequest(!1),n.props.setChangeRole(!1),n.props.PushPopupAlert({title:"Assigning Role to User completed successfully",theme:w.a.success})),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(19),console.log({role_error:e.t0}),n.props.PushPopupAlert({title:Object(S.a)(e.t0),theme:w.a.danger});case 30:case"end":return e.stop()}}),e,null,[[19,26]])})));return function(t){return e.apply(this,arguments)}}(),n.distinctDistrict=function(e,t){var s=[],n=[];if(t)n=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a))for(var i in e[a].districts)Object.prototype.hasOwnProperty.call(e[a].districts,i)&&(s.includes(e[a].districts[i]._id)||(s.push(e[a].districts[i]._id),n.push(e[a].districts[i])));return n},n.distinctCenter=function(e,t){var s=[],n=[];return A(e).forEach((function(e){s.includes(e.center_id)||e.district_id!==t||(s.push(e.center_id),n.push(e))})),n},n.distinctRoom=function(e,t){var s=[],n=[];return A(e).forEach((function(e){s.includes(e.room_id)||e.center_id!==t||(s.push(e.room_id),n.push(e))})),n},n.state={loading:!0,loadingForm:!0,loadingRequest:!1,roleId:"",provinceId:"",districtId:"",schoolId:"",roomId:"",instituteId:"",centerId:"",selectedRole:null,formError:null,chooseRole:!1},n}return Object(h.a)(s,[{key:"render",value:function(){var e,t=this;return!0===this.state.loading||this.state.loadingForm||null===this.props.userInfo.default_access||0===this.state.roleId.length||null===this.state.selectedRole?Object(D.jsx)("div",{className:"text-center py-7 font-bold text-3xl text-gray-400 animate-pulse",children:"Loading..."}):Object(D.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 py-2 md:py-4 px-2 md:px-0",children:[Object(D.jsx)("div",{className:"col-span-1 bg-white w-full overflow-x-auto border rounded",children:Object(D.jsxs)("div",{className:"px-6 md:px-12 py-5 bg-white mx-auto rounded-2xl w-100",children:[Object(D.jsx)("h3",{className:"font-semibold text-2xl text-gray-800 mb-4",children:"Change User Role"}),this.state.loadingForm?Object(D.jsx)(N.a,{}):Object(D.jsx)("form",{onSubmit:function(e){return t.assignRoleToUser(e)},children:Object(D.jsxs)("div",{className:"space-y-5",children:[Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:"User Role"}),!this.state.chooseRole&&Object(D.jsx)("div",{className:"w-full text-base bg-white text-grey-darker cursor-pointer border-2 px-4 py-3 rounded focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"role_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onClick:function(){!t.state.loadingRequest&&t.setChooseRole(!0),!t.state.loadingRequest&&t.setFormError(null)},children:this.state.selectedRole?this.state.selectedRole.role:"Select role"}),this.state.chooseRole&&Object(D.jsx)(R,{setChooseRole:this.setChooseRole,handleSelectRole:this.handleSelectRole,roleList:this.props.roleList,loadindRequest:this.state.loadingRequest}),this.state.formError&&"role_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.education_institution_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Institute"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"institute_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setInstituteId(e.target.value),t.setProvinceId(""),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId(""),t.state.formError&&"institute_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.instituteId,children:[Object(D.jsx)("option",{value:"",children:"Select institute"}),this.props.schoolLevels.education_categories&&this.props.schoolLevels.education_categories.length>0?this.props.schoolLevels.education_categories.map((function(e){return Object(D.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},e.education_institute_id)})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No institute available"})]}),this.state.formError&&"institute_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Province"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"province_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setProvinceId(e.target.value),t.state.formError&&"province_id"===t.state.formError.element&&t.setFormError(null),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},value:this.state.provinceId,disabled:this.state.loadingRequest,children:[Object(D.jsx)("option",{value:"",children:"Select province"}),this.props.roomList&&this.props.roomList.map((function(e){return Object(D.jsx)("option",{value:e._id,children:e.province_name},e._id)}))]}),this.state.formError&&"province_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&(this.state.selectedRole.district_required||this.state.selectedRole.room_required)&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"District"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"district_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setDistrictId(e.target.value),t.state.formError&&"district_id"===t.state.formError.element&&t.setFormError(null),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},value:this.state.districtId,disabled:this.state.loadingRequest,children:[Object(D.jsx)("option",{value:"",children:"Select district"}),this.props.roomList&&this.distinctDistrict(this.props.roomList,Object(u.f)(this.state.provinceId)?void 0:this.state.provinceId).length>0?this.distinctDistrict(this.props.roomList,Object(u.f)(this.state.provinceId)?void 0:this.state.provinceId).map((function(e){return Object(D.jsx)("option",{value:e._id,children:e.district_name},e._id)})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No district found"})]}),this.state.formError&&"district_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.school_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"School"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"school_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setSchoolId(e.target.value),t.state.formError&&"school_id"===t.state.formError.element&&t.setFormError(null),t.setCenterId(""),t.setRoomId("")},disabled:this.state.loadingRequest,value:this.state.schoolId,children:[Object(D.jsx)("option",{value:"",children:"Selected school"}),this.props.schoolList&&this.props.schoolList.map((function(e){return Object(D.jsx)("option",{value:e._id,children:e.school_name},e._id)}))]}),this.state.formError&&"school_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Center"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"center_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setCenterId(e.target.value),t.state.formError&&"center_id"===t.state.formError.element&&t.setFormError(null),t.setRoomId("")},disabled:this.state.loadingRequest,value:this.state.centerId,children:[Object(D.jsx)("option",{value:"",children:"Select center"}),this.state.districtId&&this.state.districtId.length>0&&this.props.roomList&&this.distinctCenter(this.props.roomList,this.state.districtId).length>0?this.distinctCenter(this.props.roomList,this.state.districtId).map((function(e,t){return Object(D.jsx)("option",{value:e.center_id,children:e.center_name},e.center_id+t)})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No center found"})]}),this.state.formError&&"center_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Room"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"room_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setRoomId(e.target.value),t.state.formError&&"room_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.roomId,children:[Object(D.jsx)("option",{value:"",children:"Select room"}),!Object(u.f)(this.state.centerId)&&this.props.roomList&&this.distinctRoom(this.props.roomList,this.state.centerId).length>0?this.distinctRoom(this.props.roomList,this.state.centerId).map((function(e,t){return Object(D.jsx)("option",{value:e.room_id,className:"".concat("0"===e.room_name?"hidden":"block"),children:e.room_name},e.room_id+t)})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No room found"})]}),this.state.formError&&"room_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(D.jsxs)("div",{className:"flex justify-between 2xl:justify-start gap-2",children:[Object(D.jsx)("button",{className:"btn bg-gray-500 text-gray-50 focus:outline-none",onClick:function(){t.props.setChangeRole(!1),t.setFormError(null),t.setProvinceId(""),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},disabled:this.state.loadingRequest,children:"Back"}),Object(D.jsx)("button",{className:"btn btn-blue focus:outline-none",disabled:this.state.loadingRequest,children:this.state.loadingRequest?"Loading...":"Save Change"})]})]})})]})}),Object(D.jsxs)("div",{className:"cols-span-1 md:col-span-2 bg-white w-full border rounded text-center p-2 hidden md:block",children:[Object(D.jsx)("div",{className:"my-4",children:Object(D.jsxs)("span",{className:"text-gray-600 font-semibold text-2xl",children:[null===(e=this.state.selectedRole)||void 0===e?void 0:e.role,"'s Default Access"]})}),!this.state.loading&&Object(D.jsx)("div",{className:"overflow-x-auto w-full",children:Object(D.jsx)(d.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!1,searchBG:"bg-gray-50",thColor:"gray",tableId:"defaultAccess"})})]})]})}}]),s}(o.Component),E=Object(m.b)((function(e){return{schoolLevels:e.schoolLevels}}),{assignRoleToUserAccess:v.a,PushPopupAlert:O.tb})(T),k=s(76);!function(e){e.View_User="View User Info",e.Add_Access="Add Access To User",e.Update_Access="Update User Access",e.Close_Modal="Close Modal"}(n||(n={}));var A=function(e){var t=[];for(var s in e){var n=e[s].districts;for(var a in n){var i=n[a].centers;for(var r in i){var c=i[r].rooms;for(var o in c)t.push({province_id:e[s]._id,province_name:e[s].province_name,district_id:n[a]._id,district_name:n[a].district_name,center_id:i[r]._id,center_name:i[r].center_name,room_id:c[o]._id,room_name:c[o].room_number.toString(),capacity:c[o].capacity,occupied:c[o].occupied})}}}return t};t.b=Object(m.b)((function(e){return{schoolLevels:e.schoolLevels}}),{blockUserToSystem:v.b,unBlockUserToSystem:v.f,resetUserAccess:v.e})((function(e){var t,s,n,a=e.users,m=e.roleList,b=(e.userTypes,e.district),h=e.loadingUser,j=e.schoolLevels,x=e.setLoadingUser,g=e.blockUserToSystem,y=e.unBlockUserToSystem,O=e.manageUser,v=e.setManageUser,w=e.changeRole,I=e.setChangeRole,R=e.feedBack,T=e.setFeedBack,L=e.resetUserAccess,B=Object(o.useState)(""),P=Object(c.a)(B,2),F=P[0],q=P[1],U=Object(o.useState)(!1),M=Object(c.a)(U,2),V=M[0],G=M[1],z=Object(o.useState)(null),H=Object(c.a)(z,2),Y=H[0],W=H[1],J=Object(o.useState)(null),X=Object(c.a)(J,2),Z=X[0],K=X[1],Q=Object(o.useState)(null),$=Object(c.a)(Q,2),ee=$[0],te=$[1],se=Object(o.useState)(null),ne=Object(c.a)(se,2),ae=ne[0],ie=ne[1],re=Object(o.useState)(null),ce=Object(c.a)(re,2),oe=ce[0],le=ce[1],de=Object(o.useState)(null),ue=Object(c.a)(de,2),me=ue[0],fe=ue[1];Object(o.useEffect)((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T({type:"",message:""}),x(!0),e.prev=2,e.next=5,_.a.get("".concat(C.a.APPLICATION,"/schools"));case 5:t=e.sent,K(t.data),x(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),T({type:"danger",message:Object(S.a)(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T({type:"",message:""}),x(!0),e.prev=2,e.next=5,_.a.get("".concat(C.a.APPLICATION,"/roomlocation"));case 5:t=e.sent,te(t.data),ie(A(t.data)),x(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),T({type:"danger",message:Object(S.a)(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();e(),t()}),[T,x]);var pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";if(T({type:"",message:""}),e||T({type:"warning",message:"User Access is required doesn't exist"}),G(!0),!window.confirm("Are sure you want to ".concat(t," this user?")))return G(!1);"block"===t?g(e):y(e),T({type:"success",message:"User has been ".concat("block"===t?"block":"unblock","ed!")}),G(!1),e=""},be=function(){var e=Object(r.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T({type:"",message:""}),t||T({type:"warning",message:"User Access is required doesn't exist"}),window.confirm("Are sure you want to reset to default access?")){e.next=4;break}return e.abrupt("return",G(!1));case 4:return G(!0),W("RESET"),e.prev=6,e.next=9,_.a.delete("".concat(C.a.AUTH,"/custaccess/user/").concat(t));case 9:e.sent&&L(t),(s=a.filter((function(e){return e.user_id===t}))[0]).default_access&&le(s.default_access.access),T({type:"success",message:"Reseting User Access complete successfully"}),fe(null),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),console.error({reseting_user_access:e.t0}),T({type:"danger",message:Object(S.a)(e.t0)});case 21:G(!1),W(null),t="";case 24:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}(),he=function(e,t){var s=[],n=[];if(t)n=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a))for(var i in e[a].districts)Object.prototype.hasOwnProperty.call(e[a].districts,i)&&(s.includes(e[a].districts[i]._id)||(s.push(e[a].districts[i]._id),n.push(e[a].districts[i])));return n};return Object(D.jsxs)(o.Fragment,{children:[R&&""!==R.type&&Object(D.jsxs)("div",{className:"alert-".concat(R.type," flex flex-row items-center relative"),children:[Object(D.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:Object(D.jsx)(l.y,{className:"h-5 w-5 text-gray-700 hover:font-bold",title:"Close",onClick:function(){return T({type:"",message:""})}})}),Object(D.jsx)(l.F,{className:"h-10 w-10"}),Object(D.jsxs)("div",{className:"alert-content ml-4",children:[Object(D.jsx)("div",{className:"alert-title font-semibold text-lg",children:"success"===R.type?"Success":"Error"}),Object(D.jsx)("div",{className:"alert-description text-sm",children:R.message})]})]}),!O&&Object(D.jsx)("div",{className:"grid md:grid-cols-5 gap-2 mb-5",children:Object(D.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(D.jsx)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:Object(D.jsx)("div",{className:"flex flex-col md:flex-row gap-1 items-center mx-1.5"})}),a&&Object(D.jsx)(d.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"Email",alignText:"left",padding:"p-3"},{columnTitle:"Gender",alignText:"left",padding:"p-3"},{columnTitle:"Role",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){if(!0===h)return[Object(D.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(D.jsx)("td",{className:"p-3 text-center",colSpan:8,children:Object(D.jsx)(N.a,{})})},1)];var e=a;return e.length<=0?[Object(D.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(D.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"No Data Found"})},1)]:e.map((function(e,t){var s,n;return Object(D.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group cursor-pointer",onClick:function(){v(e),q(e.user_id)},children:[Object(D.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(D.jsx)("td",{className:"p-3 text-left",children:Object(D.jsx)("span",{children:e.user_info&&e.user_info.fname+" "+e.user_info.lname})}),Object(D.jsx)("td",{className:"p-3 text-left",children:e.email}),Object(D.jsx)("td",{className:"p-3 text-left",children:e.user_info&&"M"===e.user_info.sex?"Male":"Female"}),Object(D.jsx)("td",{className:"p-3 text-left text-blue-700 text-base font-medium",children:e.default_access&&e.default_access.system_user_role_id&&e.default_access.system_user_role_id&&Object(D.jsx)("span",{className:"px-2 py-1 font-semibold rounded text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100",children:(null===(s=Object(u.e)(m,e.default_access.system_user_role_id))||void 0===s?void 0:s.role)&&Object(u.a)(null===(n=Object(u.e)(m,e.default_access.system_user_role_id))||void 0===n?void 0:n.role)})}),Object(D.jsx)("td",{className:"px-3 text-center",children:Object(D.jsx)("button",{className:"btn bg-gray-200 group-hover:bg-blue-700 group-hover:text-white focus:outline-none",title:"Manage User Access",onClick:function(){v(e),q(e.user_id)},children:"Manage"})})]},t)}))},pagination:!0,search:!0,thColor:"gray",loading:h})]})}),O&&Object(D.jsxs)("div",{className:"bg-gray-100 h-100",children:[R&&""!==R.type&&Object(D.jsxs)("div",{className:"alert-".concat(R.type," flex flex-row items-center relative mb-4"),children:[Object(D.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:Object(D.jsx)(l.y,{className:"h-5 w-5 text-gray-700 hover:font-bold",title:"Close",onClick:function(){return T({type:"",message:""})}})}),Object(D.jsx)(l.F,{className:"h-10 w-10"}),Object(D.jsxs)("div",{className:"alert-content ml-4",children:[Object(D.jsx)("div",{className:"alert-title font-semibold text-lg",children:"success"===R.type?"Success":"Error"}),Object(D.jsx)("div",{className:"alert-description text-sm",children:R.message})]})]}),Object(D.jsxs)("div",{className:"bg-white border-b border-t px-4 py-2 flex flex-col md:flex-row items-center gap-x-14",children:[a.find((function(e){return e.user_id===F}))?Object(D.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start items-center w-full gap-3",children:[Object(D.jsx)("img",{src:"pic"!==a.find((function(e){return e.user_id===F})).user_info.photo?a.find((function(e){return e.user_id===F})).user_info.photo:f,alt:"",className:"rounded-full w-32 h-32"}),Object(D.jsxs)("div",{className:"flex flex-col gap-1 items-start w-full",children:[Object(D.jsx)("span",{className:"text-2xl font-semibold",children:a.find((function(e){return e.user_id===F})).user_info.fname+" "+a.find((function(e){return e.user_id===F})).user_info.lname}),Object(D.jsxs)("div",{className:"flex items-center",children:[Object(D.jsx)(l.ab,{className:"w-5 h-5"}),Object(D.jsx)("span",{className:"text-lg font-medium",children:a.find((function(e){return e.user_id===F})).default_access&&Object(u.e)(m,a.find((function(e){return e.user_id===F})).default_access.system_user_role_id).role})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Level:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:a.find((function(e){return e.user_id===F})).default_access&&Object(u.e)(m,a.find((function(e){return e.user_id===F})).default_access.system_user_role_id).district_required?"District":a.find((function(e){return e.user_id===F})).default_access&&Object(u.e)(m,a.find((function(e){return e.user_id===F})).default_access.system_user_role_id).school_required?"School":a.find((function(e){return e.user_id===F})).default_access&&Object(u.e)(m,a.find((function(e){return e.user_id===F})).default_access.system_user_role_id).room_required?"Room":a.find((function(e){return e.user_id===F})).default_access&&Object(u.e)(m,a.find((function(e){return e.user_id===F})).default_access.system_user_role_id).education_institution_required?"Institute":"-"})]}),a.find((function(e){return e.user_id===F})).default_access&&Object(u.e)(m,a.find((function(e){return e.user_id===F})).default_access.system_user_role_id).education_institution_required?Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Institute:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:a.find((function(e){return e.user_id===F})).default_access&&j.education_categories&&Object(u.c)(j.education_categories,a.find((function(e){return e.user_id===F})).default_access.education_institution_id)?Object(u.c)(j.education_categories,a.find((function(e){return e.user_id===F})).default_access.education_institution_id).education_category_title:"Unknown Institute"})]}):a.find((function(e){return e.user_id===F})).default_access&&Object(u.e)(m,a.find((function(e){return e.user_id===F})).default_access.system_user_role_id).district_required?Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"District:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:a.find((function(e){return e.user_id===F})).default_access&&ee&&he(ee).find((function(e){return e._id===a.find((function(e){return e.user_id===F})).default_access.district_id}))&&he(ee).find((function(e){return e._id===a.find((function(e){return e.user_id===F})).default_access.district_id})).district_name})]}):a.find((function(e){return e.user_id===F})).default_access&&Object(u.e)(m,a.find((function(e){return e.user_id===F})).default_access.system_user_role_id).school_required?Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"School:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:Z&&Z.find((function(e){var t;return e._id===(null===(t=a.find((function(e){return e.user_id===F})).default_access)||void 0===t?void 0:t.school_id)}))?Z.find((function(e){var t;return e._id===(null===(t=a.find((function(e){return e.user_id===F})).default_access)||void 0===t?void 0:t.school_id)})).school_name:"Unknown school"})]}):a.find((function(e){return e.user_id===F})).default_access&&Object(u.e)(m,a.find((function(e){return e.user_id===F})).default_access.system_user_role_id).room_required&&Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)(l.Z,{className:"text-gray-500"}),ae&&Object(D.jsx)("span",{className:"text-base font-medium",children:(null===(t=ae.find((function(e){var t;return e.room_id===(null===(t=a.find((function(e){return e.user_id===F})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===t?void 0:t.district_name)+" - "+(null===(s=ae.find((function(e){var t;return e.room_id===(null===(t=a.find((function(e){return e.user_id===F})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===s?void 0:s.center_name)+" - Room "+(null===(n=ae.find((function(e){var t;return e.room_id===(null===(t=a.find((function(e){return e.user_id===F})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===n?void 0:n.room_name)})]})]})]},a.find((function(e){return e.user_id===F})).user_id):Object(D.jsx)(k.b,{theme:k.a.Dark,value:"User info not found"}),a.find((function(e){return e.user_id===F}))&&Object(D.jsxs)("div",{className:"flex flex-col w-full",children:[Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"NID:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:a.find((function(e){return e.user_id===F})).n_id})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Email:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:a.find((function(e){return e.user_id===F})).email})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Phone:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:a.find((function(e){return e.user_id===F})).phone_number})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Status:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:!1===a.find((function(e){return e.user_id===F})).is_active?"Blocked":"Active"})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[a.find((function(e){return e.user_id===F})).custome_access&&Object(D.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-50 inline-flex items-center rounded ".concat(Y&&"RESET"===Y?"cursor-wait bg-gray-400":"bg-gray-600"),onClick:function(){return be(a.find((function(e){return e.user_id===F})).user_id)},disabled:V,children:[Object(D.jsx)(l.ab,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:Y&&"RESET"===Y?"Reseting...":"Reset Access"})]}),!w&&Object(D.jsxs)("button",{className:"bg-yellow-300 hover:bg-yellow-400 px-2 py-1 font-semibold text-black inline-flex items-center rounded",onClick:function(){return I(!0)},children:[Object(D.jsx)(l.ab,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:"Change Role"})]}),a.find((function(e){return e.user_id===F})).is_active?Object(D.jsxs)("button",{className:"px-2 py-1 font-semibold hidden text-gray-100 inline-flex items-center rounded ".concat(Y&&"STATUS"===Y?"cursor-wait bg-red-500":"bg-red-700"),onClick:function(){return!V&&O&&pe(a.find((function(e){return e.user_id===F})).user_id)},disabled:V,children:[Object(D.jsx)(l.ab,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:Y&&"RESET"===Y?"Loading...":"Activate"})]}):Object(D.jsxs)("button",{className:"px-2 py-1 font-semibold hidden text-gray-100 inline-flex items-center rounded ".concat(Y&&"STATUS"===Y?"cursor-wait bg-yellow-500":"bg-yellow-700"),onClick:function(){return!V&&O&&pe(a.find((function(e){return e.user_id===F})).user_id)},disabled:V,children:[Object(D.jsx)(l.ab,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:Y&&"RESET"===Y?"Loading...":"Re-Activate"})]})]})]},a.find((function(e){return e.user_id===F})).user_id)]}),O&&w?Object(D.jsx)(E,{userInfo:O,roleList:m,district:b,setFeedBack:T,schoolList:Z,roomList:ee,setChangeRole:I}):Object(D.jsx)(p.UserAccess,{userInfo:a.filter((function(e){return e.user_id===F}))[0],manageUserId:F,feedBack:R,setFeedBack:T,setUserAccess:le,userAccess:oe,setCurrentAccess:fe,currentAccess:me})]})]})}))},271:function(e,t){},272:function(e,t){},279:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var n=s(14),a=s(4),i=s(198),r=s(67),c=s(10),o=s(59),l=s(18),d=s(204),u=s(466),m=s(440),f=s(197),p=s(1),b=function(e,t){var s="",n="",a="",i="";if(t.sub_category_id&&t.sub_category_id.length>0&&e.documentSubCategory?n=i=e.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t.sub_category_id}))?e.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t.sub_category_id})).title:"Unknown qualification":t.category_id.length>0&&e.documentCategory&&(s=i=e.documentCategory.find((function(e){return e.user_detail_category_id===t.category_id}))?e.documentCategory.find((function(e){return e.user_detail_category_id===t.category_id})).title:"Unknown category"),t.category_subcategory_data.length>0&&e.documentFields){var r=e.documentFields.find((function(e){return e._id===t.category_subcategory_data}));i+=" in "+(a=r?r.title:"Unknown filed")}return{category:s,sub_category:n,field:a,main:i}},h=function(e,t,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"waiting",a=e;return"docCategory"===t?a=e.filter((function(e){return e.category_id===s&&e.files&&e.files.length>0&&e.validation_status===n})):"docSubCategory"===t&&(a=e.filter((function(e){return e.sub_category_id===s&&e.files&&e.files.length>0&&e.validation_status===n}))),a.length};t.b=Object(l.b)((function(e){return{documentCategories:e.document}}),{getDocumentCategory:d.h,getDocumentSubCategory:d.j,getDocumentFields:d.i})((function(e){var t=Object(a.useState)(!0),s=Object(n.a)(t,2),l=s[0],d=s[1],j=Object(a.useState)("waiting"),x=Object(n.a)(j,2),g=x[0],_=x[1],y=Object(a.useState)(e.filterByCategoryId),O=Object(n.a)(y,2),v=O[0],N=O[1],w=Object(a.useState)(e.filterBySubCategoryId),C=Object(n.a)(w,2),S=C[0],I=C[1],D=Object(a.useState)(!1),R=Object(n.a)(D,2),T=R[0],E=R[1];Object(a.useEffect)((function(){!e.documentCategories.documentFields&&l&&e.getDocumentFields(),e.documentCategories.documentFields&&l&&d(!1)}),[l,e]);var k=function(e,t,s){return t.length>0&&s.length>0?e.filter((function(e){return e.sub_category_id===s&&e.category_id===t})):t.length>0?e.filter((function(e){return e.category_id===t})):e};return Object(p.jsxs)("div",{className:"w-full flex bg-gray-100 h-full flex-col md:flex-row md:items-start",children:[Object(p.jsxs)("section",{className:"bg-white h-full w-1/6 p-2 m-3 border border-gray-200 rounded",children:[T&&Object(p.jsxs)("section",{className:"".concat("all"===v||Object(f.f)(v)?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center animate__animated animate__fadeIn"),onClick:function(){N(""),I("")},children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(c.m,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:"All"})]}),Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:e.candidate&&Object(u.countByStatus)(k(e.candidate.details,e.filterByCategoryId,e.filterBySubCategoryId),"waiting")})]}),e.documentCategories.documentCategory&&e.documentCategories.documentCategory.map((function(t,s){return Object(p.jsx)(a.Fragment,{children:h(e.candidate.details,"docCategory",t.user_detail_category_id)>0&&Object(p.jsxs)("section",{children:[!T&&E(!0),Object(p.jsxs)("section",{className:"".concat(v===t.user_detail_category_id?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center animate__animated animate__fadeIn"),onClick:function(){N(t.user_detail_category_id),I("")},children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(c.m,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:t.title})]}),Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:h(e.candidate.details,"docCategory",t.user_detail_category_id)})]}),v===t.user_detail_category_id&&e.documentCategories.documentSubCategory&&e.documentCategories.documentSubCategory.filter((function(e){return e.category_id===t.user_detail_category_id})).map((function(t,s){return h(e.candidate.details,"docSubCategory",t.user_detail_subcategory_id)>0&&Object(p.jsx)("div",{className:"ml-3 border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1",children:Object(p.jsxs)("div",{className:"animate__animated animate__fadeIn animate__faster ".concat(S===t.user_detail_subcategory_id?"bg-blue-500 text-white font-bold":" text-blue-800"," bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),onClick:function(){I(t.user_detail_subcategory_id)},children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(c.m,{className:"inline-block mr-0.1 text-xs ".concat(S===t.user_detail_subcategory_id?"text-white":"")}),Object(p.jsx)("span",{children:t.title})]}),Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:h(e.candidate.details,"docSubCategory",t.user_detail_subcategory_id)})]})},s+t.user_detail_subcategory_id)}))]})},s+t.user_detail_category_id)})),!T&&Object(p.jsx)("section",{className:"bg-blue-100 text-blue-800 mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center animate__animated animate__fadeIn",children:Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(c.m,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:"All Are Verified"})]})})]}),Object(p.jsxs)("section",{className:"w-5/6 h-full my-3 mr-3",children:[Object(p.jsxs)("div",{className:"w-full bg-white flex items-center justify-evenly border border-gray-200 rounded",children:[Object(p.jsx)("section",{className:"cursor-pointer",onClick:function(){return _("waiting")},children:Object(p.jsxs)("div",{className:"flex items-center py-4 px-2 text-yellow-800 gap-1 ".concat("waiting"===g&&"border-b-4 border-yellow-800"," animate__animated animate__pulse"),children:[Object(p.jsx)(c.Q,{className:"w-6 h-6"}),Object(p.jsx)("span",{children:"Pending"}),Object(p.jsxs)("span",{children:["(",e.candidate&&Object(u.countByStatus)(k(e.candidate.details,e.filterByCategoryId,e.filterBySubCategoryId),"waiting"),")"]})]})}),Object(p.jsx)("section",{className:"cursor-pointer",onClick:function(){return _("rejected")},children:Object(p.jsxs)("div",{className:"flex items-center py-4 px-2 text-gray-700 gap-1 ".concat("rejected"===g&&"border-b-4 border-gray-700"," animate__animated animate__pulse"),children:[Object(p.jsx)(c.vb,{className:"w-6 h-6"}),Object(p.jsx)("span",{children:"Rejected"}),Object(p.jsxs)("span",{children:["(",e.candidate&&Object(u.countByStatus)(k(e.candidate.details,e.filterByCategoryId,e.filterBySubCategoryId),"rejected"),")"]})]})}),Object(p.jsx)("section",{className:"cursor-pointer",onClick:function(){return _("approved")},children:Object(p.jsxs)("div",{className:"flex items-center py-4 px-2 text-blue-700 gap-1 ".concat("approved"===g&&" border-b-4 border-blue-700"," animate__animated animate__pulse"),children:[Object(p.jsx)(i.h,{className:"w-6 h-6"}),Object(p.jsx)("span",{children:"Approved"}),Object(p.jsxs)("span",{children:["(",e.candidate&&Object(u.countByStatus)(k(e.candidate.details,e.filterByCategoryId,e.filterBySubCategoryId),"approved"),")"]})]})})]}),Object(p.jsx)("section",{className:"w-full h-full my-3",children:e.candidate&&k(e.candidate.details,v,S).filter((function(e){return e.validation_status===g&&e.files.length>0})).length>0?Object(p.jsx)("section",{className:"animate__animated animate__fadeIn animate__faster",children:l?Object(p.jsx)(m.a,{}):k(e.candidate.details,v,S).filter((function(e){return e.validation_status===g&&e.files.length>0})).map((function(t,s){return Object(p.jsxs)("div",{className:"bg-white border border-gray-200 hover:border-blue-500 cursor-pointer rounded mb-3 p-4 flex justify-between items-start animate__animated animate__fadeIn group",onClick:function(){e.setViewDoc(!0),e.setDocumentId(t.doc_id),e.setDocument_index(s),e.setCandidateId(e.candidate.user_id)},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"text-balck font-semibold text-xl",children:b(e.documentCategories,t).main}),Object(p.jsxs)("div",{className:"flex items-center gap-2",children:[Object(p.jsx)("span",{className:"text-gray-500 italic",children:"Status:"}),Object(p.jsx)("span",{className:"text-".concat("waiting"===t.validation_status?"yellow":"approved"===t.validation_status?"blue":"gray","-800"),children:"waiting"===t.validation_status?"Pending":"approved"===t.validation_status?"Approved":"Rejected"})]})]}),Object(p.jsxs)("button",{className:"bg-blue-500 p-2 text-white flex rounded items-center space-x-2 focus:outline-none group-hover:bg-blue-600",children:[Object(p.jsx)(r.e,{className:"w-5 h-5"}),"View doc"]})]},s+t.doc_id)}))}):Object(p.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 text-gray-400 text-center animate__animated animate__pulse",children:[Object(p.jsx)(o.c,{className:"w-28 h-28 mx-auto mb-3"}),Object(p.jsx)("span",{className:"text-2xl font-mono font-semibold tracking-tighter",children:"No Data Found"})]})})]})]})}))},323:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s(4);var n=s(67),a=s(199),i=s(197),r=s(279),c=s(1),o=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",n=[];for(var a in t){var i=t[a].details;for(var c in i){var o=t[a].details[c];null!==o.files&&o.files.length>0&&"default"===s&&"waiting"===o.validation_status?n.push({user_id:t[a].user_id,n_id:t[a].n_id,fname:t[a].fname,lname:t[a].lname,phone_number:t[a].phone_number,district:t[a].district,email:t[a].email,main_doc_title:Object(r.a)(e,o).main,category_id:o.category_id,sub_category_id:o.sub_category_id,category_subcategory_data:o.category_subcategory_data,title:o.title,description:o.description,files:o.files,start_year:o.start_year,end_year:o.end_year,school:o.school,details_email:o.email,names:o.names,details_phone_number:o.phone_number,company:o.company,year:o.year,doc_id:o.doc_id,validation_status:o.validation_status,validated_by:o.validated_by,doc_history_status:o.doc_history_status,get_in_date:o.get_in_date,approved:o.approved,exams:t[a].exams}):null!==o.files&&o.files.length>0&&"all"===s&&n.push({user_id:t[a].user_id,names:t[a].fname+" "+t[a].lname,n_id:t[a].n_id,fname:t[a].fname,lname:t[a].lname,phone_number:t[a].phone_number,district:t[a].district,email:t[a].email,main_doc_title:Object(r.a)(e,o).main,category_id:o.category_id,sub_category_id:o.sub_category_id,category_subcategory_data:o.category_subcategory_data,title:o.title,description:o.description,files:o.files,start_year:o.start_year,end_year:o.end_year,school:o.school,details_email:o.email,details_phone_number:o.phone_number,company:o.company,year:o.year,doc_id:o.doc_id,validation_status:o.validation_status,validated_by:o.validated_by,doc_history_status:o.doc_history_status,get_in_date:o.get_in_date,approved:o.approved,exams:t[a].exams})}}return n};t.b=function(e){return Object(c.jsx)("div",{children:Object(c.jsx)(a.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"National ID",alignText:"left",padding:"p-3"},{columnTitle:"Document",alignText:"left",padding:"p-3"},{columnTitle:"Status",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return e.loadingCandidates?[Object(c.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},43243),Object(c.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},43243343),Object(c.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},4327543)]:null!==e.candidateList&&!e.candidateList.length||!o(e.documentCategories,e.candidateList).length?[Object(c.jsx)("tr",{className:"border-b border-gray-200",children:Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:6,children:"No Data Found"})},43243)]:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",n=e;return"all"===t||Object(i.f)(t)?n=e:"all"===t||"all"===s||Object(i.f)(s)?"all"!==t&&(n=e.filter((function(e){return e.category_id===t}))):n=e.filter((function(e){return e.category_id===t&&e.sub_category_id===s})),n}(o(e.documentCategories,e.candidateList),e.filterByCategoryId,e.filterBySubCategoryId).map((function(t,s){return Object(c.jsxs)("tr",{className:"border-b border-gray-200 cursor-pointer group hover:bg-gray-100",onClick:function(){e.setViewDoc(!0),e.setDocumentId(t.doc_id),e.setCandidateId(t.user_id),e.setDocument_index(s)},children:[Object(c.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:s+1}),Object(c.jsx)("td",{className:"p-3 text-left",children:Object(c.jsx)("span",{children:t.fname+" "+t.lname})}),Object(c.jsx)("td",{className:"p-3 text-left",children:Object(c.jsx)("span",{children:t.n_id})}),Object(c.jsx)("td",{className:"py-3 px-3 text-left font-medium text-lg",children:t.main_doc_title}),Object(c.jsx)("td",{className:"py-3 px-5 text-left",children:Object(c.jsx)("span",{className:"text-sm font-medium bg-yellow-800 py-1 px-2 rounded text-yellow-100 align-middle",children:"waiting"===t.validation_status?"Pending":t.validation_status})}),Object(c.jsx)("td",{className:"text-right",children:Object(c.jsxs)("button",{className:"bg-blue-500 group-hover:bg-blue-600 text-blue-50 font-bold py-1 px-1 inline-flex rounded focus:outline-none",title:"View documents",disabled:e.loadingRequest,onClick:function(){e.setViewDoc(!0),e.setDocumentId(t.doc_id),e.setCandidateId(t.user_id)},children:[Object(c.jsx)(n.e,{className:"w-5 h-5"}),"View doc"]})})]},t.user_id+s)}))},pagination:!0,search:!0,thColor:"gray",loading:e.loadingCandidates})})}},439:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return r}));var n=s(0);function a(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",stroke:"#000",strokeWidth:"2",points:"7 2 17 12 7 22"}}]})(e)}function i(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",stroke:"#000",strokeWidth:"2",points:"7 2 17 12 7 22",transform:"matrix(-1 0 0 1 24 0)"}}]})(e)}function r(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",stroke:"#000",strokeWidth:"2",d:"M2,3.99079514 C2,2.89130934 2.89821238,2 3.99079514,2 L20.0092049,2 C21.1086907,2 22,2.89821238 22,3.99079514 L22,20.0092049 C22,21.1086907 21.1017876,22 20.0092049,22 L3.99079514,22 C2.89130934,22 2,21.1017876 2,20.0092049 L2,3.99079514 Z M12,10 L12,18 M12,6 L12,8"}}]})(e)}},440:function(e,t,s){"use strict";s(4);var n=s(1);t.a=function(){return Object(n.jsxs)("section",{children:[Object(n.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start animate__animated animate-pulse",children:[Object(n.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(n.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(n.jsx)("div",{className:"h-5 w-28 bg-gray-300 rounded"})}),Object(n.jsxs)("div",{className:"flex items-center gap-2",children:[Object(n.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"}),Object(n.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded"})]})]}),Object(n.jsx)("div",{className:"h-10 w-28  bg-gray-300 rounded"})]}),Object(n.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start animate__animated animate-pulse",children:[Object(n.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(n.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(n.jsx)("div",{className:"h-5 w-28 bg-gray-300 rounded"})}),Object(n.jsxs)("div",{className:"flex items-center gap-2",children:[Object(n.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"}),Object(n.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded"})]})]}),Object(n.jsx)("div",{className:"h-10 w-28  bg-gray-300 rounded"})]}),Object(n.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start animate__animated animate-pulse",children:[Object(n.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(n.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(n.jsx)("div",{className:"h-5 w-28 bg-gray-300 rounded"})}),Object(n.jsxs)("div",{className:"flex items-center gap-2",children:[Object(n.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"}),Object(n.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded"})]})]}),Object(n.jsx)("div",{className:"h-10 w-28  bg-gray-300 rounded"})]})]})}},466:function(e,t,s){"use strict";s.r(t),s.d(t,"DocCheckingContentType",(function(){return Z})),s.d(t,"getDocumentFileByIndex",(function(){return ee})),s.d(t,"getCandidateFileByIndex",(function(){return te})),s.d(t,"countByStatus",(function(){return se})),s.d(t,"getDocByDocId",(function(){return ne})),s.d(t,"_DocumentApplChecking",(function(){return ae})),s.d(t,"DocumentApplChecking",(function(){return ie}));var n,a=s(5),i=s.n(a),r=s(7),c=s(21),o=s(20),l=s(23),d=s(22),u=s(8),m=s.n(u),f=s(91),p=s.n(f),b=s(4),h=s(59),j=s(42),x=s(67),g=s(10),_=s(18),y=s(3),O=s(204),v=s(213),N=s(201),w=s(17),C=s(19),S=s(29),I=s(197),D=s(212),R=s(9),T=s(12),E=s(239),k=s(14),A=s(89),L=s(85),B=s(88),P=s(198),F=s(439),q=s(27),U=s(1),M=function(e){var t=Object(b.useState)(!0),s=Object(k.a)(t,2),n=s[0],a=s[1],i=Object(b.useState)(null),r=Object(k.a)(i,2),c=r[0],o=r[1];return Object(b.useEffect)((function(){n&&(Object(I.f)(e.file_url)?o({element:"PDF_FILE",msg:"File url is required"}):null!==c&&o(null),a(!1))}),[c,n,e.file_url]),Object(U.jsx)("div",{className:"w-full",children:c?Object(U.jsx)("div",{className:"alert-warning mt-2 mx-14",children:c.msg}):Object(U.jsx)("object",{data:e.file_url,type:"application/pdf",className:e.class_name,children:Object(U.jsx)("iframe",{src:e.file_url,className:e.class_name,title:e.frame_title,children:Object(U.jsx)("p",{children:"This browser does not support PDF!"})})})})},V=s(41),G=s(279),z=s(323),H=function(e){return Object(U.jsxs)("div",{className:"flex flex-col md:flex-col items-end gap-1 w-full overflow-x-auto",children:[Object(U.jsxs)("div",{className:"flex gap-2 w-full px-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Decision:"}),Object(U.jsx)("span",{className:"".concat("approval"===e.actionTaken?"text-blue-700":"text-red-800"," text-xl font-medium"),children:"approval"===e.actionTaken?"Approved":"Rejected"})]}),"approval"===e.actionTaken&&Object(U.jsxs)("div",{className:"w-full px-2 mb-1 flex gap-2 items-center",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Is Document for teaching:"}),Object(U.jsx)("div",{className:e.loadingRequest?"cursor-default":"cursor-pointer",onClick:function(){return!e.loadingRequest&&e.setIsTeachingDocument(!e.isTeachingDocument)},children:e.isTeachingDocument?Object(U.jsx)(h.a,{className:"text-blue-600 w-8"}):Object(U.jsx)(h.b,{className:"text-gray-600 w-8"})})]}),"approval"===e.actionTaken&&Object(U.jsxs)("div",{className:"w-full px-2 mb-1 flex gap-2 items-center",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Is Document for disability:"}),Object(U.jsx)("div",{className:e.loadingRequest?"cursor-default":"cursor-pointer",onClick:function(){return!e.loadingRequest&&e.setHasDisabilityDocument(!e.hasDisabilityDocument)},children:e.hasDisabilityDocument?Object(U.jsx)(h.a,{className:"text-blue-600 w-8"}):Object(U.jsx)(h.b,{className:"text-gray-600 w-8"})})]}),Object(U.jsxs)("div",{className:"w-full px-2",children:[Object(U.jsx)("textarea",{placeholder:"Comment for the ".concat(e.actionTaken),cols:50,rows:3,className:"border border-".concat("comment"===e.error.element?"red":"gray","-400 rounded px-3 py-1 w-full focus:outline-none"),style:{resize:"none"},value:e.responseMsg,onChange:function(t){e.setResponseMsg(t.target.value),e.setError({element:"",msg:""})},disabled:e.loadingRequest}),"comment"===e.error.element&&Object(U.jsx)("p",{className:"text-red-800",children:e.error.msg})]}),Object(U.jsxs)("div",{className:"flex flex-row gap-1 max-w-full px-2",children:[Object(U.jsxs)("button",{className:"bg-gray-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",onClick:function(){e.setResponseMsg(""),e.setActionTaken(""),e.setError({element:"",msg:""})},disabled:e.loadingRequest,children:[Object(U.jsx)(q.b,{className:"w-5 h-5"}),Object(U.jsx)("span",{children:"Back"})]}),Object(U.jsx)("button",{className:"bg-blue-700 px-4 py-2 font-semibold rounded text-white focus:outline-none",disabled:e.loadingRequest,onClick:function(){return window.confirm("Are you sure you want to ".concat(e.actionTaken," this document?"))&&e.handleVerify()},children:e.loadingRequest?Object(U.jsx)("div",{className:"",children:"Loading..."}):Object(U.jsxs)("div",{className:"inline-flex items-center space-x-2 gap-1",children:[Object(U.jsx)(P.h,{className:"w-5 h-5"}),Object(U.jsx)("span",{children:"Confirm"})]})})]})]})},Y=function(e){return Object(U.jsx)("div",{className:"flex flex-row md:flex-row justify-end w-full items-center gap-2 overflow-x-auto",children:"waiting"===e.docStatus&&Object(U.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[Object(U.jsxs)("button",{className:"px-4 py-2 font-semibold text-red-50 rounded inline-flex items-center space-x-2 focus:outline-none ".concat(e.loading?"bg-red-300 cursor-wait":"bg-red-800"),onClick:function(){e.setActionTaken("rejection"),e.setResponse("rejected")},disabled:e.loading,children:[Object(U.jsx)(g.n,{className:"w-5 h-5"}),Object(U.jsx)("span",{children:"Reject"})]}),Object(U.jsxs)("button",{className:"px-4 py-2 font-semibold text-blue-50 rounded inline-flex items-center space-x-2 focus:outline-none ".concat(e.loading?"bg-blue-400 cursor-wait":"bg-blue-700"),onClick:function(){e.setActionTaken("approval"),e.setResponse("approved")},disabled:e.loading,children:[Object(U.jsx)(P.h,{className:"w-5 h-5"}),Object(U.jsx)("span",{children:"Approve"})]})]})})},W=Object(_.b)((function(e){return{documentCategories:e.document}}),{})((function(e){var t=Object(b.useState)(!1),s=Object(k.a)(t,2),n=s[0],a=s[1],i=function(t){var s=e.candidate.details.filter((function(e){return"waiting"===e.validation_status&&e.files&&e.files.length})),n=e.selectedSetting&&e.selectedSetting===Z.documents?Object(z.a)(e.documentCategories,e.candidateList):s,a=e.document_index;"NEXT"===t&&e.document_index<=n.length-1&&(a=e.document_index+1,e.selectedSetting&&e.selectedSetting===Z.documents?ee(n,a,e.setViewDoc,e.setDocumentId,e.setCandidateId,e.setDocument_index):te(e.candidate,a,e.setViewDoc,e.setDocumentId,e.setCandidateId,e.setDocument_index)),"PREV"===t&&e.document_index>0&&(a=e.document_index-1,e.selectedSetting&&e.selectedSetting===Z.documents?ee(n,a,e.setViewDoc,e.setDocumentId,e.setCandidateId,e.setDocument_index):te(e.candidate,a,e.setViewDoc,e.setDocumentId,e.setCandidateId,e.setDocument_index)),e.setIsTeachingDocument(!1)},r=function(){if(e.document_index>0)return!0;if(e.selectedSetting){if(e.selectedSetting===Z.documents){var t=Object(z.a)(e.documentCategories,e.candidateList);return void 0!==t[e.document_index-1]&&!Object(I.f)(t[e.document_index-1].files)}if(e.selectedSetting===Z.names){var s=e.candidate.details.filter((function(e){return"waiting"===e.validation_status&&!Object(I.f)(e.files)}));return void 0!==s[e.document_index-1]&&!Object(I.f)(s[e.document_index-1].files)}}return!1};return Object(U.jsxs)("div",{className:"bg-gray-50 h-screen grid grid-cols-1 md:grid-cols-3",children:[Object(U.jsxs)("div",{className:"col-span-2 h-auto md:max-h-screen overflow-y-auto relative bg-gray-200 group",children:[e.doc.files.length>0?Object(V.j)(Object(V.h)(e.doc.files))?Object(U.jsx)("div",{className:"relative",children:Object(U.jsx)("img",{src:R.a.AUTH_FILES+e.doc.files,alt:"",className:"w-full md:w-auto h-auto md:max-h-screen mx-auto",id:"doc-img",onDoubleClick:function(){n?(Object(V.g)("doc-img","CLOSE"),a(!1)):(a(!0),Object(V.g)("doc-img","OPEN"))}})}):Object(U.jsx)(M,{file_url:R.a.AUTH_FILES+e.doc.files,class_name:"w-full h-screen md:max-h-screen mx-auto",frame_title:"applicatio PDF file view"}):Object(U.jsxs)("div",{className:"text-center text-red-400 py-8 animate__animated animate__fadeIn",children:[Object(U.jsx)(B.e,{className:"mx-auto w-40 h-40"}),Object(U.jsx)("span",{className:"font-semibold text-4xl",children:"No Files Provided"})]}),Object(U.jsxs)("div",{className:"flex items-center justify-between absolute top-0 w-full px-2 py-2",children:[Object(U.jsx)("div",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer",onClick:function(){e.selectedSetting!==Z.names&&e.setCandidateId(""),e.selectedSetting===Z.names&&e.setViewCandidate(!0),e.setViewDoc(!1),e.setDocumentId(""),e.setIsTeachingDocument(!1)},children:Object(U.jsx)(j.h,{className:"h-6 w-6 text-gray-500 group-hover:text-gray-800"})}),e.doc.files.length>0&&Object(V.j)(Object(V.h)(e.doc.files))&&Object(U.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100",children:[Object(U.jsx)("div",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(V.q)("doc-img","IN")},children:Object(U.jsx)(L.k,{className:"h-6 w-6 text-gray-500"})}),Object(U.jsx)("div",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(V.q)("doc-img","OUT")},children:Object(U.jsx)(L.l,{className:"h-6 w-6 text-gray-500"})}),Object(U.jsx)("div",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(V.g)("doc-img","OPEN")},children:Object(U.jsx)(A.g,{className:"h-6 w-6 text-gray-500"})})]})]}),Object(U.jsxs)("div",{className:"absolute align-middle top-1/2 w-full flex ".concat(r()?"justify-between":"justify-end"," z-20 opacity-0 group-hover:opacity-100 px-2"),children:[r()&&Object(U.jsx)("button",{className:"inline-block bg-gray-100 cursor-pointer shadow-md rounded-full p-2 hover:bg-blue-50",onClick:function(){return i("PREV")},disabled:e.loadingRequest,children:Object(U.jsx)(F.b,{className:"h-8 w-8 text-gray-500"})}),function(){if(!e.selectedSetting)return!1;if(e.selectedSetting!==Z.documents){var t=e.candidate.details.filter((function(e){return"waiting"===e.validation_status&&e.files&&e.files.length}));return e.document_index<t.length-1}var s=Object(z.a)(e.documentCategories,e.candidateList);return!(s.filter((function(e){return"waiting"===e.validation_status})).length<=1)&&(e.document_index<=s.length-1&&(!(!s[e.document_index+1]||"waiting"!==s[e.document_index+1].validation_status)||(!(!s[e.document_index]||"waiting"!==s[e.document_index].validation_status)||void 0)))}()&&Object(U.jsx)("button",{className:"inline-block bg-gray-100 cursor-pointer shadow-md rounded-full p-2 hover:bg-blue-50",onClick:function(){return i("NEXT",e.doc.validation_status)},disabled:e.loadingRequest,children:Object(U.jsx)(F.a,{className:"h-8 w-8 text-gray-500"})})]})]}),Object(U.jsx)("section",{className:"relative",children:Object(U.jsxs)("div",{className:"w-full flex md:flex-col flex-col justify-between items-start gap-2",children:[Object(U.jsx)("div",{className:"flex items-center gap-4 w-full",children:Object(U.jsxs)("section",{className:"p-3 w-full",children:[Object(U.jsxs)("div",{className:"flex items-center gap-2 border-b-2 my-2 py-1",children:[Object(U.jsx)(h.d,{className:"text-blue-600 text-xl"}),Object(U.jsx)("h2",{className:"uppercase tracking-wide text-xl font-semibold text-gray-700",children:"Document validation"})]}),Object(U.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Doc Title: "}),Object(U.jsx)("span",{className:"font-bold text-2xl",children:Object(G.a)(e.documentCategories,e.doc).main})]}),Object(U.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Names: "}),Object(U.jsx)("span",{className:"font-medium text-lg",children:e.candidate.fname+" "+e.candidate.lname})]}),Object(U.jsxs)("section",{className:"animate__animated animate__fadeIn",children:[Object(U.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"National ID: "}),Object(U.jsx)("span",{className:"font-medium text-lg",children:e.candidate.n_id})]}),Object(U.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Phone: "}),Object(U.jsx)("span",{className:"font-medium text-lg",children:e.candidate.phone_number})]}),Object(U.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Email: "}),Object(U.jsx)("span",{className:"font-medium text-lg",children:e.candidate.email})]}),Object(U.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"District: "}),Object(U.jsx)("span",{className:"font-medium text-lg",children:e.candidate.district})]})]}),Object(U.jsxs)("div",{className:"flex items-center gap-1",children:[Object(U.jsx)("span",{className:"text-gray-500 italic",children:"Status:"}),Object(U.jsx)("span",{className:"text-".concat("waiting"===e.doc.validation_status?"yellow":"approved"===e.doc.validation_status?"blue":"gray","-700 font-semibold text-lg"),children:"waiting"===e.doc.validation_status?"Pending":"approved"===e.doc.validation_status?"Approved":"Rejected"})]})]})}),e.doc.files&&(e.actionTaken?Object(U.jsx)(H,{setActionTaken:e.setActionTaken,actionTaken:e.actionTaken,setResponseMsg:e.setResponseMsg,responseMsg:e.responseMsg,loadingRequest:e.loadingRequest,handleVerify:e.handleVerify,error:e.error,setError:e.setError,isTeachingDocument:e.isTeachingDocument,setIsTeachingDocument:e.setIsTeachingDocument,hasDisabilityDocument:e.hasDisabilityDocument,setHasDisabilityDocument:e.setHasDisabilityDocument}):Object(U.jsx)(Y,{docStatus:e.doc.validation_status,setActionTaken:e.setActionTaken,loading:e.loadingRequest,setResponse:e.setResponse}))]})})]})})),J=s(199),X=function(e){var t=Object(b.useState)(!1),s=Object(k.a)(t,2),n=s[0],a=s[1],i=Object(b.useState)("ASC"),r=Object(k.a)(i,2),c=r[0],o=r[1],l=Object(b.useState)(""),d=Object(k.a)(l,2),u=d[0],m=d[1],f=function(e){u===e&&"ASC"===c?(m(""),a(!1),o("DESC")):(m(e),a(!0),o("ASC"))};return Object(U.jsx)("div",{children:Object(U.jsx)(J.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:Object(U.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return f("fname")},children:[Object(U.jsx)("span",{children:"Names"}),Object(U.jsx)(L.i,{className:"w-4 h-4"})]}),alignText:"left",padding:"p-3"},{columnTitle:Object(U.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return f("n_id")},children:[Object(U.jsx)("span",{children:"National ID"}),Object(U.jsx)(L.i,{className:"w-4 h-4"})]}),alignText:"left",padding:"p-3"},{columnTitle:Object(U.jsxs)("div",{className:"flex items-center text-blue-700 gap-1 text-base font-semibold",children:[Object(U.jsx)(P.h,{className:"w-4 h-4"}),Object(U.jsx)("span",{children:"Approved"}),e.candidateList&&e.countById(e.candidateList,"docCategory","all","approved")>0?Object(U.jsxs)("span",{children:["(",Object(I.h)(e.countById(e.candidateList,"docCategory","all","approved")),")"]}):null]}),alignText:"left",padding:"p-3"},{columnTitle:Object(U.jsxs)("div",{className:"flex items-center gap-1 text-gray-400 text-base font-semibold",children:[Object(U.jsx)(g.vb,{className:"w-5 h-5"}),Object(U.jsx)("span",{children:"Rejected"}),e.candidateList&&e.countById(e.candidateList,"docCategory","all","approved")>0?Object(U.jsxs)("span",{children:["(",Object(I.h)(e.countById(e.candidateList,"docCategory","all","rejected")),")"]}):null]}),alignText:"left",padding:"p-3"},{columnTitle:Object(U.jsxs)("div",{className:"flex items-center gap-1 text-yellow-800 text-base font-semibold",children:[Object(U.jsx)(g.R,{className:"w-5 h-5"}),Object(U.jsx)("span",{children:"Pending"}),e.candidateList&&e.countById(e.candidateList,"docCategory","all","approved")>0?Object(U.jsxs)("span",{children:["(",Object(I.h)(e.countById(e.candidateList,"docCategory","all")),")"]}):null]}),alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return e.loadingCandidates?[Object(U.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},43243),Object(U.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},43243343),Object(U.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(U.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},4327543)]:e.candidateList.length?Object(V.n)(n,e.candidateList,u,c).map((function(t,s){return Object(U.jsxs)("tr",{className:"border-b border-gray-200 group hover:bg-gray-100 cursor-pointer",onClick:function(){!e.loadingRequest&&e.setCandidateId(t.user_id),!e.loadingRequest&&e.setViewCandidate(!0)},children:[Object(U.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:s+1}),Object(U.jsx)("td",{className:"p-3 text-left cursor-pointer",children:Object(U.jsx)("span",{className:"font-medium text-lg group-hover:font-semibold",children:t.fname+" "+t.lname})}),Object(U.jsx)("td",{className:"p-3 text-left",children:Object(U.jsx)("span",{children:t.n_id})}),Object(U.jsx)("td",{className:"py-3 px-5 text-left",children:e.countByStatus(t.details,"approved")}),Object(U.jsx)("td",{className:"py-3 px-5 text-left",children:e.countByStatus(t.details,"rejected")}),Object(U.jsx)("td",{className:"py-1 px-5 text-left",children:e.countByStatus(t.details,"waiting")>0?Object(U.jsxs)("button",{className:"flex items-center gap-3 border hover:border-2 border-white group-hover:border-yellow-800 group-hover:bg-yellow-100 rounded px-3 py-1 focus:outline-none",disabled:e.loadingRequest,onClick:function(){e.setCandidateId(t.user_id),e.setViewCandidate(!0)},children:[t.details&&e.countByStatus(t.details,"waiting"),t.details&&e.countByStatus(t.details,"waiting")>0&&Object(U.jsx)(q.g,{className:"text-yellow-800 font-bold w-6 h-6 focus:outline-none"})]}):Object(U.jsx)("span",{className:"px-3 py-1",children:"0"})}),Object(U.jsx)("td",{className:"text-right",children:Object(U.jsxs)("button",{className:"bg-blue-500 group-hover:bg-blue-600 text-white font-bold py-1 px-1 inline-flex rounded focus:outline-none",title:"View documents",disabled:e.loadingRequest,onClick:function(){e.setCandidateId(t.user_id),e.setViewCandidate(!0)},children:[Object(U.jsx)(x.e,{className:"w-5 h-5"}),"View docs"]})})]},t.user_id+s)})):[Object(U.jsx)("tr",{className:"border-b border-gray-200",children:Object(U.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:6,children:"No Data Found"})},43243)]},pagination:!0,search:!0,thColor:"gray",loading:e.loadingCandidates})})};!function(e){e.location="location",e.document="document"}(n||(n={}));var Z,K=[{filterContentType:n.location,caption:"Filter by location"},{filterContentType:n.document,caption:"Filter by document types"}],Q=function(e,t,s){var n=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s(t,"docCategory",e[a].user_detail_category_id)>0&&n.push(e[a]);return n},$=function(e){var t=Object(b.useState)(null),s=Object(k.a)(t,2),a=s[0],c=s[1],o=Object(b.useState)(""),l=Object(k.a)(o,2),d=l[0],u=l[1],f=Object(b.useState)(null),p=Object(k.a)(f,2),h=p[0],j=p[1],x=Object(b.useState)(!0),_=Object(k.a)(x,2),y=_[0],O=_[1],v=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(R.a.APPLICATION,"/district"));case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log({code_error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){if(a||v(),y&&(e.selectedSetting===Z.names?u(n.location):u(""),O(!1)),e.documentCategories.documentSubCategory&&e.candidateList&&"all"!==e.filterByCategoryId){var t=e.documentCategories.documentSubCategory.filter((function(t){return t.category_id===e.filterByCategoryId})),s=[];for(var i in t)Object.prototype.hasOwnProperty.call(e.documentCategories.documentCategory,i)&&e.countById(e.candidateList,"docSubCategory",t[i].user_detail_subcategory_id)>0&&s.push(t[i]);j(s)}}),[a,y,e]);var N=function(t){if(e.documentCategories.documentCategory){var s=e.documentCategories.documentCategory.find((function(e){return e.user_detail_category_id===t}));e.filterData("docCategory",t),e.setFilterByCategory(s?s.title:""),e.setFilterByCategoryId(s?s.user_detail_category_id:t),e.setFilterBySubCategory(""),e.setFilterBySubCategoryId("")}},w=function(t){if(e.documentCategories.documentSubCategory){var s=e.documentCategories.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t}));e.filterData("docSubCategory",t),e.setFilterBySubCategory(s?s.title:""),e.setFilterBySubCategoryId(s?s.user_detail_subcategory_id:t)}},C=function(t){var s=[];e.roomTables&&(s=e.roomTables.filter((function(e){return e.district_id===t})));for(var n=[],a=[],i=0;i<s.length;i++)a.includes(s[i].center_id)||(a.push(s[i].center_id),n.push(s[i]));return n},S=function(t){var s=[];e.roomTables&&(s=e.roomTables.filter((function(e){return e.center_id===t})));for(var n=[],a=[],i=0;i<s.length;i++)a.includes(s[i].room_id)||(a.push(s[i].room_id),n.push(s[i]));return n};return Object(U.jsxs)(b.Fragment,{children:[Object(U.jsxs)("div",{className:"my-2 font-medium text-xl flex items-center gap-2",children:[Object(U.jsx)(P.e,{}),"Filter"," ",Object(U.jsxs)("section",{className:"".concat(e.filterByCategory.length>0&&"ml-2"),children:[e.filterByCategory.length>0&&Object(U.jsxs)("button",{type:"button",className:"relative bg-gray-500 text-white px-3 py-1 rounded overflow-visible duration-300  text-xs font-bold group mr-2",onClick:function(){return N("all")},disabled:e.loadingRequest||e.loadingCandidates,children:[e.filterByCategory,Object(U.jsx)("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 px-1 py-1 bg-red-400 rounded-full opacity-0 group-hover:opacity-100",children:Object(U.jsx)(g.x,{})})]})," ",e.filterByCategory.length>0&&e.filterBySubCategory.length>0&&Object(U.jsxs)("button",{type:"button",className:"relative bg-gray-500 text-white px-3 py-1 rounded overflow-visible duration-300  text-xs font-bold group mr-2",onClick:function(){return w("all")},disabled:e.loadingRequest||e.loadingCandidates,children:[e.filterBySubCategory,Object(U.jsx)("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 px-1 py-1 bg-red-400 rounded-full opacity-0 group-hover:opacity-100",children:Object(U.jsx)(g.x,{})})]})]})]}),Object(U.jsxs)("div",{className:"flex items-center md:flex-row flex-col gap-2",children:[e.selectedSetting===Z.documents&&Object(U.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(U.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(e){return u(e.target.value||"")},disabled:e.loadingRequest||e.loadingCandidates,children:[Object(U.jsx)("option",{value:"",children:"Filter type"}),K&&K.length>0?K.map((function(e,t){return Object(U.jsx)("option",{value:e.filterContentType,children:e.caption},t)})):Object(U.jsx)("option",{value:"",disabled:!0,children:"No Filter type"})]})}),(d===n.location||e.selectedSetting===Z.names)&&Object(U.jsxs)("section",{className:"w-full flex items-center gap-2",children:[e.distinctDistricts&&Object(U.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(U.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(t){return s=t.target.value,e.distinctDistricts&&e.setThisDistrict(e.distinctDistricts.filter((function(e){return e.district_id===s}))[0]),e.filterData("DISTRICT",s),e.setThisCenter(null),void e.setThisRoom(null);var s},disabled:e.loadingRequest||e.loadingCandidates,value:e.thisDistrict?e.thisDistrict.district_id:"",children:[Object(U.jsx)("option",{value:"all",children:"All Districts"}),e.distinctDistricts&&e.distinctDistricts.length>0?e.distinctDistricts.map((function(e,t){return Object(U.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)})):Object(U.jsx)("option",{value:"",disabled:!0,children:"No District"})]})}),e.thisDistrict&&Object(U.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(U.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(t){return s=t.target.value,e.roomTables&&e.setThisCenter(e.roomTables.filter((function(e){return e.center_id===s}))[0]),e.filterData("CENTER",s),void e.setThisRoom(null);var s},disabled:e.loadingRequest,children:[Object(U.jsx)("option",{value:"all",children:"All center"}),e.thisDistrict&&C(e.thisDistrict.district_id).length>0?C(e.thisDistrict.district_id).map((function(e,t){return Object(U.jsx)("option",{value:e.center_id,children:e.center_name},t+e.center_id)})):Object(U.jsx)("option",{value:"",disabled:!0,children:"No center"})]})}),e.thisCenter&&Object(U.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(U.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(t){return s=t.target.value,e.roomTables&&e.setThisRoom(e.roomTables.filter((function(e){return e.room_id===s}))[0]),void e.filterData("ROOM",s);var s},disabled:e.loadingRequest,children:[Object(U.jsx)("option",{value:"all",children:"All room"}),e.thisCenter&&S(e.thisCenter.center_id).length>0?S(e.thisCenter.center_id).map((function(e,t){return Object(U.jsx)("option",{value:e.room_id,children:e.room_name},t+e.room_id)})):Object(U.jsx)("option",{value:"",disabled:!0,children:"No Room"})]})})]}),(e.selectedSetting===Z.documents&&d)===n.document&&Object(U.jsxs)("section",{className:"w-full flex items-center gap-2",children:[y?Object(U.jsx)("div",{className:"animate-pulse h-10 w-36 mb-3 bg-gray-300 rounded"}):Object(U.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(U.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(e){return N(e.target.value)},disabled:e.loadingRequest||e.loadingCandidates,value:e.filterByCategoryId,children:[Object(U.jsx)("option",{value:"all",children:"All Document type"}),e.documentCategories.documentCategory&&Q(e.documentCategories.documentCategory,e.candidateList,e.countById).length>0?Q(e.documentCategories.documentCategory,e.candidateList,e.countById).map((function(e,t){return Object(U.jsx)("option",{value:e.user_detail_category_id,children:e.title},t+e.user_detail_category_id)})):Object(U.jsx)("option",{value:"",disabled:!0,children:"No Document type"})]})}),h&&e.filterByCategoryId.length>0&&"all"!==e.filterByCategoryId&&Object(U.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(U.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(e){return w(e.target.value)},disabled:e.loadingRequest||e.loadingCandidates,value:e.filterBySubCategoryId,children:[Object(U.jsxs)("option",{value:"all",children:["All type of ",e.filterByCategory]}),h&&h.length>0?h.map((function(e,t){return Object(U.jsx)("option",{value:e.user_detail_subcategory_id,children:e.title},t+e.user_detail_subcategory_id)})):Object(U.jsxs)("option",{value:"",disabled:!0,children:["No types of ",e.filterByCategory]})]})})]})]})]})};!function(e){e.names="names",e.documents="documents"}(Z||(Z={}));var ee=function(e,t,s,n,a,i){var r,c=0;if(e.length<=0)return s(!1),n(""),a(""),i(null),!1;if(e.length-1<t){for(c=0,r=!1;!r&&e.length-1>=c;)void 0===e[c]||Object(I.f)(e[c].files)||r||(s(!0),n(e[c].doc_id),a(e[c].user_id),i(c),r=!0),c++;return r||(s(!1),n(""),a(""),i(null)),!0}if(void 0===e[t]||Object(I.f)(e[t].files)){for(c=0,r=!1;!r&&e.length-1>=c;)void 0===e[c]||Object(I.f)(e[c].files)||r||(s(!0),n(e[c].doc_id),a(e[c].user_id),i(c),r=!0),c++;return r||(s(!1),n(""),a(""),i(null)),!0}return s(!0),n(e[t].doc_id),a(e[t].user_id),i(t),!0},te=function(e,t,s,n,a,i){if(e.details.length<=0)return s(!1),n(""),a(""),i(null),!1;var r=e.details.filter((function(e){return"waiting"===e.validation_status&&e.files}));return r.length<=0?(s(!1),n(""),a(""),i(null),!1):r.length-1<t?(s(!0),n(r[0].doc_id),a(e.user_id),i(0),!0):(s(!0),n(r[t].doc_id),a(e.user_id),i(t),!0)},se=function(e,t){return e.filter((function(e){return e.validation_status===t&&e.files})).length},ne=function(e,t,s){var n=e.filter((function(e){return e.user_id===t}))[0],a=n.details.filter((function(e){return e.doc_id===s}))[0];return{user:n,doc:a}},ae=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).setLoading=function(e){n.setState({loading:e})},n.setLoadingCandidates=function(e){n.setState({loadingCandidates:e})},n.setThisDistrict=function(e){n.setState({thisDistrict:e})},n.setThisCenter=function(e){n.setState({thisCenter:e})},n.setThisRoom=function(e){n.setState({thisRoom:e})},n.setFilterByCategory=function(e){n.setState({filterByCategory:e})},n.setFilterByCategoryId=function(e){n.setState({filterByCategoryId:e})},n.setFilterBySubCategory=function(e){n.setState({filterBySubCategory:e})},n.setFilterBySubCategoryId=function(e){n.setState({filterBySubCategoryId:e})},n.setCandidateId=function(e){n.setState({candidate_id:e})},n.setViewDoc=function(e){n.setState({viewDoc:e})},n.setViewCandidate=function(e){n.setState({viewCandidate:e})},n.setDocument_index=function(e){n.setState({document_index:e})},n.setDocumentId=function(e){n.setState({document_id:e})},n.setResponseMsg=function(e){n.setState({responseMsg:e})},n.setResponse=function(e){n.setState({response:e,isTeachingDocument:!1})},n.setError=function(e){n.setState({error:e})},n.setActionTaken=function(e){n.setState({actionTaken:e})},n.setIsTeachingDocument=function(e){n.setState({isTeachingDocument:e})},n.setHasDisabilityDocument=function(e){n.setState({hasDisabilityDocument:e})},n.loadDistrict=function(){var e=Object(r.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,""),e.prev=1,e.next=4,m.a.get("".concat(R.a.APPLICATION,"/district"));case 4:s=e.sent,console.log({district:s.data}),n.setState({district:s.data}),t(!1,""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error({code_error:Object(T.a)(e.t0)}),t(!1,Object(T.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),n.loadCandidatesInInstitute=function(e,t){!e&&t&&t.length>0&&null===n.state.thisEducation&&(n.setState({thisEducation:t[0]}),(null==n.props.documentReducer.candidatesInInstitute||n.props.documentReducer.candidatesInInstitute.length<=0)&&n.props.auth.application_session?n.props.getCandidatesInInstitute(t[0].education_institute_id,n.props.auth.application_session.session_plan_id,(function(e,t,s){n.setLoadingCandidates(e),!e&&t.length>0&&(console.error({loadingCandidatesError:t}),n.props.PushPopupAlert({title:t,theme:S.a.danger}),n.setLoadingCandidates(!1)),n.loadDefaultData(e,t,s)})):(n.setLoadingCandidates(!1),n.loadDefaultData(!1,"",n.props.documentReducer.candidatesInInstitute)))},n.loadDefaultData=function(e,t,s){if(!e&&Object(I.f)(t)){n.setLoading(!0);for(var a=[],i=(s?s.filter((function(e){return e.details.length>0})):[]).filter((function(e){return e.details.filter((function(e){return""!==e.files}))})),r=[],c=0;c<i.length;c++)a.includes(i[c].email)||(a.push(i[c].email),r.push(i[c]));if(n.setState({candidateList:r,roomTables:Object(E.a)(n.props.locations)}),!n.state.distinctDistricts||!n.state.distinctDistricts.length){var o,l=[],d=[],u=Object(E.a)(n.props.locations).length;for(o=0;o<u;o++)l.includes(Object(E.a)(n.props.locations)[o].district_id)||(l.push(Object(E.a)(n.props.locations)[o].district_id),d.push(Object(E.a)(n.props.locations)[o]));n.setState({distinctDistricts:d})}n.setLoading(!1)}},n.isDocumentValidationOpen=function(e){if("none"!==e){var t=e.plans.find((function(e){return e.type_key===C.g.DOCUMENT_VALIDATION}));if(t){var s=p()(),a=p()(t.start_date),i=p()(t.end_date);if(console.log("===================================="),console.log({startData:a.diff(s,"days"),endData:i.diff(s,"days")}),console.log("===================================="),a.diff(s,"days")<=0&&i.diff(s,"days")>=0&&t.type_status===C.k.OPEN)return n.setState({isDocumentValidationOpen:!0})}return n.setState({isDocumentValidationOpen:!1})}},n.componentDidMount=function(){null===n.props.sessions||"none"===n.props.sessions?n.props.getActiveSessionPlan((function(e,t,s){n.setLoading(e),e||(t.length&&n.props.PushPopupAlert({title:t,theme:S.a.danger}),s&&n.isDocumentValidationOpen(s))})):(n.isDocumentValidationOpen(n.props.sessions),n.setLoading(!1)),(null===n.props.documentReducer.documentCategory||n.props.documentReducer.documentCategory.length<=0)&&n.props.getDocumentCategory(),(null===n.props.documentReducer.documentSubCategory||n.props.documentReducer.documentSubCategory.length<=0)&&n.props.getDocumentSubCategory(),(null===n.props.documentReducer.documentFields||n.props.documentReducer.documentFields.length<=0)&&n.props.getDocumentFields(),(!n.state.district||n.state.district.length<=0)&&n.loadDistrict((function(e,t){e||t.length>0&&n.props.PushPopupAlert({title:t,theme:S.a.danger})})),null===n.props.education_categories||n.props.education_categories.length<=0?n.props.loadEducationCategories(n.loadCandidatesInInstitute):null===n.state.thisEducation&&(console.log("called:",n.props.education_categories),n.loadCandidatesInInstitute(!1,n.props.education_categories)),n.props.locations.length?n.setLoading(!1):(console.log("getAllRoom"),n.props.getAllRoom((function(e,t){!e&&t.length>0&&(console.error(t),n.props.PushPopupAlert({title:t,theme:S.a.danger}))})))},n.loadCandidates=function(e){(n.state.thisEducation&&n.state.thisEducation.education_institute_id!==e.education_institute_id||null===n.state.thisEducation)&&n.props.getCandidatesInInstitute(e.education_institute_id,(function(e,t,s){n.setLoadingCandidates(e),!e&&t.length>0&&console.error({loadingCandidatesError:t}),console.log("===================================="),console.log({data:s}),console.log("====================================")})),n.setState({thisEducation:e})},n.countById=function(e,t,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"waiting",i=e,r=0;if("docCategory"===t)if("all"===s){i=e.filter((function(e){return e.details.length>0&&e.details.filter((function(e){return e.files&&e.files.length>0&&e.validation_status===a}))})),r=0;for(var c=0;c<i.length;c++)for(var o=0;o<i[c].details.length;o++)r+=i[c].details[o].files&&i[c].details[o].files.length>0&&i[c].details[o].validation_status===a?1:0}else for(i=e.filter((function(e){return e.details.length>0&&e.details.filter((function(e){return e.category_id===s&&e.files&&e.files.length>0&&e.validation_status===a}))})),r=0,c=0;c<i.length;c++)for(o=0;o<i[c].details.length;o++)r+=i[c].details[o].category_id===s&&i[c].details[o].files&&i[c].details[o].files.length>0&&i[c].details[o].validation_status===a?1:0;else if("docSubCategory"===t){i=e.filter((function(e){return e.details.filter((function(e){return e.sub_category_id===s&&e.files&&e.files.length>0&&e.validation_status===a}))})),r=0;for(var l=0;l<i.length;l++)for(var d=0;d<i[l].details.length;d++)r+=i[l].details[d].sub_category_id===s&&i[l].details[d].files&&i[l].details[d].files.length>0&&i[l].details[d].validation_status===a?1:0}else if("DISTRICT"===t&&n.state.roomTables){var u=[],m=[],f=n.state.roomTables.filter((function(e){return e.district_id===s})).length;for(c=0;c<f;c++)u.includes(n.state.roomTables[c].center_id)||(u.push(n.state.roomTables[c].center_id),m.push(n.state.roomTables[c]));for(i=e.filter((function(e){return e.exams&&e.exams.filter((function(e){return u.includes(e.center_id)}))})),r=0,l=0;l<i.length;l++)for(d=0;d<i[l].details.length;d++)r+=i[l].details[d].files&&i[l].details[d].files.length>0&&i[l].details[d].validation_status===a?1:0}return r},n.FC_filterByDistrict=function(e,t){var s,a=[],i="all"===t?e:e.filter((function(e){return e.district_id===t})),r=i.length;for(s=0;s<r;s++)a.includes(i[s].center_id)||a.push(i[s].center_id);for(var c=[],o=(n.props.documentReducer.candidatesInInstitute?n.props.documentReducer.candidatesInInstitute.filter((function(e){return e.details.length>0})):[]).filter((function(e){return e.details.filter((function(e){return""!==e.files}))})),l=[],d=[],u=0;u<o.length;u++)l.includes(o[u].email)||(l.push(o[u].email),d.push(o[u]));for(var m=c,f=0;f<d.length;f++)for(var p=0;p<d[f].exams.length;p++){a.includes(d[f].exams[p].center_id)&&c.push(d[f]);for(var b=[],h=[],j=0;j<c.length;j++)b.includes(c[j].email)||(b.push(c[j].email),h.push(c[j]));m=h}return m},n.FC_filterByCenter=function(e,t){if("all"===t)return e;for(var s=[],n=e,a=0;a<n.length;a++)for(var i=0;i<n[a].exams.length;i++)if(n[a].exams[i].center_id===t){s.push(n[a]);for(var r=[],c=[],o=0;o<s.length;o++)r.includes(s[o].email)||(r.push(s[o].email),c.push(s[o]));s=c}return s},n.FC_filterByRoom=function(e,t){if("all"===t)return e;var s=[];console.log({generalResult:e});for(var n=e,a=0;a<n.length;a++)for(var i=0;i<n[a].exams.length;i++)if(n[a].exams[i].room_id===t){s.push(n[a]);for(var r=[],c=[],o=0;o<s.length;o++)r.includes(s[o].email)||(r.push(s[o].email),c.push(s[o]));s=c}return s},n.filterData=function(e,t){var s=[];if(n.props.documentReducer.candidatesInInstitute){for(var a=[],i=!0,r=0;r<n.props.documentReducer.candidatesInInstitute.length;r++)if(0!==n.props.documentReducer.candidatesInInstitute[r].details.length){i=!0;for(var c=0;c<n.props.documentReducer.candidatesInInstitute[r].details.length;c++)n.props.documentReducer.candidatesInInstitute[r].details[c].files.length>0&&i&&(a.push(n.props.documentReducer.candidatesInInstitute[r]),i=!1)}for(var o=[],l=[],d=0;d<a.length;d++)o.includes(a[d].email)||(o.push(a[d].email),l.push(a[d]));s=l,"DISTRICT"===e&&n.state.roomTables&&(s="all"!==t?n.FC_filterByDistrict(n.state.roomTables,t):s,n.setState({filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:""})),"CENTER"===e&&n.state.roomTables&&n.state.candidateList&&n.state.thisDistrict&&(s=n.FC_filterByDistrict(n.state.roomTables,n.state.thisDistrict.district_id),console.log(n.FC_filterByDistrict(n.state.roomTables,t)),s=n.FC_filterByCenter(s,t),n.setState({filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:""})),"ROOM"===e&&n.state.roomTables&&n.state.candidateList&&n.state.thisDistrict&&n.state.thisCenter&&(s=n.FC_filterByDistrict(n.state.roomTables,n.state.thisDistrict.district_id),s=n.FC_filterByCenter(s,n.state.thisCenter.center_id),s=n.FC_filterByRoom(s,t),n.setState({filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:""}))}n.setState({candidateList:s})},n.handleVerify=Object(r.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.state.candidate_id.length>0&&n.state.document_id.length>0&&n.state.response)){e.next=23;break}if("rejected"!==n.state.response||n.state.responseMsg.length){e.next=3;break}return e.abrupt("return",n.setState({error:{element:"comment",msg:"Reason of rejection is required"},loadingRequest:!1}));case 3:return n.setState({loadingRequest:!0}),t={user_id:n.state.candidate_id,doc_id:n.state.document_id,validation_status:"approved"===n.state.response?D.a.APPROVED:D.a.REJECTED,validated_by:{user_id:n.props.auth.user.user_id,comment:n.state.responseMsg,validation_status:"approved"===n.state.response?D.a.APPROVED:D.a.REJECTED},in_education:n.state.isTeachingDocument,disability:n.state.hasDisabilityDocument},s={user_id:n.state.candidate_id,doc_id:n.state.document_id,validation_status:"approved"===n.state.response?D.a.APPROVED:D.a.REJECTED,validated_by:{user_id:n.props.auth.user.user_id,comment:n.state.responseMsg,validation_status:"approved"===n.state.response?D.a.APPROVED:D.a.REJECTED,date:""},in_education:n.state.isTeachingDocument,disability:n.state.hasDisabilityDocument},e.prev=6,e.next=9,m.a.post("".concat(R.a.AUTH,"/validateuserdoc"),t);case 9:if(!e.sent){e.next=16;break}return n.props.verifyDocument(s),e.next=14,n.FC_shortListing(n.state.candidate_id);case 14:n.props.PushPopupAlert({title:"Document ".concat(n.state.response," successful"),theme:S.a.success}),n.setState({response:"approved",responseMsg:"",actionTaken:"",hasDisabilityDocument:!1,isTeachingDocument:!1});case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),console.error(e.t0),n.props.PushPopupAlert({title:Object(T.a)(e.t0),theme:S.a.danger});case 22:n.setState({loadingRequest:!1});case 23:case"end":return e.stop()}}),e,null,[[6,18]])}))),n.FC_shortListing=function(){var e=Object(r.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.patch("".concat(R.a.APPLICATION,"/doccheckshortlist/").concat(t));case 3:s=e.sent,console.log({res:s}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error({error:e.t0}),n.props.PushPopupAlert({title:Object(T.a)(e.t0),theme:S.a.danger});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.cleanFilter=function(){if(n.state.thisRoom)n.filterData("ROOM",n.state.thisRoom.room_id);else if(n.state.thisCenter)n.filterData("CENTER",n.state.thisCenter.center_id);else if(n.state.thisDistrict)n.filterData("DISTRICT",n.state.thisDistrict.district_id);else{var e=[];if(n.props.documentReducer.candidatesInInstitute){for(var t=[],s=!0,a=0;a<n.props.documentReducer.candidatesInInstitute.length;a++)if(0!==n.props.documentReducer.candidatesInInstitute[a].details.length){s=!0;for(var i=0;i<n.props.documentReducer.candidatesInInstitute[a].details.length;i++)null===n.props.documentReducer.candidatesInInstitute[a].details[i].files&&console.log({candi:n.props.documentReducer.candidatesInInstitute[a]}),null!==n.props.documentReducer.candidatesInInstitute[a].details[i].files&&n.props.documentReducer.candidatesInInstitute[a].details[i].files.length>0&&s&&(t.push(n.props.documentReducer.candidatesInInstitute[a]),s=!1)}for(var r=[],c=[],o=0;o<t.length;o++)r.includes(t[o].email)||(r.push(t[o].email),c.push(t[o]));e=c}n.setState({candidateList:e,filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:""})}},n.state={loading:!0,isDocumentValidationOpen:!1,loadingCandidates:!0,loadingRequest:!1,viewDoc:!1,viewCandidate:!1,district:null,thisEducation:null,candidateList:[],selectedSetting:Z.documents,roomTables:null,distinctDistricts:null,thisDistrict:null,thisCenter:null,thisRoom:null,settings:[{DocCheckingContentType:Z.documents,caption:"View by Document"},{DocCheckingContentType:Z.names,caption:"View by Candidate"}],filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:"",responseMsg:"",response:"approved",document_id:"",candidate_id:"",error:{element:"",msg:""},document_index:null,isTeachingDocument:!1,hasDisabilityDocument:!1,actionTaken:""},n}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return!0===this.state.loading?Object(U.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."}):Object(U.jsxs)("div",{className:"w-full my-5",children:[this.state.isDocumentValidationOpen&&Object(U.jsxs)("div",{className:"flex flex-row items-start gap-4 mb-2",children:[Object(U.jsx)(h.d,{className:"text-blue-700 w-20 h-20 md:block hidden"}),Object(U.jsx)("div",{className:"w-full",children:Object(U.jsxs)("div",{className:"flex justify-between w-full",children:[Object(U.jsxs)("div",{className:"flex flex-col gap-1 justify-between",children:[Object(U.jsx)("h1",{className:"md:text-4xl text-2xl font-semibold",children:"Document validation"}),Object(U.jsx)("div",{className:"flex flex-row items-center md:gap-3 gap-2",children:Object(U.jsx)("section",{className:"flex items-start md:items-center justify-start md:justify-end gap-2 mt-1",children:this.props.education_categories&&this.props.education_categories.length>0&&this.props.education_categories.map((function(t,s){return Object(U.jsx)("section",{className:"w-auto ".concat(e.state.loadingRequest||e.state.loadingCandidates?"cursor-wait":"cursor-pointer"," ").concat(e.state.thisEducation&&t.education_institute_id===e.state.thisEducation.education_institute_id?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.state.loadingRequest&&!e.state.loadingCandidates&&e.loadCandidates(t)},children:Object(U.jsxs)("section",{className:"flex-1",children:[Object(U.jsx)(g.m,{className:"inline-block mr-1 text-xs"}),Object(U.jsx)("span",{children:t.education_category_title})]})},t.education_institute_id+s)}))})})]}),Object(U.jsxs)("div",{className:"text-right md:flex flex-col hidden",children:[this.state.thisDistrict&&Object(U.jsxs)("div",{className:"text-gray-700",children:["District:"," ",Object(U.jsx)("span",{className:"font-semibold",children:this.state.thisDistrict.district_name})]}),this.state.thisCenter&&Object(U.jsxs)("div",{className:"text-gray-700",children:["Center:"," ",Object(U.jsx)("span",{className:"font-semibold",children:this.state.thisCenter.center_name})]}),this.state.thisRoom&&Object(U.jsxs)("div",{className:"text-gray-700",children:["Room:"," ",Object(U.jsx)("span",{className:"font-semibold",children:this.state.thisRoom.room_name})]})]})]})})]}),Object(U.jsxs)("section",{children:[!this.state.isDocumentValidationOpen&&Object(U.jsxs)("div",{className:"py-10 flex flex-col items-center rounded border border-gray-300 bg-white text-2xl font-medium text-yellow-800 animate__animated animate__pulse",children:[Object(U.jsx)(x.l,{className:"w-32 h-32"}),"Document validation session is closed!"]}),this.state.isDocumentValidationOpen&&Object(U.jsxs)("div",{className:"bg-white shadow rounded border border-gray-2 p-2 w-full overflow-x-auto",children:[!this.state.viewCandidate&&Object(U.jsx)("div",{className:"flex flex-row items-center",children:this.state.settings.map((function(t,s){return Object(U.jsx)("div",{onClick:function(){e.setState({selectedSetting:t.DocCheckingContentType}),e.cleanFilter()},className:"animate__animated ".concat(e.state.selectedSetting===t.DocCheckingContentType?"bg-blue-100 border-blue-600 text-blue-600 animate__zoomIn":"bg-white border-white text-gray-600"," hover:bg-blue-100 px-4 py-2 cursor-pointer font-bold border-b-4 hover:border-blue-600 hover:text-blue-600 rounded-t mt-1 mx-1"),children:t.caption},s)}))}),this.state.viewCandidate&&Object(U.jsxs)("div",{className:"flex items-center gap-3 mb-2 text-gray-600",children:[Object(U.jsx)("button",{className:"inline-block p-3 transition rounded-full bg-gray-400 ripple hover:bg-gray-600 focus:outline-none",onClick:function(){e.setState({viewCandidate:!1,candidate_id:""})},children:Object(U.jsx)(j.e,{className:"w-6 h-6 text-gray-50"})}),Object(U.jsxs)("div",{className:"flex flex-col",children:[Object(U.jsx)("span",{className:"text-gray-800 font-semibold text-2xl",children:ne(this.state.candidateList,this.state.candidate_id,"").user.fname+" "+ne(this.state.candidateList,this.state.candidate_id,"").user.lname}),Object(U.jsx)("span",{className:"text-gray-600 font-normal text-sm",children:ne(this.state.candidateList,this.state.candidate_id,"").user.email})]})]}),!this.state.viewCandidate&&Object(U.jsxs)("section",{children:[Object(U.jsx)($,{roomTables:this.state.roomTables,candidateList:this.state.candidateList,distinctDistricts:this.state.distinctDistricts,thisDistrict:this.state.thisDistrict,filterByCategoryId:this.state.filterByCategoryId,filterBySubCategoryId:this.state.filterBySubCategoryId,filterByCategory:this.state.filterByCategory,filterBySubCategory:this.state.filterBySubCategory,setThisDistrict:this.setThisDistrict,filterData:this.filterData,setThisCenter:this.setThisCenter,setThisRoom:this.setThisRoom,setFilterByCategory:this.setFilterByCategory,setFilterByCategoryId:this.setFilterByCategoryId,setFilterBySubCategory:this.setFilterBySubCategory,setFilterBySubCategoryId:this.setFilterBySubCategoryId,loadingRequest:this.state.loadingRequest,loadingCandidates:this.state.loadingCandidates,thisCenter:this.state.thisCenter,selectedSetting:this.state.selectedSetting,documentCategories:this.props.documentReducer,countById:this.countById}),this.state.selectedSetting===Z.names&&Object(U.jsx)(X,{loadingCandidates:this.state.loadingCandidates,loadingRequest:this.state.loadingRequest,candidateList:this.state.candidateList,setCandidateId:this.setCandidateId,setViewCandidate:this.setViewCandidate,countByStatus:se,countById:this.countById}),this.state.selectedSetting===Z.documents&&Object(U.jsx)(z.b,{loadingCandidates:this.state.loadingCandidates,loadingRequest:this.state.loadingRequest,filterByCategoryId:this.state.filterByCategoryId,filterBySubCategoryId:this.state.filterBySubCategoryId,candidateList:this.state.candidateList,countByStatus:se,countById:this.countById,documentCategories:this.props.documentReducer,setDocumentId:this.setDocumentId,setCandidateId:this.setCandidateId,setViewDoc:this.setViewDoc,document_id:this.state.document_id,candidate_id:this.state.candidate_id,setDocument_index:this.setDocument_index})]}),this.state.viewCandidate&&Object(U.jsx)("section",{children:Object(U.jsx)(G.b,{candidate:ne(this.state.candidateList,this.state.candidate_id,"").user,candidateCheckData:null,filterByCategoryId:this.state.filterByCategoryId,filterBySubCategoryId:this.state.filterBySubCategoryId,setDocumentId:this.setDocumentId,setCandidateId:this.setCandidateId,setViewDoc:this.setViewDoc,setDocument_index:this.setDocument_index})})]})]}),this.state.viewDoc&&null!==this.state.document_index&&Object(U.jsx)(w.d,{backDrop:!0,theme:w.c.default,close:function(){},displayClose:!1,backDropClose:!1,title:"",widthSizeClass:w.b.maxWidth,padding:{title:!1,body:!1,footer:!1},children:Object(U.jsx)(W,{error:this.state.error,doc:ne(this.state.candidateList,this.state.candidate_id,this.state.document_id).doc,candidate:ne(this.state.candidateList,this.state.candidate_id,this.state.document_id).user,responseMsg:this.state.responseMsg,loadingRequest:this.state.loadingRequest,setDoc:void 0,setResponseMsg:this.setResponseMsg,setResponse:this.setResponse,handleVerify:this.handleVerify,selectedSetting:this.state.selectedSetting,setViewCandidate:this.setViewCandidate,setError:this.setError,setViewDoc:this.setViewDoc,setCandidateId:this.setCandidateId,setDocumentId:this.setDocumentId,actionTaken:this.state.actionTaken,setActionTaken:this.setActionTaken,document_index:this.state.document_index,setDocument_index:this.setDocument_index,candidateList:this.state.candidateList,isTeachingDocument:this.state.isTeachingDocument,setIsTeachingDocument:this.setIsTeachingDocument,hasDisabilityDocument:this.state.hasDisabilityDocument,setHasDisabilityDocument:this.setHasDisabilityDocument})})]})}}]),s}(b.Component),ie=Object(_.b)((function(e){var t=e.auth,s=e.document,n=e.locations,a=e.schoolLevels,i=e.sessionPlan;return{auth:t,documentReducer:s,locations:n.roomLocation,education_categories:a.education_categories,sessions:i.activeSessionPlan}}),{getAllRoom:v.p,verifyDocument:O.n,getDocumentCategory:O.h,getDocumentSubCategory:O.j,getDocumentFields:O.i,loadEducationCategories:y.Zb,getCandidatesInInstitute:O.g,getActiveSessionPlan:N.e,PushPopupAlert:y.tb})(ae)},837:function(e,t,s){"use strict";s.r(t),s.d(t,"DocumentValidationStatus",(function(){return n})),s.d(t,"_DocumentValidation",(function(){return S})),s.d(t,"DocumentValidation",(function(){return I}));var n,a,i=s(21),r=s(20),c=s(23),o=s(22),l=s(4),d=s(10),u=s(18),m=s(3),f=s(17),p=s(29),b=s(197),h=s(224),j=s(85),x=s(202),g=s(228),_=s(28),y=s(201),O=s(222),v=s(204),N=s(323),w=s(1);!function(e){e.Waiting="waiting",e.Approved="approved",e.Rejected="rejected"}(n||(n={})),function(e){e.applicant_name="names",e.national_id="national_id",e.phone_number="phone",e.email="email",e.document="document",e.status="status"}(a||(a={}));var C=[{key:a.applicant_name,title:"Applicant name",status:!0},{key:a.national_id,title:"National ID",status:!0},{key:a.email,title:"Email",status:!0},{key:a.phone_number,title:"Phone",status:!0},{key:a.document,title:"Document title",status:!0},{key:a.status,title:"Status",status:!0}],S=function(e){Object(c.a)(s,e);var t=Object(o.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).setLoading=function(e){r.setState({loading:e})},r.setLoadingCandidates=function(e){r.setState({loadingCandidates:e})},r.setSelectAll=function(e){r.setState({selectAll:e})},r.setSelectSession=function(e){r.setState({selectSession:e})},r.setSelectedSession=function(e){r.setState({selectedSession:e,reportTitle:"Application marks publication Report - "+e.session_plan_name})},r.setSelectPosition=function(e){r.setState({selectPosition:e})},r.setSelectedPosition=function(e){r.setState({selectedPosition:e})},r.setReportTitle=function(e){r.setState({reportTitle:e})},r.setFormError=function(e){r.setState({formError:e})},r.setSortOrder=function(e){r.setState({sortOrder:e})},r.setSortProperty=function(e){r.setState({sortProperty:e})},r.setIsSorted=function(e){r.setState({isSorted:e})},r.setGenerateReportModal=function(e){r.setState({generateReportModal:e})},r.setDownloading=function(e){r.setState({downloading:e})},r.setSort=function(e){r.state.sortProperty===e&&"ASC"===r.state.sortOrder?r.setSortOrder("DESC"):r.setSortOrder("ASC"),r.setSortProperty(e),r.setIsSorted(!0)},r.loadCandidatesInInstitute=function(e,t){!e&&t&&t.length>0&&null===r.state.thisEducation&&(r.setState({thisEducation:t[0]}),(null==r.props.documentReducer.candidatesInInstitute||r.props.documentReducer.candidatesInInstitute.length<=0)&&r.props.auth.application_session?r.props.getCandidatesInInstitute(t[0].education_institute_id,r.props.auth.application_session.session_plan_id,(function(e,t,s){r.setLoadingCandidates(e),!e&&t.length>0&&(console.error({loadingCandidatesError:t}),r.props.PushPopupAlert({title:t,theme:p.a.danger}),r.setLoadingCandidates(!1)),!e&&s&&r.setState({reportMainData:Object(N.a)(r.props.documentReducer,s,"all")})})):r.setLoadingCandidates(!1))},r.componentDidMount=function(){null===r.props.sessions||"none"===r.props.sessions?r.props.getActiveSessionPlan((function(e,t,s){r.setLoading(e),e||t.length&&r.props.PushPopupAlert({title:t,theme:p.a.danger})})):r.setLoading(!1),(null===r.props.documentReducer.documentCategory||r.props.documentReducer.documentCategory.length<=0)&&r.props.getDocumentCategory(),(null===r.props.documentReducer.documentSubCategory||r.props.documentReducer.documentSubCategory.length<=0)&&r.props.getDocumentSubCategory(),(null===r.props.documentReducer.documentFields||r.props.documentReducer.documentFields.length<=0)&&r.props.getDocumentFields(),null===r.props.education_categories||r.props.education_categories.length<=0?r.props.loadEducationCategories(r.loadCandidatesInInstitute):null===r.state.thisEducation&&(console.log("called:",r.props.education_categories),r.loadCandidatesInInstitute(!1,r.props.education_categories))},r.FC_GeneratePDF=function(){if(!document.querySelectorAll("#report_content tbody tr").length)return r.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:p.a.warning}),!1;if(r.state.selectedSession){var e=document.getElementById("report_content"),t={doneBy:r.props.auth.user.fname+" "+r.props.auth.user.lname,title:"Document Validation Report",subjectTitle:"Document validation ".concat(r.props.sessions&&"none"!==r.props.sessions?r.props.sessions.session_plan_name:"All session"),subject:"All applications",period:r.props.sessions&&"none"!==r.props.sessions?r.props.sessions.session_plan_name:"All session",footer:"Online Recruitment",institute:r.state.thisEducation?r.state.thisEducation.education_category_title:"All institute",orientation:"l"};e&&Object(h.a)(t,e,r.setDownloading)}},r.updateContentToPrint=function(){if(r.state.selectedSession){var e="Application marks publication Report - "+r.state.selectedSession.session_plan_name;r.setReportTitle(e)}if(!r.state.reportMainData&&r.props.documentReducer.candidatesInInstitute&&r.setState({reportMainData:Object(N.a)(r.props.documentReducer,r.props.documentReducer.candidatesInInstitute,"all")}),r.state.reportMainData){var t=[],s=1;for(var n in r.state.reportMainData)if(Object.prototype.hasOwnProperty.call(r.state.reportMainData,n)){var a=null;for(var i in a={no:s,names:r.state.reportMainData[n].names,national_id:r.state.reportMainData[n].n_id,phone:r.state.reportMainData[n].phone_number,email:r.state.reportMainData[n].email,document:r.state.reportMainData[n].main_doc_title,status:r.state.reportMainData[n].validation_status},r.state.reportContentExport)Object.prototype.hasOwnProperty.call(r.state.reportContentExport,i)&&!r.state.reportContentExport[i].status&&a&&delete a[r.state.reportContentExport[i].key];a&&t.push(a),s++}r.setState({dataToPrint:t}),t=[],s=1}},r.updateReportContent=function(e){var t=r.state.reportContentExport.findIndex((function(t){return t.key===e})),s=r.state.reportContentExport;s[t].status=!s[t].status,r.setState({reportContentExport:s}),s.find((function(e){return!1===e.status}))?r.setSelectAll(!1):r.setSelectAll(!0),r.updateContentToPrint()},r.isChangeAllowed=function(e){return e!==a.applicant_name&&e!==a.document&&e!==a.national_id},r.resetReportContent=function(e){var t=r.state.reportContentExport;for(var s in t)r.isChangeAllowed(t[s].key)&&(t[s].status=!e);r.setState({reportContentExport:t}),r.setSelectAll(!e),r.updateContentToPrint()},r.FC_FilterReportData=function(e,t){var s=e;return"all"!==t&&(s=s.filter((function(e){return e.validation_status===t}))),s},r.ReportStatuses=function(e){var t=[{title:"All",count:e.length,status:"all"}];return t.push({title:Object(b.a)(n.Waiting.toLocaleLowerCase()),count:e.filter((function(e){return e.validation_status===n.Waiting})).length,status:n.Waiting},{title:Object(b.a)(n.Approved.toLocaleLowerCase()),count:e.filter((function(e){return e.validation_status===n.Approved})).length,status:n.Approved},{title:Object(b.a)(n.Rejected.toLocaleLowerCase()),count:e.filter((function(e){return e.validation_status===n.Rejected})).length,status:n.Rejected}),t},r.state={loading:!0,loadingCandidates:!0,selectedStatus:"all",selectAll:!0,thisEducation:null,reportMainData:null,reportContentExport:C,reportTitle:"Document validation report",dataToPrint:null,sortProperty:"",isSorted:!1,sortOrder:"ASC",searchInput:"",searchPositionInput:"",generateReportModal:null,formError:null,selectPosition:!1,selectedPosition:null,selectedSession:null,selectSession:!1,downloading:!1},r}return Object(r.a)(s,[{key:"render",value:function(){var e,t,s=this;return this.state.loading?Object(w.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."}):Object(w.jsxs)("div",{children:[Object(w.jsx)(x.b,{children:Object(w.jsxs)("div",{className:"pt-1",children:[Object(w.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Validation statuses:"}),null===this.props.documentReducer.candidatesInInstitute||this.state.loadingCandidates?Object(w.jsx)(_.a,{}):this.ReportStatuses(Object(N.a)(this.props.documentReducer,this.props.documentReducer.candidatesInInstitute,"all")).map((function(e,t){return Object(w.jsx)(l.Fragment,{children:Object(w.jsx)("div",{onClick:function(){return s.setState({selectedStatus:e.status})},children:Object(w.jsx)(x.a,{title:e.title,count:e.count,active:s.state.selectedStatus===e.status})})},e.title)}))]})}),Object(w.jsxs)("section",{children:[Object(w.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(w.jsx)("div",{className:"col-span-8",children:Object(w.jsx)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:Object(w.jsx)("span",{className:"text-3xl font-bold text-gray-700",children:"Document validation report"})})}),Object(w.jsx)("div",{className:"col-span-4",children:Object(w.jsx)("div",{className:"float-right mt-2",children:this.props.documentReducer.candidatesInInstitute&&this.props.documentReducer.candidatesInInstitute.length>0&&Object(w.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(w.jsx)(j.e,{className:"text-2xl text-gray-500"}),Object(w.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(w.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",disabled:!(this.props.documentReducer.candidatesInInstitute&&!this.state.downloading),onClick:function(){s.updateContentToPrint(),s.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(w.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 ".concat(this.state.downloading&&"cursor-wait"),onClick:function(){return s.FC_GeneratePDF()},disabled:!this.props.documentReducer.candidatesInInstitute,children:"PDF"})]})})})]}),Object(w.jsxs)("div",{className:"bg-white my-4",children:[Object(w.jsx)("div",{className:"w-full px-2 py-2",children:Object(w.jsx)("input",{onChange:function(e){return s.setState({searchInput:e.target.value})},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded focus:border-gray-800",disabled:null===this.state.loadingCandidates||null===this.props.documentReducer.candidatesInInstitute||this.FC_FilterReportData(Object(N.a)(this.props.documentReducer,this.props.documentReducer.candidatesInInstitute,"all"),this.state.selectedStatus).length<=0})}),Object(w.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(w.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("names")},children:Object(w.jsxs)("div",{className:"flex items-center gap-1",children:["Names ",Object(w.jsx)(j.i,{})]})}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("national_id")},children:Object(w.jsxs)("div",{className:"flex items-center gap-1",children:["National Id ",Object(w.jsx)(j.i,{})]})}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("phone")},children:Object(w.jsxs)("div",{className:"flex items-center gap-1",children:["Phone ",Object(w.jsx)(j.i,{})]})}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("email")},children:Object(w.jsxs)("div",{className:"flex items-center gap-1",children:["Email ",Object(w.jsx)(j.i,{})]})}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("gender")},children:Object(w.jsxs)("div",{className:"flex items-center gap-1",children:["Gender ",Object(w.jsx)(j.i,{})]})}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("position_name")},children:Object(w.jsxs)("div",{className:"flex items-center gap-1",children:["Position ",Object(w.jsx)(j.i,{})]})}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("status")},children:Object(w.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(w.jsx)(j.i,{})]})})]})}),Object(w.jsx)("tbody",{children:null===this.props.documentReducer.candidatesInInstitute||this.state.loadingCandidates?Object(w.jsx)(g.a,{cols:8}):(e=this.FC_FilterReportData(Object(N.a)(this.props.documentReducer,this.props.documentReducer.candidatesInInstitute,"all"),this.state.selectedStatus),t=this.state.searchInput,void 0===t||""===t?e:e.filter((function(e){var s;for(var n in e)if(s=!1,"names"!==n&&"n_id"!==n&&"phone_number"!==n&&"main_doc_title"!==n&&"title"!==n&&"description"!==n&&"validation_status"!==n||e[n]&&(s=e[n].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))).map((function(e,t){return Object(w.jsxs)("tr",{className:"hover:bg-blue-100 hover:text-blue-700 border-b hover:border-blue-500 text-sm bg-white ".concat("rejected"!==e.validation_status&&"approved"!==e.validation_status&&"border-gray-500"),children:[Object(w.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(w.jsx)("td",{className:"px-2 py-2",children:e.names}),Object(w.jsx)("td",{className:"px-2 py-2",children:e.n_id}),Object(w.jsx)("td",{className:"px-2 py-2",children:e.phone_number}),Object(w.jsx)("td",{className:"px-2 py-2",children:e.email}),Object(w.jsx)("td",{className:"px-2 py-2",children:e.title}),Object(w.jsx)("td",{className:"px-2 py-2",children:e.main_doc_title}),Object(w.jsx)("td",{className:"px-2 py-2 ".concat("rejected"===e.validation_status?"text-yellow-700":"approved"===e.validation_status?"text-blue-700":""),children:Object(b.a)(e.validation_status)})]},t+e.user_id)}))})]})]})]}),null!==this.state.generateReportModal&&!0===this.state.generateReportModal.status&&Object(w.jsx)(f.d,{title:Object(w.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(w.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",this.state.generateReportModal.reportType," ","Report"]})]})}),backDrop:!0,theme:f.c.default,close:function(){return s.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:f.b.medium,displayClose:!0,padding:{title:!0},children:Object(w.jsxs)("div",{className:"px-6",children:[Object(w.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Title"}),Object(w.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(this.state.formError&&"report_title"===this.state.formError.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:this.state.reportTitle,onChange:function(e){s.setFormError(null),s.setReportTitle(e.target.value)},disabled:!this.state.reportMainData}),this.state.formError&&"report_title"===this.state.formError.element&&Object(w.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(w.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(w.jsx)("label",{children:"Report content"}),Object(w.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:this.state.reportContentExport.map((function(e,t){return Object(w.jsxs)("div",{className:"flex items-center gap-1 ".concat(s.isChangeAllowed(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return s.isChangeAllowed(e.key)&&s.updateReportContent(e.key)},title:s.isChangeAllowed(e.key)?"":"Required for every report!",children:[e.status?Object(w.jsx)(d.r,{className:"w-6 h-6 text-blue-700"}):Object(w.jsx)(d.s,{className:"w-6 h-6"}),Object(w.jsx)("span",{children:e.title})]},t)}))}),this.state.formError&&"report_content"===this.state.formError.element&&Object(w.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]})]}),Object(w.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(w.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return s.resetReportContent(s.state.selectAll)},children:[this.state.selectAll?Object(w.jsx)(d.r,{className:"w-6 h-6 text-blue-700"}):Object(w.jsx)(d.s,{className:"w-6 h-6"}),Object(w.jsx)("span",{children:"Select all"})]}),this.state.dataToPrint&&this.state.reportMainData&&Object(w.jsx)(O.a,{fileData:this.state.dataToPrint,fileName:this.state.reportTitle,btnName:"Generate"})]})]})})]})}}]),s}(l.Component),I=Object(u.b)((function(e){var t=e.auth,s=e.document,n=e.sessionPlan;return{auth:t,documentReducer:s,education_categories:e.schoolLevels.education_categories,sessions:n.activeSessionPlan}}),{getDocumentCategory:v.h,getDocumentSubCategory:v.j,getDocumentFields:v.i,loadEducationCategories:m.Zb,getCandidatesInInstitute:v.g,getActiveSessionPlan:y.e,PushPopupAlert:m.tb})(S)}}]);
//# sourceMappingURL=26.80e42eb1.chunk.js.map