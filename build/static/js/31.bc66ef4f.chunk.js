(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[31,37,45],{199:function(e,t,s){"use strict";var o=s(14),n=s(4),r=s(84),i=s(10),a=s(1);t.a=function(e){var t,s,c=e.rows,l=e.columns,d=e.hideColumns,u=void 0!==d&&d,p=e.pagination,h=void 0!==p&&p,b=e.search,m=void 0!==b&&b,x=e.tableSize,f=void 0===x?"w-full":x,j=e.tableClass,g=e.tableId,O=void 0===g?"myTable":g,_=e.rounded,v=void 0!==_&&_,y=e.searchBG,N=void 0===y?"bg-gray-200":y,P=e.thColor,E=void 0===P?"blue":P,S=e.loading,w=void 0!==S&&S;O="myTable"===O?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=s.length,n=0;n<e;n++)t+=s.charAt(Math.floor(Math.random()*o));return t}():O;var I=Object(n.useState)(0),T=Object(o.a)(I,2),C=T[0],q=T[1],R=Object(n.useState)(1),k=Object(o.a)(R,2),A=k[0],D=k[1],L=Object(n.useState)(1),F=Object(o.a)(L,2),M=F[0],V=F[1],U=Object(n.useState)(),B=Object(o.a)(U,2),W=B[0],H=B[1],G=Object(n.useState)(10),z=Object(o.a)(G,2),J=z[0],Y=z[1],K=Object(n.useState)(0),Q=Object(o.a)(K,2),X=Q[0],Z=Q[1],$=Object(n.useState)(0),ee=Object(o.a)($,2),te=ee[0],se=ee[1];Object(n.useEffect)((function(){h&&oe()}));var oe=function(){t=document.getElementById(O),s=t.getElementsByTagName("tr"),q(s.length),D(Math.ceil(C/J)),Z((M-1)*J),se(Math.min(X+J-1,C-1));var e=Array.from(Array(A+1-1).keys()).map((function(e){return 1+e}));W&&e.length===W.length||H(e);for(var o=0;o<s.length;o++)s[o].style.display=o>=X&&o<=te?"":"none"};return Object(a.jsxs)("div",{className:"".concat(f),children:[m&&Object(a.jsx)("div",{className:"".concat(N," w-full mb-2"),children:m&&Object(a.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(a.jsx)(i.Cb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(a.jsx)("input",{type:"search",placeholder:"search",onChange:function(e){return function(e,s){var o,n,r,i,a;for("field"===s&&"all"===e&&(e=""),o=e.toLowerCase(),n=(t=document.getElementById(O)).getElementsByTagName("tr"),i=0;i<n.length;i++)for(a=0;a<l.length;a++)if(r=n[i].getElementsByTagName("td")[a]){if((r.textContent||r.innerText).toLowerCase().indexOf(o)>-1){n[i].style.display="";break}n[i].style.display="none"}}(e.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:w}),h&&Object(a.jsx)("div",{className:"select",children:Object(a.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(e){return Y(Number(e.target.value))},disabled:w,children:[Object(a.jsx)("option",{value:"10",children:"10"}),Object(a.jsx)("option",{value:"25",children:"25"}),Object(a.jsx)("option",{value:"50",children:"50"}),Object(a.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(a.jsxs)("table",{className:j||"w-full shadow ".concat(v&&"sm:rounded-lg"," table-auto order-table"),id:O,children:[!u&&Object(a.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(a.jsx)("tr",{className:"text-left tracking-wide bg-".concat(E,"-100 border-b-2 border-").concat(E,"-500 text-").concat(E,"-600"),children:l.map((function(e,t){return Object(a.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,s,o,n,r,i,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(o=!0,t=document.getElementById(e))for(;o;){for(o=!1,s=t.rows,n=1;n<s.length-1;n++)if(a=!1,r=s[n].getElementsByTagName("TD")[c],i=s[n+1].getElementsByTagName("TD")[c],"asc"===l&&r&&i){if(r.innerHTML.toLowerCase()>i.innerHTML.toLowerCase()){a=!0;break}}else if("desc"===l&&r&&i&&r.innerHTML.toLowerCase()<i.innerHTML.toLowerCase()){a=!0;break}a&&s[n].parentNode?(s[n].parentNode.insertBefore(s[n+1],s[n]),o=!0,d++):0===d&&"asc"===l&&(l="desc",o=!0)}}(O,t)},children:Object(a.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(a.jsx)(r.i,{})]})},t)}))})}),Object(a.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:c()})]}),h&&Object(a.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(a.jsx)("div",{children:Object(a.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",J," of ",C-1," Entries"]})}),Object(a.jsx)("div",{children:Object(a.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==M&&"bg-white"),"aria-label":"Previous",disabled:1===M||w,onClick:function(){return V(M-1)},children:Object(a.jsx)(i.hb,{className:"h-5 w-5"})})}),Object(a.jsx)("div",{children:W&&W.map((function(e,t){return Object(a.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(e!==M?"bg-white":"bg-gray-100 cursor-default"),disabled:e===M||w,onClick:function(){return V(e)},children:e},t)}))}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(M!==A&&"bg-white"),"aria-label":"Next",disabled:M===A||w,onClick:function(){return V(M+1)},children:Object(a.jsx)(i.ib,{className:"h-5 w-5"})})})]})})]})]})}},200:function(e,t,s){"use strict";s.d(t,"b",(function(){return b})),s.d(t,"a",(function(){return m})),s.d(t,"d",(function(){return x})),s.d(t,"c",(function(){return f}));var o=s(20),n=s(19),r=s(22),i=s(21),a=s(4),c=s.n(a),l=s(17),d=s(3),u=s(10),p=s(1),h=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).componentDidMount=function(){return n.props.PageHasSubNav(!0)},n.componentWillUnmount=function(){return n.props.PageHasSubNav(!1)},n.state={loading:!1},n}return Object(n.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(p.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(c.a.Component),b=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.rb,PageHasSubNav:d.sb})(h),m=function(e){var t=e.title,s=void 0===t?"":t,o=e.icon,n=void 0===o?u.m:o,r=e.active,i=void 0!==r&&r,a=e.count,c=void 0===a?0:a,l=n;return Object(p.jsxs)("section",{className:"".concat(!0===i?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:s})]}),c>0?Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:c}):null]})},x=function(e){var t=e.children;return Object(p.jsx)("div",{className:"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer",children:t})},f=function(e){var t=e.title,s=void 0===t?"":t,o=e.icon,n=void 0===o?u.m:o,r=e.active,i=void 0!==r&&r,a=e.count,c=void 0===a?0:a,l=n;return Object(p.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster ".concat(!0===i?"bg-blue-500 text-white font-bold":" text-blue-800"," text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),children:[Object(p.jsx)(l,{className:"inline-block mr-0.1 text-xs ".concat(!0===i?"text-white":"")}),Object(p.jsx)("span",{className:"inline-block pl-1 ".concat(!0===i?"text-white":""),children:s}),c>=1?Object(p.jsx)("span",{className:"text-sm fint-bold ".concat(!0===i?"text-white":""),children:c}):null]})}},206:function(e,t,s){"use strict";s.d(t,"e",(function(){return p})),s.d(t,"b",(function(){return h})),s.d(t,"c",(function(){return b})),s.d(t,"d",(function(){return m})),s.d(t,"a",(function(){return x})),s.d(t,"f",(function(){return f}));var o=s(5),n=s.n(o),r=s(7),i=s(8),a=s.n(i),c=s(6),l=s(9),d=s(13),u=s(12),p=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){var o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,a.a.get("".concat(l.a.AUTH,"/settings"));case 5:o=t.sent,s({type:c.a.GET_SYSTEM_SETTINGS,payload:o.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){var o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,a.a.get("".concat(l.a.APPLICATION,"/applicationsesion"));case 5:o=t.sent,s({type:c.a.GET_APPLICATION_SESSIONS,payload:o.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){var o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,a.a.get("".concat(l.a.APPLICATION,"/position"));case 5:o=t.sent,s({type:c.a.GET_POSTIONS,payload:o.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return console.log({deletePosition:e}),function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},211:function(e,t,s){"use strict";s.d(t,"p",(function(){return u})),s.d(t,"c",(function(){return p})),s.d(t,"m",(function(){return h})),s.d(t,"h",(function(){return b})),s.d(t,"b",(function(){return m})),s.d(t,"l",(function(){return x})),s.d(t,"g",(function(){return f})),s.d(t,"e",(function(){return j})),s.d(t,"o",(function(){return g})),s.d(t,"j",(function(){return O})),s.d(t,"a",(function(){return _})),s.d(t,"k",(function(){return v})),s.d(t,"f",(function(){return y})),s.d(t,"d",(function(){return N})),s.d(t,"n",(function(){return P})),s.d(t,"i",(function(){return E}));var o=s(5),n=s.n(o),r=s(7),i=s(8),a=s.n(i),c=s(6),l=s(9),d=s(12),u=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){var o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,a.a.get("".concat(l.a.APPLICATION,"/roomlocation"));case 4:o=t.sent,s({type:c.a.GET_ALL_ROOM,payload:o.data}),console.log("===================================="),console.log({res:o.data}),console.log("===================================="),e(!1,"",o.data),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),console.error("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.CREATE_PROVINCE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return console.log({data:e}),function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.UPDATE_PROVINCE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_PROVINCE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.CREATE_DISTRICT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return console.log({data:e}),function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.UPDATE_DISTRICT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return console.log({data:e}),function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_DISTRICT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.CREATE_SECTOR,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.UPDATE_SECTOR,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return console.log({data:e}),function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_SECTOR,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return console.log({data:e}),function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.CREATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return console.log({data:e}),function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.UPDATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return console.log({data:e}),function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.CREATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.UPDATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return console.log({delete_room:e}),function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},212:function(e,t,s){"use strict";s.d(t,"c",(function(){return o})),s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return r}));var o,n,r,i=s(26);!function(e){e.INITIATED="initiated",e.CONFIRMED="confirmed",e.RECEIVED="received"}(o||(o={})),function(e){e.Title="title",e.Description="description",e.Files="files",e.email="email",e.names="names",e.phone_number="phone_number",e.position="position",e.relation="relation",e.src="src",e.year="year",e.company="company",e.category_subcategory_data="category_subcategory_data",e.others="others",e.start_year="start_year",e.end_year="end_year",e.School="School"}(n||(n={})),function(e){e.APPROVED="approved",e.REJECTED="rejected"}(r||(r={}));i.c.APPLICATION,i.c.DOCUMENT_VALIDATION,i.c.EXAMINATION,i.c.MARKS_PUBLICATION,i.c.PLACEMENT_TRANSFER},239:function(e,t,s){"use strict";s(4);var o=s(199),n=s(1);t.a=function(e){return Object(n.jsx)("div",{children:Object(n.jsx)(o.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Document",alignText:"left",padding:"p-3"},{columnTitle:"Status",alignText:"left",padding:"p-3"}],rows:function(){var t=e.requirements;return 0===t.length?[Object(n.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(n.jsx)("td",{className:"p-3 text-center",colSpan:3,children:"No Data Found"})},153)]:t.map((function(e,t){return Object(n.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(n.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(n.jsx)("td",{className:"p-3 text-left",children:Object(n.jsx)("span",{children:e.subcategory_title+" in "+e.field_title})}),Object(n.jsx)("td",{className:"p-3 text-left text-lg italic",children:e.required?Object(n.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional"})]},t+e.field_id)}))},pagination:!1,search:!1,thColor:"gray"})})}},270:function(e,t,s){"use strict";s.d(t,"h",(function(){return u})),s.d(t,"a",(function(){return p})),s.d(t,"i",(function(){return h})),s.d(t,"c",(function(){return b})),s.d(t,"e",(function(){return m})),s.d(t,"g",(function(){return x})),s.d(t,"b",(function(){return f})),s.d(t,"j",(function(){return j})),s.d(t,"d",(function(){return g})),s.d(t,"f",(function(){return O}));var o=s(5),n=s.n(o),r=s(7),i=s(6),a=(s(196),s(13),s(8)),c=s.n(a),l=s(9),d=s(12),u=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){var o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,c.a.get("".concat(l.a.APPLICATION,"/schools"));case 4:o=t.sent,s({type:i.a.GET_SCHOOLS,payload:o.data}),e(!1,"",o.data),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return console.log({schools:e}),function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:i.a.CREATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:i.a.UPDATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:i.a.DELETE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t){return function(){var s=Object(r.a)(n.a.mark((function s(o){var r;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/requestpost/school/").concat(e));case 4:r=s.sent,console.log({schoolPosts:r.data}),o({type:i.a.FETCH_SCHOOL_POSTS,payload:r.data}),t(!1,""),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()},x=function(e,t){return function(){var s=Object(r.a)(n.a.mark((function s(o){var r;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/placedcandidate/school/").concat(e));case 4:r=s.sent,console.log({getSchoolPlacement:r.data}),o({type:i.a.GET_SCHOOL_PLACEMENT,payload:r.data}),t(!1,"",r.data),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:i.a.CREATE_SCHOOL_POST,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return console.log({TYPE:e,data:t}),function(){var s=Object(r.a)(n.a.mark((function s(o){return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:o({type:i.a.UPDATE_SCHOOL_POST,payload:{TYPE:e,data:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},g=function(e,t){return function(){var s=Object(r.a)(n.a.mark((function s(o){var r;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/requestpost/district/").concat(e));case 4:r=s.sent,console.log({districtPosts:r}),o({type:i.a.FETCH_DISTRICT_POSTS,payload:r.data}),t(!1,""),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()},O=function(e,t){return function(){var s=Object(r.a)(n.a.mark((function s(o){var r;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/placedcandidate/district/").concat(e));case 4:r=s.sent,console.log("===================================="),console.log({getDistrictPlacement:r.data}),console.log("===================================="),o({type:i.a.GET_DISTRICT_PLACEMENT,payload:r.data}),t(!1,"",r.data),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()}},291:function(e,t,s){"use strict";var o,n,r,i,a;s.d(t,"a",(function(){return o})),s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return r})),s.d(t,"d",(function(){return a})),function(e){e.Failed="Failed",e.Passed="Passed"}(o||(o={})),function(e){e.applicant_name="names",e.national_id="national_id",e.phone_number="phone",e.email="email",e.gender="gender",e.position_name="position_name",e.marks="marks",e.status="status"}(n||(n={})),function(e){e.PENDING="pending",e.PLACED="placed",e.REJECTED="rejected"}(r||(r={})),function(e){e.WAITING="waiting",e.PENDING="pending",e.PLACED="placed"}(i||(i={})),function(e){e.applicant_name="names",e.national_id="national_id",e.phone_number="phone",e.email="email",e.school_name="school_name",e.position_name="position_name",e.status="status"}(a||(a={}))},449:function(e,t,s){"use strict";var o=s(5),n=s.n(o),r=s(2),i=s(7),a=s(14),c=s(8),l=s.n(c),d=s(4),u=s(10),p=s(268),h=s(17),b=s(3),m=s(206),x=s(75),f=s(28),j=s(9),g=s(41),O=s(239),_=s(1),v=function(e){var t=[],s=[],o=[],n=[],r=[];for(var i in e){var a=e[i].requirements;for(var c in a){var l=a[c],d=l.category,u=l.subcategory;if(d){for(var p in l.position_requirement){var h=l.position_requirement[p];t.push({category_id:d.user_detail_category_id,category_title:d.title,subcategory_id:u.user_detail_subcategory_id,subcategory_title:u.title,field_title:h.title,field_id:h._id,required:h.required})}o.includes(d.user_detail_category_id)||(o.push(d.user_detail_category_id),s.push({category_id:d.user_detail_category_id,category_title:d.title,subcategory_id:"",subcategory_title:"",field_title:"",field_id:"",required:!1})),r.includes(u.user_detail_subcategory_id)||(r.push(u.user_detail_subcategory_id),n.push({category_id:u.category_id,category_title:"",subcategory_id:u.user_detail_subcategory_id,subcategory_title:u.title,field_title:"",field_id:"",required:!1}))}}}return{PositionsTemp:t,DistinctCategoriesTemp:s,DistinctSubCategoriesTemp:n}};t.a=Object(h.b)(null,{publishPosition:m.f,PushPopupAlert:b.tb})((function(e){var t=Object(d.useState)(""),s=Object(a.a)(t,2),o=s[0],c=s[1],h=function(){var t=Object(i.a)(n.a.mark((function t(s,o,i){var a,d;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure do you want to ".concat(o?"publish":"unpublish"," this position?"))){t.next=19;break}return c(s),t.prev=2,t.next=5,l.a.patch("".concat(j.a.APPLICATION,"/publishposition/").concat(s),{isPublished:o});case 5:a=t.sent,e.publishPosition({position_id:s,status:o}),e.PushPopupAlert({title:"".concat(i," ").concat(o?" published":" stopped on application"," successfully"),theme:f.a.info}),(d=Object(r.a)({},e.thisPosition)).isPublished=o,e.setThisPosition&&e.setThisPosition(d),console.log("Position publish: ",a),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),console.error("err: ",t.t0),e.PushPopupAlert({title:Object(g.f)(t.t0),theme:f.a.danger});case 18:c("");case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,s,o){return t.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"w-full",children:Object(_.jsxs)("div",{className:"w-full bg-gray-100 px-4 py-1 animate__animated animate__fadeIn",children:[Object(_.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(_.jsx)("span",{className:"text-blue-600 font-bold text-2xl",children:e.thisPosition.position_title}),Object(_.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(_.jsx)("span",{className:"italic",children:"Desc:"}),Object(_.jsx)("span",{className:"font-semibold",children:e.thisPosition.description})]}),Object(_.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(_.jsx)("span",{className:"italic",children:"School level:"}),Object(_.jsx)("span",{className:"font-semibold",children:e.thisPosition.school_level_id.school_level_name})]}),Object(_.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(_.jsx)("span",{className:"italic",children:"Institute:"}),Object(_.jsx)("span",{className:"font-semibold",children:e.thisPosition.education_institute_id.education_category_title})]}),Object(_.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(_.jsx)("span",{className:"italic",children:"Courses:"}),Object(_.jsx)("span",{className:"flex items-center gap-2",children:e.thisPosition.courses.map((function(t,s){return Object(_.jsxs)("div",{className:"flex items-center gap-1",children:[Object(_.jsx)("span",{className:"font-semibold",children:t.course_name}),Object(_.jsxs)("span",{className:"text-gray-600",children:["(",t.course_code,")"]}),s!==e.thisPosition.courses.length-1&&","]},s+t.course_id)}))})]}),Object(_.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(_.jsx)("span",{className:"italic",children:"Status:"}),Object(_.jsx)("div",{className:"flex flex-row items-center gap-2 mt-1",children:e.isGuest?e.thisPosition.isPublished?Object(_.jsx)("span",{className:"text-green-600 font-semibold text-xl italic",children:"Published"}):Object(_.jsx)("span",{className:"text-yellow-600 font-semibold text-xl italic",children:"Not Published"}):Object(_.jsxs)("div",{className:"relative ".concat(o.length>0?"cursor-not-allowed":"cursor-pointer"," flex items-center gap-1"),onClick:function(){return!o.length&&!e.isGuest&&h(e.thisPosition.position_id,!e.thisPosition.isPublished,e.thisPosition.position_title)},children:[Object(_.jsx)("span",{className:"block w-14 h-8 bg-gray-100 hover:border-gray-100 rounded-full shadow-inner"}),Object(_.jsx)("span",{className:"absolute block w-6 h-6 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-500 ease-in-out ".concat(e.thisPosition.isPublished?"bg-green-500 transform translate-x-full":"bg-yellow-500")}),o===e.thisPosition.position_id?Object(_.jsx)(p.b,{className:"animate__animated animate__rotateIn animate__infinite"}):Object(_.jsx)("span",{className:"font-medium",children:e.thisPosition.isPublished?"Published":"Unpublished"})]})})]})]}),Object(_.jsxs)("div",{className:"bg-white w-full rounded p-2 mb-2",children:[Object(_.jsx)("div",{className:"text-blue-500 text-2xl font-bold my-2",children:"Position Requirements"}),e.thisPosition.requirements.length>0?v([e.thisPosition]).DistinctCategoriesTemp.map((function(t,s){return Object(_.jsxs)("div",{className:"bg-gray-100 rounded p-2",children:[Object(_.jsxs)("div",{className:"flex items-center gap-2 text-2xl text-gray-500 font-bold",children:[Object(_.jsx)(u.Jb,{}),Object(_.jsx)("span",{children:t.category_title})]}),Object(_.jsx)("div",{className:"border bg-white mt-1",children:Object(_.jsx)(O.a,{requirements:v([e.thisPosition]).PositionsTemp.filter((function(e){return e.category_id===t.category_id}))})})]},s+t.category_id)})):Object(_.jsx)(x.b,{theme:x.a.Dark,value:"No requirements"})]})]})})}))},510:function(e,t,s){"use strict";s.r(t),s.d(t,"LocationsSectorInArray",(function(){return I})),s.d(t,"getSchoolById",(function(){return T})),s.d(t,"Schools",(function(){return q}));var o=s(5),n=s.n(o),r=s(7),i=s(20),a=s(19),c=s(22),l=s(21),d=s(8),u=s.n(d),p=s(4),h=s.n(p),b=s(87),m=s(84),x=s(45),f=s(10),j=s(17),g=s(3),O=s(211),_=s(270),v=s(23),y=s(200),N=s(28),P=s(196),E=s(9),S=s(12),w=s(1),I=function(e){var t=[];for(var s in e){var o=e[s].districts;for(var n in o){var r=o[n].sectors;for(var i in r)t.push({province_id:e[s]._id,province_name:e[s].province_name,province_code:e[s].province_code,district_id:o[n]._id,district_name:o[n].district_name,district_code:o[n].district_code,sector_id:r[i].sector_id,sector_name:r[i].sector_name,sector_code:r[i].sector_code})}}return t},T=function(e,t){return e.find((function(e){return e._id===t}))},C=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var o;return Object(i.a)(this,s),(o=t.call(this,e)).setLoading=function(e){o.setState({loading:e})},o.setLoadingSchool=function(e){o.setState({loadingSchool:e})},o.setLoadingRequest=function(e){o.setState({loadingRequest:e})},o.setError=function(e){o.setState({error:e})},o.componentDidMount=function(){!o.props.allRoom.length&&o.state.loading?o.props.getAllRoom((function(e,t){o.setLoading(e),!e&&t.length>0&&console.error(t)})):o.state.loading&&o.setLoading(!1),null!==o.props.education_categories&&0!==o.props.education_categories.length||o.props.loadEducationCategories(o.setLoading),!o.props.schools.length&&o.state.loadingSchool?o.props.getSchools((function(e,t,s){console.log(e,t),o.setLoadingSchool(e),e||(t.length>0&&console.error({loadingCandidatesError:t}),s&&o.setState({schoolList:s}))})):o.setLoadingSchool(!1)},o.handleSubmit=function(){var e=Object(r.a)(n.a.mark((function e(t){var s,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Object(P.f)(o.state.schoolName)){e.next=3;break}return e.abrupt("return",o.setError({element:"school_name",msg:"School name is required"}));case 3:if(!(o.state.schoolCode<=0)){e.next=5;break}return e.abrupt("return",o.setError({element:"school_code",msg:"Invalid school code, School code less than 0"}));case 5:if(!Object(P.f)(o.state.instituteId)){e.next=7;break}return e.abrupt("return",o.setError({element:"edication_id",msg:"Education Institute is required"}));case 7:if(!Object(P.f)(o.state.districtId)){e.next=9;break}return e.abrupt("return",o.setError({element:"districtId_id",msg:"District is required"}));case 9:if(!Object(P.f)(o.state.sectorId)){e.next=11;break}return e.abrupt("return",o.setError({element:"sector_id",msg:"Sector is required"}));case 11:if(s=o.getSectors().find((function(e){return e.sector_id===o.state.sectorId}))){e.next=14;break}return e.abrupt("return",o.setError({element:"sector_id",msg:"Unknown selected sector"}));case 14:if(o.setLoadingRequest(!0),e.prev=15,"CREATE"!==o.state.modalState){e.next=23;break}return e.next=19,u.a.post("".concat(E.a.APPLICATION,"/schools"),{school_name:o.state.schoolName,school_code:o.state.schoolCode,district_id:o.state.districtId,sector_id:o.state.sectorId,sector_code:s.sector_code,education_category_id:o.state.instituteId});case 19:(r=e.sent).data&&(console.log({res:r}),o.props.createSchool({_id:r.data.data.shool_id,status:r.data.data.status,school_name:r.data.data.school_name,school_code:r.data.data.school_code,sector_code:r.data.data.sector_code,district_id:r.data.data.district_id,sector_id:r.data.data.sector_id,education_category_id:r.data.data.education_category_id}),o.props.PushPopupAlert({title:"New School created successfully",theme:N.a.success}),o.setLoadingRequest(!1),o.setState({schoolName:"",schoolCode:0,districtId:"",sectorId:"",instituteId:"",provinceId:"",thisSchool:null,modalState:""})),e.next=28;break;case 23:if(!o.state.thisSchool||"UPDATE"!==o.state.modalState){e.next=28;break}return e.next=26,u.a.patch("".concat(E.a.APPLICATION,"/schools"),{school_id:o.state.thisSchool._id,school_name:o.state.schoolName,school_code:o.state.schoolCode,district_id:o.state.districtId,sector_id:o.state.sectorId,sector_code:s.sector_code,education_category_id:o.state.instituteId});case 26:(r=e.sent).data&&(console.log({res:r}),o.props.updateSchool({_id:o.state.thisSchool._id,status:!0,sector_code:s.sector_code,school_name:o.state.schoolName,school_code:o.state.schoolCode,district_id:o.state.districtId,sector_id:o.state.sectorId,education_category_id:o.state.instituteId}),o.props.PushPopupAlert({title:"School updated successfully",theme:N.a.success}),o.setLoadingRequest(!1),o.setState({schoolName:"",schoolCode:0,districtId:"",sectorId:"",instituteId:"",provinceId:"",thisSchool:null,modalState:""}));case 28:e.next=35;break;case 30:e.prev=30,e.t0=e.catch(15),console.log({doc_category_error:e.t0}),o.props.PushPopupAlert({title:Object(S.a)(e.t0),theme:N.a.danger}),o.setLoadingRequest(!1);case 35:case"end":return e.stop()}}),e,null,[[15,30]])})));return function(t){return e.apply(this,arguments)}}(),o.handleDelete=function(){var e=Object(r.a)(n.a.mark((function e(t){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure do you want to delete this room?")){e.next=14;break}return o.setLoadingRequest(!0),e.prev=2,e.next=5,u.a.delete("".concat(E.a.APPLICATION,"/schools/").concat(t));case 5:(s=e.sent).data&&(console.log({res:s}),o.props.deleteSchool(t),o.props.PushPopupAlert({title:"School deleted successfully",theme:N.a.success})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log({province_error:e.t0}),o.props.PushPopupAlert({title:Object(S.a)(e.t0),theme:N.a.danger});case 13:o.setLoadingRequest(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),o.filterSchools=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];"INSTITUTE"===e&&(n=o.state.thisDistrict&&!s?"ALL"===t?o.props.schools.filter((function(e){return e.district_id===o.state.thisDistrict._id})):o.props.schools.filter((function(e){return e.education_category_id===t&&e.district_id===o.state.thisDistrict._id})):"ALL"===t?o.props.schools:o.props.schools.filter((function(e){return e.education_category_id===t}))),"DISTRICT"===e&&(n=o.state.thisEdication?"ALL"===t?o.props.schools.filter((function(e){return e.education_category_id===o.state.thisEdication.education_institute_id})):o.props.schools.filter((function(e){return e.district_id===t&&e.education_category_id===o.state.thisEdication.education_institute_id})):"ALL"===t?o.props.schools:o.props.schools.filter((function(e){return e.district_id===t}))),o.setState({schoolList:n})},o.countSchool=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL",s=0;return"DEFAULT"===e?s=o.state.schoolList.length:"EDUCATION"===e?s=o.state.schoolList.filter((function(e){return e.education_category_id===t})).length:"DISTRICT"===e&&(s=o.state.schoolList.filter((function(e){return e.district_id===t})).length),Object(P.h)(s)},o.getProvinceByCode=function(e){return o.props.allRoom.find((function(t){return t.province_code===e}))},o.getDistrictByCode=function(e,t){var s=o.props.allRoom.find((function(t){return t.province_code===e}));return s?s.districts.find((function(e){return e.district_code===t})):void 0},o.getSectorByCode=function(e,t,s){var n=o.props.allRoom.find((function(t){return t.province_code===e}));if(n&&n.districts){var r=n.districts.find((function(e){return e.district_code===t}));return r&&r.sectors?r.sectors.find((function(e){return e.sector_code===s})):void 0}},o.getSectors=function(){var e=o.props.allRoom.find((function(e){return e._id===o.state.provinceId}));if(e&&e.districts.length>0){var t=e.districts.find((function(e){return e._id===o.state.districtId}));if(t)return t.sectors}return null},o.state={loading:!0,loadingSchool:!0,loadingRequest:!1,districtFilterStatus:!1,edicationCategoryFilterStatus:!1,provinceFilterStatus:!1,thisEdication:null,thisProvince:null,thisDistrict:null,district:[],schoolList:o.props.schools,modalState:"",error:null,schoolName:"",schoolCode:0,thisSchool:null,instituteId:"",provinceId:"",districtId:"",sectorId:""},o}return Object(a.a)(s,[{key:"render",value:function(){var e=this;return this.state.loadingSchool||this.state.loading?Object(w.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading schools..."}):Object(w.jsxs)(h.a.Fragment,{children:[Object(w.jsx)(y.b,{children:this.state.loading?Object(w.jsxs)("section",{className:"animate-pulse",children:[Object(w.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"}),Object(w.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"}),Object(w.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"})]}):Object(w.jsxs)(h.a.Fragment,{children:[Object(w.jsx)("span",{className:"font-semibold text-lg text-gray-500",children:"Filter by Institute"}),Object(w.jsx)("section",{className:"mt-2 ".concat(this.state.loadingRequest&&"cursor-pointer"),onClick:function(){return!e.state.loadingRequest&&e.setState({edicationCategoryFilterStatus:!e.state.edicationCategoryFilterStatus})},children:Object(w.jsx)(y.a,{title:this.state.thisEdication?this.state.thisEdication.education_category_title:"Choose Education Institute",active:!(!this.state.edicationCategoryFilterStatus&&null===this.state.thisEdication)})}),this.state.edicationCategoryFilterStatus&&this.props.education_categories&&this.props.education_categories.length>0&&Object(w.jsx)(y.d,{children:this.props.education_categories&&this.props.education_categories.map((function(t,s){return Object(w.jsx)("section",{onClick:function(){return!e.state.loadingRequest&&(e.setState({thisEdication:t,edicationCategoryFilterStatus:!1}),e.filterSchools("INSTITUTE",t.education_institute_id))},children:Object(w.jsx)(y.c,{title:t.education_category_title,icon:f.V,active:!!e.state.thisEdication&&t.education_institute_id===e.state.thisEdication.education_institute_id})},t.education_institute_id+s)}))}),Object(w.jsxs)("section",{children:[Object(w.jsx)("span",{className:"font-semibold text-lg text-gray-500",children:"Filter by District"}),Object(w.jsx)("section",{className:"mt-2",onClick:function(){return!e.state.loadingRequest&&e.setState({provinceFilterStatus:!e.state.provinceFilterStatus,edicationCategoryFilterStatus:!1,districtFilterStatus:!1})},children:Object(w.jsx)(y.a,{title:this.state.thisProvince?this.state.thisProvince.province_name:"Choose Province",active:!(!this.state.provinceFilterStatus&&null===this.state.thisProvince)})})]}),this.state.provinceFilterStatus&&this.props.allRoom&&this.props.allRoom.length>0&&Object(w.jsx)(y.d,{children:this.props.allRoom&&this.props.allRoom.map((function(t,s){return Object(w.jsx)("section",{onClick:function(){return!e.state.loadingRequest&&(e.setState({provinceFilterStatus:!1,thisProvince:t,thisDistrict:null}),e.state.thisEdication&&e.filterSchools("INSTITUTE",e.state.thisEdication.education_institute_id,!0))},children:Object(w.jsx)(y.c,{title:t.province_name,icon:f.V,active:!!e.state.thisProvince&&t._id===e.state.thisProvince._id})},t._id+s)}))}),this.state.thisProvince&&Object(w.jsx)("section",{className:"mt-2",onClick:function(){return!e.state.loadingRequest&&e.setState({edicationCategoryFilterStatus:!1,provinceFilterStatus:!1,districtFilterStatus:!e.state.districtFilterStatus})},children:Object(w.jsx)(y.a,{title:this.state.thisDistrict?this.state.thisDistrict.district_name:"Choose District",active:!(!this.state.districtFilterStatus&&null===this.state.thisDistrict)})}),this.state.districtFilterStatus&&this.state.thisProvince&&this.state.thisProvince.districts.length>0&&Object(w.jsx)(y.d,{children:this.state.thisProvince&&this.state.thisProvince.districts.map((function(t,s){return Object(w.jsx)("section",{onClick:function(){return!e.state.loadingRequest&&(e.setState({thisDistrict:t,districtFilterStatus:!1}),e.filterSchools("DISTRICT",t._id))},children:Object(w.jsx)(y.c,{title:t.district_name,icon:f.V,active:!!e.state.thisDistrict&&t._id===e.state.thisDistrict._id})},t._id+s)}))})]})}),Object(w.jsxs)("div",{className:"w-full my-5 px-1",children:[Object(w.jsx)("div",{className:"flex items-start justify-between",children:Object(w.jsxs)("div",{className:"flex flex-row items-center",children:[Object(w.jsx)(m.b,{className:"text-blue-500 w-28 h-28"}),console.log({LocationsSectorInArray:I(this.props.allRoom)}),console.log({allRoom:this.props.allRoom}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("h1",{className:"text-3xl font-semibold",children:"Schools Management"}),Object(w.jsxs)("div",{className:"flex flex-row items-center mx-2 md:gap-3 gap-2",children:[Object(w.jsxs)("div",{className:"flex flex-col mt-1",children:[Object(w.jsx)("span",{className:"text-gray-600 text-base",children:"All School(s)"}),Object(w.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:this.countSchool()})]}),this.props.education_categories&&this.props.education_categories.length>0&&this.props.education_categories.map((function(t,s){return Object(w.jsxs)("div",{className:"flex flex-col mt-1",children:[Object(w.jsx)("span",{className:"text-gray-600 text-base",children:t.education_category_title}),Object(w.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:e.countSchool("EDUCATION",t.education_institute_id)})]},s+t.education_institute_id)}))]})]})]})}),Object(w.jsxs)("div",{className:"md:w-98 bg-white mx-auto md:p-2",children:[Object(w.jsxs)("div",{className:"flex items-start justify-between",children:[Object(w.jsxs)("div",{children:[this.state.thisEdication&&Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsxs)("div",{className:"flex items-center gap-1 mx-1",children:[Object(w.jsx)(f.J,{className:"text-gray-600"}),Object(w.jsx)("span",{className:"font-semibold text-gray-500",children:"Institute:"}),Object(w.jsx)("span",{className:"font-semibold text-blue-700",children:this.state.thisEdication.education_category_title})]}),Object(w.jsx)(x.b,{className:"cursor-pointer rounded-full hover:bg-red-500 hover:text-white",onClick:function(){return!e.state.loading&&(e.setState({thisEdication:null}),e.filterSchools("INSTITUTE","ALL"))},title:"Clean Education Institute filter"})]}),this.state.thisProvince&&Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsxs)("div",{className:"flex items-center gap-1 mx-1",children:[Object(w.jsx)(f.J,{className:"text-gray-600"}),Object(w.jsx)("span",{className:"font-semibold text-gray-500",children:"Location:"}),Object(w.jsx)("span",{className:"font-semibold ".concat(this.state.thisDistrict?"text-black cursor-pointer":"text-blue-700"),children:this.state.thisProvince.province_name}),this.state.thisDistrict&&Object(w.jsxs)("div",{className:"flex items-center",children:[Object(w.jsx)(b.d,{}),Object(w.jsx)("span",{className:"text-blue-700 font-semibold",children:this.state.thisDistrict.district_name})]})]}),Object(w.jsx)(x.b,{className:"cursor-pointer rounded-full hover:bg-red-500 hover:text-white",onClick:function(){return!e.state.loading&&(e.setState({thisDistrict:null,thisProvince:null}),e.filterSchools("DISTRICT","ALL"))},title:"Clean location filter"})]})]}),!1]}),Object(w.jsx)("div",{className:"rounded border border-gray-100 my-1 shadow-sm animate__animated animate__fadeIn",children:Object(w.jsxs)("table",{className:"w-full z-0",children:[Object(w.jsx)("thead",{className:"bg-gray-50",children:Object(w.jsxs)("tr",{className:"text-left",children:[Object(w.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(w.jsx)("th",{children:"School code"}),Object(w.jsx)("th",{children:"School name"}),Object(w.jsx)("th",{children:"Institute"}),Object(w.jsx)("th",{children:"Province"}),Object(w.jsx)("th",{children:"District"}),Object(w.jsx)("th",{children:"Status"})]})}),Object(w.jsxs)("tbody",{className:"text-sm",children:[!this.state.schoolList.length&&Object(w.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(w.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"No School Found"})},1),this.state.schoolList.length>0&&!this.state.loading&&this.state.schoolList.map((function(t,s){return Object(w.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(w.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:s+1}),Object(w.jsx)("td",{className:"p-3 text-left",children:t.school_code}),Object(w.jsx)("td",{className:"p-3 text-left",children:t.school_name}),Object(w.jsx)("td",{className:"py-3 px-3 text-left",children:e.props.education_categories&&e.props.education_categories.filter((function(e){return e.education_institute_id===t.education_category_id})).length>0?e.props.education_categories.filter((function(e){return e.education_institute_id===t.education_category_id}))[0].education_category_title:"No Institute"}),Object(w.jsx)("td",{className:"py-3 px-3 text-left",children:e.getProvinceByCode(t.province_code)?e.getProvinceByCode(t.province_code).province_name:"No province "}),Object(w.jsx)("td",{className:"py-3 px-3 text-left",children:e.getDistrictByCode(t.province_code,t.district_code)?e.getDistrictByCode(t.province_code,t.district_code).district_name:"No district"}),Object(w.jsx)("td",{className:"px-3",children:Object(w.jsxs)("div",{className:"flex items-center gap-2 float-right",children:[Object(w.jsxs)("button",{className:"bg-blue-600 text-white font-bold py-1 px-2 flex items-center rounded focus:outline-none ".concat(e.state.loadingRequest?"cursor-not-allowed":null),title:"Edit School",disabled:e.state.loadingRequest,onClick:function(){e.setState({modalState:"UPDATE",thisSchool:t,schoolName:t.school_name,schoolCode:t.school_code,instituteId:t.education_category_id,districtId:t.district_id,sectorId:t.sector_id,provinceId:e.props.allRoom.find((function(e){return e.districts.find((function(e){return e._id===t.district_id}))}))?e.props.allRoom.find((function(e){return e.districts.find((function(e){return e._id===t.district_id}))}))._id:""})},children:[Object(w.jsx)(f.fb,{className:"w-4 h-4"}),"Edit"]}),Object(w.jsxs)("button",{className:"bg-red-700 text-white font-bold py-1 px-2 flex items-center rounded focus:outline-none ".concat(e.state.loadingRequest?"cursor-not-allowed":null),title:"Delete",disabled:e.state.loadingRequest,onClick:function(){return e.handleDelete(t._id)},children:[Object(w.jsx)(f.fb,{className:"w-4 h-4"}),"Delete"]})]})})]},s+t._id)}))]})]})})]})]}),this.state.modalState&&Object(w.jsx)(v.d,{backDrop:!0,theme:v.c.default,close:function(){return e.setState({modalState:"",thisSchool:null,schoolName:"",instituteId:"",districtId:"",provinceId:""})},displayClose:!0,backDropClose:!1,title:Object(w.jsxs)("div",{className:"text-gray-600 font-bold text-3xl md:ml-4 inline-flex items-center gap-2",children:[Object(w.jsx)(m.b,{className:"w-11 h-11 text-gray-500 hover:bg-gray-500 hover:text-gray-50 rounded-full p-0 foucs:outline-none"}),"CREATE"===this.state.modalState?"CREATE ":"UPDATE "," ","SCHOOL"]}),widthSizeClass:v.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(w.jsx)("div",{className:"mx-8 mb-8",children:Object(w.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(w.jsxs)("div",{className:"py-4 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"School name"}),Object(w.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block border-2 ".concat(this.state.error&&"school_name"===this.state.error.element?"border-red-700":"border-gray-500"),placeholder:"School name",value:this.state.schoolName,onChange:function(t){e.setError(null),e.setState({schoolName:t.target.value})},disabled:this.state.loadingRequest}),this.state.error&&"school_name"===this.state.error.element&&Object(w.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"School code"}),Object(w.jsx)("input",{type:"number",className:"text-left input-white w-20 inline-block border-2 ".concat(this.state.error&&"school_code"===this.state.error.element?"border-red-700":"border-gray-500"),placeholder:"School code",value:this.state.schoolCode,onChange:function(t){e.setError(null),e.setState({schoolCode:Number(t.target.value)})},disabled:this.state.loadingRequest}),this.state.error&&"school_code"===this.state.error.element&&Object(w.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Institutes"}),Object(w.jsxs)("select",{className:"text-left input-white w-full block border-2 py-3 px-4 pr-8 ".concat(this.state.error&&"edication_id"===this.state.error.element?"border-red-700":"border-gray-500"),value:this.state.instituteId,onChange:function(t){return e.setState({instituteId:t.target.value})},disabled:this.state.loadingRequest,children:[Object(w.jsx)("option",{value:"",disabled:!0,children:"Choose Institute"}),this.props.education_categories&&this.props.education_categories.map((function(e,t){return Object(w.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},t+e.education_institute_id)}))]}),this.state.error&&"edication_id"===this.state.error.element&&Object(w.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Province"}),Object(w.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 border-gray-500",value:this.state.provinceId,onChange:function(t){return e.setState({provinceId:t.target.value})},disabled:this.state.loadingRequest,children:[Object(w.jsx)("option",{value:"",disabled:!0,children:"Choose province"}),this.props.allRoom&&this.props.allRoom.map((function(e,t){return Object(w.jsx)("option",{value:e._id,children:e.province_name},t+e._id)}))]})]}),this.state.provinceId.length>0&&Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Sector"}),Object(w.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 ".concat(this.state.error&&"districtId_id"===this.state.error.element?"border-red-700":"border-gray-500"),value:this.state.districtId,onChange:function(t){return e.setState({districtId:t.target.value})},disabled:this.state.loadingRequest,children:[Object(w.jsx)("option",{value:"",disabled:!0,children:"Choose district"}),this.props.allRoom&&this.props.allRoom.filter((function(t){return t._id===e.state.provinceId}))[0].districts.length>0?this.props.allRoom.filter((function(t){return t._id===e.state.provinceId}))[0].districts.map((function(e,t){return Object(w.jsx)("option",{value:e._id,children:e.district_name},t+e._id)})):Object(w.jsx)("option",{disabled:!0,children:"No District Found"},702)]}),this.state.error&&"districtId_id"===this.state.error.element&&Object(w.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]}),this.state.provinceId.length>0&&Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Sector"}),Object(w.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 ".concat(this.state.error&&"sector_id"===this.state.error.element?"border-red-700":"border-gray-500"),value:this.state.sectorId,onChange:function(t){return e.setState({sectorId:t.target.value})},disabled:this.state.loadingRequest,children:[Object(w.jsx)("option",{value:"",disabled:!0,children:"Choose sector"}),this.props.allRoom&&this.getSectors()?this.getSectors().map((function(e,t){return Object(w.jsx)("option",{value:e.sector_id,children:e.sector_name},t+e.sector_id)})):Object(w.jsx)("option",{disabled:!0,children:"No Sector Found"},702)]}),this.state.error&&"sector_id"===this.state.error.element&&Object(w.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]})]}),Object(w.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(w.jsx)("button",{onClick:function(){return e.setState({modalState:"",thisSchool:null,schoolName:"",instituteId:"",districtId:"",provinceId:""})},className:"btn bg-gray-400 text-white hover:bg-gray-600 focus:outline-none",type:"button",disabled:this.state.loadingRequest,children:"Exit"}),Object(w.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600 focus:outline-none ".concat(this.state.loadingRequest?"animate-pulse":null),type:"submit",disabled:this.state.loadingRequest,children:this.state.loadingRequest?"Loading...":"Save"})]})]})})})]})}}]),s}(p.Component),q=Object(j.b)((function(e){var t=e.auth,s=e.schools,o=e.schoolLevels,n=e.locations;return{auth:t,schools:s.schools,education_categories:o.education_categories,allRoom:n.roomLocation}}),{createSchool:_.a,getSchools:_.h,updateSchool:_.i,getAllRoom:O.p,deleteSchool:_.c,loadEducationCategories:g.Zb,PushPopupAlert:g.tb})(C)},563:function(e,t,s){"use strict";s.r(t),s.d(t,"getPlacementByRequest",(function(){return V})),s.d(t,"PostRequest",(function(){return B}));var o=s(20),n=s(19),r=s(22),i=s(21),a=s(4),c=s(478),l=s(17),d=s(25),u=s(3),p=s(270),h=s(206),b=s(291),m=s(28),x=s(5),f=s.n(x),j=s(7),g=s(8),O=s.n(g),_=s(10),v=s(196),y=s(212),N=s(9),P=s(12),E=s(1),S=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).submitRequest=function(){var e=Object(j.a)(f.a.mark((function e(t,s){var o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NOT_RECEIVED"!==s||!Object(v.f)(n.state.comment)){e.next=2;break}return e.abrupt("return",n.props.setFormError({element:"received_comment",msg:"Reason of your decision is required!"}));case 2:if(o=0,o="NOT_RECEIVED"===s?n.props.thisPost.received_posts?n.props.thisPost.received_posts:0:n.props.thisPost.received_posts?n.props.thisPost.received_posts+1:1,n.props.setLoadingRequest(!0),e.prev=5,!n.props.thisPost){e.next=11;break}return e.next=9,O.a.patch("".concat(N.a.PLACEMENT,"/requestpost/").concat(n.props.thisPost.requested_post_id),{confirmed_posts:n.props.thisPost.confirmed_posts,confirmed_by:n.props.auth.user.user_id,received_posts:o,approval_date:n.props.thisPost.approval_date,school_id:n.props.thisPost.school_id,position_id:n.props.thisPost.position_id,district_id:n.props.thisPost.district_id,needed_posts:n.props.thisPost.needed_posts,male_number:n.props.thisPost.male_number,female_number:n.props.thisPost.female_number,description:n.props.thisPost.description,occupied_posts:n.props.thisPost.occupied_posts,requested_by:n.props.auth.user.user_id,requested_post_status:y.c.RECEIVED});case 9:e.sent&&n.confirmPlacement(t);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error({role_error:e.t0}),n.props.PushPopupAlert({title:Object(P.a)(e.t0),theme:m.a.danger});case 17:n.props.setLoadingRequest(!1);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,s){return e.apply(this,arguments)}}(),n.confirmPlacement=function(){var e=Object(j.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.setLoadingRequest(!0),e.prev=1,!n.props.thisPost){e.next=7;break}return e.next=5,O.a.post("".concat(N.a.PLACEMENT,"/confirmreceived"),{placedStatus:[{waiting_list_id:t.waiting_list_id,placed_candidate_id:t._id,status:"NOT_RECEIVED"===n.state.action?b.b.REJECTED:b.b.PLACED}]});case 5:e.sent&&(n.props.fetchSchoolPosts(n.props.auth.user_access.school_id,(function(e,t){e||(t.length>0&&n.props.loadingPost&&(console.error("error loading school post: ",t),n.props.PushPopupAlert({title:t,theme:m.a.danger})),n.props.setLoadingPost(!1))})),n.props.getSchoolPlacement(n.props.auth.user_access.school_id,(function(e,t,s){n.props.setLoadingPost(e),!e&&t.length>0&&(console.error({getSchoolPlacementError:t}),n.props.PushPopupAlert({title:t,theme:m.a.danger}))})),n.props.setFormError(null),n.setState({comment:"",placement_id:"",action:null}),!n.props.viewPost&&n.props.setThisPost(null),n.props.setReceivedPosts(0),n.props.setModalState(null),n.props.PushPopupAlert({title:"Request has been done completely!",theme:m.a.info}));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error({role_error:e.t0}),n.props.PushPopupAlert({title:Object(P.a)(e.t0),theme:m.a.danger});case 13:n.props.setLoadingRequest(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),n.state={placement_id:"",action:null,comment:""},n}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return Object(E.jsxs)("section",{children:[Object(E.jsxs)("div",{className:"border-b-2 border-gray-200 mb-2 pb-1 flex items-center gap-3",children:[Object(E.jsx)("button",{className:"ml-3 bg-gray-100 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none ".concat(this.props.loadingRequest?"cursor-wait":"cursor-pointer"," animate__animated animate__fadeIn"),disabled:this.props.loadingRequest,onClick:function(){e.props.setThisPost(null),e.props.setReceivedPosts(0),e.props.setModalState(null)},children:Object(E.jsx)(_.f,{className:"text-4xl"})}),Object(E.jsx)("span",{className:"font-bold text-2xl md:text-3xl text-gray-700",children:"Confirm teacher arrival"})]}),Object(E.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 divide-x-0 divide-y md:divide-x md:divide-y-0",children:[Object(E.jsx)("div",{className:"px-1 mb-4 mt-3",children:Object(E.jsxs)("div",{className:"text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Position: "}),Object(E.jsx)("span",{className:"font-bold",children:Object(v.d)(this.props.systemPositions,this.props.thisPost.position_id)?Object(v.d)(this.props.systemPositions,this.props.thisPost.position_id).position_title:"Unknown position"})]}),Object(E.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(E.jsx)("thead",{className:"bg-blue-50 border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"px-2 py-2",children:"Requested posts"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Approved posts"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Post posts"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Received posts"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Occupation"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(E.jsx)("tbody",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"px-2 py-2",children:this.props.thisPost.needed_posts}),Object(E.jsx)("td",{className:"px-2 py-2",children:this.props.thisPost.requested_post_status===y.c.CONFIRMED?Object(E.jsx)("div",{className:"flex items-center gap-1",children:this.props.thisPost.confirmed_posts}):"-"}),Object(E.jsx)("td",{className:"px-2 py-2",children:this.props.thisPost.requested_post_status===y.c.CONFIRMED?Object(E.jsx)("span",{children:V(this.props.placementList,this.props.thisPost.requested_post_id).length}):"-"}),Object(E.jsx)("td",{className:"px-2 py-2",children:this.props.thisPost.requested_post_status===y.c.RECEIVED?this.props.thisPost.received_posts:"-"}),Object(E.jsx)("td",{className:"px-2 py-2",children:this.props.thisPost.female_number+this.props.thisPost.male_number}),Object(E.jsx)("td",{className:"px-2 py-2",children:Object(E.jsx)("span",{className:"px-2 py-1 mx-1 font-semibold rounded ".concat(this.props.thisPost.requested_post_status===y.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":this.props.thisPost.requested_post_status===y.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:this.props.thisPost.requested_post_status===y.c.INITIATED?"Pending":Object(v.a)(this.props.thisPost.requested_post_status)})})]})})]})]})}),Object(E.jsx)("div",{className:"px-4 mt-3 mb-4",children:V(this.props.placementList,this.props.thisPost.requested_post_id).map((function(t,s){return Object(E.jsxs)("div",{className:"relative grid grid-cols-1 gap-4 px-4 py-1 mb-8 border rounded bg-white shadow",children:[Object(E.jsxs)("div",{className:"relative flex gap-4",children:[Object(E.jsx)("img",{src:N.a.AUTH_FILES+"/"+t.user_info.photo,className:"object-center object-cover relative rounded-lg -top-4 -mb-3 bg-white border h-20 w-20",alt:"",loading:"lazy"}),Object(E.jsxs)("div",{className:"flex flex-col w-full",children:[Object(E.jsx)("div",{className:"flex flex-row justify-between",children:Object(E.jsx)("p",{className:"relative text-xl whitespace-nowrap truncate overflow-hidden",children:t.user_info.fname+" "+t.user_info.lname})}),Object(E.jsxs)("p",{className:"text-gray-500 text-sm flex items-center gap-1",children:[Object(E.jsx)(_.Fb,{})," ",t.phone_number]}),Object(E.jsxs)("p",{className:"text-gray-500 text-sm flex items-center gap-1",children:[Object(E.jsx)(_.db,{})," ",t.email]})]})]}),Object(E.jsxs)("div",{className:"-mt-3",children:["NOT_RECEIVED"!==e.state.action&&Object(E.jsxs)("div",{className:"flex flex-row-reverse gap-2",children:[Object(E.jsx)("div",{className:"flex-initial",children:Object(E.jsxs)("button",{type:"button",className:"btn btn-blue flex items-center font-medium tracking-wide capitalize transition duration-300 transform active:scale-95 ease-in-out",disabled:e.props.loadingRequest,onClick:function(){e.setState({placement_id:t._id,action:"RECEIVED"}),e.submitRequest(t,"RECEIVED")},children:[Object(E.jsx)(_.Ib,{}),Object(E.jsx)("span",{className:"pl-2 mx-1",children:e.props.loadingRequest?"Loading...":"Received"})]})}),Object(E.jsx)("div",{className:"flex-initial",children:Object(E.jsxs)("button",{type:"button",className:"btn flex items-center px-5 py-2.5 font-medium tracking-wide text-black capitalize hover:bg-red-200 hover:fill-current hover:text-red-600 focus:outline-none transition duration-300 transform active:scale-95 ease-in-out",disabled:e.props.loadingRequest,onClick:function(){return e.setState({placement_id:t._id,action:"NOT_RECEIVED"})},children:[Object(E.jsx)(_.F,{}),Object(E.jsx)("span",{className:"pl-2 mx-1",children:"Not received"})]})})]}),"NOT_RECEIVED"===e.state.action&&e.state.placement_id===t._id&&Object(E.jsxs)("div",{className:"flex flex-col md:flex-row items-end md:items-start gap-2 animate__animated animate__fadeInRight animate__faster mt-2",children:[Object(E.jsxs)("div",{className:"w-full",children:[Object(E.jsx)("textarea",{className:"border-2 rounded p-2 md:text-base w-full ".concat(e.props.formError&&"received_comment"===e.props.formError.element?"border-red-500":"border-gray-300"," focus:border-gray-500"),placeholder:"comment",onChange:function(t){e.setState({comment:t.target.value}),e.props.formError&&"received_comment"===e.props.formError.element&&e.props.setFormError(null)},value:e.state.comment,style:{resize:"none"}}),e.props.formError&&"received_comment"===e.props.formError.element&&Object(E.jsx)("span",{className:"text-red-700 text-sm",children:e.props.formError.msg})]}),Object(E.jsx)("button",{type:"button",className:"btn bg-gray-100 hover:bg-gray-400 font-medium tracking-wide capitalize transition duration-300 transform active:scale-95 ease-in-out",disabled:e.props.loadingRequest,onClick:function(){return e.submitRequest(t,"NOT_RECEIVED")},children:e.props.loadingRequest?"Loading...":"Confirm"})]})]})]},s+t._id)}))})]})]})}}]),s}(a.Component),w=Object(l.b)((function(e){return{auth:e.auth}}),{fetchSchoolPosts:p.e,getSchoolPlacement:p.g,PushPopupAlert:u.tb})(S),I=s(84),T=s(75),C=s(23),q=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return Object(E.jsx)(C.d,{backDrop:!0,theme:C.c.default,close:function(){e.props.setThisPost(null),e.props.setViewPost(!1)},displayClose:!0,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Viewing Post Request"})})}),widthSizeClass:C.b.large,padding:{title:!0,body:!1,footer:!1},children:Object(E.jsxs)("section",{className:"px-4 mx-auto mb-4 mt-3 flex items-start",children:[Object(E.jsxs)("section",{className:"w-full",children:[Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Position: "}),Object(E.jsx)("span",{className:"font-bold",children:Object(v.d)(this.props.systemPositions,this.props.thisPost.position_id)?Object(v.d)(this.props.systemPositions,this.props.thisPost.position_id).position_title:"Unknown position"})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Requested posts: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.needed_posts})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Approved posts: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.requested_post_status!==y.c.INITIATED?Object(E.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return e.props.setModalState("RECEIVE")},children:[this.props.thisPost.confirmed_posts,V(this.props.schoolPlacements,this.props.thisPost.requested_post_id).length>0&&Object(E.jsx)(I.g,{className:"bg-yellow-600 w-5 h-5 text-white"})]}):"-"})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Placed posts: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.requested_post_status!==y.c.INITIATED?Object(E.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return e.props.setModalState("RECEIVE")},children:[V(this.props.schoolPlacements,this.props.thisPost.requested_post_id).length,V(this.props.schoolPlacements,this.props.thisPost.requested_post_id).length>0&&Object(E.jsx)(I.g,{className:"bg-yellow-600 w-5 h-5 text-white"})]}):"-"})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Received posts: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.requested_post_status===y.c.RECEIVED?this.props.thisPost.received_posts:"-"})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Number of female: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.female_number})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Number of male: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.male_number})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Request reason: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.description})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Status: "}),Object(E.jsx)("span",{className:"px-2 py-1 mx-1 font-semibold rounded ".concat(this.props.thisPost.requested_post_status===y.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":this.props.thisPost.requested_post_status===y.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:this.props.thisPost.requested_post_status===y.c.INITIATED?"Pending":Object(v.a)(this.props.thisPost.requested_post_status)})]})]}),Object(E.jsxs)("div",{className:"mb-3 flex items-center justify-end gap-2",children:[this.props.thisPost.requested_post_status===y.c.INITIATED&&Object(E.jsx)("button",{className:"font-bold py-1 px-4 rounded bg-gray-500 text-white hover:bg-gray-700",onClick:function(){e.props.setModalState("UPDATE"),e.props.setPostId(e.props.thisPost.requested_post_id),e.props.setPositionId(e.props.thisPost.position_id),e.props.setRequestedPosts(e.props.thisPost.needed_posts),e.props.setRequestExplanation(e.props.thisPost.description),e.props.setFemaleOnPosition(e.props.thisPost.female_number),e.props.setMaleOnPosition(e.props.thisPost.male_number),e.props.setFormSteps({ONE:!0,TWO:!1}),e.props.setStepState({ONE:!1,TWO:!1})},disabled:this.props.thisPost.requested_post_status!==y.c.INITIATED,children:"Edit"}),this.props.thisPost.requested_post_status!==y.c.INITIATED&&V(this.props.schoolPlacements,this.props.thisPost.requested_post_id).length>0&&Object(E.jsx)("button",{className:"font-bold py-1 px-2 rounded bg-gray-500 text-white hover:bg-gray-700",onClick:function(){return e.props.setModalState("RECEIVE")},children:"Receive"})]})]})})}}]),s}(a.Component),R=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).setSearchInput=function(e){n.setState({searchInput:e})},n.state={searchInput:""},n}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:[Object(E.jsx)("div",{className:"flex flex-col md:flex-row",children:Object(E.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none",onChange:function(t){return e.props.setFilterByPosition(t.target.value)},value:this.props.filterByPosition,children:[Object(E.jsx)("option",{value:"all",children:"All Position"}),this.props.systemPositions&&this.props.systemPositions.length>0?this.props.systemPositions.map((function(e,t){return Object(E.jsx)("option",{value:e.position_id,children:e.position_title},t+1)})):Object(E.jsx)("option",{value:"",children:"No Position found"})]})}),Object(E.jsx)("div",{className:"block relative",children:Object(E.jsx)("div",{className:"pt-6 md:pt-0 md:pl-6",children:Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",onClick:function(){return e.props.setModalState("CREATE")},disabled:this.props.loadingRequest,children:"Request Teacher"})})})]}),Object(E.jsx)("div",{className:"w-full py-2",children:Object(E.jsx)("input",{onChange:function(t){return e.setSearchInput(t.target.value)},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-50 border-2 border-gray-400 py-2 px-3 rounded focus:border-gray-800",disabled:this.props.schoolPosts.length<=0||this.props.loadingRequest})}),Object(E.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(E.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Position"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Request"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Approved"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Placed"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Occupied"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Vacant"}),Object(E.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(E.jsx)("tbody",{children:this.props.schoolPosts.length>0?this.props.schoolPosts.map((function(t,s){return Object(E.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(E.jsx)("td",{className:"px-2 py-3 text-left font-medium",children:s+1}),Object(E.jsx)("td",{className:"py-3 px-1 text-left font-medium",children:e.props.systemPositions&&Object(v.d)(e.props.systemPositions,t.position_id)?Object(v.d)(e.props.systemPositions,t.position_id).position_title:"Unknown position"}),Object(E.jsx)("td",{className:"py-3 px-2 text-left text-base font-medium",children:t.needed_posts}),Object(E.jsx)("td",{className:"py-3 px-2 text-left text-base font-medium",children:t.requested_post_status!==y.c.INITIATED?Object(E.jsxs)("div",{className:"flex items-center gap-1",children:[t.confirmed_posts,V(e.props.schoolPlacements,t.requested_post_id).length>0&&Object(E.jsx)(I.g,{className:"bg-yellow-600 w-5 h-5 text-white cursor-pointer",onClick:function(){e.props.setModalState("RECEIVE"),e.props.setThisPost(t)}})]}):"-"}),Object(E.jsx)("td",{className:"py-3 px-2 text-left text-base font-medium",children:t.requested_post_status!==y.c.INITIATED?Object(E.jsxs)("div",{className:"flex items-center gap-1",children:[V(e.props.schoolPlacements,t.requested_post_id).length,V(e.props.schoolPlacements,t.requested_post_id).length>0&&Object(E.jsx)(I.g,{className:"bg-yellow-600 w-5 h-5 text-white cursor-pointer",onClick:function(){e.props.setModalState("RECEIVE"),e.props.setThisPost(t)}})]}):"-"}),Object(E.jsx)("td",{className:"py-3 px-2 text-left text-base font-medium",children:t.occupied_posts?t.occupied_posts+(t.received_posts?t.received_posts:0):"-"}),Object(E.jsx)("td",{className:"py-3 px-2 text-left text-base font-medium",children:t.requested_post_status===y.c.RECEIVED?(t.confirmed_posts?t.confirmed_posts:0)-(t.received_posts?t.received_posts:0):"-"}),Object(E.jsx)("td",{children:Object(E.jsx)("span",{className:"px-2 py-1 font-semibold rounded ".concat(t.requested_post_status===y.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":t.requested_post_status===y.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:t.requested_post_status===y.c.INITIATED?"Pending":Object(v.a)(t.requested_post_status)})}),Object(E.jsx)("td",{className:"py- text-left",children:Object(E.jsxs)("div",{className:"flex item-center justify-end gap-1",children:[Object(E.jsx)("button",{className:"btn btn-blue transition ease-out duration-500 flex items-center",title:"View User Profile",onClick:function(){e.props.setThisPost(t),e.props.setViewPost(!0)},children:"Details"}),t.requested_post_status===y.c.INITIATED&&Object(E.jsx)("button",{className:"btn bg-gray-500 text-white hover:bg-gray-700",onClick:function(){e.props.setModalState("UPDATE"),e.props.setPostId(t.requested_post_id),e.props.setPositionId(t.position_id),e.props.setRequestedPosts(t.needed_posts),e.props.setRequestExplanation(t.description),e.props.setFemaleOnPosition(t.female_number),e.props.setMaleOnPosition(t.male_number),e.props.setFormSteps({ONE:!0,TWO:!1}),e.props.setStepState({ONE:!1,TWO:!1})},disabled:e.props.loadingRequest,children:"Edit"})]})})]},s+t.requested_post_id)})):Object(E.jsx)("tr",{children:Object(E.jsx)("td",{colSpan:8,children:Object(E.jsx)(T.b,{theme:T.a.Dark,value:"No request have been made!"})})})})]}),this.props.viewPost&&null===this.props.modalState&&this.props.thisPost&&this.props.systemPositions&&Object(E.jsx)(q,{thisPost:this.props.thisPost,setThisPost:this.props.setThisPost,setViewPost:this.props.setViewPost,systemPositions:this.props.systemPositions,schoolPlacements:this.props.schoolPlacements,setPostId:this.props.setPostId,setModalState:this.props.setModalState,setPositionId:this.props.setPositionId,setRequestedPosts:this.props.setRequestedPosts,setRequestExplanation:this.props.setRequestExplanation,setFemaleOnPosition:this.props.setFemaleOnPosition,setMaleOnPosition:this.props.setMaleOnPosition,setFormSteps:this.props.setFormSteps,setStepState:this.props.setStepState})]})}}]),s}(a.Component),k=s(449),A=s(197),D=s(268),L=function(e){return Object(E.jsx)(a.Fragment,{children:Object(E.jsx)("div",{className:"p-5",children:Object(E.jsx)("div",{className:"mx-4 p-4",children:Object(E.jsxs)("div",{className:"flex items-center",children:[Object(E.jsxs)("div",{className:"flex items-center ".concat(1===e.currentStep?"text-white":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.ONE&&e.setFormSteps({ONE:!0,TWO:!1})},children:[Object(E.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(1===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.ONE?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(E.jsx)(A.j,{className:"feather feather-bookmark w-full h-full"})}),Object(E.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(1===e.currentStep?"text-blue-500":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"),children:"Position"})]}),Object(E.jsx)("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out ".concat(e.stepState.ONE?"border-blue-500":"border-gray-300")}),Object(E.jsxs)("div",{className:"flex items-center ".concat(4===e.currentStep?"text-white":e.stepState.TWO?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.TWO&&e.setFormSteps({ONE:!1,TWO:!1})},children:[Object(E.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(4===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.TWO?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(E.jsx)(D.c,{className:"feather feather-database w-full h-full"})}),Object(E.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(4===e.currentStep||e.stepState.TWO?"text-blue-500":"text-gray-500"),children:"Description"})]})]})})})})},F=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).GetAllowedPositions=function(e){if(n.props.systemPositions){if(n.props.schoolPosts.length>0){var t=[];for(var s in n.props.schoolPosts)Object.prototype.hasOwnProperty.call(n.props.schoolPosts,s)&&n.props.schoolPosts[s].requested_post_status!==y.c.RECEIVED&&(e&&e===n.props.schoolPosts[s].position_id||t.push(n.props.schoolPosts[s].position_id));return e&&(t=t.filter((function(t){return t!==e}))),n.props.systemPositions.filter((function(e){return!t.includes(e.position_id)}))}return n.props.systemPositions}return[]},n.submitRequest=function(){var e=Object(j.a)(f.a.mark((function e(t){var s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n.props.requestedPosts<=0)){e.next=3;break}return e.abrupt("return",n.props.setFormError({element:"requested_posts",msg:"Needed post must be greater than 0"}));case 3:if(!Object(v.f)(n.props.requestExplanation)){e.next=5;break}return e.abrupt("return",n.props.setFormError({element:"comment",msg:"Explanation is required!"}));case 5:if(s=n.props.schools.find((function(e){return e._id===n.props.auth.user_access.school_id}))){e.next=8;break}return e.abrupt("return",n.props.PushPopupAlert({title:"No district id found",theme:m.a.danger}));case 8:if(n.props.setLoadingRequest(!0),e.prev=9,"CREATE"!==n.props.modalState){e.next=15;break}return e.next=13,O.a.post("".concat(N.a.PLACEMENT,"/requestpost"),{school_id:n.props.auth.user_access.school_id,position_id:n.props.positionId,district_id:s.district_id,needed_posts:n.props.requestedPosts,male_number:n.props.maleOnPosition,female_number:n.props.femaleOnPosition,description:n.props.requestExplanation,occupied_posts:Number(n.props.maleOnPosition)+Number(n.props.femaleOnPosition),requested_by:n.props.auth.user.user_id});case 13:(o=e.sent)&&(n.props.createSchoolPost(o.data.data),n.props.setPositionId(""),n.props.setRequestedPosts(0),n.props.setFemaleOnPosition(0),n.props.setMaleOnPosition(0),n.props.setRequestExplanation(""),n.props.setFormSteps({ONE:!0,TWO:!1}),n.props.setStepState({ONE:!1,TWO:!1}),n.props.PushPopupAlert({title:"Post(s) has been requested!",theme:m.a.success}));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),console.error({role_error:e.t0}),n.props.PushPopupAlert({title:Object(P.a)(e.t0),theme:m.a.danger});case 21:n.props.setLoadingRequest(!1);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t){return e.apply(this,arguments)}}(),n.setSchoolLevel=function(e){n.setState({selectedLevel:e})},n.getPositionByLevelId=function(e,t){return Object(v.f)(t)?e:e.filter((function(e){return e.school_level_id.school_level_id===t}))},n.state={selectedLevel:""},n}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return Object(E.jsxs)("div",{children:[Object(E.jsx)(L,{currentStep:this.props.formSteps.TWO?2:1,stepState:this.props.stepState,setFormSteps:this.props.setFormSteps}),Object(E.jsxs)("div",{className:"px-4 mx-auto mb-4 mt-3",children:[this.props.formSteps.ONE&&Object(E.jsxs)("section",{children:[Object(E.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(E.jsx)("label",{children:"School level"}),Object(E.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none focus:bg-gray-100",value:this.state.selectedLevel,onChange:function(t){e.setSchoolLevel(t.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Choose level"}),this.props.schoolLevels.school_levels&&this.props.schoolLevels.school_levels.length>0?this.props.schoolLevels.school_levels.map((function(e,t){return Object(E.jsx)("option",{value:e.school_level_id,children:e.school_level_name},t+11)})):Object(E.jsx)("option",{children:"No school level found"})]})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsxs)("label",{children:["Select Position ",this.props.positionId]}),Object(E.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none focus:bg-gray-100",value:this.props.positionId,onChange:function(t){e.props.setPositionId(t.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Choose Position"}),this.props.systemPositions&&this.getPositionByLevelId(this.GetAllowedPositions(this.props.positionId.length>0?this.props.positionId:""),this.state.selectedLevel).length>0?this.getPositionByLevelId(this.GetAllowedPositions(this.props.positionId.length>0?this.props.positionId:""),this.state.selectedLevel).map((function(e,t){return Object(E.jsx)("option",{value:e.position_id,children:e.position_title},t+11)})):Object(E.jsx)("option",{children:"No position found"})]})]}),this.props.positionId.length>0&&this.props.systemPositions&&Object(v.d)(this.props.systemPositions,this.props.positionId)&&Object(E.jsx)("div",{className:"my-2 rounded border",children:Object(E.jsx)(k.a,{thisPosition:Object(v.d)(this.props.systemPositions,this.props.positionId),isGuest:!0})}),Object(E.jsx)("div",{className:"bg-white w-full flex justify-end",children:this.props.positionId.length>0&&Object(E.jsx)("button",{className:"btn btn-blue m-1 mr-2 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){e.props.setFormSteps({ONE:!1,TWO:!0}),e.props.setStepState({ONE:!0,TWO:!1})},children:"Continue"})})]}),Object(E.jsx)("form",{onSubmit:this.submitRequest,children:Object(E.jsxs)("div",{className:"bg-white",children:[this.props.formSteps.TWO&&Object(E.jsxs)("div",{className:"text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"mb-4 md:flex md:justify-between",children:[Object(E.jsxs)("div",{className:"mb-4 md:mr-2 md:mb-0 w-full",children:[Object(E.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"female",children:"Current number of Female on this position"}),Object(E.jsx)("input",{className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",id:"female",type:"number",min:0,value:this.props.femaleOnPosition,onChange:function(t){return e.props.setFemaleOnPosition(Number(t.target.value))},placeholder:"Current number of Female on this position"})]}),Object(E.jsxs)("div",{className:"md:ml-2 w-full",children:[Object(E.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"male",children:"Current number of Male on this position"}),Object(E.jsx)("input",{className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",id:"male",type:"number",min:0,value:this.props.maleOnPosition,onChange:function(t){return e.props.setMaleOnPosition(Number(t.target.value))},placeholder:"Current number of Male on this post"})]})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Needed posts (number)"}),Object(E.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 bg-white focus:outline-none focus:bg-gray-100 ".concat(this.props.formError&&"requested_posts"===this.props.formError.element?"border-red-700":"border-gray-700"),value:this.props.requestedPosts,onChange:function(t){e.props.setRequestedPosts(Number(t.target.value)),e.props.formError&&"requested_posts"===e.props.formError.element&&e.props.setFormError(null)},placeholder:"1"}),this.props.formError&&"requested_posts"===this.props.formError.element&&Object(E.jsx)("span",{className:"text-xs italic text-red-700 mt-1",children:this.props.formError.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Explanation"}),Object(E.jsx)("textarea",{name:"description",className:"appearance-none rounded w-full py-1 px-4 border-2 bg-white focus:outline-none focus:bg-gray-100 ".concat(this.props.formError&&"comment"===this.props.formError.element?"border-red-700":"border-gray-700"),id:"description",placeholder:"Explanation",value:this.props.requestExplanation,onChange:function(t){e.props.setRequestExplanation(t.target.value),e.props.formError&&"comment"===e.props.formError.element&&e.props.setFormError(null)},rows:2}),this.props.formError&&"comment"===this.props.formError.element&&Object(E.jsx)("span",{className:"text-xs italic text-red-700 mt-1",children:this.props.formError.msg})]})]}),Object(E.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(E.jsx)("button",{className:"btn bg-gray-400 text-white hover:bg-gray-600",onClick:function(){e.props.setPositionId(""),e.props.setRequestedPosts(0),e.props.setFemaleOnPosition(0),e.props.setMaleOnPosition(0),e.props.setRequestExplanation(""),e.props.setModalState(null),e.props.setFormError(null),e.props.setFormSteps({ONE:!0,TWO:!1}),e.props.setStepState({ONE:!1,TWO:!1})},children:"Exit"}),this.props.formSteps.TWO&&Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",disabled:this.props.loadingRequest,children:this.props.loadingRequest?"Loading...":"Request"})]})]})})]})]})}}]),s}(a.Component),M=Object(l.b)((function(e){var t=e.auth,s=e.schools,o=e.system_settings,n=e.schoolLevels;return{auth:t,schools:s.schools,schoolPosts:s.schoolPosts,schoolLevels:n,systemPositions:o.systemPositions}}),{createSchoolPost:p.b,PushPopupAlert:u.tb})(F),V=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.b.PENDING;return e.filter((function(e){return e.request_id===t&&e.status===s}))},U=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).setLoading=function(e){n.setState({loading:e})},n.setLoadingRequest=function(e){n.setState({loadingRequest:e})},n.setLoadingPost=function(e){n.setState({loadingPost:e})},n.setViewPost=function(e){n.setState({viewPost:e})},n.setPostId=function(e){n.setState({postId:e})},n.setFormError=function(e){n.setState({formError:e})},n.setPositionId=function(e){n.setState({positionId:e})},n.setRequestedPosts=function(e){n.setState({requestedPosts:e})},n.setFemaleOnPosition=function(e){n.setState({femaleOnPosition:e})},n.setMaleOnPosition=function(e){n.setState({maleOnPosition:e})},n.setRequestExplanation=function(e){n.setState({requestExplanation:e})},n.setFormSteps=function(e){n.setState({formSteps:e})},n.setStepState=function(e){n.setState({stepState:e})},n.setFilterByPosition=function(e){n.setState({filterByPosition:e})},n.setThisPost=function(e){n.setState({thisPost:e})},n.setModalState=function(e){n.setState({modalState:e})},n.setReceivedPosts=function(e){n.setState({receivedPosts:e})},n.componentDidMount=function(){if(n.props.auth.user_access.school_id.length<=0)return Object(E.jsx)(d.a,{to:"/apps-page"});!n.props.schools.length&&n.state.loading?n.props.getSchools((function(e,t){n.setLoading(e),t.length>0&&(console.error({loadingCandidatesError:t}),n.setLoading(!1))})):n.setLoading(!1),n.props.schoolPlacements?n.setLoading(!1):n.props.getSchoolPlacement(n.props.auth.user_access.school_id,(function(e,t,s){n.setLoading(e),!e&&t.length>0&&console.error({getSchoolPlacementError:t})})),null===n.props.systemPositions||0===n.props.systemPositions.length&&n.state.loading?(n.setLoading(!0),n.props.getPositions((function(e,t){n.setLoading(e),console.log({status:e,msg:t}),t.length&&n.props.PushPopupAlert({title:t,theme:m.a.danger})}))):n.setLoading(!1),(null===n.props.schoolLevels.school_levels||0===n.props.schoolLevels.school_levels.length&&n.state.loading)&&n.props.loadSchoolLevels(n.setLoading),!n.props.schoolPosts.length&&n.state.loadingPost?n.props.fetchSchoolPosts(n.props.auth.user_access.school_id,(function(e,t){e||(t.length>0&&n.state.loadingPost&&(console.error("error loading school post: ",t),n.props.PushPopupAlert({title:t,theme:m.a.danger})),n.setState({loadingPost:!1}))})):n.setState({loadingPost:!1})},n.getPositionById=function(e,t){return e.find((function(e){return e.position_id===t}))},n.state={loading:!0,loadingPost:!0,loadingRequest:!1,modalState:null,filterByPosition:"",positionId:"",requestedPosts:0,femaleOnPosition:0,maleOnPosition:0,requestExplanation:"",formSteps:{ONE:!0,TWO:!1},stepState:{ONE:!1,TWO:!1},thisPost:null,viewPost:!1,postId:"",receivedPosts:0,formError:null},n}return Object(n.a)(s,[{key:"render",value:function(){return this.state.loading?Object(E.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."}):Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"flex flex-row items-start gap-3 my-2",children:[Object(E.jsx)(c.a,{className:"text-blue-700 w-10 h-10 md:block hidden"}),Object(E.jsx)("div",{className:"w-full",children:Object(E.jsx)("div",{className:"flex justify-between w-full",children:Object(E.jsxs)("div",{className:"flex flex-col gap-1 justify-between",children:[Object(E.jsx)("h1",{className:"md:text-4xl text-3xl font-semibold",children:"Teacher Request"}),Object(E.jsx)("div",{className:"flex-row items-center md:gap-3 gap-2 hidden",children:Object(E.jsx)("div",{className:"flex flex-row items-center mt-1 gap-1",children:Object(E.jsx)("span",{className:"text-gray-600 text-xl",children:"level:"})})})]})})})]}),Object(E.jsxs)("div",{className:"bg-white shadow p-2 rounded",children:[!this.state.modalState&&this.props.schoolPlacements&&Object(E.jsx)(R,{systemPositions:this.props.systemPositions,setModalState:this.setModalState,loadingRequest:this.state.loadingRequest,setFilterByPosition:this.setFilterByPosition,schoolPosts:this.props.schoolPosts,setThisPost:this.setThisPost,setViewPost:this.setViewPost,setPostId:this.setPostId,setPositionId:this.setPositionId,setRequestedPosts:this.setRequestedPosts,setRequestExplanation:this.setRequestExplanation,setFemaleOnPosition:this.setFemaleOnPosition,setMaleOnPosition:this.setMaleOnPosition,setFormSteps:this.setFormSteps,setStepState:this.setStepState,thisPost:this.state.thisPost,viewPost:this.state.viewPost,modalState:this.state.modalState,schoolPlacements:this.props.schoolPlacements,filterByPosition:this.state.filterByPosition}),("CREATE"===this.state.modalState||"UPDATE"===this.state.modalState)&&Object(E.jsx)(M,{loadingRequest:this.state.loadingRequest,setLoadingRequest:this.setLoadingRequest,formSteps:this.state.formSteps,setFormSteps:this.setFormSteps,stepState:this.state.stepState,setStepState:this.setStepState,positionId:this.state.positionId,setPositionId:this.setPositionId,setRequestedPosts:this.setRequestedPosts,requestedPosts:this.state.requestedPosts,maleOnPosition:this.state.maleOnPosition,femaleOnPosition:this.state.femaleOnPosition,setFemaleOnPosition:this.setFemaleOnPosition,setMaleOnPosition:this.setMaleOnPosition,requestExplanation:this.state.requestExplanation,setRequestExplanation:this.setRequestExplanation,modalState:this.state.modalState,setModalState:this.setModalState,formError:this.state.formError,setFormError:this.setFormError}),"RECEIVE"===this.state.modalState&&this.state.thisPost&&this.props.systemPositions&&this.props.schoolPlacements&&Object(E.jsx)(w,{loadingPost:this.state.loadingPost,loadingRequest:this.state.loadingRequest,positionId:this.state.positionId,thisPost:this.state.thisPost,viewPost:this.state.viewPost,receivedPosts:this.state.receivedPosts,formError:this.state.formError,systemPositions:this.props.systemPositions,setThisPost:this.setThisPost,setModalState:this.setModalState,setFormError:this.setFormError,setReceivedPosts:this.setReceivedPosts,setLoadingRequest:this.setLoadingRequest,setLoadingPost:this.setLoadingPost,placementList:this.props.schoolPlacements})]})]})}}]),s}(a.Component),B=Object(l.b)((function(e){var t=e.auth,s=e.schools,o=e.system_settings,n=e.schoolLevels;return{auth:t,schools:s.schools,schoolPosts:s.schoolPosts,schoolPlacements:s.schoolPlacements,schoolLevels:n,systemPositions:o.systemPositions}}),{loadSchoolLevels:u.gc,getPositions:h.d,getSchools:p.h,fetchSchoolPosts:p.e,getSchoolPlacement:p.g,createSchoolPost:p.b,updateSchoolPost:p.j,PushPopupAlert:u.tb})(U)},830:function(e,t,s){"use strict";s.r(t),s.d(t,"District",(function(){return I}));var o=s(5),n=s.n(o),r=s(7),i=s(14),a=s(4),c=s.n(a),l=s(17),d=s(25),u=s(23),p=s(199),h=s(212),b=s(270),m=s(196),x=s(478),f=s(3),j=s(28),g=s(206),O=s(8),_=s.n(O),v=s(9),y=s(12),N=s(510),P=s(41),E=s(291),S=s(563),w=s(1),I=Object(l.b)((function(e){var t=e.auth,s=e.schools,o=e.system_settings;return{auth:t,schools:s.schools,districtPosts:s.districtPosts,districtPlacements:s.districtPlacements,systemPositions:o.systemPositions}}),{getPositions:g.d,getSchools:b.h,fetchDistrictPosts:b.d,getDistrictPlacement:b.f,createSchoolPost:b.b,updateSchoolPost:b.j,PushPopupAlert:f.tb})((function(e){var t,s=Object(a.useState)(!1),o=Object(i.a)(s,2),l=o[0],b=o[1],f=Object(a.useState)(!0),g=Object(i.a)(f,2),O=g[0],I=g[1],T=Object(a.useState)(!0),C=Object(i.a)(T,2),q=C[0],R=C[1],k=Object(a.useState)(null),A=Object(i.a)(k,2),D=A[0],L=A[1],F=Object(a.useState)("all"),M=Object(i.a)(F,2),V=M[0],U=M[1],B=Object(a.useState)(!1),W=Object(i.a)(B,2),H=W[0],G=W[1],z=Object(a.useState)(!0),J=Object(i.a)(z,2),Y=J[0],K=J[1],Q=Object(a.useState)(null),X=Object(i.a)(Q,2),Z=X[0],$=X[1],ee=Object(a.useState)(!1),te=Object(i.a)(ee,2),se=te[0],oe=te[1],ne=Object(a.useState)(0),re=Object(i.a)(ne,2),ie=re[0],ae=re[1],ce=Object(a.useState)(null),le=Object(i.a)(ce,2),de=le[0],ue=le[1];if(Object(a.useEffect)((function(){Object(m.f)(e.auth.user_access.district_id)||(!e.schools.length&&Y?e.getSchools((function(e,t){K(e),t.length>0&&console.error({loadingCandidatesError:t})})):Y&&(K(!1),l&&b(!1)),null===e.systemPositions&&(b(!0),e.getPositions((function(t,s){b(t),console.log({status:t,msg:s}),s.length&&e.PushPopupAlert({title:s,theme:j.a.danger})}))),!e.districtPosts.length&&O?e.fetchDistrictPosts(e.auth.user_access.district_id,(function(t,s){t||(s.length>0&&O&&(console.error("error loading school post: ",s),e.PushPopupAlert({title:s,theme:j.a.danger})),I(!1))})):O&&I(!1),e.districtPlacements?q&&R(!1):e.getDistrictPlacement(e.auth.user_access.district_id,(function(t,s){t||(s.length>0&&q&&(console.error("error loading school post: ",s),e.PushPopupAlert({title:s,theme:j.a.danger})),R(!1))})))}),[Y,q,l,O,e]),Object(m.f)(e.auth.user_access.district_id))return Object(w.jsx)(d.a,{to:"/"});if(!0===Y)return Object(w.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."});var pe=function(){var t=Object(r.a)(n.a.mark((function t(s){var o,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.post("".concat(v.a.PLACEMENT,"/doplace/").concat(s.school_id,"/").concat(s.position_id),{request_id:s.requested_post_id});case 3:(o=t.sent)&&(console.log("===================================="),console.log({doPlacement:o}),console.log("===================================="),e.fetchDistrictPosts(e.auth.user_access.district_id,(function(t,s){t||(s.length>0&&O&&(console.error("error loading school post: ",s),e.PushPopupAlert({title:s,theme:j.a.danger})),I(!1))})),r="",r=o.data.length>0?o.data.length===ie?"All confirmed posts has been placed on school!":"".concat(o.data.length," of ").concat(ie," post(s) has been placed on school!"):"Post request has been confirmed but no placement done!",$(null),ae(0),L(null),e.PushPopupAlert({title:r,theme:o.data.length>0?j.a.success:j.a.info})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error({doPlacement_reply:t.t0}),e.PushPopupAlert({title:Object(y.a)(t.t0),theme:j.a.danger});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),he=function(){var t=Object(r.a)(n.a.mark((function t(s){var o,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.post("".concat(v.a.PLACEMENT,"/doplace/").concat(s.school_id,"/").concat(s.position_id),{request_id:s.requested_post_id});case 3:(o=t.sent)&&(console.log("===================================="),console.log({reDoPlacement:o}),console.log("===================================="),e.fetchDistrictPosts(e.auth.user_access.district_id,(function(t,s){t||(s.length>0&&O&&(console.error("error loading school post: ",s),e.PushPopupAlert({title:s,theme:j.a.danger})),I(!1))})),r="",r=o.data.length>0?o.data.length===ie?"All confirmed posts has been placed on school!":"".concat(o.data.length," of ").concat(s.occupied_posts?s.occupied_posts-(s.received_posts?s.received_posts:0):0," post(s) has been placed on school!"):"Placement failed, Please wait for the next application period!",e.PushPopupAlert({title:r,theme:o.data.length>0?j.a.success:j.a.info})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error({doPlacement_reply:t.t0}),e.PushPopupAlert({title:Object(y.a)(t.t0),theme:j.a.danger});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),be=function(){var t=Object(r.a)(n.a.mark((function t(s){var o,r,i,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(o=Object(N.getSchoolById)(e.schools,s.school_id))){t.next=23;break}return r=[{school_id:o._id,school_name:o.school_name,district_id:o.district_id,sector_id:o.sector_id,province_id:o.district_id,gender:s.male_number>s.female_number?"F":"M",available_places:[{position_id:s.position_id,requested_teacher:ie}]}],i={requested_teachers:r},console.log("===================================="),console.log({requested_teachers:r,data:i}),console.log("===================================="),t.prev=7,t.next=10,_.a.post("".concat(v.a.PLACEMENT,"/requestteachers/"),i);case 10:if(!(a=t.sent)){t.next=17;break}return console.log("===================================="),console.log({addSchoolRequest:a}),console.log("===================================="),t.next=17,pe(s);case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(7),console.error({addSchoolRequest_reply:t.t0}),e.PushPopupAlert({title:Object(y.a)(t.t0),theme:j.a.danger});case 23:case"end":return t.stop()}}),t,null,[[7,19]])})));return function(e){return t.apply(this,arguments)}}(),me=function(){var t=Object(r.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),Z){t.next=3;break}return t.abrupt("return");case 3:if(!(ie<0)){t.next=5;break}return t.abrupt("return",ue({element:"approved_posts",msg:"Invalid number of approved post"}));case 5:if(!(ie>Z.needed_posts)){t.next=7;break}return t.abrupt("return",ue({element:"approved_posts",msg:"Approved post can't be greater than needed post"}));case 7:if(G(!0),t.prev=8,"CONFIRM"!==D){t.next=16;break}return t.next=12,_.a.patch("".concat(v.a.PLACEMENT,"/requestpost/").concat(Z.requested_post_id),{confirmed_posts:ie,confirmed_by:e.auth.user.user_id,received_posts:0,approval_date:new Date,school_id:Z.school_id,position_id:Z.position_id,district_id:Z.district_id,needed_posts:Z.needed_posts,male_number:Z.male_number,female_number:Z.female_number,description:Z.description,occupied_posts:Z.occupied_posts,requested_by:e.auth.user.user_id,requested_post_status:h.c.CONFIRMED});case 12:if(!t.sent){t.next=16;break}return t.next=16,be(Z);case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(8),console.error({post_relpy:t.t0}),e.PushPopupAlert({title:Object(y.a)(t.t0),theme:j.a.danger});case 22:G(!1);case 23:case"end":return t.stop()}}),t,null,[[8,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsxs)("div",{className:"flex flex-row items-center gap-4 my-2",children:[Object(w.jsx)(x.a,{className:"text-blue-600 text-5xl md:block hidden"}),Object(w.jsx)("div",{className:"w-full",children:Object(w.jsx)("div",{className:"flex justify-between w-full",children:Object(w.jsx)("div",{className:"flex flex-col gap-1 justify-between",children:Object(w.jsx)("h1",{className:"md:text-4xl text-3xl font-semibold",children:"Schools requests"})})})})]}),Object(w.jsx)("div",{className:"grid md:grid-cols-5 gap-2 bg-white shadow-md p-2",children:Object(w.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(w.jsx)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:Object(w.jsx)("div",{className:"flex flex-col md:flex-row",children:Object(w.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none",value:V,onChange:function(e){return U(e.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"All Position"}),e.systemPositions&&e.systemPositions.length>0?e.systemPositions.map((function(e,t){return Object(w.jsx)("option",{value:e.position_id,children:e.position_title},t+1)})):Object(w.jsx)("option",{value:"",children:"No Position found"})]})})}),Object(w.jsx)(p.a,{columns:[{columnTitle:"SCHOOL",alignText:"left",padding:"p-3"},{columnTitle:"POSITION",alignText:"left",padding:"p-3"},{columnTitle:"REQUEST",alignText:"left",padding:"p-3"},{columnTitle:"APPROVED",alignText:"left",padding:"p-3"},{columnTitle:"OCCUPIED",alignText:"left",padding:"p-3"},{columnTitle:"VACCANTS",alignText:"left",padding:"p-3"},{columnTitle:"STATUS",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){if(O)return[Object(w.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(w.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"Loading post request(s)"})},1)];var t=e.districtPosts;return 0===(t=""!==V&&"all"!==V?t.filter((function(e){return e.position_id===V})):t).length?[Object(w.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(w.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"No Data Found"})},1)]:t.map((function(t,s){return Object(w.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(w.jsx)("td",{className:"py-3 px-4 text-left",children:Object(N.getSchoolById)(e.schools,t.school_id)?Object(N.getSchoolById)(e.schools,t.school_id).school_name:"Unknown school"}),Object(w.jsx)("td",{className:"py-3 px-4 text-left",children:e.systemPositions&&Object(m.d)(e.systemPositions,t.position_id)?Object(m.d)(e.systemPositions,t.position_id).position_title:"Unknown position"}),Object(w.jsx)("td",{className:"py-3 px-4 text-left text-base font-bold",children:t.needed_posts}),Object(w.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.requested_post_status!==h.c.INITIATED?t.confirmed_posts:"-"}),Object(w.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.occupied_posts?t.occupied_posts+(t.requested_post_status===h.c.RECEIVED&&t.received_posts?t.received_posts:0):"-"}),Object(w.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.requested_post_status!==h.c.INITIATED?(t.confirmed_posts?t.confirmed_posts:0)-(t.requested_post_status===h.c.RECEIVED&&t.received_posts?t.received_posts:0):"-"}),Object(w.jsx)("td",{children:Object(w.jsx)("span",{className:"px-2 py-1 font-semibold rounded ".concat(t.requested_post_status===h.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":t.requested_post_status===h.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:t.requested_post_status===h.c.INITIATED?"Pending":Object(m.a)(t.requested_post_status)})}),Object(w.jsx)("td",{className:"py- text-left",children:Object(w.jsxs)("div",{className:"flex item-center justify-end gap-1",children:[t.requested_post_status===h.c.INITIATED&&Object(w.jsx)("button",{className:" btn bg-gray-400 text-gray-50 hover:bg-gray-600 transition ease-out duration-500 flex items-center ",title:"View User Profile",onClick:function(){$(t),L("CONFIRM")},children:"Reply"}),Object(w.jsx)("button",{className:" btn btn-blue transition ease-out duration-500 flex items-center ",title:"View User Profile",onClick:function(){$(t),oe(!0)},children:"Details"})]})})]},s+1)}))},pagination:!0,search:!0,thColor:"gray"})]})}),D&&Z&&e.systemPositions&&Object(w.jsx)(u.d,{backDrop:!0,theme:u.c.default,close:function(){$(null),L(null)},displayClose:!0,backDropClose:!1,title:Object(w.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(w.jsx)("div",{className:"flex flex-col",children:Object(w.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Responding to Requesting Teachers"})})}),widthSizeClass:u.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(w.jsx)("div",{className:"px-4 mx-auto mb-4 mt-3",children:Object(w.jsx)("form",{onSubmit:me,children:Object(w.jsxs)("div",{className:"bg-white",children:[Object(w.jsxs)("div",{className:"text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"School"}),Object(w.jsx)("input",{type:"text",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:null===(t=Object(N.getSchoolById)(e.schools,Z.school_id))||void 0===t?void 0:t.school_name,placeholder:"school name",disabled:!0})]}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Position"}),Object(w.jsx)("input",{type:"text",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:Object(m.d)(e.systemPositions,Z.position_id)?Object(m.d)(e.systemPositions,Z.position_id).position_title:"",placeholder:"position title",disabled:!0})]}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Needed posts (number)"}),Object(w.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:Z.needed_posts,min:1,placeholder:"1",disabled:!0})]}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Occupation (number)"}),Object(w.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:Z.occupied_posts,min:1,placeholder:"1",disabled:!0})]}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Explanation"}),Object(w.jsx)("textarea",{className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",placeholder:"Explanation",value:Z.description,rows:2,disabled:!0})]}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Requested date"}),Object(w.jsx)("input",{type:"text",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:Object(P.a)(Z.request_date.toString()),placeholder:"YYYY/MM/DD",disabled:!0})]}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("label",{children:"Approved posts (number)"}),Object(w.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 bg-white focus:outline-none focus:bg-gray-100 ".concat(null!==de&&"approved_posts"===de.element?"border-red-500":"border-gray-700"),value:ie,onChange:function(e){ae(Number(e.target.value))},min:0,max:Z.needed_posts,placeholder:"1",disabled:H}),null!==de&&"approved_posts"===de.element&&Object(w.jsx)("span",{className:"text-red-600 font-bold text-xs",children:de.msg})]})]}),Object(w.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(w.jsx)("button",{className:"btn bg-gray-400 text-white hover:bg-gray-600",onClick:function(){$(null),ae(0),L(null)},children:"Exit"}),Object(w.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",disabled:H,children:H?"Loading...":"Request"})]})]})})})}),se&&null===D&&Z&&e.systemPositions&&Object(w.jsx)(u.d,{backDrop:!0,theme:u.c.default,close:function(){$(null),oe(!1)},displayClose:!0,backDropClose:!1,title:Object(w.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(w.jsx)("div",{className:"flex flex-col",children:Object(w.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Viewing Post Request"})})}),widthSizeClass:u.b.large,padding:{title:!0,body:!1,footer:!1},children:Object(w.jsxs)("section",{className:"px-4 mx-auto mb-4 mt-3 flex items-start",children:[Object(w.jsxs)("section",{className:"w-full",children:[Object(w.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Position: "}),Object(w.jsx)("span",{className:"font-bold",children:Object(m.d)(e.systemPositions,Z.position_id)?Object(m.d)(e.systemPositions,Z.position_id).position_title:"Unknown position"}),Object(w.jsx)("button",{className:"rounded-full border-2 px-3 border-blue-500 hover:bg-blue-50 hidden",children:"more"})]}),Object(w.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Requested posts: "}),Object(w.jsx)("span",{className:"font-bold text-xl",children:Z.needed_posts})]}),Object(w.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Confirmed posts: "}),Object(w.jsx)("span",{className:"font-bold text-xl",children:Z.confirmed_posts})]}),Object(w.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Received posts: "}),Object(w.jsx)("span",{className:"font-bold text-xl",children:Z.requested_post_status===h.c.RECEIVED?Z.received_posts:"-"})]}),Object(w.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Occupation: "}),Object(w.jsx)("span",{className:"font-bold text-xl",children:Z.occupied_posts?Z.occupied_posts+(Z.requested_post_status===h.c.RECEIVED&&Z.received_posts?Z.received_posts:0):0})]}),Object(w.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Not received posts: "}),Object(w.jsxs)("span",{className:"font-bold text-xl",children:[e.districtPlacements?Object(S.getPlacementByRequest)(e.districtPlacements,Z.requested_post_id,E.b.REJECTED).length:"-",e.districtPlacements&&Object(S.getPlacementByRequest)(e.districtPlacements,Z.requested_post_id,E.b.REJECTED).length>0&&Object(w.jsx)("button",{className:"font-bold ml-2 py-1 px-4 rounded bg-gray-500 text-white hover:bg-gray-700",onClick:function(){return he(Z)},disabled:H,children:"Do placement"})]})]}),Object(w.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Request reason: "}),Object(w.jsx)("span",{className:"font-bold text-xl",children:Z.description})]}),Object(w.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Status: "}),Object(w.jsx)("span",{className:"px-2 py-1 mx-1 font-semibold rounded ".concat(Z.requested_post_status===h.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":Z.requested_post_status===h.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:Z.requested_post_status===h.c.INITIATED?"Pending":Object(m.a)(Z.requested_post_status)})]})]}),Object(w.jsx)("div",{className:"mb-3 flex items-center justify-end gap-2",children:Z.requested_post_status===h.c.INITIATED&&Object(w.jsx)("button",{className:"font-bold py-1 px-4 rounded bg-gray-500 text-white hover:bg-gray-700",onClick:function(){L("UPDATE")},disabled:Z.requested_post_status!==h.c.INITIATED,children:"Edit"})})]})})]})}))}}]);
//# sourceMappingURL=31.bc66ef4f.chunk.js.map