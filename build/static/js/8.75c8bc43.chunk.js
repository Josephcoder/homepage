(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[8],{175:function(e,t,s){},176:function(e,t,s){"use strict";var n;s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return r})),function(e){e.SingleMultiple="Single Multiple",e.MultipleChoice="MultipleChoice",e.CalculatedMultipleChoice="Calculated multichoice",e.TrueFalse="true or false",e.Matching="Matching",e.Numeric="Numerical",e.SimpleCalculate="Simple Calculate",e.ShortAnswer="Short Answer"}(n||(n={}));var l,a=[{key:n.SingleMultiple,value:"Single Multiple choice Question"},{key:n.MultipleChoice,value:"Multiple choice Question"},{key:n.CalculatedMultipleChoice,value:"Calculated Multiple choice Question"},{key:n.TrueFalse,value:"True & False Question"},{key:n.Matching,value:"Matching Question"},{key:n.Numeric,value:"Numeric Question"},{key:n.SimpleCalculate,value:"Simple calculation Question"},{key:n.ShortAnswer,value:"Short answer Question"}];!function(e){e.Eng="Eng",e.Fr="Fr",e.Kiny="Kiny"}(l||(l={}));var r=[{key:l.Eng,value:"English"},{key:l.Fr,value:"French"},{key:l.Kiny,value:"Kiny"}]},177:function(e,t,s){"use strict";t.a=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return void 0===t||""===t?e:e.filter((function(e){var n,l=null===s?e:s;for(var a in l)if(n=!1,n=e[a].toString().toLowerCase().indexOf(t.toLowerCase())>-1)break;return n}))}},178:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s(66);function l(e,t){var s;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(s=Object(n.a)(e))||t&&e&&"number"===typeof e.length){s&&(e=s);var l=0,a=function(){};return{s:a,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,c=!1;return{s:function(){s=e[Symbol.iterator]()},n:function(){var e=s.next();return o=e.done,e},e:function(e){c=!0,r=e},f:function(){try{o||null==s.return||s.return()}finally{if(c)throw r}}}}},179:function(e,t,s){"use strict";s.d(t,"e",(function(){return o})),s.d(t,"f",(function(){return c})),s.d(t,"d",(function(){return i})),s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return l})),s.d(t,"c",(function(){return a}));s(175);var n,l,a,r,o=function(e,t){var s;return void 0===(null===(s=t.find((function(t){return t.category_id===e.category.user_detail_category_id})))||void 0===s?void 0:s.category_id)?e.category.user_detail_category_id:null},c=function(e,t){var s=[];if(e.position_requirement.length>0){var n=function(n){var l,a=null===(l=t.find((function(t){return t.category_subcategory_data&&t.category_subcategory_data.category_subcategory_Data_id===e.position_requirement[n]._id})))||void 0===l?void 0:l.category_subcategory_data;void 0!==a&&null!==a||!0!==e.position_requirement[n].required||s.push({category_subcat_id:e.position_requirement[n]._id,category_id:e.category.user_detail_category_id,user_detail_subcategory_id:e.subcategory.user_detail_subcategory_id})};for(var l in e.position_requirement)n(l)}return console.log("Returned: ",s),s},i=function(e,t){var s=!0;for(var n in e)0===e[n].position_requirement.length?null!==e[n]&&null!==t&&null!==o(e[n],t)&&void 0!==o(e[n],t)&&(s=!1):0!==c(e[n],t).length&&(s=!1);return s};s(176);!function(e){e.Waiting="waiting",e.Rejected="rejected",e.Approved="approved"}(n||(n={})),function(e){e.USER_CONNECTED="user-connected",e.USER_DISCONNECTED="user-disconnected",e.JOIN_ROOM="join-room"}(l||(l={})),function(e){e.START_EXAM_CLIENT="START_EXAM_CLIENT",e.START_EXAM_SERVER="START_EXAM_SERVER",e.STOP_EXAM_CLIENT="STOP_EXAM_CLIENT",e.STOP_EXAM_SERVER="STOP_EXAM_SERVER",e.CAND_EVENT_CLIENT="CAND_EVENT_CLIENT",e.CAND_EVENT_SERVER="CAND_EVENT_SERVER",e.CAND_CONTINUE_EXAM_SERVER="CAND_CONTINUE_EXAM_SERVER",e.CAND_CONTINUE_EXAM_CLIENT="CAND_CONTINUE_EXAM_CLIENT",e.CAND_STOP_EXAM_CLIENT="CAND_STOP_EXAM_CLIENT",e.CAND_STOP_EXAM_SERVER="CAND_STOP_EXAM_SERVER",e.CAND_RESTART_EXAM_CLIENT="CAND_RESTART_EXAM_CLIENT",e.CAND_RESTART_EXAM_SERVER="CAND_RESTART_EXAM_SERVER",e.ALL_CAND_RESTART_EXAM_CLIENT="ALL_CAND_RESTART_EXAM_CLIENT",e.ALL_CAND_RESTART_EXAM_SERVER="ALL_CAND_RESTART_EXAM_SERVER",e.CAND_WARNING_EXAM_CLIENT="CAND_WARNING_EXAM_CLIENT",e.CAND_WARNING_EXAM_SERVER="CAND_WARNING_EXAM_SERVER",e.CAND_BRODCAST_MSG_CLIENT="CAND_BRODCAST_MSG_CLIENT",e.CAND_BRODCAST_MSG_SERVER="CAND_BRODCAST_MSG_SERVER",e.CAND_PRIVATE_MSG_CLIENT="CAND_PRIVATE_MSG_CLIENT",e.CAND_PRIVATE_MSG_SERVER="CAND_PRIVATE_MSG_SERVER",e.CAND_EXAM_EVENT_CLIENT="CAND_EXAM_EVENT_CLIENT",e.CAND_EXAM_EVENT_SERVER="CAND_EXAM_EVENT_SERVER"}(a||(a={})),function(e){e.PASTE_A_TEXT="PASTE A TEXT",e.MOVE_MOUSE_OUT="MOVE MOUSE OUT WINDOW"}(r||(r={}))},181:function(e,t,s){"use strict";var n=s(3),l=s(2),a=s(180),r=s(1),o=function(e){var t=Object(l.useState)(!1),s=Object(n.a)(t,2),o=s[0],c=s[1];return Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsxs)("div",{onClick:function(){c(!o),function(e,t){(null!==t.searchLevel&&null===t.searchLevel.schoolLevel||null!==t.searchLevel&&t.educationCategoryDetails.education_institute_id!==t.searchLevel.educationCategory.education_institute_id||null===t.setSearchLevel)&&(!1===e&&t.setSearchLevel(null,null),!1===e&&t.setSearchLevel(t.educationCategoryDetails,null))}(o,e)},className:"flex flex-row justify-between items-center py-2 px-2 bg-blue-100 rounded cursor-pointer hover:bg-blue-200 mb-2",children:[Object(r.jsxs)("div",{className:"flex flex-col pl-1",children:[Object(r.jsx)("span",{className:"uppercase text-blue-600 text-lg font-bold",children:e.educationCategoryDetails.education_category_title}),Object(r.jsx)("span",{className:"text-xs",children:e.educationCategoryDetails.description})]}),Object(r.jsx)("div",{className:"px-1 py-1 rounded-full flex items-center justify-center cursor-pointer text-blue-600 bg-blue-100 hover:bg-white hover:text-blue-800",children:!1===o?Object(r.jsx)(a.b,{className:"text-2xl"}):Object(r.jsx)(a.a,{className:"text-2xl"})})]}),!0===o&&Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsx)("div",{onClick:function(){return function(e,t){t.setSearchLevel(null,null),t.setSearchLevel(t.educationCategoryDetails,null)}(0,e)},className:"flex flex-row justify-between items-center py-2 px-2 bg-blue-50 rounded cursor-pointer hover:bg-blue-50 mb-2 ml-5 border ".concat(null!==e.searchLevel&&null!==e.searchLevel.educationCategory&&e.searchLevel.educationCategory.education_institute_id===e.educationCategoryDetails.education_institute_id&&null===e.searchLevel.schoolLevel?"border-blue-500":"border-blue-100"," hover:border-blue-500"),children:Object(r.jsx)("div",{className:"flex flex-col pl-1",children:Object(r.jsx)("span",{className:"text-blue-700 text-sm font-bold",children:"All levels"})})}),console.log("Institute: ",e.educationCategoryDetails),null===e.schoolLevels?"Loading...":0===e.schoolLevels.length?"No levels found":e.schoolLevels.map((function(t,s){return t.education_institute.find((function(t){return t===e.educationCategoryDetails.education_institute_id}))&&Object(r.jsx)("div",{onClick:function(){return function(t,s){e.setSearchLevel(null,null),e.setSearchLevel(t,s)}(e.educationCategoryDetails,t)},className:"flex flex-row justify-between items-center py-2 px-2 bg-blue-50 rounded cursor-pointer hover:bg-blue-50 mb-2 ml-5 border ".concat(null!==e.searchLevel&&null!==e.searchLevel.schoolLevel&&e.searchLevel.schoolLevel===t&&null!==e.searchLevel.educationCategory&&e.searchLevel.educationCategory.education_institute_id===e.educationCategoryDetails.education_institute_id?"border-blue-500":"border-blue-100"," hover:border-blue-500"),children:Object(r.jsx)("div",{className:"flex flex-col pl-1",children:Object(r.jsx)("span",{className:"text-blue-700 text-sm font-bold",children:t.school_level_name})})},s+1)}))]})]})},c=s(23);t.a=function(e){return Object(r.jsx)("div",{className:"col-span-12 md:col-span-4 md:static w-full top-2",children:Object(r.jsxs)("div",{className:"bg-white shadow rounded-sm px-2 py-2",children:[console.log(e.educationCategories),null===e.educationCategories?Object(r.jsx)(c.a,{}):0===e.educationCategories.length?"No Education categories available":e.educationCategories.map((function(t,s){return Object(r.jsx)(o,{educationCategoryDetails:t,schoolLevels:e.schoolLevels,searchLevel:e.searchLevel,setSearchLevel:e.setSearchLevel},s+1)}))]})})}},185:function(e,t,s){"use strict";var n=s(178),l=s(26),a=s(27),r=s(29),o=s(28),c=s(2),i=s(180),u=s(177),d=s(12),b=s(7),h=(s(175),s(23)),x=s(16),p=s(25),f=s(181),j=s(1),v=function(e){Object(r.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setSearchLevel=function(e,t){a.setState({searchLevel:{educationCategory:e,schoolLevel:t}}),e&&a.props.setSelectedEducationCategory(e),t&&(a.props.setSelectedSchoolLevel(t),a.setState({showFilter:!1}))},a.setSchoolLevelFilterFn=function(e){a.setState({showFilter:e})},a.filteredCourses=function(e,t){var s=e;return null!==t&&(null!==t.schoolLevel?s=e.filter((function(e){if(e.school_levels.find((function(e){var s;return e===(null===(s=t.schoolLevel)||void 0===s?void 0:s.school_level_id)}))){var s,l=!1,a=Object(n.a)(e.school_levels);try{var r=function(){var e,n=s.value;(null===(e=t.educationCategory)||void 0===e?void 0:e.school_levels.find((function(e){return e===n})))&&(l=!0)};for(a.s();!(s=a.n()).done;)r()}catch(o){a.e(o)}finally{a.f()}return!0===l?e:null}return null})):null!==t.educationCategory&&(s=e.filter((function(e){var s,l=!1,a=Object(n.a)(e.school_levels);try{var r=function(){var e,n=s.value;(null===(e=t.educationCategory)||void 0===e?void 0:e.school_levels.find((function(e){return e===n})))&&(l=!0)};for(a.s();!(s=a.n()).done;)r()}catch(o){a.e(o)}finally{a.f()}return!0===l?e:null})))),s},a.setUploadingStatus=function(e){a.setState({uploadingStatus:e})},a.componentDidMount=function(){null!==a.props.course.courses&&0!==a.props.course.courses.length||a.props.loadCourses(a.setLoading)},a.state={loading:!1,searchLevel:null,showFilter:!1,uploadingStatus:!1,searchCourseInput:""},a}return Object(a.a)(s,[{key:"render",value:function(){var e,t,s,n,l=this;return Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)("div",{className:"flex-col",children:Object(j.jsx)("div",{className:"my-4 grid md:grid-cols-5 gap-2",children:Object(j.jsx)("div",{className:"animate__animated md:col-span-5 md:flex md:flex-col min-h-full bg-white shadow rounded",children:Object(j.jsxs)("div",{className:"py-2 px-2",children:[Object(j.jsxs)("div",{className:"flex flex-row gap-2 mb-2 items-center justify-between",children:[Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)("div",{children:Object(j.jsx)("span",{className:"text-lg text-gray-600 font-bold",children:"Choose a course"})}),Object(j.jsxs)("div",{className:"flex flex-row items-center",children:[(null===(e=this.state.searchLevel)||void 0===e?void 0:e.educationCategory)&&Object(j.jsx)("span",{className:"bg-blue-50 rounded-full px-2 text-xs text-blue-600 font-bold",children:null===(t=this.state.searchLevel.educationCategory)||void 0===t?void 0:t.education_category_title}),(null===(s=this.state.searchLevel)||void 0===s?void 0:s.schoolLevel)&&Object(j.jsxs)("div",{className:"flex flex-row items-center",children:[Object(j.jsx)(p.a,{className:""}),Object(j.jsx)("span",{className:"bg-blue-50 rounded-full px-2 text-xs text-blue-600 font-bold",children:null===(n=this.state.searchLevel.schoolLevel)||void 0===n?void 0:n.school_level_name})]})]})]}),Object(j.jsxs)("div",{onClick:function(){null===l.props.schoolLevels.education_categories&&l.props.loadEducationCategories(l.setLoading),null===l.props.schoolLevels.school_levels&&l.props.loadSchoolLevels(l.setLoading),l.setState({showFilter:!0})},className:"btn cursor-pointer bg-blue-50 hover:bg-blue-100 text-blue-600 flex flex-row gap-1 items-center",children:[Object(j.jsx)(i.f,{className:"text-xl"}),Object(j.jsx)("span",{children:"Filter"})]})]}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{onChange:function(e){return l.setState({searchCourseInput:e.target.value})},type:"text",className:"input-white h-10 text-sm border-2 border-blue-500",placeholder:"Search question by title or description"})}),Object(j.jsx)("div",{className:"mt-4",style:{minHeight:"500px"},children:!0===this.state.uploadingStatus?Object(j.jsxs)("div",{className:"my-2 flex flex-col gap-2",children:[Object(j.jsx)("div",{className:"rounded-xl bg-gray-100 h-8"}),Object(j.jsx)("div",{className:"rounded-xl bg-gray-100 h-8 w-4/5"}),Object(j.jsx)("div",{className:"rounded-xl bg-gray-100 h-8 w-5/6"}),Object(j.jsx)("div",{className:"rounded-xl bg-gray-100 h-8"}),Object(j.jsx)("div",{className:"rounded-xl bg-gray-100 h-8 w-3/4"}),Object(j.jsx)("div",{className:"rounded-xl bg-gray-100 h-8"})]}):null===this.props.course.courses?Object(j.jsx)(h.a,{}):this.props.course.courses&&0===this.filteredCourses(this.props.course.courses,this.state.searchLevel).length?Object(j.jsx)("span",{className:"text-gray-400 font-extrabold ml-2 animate__animated animate__shakeX",children:"No courses available!"}):this.props.course.courses&&Object(u.a)(this.filteredCourses(this.props.course.courses,this.state.searchLevel),this.state.searchCourseInput).map((function(e,t){return Object(j.jsxs)("div",{onClick:function(){return l.props.setSelectedCourse(e)},className:"rounded border ".concat(null!==l.props.selected_course_id&&l.props.selected_course_id===e.course_id?"bg-blue-100 border-blue-300 text-blue-600 animate__animated animate__bounceIn":"border-gray-200 hover:bg-blue-100 hover:border-blue-600 text-gray-600","  px-2 py-3 flex flex-row gap-3 items-center my-2 cursor-pointer"),children:[Object(j.jsx)("span",{className:"text-sm",children:Object(j.jsx)("div",{className:"h-8 w-8 rounded-full flex justify-center items-center text-white ".concat(null!==l.props.selected_course_id&&l.props.selected_course_id===e.course_id?"bg-blue-600 text-white":"font-bold bg-gray-500"),children:t+1})}),Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)("span",{className:"text-md font-bold",children:e.course_name}),Object(j.jsxs)("span",{className:"text-xs",children:["Code: ",e.course_code]})]})]},t+1)}))})]})})})}),!0===this.state.showFilter&&Object(j.jsx)(x.c,{title:"Filter courses by school levels",backDrop:!0,theme:x.b.default,close:function(){return l.setState({showFilter:!1})},backDropClose:!0,widthSizeClass:x.a.medium,displayClose:!0,padding:{title:!0},children:Object(j.jsx)(f.a,{educationCategories:this.props.schoolLevels.education_categories,schoolLevels:this.props.schoolLevels.school_levels,searchLevel:this.state.searchLevel,setSearchLevel:this.setSearchLevel,setSchoolLevelFilterFn:this.setSchoolLevelFilterFn})})]})}}]),s}(c.Component),m=Object(d.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank}}),{loadCourses:b.S,loadSchoolLevels:b.Y,loadEducationCategories:b.T,setSelectedEducationCategory:b.eb,setSelectedSchoolLevel:b.hb})(v);t.a=m},193:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s(176),l=function(e,t){var s=null;if(null!==e){var l=e.find((function(e){return e.id===t}));if(void 0!==l){var a=n.b.find((function(e){return l&&e.key===l.element}));void 0!==a&&(s=a.key)}}return s}},198:function(e,t,s){"use strict";var n,l=new Uint8Array(16);function a(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(l)}var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var o=function(e){return"string"===typeof e&&r.test(e)},c=[],i=0;i<256;++i)c.push((i+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!o(s))throw TypeError("Stringified UUID is invalid");return s};t.a=function(e,t,s){var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){s=s||0;for(var l=0;l<16;++l)t[s+l]=n[l];return t}return u(n)}},210:function(e,t,s){"use strict";s.r(t),s.d(t,"UploadQuestion",(function(){return $}));var n,l=s(178),a=s(26),r=s(27),o=s(29),c=s(28),i=s(2),u=s(180),d=s(31),b=s(18),h=s(177),x=s(12),p=s(7),f=(s(175),s(23)),j=s(16),v=s(181),m=s(25),g=s(6),y=s(4),O=s.n(y),N=s(8),_=s(3),w=s(11),C=s.n(w),S=s(22),E=(s(179),s(10)),L=s(55),k=s(24),A=s(1),T=Object(x.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,prepareExam:e.prepareExam}}),{loadCourses:p.S,loadSchoolLevels:p.Y,loadEducationCategories:p.T,setSelectedEducationCategory:p.eb,setSelectedSchoolLevel:p.hb,setUploadedQuestions:p.ib,setSelectedCourse:p.db,addExamQuestion:p.I,IncrementQuestionBank:p.A})((function(e){var t,s,n=Object(i.useState)(!1),a=Object(_.a)(n,2),r=a[0],o=a[1],c=Object(i.useState)(!1),u=Object(_.a)(c,2),d=u[0],b=u[1],h=Object(i.useState)(!1),x=Object(_.a)(h,2),p=x[0],j=x[1];return Object(i.useEffect)((function(){null!==e.questionTypes.questionTypes&&0!==e.questionTypes.questionTypes.length||e.loadQuestionTypes(o)}),[e]),!0===p?Object(A.jsx)(k.a,{to:"/prepare-exam"}):!0===d?Object(A.jsx)(k.a,{to:"/question-bank"}):Object(A.jsx)("div",{className:"bg-white animate__animated animate__fadeInLeft animate__fast px-2 py-2 gap-3 mb-2 rounded",children:null!==e.questionBank.uploadedQuestions&&e.questionBank.uploadedQuestions.insertedData[0].course!==e.selectedCourse.course_id?Object(A.jsxs)("div",{className:"text-center flex flex-col items-center text-gray-500 py-6 rounded bg-gray-100 mt-5",children:["You have changed course! ",Object(A.jsx)("br",{}),Object(A.jsx)("div",{className:"bg-blue-50 text-blue-600 font-bold rounded-full text-center w-max px-3 border border-blue-200 flex items-center justify-center mb-3",children:null!==e.course.courses&&(null===(t=e.course.courses.find((function(t){var s;return t.course_id===(null===(s=e.questionBank.uploadedQuestions)||void 0===s?void 0:s.insertedData[0].course)})))||void 0===t?void 0:t.course_name)}),Object(A.jsx)("div",{onClick:function(){return function(){if(null!==e.questionBank.uploadedQuestions&&e.questionBank.uploadedQuestions.insertedData[0].course!==e.selectedCourse.course_id&&e.course.courses){var t=e.course.courses.find((function(t){return e.questionBank.uploadedQuestions&&t.course_id===e.questionBank.uploadedQuestions.insertedData[0].course}));void 0!==t&&e.setSelectedCourse(t)}}()},className:"btn bg-blue-600 text-white cursor-pointer",children:"Back to list"})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(A.jsxs)("div",{className:"text-blue-600 font-bold mb-2 flex flex-row items-center gap-2 text-xl",children:[Object(A.jsx)(L.a,{className:"text-2xl"}),Object(A.jsxs)("span",{children:["Uploaded questions list (",null===(s=e.questionBank.uploadedQuestions)||void 0===s?void 0:s.insertedCount,")"]})]}),Object(A.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(A.jsx)("div",{onClick:function(){return function(){if(!0===window.confirm("Are you sure do you want to add to exam?")&&null!==e.questionBank.uploadedQuestions&&e.questionBank.uploadedQuestions.insertedData.length>0&&null!==e.course.selected_course){var t,s=Object(l.a)(e.prepareExam.questions);try{for(s.s();!(t=s.n()).done;){var n=t.value;e.addExamQuestion(n)}}catch(c){s.e(c)}finally{s.f()}if(0===e.prepareExam.questions.length){var a,r=Object(l.a)(e.questionBank.uploadedQuestions.insertedData);try{for(r.s();!(a=r.n()).done;){var o=a.value;e.addExamQuestion(o),e.IncrementQuestionBank(o)}}catch(c){r.e(c)}finally{r.f()}}0!==e.questionBank.uploadedQuestions.insertedData.length&&(e.setUploadedQuestions(null),j(!0))}}()},className:"btn border bg-blue-50 hover:bg-blue-600 border-blue-600 text-blue-600 hover:text-white mb-2 cursor-pointer",children:"Make it an exam"}),Object(A.jsx)("div",{onClick:function(){return function(){if(window.confirm("Have you completed to modify questions?")){if(null!==e.questionBank.uploadedQuestions&&e.questionBank.uploadedQuestions.insertedData.length>0){var t,s=Object(l.a)(e.questionBank.uploadedQuestions.insertedData);try{for(s.s();!(t=s.n()).done;){var n=t.value;e.IncrementQuestionBank(n)}}catch(a){s.e(a)}finally{s.f()}e.setUploadedQuestions(null)}b(!0)}}()},className:"btn bg-blue-600 text-white mb-2 cursor-pointer",children:"Continue"})]})]}),!0===r?Object(A.jsx)(f.a,{}):null===e.questionBank.uploadedQuestions?Object(A.jsx)("div",{children:"Please upload questions"}):null===e.questionBank.uploadedQuestions.insertedData?Object(A.jsx)(f.a,{}):0===e.questionBank.uploadedQuestions.insertedData.length?Object(A.jsx)("div",{children:"No questions uploaded!"}):e.questionBank.uploadedQuestions.insertedData.map((function(t,s){var n;return Object(A.jsx)("div",{onClick:function(){return e.selectQuestion(t)},className:"bg-gray-50 cursor-pointer rounded border border-gray-200 px-3 py-2 hover:bg-blue-50 text-gray-700 hover:text-blue-600 flex flex-row items-center justify-between mb-2 gap-4 hover:border-blue-600 mb-3",children:Object(A.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(A.jsx)("div",{className:"rounded-full bg-blue-100 text-blue-600 h-8 w-8 flex items-center justify-center text-xl font-bold",children:s+1}),Object(A.jsxs)("div",{className:"flex flex-col truncate",children:[Object(A.jsx)("span",{className:"text-xs text-blue-600 font-bold w-max",children:e.questionTypes.questionTypes&&(null===(n=e.questionTypes.questionTypes.find((function(e){return e.id&&e.id===t.type})))||void 0===n?void 0:n.title)}),Object(A.jsx)("span",{className:"font-bold",children:t.question[0].title}),Object(A.jsx)("span",{className:"truncate text-xs",children:t.question[0].description})]})]})},s+1)}))]})})})),q=s(15),Q=s(176),D=s(185),M=s(33),R=s(40),I=s(5),F=s(198),B=s(20),K=function(e){var t=Object(i.useState)([]),s=Object(_.a)(t,2),a=s[0],r=s[1],o=Object(i.useState)(!1),c=Object(_.a)(o,2),u=c[0],d=c[1];return Object(A.jsxs)("div",{className:"flex flex-col mb-3 text-sm gap-2 bg-white px-2 py-2 rounded",children:[!0===u&&Object(A.jsx)("label",{className:"text-gray-600 font-bold",children:"Add question Answer"}),!1===u?Object(A.jsxs)("div",{className:"flex flex-row items-center gap-3 animate__animated animate__fadeIn animate__fast",children:[Object(A.jsx)("div",{onClick:function(){return d(!0)},className:"btn bg-blue-50 text-blue-600 cursor-pointer hover:bg-blue-200 hover:text-blue-800 border border-blue-300 w-32",children:"Add answer"}),Object(A.jsxs)("div",{className:"w-full flex flex-row items-center justify-between pr-2 py-1",children:[Object(A.jsx)("div",{className:"text-gray-600 font-bold flex flex-row items-center",children:null!==e.selectedKey&&e.selectedKey===n.QuestionAnswer?"Edit Question answers":"Question answers"}),Object(A.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[null!==e.selectedKey&&e.selectedKey===n.QuestionAnswer&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[Object(A.jsx)("span",{className:"font-bold text-gray-600",children:"Marks"}),Object(A.jsx)("input",{onChange:function(t){return e.updateMarks(parseInt(t.target.value))},type:"number",placeholder:"Marks",value:e.marks,className:"input-gray-lg h-10"})]}),Object(A.jsx)("div",{onClick:function(){return e.setSelectedKey(null)},className:"bg-blue-100 text-blue-600 rounded-full flex items-center justify-center h-12 w-12 cursor-pointer hover:bg-blue-200 hover:text-blue-700",children:Object(A.jsx)(M.a,{className:"text-3xl"})})]}),e.selectedKey!==n.QuestionAnswer&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"px-4 py-2 rounded-full bg-blue-100 text-blue-600 font-bold",children:["Marks: ",e.marks]}),Object(A.jsx)("div",{onClick:function(){return e.setSelectedKey(n.QuestionAnswer)},className:"bg-gray-100 text-gray-600 rounded-full flex items-center justify-center h-12 w-12 cursor-pointer hover:bg-blue-100 hover:text-blue-600",children:Object(A.jsx)(I.X,{className:"text-3xl"})})]})]})]})]}):Object(A.jsxs)("div",{className:"mb-2 gap-3 bg-white rounded animate__animated animate__fadeIn animate__fast",children:[Object(A.jsx)("div",{className:"flex flex-col gap-2",children:Q.a.map((function(e,t){var s;return Object(A.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(A.jsx)("span",{className:"font-bold text-blue-600",children:e.value}),Object(A.jsx)("input",{value:a.length>0?null===(s=a.find((function(t){return t.lang.key===e.key})))||void 0===s?void 0:s.answer.value:"",onChange:function(t){return s=e,n={id:a.length>0?a[0].answer.id:Object(F.a)(),value:t.target.value,status:a.length>0&&a[0].answer.status},void(void 0===a.find((function(e){return e.lang.key===s.key}))?r([].concat(Object(q.a)(a),[{lang:s,answer:n}])):r([].concat(Object(q.a)(a.filter((function(e){return e.lang.key!==s.key}))),[{lang:s,answer:n}])));var s,n},type:"text",className:"input-gray-lg"})]},t+1)}))}),Object(A.jsxs)("div",{className:"flex flex-row mt-3 items-center justify-end gap-2",children:[Object(A.jsxs)("div",{onClick:function(){return function(e){if(a.length>0){var t,s=[],n=Object(l.a)(a);try{for(n.s();!(t=n.n()).done;){var o=t.value;s.push({lang:o.lang,answer:{value:o.answer.value,status:e,id:o.answer.id}})}}catch(c){n.e(c)}finally{n.f()}r(s)}}(a.length>0&&!a[0].answer.status)},className:"flex flex-row items-center gap-2 cursor-pointer ".concat(a.length>0&&!0===a[0].answer.status?"text-blue-600":"text-gray-600"," hover:text-blue-600"),children:[a.length>0&&!1===a[0].answer.status?Object(A.jsx)(R.b,{className:"text-2xl cursor-pointer"}):Object(A.jsx)(R.a,{className:"text-2xl cursor-pointer"}),Object(A.jsx)("span",{className:"font-bold text-xl",children:a.length>0&&!0===a[0].answer.status?"True":"False"})]}),Object(A.jsx)("div",{onClick:function(){return function(){if(null!==a)if(a.length!==Q.a.length)alert("Please fill question answer!"+a.length);else{var t,s=Object(l.a)(a);try{var n=function(){var s=t.value,n=e.wholeQuestion.find((function(e){return e.language===s.lang.key}));void 0!==n&&e.addAnswerSingleMultiple(n,s.answer)};for(s.s();!(t=s.n()).done;)n()}catch(o){s.e(o)}finally{s.f()}r([]),d(!1)}}()},className:"btn bg-blue-600 text-white hover:bg-blue-800 cursor-pointer w-24 text-center",children:"Add"}),Object(A.jsx)("div",{onClick:function(){return d(!1)},className:"btn bg-gray-500 text-white hover:bg-gray-700 cursor-pointer w-24 text-center",children:"Cancel"})]})]}),!1===u&&Object(A.jsxs)("div",{className:"rounded bg-white px-2 py-2",children:[console.log(e.selectedQuestionType),(e.selectedQuestionType===Q.c.SingleMultiple||e.selectedQuestionType===Q.c.MultipleChoice)&&e.selectedQuestionItem.answer.map((function(t,s){return Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between mb-2 gap-3 ".concat(e.selectedKey!==n.QuestionAnswer?"border-b border-gray-300":""),children:[e.selectedKey===n.QuestionAnswer?Object(A.jsx)("input",{onChange:function(s){var n=e.wholeQuestion.find((function(t){return t.language===e.selectedLanguage.key}));void 0===n&&(n=e.wholeQuestion[0]),e.updateAnswerSingleMultiple(n,t.value,{value:s.target.value,status:t.status,id:t.id})},value:"".concat(t.value),type:"text",className:"input-gray-lg w-full border-2 border-gray-500"},s+1):Object(A.jsxs)("div",{className:"w-full flex flex-row items-center gap-3 py-2",children:[!0===t.status?Object(A.jsx)(B.s,{className:"text-2xl text-blue-600"}):Object(A.jsx)(I.k,{className:"text-2xl text-gray-500"}),t.value]}),e.selectedKey===n.QuestionAnswer?Object(A.jsxs)("div",{onClick:function(){var s=e.wholeQuestion.find((function(t){return t.language===e.selectedLanguage.key}));void 0===s&&(s=e.wholeQuestion[0]),e.editSingleMultipleStatus(t.id,!t.status)},className:"flex flex-row items-center gap-2 cursor-pointer ".concat(!0===t.status?"text-blue-600":"text-gray-600"," hover:text-blue-600 w-40"),children:[!1===t.status?Object(A.jsx)(R.b,{className:"text-2xl cursor-pointer"}):Object(A.jsx)(R.a,{className:"text-2xl cursor-pointer"}),Object(A.jsx)("span",{className:"font-bold ",children:!0===t.status?"Correct":"Incorrect"})]}):Object(A.jsx)("div",{className:"w-28 flex justify-end text-center",children:Object(A.jsx)("div",{className:"font-bold px-3 py-2 rounded-full w-28 ".concat(!0===t.status?"text-green-600 bg-white":"text-gray-600 bg-white"),children:!0===t.status?Object(A.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[Object(A.jsx)(m.c,{className:"text-xl"})," ",Object(A.jsx)("span",{children:"Correct"})]}):Object(A.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[Object(A.jsx)(m.i,{className:"text-xl"})," ",Object(A.jsx)("span",{children:"Incorrect"})]})})}),Object(A.jsx)("div",{onClick:function(){e.removeAnswerSingleMultiple(e.wholeQuestion,t)},className:"btn bg-red-50 text-red-600 hover:bg-red-200 hover:text-red-800 cursor-pointer",children:"Remove"})]})}))]})]})},X=function(e){return e.selectedKey===n.Title?Object(A.jsx)("div",{children:e.languages.map((function(t,s){var n;return Object(A.jsxs)("div",{className:"flex flex-row items-center animate__animated animate__fadeInDown animate__fast",children:[Object(A.jsx)("span",{className:"font-bold w-24 truncate text-blue-600 flex flex-row items-center gap-2",children:t.value}),Object(A.jsx)("input",{onChange:function(s){var n=e.questionItems.find((function(e){return e.language===t.key}));void 0===n&&(n=e.questionItems[0]),e.handleUpdateQuestionDetails({description:n.description,language:n.language,status:n.status,title:s.target.value,answer:n.answer})},value:null===(n=e.questionItems.find((function(e){return e.language===t.key})))||void 0===n?void 0:n.title,type:"text",className:"input-gray-lg w-full mt-3"},s+1)]})}))}):e.selectedKey===n.Description?Object(A.jsx)("div",{children:e.languages.map((function(t,s){var n;return Object(A.jsxs)("div",{className:"flex flex-row items-center animate__animated animate__fadeInDown animate__fast",children:[Object(A.jsx)("span",{className:"font-bold w-24 truncate text-blue-600 flex flex-row items-center gap-2",children:t.value}),Object(A.jsx)("textarea",{onChange:function(s){var n=e.questionItems.find((function(e){return e.language===t.key}));void 0===n&&(n=e.questionItems[0]),e.handleUpdateQuestionDetails({description:s.target.value,language:n.language,status:n.status,title:n.title,answer:n.answer})},value:null===(n=e.questionItems.find((function(e){return e.language===t.key})))||void 0===n?void 0:n.description,className:"input-gray-lg w-full mt-3"},s+1)]})}))}):Object(A.jsx)("div",{})},V=s(65),U=function(e){var t;return void 0===e.selectedCourse||null===e.selectedCourse?Object(A.jsx)("div",{children:Object(A.jsx)("div",{className:"text-6xl text-center text-red-800 font-bold rounded bg-red-100 px-3 py-4",children:"Invalid course selected!"})}):void 0!==e.selectedCourse&&null!==e.selectedCourse&&0===(null===(t=e.selectedCourse.chapters)||void 0===t?void 0:t.length)?Object(A.jsx)("div",{children:Object(A.jsx)("div",{className:"text-3xl text-center text-yellow-800 font-bold rounded bg-yellow-100 px-3 py-4",children:"No chapter available for this course!"})}):Object(A.jsxs)("div",{className:"px-2 pb-2",children:[Object(A.jsx)("div",{className:"text-sm text-gray-500 font-bold",children:"Selected course"}),Object(A.jsxs)("div",{className:"bg-blue-50 text-blue-600 font-bold rounded px-3 py-2",children:[e.selectedCourse.course_code," - ",e.selectedCourse.course_name]}),Object(A.jsx)("div",{className:"flex flex-col gap-2 mt-3",children:void 0!==e.selectedCourse.chapters&&0===e.selectedCourse.chapters.length?Object(A.jsx)("div",{children:"No chapters found!"}):e.selectedCourse.chapters&&e.selectedCourse.chapters.map((function(t,s){return Object(A.jsxs)("div",{onClick:function(){return e.setAddChapter(t.id)},className:"".concat(e.addedChapters.find((function(e){return e===t.id}))?"text-blue-600":"text-gray-600"," border rounded px-2 py-2 flex flex-row items-center gap-3 hover:border-blue-500 hover:bg-blue-50 hover:text-blue-600 cursor-pointer"),children:[e.addedChapters.find((function(e){return e===t.id}))?Object(A.jsx)(R.a,{className:"text-2xl cursor-pointer"}):Object(A.jsx)(R.b,{className:"text-2xl cursor-pointer"}),Object(A.jsx)("span",{children:t.name})]})}))})]})},P=s(14),G=s(45),W=s(193);!function(e){e.Title="Title",e.Description="Description",e.QuestionAnswer="QuestionAnswer"}(n||(n={}));var z=function(e){Object(o.a)(s,e);var t=Object(c.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).QuestionLang=function(e){var t=e.find((function(e){return e.language===n.state.selectedLanguage.key}));return console.log("sel: ",t),void 0!==t?t:e[0]},n.setLoading=function(e){n.setState({loading:e})},n.actionStatus=function(e,t){n.props.PushPopupAlert({title:!0===e?"Success!":"Failed!",description:t,theme:!0===e?P.a.success:P.a.danger})},n.handleUpdateQuestionDetails=function(e){var t,s=[],a=Object(l.a)(n.state.question);try{for(a.s();!(t=a.n()).done;){var r=t.value;e.language===r.language?s.push(e):s.push(r)}}catch(o){a.e(o)}finally{a.f()}n.setState({question:s})},n.updateAnswerSingleMultiple=function(e,t,s){var a,r=[],o=Object(l.a)(n.state.question);try{for(o.s();!(a=o.n()).done;){var c=a.value;if(e.language===c.language){for(var i=[],u=0;u<c.answer.length;u++)void 0!==c.answer.find((function(e){return e.value===t}))&&(c.answer[u].value===t?i.push(s):i.push(c.answer[u]));r.push({description:e.description,language:e.language,status:e.status,title:e.title,answer:i})}else r.push(c)}}catch(d){o.e(d)}finally{o.f()}n.setState({question:r})},n.addAnswerSingleMultiple=function(e,t){var s,a=[],r=[],o=Object(l.a)(n.state.question);try{for(o.s();!(s=o.n()).done;){var c=s.value;e.language===c.language?(r=c.answer,Object(W.a)(n.props.questionTypes.questionTypes,n.state.type)===Q.c.MultipleChoice&&r.push(t),Object(W.a)(n.props.questionTypes.questionTypes,n.state.type)===Q.c.SingleMultiple&&(!0===t.status&&0!==c.answer.filter((function(e){return!0===e.status})).length?r.push({id:t.id,value:t.value,status:!1}):r.push(t)),a.push({description:e.description,language:e.language,status:e.status,title:e.title,answer:r})):a.push(c)}}catch(i){o.e(i)}finally{o.f()}n.setState({question:a})},n.removeAnswerSingleMultiple=function(e,t){if(!0===window.confirm("Are you sure do ypu want to delete?")){var s,a=[],r=Object(l.a)(n.state.question);try{for(r.s();!(s=r.n()).done;){var o=s.value,c=o.answer.filter((function(e){return e.id!==t.id}));a.push({description:o.description,language:o.language,status:o.status,title:o.title,answer:c})}}catch(i){r.e(i)}finally{r.f()}n.setState({question:a})}},n.editSingleMultipleStatus=function(e,t){var s,a=[],r=Object(l.a)(n.state.question);try{for(r.s();!(s=r.n()).done;){var o,c=s.value,i=[],u=Object(l.a)(c.answer);try{for(u.s();!(o=u.n()).done;){var d=o.value;!0===d.status?i.push({id:d.id,value:d.value,status:!1}):d.id===e?i.push({id:d.id,value:d.value,status:t}):i.push(d)}}catch(b){u.e(b)}finally{u.f()}a.push({description:c.description,language:c.language,status:c.status,title:c.title,answer:i})}}catch(b){r.e(b)}finally{r.f()}n.setState({question:a})},n.setAddChapter=function(e){void 0===n.state.chapters.find((function(t){return t===e}))?n.setState({chapters:[].concat(Object(q.a)(n.state.chapters),[e])}):n.setState({chapters:n.state.chapters.filter((function(t){return t!==e}))})},n.submitEditedQuestion=Object(N.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,n.props.UpdateQuestion({id:n.state.id,course:n.state.course,question:n.state.question,type:n.state.type,chapters:n.state.chapters,customNumber:n.state.customNumber,marks:n.state.marks,answer:n.state.answer},n.setLoading,n.actionStatus);case 3:!1===n.state.loading&&n.props.unSelectQuestion();case 4:case"end":return e.stop()}}),e)}))),n.componentDidMount=function(){null!==n.props.questionTypes.questionTypes&&0!==n.props.questionTypes.questionTypes.length||n.props.loadQuestionTypes(n.setLoading),null!==n.props.course.courses&&0!==n.props.course.courses.length||n.props.loadCourses(n.setLoading)},n.setSelectedCourse=function(e){null!==e&&(n.setState({course:e.course_id}),n.setState({showFilter:!1}),n.setState({chapters:[]}),n.setState({showQuestionChapters:!0}))},n.setSelectedKey=function(e){n.setState({selectedKey:e})},n.updateMarks=function(e){e&&n.setState({marks:e})},n.state={loading:!1,id:n.props.selectedQuestion.id,course:n.props.selectedQuestion.course,question:n.props.selectedQuestion.question,type:n.props.selectedQuestion.type,chapters:n.props.selectedQuestion.chapters,customNumber:n.props.selectedQuestion.customNumber,marks:n.props.selectedQuestion.marks,answer:n.props.selectedQuestion.answer,selectedLanguage:Q.a[0],showFilter:!1,selectedKey:null,showQuestionChapters:!1},n}return Object(r.a)(s,[{key:"render",value:function(){var e,t,s=this;return Object(A.jsxs)(i.Fragment,{children:[!0===this.state.loading?Object(A.jsx)("div",{className:"bg-white rounded px-4 py-5 mt-4",children:Object(A.jsx)(f.a,{type:V.a.white})}):Object(A.jsxs)("div",{className:"bg-gray-100 shadow-md pb-2 rounded animate__animated animate__fadeIn animate__fast",children:[Object(A.jsx)("div",{className:"flex flex-col items-center justify-between",children:Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between relative bottom-0 bg-white border-t-4 border-blue-500 w-full py-2 px-2 shadow-md",children:[Object(A.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(A.jsxs)("div",{onClick:function(){return s.props.unSelectQuestion()},className:"btn cursor-pointer bg-gray-100 text-gray-500 hover:bg-gray-200 h-full flex flex-row gap-2 items-center",children:[Object(A.jsx)(G.a,{className:"text-xl"})," Back to list"]}),Object(A.jsx)("div",{className:"text-xl font-extrabold text-gray-600",children:"Edit question"})]}),Object(A.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(A.jsx)("div",{className:"flex flex-row items-center justify-end",children:Q.a.map((function(e,t){return Object(A.jsx)("div",{onClick:function(){return s.setState({selectedLanguage:e})},className:"".concat(s.state.selectedLanguage.key===e.key?"text-blue-600 bg-blue-50 rounded font-bold":"text-gray-600"," text-center text-sm px-3 py-2 cursor-pointer hover:bg-blue-50 hover:text-blue-600 hover:border-blue-600"),children:e.value},t+1)}))}),Object(A.jsx)("div",{onClick:function(){return s.submitEditedQuestion()},className:"btn cursor-pointer bg-blue-600 text-white",children:"Save changes"})]})]})}),Object(A.jsxs)("form",{onSubmit:this.submitEditedQuestion,className:"px-2 py-2",children:[Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between border mb-3 text-sm gap-1 bg-white px-4 py-3 rounded",children:[Object(A.jsxs)("div",{className:"flex flex-col",children:[Object(A.jsx)("label",{className:"text-gray-600 font-bold",children:"Selected course"}),Object(A.jsxs)("span",{className:"font-bold text-blue-600 flex flex-row items-center gap-2",children:[null!==this.props.course.courses&&(null===(e=this.props.course.courses.find((function(e){return e.course_id===s.state.course})))||void 0===e?void 0:e.course_code)," - \xa0",null!==this.props.course.courses&&(null===(t=this.props.course.courses.find((function(e){return e.course_id===s.state.course})))||void 0===t?void 0:t.course_name)]})]}),Object(A.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[0===this.state.chapters.length?Object(A.jsx)("div",{onClick:function(){return s.setState({showQuestionChapters:!0})},className:"bg-yellow-100 hover:bg-yellow-700 text-yellow-700 hover:text-white rounded px-3 py-2 cursor-pointer font-bold",children:"Add chapters"}):Object(A.jsxs)("div",{onClick:function(){return s.setState({showQuestionChapters:!0})},className:"bg-blue-50 hover:bg-blue-200 text-blue-600 hover:text-blue-800 rounded px-3 py-2 cursor-pointer font-bold",children:["Edit chapters (",this.state.chapters.length,")"]}),Object(A.jsx)("div",{onClick:function(){return s.setState({showFilter:!0})},className:"bg-gray-100 text-gray-600 rounded-full flex items-center justify-center h-12 w-12 cursor-pointer hover:bg-blue-100 hover:text-blue-600",children:Object(A.jsx)(I.X,{className:"text-3xl"})})]})]}),Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between mb-3 text-sm bg-white px-4 py-3 rounded border gap-2",children:[Object(A.jsxs)("div",{className:"flex flex-col w-full",children:[Object(A.jsxs)("div",{className:"text-gray-600 font-bold flex flex-row items-center justify-between",children:["Question title",null!==this.state.selectedKey&&this.state.selectedKey===n.Title&&Object(A.jsx)("div",{onClick:function(){return s.setState({selectedKey:null})},className:"bg-blue-100 text-blue-600 rounded-full flex items-center justify-center h-12 w-12 cursor-pointer hover:bg-blue-200 hover:text-blue-700",children:Object(A.jsx)(M.a,{className:"text-3xl"})})]}),this.state.selectedKey!==n.Title&&Object(A.jsx)("label",{className:"text-blue-600 font-bold flex flex-row gap-2 items-center",children:this.QuestionLang(this.state.question).title}),null!==this.state.selectedKey&&this.state.selectedKey===n.Title&&Object(A.jsx)(X,{languages:Q.a,questionItems:this.state.question,selectedKey:this.state.selectedKey,handleUpdateQuestionDetails:this.handleUpdateQuestionDetails})]}),this.state.selectedKey!==n.Title&&Object(A.jsx)("div",{onClick:function(){return s.setState({selectedKey:n.Title})},className:"bg-gray-100 text-gray-600 rounded-full flex items-center justify-center h-12 w-12 cursor-pointer hover:bg-blue-100 hover:text-blue-600",children:Object(A.jsx)(I.X,{className:"text-3xl"})})]}),Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between mb-3 text-sm bg-white border px-4 py-3 rounded gap-2",children:[Object(A.jsxs)("div",{className:"flex flex-col w-full",children:[Object(A.jsxs)("div",{className:"text-gray-600 font-bold flex flex-row items-center justify-between",children:["Question details",null!==this.state.selectedKey&&this.state.selectedKey===n.Description&&Object(A.jsx)("div",{onClick:function(){return s.setState({selectedKey:null})},className:"bg-blue-100 text-blue-600 rounded-full flex items-center justify-center h-12 w-12 cursor-pointer hover:bg-blue-200 hover:text-blue-700",children:Object(A.jsx)(M.a,{className:"text-3xl"})})]}),this.state.selectedKey!==n.Description&&Object(A.jsx)("label",{className:"text-blue-600 font-bold flex flex-row gap-2 items-center",children:this.QuestionLang(this.state.question).description}),null!==this.state.selectedKey&&this.state.selectedKey===n.Description&&Object(A.jsx)(X,{languages:Q.a,questionItems:this.state.question,selectedKey:this.state.selectedKey,handleUpdateQuestionDetails:this.handleUpdateQuestionDetails})]}),this.state.selectedKey!==n.Description&&Object(A.jsx)("div",{onClick:function(){return s.setState({selectedKey:n.Description})},className:"bg-gray-100 text-gray-600 rounded-full flex items-center justify-center h-12 w-12 cursor-pointer hover:bg-blue-100 hover:text-blue-600",children:Object(A.jsx)(I.X,{className:"text-3xl"})})]}),Object(A.jsx)(K,{selectedQuestionType:Object(W.a)(this.props.questionTypes.questionTypes,this.state.type),selectedQuestionItem:this.QuestionLang(this.state.question),wholeQuestion:this.state.question,selectedLanguage:this.state.selectedLanguage,updateAnswerSingleMultiple:this.updateAnswerSingleMultiple,addAnswerSingleMultiple:this.addAnswerSingleMultiple,removeAnswerSingleMultiple:this.removeAnswerSingleMultiple,selectedKey:this.state.selectedKey,setSelectedKey:this.setSelectedKey,editSingleMultipleStatus:this.editSingleMultipleStatus,marks:this.state.marks,updateMarks:this.updateMarks})]})]}),!0===this.state.showFilter&&Object(A.jsx)(j.c,{title:"Filter courses by school levels",backDrop:!0,theme:j.b.default,close:function(){return s.setState({showFilter:!1})},backDropClose:!0,widthSizeClass:j.a.large,displayClose:!0,padding:{title:!0},children:Object(A.jsx)(D.a,{setSelectedCourse:this.setSelectedCourse,selected_course_id:this.state.course})}),!0===this.state.showQuestionChapters&&Object(A.jsxs)(j.c,{title:"Question course chapters",backDrop:!0,theme:j.b.default,close:function(){return s.setState({showQuestionChapters:!1})},backDropClose:!0,widthSizeClass:j.a.large,displayClose:!0,padding:{title:!0},children:[null!==this.props.course.selected_course&&Object(A.jsx)(U,{selectedCourse:this.props.course.courses&&this.props.course.courses.find((function(e){return e.course_id===s.state.course})),addedChapters:this.state.chapters,setAddChapter:this.setAddChapter}),Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between mt-3 px-2 py-2",children:[Object(A.jsx)("div",{className:""}),Object(A.jsx)("div",{className:"btn bg-blue-600 text-white cursor-pointer",onClick:function(){return s.setState({showQuestionChapters:!1})},children:"Done"})]})]})]})}}]),s}(i.Component),Y=Object(x.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes,system:e.system}}),{loadCourses:p.S,loadSchoolLevels:p.Y,loadEducationCategories:p.T,setSelectedEducationCategory:p.eb,setSelectedSchoolLevel:p.hb,setUploadedQuestions:p.ib,loadQuestionTypes:p.X,PushPopupAlert:p.D,UpdateQuestion:p.G})(z),H=Object(x.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes}}),{loadCourses:p.S,loadSchoolLevels:p.Y,loadEducationCategories:p.T,setSelectedEducationCategory:p.eb,setSelectedSchoolLevel:p.hb,setUploadedQuestions:p.ib,loadQuestionTypes:p.X,loadQuestionBank:p.W})((function(e){var t,s=Object(i.useState)(null),n=Object(_.a)(s,2),l=n[0],a=n[1],r=Object(i.useState)(null),o=Object(_.a)(r,2),c=o[0],b=o[1],h=Object(i.useState)(!1),x=Object(_.a)(h,2),p=x[0],j=x[1],v=Object(i.useState)(0),m=Object(_.a)(v,2),y=m[0],w=m[1],L=Object(i.useState)(null),k=Object(_.a)(L,2),q=k[0],Q=k[1],D=function(){var e=Object(N.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t.type||"application/vnd.ms-excel"===t.type||"text/csv"===t.type){e.next=4;break}return e.abrupt("return",b({element:"questions",msg:"Invalid file, Please choose excel file or svg file"}));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var t=Object(N.a)(O.a.mark((function t(s){var n,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),b(null),null!==l){t.next=6;break}return t.abrupt("return",b({element:"questions",msg:"Please select a file"}));case 6:if(0!==l.size){t.next=10;break}return t.abrupt("return",b({element:"questions",msg:"Invalid file, Please choose a real file"}));case 10:if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===l.type||"application/vnd.ms-excel"===l.type||"text/csv"===l.type){t.next=14;break}return t.abrupt("return",b({element:"questions",msg:"Invalid file, Please choose excel file or svg file"}));case 14:return j(!0),e.setUploadingStatus(!0),t.prev=16,(n=new FormData).append("course",e.selectedCourse.course_id),n.append("file",l),t.next=22,C.a.post("".concat(E.a.QBank,"/question"),n,{onUploadProgress:function(e){var t=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100;w(t)}});case 22:201===(a=t.sent).status&&e.setUploadedQuestions(a.data),console.log("Questions: ",a),t.next=31;break;case 27:t.prev=27,t.t0=t.catch(16),console.log("Err: ",Object(g.a)({},t.t0)),t.t0.response&&t.t0.response.data&&t.t0.response.data.errors&&b({element:"questions",msg:t.t0.response.data.errors[0].message});case 31:j(!1),e.setUploadingStatus(!1);case 33:case"end":return t.stop()}}),t,null,[[16,27]])})));return function(e){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){null===e.questionBank.questions&&e.loadQuestionBank(j)}),[e]),Object(A.jsx)(i.Fragment,{children:null===e.questionBank.uploadedQuestions?Object(A.jsxs)("div",{className:"",children:[Object(A.jsxs)("div",{className:"flex flex-row justify-between items-center rounded px-3 py-2 bg-white animate__animated animate__fadeIn shadow",children:[Object(A.jsxs)("div",{className:"flex flex-col",children:[Object(A.jsx)("span",{className:"font-bold text-blue-600 text-lg truncate",children:null!==e.course.selected_course&&e.course.selected_course.course_name}),Object(A.jsxs)("span",{className:"text-xs font-bold text-gray-500 truncate",children:["Course code: ",e.course.selected_course&&e.course.selected_course.course_code]})]}),Object(A.jsx)("div",{className:"btn bg-blue-50 text-blue-500 hover:bg-blue-100 hover:text-blue-700  cursor-pointer",children:"Download template"})]}),Object(A.jsxs)("form",{onSubmit:M,children:[Object(A.jsx)("div",{className:"my-2",children:Object(A.jsxs)("label",{className:"w-full flex flex-col items-center px-4 py-6 tracking-wide rounded border border-gray-400 bg-white ".concat(!0===p?"cursor-not-allowed hover:bg-gray-100 bg-gray-100 text-gray-400":"cursor-pointer hover:border-blue-600 border-gray-100 text-blue-600 hover:text-blue-700"),children:[Object(A.jsx)(d.e,{className:"text-4xl"}),Object(A.jsx)("span",{className:"mt-2 text-base leading-normal",children:"Click to select a file"}),!1===p&&Object(A.jsx)("input",{onChange:function(e){b(null),e.target.files&&e.target.files.length>0&&!1===p&&(a(e.target.files[0]),D(e.target.files[0]))},type:"file",className:"hidden"})]})}),null!==l&&Object(A.jsxs)("div",{className:"rounded bg-blue-50 px-3 py-2 flex flex-row items-center justify-between gap-2 border border-blue-500",children:[Object(A.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[Object(A.jsx)(u.e,{className:"text-5xl text-blue-600"}),Object(A.jsxs)("div",{className:"flex flex-col",children:[Object(A.jsxs)("span",{className:"font-bold text-blue-600 truncate",children:["File: ",l.name]}),Object(A.jsxs)("span",{className:"text-gray-500 text-xs truncate",children:["File type: ",l.type]}),Object(A.jsxs)("span",{className:"text-gray-500 text-xs",children:["Size: ",Math.round(l.size/1024)," Kbs"]})]})]}),!1===p&&Object(A.jsx)("div",{onClick:function(){a(null),b(null)},className:"btn text-sm bg-red-50 text-red-600 border border-red-200 cursor-pointer hover:bg-red-100",children:"Delete"})]}),null!==c&&"questions"===c.element&&Object(A.jsx)("div",{onClick:function(){return b(null)},className:"mt-2",children:Object(A.jsx)(S.b,{title:"Invalid",description:c.msg,theme:S.a.danger})}),!0===p&&Object(A.jsx)("div",{className:"bg-blue-200 h-6 w-full rounded mt-2",children:Object(A.jsxs)("div",{className:"h-full rounded bg-blue-500 flex flex-row items-center justify-between px-2 truncate text-xs text-white font-bold",style:{width:"".concat(y,"%")},children:[Object(A.jsx)("span",{className:"italic",children:"Uploading, Please wait..."}),Object(A.jsxs)("span",{children:[y,"%"]})]})}),!0===p?Object(A.jsx)("div",{className:"mt-5",children:Object(A.jsx)(f.a,{})}):Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between my-2",children:[Object(A.jsx)("div",{onClick:function(){return e.setSelectedCourse(null)},className:"btn cursor-pointer bg-gray-100",children:"Back"}),Object(A.jsx)("button",{type:"submit",className:"btn cursor-pointer bg-blue-600 text-white",children:"Save questions"})]})]})]}):null!==q&&!0===q.status&&null!==q.question&&(null===(t=e.questionBank.uploadedQuestions)||void 0===t?void 0:t.insertedData)?Object(A.jsx)(Y,{selectedQuestion:q.question,questionsList:e.questionBank.uploadedQuestions.insertedData,unSelectQuestion:function(){Q({status:!1,question:null})}}):Object(A.jsx)(T,{selectedCourse:e.selectedCourse,selectQuestion:function(e){Q({status:!0,question:e})},questionTypes:e.questionTypes,loadQuestionTypes:e.loadQuestionTypes})})})),J=function(e){Object(o.a)(s,e);var t=Object(c.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).setLoading=function(e){n.setState({loading:e})},n.setSearchLevel=function(e,t){n.setState({searchLevel:{educationCategory:e,schoolLevel:t}}),e&&n.props.setSelectedEducationCategory(e),t&&(n.props.setSelectedSchoolLevel(t),n.setState({showFilter:!1}))},n.setSchoolLevelFilterFn=function(e){n.setState({showFilter:e})},n.filteredCourses=function(e,t){var s=e;return null!==t&&(null!==t.schoolLevel?s=e.filter((function(e){if(e.school_levels.find((function(e){var s;return e===(null===(s=t.schoolLevel)||void 0===s?void 0:s.school_level_id)}))){var s,n=!1,a=Object(l.a)(e.school_levels);try{var r=function(){var e,l=s.value;(null===(e=t.educationCategory)||void 0===e?void 0:e.school_levels.find((function(e){return e===l})))&&(n=!0)};for(a.s();!(s=a.n()).done;)r()}catch(o){a.e(o)}finally{a.f()}return!0===n?e:null}return null})):null!==t.educationCategory&&(s=e.filter((function(e){var s,n=!1,a=Object(l.a)(e.school_levels);try{var r=function(){var e,l=s.value;(null===(e=t.educationCategory)||void 0===e?void 0:e.school_levels.find((function(e){return e===l})))&&(n=!0)};for(a.s();!(s=a.n()).done;)r()}catch(o){a.e(o)}finally{a.f()}return!0===n?e:null})))),s},n.setUploadingStatus=function(e){n.setState({uploadingStatus:e})},n.componentDidMount=function(){null!==n.props.course.courses&&0!==n.props.course.courses.length||n.props.loadCourses(n.setLoading)},n.state={loading:!1,searchLevel:null,showFilter:!1,uploadingStatus:!1,searchCourseInput:""},n}return Object(r.a)(s,[{key:"render",value:function(){var e,t,s,n,l=this;return Object(A.jsxs)(i.Fragment,{children:[Object(A.jsxs)("div",{className:"",children:[Object(A.jsxs)("div",{className:"mt-3 flex flex-row justify-between items-center",children:[Object(A.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(A.jsx)(d.e,{className:"text-gray-600 text-6xl"}),Object(A.jsxs)("div",{className:"flex flex-col",children:[Object(A.jsx)("span",{className:"text-gray-700 text-3xl font-extrabold",children:"Upload questions"}),Object(A.jsxs)("span",{className:"text-gray-600 text-sm",children:["Please make sure you have downloaded the format template before writing list of questions",Object(A.jsx)("br",{})]})]})]}),Object(A.jsx)("div",{className:"flex flex-row",children:Object(A.jsxs)(b.b,{to:"/question-bank",className:"btn bg-white text-blue-600 mr-1 flex flex-row items-center gap-2",children:[Object(A.jsx)(u.d,{className:"text-2xl"}),Object(A.jsx)("span",{children:"Question bank"})]})})]}),Object(A.jsx)("div",{className:"flex-col",children:Object(A.jsxs)("div",{className:"my-4 grid md:grid-cols-5 gap-2",children:[null===this.props.questionBank.uploadedQuestions&&Object(A.jsx)("div",{className:"animate__animated ".concat(null===this.props.course.selected_course?"md:col-span-5":"md:col-span-2 transition-all duration-500 ease-in-out"," md:flex md:flex-col min-h-full bg-white shadow rounded"),children:Object(A.jsxs)("div",{className:"py-2 px-2",children:[Object(A.jsxs)("div",{className:"flex flex-row gap-2 mb-2 items-center justify-between",children:[Object(A.jsxs)("div",{className:"flex flex-col",children:[Object(A.jsx)("div",{children:Object(A.jsx)("span",{className:"text-lg text-gray-600 font-bold",children:"Choose a course"})}),Object(A.jsxs)("div",{className:"flex flex-row items-center",children:[(null===(e=this.state.searchLevel)||void 0===e?void 0:e.educationCategory)&&Object(A.jsx)("span",{className:"bg-blue-50 rounded-full px-2 text-xs text-blue-600 font-bold",children:null===(t=this.state.searchLevel.educationCategory)||void 0===t?void 0:t.education_category_title}),(null===(s=this.state.searchLevel)||void 0===s?void 0:s.schoolLevel)&&Object(A.jsxs)("div",{className:"flex flex-row items-center",children:[Object(A.jsx)(m.a,{className:""}),Object(A.jsx)("span",{className:"bg-blue-50 rounded-full px-2 text-xs text-blue-600 font-bold",children:null===(n=this.state.searchLevel.schoolLevel)||void 0===n?void 0:n.school_level_name})]})]})]}),Object(A.jsxs)("div",{onClick:function(){null===l.props.schoolLevels.education_categories&&l.props.loadEducationCategories(l.setLoading),null===l.props.schoolLevels.school_levels&&l.props.loadSchoolLevels(l.setLoading),l.setState({showFilter:!0})},className:"btn cursor-pointer bg-blue-50 hover:bg-blue-100 text-blue-600 flex flex-row gap-1 items-center",children:[Object(A.jsx)(u.f,{className:"text-xl"}),Object(A.jsx)("span",{children:"Filter"})]})]}),Object(A.jsx)("div",{children:Object(A.jsx)("input",{onChange:function(e){return l.setState({searchCourseInput:e.target.value})},type:"text",className:"input-white h-10 text-sm border-2 border-blue-500",placeholder:"Search question by title or description"})}),Object(A.jsx)("div",{className:"mt-4",style:{minHeight:"500px"},children:!0===this.state.uploadingStatus?Object(A.jsxs)("div",{className:"my-2 flex flex-col gap-2",children:[Object(A.jsx)("div",{className:"rounded-xl bg-gray-100 h-8"}),Object(A.jsx)("div",{className:"rounded-xl bg-gray-100 h-8 w-4/5"}),Object(A.jsx)("div",{className:"rounded-xl bg-gray-100 h-8 w-5/6"}),Object(A.jsx)("div",{className:"rounded-xl bg-gray-100 h-8"}),Object(A.jsx)("div",{className:"rounded-xl bg-gray-100 h-8 w-3/4"}),Object(A.jsx)("div",{className:"rounded-xl bg-gray-100 h-8"})]}):null===this.props.course.courses?Object(A.jsx)(f.a,{}):this.props.course.courses&&0===this.filteredCourses(this.props.course.courses,this.state.searchLevel).length?Object(A.jsx)("span",{className:"text-gray-400 font-extrabold ml-2 animate__animated animate__shakeX",children:"No courses available!"}):this.props.course.courses&&Object(h.a)(this.filteredCourses(this.props.course.courses,this.state.searchLevel),this.state.searchCourseInput).map((function(e,t){return Object(A.jsxs)("div",{onClick:function(){return l.props.setSelectedCourse(e)},className:"rounded border ".concat(null!==l.props.course.selected_course&&l.props.course.selected_course.course_id===e.course_id?"bg-blue-100 border-blue-300 text-blue-600 animate__animated animate__bounceIn":"border-gray-200 hover:bg-blue-100 hover:border-blue-600 text-gray-600","  px-2 py-3 flex flex-row gap-3 items-center my-2 cursor-pointer"),children:[Object(A.jsx)("span",{className:"text-sm",children:Object(A.jsx)("div",{className:"h-8 w-8 rounded-full flex justify-center items-center text-white ".concat(null!==l.props.course.selected_course&&l.props.course.selected_course.course_id===e.course_id?"bg-blue-600 text-white":"font-bold bg-gray-500"),children:t+1})}),Object(A.jsxs)("div",{className:"flex flex-col",children:[Object(A.jsx)("span",{className:"text-md font-bold",children:e.course_name}),Object(A.jsxs)("span",{className:"text-xs",children:["Code: ",e.course_code]})]})]},t+1)}))})]})}),null!==this.props.course.selected_course&&Object(A.jsx)("div",{className:"".concat(null===this.props.questionBank.uploadedQuestions?"md:col-span-3":"md:col-span-5"," md:flex flex-col min-h-full rounded"),children:Object(A.jsx)("div",{className:"",children:Object(A.jsx)(H,{selectedCourse:this.props.course.selected_course,setUploadingStatus:this.setUploadingStatus,setSelectedCourse:this.props.setSelectedCourse})})})]})})]}),!0===this.state.showFilter&&Object(A.jsx)(j.c,{title:"Filter courses by school levels",backDrop:!0,theme:j.b.default,close:function(){return l.setState({showFilter:!1})},backDropClose:!0,widthSizeClass:j.a.medium,displayClose:!0,padding:{title:!0},children:Object(A.jsx)(v.a,{educationCategories:this.props.schoolLevels.education_categories,schoolLevels:this.props.schoolLevels.school_levels,searchLevel:this.state.searchLevel,setSearchLevel:this.setSearchLevel,setSchoolLevelFilterFn:this.setSchoolLevelFilterFn})})]})}}]),s}(i.Component),$=Object(x.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank}}),{loadCourses:p.S,setSelectedCourse:p.db,loadSchoolLevels:p.Y,loadEducationCategories:p.T,setSelectedEducationCategory:p.eb,setSelectedSchoolLevel:p.hb})(J)}}]);
//# sourceMappingURL=8.75c8bc43.chunk.js.map