(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[11],{190:function(e,t,s){"use strict";s(2);var c=s(22),o=s(27),r=s(21),i=s(1);t.a=function(e){return Object(i.jsxs)("div",{className:"-mt-4",children:[Object(i.jsx)("input",{type:"text",className:"input-white border -mt-2 mb-3",placeholder:"Search by year, name"}),null===e.applicationPeriods?Object(i.jsx)(r.a,{}):e.applicationPeriods.map((function(t,s){return Object(i.jsxs)("div",{onClick:function(){e.setSelectedPeriod(t),e.showPeriodFilter(!1)},className:"flex flex-col md:flex-row items-start md:items-center md:justify-between rounded border ".concat(!0===t.is_active?"bg-blue-50 border-blue-100":"bg-gray-50 border-gray-100 "," hover:bg-blue-100 hover:border-blue-500 px-2 py-2 cursor-pointer mb-2"),children:[Object(i.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(i.jsx)(c.b,{className:"".concat(!0===t.is_active?"text-blue-600":"text-gray-500"," text-4xl")}),Object(i.jsxs)("div",{className:"flex flex-col",children:[Object(i.jsx)("div",{className:"".concat(!0===t.is_active?"text-blue-600":"text-gray-600"," font-bold"),children:t.application_session_name}),Object(i.jsxs)("div",{className:"text-sm text-gray-500",children:[Object(i.jsx)("span",{children:"Status: "}),Object(i.jsx)("span",{className:"".concat(!0===t.is_active?"text-blue-600":"text-gray-600"),children:!0===t.is_active?"Active":"Expired"})]})]})]}),Object(i.jsxs)("div",{className:"flex flex-col items-start md:items-end md:justify-end",children:[Object(i.jsxs)("div",{className:"text-xs md:text-sm text-right text-gray-500",children:[Object(i.jsx)("span",{children:"Start: "}),Object(i.jsx)("span",{className:"".concat(!0===t.is_active?"text-blue-600":"text-gray-600"," text-right font-bold"),children:Object(o.a)(t.application_start_date,"DD/MM/YYYY")})]}),Object(i.jsxs)("div",{className:"text-xs md:text-sm text-right text-gray-500",children:[Object(i.jsx)("span",{children:"End: "}),Object(i.jsx)("span",{className:"".concat(!0===t.is_active?"text-blue-600":"text-gray-600"," text-right font-bold"),children:Object(o.a)(t.application_end_date,"DD/MM/YYYY")})]})]})]},s+1)}))]})}},195:function(e,t,s){"use strict";var c=s(3),o=s(2),r=s(54),i=s(42),a=s(37),n=s(6),l=s(193),d=s(17),u=s(1);t.a=function(e){var t,s=Object(o.useState)(!1),p=Object(c.a)(s,2),b=p[0],x=p[1];return Object(u.jsxs)(o.Fragment,{children:[Object(u.jsx)("div",{onClick:function(){return!0===e.select&&e.callBack(e.question)},className:"bg-gray-50 cursor-pointer rounded border border-gray-200 px-3 py-2 text-gray-700 hover:text-blue-600 flex flex-row items-center justify-between gap-4 ".concat(!0===e.select?"hover:bg-blue-50":"hover:bg-white"," hover:border-blue-600 mb-3"),children:Object(u.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[Object(u.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(u.jsx)("div",{children:!1===e.select?Object(u.jsxs)("div",{className:"font-bold text-blue-600",children:["(",e.number,")"]}):!0===e.status?Object(u.jsx)(i.a,{className:"text-xl text-blue-600"}):Object(u.jsx)(i.b,{className:"text-xl text-blue-600"})}),Object(u.jsxs)("div",{className:"flex flex-col truncate",children:[Object(u.jsx)("span",{className:"text-xs text-blue-600 font-bold w-max",children:e.questionTypes.questionTypes&&(null===(t=e.questionTypes.questionTypes.find((function(t){return t.id&&t.id===e.question.type})))||void 0===t?void 0:t.title)}),Object(u.jsx)("span",{className:"font-bold",children:e.question.question[0].title}),Object(u.jsx)("span",{className:"truncate text-xs",children:e.question.question[0].description})]})]}),!1===e.select&&Object(u.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(u.jsx)("div",{onClick:function(){return alert("Details")},className:"bg-gray-50 hover:bg-gray-200 rounded-full px-1 py-1 cursor-pointer",children:Object(u.jsx)(r.a,{className:"text-3xl text-gray-700"})}),Object(u.jsx)("div",{onClick:function(){return x(!0)},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 cursor-pointer",children:Object(u.jsx)(n.A,{className:"text-3xl text-blue-700"})}),Object(u.jsx)("div",{onClick:function(){return!1===e.select&&e.callBack(e.question)},className:"bg-gray-100 hover:bg-red-100 rounded-full px-1 py-1 cursor-pointer",children:Object(u.jsx)(a.m,{className:"text-3xl text-yellow-700"})})]})]})}),!0===b&&Object(u.jsx)(d.c,{title:"",backDrop:!0,theme:d.b.default,close:function(){return x(!1)},backDropClose:!0,widthSizeClass:d.a.extraLarge,displayClose:!1,padding:{title:!1},children:Object(u.jsx)("div",{className:"pt-0",children:Object(u.jsx)(l.b,{selectedQuestion:e.question,questionsList:e.questionsList,unSelectQuestion:function(){x(!1)}})})})]})}},196:function(e,t,s){"use strict";var c=s(3),o=s(2),r=s(21),i=s(12),a=s(7),n=(s(185),s(195)),l=s(1),d=Object(i.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes}}),{loadCourses:a.hb,loadSchoolLevels:a.nb,loadEducationCategories:a.ib,setSelectedEducationCategory:a.wb,setSelectedSchoolLevel:a.Cb,setUploadedQuestions:a.Db,setSelectedCourse:a.vb,loadQuestionTypes:a.mb})((function(e){var t=Object(o.useState)(!1),s=Object(c.a)(t,2),i=s[0],a=s[1],d=Object(o.useState)(""),u=Object(c.a)(d,2),p=u[0],b=u[1],x=Object(o.useState)(""),j=Object(c.a)(x,2),h=j[0],m=j[1],f=function(e,t,s){var c=s;if(""!==e&&""!==t){var o=s.filter((function(t){return t.type===e}));o.length>0&&(c=o.filter((function(e){return e.chapters.find((function(e){return e===t}))})))}else""!==e?c=s.filter((function(t){return t.type===e})):""!==t&&(c=s.filter((function(e){return e.chapters.find((function(e){return e===t}))})));return c};return Object(o.useEffect)((function(){null!==e.questionTypes.questionTypes&&0!==e.questionTypes.questionTypes.length||e.loadQuestionTypes(a)}),[e]),Object(l.jsxs)("div",{className:"bg-white animate__animated animate__fadeInLeft animate__fast px-2 py-2 gap-3 mb-2 rounded",children:[Object(l.jsxs)("div",{className:"flex flex-row items-center mb-4 gap-2 bg-blue-100 px-2 py-2 -mx-2",children:[Object(l.jsxs)("div",{className:"flex flex-col w-full",children:[Object(l.jsx)("span",{className:"text-gray-700 text-sm font-bold",children:"Question Type"}),null===e.questionTypes.questionTypes?Object(l.jsx)(r.a,{}):0===e.questionTypes.questionTypes.length?Object(l.jsx)("div",{children:"No Question types found!"}):Object(l.jsxs)("select",{onChange:function(e){b(e.target.value)},className:"input-white border border-gray-400",children:[Object(l.jsx)("option",{children:"Choose Question type"}),e.questionTypes.questionTypes.map((function(e,t){return Object(l.jsx)("option",{value:e.id,children:e.title},t+1)}))]})]}),Object(l.jsxs)("div",{className:"flex flex-col w-full",children:[Object(l.jsx)("span",{className:"text-gray-700 text-sm font-bold",children:"Question Chapters"}),void 0===e.selectedCourse.chapters?Object(l.jsx)("div",{children:"Not found!"}):0===e.selectedCourse.chapters.length?Object(l.jsx)("div",{children:"No Question types found!"}):Object(l.jsxs)("select",{onChange:function(e){m(e.target.value)},className:"input-white border border-gray-400",children:[Object(l.jsx)("option",{children:"Choose Chapter"}),e.selectedCourse.chapters.map((function(e,t){return Object(l.jsx)("option",{value:e.id,children:e.name},t+1)}))]})]})]}),!0===i?Object(l.jsx)(r.a,{}):0===f(p,h,e.questionsList.filter((function(t){return t.course===e.selectedCourse.course_id}))).length?Object(l.jsx)("div",{children:"No questions uploaded!"}):f(p,h,e.questionsList.filter((function(t){return t.course===e.selectedCourse.course_id}))).map((function(t,s){return Object(l.jsx)(n.a,{question:t,callBack:e.callBack,status:!!e.questionPaper.find((function(e){return e.id===t.id})),questionTypes:e.questionTypes,select:!0,number:s+1,questionsList:e.questionsList},s+1)}))]})}));t.a=d},197:function(e,t,s){"use strict";var c;s.d(t,"c",(function(){return c})),s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return o})),function(e){e.ABC="ABC",e.abc="abc",e.NUMBER="NUMBER",e.I="I"}(c||(c={}));var o,r=function(e){switch(e){case c.ABC:return"A,B,C";case c.abc:return"a,b,c";case c.I:return"i, ii, iii";case c.NUMBER:return"1,2,3"}},i=[{key:c.NUMBER,value:r(c.NUMBER)},{key:c.ABC,value:r(c.ABC)},{key:c.abc,value:r(c.abc)},{key:c.I,value:r(c.I)}];!function(e){e.Created="Created"}(o||(o={}))},219:function(e,t,s){"use strict";s.r(t),s.d(t,"ExamsList",(function(){return C}));var c=s(15),o=s(187),r=s(28),i=s(29),a=s(31),n=s(30),l=s(2),d=s(191),u=s(17),p=s(12),b=s(7),x=s(196),j=s(21),h=s(190),m=s(20),f=s(197),O=s(27),y=s(6),v=s(18),g=s(1),N=function(e){Object(a.a)(s,e);var t=Object(n.a)(s);function s(e){var i;return Object(r.a)(this,s),(i=t.call(this,e)).setLoading=function(e){i.setState({loading:e})},i.addQuestionToPaper=function(e){i.props.addExamQuestion(e)},i.removeToQuestionPaper=function(e){window.confirm("Are you sure do you want to remove question to question paper?")&&i.props.addExamQuestion(e)},i.showPeriodFilter=function(e){i.setState({selectPeriod:e})},i.chooseCourse=function(e){var t=!1;if(0!==i.props.prepareExam.questions.length&&(t=window.confirm("Are you sure do you want to change course? You will loose your selected questions")),!0===t){var s,c=Object(o.a)(i.props.prepareExam.questions);try{for(c.s();!(s=c.n()).done;){var r=s.value;i.props.addExamQuestion(r)}}catch(a){c.e(a)}finally{c.f()}i.props.setSelectedCourse(e)}0===i.props.prepareExam.questions.length&&i.props.setSelectedCourse(e),i.setState({selectCourse:!1})},i.examQuestionsIds=function(e){var t,s=[],r=Object(o.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;s=[].concat(Object(c.a)(s),[i.id])}}catch(a){r.e(a)}finally{r.f()}return s},i.componentDidMount=function(){null!==i.props.questionTypes.questionTypes&&0!==i.props.questionTypes.questionTypes.length||i.props.loadQuestionTypes(i.setLoading),null!==i.props.periods.applicationPeriods&&0!==i.props.periods.applicationPeriods.length||i.props.loadApplicationPeriods(i.setLoading),null!==i.props.course.courses&&0!==i.props.course.courses.length||i.props.loadCourses(i.setLoading),null===i.props.course.selected_course&&i.setState({selectCourse:!0}),null!==i.props.questionBank.questions&&0!==i.props.questionBank.questions.length||null!==i.props.course.selected_course&&i.props.loadQuestionBank(i.props.course.selected_course.course_id,i.setLoading),i.props.loadExamsList(i.setLoading)},i.state={loading:!1,selectCourse:!1,selectPeriod:!1,addQuestionModal:!1,formErr:{element:"",msg:""},questions_per_page:1,exam_date:"",start_time:"",duration:1,number_format:f.c.NUMBER,discription:"",termes:""},i}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(g.jsxs)(l.Fragment,{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"mt-3 rounded px-2 flex flex-col gap-3 bg-white py-2",children:Object(g.jsxs)("div",{className:"flex flex-row items center justify-between",children:[Object(g.jsxs)("div",{className:"flex flex-row items-center",children:[Object(g.jsx)(m.i,{className:"text-7xl text-blue-600"}),Object(g.jsxs)("div",{className:"flex flex-col px-1",children:[Object(g.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:"Exams list"}),Object(g.jsxs)("span",{className:"text-blue-600 text-sm font-bold mt-1",children:["Period: ",null===this.props.periods.selected_period?Object(g.jsx)("span",{className:"text-yellow-700 italic",children:"Not selected!"}):"".concat(this.props.periods.selected_period.application_session_name," - ").concat(!0===this.props.periods.selected_period.is_active?"Active":"Not valid!")]}),Object(g.jsxs)("span",{className:"text-blue-600 text-sm font-bold",children:["Course: ",null===this.props.course.selected_course?Object(g.jsx)("span",{className:"text-yellow-700 italic",children:"Not selected!"}):"".concat(this.props.course.selected_course.course_code," - ").concat(this.props.course.selected_course.course_name)]})]})]}),Object(g.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(g.jsx)("div",{onClick:function(){return e.setState({selectPeriod:!0})},className:"btn ".concat(null===this.props.periods.selected_period?"bg-yellow-50 hover:bg-yellow-100 border border-yellow-600 text-yellow-600":"bg-blue-50 hover:bg-blue-100 border border-blue-100 text-blue-600"," h-max flex items-center justify-center h-10 cursor-pointer"),children:null===this.props.periods.selected_period?"Choose period":"Filter by Period"}),Object(g.jsx)(v.b,{to:"prepare-exam",className:"btn ".concat(null===this.props.course.selected_course?"bg-yellow-50 hover:bg-yellow-100 border border-yellow-600 text-yellow-600":"bg-blue-600 hover:bg-blue-800 text-white"," h-max flex items-center justify-center h-10 cursor-pointer"),children:"Prepare exam"})]})]})}),!0===this.state.loading?Object(g.jsxs)("div",{className:"px-4 py-6 mt-4 bg-white rounded",children:[Object(g.jsx)("div",{className:"text-gray-600 mb-3 px-4",children:"Loading exams list, Please wait..."}),Object(g.jsx)(j.a,{})]}):Object(g.jsx)("div",{className:"rounded bg-white px-3 py-3 mt-2 mb-28",children:Object(g.jsx)("div",{className:"w-full overflow-x-auto",children:Object(g.jsxs)("table",{className:"w-full",children:[Object(g.jsx)("thead",{className:"bg-blue-50 font-bold text-gray-800",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{className:"py-2 pl-2 font-bold",children:"#"}),Object(g.jsx)("td",{className:"py-2",children:"Course"}),Object(g.jsx)("td",{className:"py-2",children:"Exam date"}),Object(g.jsx)("td",{className:"py-2",children:"Exam time"}),Object(g.jsx)("td",{className:"py-2",children:"Exam duration"}),Object(g.jsx)("td",{className:"py-2",children:"Questions"}),Object(g.jsx)("td",{className:"py-2",children:"Created at"}),Object(g.jsx)("td",{className:"py-2",children:"Period"}),Object(g.jsx)("td",{className:"py-2",children:"Exam status"}),Object(g.jsx)("td",{})]})}),Object(g.jsx)("tbody",{children:null===this.props.prepareExam.examsList?Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:6,children:Object(g.jsx)(j.a,{})})}):0===this.props.prepareExam.examsList.length?Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:6,children:Object(g.jsx)("div",{className:"rounded bg-gray-100 px-3 py-3 flex items-center justify-center",children:"No exams found!"})})}):this.props.prepareExam.examsList.map((function(t,s){var c,o,r;return Object(g.jsxs)("tr",{className:"border-b border-gray-300 text-sm",children:[Object(g.jsx)("td",{className:"pl-2 px-2 font-bold",children:s+1}),Object(g.jsxs)("td",{className:"py-2",children:[Object(g.jsx)("span",{className:"font-bold",children:e.props.course.courses&&(null===(c=e.props.course.courses.find((function(e){return e.course_id===t.course})))||void 0===c?void 0:c.course_code)}),"-",e.props.course.courses&&(null===(o=e.props.course.courses.find((function(e){return e.course_id===t.course})))||void 0===o?void 0:o.course_name)]}),Object(g.jsx)("td",{className:"py-2",children:Object(O.a)(t.exam_date,"DD/MM/YYYY")}),Object(g.jsx)("td",{className:"py-2",children:t.start_time}),Object(g.jsxs)("td",{className:"py-2",children:[t.duration," hours"]}),Object(g.jsx)("td",{className:"py-2",children:t.questions.length}),Object(g.jsx)("td",{className:"py-2",children:Object(O.a)(t.createdAt,"DD/MM/YYYY")}),Object(g.jsx)("td",{className:"py-2",children:e.props.periods.applicationPeriods&&(null===(r=e.props.periods.applicationPeriods.find((function(e){return e.application_session_id===t.period})))||void 0===r?void 0:r.application_session_name)}),Object(g.jsx)("td",{className:"py-2",children:t.exam_status}),Object(g.jsx)("td",{children:Object(g.jsx)("div",{className:"text-2xl flex items-center justify-center rounded-full bg-gray-100 hover:bg-blue-100 text-gray-600 hover:text-blue-600 h-10 w-10 float-right",children:Object(g.jsx)(y.Z,{})})})]},s+1)}))})]})})})]}),!0===this.state.selectCourse&&Object(g.jsx)(u.c,{title:"Choose a course",backDrop:!0,theme:u.b.default,close:function(){return e.setState({selectCourse:!1})},backDropClose:!0,widthSizeClass:u.a.large,displayClose:!0,padding:{title:!0},children:Object(g.jsx)(d.a,{setSelectedCourse:this.chooseCourse,selected_course_id:this.props.course.selected_course&&this.props.course.selected_course.course_id})}),!0===this.state.addQuestionModal&&Object(g.jsx)(u.c,{title:"Add exam questions",backDrop:!0,theme:u.b.default,close:function(){return e.setState({addQuestionModal:!1})},backDropClose:!0,widthSizeClass:u.a.large,displayClose:!0,padding:{title:!0},children:null===this.props.questionBank.questions?Object(g.jsx)(j.a,{}):null===this.props.course.selected_course?Object(g.jsx)("div",{children:"Please choose a course"}):Object(g.jsx)(x.a,{selectedCourse:this.props.course.selected_course,callBack:this.addQuestionToPaper,questionsList:this.props.questionBank.questions,questionPaper:this.props.prepareExam.questions})}),!0===this.state.selectPeriod&&Object(g.jsx)(u.c,{title:"Choose a period",backDrop:!0,theme:u.b.default,close:function(){return e.setState({selectPeriod:!1})},backDropClose:!0,widthSizeClass:u.a.large,displayClose:!0,padding:{title:!0},children:Object(g.jsx)("div",{className:"px-2",children:Object(g.jsx)(h.a,{applicationPeriods:this.props.periods.applicationPeriods,setSelectedPeriod:this.props.setSelectedPeriod,showPeriodFilter:this.showPeriodFilter})})})]})}}]),s}(l.Component),C=Object(p.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes,prepareExam:e.prepareExam,periods:e.periods,system:e.system}}),{loadCourses:b.hb,loadSchoolLevels:b.nb,loadEducationCategories:b.ib,setSelectedEducationCategory:b.wb,setSelectedSchoolLevel:b.Cb,setUploadedQuestions:b.Db,loadQuestionTypes:b.mb,loadQuestionBank:b.lb,setSelectedCourse:b.vb,addExamQuestion:b.V,loadApplicationPeriods:b.fb,setSelectedPeriod:b.zb,PushPopupAlert:b.Q,loadExamsList:b.kb})(N)}}]);
//# sourceMappingURL=11.a4b319f3.chunk.js.map