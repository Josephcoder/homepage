(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[37,4,43],{191:function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"g",(function(){return i})),s.d(t,"e",(function(){return a})),s.d(t,"c",(function(){return r})),s.d(t,"d",(function(){return c})),s.d(t,"i",(function(){return o})),s.d(t,"h",(function(){return l})),s.d(t,"a",(function(){return d})),s.d(t,"f",(function(){return u}));var n=[{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"7322342684"},{school_id:"32762426329",school_title:"Rucee De Kigali",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"73232432684",number_of_females:10,number_of_males:12}],i=function(e){return null===e||null!==e.match(/^ *$/)},a=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},r=function(e,t){return e.find((function(e){return e.education_institute_id===t}))},c=function(e,t){return console.log({positions:e,position_id:t,data:e.filter((function(e){return e.position_id===t}))[0]}),e.filter((function(e){return e.position_id===t}))[0]},o=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=new Array(t+1).join("0");return(s+e).slice(-t)},d=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},u=function(e){var t=new Date(e),s=new Date;return t.getTime()<s.getTime()}},193:function(e,t,s){"use strict";var n=s(23),i=s(4),a=s(195),r=s(8),c=s(1);t.a=function(e){var t,s,o=e.rows,l=e.columns,d=e.hideColumns,u=void 0!==d&&d,b=e.pagination,h=void 0!==b&&b,p=e.search,m=void 0!==p&&p,f=e.tableSize,x=void 0===f?"w-full":f,j=e.tableClass,g=e.tableId,O=void 0===g?"myTable":g,_=e.rounded,v=void 0!==_&&_,y=e.searchBG,N=void 0===y?"bg-gray-200":y,w=e.thColor,S=void 0===w?"blue":w,E=e.loading,T=void 0!==E&&E;O="myTable"===O?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=s.length,i=0;i<e;i++)t+=s.charAt(Math.floor(Math.random()*n));return t}():O;var P=Object(i.useState)(0),C=Object(n.a)(P,2),I=C[0],k=C[1],A=Object(i.useState)(1),D=Object(n.a)(A,2),R=D[0],L=D[1],q=Object(i.useState)(1),F=Object(n.a)(q,2),M=F[0],U=F[1],W=Object(i.useState)(),B=Object(n.a)(W,2),H=B[0],V=B[1],G=Object(i.useState)(10),z=Object(n.a)(G,2),J=z[0],Y=z[1],K=Object(i.useState)(0),Q=Object(n.a)(K,2),X=Q[0],Z=Q[1],$=Object(i.useState)(0),ee=Object(n.a)($,2),te=ee[0],se=ee[1];Object(i.useEffect)((function(){h&&ne()}));var ne=function(){t=document.getElementById(O),s=t.getElementsByTagName("tr"),k(s.length),L(Math.ceil(I/J)),Z((M-1)*J),se(Math.min(X+J-1,I-1));var e=Array.from(Array(R+1-1).keys()).map((function(e){return 1+e}));H&&e.length===H.length||V(e);for(var n=0;n<s.length;n++)s[n].style.display=n>=X&&n<=te?"":"none"};return Object(c.jsxs)("div",{className:"".concat(x),children:[m&&Object(c.jsx)("div",{className:"".concat(N," w-full mb-2"),children:m&&Object(c.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(c.jsx)(r.Bb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(c.jsx)("input",{type:"search",placeholder:"search",onChange:function(e){return function(e,s){var n,i,a,r,c;for("field"===s&&"all"===e&&(e=""),n=e.toLowerCase(),i=(t=document.getElementById(O)).getElementsByTagName("tr"),r=0;r<i.length;r++)for(c=0;c<l.length;c++)if(a=i[r].getElementsByTagName("td")[c]){if((a.textContent||a.innerText).toLowerCase().indexOf(n)>-1){i[r].style.display="";break}i[r].style.display="none"}}(e.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:T}),h&&Object(c.jsx)("div",{className:"select",children:Object(c.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(e){return Y(Number(e.target.value))},disabled:T,children:[Object(c.jsx)("option",{value:"10",children:"10"}),Object(c.jsx)("option",{value:"25",children:"25"}),Object(c.jsx)("option",{value:"50",children:"50"}),Object(c.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(c.jsxs)("table",{className:j||"w-full shadow ".concat(v&&"sm:rounded-lg"," table-auto order-table"),id:O,children:[!u&&Object(c.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(c.jsx)("tr",{className:"text-left tracking-wide bg-".concat(S,"-100 border-b-2 border-").concat(S,"-500 text-").concat(S,"-600"),children:l.map((function(e,t){return Object(c.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,s,n,i,a,r,c,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(n=!0,t=document.getElementById(e))for(;n;){for(n=!1,s=t.rows,i=1;i<s.length-1;i++)if(c=!1,a=s[i].getElementsByTagName("TD")[o],r=s[i+1].getElementsByTagName("TD")[o],"asc"===l&&a&&r){if(a.innerHTML.toLowerCase()>r.innerHTML.toLowerCase()){c=!0;break}}else if("desc"===l&&a&&r&&a.innerHTML.toLowerCase()<r.innerHTML.toLowerCase()){c=!0;break}c&&s[i].parentNode?(s[i].parentNode.insertBefore(s[i+1],s[i]),n=!0,d++):0===d&&"asc"===l&&(l="desc",n=!0)}}(O,t)},children:Object(c.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(c.jsx)(a.i,{})]})},t)}))})}),Object(c.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:o()})]}),h&&Object(c.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",J," of ",I-1," Entries"]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==M&&"bg-white"),"aria-label":"Previous",disabled:1===M||T,onClick:function(){return U(M-1)},children:Object(c.jsx)(r.gb,{className:"h-5 w-5"})})}),Object(c.jsx)("div",{children:H&&H.map((function(e,t){return Object(c.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(e!==M?"bg-white":"bg-gray-100 cursor-default"),disabled:e===M||T,onClick:function(){return U(e)},children:e},t)}))}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(M!==R&&"bg-white"),"aria-label":"Next",disabled:M===R||T,onClick:function(){return U(M+1)},children:Object(c.jsx)(r.hb,{className:"h-5 w-5"})})})]})})]})]})}},198:function(e,t,s){"use strict";s.d(t,"b",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"d",(function(){return f})),s.d(t,"c",(function(){return x}));var n=s(19),i=s(18),a=s(21),r=s(20),c=s(4),o=s.n(c),l=s(17),d=s(3),u=s(8),b=s(1),h=function(e){Object(a.a)(s,e);var t=Object(r.a)(s);function s(e){var i;return Object(n.a)(this,s),(i=t.call(this,e)).componentDidMount=function(){return i.props.PageHasSubNav(!0)},i.componentWillUnmount=function(){return i.props.PageHasSubNav(!1)},i.state={loading:!1},i}return Object(i.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(b.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(o.a.Component),p=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.mb,PageHasSubNav:d.nb})(h),m=function(e){var t=e.title,s=void 0===t?"":t,n=e.icon,i=void 0===n?u.m:n,a=e.active,r=void 0!==a&&a,c=e.count,o=void 0===c?0:c,l=i;return Object(b.jsxs)("section",{className:"".concat(!0===r?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(b.jsxs)("section",{className:"flex-1",children:[Object(b.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(b.jsx)("span",{children:s})]}),o>0?Object(b.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:o}):null]})},f=function(e){var t=e.children;return Object(b.jsx)("div",{className:"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer",children:t})},x=function(e){var t=e.title,s=void 0===t?"":t,n=e.icon,i=void 0===n?u.m:n,a=e.active,r=void 0!==a&&a,c=e.count,o=void 0===c?0:c,l=i;return Object(b.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster ".concat(!0===r?"bg-blue-500 text-white font-bold":" text-blue-800"," text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),children:[Object(b.jsx)(l,{className:"inline-block mr-0.1 text-xs ".concat(!0===r?"text-white":"")}),Object(b.jsx)("span",{className:"inline-block pl-1 ".concat(!0===r?"text-white":""),children:s}),o>=1?Object(b.jsx)("span",{className:"text-sm fint-bold ".concat(!0===r?"text-white":""),children:o}):null]})}},207:function(e,t,s){"use strict";s.d(t,"g",(function(){return b})),s.d(t,"d",(function(){return h})),s.d(t,"e",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"i",(function(){return f})),s.d(t,"c",(function(){return x})),s.d(t,"f",(function(){return j})),s.d(t,"b",(function(){return g})),s.d(t,"h",(function(){return O}));var n=s(5),i=s.n(n),a=s(7),r=s(9),c=s.n(r),o=s(6),l=s(10),d=s(12),u=s(13),b=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(l.a.AUTH,"/settings"));case 5:n=t.sent,s({type:o.a.GET_SYSTEM_SETTINGS,payload:n.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(l.a.APPLICATION,"/applicationsesion"));case 5:n=t.sent,s({type:o.a.GET_APPLICATION_SESSIONS,payload:n.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_APPLICATION_SESSIONS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return console.log({check:e}),function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_APPLICATION_SESSIONS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DISABLE_APPLICATION_SESSION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(l.a.APPLICATION,"/position"));case 5:n=t.sent,s({type:o.a.GET_POSTIONS,payload:n.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return console.log({deletePosition:e}),function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},224:function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return a}));var n,i,a,r=s(42);!function(e){e.INITIATED="initiated",e.CONFIRMED="confirmed",e.RECEIVED="received"}(n||(n={})),function(e){e.Title="title",e.Description="description",e.Files="files",e.email="email",e.names="names",e.phone_number="phone_number",e.position="position",e.relation="relation",e.src="src",e.year="year",e.company="company",e.category_subcategory_data="category_subcategory_data",e.others="others",e.start_year="start_year",e.end_year="end_year",e.School="School"}(i||(i={})),function(e){e.APPROVED="approved",e.REJECTED="rejected"}(a||(a={}));r.c.APPLICATION,r.c.DOCUMENT_VALIDATION,r.c.EXAMINATION,r.c.MARKS_PUBLICATION,r.c.PLACEMENT_TRANSFER},226:function(e,t,s){"use strict";s(4);var n=s(193),i=s(1);t.a=function(e){return Object(i.jsx)("div",{children:Object(i.jsx)(n.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Document",alignText:"left",padding:"p-3"},{columnTitle:"Status",alignText:"left",padding:"p-3"}],rows:function(){var t=e.requirements;return 0===t.length?[Object(i.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(i.jsx)("td",{className:"p-3 text-center",colSpan:3,children:"No Data Found"})},153)]:t.map((function(e,t){return Object(i.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(i.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(i.jsx)("td",{className:"p-3 text-left",children:Object(i.jsx)("span",{children:e.subcategory_title+" in "+e.field_title})}),Object(i.jsx)("td",{className:"p-3 text-left text-lg italic",children:e.required?Object(i.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional"})]},t+e.field_id)}))},pagination:!1,search:!1,thColor:"gray"})})}},245:function(e,t,s){"use strict";s.d(t,"g",(function(){return u})),s.d(t,"a",(function(){return b})),s.d(t,"e",(function(){return h})),s.d(t,"c",(function(){return p})),s.d(t,"b",(function(){return m})),s.d(t,"f",(function(){return f})),s.d(t,"d",(function(){return x}));var n=s(5),i=s.n(n),a=s(7),r=s(9),c=s.n(r),o=s(6),l=s(10),d=s(13),u=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,c.a.get("".concat(l.a.APPLICATION,"/roomlocation"));case 4:n=t.sent,s({type:o.a.GET_ALL_ROOM,payload:n.data}),e(!1,""),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return console.log({data:e}),function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return console.log({data:e}),function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return console.log({data:e}),function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return console.log({delete_room:e}),function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},421:function(e,t,s){"use strict";s.d(t,"f",(function(){return u})),s.d(t,"a",(function(){return b})),s.d(t,"g",(function(){return h})),s.d(t,"c",(function(){return p})),s.d(t,"e",(function(){return m})),s.d(t,"b",(function(){return f})),s.d(t,"h",(function(){return x})),s.d(t,"d",(function(){return j}));var n=s(5),i=s.n(n),a=s(7),r=s(6),c=(s(191),s(12),s(9)),o=s.n(c),l=s(10),d=s(13),u=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,o.a.get("".concat(l.a.APPLICATION,"/schools"));case 4:n=t.sent,s({type:r.a.GET_SCHOOLS,payload:n.data}),e(!1,""),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return console.log({schools:e}),function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:r.a.CREATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:r.a.UPDATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:r.a.DELETE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t){return function(){var s=Object(a.a)(i.a.mark((function s(n){var a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,o.a.get("".concat(l.a.PLACEMENT,"/requestpost/school/").concat(e));case 4:a=s.sent,console.log({schoolPosts:a.data}),n({type:r.a.FETCH_SCHOOL_POSTS,payload:a.data}),t(!1,""),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:r.a.CREATE_SCHOOL_POST,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return console.log({TYPE:e,data:t}),function(){var s=Object(a.a)(i.a.mark((function s(n){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n({type:r.a.UPDATE_SCHOOL_POST,payload:{TYPE:e,data:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},j=function(e,t){return function(){var s=Object(a.a)(i.a.mark((function s(n){var a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,o.a.get("".concat(l.a.PLACEMENT,"/requestpost/district/").concat(e));case 4:a=s.sent,console.log({districtPosts:a}),n({type:r.a.FETCH_DISTRICT_POSTS,payload:a.data}),t(!1,""),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()}},456:function(e,t,s){"use strict";s.r(t),s.d(t,"getSchoolById",(function(){return I})),s.d(t,"Schools",(function(){return A}));var n=s(11),i=s(5),a=s.n(i),r=s(7),c=s(19),o=s(18),l=s(21),d=s(20),u=s(9),b=s.n(u),h=s(4),p=s.n(h),m=s(82),f=s(195),x=s(50),j=s(8),g=s(17),O=s(3),_=s(245),v=s(421),y=s(33),N=s(198),w=s(193),S=s(25),E=s(191),T=s(10),P=s(13),C=s(1),I=function(e,t){return e.filter((function(e){return e._id===t}))[0]},k=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).setLoading=function(e){i.setState({loading:e})},i.setLoadingRequest=function(e){i.setState({loadingRequest:e})},i.setError=function(e){i.setState({error:e})},i.loadDistrict=Object(r.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(T.a.APPLICATION,"/district"));case 3:t=e.sent,i.setState({district:t.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error({code_error:e.t0}),i.props.PushPopupAlert({title:Object(P.a)(e.t0),theme:S.a.danger});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),i.componentDidMount=function(){null!==i.props.education_categories&&0!==i.props.education_categories.length||i.props.loadEducationCategories(i.setLoading),i.props.allRoom.length||i.props.getAllRoom((function(e,t){!e&&t.length>0&&console.log(t)})),!i.props.schools.length&&i.state.loading&&i.props.getSchools((function(e,t){console.log(e,t),i.setLoading(e),t.length>0&&console.error({loadingCandidatesError:t})})),i.state.district.length||i.loadDistrict(),i.props.schools.length&&(i.setState({schoolList:i.props.schools}),i.setLoading(!1))},i.tableData=function(){return i.state.schoolList.length?i.state.schoolList.map((function(e,t){return Object(C.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(C.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(C.jsx)("td",{className:"p-3 text-left",children:e.school_name}),Object(C.jsx)("td",{className:"py-3 px-5 text-left",children:i.props.education_categories&&i.props.education_categories.filter((function(t){return t.education_institute_id===e.education_category_id})).length>0?i.props.education_categories.filter((function(t){return t.education_institute_id===e.education_category_id}))[0].education_category_title:"No Institute"}),Object(C.jsx)("td",{className:"py-3 px-5 text-left",children:i.state.district&&i.state.district.filter((function(t){return t.district_id===e.district_id})).length>0?i.state.district.filter((function(t){return t.district_id===e.district_id}))[0].district_name:"No district"}),Object(C.jsx)("td",{className:"px-3",children:Object(C.jsxs)("div",{className:"flex items-center gap-2 float-right",children:[Object(C.jsxs)("button",{className:"bg-blue-600 text-white font-bold py-1 px-2 flex items-center rounded focus:outline-none ".concat(i.state.loadingRequest?"cursor-not-allowed":null),title:"Edit School",disabled:i.state.loadingRequest,onClick:function(){i.setState({modalState:"UPDATE",thisSchool:e,schoolName:e.school_name,instituteId:e.education_category_id,districtId:e.district_id,provinceId:i.props.allRoom.find((function(t){return t.districts.find((function(t){return t.district_id===e.district_id}))}))?i.props.allRoom.find((function(t){return t.districts.find((function(t){return t.district_id===e.district_id}))})).province_id:""})},children:[Object(C.jsx)(j.eb,{className:"w-4 h-4"}),"Edit"]}),Object(C.jsxs)("button",{className:"bg-red-700 text-white font-bold py-1 px-2 flex items-center rounded focus:outline-none ".concat(i.state.loadingRequest?"cursor-not-allowed":null),title:"Delete",disabled:i.state.loadingRequest,onClick:function(){return i.handleDelete(e._id)},children:[Object(C.jsx)(j.eb,{className:"w-4 h-4"}),"Delete"]})]})})]},t+e._id)})):[Object(C.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(C.jsx)("td",{className:"p-3 text-center",colSpan:5,children:"No School Found"})},1)]},i.handleSubmit=function(){var e=Object(r.a)(a.a.mark((function e(t){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i.state.schoolName.length){e.next=3;break}return e.abrupt("return",i.setError({element:"school_name",msg:"School name is required"}));case 3:if(i.state.instituteId.length){e.next=5;break}return e.abrupt("return",i.setError({element:"edication_id",msg:"Education Institute is required"}));case 5:if(i.state.districtId.length){e.next=7;break}return e.abrupt("return",i.setError({element:"districtId_id",msg:"District is required"}));case 7:if(i.setLoadingRequest(!0),e.prev=8,"CREATE"!==i.state.modalState){e.next=16;break}return e.next=12,b.a.post("".concat(T.a.APPLICATION,"/schools"),{school_name:i.state.schoolName,district_id:i.state.districtId,education_category_id:i.state.instituteId});case 12:(s=e.sent).data&&(console.log({res:s}),i.setState({schoolList:[].concat(Object(n.a)(i.state.schoolList),[{_id:s.data.data.shool_id,status:s.data.data.status,school_name:s.data.data.school_name,district_id:s.data.data.district_id,education_category_id:s.data.data.education_category_id}])}),i.props.createSchool({_id:s.data.data.shool_id,status:s.data.data.status,school_name:s.data.data.school_name,district_id:s.data.data.district_id,education_category_id:s.data.data.education_category_id}),i.props.PushPopupAlert({title:"New School created successfully",theme:S.a.success}),i.setLoadingRequest(!1),i.setState({schoolName:"",districtId:"",instituteId:"",provinceId:""})),e.next=21;break;case 16:if(!i.state.thisSchool||"UPDATE"!==i.state.modalState){e.next=21;break}return e.next=19,b.a.patch("".concat(T.a.APPLICATION,"/schools"),{school_id:i.state.thisSchool._id,school_name:i.state.schoolName,district_id:i.state.districtId,education_category_id:i.state.instituteId});case 19:(s=e.sent).data&&(console.log({res:s}),i.props.updateSchool({_id:i.state.thisSchool._id,status:!0,school_name:i.state.schoolName,district_id:i.state.districtId,education_category_id:i.state.instituteId}),i.props.PushPopupAlert({title:"School updated successfully",theme:S.a.success}),i.setLoadingRequest(!1),i.setState({schoolName:"",districtId:"",instituteId:"",provinceId:"",thisSchool:null,modalState:""}));case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(8),console.log({doc_category_error:e.t0}),i.props.PushPopupAlert({title:Object(P.a)(e.t0),theme:S.a.danger}),i.setLoadingRequest(!1);case 28:case"end":return e.stop()}}),e,null,[[8,23]])})));return function(t){return e.apply(this,arguments)}}(),i.handleDelete=function(){var e=Object(r.a)(a.a.mark((function e(t){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure do you want to delete this room?")){e.next=14;break}return i.setLoadingRequest(!0),e.prev=2,e.next=5,b.a.delete("".concat(T.a.APPLICATION,"/schools/").concat(t));case 5:(s=e.sent).data&&(console.log({res:s}),i.props.deleteSchool(t),i.props.PushPopupAlert({title:"School deleted successfully",theme:S.a.success})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log({province_error:e.t0}),i.props.PushPopupAlert({title:Object(P.a)(e.t0),theme:S.a.danger});case 13:i.setLoadingRequest(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),i.filterSchools=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];"INSTITUTE"===e&&(n=i.state.thisDistrict&&!s?"ALL"===t?i.props.schools.filter((function(e){return e.district_id===i.state.thisDistrict.district_id})):i.props.schools.filter((function(e){return e.education_category_id===t&&e.district_id===i.state.thisDistrict.district_id})):"ALL"===t?i.props.schools:i.props.schools.filter((function(e){return e.education_category_id===t}))),"DISTRICT"===e&&(n=i.state.thisEdication?"ALL"===t?i.props.schools.filter((function(e){return e.education_category_id===i.state.thisEdication.education_institute_id})):i.props.schools.filter((function(e){return e.district_id===t&&e.education_category_id===i.state.thisEdication.education_institute_id})):"ALL"===t?i.props.schools:i.props.schools.filter((function(e){return e.district_id===t}))),i.setState({schoolList:n})},i.countSchool=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL",s=0;return"DEFAULT"===e?s=i.state.schoolList.length:"EDUCATION"===e?s=i.state.schoolList.filter((function(e){return e.education_category_id===t})).length:"DISTRICT"===e&&(s=i.state.schoolList.filter((function(e){return e.district_id===t})).length),Object(E.i)(s)},i.state={loading:!0,loadingRequest:!1,districtFilterStatus:!1,edicationCategoryFilterStatus:!1,provinceFilterStatus:!1,thisEdication:null,thisProvince:null,thisDistrict:null,district:[],schoolList:i.props.schools,modalState:"",error:null,schoolName:"",thisSchool:null,instituteId:"",provinceId:"",districtId:""},i}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return!0===this.state.loading?Object(C.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading schools..."}):Object(C.jsxs)(p.a.Fragment,{children:[Object(C.jsx)(N.b,{children:this.state.loading?Object(C.jsxs)("section",{className:"animate-pulse",children:[Object(C.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"}),Object(C.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"}),Object(C.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"})]}):Object(C.jsxs)(p.a.Fragment,{children:[Object(C.jsx)("span",{className:"font-semibold text-lg text-gray-500",children:"Filter by Institute"}),Object(C.jsx)("section",{className:"mt-2 ".concat(this.state.loadingRequest&&"cursor-pointer"),onClick:function(){return!e.state.loadingRequest&&e.setState({edicationCategoryFilterStatus:!e.state.edicationCategoryFilterStatus})},children:Object(C.jsx)(N.a,{title:this.state.thisEdication?this.state.thisEdication.education_category_title:"Choose Education Institute",active:!(!this.state.edicationCategoryFilterStatus&&null===this.state.thisEdication)})}),this.state.edicationCategoryFilterStatus&&this.props.education_categories&&this.props.education_categories.length>0&&Object(C.jsx)(N.d,{children:this.props.education_categories&&this.props.education_categories.map((function(t,s){return Object(C.jsx)("section",{onClick:function(){return!e.state.loadingRequest&&(e.setState({thisEdication:t,edicationCategoryFilterStatus:!1}),e.filterSchools("INSTITUTE",t.education_institute_id))},children:Object(C.jsx)(N.c,{title:t.education_category_title,icon:j.V,active:!!e.state.thisEdication&&t.education_institute_id===e.state.thisEdication.education_institute_id})},t.education_institute_id+s)}))}),Object(C.jsxs)("section",{children:[Object(C.jsx)("span",{className:"font-semibold text-lg text-gray-500",children:"Filter by District"}),Object(C.jsx)("section",{className:"mt-2",onClick:function(){return!e.state.loadingRequest&&e.setState({provinceFilterStatus:!e.state.provinceFilterStatus,edicationCategoryFilterStatus:!1,districtFilterStatus:!1})},children:Object(C.jsx)(N.a,{title:this.state.thisProvince?this.state.thisProvince.province_name:"Choose Province",active:!(!this.state.provinceFilterStatus&&null===this.state.thisProvince)})})]}),this.state.provinceFilterStatus&&this.props.allRoom&&this.props.allRoom.length>0&&Object(C.jsx)(N.d,{children:this.props.allRoom&&this.props.allRoom.map((function(t,s){return Object(C.jsx)("section",{onClick:function(){return!e.state.loadingRequest&&(e.setState({provinceFilterStatus:!1,thisProvince:t,thisDistrict:null}),e.state.thisEdication&&e.filterSchools("INSTITUTE",e.state.thisEdication.education_institute_id,!0))},children:Object(C.jsx)(N.c,{title:t.province_name,icon:j.V,active:!!e.state.thisProvince&&t.province_id===e.state.thisProvince.province_id})},t.province_id+s)}))}),this.state.thisProvince&&Object(C.jsx)("section",{className:"mt-2",onClick:function(){return!e.state.loadingRequest&&e.setState({edicationCategoryFilterStatus:!1,provinceFilterStatus:!1,districtFilterStatus:!e.state.districtFilterStatus})},children:Object(C.jsx)(N.a,{title:this.state.thisDistrict?this.state.thisDistrict.district_name:"Choose District",active:!(!this.state.districtFilterStatus&&null===this.state.thisDistrict)})}),this.state.districtFilterStatus&&this.state.thisProvince&&this.state.thisProvince.districts.length>0&&Object(C.jsx)(N.d,{children:this.state.thisProvince&&this.state.thisProvince.districts.map((function(t,s){return Object(C.jsx)("section",{onClick:function(){return!e.state.loadingRequest&&(e.setState({thisDistrict:t,districtFilterStatus:!1}),e.filterSchools("DISTRICT",t.district_id))},children:Object(C.jsx)(N.c,{title:t.district_name,icon:j.V,active:!!e.state.thisDistrict&&t.district_id===e.state.thisDistrict.district_id})},t.district_id+s)}))})]})}),Object(C.jsxs)("div",{className:"w-full my-5 px-1",children:[Object(C.jsx)("div",{className:"flex items-start justify-between",children:Object(C.jsxs)("div",{className:"flex flex-row items-center",children:[Object(C.jsx)(f.b,{className:"text-blue-500 w-28 h-28"}),Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("h1",{className:"text-3xl font-semibold",children:"Schools Management"}),Object(C.jsxs)("div",{className:"flex flex-row items-center mx-2 md:gap-3 gap-2",children:[Object(C.jsxs)("div",{className:"flex flex-col mt-1",children:[Object(C.jsx)("span",{className:"text-gray-600 text-base",children:"All School(s)"}),Object(C.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:this.countSchool()})]}),this.props.education_categories&&this.props.education_categories.length>0&&this.props.education_categories.map((function(t,s){return Object(C.jsxs)("div",{className:"flex flex-col mt-1",children:[Object(C.jsx)("span",{className:"text-gray-600 text-base",children:t.education_category_title}),Object(C.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:e.countSchool("EDUCATION",t.education_institute_id)})]},s+t.education_institute_id)}))]})]})]})}),Object(C.jsxs)("div",{className:"md:w-98 bg-white mx-auto md:p-2",children:[Object(C.jsxs)("div",{className:"flex items-start justify-between",children:[Object(C.jsxs)("div",{children:[this.state.thisEdication&&Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsxs)("div",{className:"flex items-center gap-1 mx-1",children:[Object(C.jsx)(j.J,{className:"text-gray-600"}),Object(C.jsx)("span",{className:"font-semibold text-gray-500",children:"Institute:"}),Object(C.jsx)("span",{className:"font-semibold text-blue-700",children:this.state.thisEdication.education_category_title})]}),Object(C.jsx)(x.b,{className:"cursor-pointer rounded-full hover:bg-red-500 hover:text-white",onClick:function(){return!e.state.loading&&(e.setState({thisEdication:null}),e.filterSchools("INSTITUTE","ALL"))},title:"Clean Education Institute filter"})]}),this.state.thisProvince&&Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsxs)("div",{className:"flex items-center gap-1 mx-1",children:[Object(C.jsx)(j.J,{className:"text-gray-600"}),Object(C.jsx)("span",{className:"font-semibold text-gray-500",children:"Location:"}),Object(C.jsx)("span",{className:"font-semibold ".concat(this.state.thisDistrict?"text-black cursor-pointer":"text-blue-700"),children:this.state.thisProvince.province_name}),this.state.thisDistrict&&Object(C.jsxs)("div",{className:"flex items-center",children:[Object(C.jsx)(m.d,{}),Object(C.jsx)("span",{className:"text-blue-700 font-semibold",children:this.state.thisDistrict.district_name})]})]}),Object(C.jsx)(x.b,{className:"cursor-pointer rounded-full hover:bg-red-500 hover:text-white",onClick:function(){return!e.state.loading&&(e.setState({thisDistrict:null,thisProvince:null}),e.filterSchools("DISTRICT","ALL"))},title:"Clean location filter"})]})]}),Object(C.jsxs)("button",{type:"button",className:"btn btn-blue flex my-1",onClick:function(){return e.setState({modalState:"CREATE"})},disabled:this.state.loadingRequest,children:[Object(C.jsx)(j.zb,{className:"h-6 w-6"}),Object(C.jsx)("span",{className:"ml-2",children:"Add School"})]})]}),Object(C.jsx)(w.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"School",alignText:"left",padding:"p-3"},{columnTitle:"Institute",alignText:"left",padding:"p-3"},{columnTitle:"District",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:this.tableData,pagination:!0,search:!0,thColor:"gray"})]})]}),this.state.modalState&&Object(C.jsx)(y.d,{backDrop:!0,theme:y.c.default,close:function(){return e.setState({modalState:"",thisSchool:null,schoolName:"",instituteId:"",districtId:"",provinceId:""})},displayClose:!0,backDropClose:!1,title:Object(C.jsxs)("div",{className:"text-gray-600 font-bold text-3xl md:ml-4 inline-flex items-center gap-2",children:[Object(C.jsx)(f.b,{className:"w-11 h-11 text-gray-500 hover:bg-gray-500 hover:text-gray-50 rounded-full p-0 foucs:outline-none"}),"CREATE"===this.state.modalState?"CREATE ":"UPDATE "," ","SCHOOL"]}),widthSizeClass:y.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(C.jsx)("div",{className:"mx-8 mb-8",children:Object(C.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(C.jsxs)("div",{className:"py-4 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("label",{children:"School name"}),Object(C.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block border-2 ".concat(this.state.error&&"school_name"===this.state.error.element?"border-red-700":"border-gray-500"),placeholder:"School name",value:this.state.schoolName,onChange:function(t){e.setError(null),e.setState({schoolName:t.target.value})},disabled:this.state.loadingRequest}),this.state.error&&"school_name"===this.state.error.element&&Object(C.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]}),Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("label",{children:"Institutes"}),Object(C.jsxs)("select",{className:"text-left input-white w-full block border-2 py-3 px-4 pr-8 ".concat(this.state.error&&"edication_id"===this.state.error.element?"border-red-700":"border-gray-500"),value:this.state.instituteId,onChange:function(t){return e.setState({instituteId:t.target.value})},disabled:this.state.loadingRequest,children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"Choose Institute"}),this.props.education_categories&&this.props.education_categories.map((function(e,t){return Object(C.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},t+e.education_institute_id)}))]}),this.state.error&&"edication_id"===this.state.error.element&&Object(C.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]}),Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("label",{children:"Province"}),Object(C.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 border-gray-500",value:this.state.provinceId,onChange:function(t){return e.setState({provinceId:t.target.value})},disabled:this.state.loadingRequest,children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"Choose province"}),this.props.allRoom&&this.props.allRoom.map((function(e,t){return Object(C.jsx)("option",{value:e.province_id,children:e.province_name},t+e.province_id)}))]})]}),this.state.provinceId&&Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("label",{children:"District"}),Object(C.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 ".concat(this.state.error&&"districtId_id"===this.state.error.element?"border-red-700":"border-gray-500"),value:this.state.districtId,onChange:function(t){return e.setState({districtId:t.target.value})},disabled:this.state.loadingRequest,children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"Choose district"}),this.props.allRoom&&this.props.allRoom.filter((function(t){return t.province_id===e.state.provinceId}))[0].districts.length>0?this.props.allRoom.filter((function(t){return t.province_id===e.state.provinceId}))[0].districts.map((function(e,t){return Object(C.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)})):Object(C.jsx)("option",{disabled:!0,children:"No District Found"},702)]}),this.state.error&&"districtId_id"===this.state.error.element&&Object(C.jsx)("span",{className:"text-red-700",children:this.state.error.msg})]})]}),Object(C.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(C.jsx)("button",{onClick:function(){return e.setState({modalState:"",thisSchool:null,schoolName:"",instituteId:"",districtId:"",provinceId:""})},className:"btn bg-gray-400 text-white hover:bg-gray-600 focus:outline-none",type:"button",disabled:this.state.loadingRequest,children:"Exit"}),Object(C.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600 focus:outline-none ".concat(this.state.loadingRequest?"animate-pulse":null),type:"submit",disabled:this.state.loadingRequest,children:this.state.loadingRequest?"Loading...":"Save"})]})]})})})]})}}]),s}(h.Component),A=Object(g.b)((function(e){var t=e.auth,s=e.schools,n=e.schoolLevels,i=e.locations;return{auth:t,schools:s.schools,education_categories:n.education_categories,allRoom:i.roomLocation}}),{createSchool:v.a,getSchools:v.f,updateSchool:v.g,getAllRoom:_.g,deleteSchool:v.c,loadEducationCategories:O.Qb,PushPopupAlert:O.ob})(k)},472:function(e,t,s){"use strict";var n=s(5),i=s.n(n),a=s(2),r=s(7),c=s(23),o=s(9),l=s.n(o),d=s(4),u=s(8),b=s(268),h=s(17),p=s(3),m=s(207),f=s(71),x=s(25),j=s(10),g=s(48),O=s(226),_=s(1),v=function(e){var t=[],s=[],n=[],i=[],a=[];for(var r in e){var c=e[r].requirements;for(var o in c){var l=c[o],d=l.category,u=l.subcategory;if(d){for(var b in l.position_requirement){var h=l.position_requirement[b];t.push({category_id:d.user_detail_category_id,category_title:d.title,subcategory_id:u.user_detail_subcategory_id,subcategory_title:u.title,field_title:h.title,field_id:h._id,required:h.required})}n.includes(d.user_detail_category_id)||(n.push(d.user_detail_category_id),s.push({category_id:d.user_detail_category_id,category_title:d.title,subcategory_id:"",subcategory_title:"",field_title:"",field_id:"",required:!1})),a.includes(u.user_detail_subcategory_id)||(a.push(u.user_detail_subcategory_id),i.push({category_id:u.category_id,category_title:"",subcategory_id:u.user_detail_subcategory_id,subcategory_title:u.title,field_title:"",field_id:"",required:!1}))}}}return{PositionsTemp:t,DistinctCategoriesTemp:s,DistinctSubCategoriesTemp:i}};t.a=Object(h.b)(null,{publishPosition:m.h,PushPopupAlert:p.ob})((function(e){var t=Object(d.useState)(""),s=Object(c.a)(t,2),n=s[0],o=s[1],h=function(){var t=Object(r.a)(i.a.mark((function t(s,n,r){var c,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure do you want to ".concat(n?"publish":"unpublish"," this position?"))){t.next=19;break}return o(s),t.prev=2,t.next=5,l.a.patch("".concat(j.a.APPLICATION,"/publishposition/").concat(s),{isPublished:n});case 5:c=t.sent,e.publishPosition({position_id:s,status:n}),e.PushPopupAlert({title:"".concat(r," ").concat(n?" published":" stopped on application"," successfully"),theme:x.a.info}),(d=Object(a.a)({},e.thisPosition)).isPublished=n,e.setThisPosition&&e.setThisPosition(d),console.log("Position publish: ",c),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),console.error("err: ",t.t0),e.PushPopupAlert({title:Object(g.e)(t.t0),theme:x.a.danger});case 18:o("");case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,s,n){return t.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"w-full",children:Object(_.jsxs)("div",{className:"w-full bg-gray-100 px-4 py-1 animate__animated animate__fadeIn",children:[Object(_.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(_.jsx)("span",{className:"text-blue-600 font-bold text-2xl",children:e.thisPosition.position_title}),Object(_.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(_.jsx)("span",{className:"italic",children:"Desc:"}),Object(_.jsx)("span",{className:"font-semibold",children:e.thisPosition.description})]}),Object(_.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(_.jsx)("span",{className:"italic",children:"School level:"}),Object(_.jsx)("span",{className:"font-semibold",children:e.thisPosition.school_level_id.school_level_name})]}),Object(_.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(_.jsx)("span",{className:"italic",children:"Institute:"}),Object(_.jsx)("span",{className:"font-semibold",children:e.thisPosition.education_institute_id.education_category_title})]}),Object(_.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(_.jsx)("span",{className:"italic",children:"Courses:"}),Object(_.jsx)("span",{className:"flex items-center gap-2",children:e.thisPosition.courses.map((function(t,s){return Object(_.jsxs)("div",{className:"flex items-center gap-1",children:[Object(_.jsx)("span",{className:"font-semibold",children:t.course_name}),Object(_.jsxs)("span",{className:"text-gray-600",children:["(",t.course_code,")"]}),s!==e.thisPosition.courses.length-1&&","]},s+t.course_id)}))})]}),Object(_.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(_.jsx)("span",{className:"italic",children:"Status:"}),Object(_.jsx)("div",{className:"flex flex-row items-center gap-2 mt-1",children:Object(_.jsxs)("div",{className:"relative ".concat(n.length>0?"cursor-not-allowed":"cursor-pointer"," flex items-center gap-1"),onClick:function(){return!n.length&&h(e.thisPosition.position_id,!e.thisPosition.isPublished,e.thisPosition.position_title)},children:[Object(_.jsx)("span",{className:"block w-14 h-8 bg-gray-100 hover:border-gray-100 rounded-full shadow-inner"}),Object(_.jsx)("span",{className:"absolute block w-6 h-6 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-500 ease-in-out ".concat(e.thisPosition.isPublished?"bg-green-500 transform translate-x-full":"bg-yellow-500")}),n===e.thisPosition.position_id?Object(_.jsx)(b.b,{className:"animate__animated animate__rotateIn animate__infinite"}):Object(_.jsx)("span",{className:"font-semibold",children:e.thisPosition.isPublished?"Published":"Unpublished"})]})})]})]}),Object(_.jsxs)("div",{className:"bg-white w-full rounded p-2 mb-2",children:[Object(_.jsx)("div",{className:"text-blue-500 text-2xl font-bold my-2",children:"Position Requirements"}),e.thisPosition.requirements.length>0?v([e.thisPosition]).DistinctCategoriesTemp.map((function(t,s){return Object(_.jsxs)("div",{className:"bg-gray-100 rounded p-2",children:[Object(_.jsxs)("div",{className:"flex items-center gap-2 text-2xl text-gray-500 font-bold",children:[Object(_.jsx)(u.Fb,{}),Object(_.jsx)("span",{children:t.category_title})]}),Object(_.jsx)("div",{className:"border bg-white mt-1",children:Object(_.jsx)(O.a,{requirements:v([e.thisPosition]).PositionsTemp.filter((function(e){return e.category_id===t.category_id}))})})]},s+t.category_id)})):Object(_.jsx)(f.b,{theme:f.a.Dark,value:"No requirements"})]})]})})}))},844:function(e,t,s){"use strict";s.r(t),s.d(t,"PostRequest",(function(){return I}));var n=s(5),i=s.n(n),a=s(7),r=s(23),c=s(4),o=s.n(c),l=s(17),d=s(24),u=s(33),b=s(193),h=s(224),p=s(421),m=s(191),f=s(504),x=s(3),j=s(25),g=s(207),O=s(9),_=s.n(O),v=s(10),y=s(13),N=s(456),w=s(194),S=s(268),E=s(1),T=function(e){return Object(E.jsx)(c.Fragment,{children:Object(E.jsx)("div",{className:"p-5",children:Object(E.jsx)("div",{className:"mx-4 p-4",children:Object(E.jsxs)("div",{className:"flex items-center",children:[Object(E.jsxs)("div",{className:"flex items-center ".concat(1===e.currentStep?"text-white":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.ONE&&e.setFormSteps({ONE:!0,TWO:!1})},children:[Object(E.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(1===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.ONE?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(E.jsx)(w.j,{className:"feather feather-bookmark w-full h-full"})}),Object(E.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(1===e.currentStep?"text-blue-500":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"),children:"Position"})]}),Object(E.jsx)("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out ".concat(e.stepState.ONE?"border-blue-500":"border-gray-300")}),Object(E.jsxs)("div",{className:"flex items-center ".concat(4===e.currentStep?"text-white":e.stepState.TWO?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.TWO&&e.setFormSteps({ONE:!1,TWO:!1})},children:[Object(E.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(4===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.TWO?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(E.jsx)(S.c,{className:"feather feather-database w-full h-full"})}),Object(E.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(4===e.currentStep||e.stepState.TWO?"text-blue-500":"text-gray-500"),children:"Description"})]})]})})})})},P=s(472),C=s(195),I=Object(l.b)((function(e){var t=e.auth,s=e.schools,n=e.system_settings;return{auth:t,schools:s.schools,schoolPosts:s.schoolPosts,systemPositions:n.systemPositions}}),{getPositions:g.f,getSchools:p.f,fetchSchoolPosts:p.e,createSchoolPost:p.b,updateSchoolPost:p.h,PushPopupAlert:x.ob})((function(e){var t=Object(c.useState)(!1),s=Object(r.a)(t,2),n=s[0],l=s[1],p=Object(c.useState)(!0),x=Object(r.a)(p,2),g=x[0],O=x[1],w=Object(c.useState)(null),S=Object(r.a)(w,2),I=S[0],k=S[1],A=Object(c.useState)("all"),D=Object(r.a)(A,2),R=D[0],L=D[1],q=Object(c.useState)(""),F=Object(r.a)(q,2),M=F[0],U=F[1],W=Object(c.useState)(0),B=Object(r.a)(W,2),H=B[0],V=B[1],G=Object(c.useState)(0),z=Object(r.a)(G,2),J=z[0],Y=z[1],K=Object(c.useState)(0),Q=Object(r.a)(K,2),X=Q[0],Z=Q[1],$=Object(c.useState)(""),ee=Object(r.a)($,2),te=ee[0],se=ee[1],ne=Object(c.useState)(!1),ie=Object(r.a)(ne,2),ae=ie[0],re=ie[1],ce=Object(c.useState)(!0),oe=Object(r.a)(ce,2),le=oe[0],de=oe[1],ue=Object(c.useState)({ONE:!0,TWO:!1}),be=Object(r.a)(ue,2),he=be[0],pe=be[1],me=Object(c.useState)({ONE:!1,TWO:!1}),fe=Object(r.a)(me,2),xe=fe[0],je=fe[1],ge=Object(c.useState)(null),Oe=Object(r.a)(ge,2),_e=Oe[0],ve=Oe[1],ye=Object(c.useState)(!1),Ne=Object(r.a)(ye,2),we=Ne[0],Se=Ne[1],Ee=Object(c.useState)(""),Te=Object(r.a)(Ee,2),Pe=Te[0],Ce=Te[1],Ie=Object(c.useState)(0),ke=Object(r.a)(Ie,2),Ae=ke[0],De=ke[1],Re=Object(c.useState)(null),Le=Object(r.a)(Re,2),qe=Le[0],Fe=Le[1];Object(c.useEffect)((function(){e.schools.length?de(!1):e.getSchools((function(e,t){de(e),t.length>0&&console.error({loadingCandidatesError:t})})),null===e.systemPositions&&(l(!0),e.getPositions((function(t,s){l(t),console.log({status:t,msg:s}),s.length&&e.PushPopupAlert({title:s,theme:j.a.danger})}))),!e.schoolPosts.length&&g?e.fetchSchoolPosts(e.auth.user_access.school_id,(function(t,s){t||(s.length>0&&g&&(console.error("error loading school post: ",s),e.PushPopupAlert({title:s,theme:j.a.danger})),O(!1))})):O(!1)}),[g,e]);var Me=function(e,t){return e.filter((function(e){return e.position_id===t}))[0]};if(e.auth.user_access.school_id.length<=0)return Object(E.jsx)(d.a,{to:"/"});if(!0===le)return Object(E.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."});var Ue=function(){var t=Object(a.a)(i.a.mark((function t(s){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),!("RECEIVE"===I&&Ae<0)){t.next=5;break}return t.abrupt("return",Fe({element:"received_posts",msg:"Invalid number of received post"}));case 5:if(!("RECEIVE"===I&&_e&&Ae>_e.needed_posts)){t.next=7;break}return t.abrupt("return",Fe({element:"received_posts",msg:"Invalid number of received post"}));case 7:if(re(!0),t.prev=8,"CREATE"!==I){t.next=16;break}return t.next=12,_.a.post("".concat(v.a.PLACEMENT,"/requestpost"),{school_id:e.auth.user_access.school_id,position_id:M,district_id:Object(N.getSchoolById)(e.schools,e.auth.user_access.school_id).district_id,needed_posts:H,male_number:X,female_number:J,description:34,occupied_posts:Number(X)+Number(J),requested_by:e.auth.user.user_id});case 12:(n=t.sent)&&(e.createSchoolPost(n.data.data),U(""),V(0),Y(0),Z(0),se(""),pe({ONE:!0,TWO:!1}),je({ONE:!1,TWO:!1}),e.PushPopupAlert({title:"Post(s) has been requested!",theme:j.a.success})),t.next=29;break;case 16:if("UPDATE"!==I){t.next=24;break}return console.log({district_id:Object(N.getSchoolById)(e.schools,e.auth.user_access.school_id).district_id}),t.next=20,_.a.patch("".concat(v.a.PLACEMENT,"/requestpost/").concat(Pe),{confirmed_posts:0,confirmed_by:null,received_posts:0,approval_date:null,school_id:e.auth.user_access.school_id,position_id:M,district_id:Object(N.getSchoolById)(e.schools,e.auth.user_access.school_id).district_id,needed_posts:H,male_number:X,female_number:J,description:te,occupied_posts:Number(X)+Number(J),requested_by:e.auth.user.user_id,requested_post_status:h.c.INITIATED});case 20:(a=t.sent)&&(e.fetchSchoolPosts(e.auth.user_access.school_id,(function(t,s){t||(s.length>0&&g&&(console.error("error loading school post: ",s),e.PushPopupAlert({title:s,theme:j.a.danger})),O(!1))})),_e&&ve(a.data.data),U(""),Ce(""),V(0),Y(0),Z(0),se(""),k(null),pe({ONE:!0,TWO:!1}),je({ONE:!1,TWO:!1}),e.PushPopupAlert({title:"Post(s) has been updated!",theme:j.a.info})),t.next=29;break;case 24:if("RECEIVE"!==I||!_e){t.next=29;break}return t.next=27,_.a.patch("".concat(v.a.PLACEMENT,"/requestpost/").concat(_e.requested_post_id),{confirmed_posts:_e.confirmed_posts,confirmed_by:e.auth.user.user_id,received_posts:Ae,approval_date:_e.approval_date,school_id:_e.school_id,position_id:_e.position_id,district_id:_e.district_id,needed_posts:_e.needed_posts,male_number:_e.male_number,female_number:_e.female_number,description:_e.description,occupied_posts:_e.occupied_posts,requested_by:e.auth.user.user_id,requested_post_status:h.c.RECEIVED});case 27:t.sent&&(e.fetchSchoolPosts(e.auth.user_access.school_id,(function(t,s){t||(s.length>0&&g&&(console.error("error loading school post: ",s),e.PushPopupAlert({title:s,theme:j.a.danger})),O(!1))})),!we&&ve(null),De(0),k(null),e.PushPopupAlert({title:"Post request has been received!",theme:j.a.info}));case 29:t.next=35;break;case 31:t.prev=31,t.t0=t.catch(8),console.error({role_error:t.t0}),e.PushPopupAlert({title:Object(y.a)(t.t0),theme:j.a.danger});case 35:re(!1);case 36:case"end":return t.stop()}}),t,null,[[8,31]])})));return function(e){return t.apply(this,arguments)}}();return Object(E.jsxs)(o.a.Fragment,{children:[Object(E.jsxs)("div",{className:"flex flex-row items-start gap-4 my-2",children:[Object(E.jsx)(f.a,{className:"text-blue-700 w-12 h-12 md:block hidden"}),Object(E.jsx)("div",{className:"w-full",children:Object(E.jsx)("div",{className:"flex justify-between w-full",children:Object(E.jsxs)("div",{className:"flex flex-col gap-1 justify-between",children:[Object(E.jsx)("h1",{className:"md:text-4xl text-3xl font-semibold",children:"Teacher Request"}),Object(E.jsx)("div",{className:"flex-row items-center md:gap-3 gap-2 hidden",children:Object(E.jsx)("div",{className:"flex flex-row items-center mt-1 gap-1",children:Object(E.jsx)("span",{className:"text-gray-600 text-xl",children:"level:"})})})]})})})]}),Object(E.jsx)("div",{className:"grid md:grid-cols-5 gap-2 bg-white shadow-md p-2",children:Object(E.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(E.jsxs)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:[Object(E.jsx)("div",{className:"flex flex-col md:flex-row",children:Object(E.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none",onChange:function(e){return L(e.target.value)},children:[Object(E.jsx)("option",{value:"all",children:"All Position"}),e.systemPositions&&e.systemPositions.length>0?e.systemPositions.map((function(e,t){return Object(E.jsx)("option",{value:e.position_id,children:e.position_title},t+1)})):Object(E.jsx)("option",{value:"",children:"No Position found"})]})}),Object(E.jsx)("div",{className:"block relative",children:Object(E.jsx)("div",{className:"pt-6 md:pt-0 md:pl-6",children:Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",onClick:function(){return k("CREATE")},disabled:g||n||ae,children:"Request Teacher"})})})]}),Object(E.jsx)(b.a,{columns:[{columnTitle:"POSITION",alignText:"left",padding:"p-3"},{columnTitle:"REQUEST",alignText:"left",padding:"p-3"},{columnTitle:"APPROVED",alignText:"left",padding:"p-3"},{columnTitle:"OCCUPIED",alignText:"left",padding:"p-3"},{columnTitle:"VACCANTS",alignText:"left",padding:"p-3"},{columnTitle:"STATUS",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){if(g)return[Object(E.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(E.jsx)("td",{className:"p-3 text-center",colSpan:7,children:"Loading post"})},1)];var t=e.schoolPosts;return 0===(t=""!==R&&"all"!==R?t.filter((function(e){return e.position_id===R})):t).length?[Object(E.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(E.jsx)("td",{className:"p-3 text-center",colSpan:7,children:"No Data Found"})},1)]:t.map((function(t,s){return Object(E.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(E.jsx)("td",{className:"py-3 px-4 text-left font-medium",children:e.systemPositions&&Me(e.systemPositions,t.position_id).position_title}),Object(E.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.needed_posts}),Object(E.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.requested_post_status===h.c.CONFIRMED?Object(E.jsxs)("div",{className:"flex items-center gap-1",children:[t.confirmed_posts,Object(E.jsx)(C.g,{className:"bg-yellow-600 w-5 h-5 text-white cursor-pointer",onClick:function(){k("RECEIVE"),ve(t)}})]}):"-"}),Object(E.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.occupied_posts?t.occupied_posts:"-"}),Object(E.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.requested_post_status===h.c.RECEIVED?t.received_posts:"-"}),Object(E.jsx)("td",{children:Object(E.jsx)("span",{className:"px-2 py-1 font-semibold rounded ".concat(t.requested_post_status===h.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":t.requested_post_status===h.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:t.requested_post_status===h.c.INITIATED?"Pending":Object(m.a)(t.requested_post_status)})}),Object(E.jsx)("td",{className:"py- text-left",children:Object(E.jsxs)("div",{className:"flex item-center justify-end gap-1",children:[Object(E.jsx)("button",{className:" btn btn-blue transition ease-out duration-500 flex items-center ",title:"View User Profile",onClick:function(){ve(t),Se(!0)},children:"Details"}),t.requested_post_status===h.c.INITIATED&&Object(E.jsx)("button",{className:"btn bg-gray-500 text-white hover:bg-gray-700",onClick:function(){k("UPDATE"),Ce(t.requested_post_id),U(t.position_id),V(t.needed_posts),se(t.description),Y(t.female_number),Z(t.male_number),pe({ONE:!0,TWO:!1}),je({ONE:!1,TWO:!1})},disabled:ae,children:"Edit"})]})})]},s+1)}))},pagination:!0,search:!0,thColor:"gray"})]})}),("CREATE"===I||"UPDATE"===I)&&Object(E.jsxs)(u.d,{backDrop:!0,theme:u.c.default,close:function(){U(""),V(0),Y(0),Z(0),se(""),k(null),pe({ONE:!0,TWO:!1}),je({ONE:!1,TWO:!1})},displayClose:!0,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"You are applying for Requesting Teachers"})})}),widthSizeClass:u.b.extraLarge,padding:{title:!0,body:!1,footer:!1},children:[Object(E.jsx)(T,{currentStep:he.TWO?2:1,stepState:xe,setFormSteps:pe}),Object(E.jsxs)("div",{className:"px-4 mx-auto mb-4 mt-3",children:[he.ONE&&Object(E.jsxs)("section",{children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Select Position"}),Object(E.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none focus:bg-gray-100",value:M,onChange:function(e){U(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Choose Position"}),e.systemPositions&&e.systemPositions.length>0?function(t){if(e.systemPositions){if(e.schoolPosts.length>0){var s=[];for(var n in e.schoolPosts)Object.prototype.hasOwnProperty.call(e.schoolPosts,n)&&e.schoolPosts[n].requested_post_status!==h.c.RECEIVED&&(t&&t===e.schoolPosts[n].position_id||s.push(e.schoolPosts[n].position_id));return t&&(s=s.filter((function(e){return e!==t}))),e.systemPositions.filter((function(e){return!s.includes(e.position_id)}))}return e.systemPositions}return[]}(M).map((function(e,t){return Object(E.jsx)("option",{value:e.position_id,children:e.position_title},t+11)})):Object(E.jsx)("option",{children:"No position found"})]})]}),M.length>0&&e.systemPositions&&Object(E.jsx)("div",{className:"my-2 rounded border",children:Object(E.jsx)(P.a,{thisPosition:Me(e.systemPositions,M)})}),Object(E.jsx)("div",{className:"bg-white w-full flex justify-end",children:M.length>0&&Object(E.jsx)("button",{className:"btn btn-blue m-1 mr-2 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){pe({ONE:!1,TWO:!0}),je({ONE:!0,TWO:!1})},children:"Continue"})})]}),Object(E.jsx)("form",{onSubmit:Ue,children:Object(E.jsxs)("div",{className:"bg-white",children:[he.TWO&&Object(E.jsxs)("div",{className:"text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"mb-4 md:flex md:justify-between",children:[Object(E.jsxs)("div",{className:"mb-4 md:mr-2 md:mb-0 w-full",children:[Object(E.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"female",children:"Current number of Female on this position"}),Object(E.jsx)("input",{className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",id:"female",type:"number",min:0,value:J,onChange:function(e){return Y(Number(e.target.value))},placeholder:"Current number of Female on this position"})]}),Object(E.jsxs)("div",{className:"md:ml-2 w-full",children:[Object(E.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"male",children:"Current number of Male on this position"}),Object(E.jsx)("input",{className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",id:"male",type:"number",min:0,value:X,onChange:function(e){return Z(Number(e.target.value))},placeholder:"Current number of Male on this post"})]})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Needed posts (number)"}),Object(E.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:H,onChange:function(e){return V(Number(e.target.value))},min:1,placeholder:"1",required:!0})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Explanation"}),Object(E.jsx)("textarea",{name:"description",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",id:"description",placeholder:"Explanation",value:te,onChange:function(e){return se(e.target.value)},rows:2,required:!0})]})]}),Object(E.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(E.jsx)("button",{className:"btn bg-gray-400 text-white hover:bg-gray-600",onClick:function(){U(""),V(0),Y(0),Z(0),se(""),k(null),pe({ONE:!0,TWO:!1}),je({ONE:!1,TWO:!1})},children:"Exit"}),he.TWO&&Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",disabled:ae,children:ae?"Loading...":"Request"})]})]})})]})]}),"RECEIVE"===I&&_e&&e.systemPositions&&Object(E.jsx)(u.d,{backDrop:!0,theme:u.c.default,close:function(){ve(null),k(null)},displayClose:!0,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Responding to Requesting Teachers"})})}),widthSizeClass:u.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(E.jsx)("div",{className:"px-4 mx-auto mb-4 mt-3",children:Object(E.jsx)("form",{onSubmit:Ue,children:Object(E.jsxs)("div",{className:"bg-white",children:[Object(E.jsxs)("div",{className:"text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Position"}),Object(E.jsx)("input",{type:"text",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:Me(e.systemPositions,_e.position_id).position_title,placeholder:"position title",disabled:!0})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Needed posts (number)"}),Object(E.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:_e.needed_posts,min:1,placeholder:"1",disabled:!0})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Aproved posts"}),Object(E.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:_e.confirmed_posts,placeholder:"number of aproved posts",disabled:!0})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Received posts (number)"}),Object(E.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 bg-white focus:outline-none focus:bg-gray-100 ".concat(null!==qe&&"received_posts"===qe.element?"border-red-500":"border-gray-700"),value:Ae,onChange:function(e){De(Number(e.target.value))},min:0,max:_e.confirmed_posts,placeholder:"1",disabled:ae}),null!==qe&&"received_posts"===qe.element&&Object(E.jsx)("span",{className:"text-red-600 font-bold text-xs",children:qe.msg})]})]}),Object(E.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(E.jsx)("button",{className:"btn bg-gray-400 text-white hover:bg-gray-600",onClick:function(){ve(null),De(0),k(null)},children:"Exit"}),Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",disabled:ae,children:ae?"Loading...":"Request"})]})]})})})}),we&&null===I&&_e&&e.systemPositions&&Object(E.jsx)(u.d,{backDrop:!0,theme:u.c.default,close:function(){ve(null),Se(!1)},displayClose:!0,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Viewing Post Request"})})}),widthSizeClass:u.b.large,padding:{title:!0,body:!1,footer:!1},children:Object(E.jsxs)("section",{className:"px-4 mx-auto mb-4 mt-3 flex items-start",children:[Object(E.jsxs)("section",{className:"w-full",children:[Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Position: "}),Object(E.jsx)("span",{className:"font-bold",children:Me(e.systemPositions,_e.position_id).position_title})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Requested posts: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:_e.needed_posts})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Confirmed posts: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:_e.requested_post_status===h.c.CONFIRMED?Object(E.jsxs)("div",{className:"flex items-center gap-1",children:[_e.confirmed_posts,Object(E.jsx)(C.g,{className:"bg-yellow-600 w-5 h-5 text-white cursor-pointer"})]}):"-"})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Received posts: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:_e.requested_post_status===h.c.RECEIVED?_e.received_posts:"-"})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Number of female: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:_e.female_number})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Number of male: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:_e.male_number})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Request reason: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:_e.description})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Status: "}),Object(E.jsx)("span",{className:"px-2 py-1 mx-1 font-semibold rounded ".concat(_e.requested_post_status===h.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":_e.requested_post_status===h.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:_e.requested_post_status===h.c.INITIATED?"Pending":Object(m.a)(_e.requested_post_status)})]})]}),Object(E.jsx)("div",{className:"mb-3 flex items-center justify-end gap-2",children:Object(E.jsx)("button",{className:"font-bold py-1 px-4 rounded bg-gray-500 text-white hover:bg-gray-700",onClick:function(){k("UPDATE"),Ce(_e.requested_post_id),U(_e.position_id),V(_e.needed_posts),se(_e.description),Y(_e.female_number),Z(_e.male_number),pe({ONE:!0,TWO:!1}),je({ONE:!1,TWO:!1})},disabled:_e.requested_post_status!==h.c.INITIATED,children:"Edit"})})]})})]})}))}}]);
//# sourceMappingURL=37.8a2a086b.chunk.js.map