(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[37,2],{640:function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"f",(function(){return o})),s.d(t,"e",(function(){return r})),s.d(t,"c",(function(){return a})),s.d(t,"d",(function(){return i})),s.d(t,"h",(function(){return c})),s.d(t,"g",(function(){return l})),s.d(t,"a",(function(){return d}));var n=[{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"7322342684"},{school_id:"32762426329",school_title:"Rucee De Kigali",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"73232432684",number_of_females:10,number_of_males:12}],o=function(e){return null===e||null!==e.match(/^ *$/)},r=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},a=function(e,t){return e.find((function(e){return e.education_institute_id===t}))},i=function(e,t){return e.find((function(e){return e.position_id===t}))},c=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=new Array(t+1).join("0");return(s+e).slice(-t)},d=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},643:function(e,t,s){"use strict";var n=s(17),o=s(4),r=s(167),a=s(10),i=s(1);t.a=function(e){var t,s,c=e.tableId&&"myTable"!==e.tableId?e.tableId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=s.length,o=0;o<e;o++)t+=s.charAt(Math.floor(Math.random()*n));return t}(),l=Object(o.useState)(0),d=Object(n.a)(l,2),u=d[0],p=d[1],h=Object(o.useState)(1),m=Object(n.a)(h,2),b=m[0],f=m[1],x=Object(o.useState)(1),j=Object(n.a)(x,2),g=j[0],_=j[1],O=Object(o.useState)(),y=Object(n.a)(O,2),P=y[0],v=y[1],N=Object(o.useState)(10),E=Object(n.a)(N,2),S=E[0],T=E[1],w=Object(o.useState)(0),I=Object(n.a)(w,2),C=I[0],A=I[1],q=Object(o.useState)(0),R=Object(n.a)(q,2),L=R[0],k=R[1];Object(o.useEffect)((function(){e.pagination&&D()}));var D=function(){t=document.getElementById(c),s=t.getElementsByTagName("tr"),p(s.length),f(Math.ceil(u/S)),A((g-1)*S),k(Math.min(C+S-1,u-1));var e=Array.from(Array(b+1-1).keys()).map((function(e){return 1+e}));P&&e.length===P.length||v(e);for(var n=0;n<s.length;n++)s[n].style.display=n>=C&&n<=L?"":"none"};return Object(i.jsxs)("div",{className:"".concat(e.tableSize," overflow-x-auto"),children:[e.search&&Object(i.jsx)("div",{className:"".concat(e.searchBG," w-full mb-2"),children:e.search&&Object(i.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(i.jsx)(a.Ab,{className:"h-5 w-5 fill-current text-gray-400"}),Object(i.jsx)("input",{type:"search",placeholder:"search",onChange:function(s){return function(s,n){var o,r,a,i,l;for("field"===n&&"all"===s&&(s=""),o=s.toLowerCase(),r=(t=document.getElementById(c)).getElementsByTagName("tr"),i=0;i<r.length;i++)for(l=0;l<e.columns.length;l++)if(a=r[i].getElementsByTagName("td")[l]){if((a.textContent||a.innerText).toLowerCase().indexOf(o)>-1){r[i].style.display="";break}r[i].style.display="none"}}(s.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:e.loading}),e.pagination&&Object(i.jsx)("div",{className:"select",children:Object(i.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(e){return T(Number(e.target.value))},disabled:e.loading,children:[Object(i.jsx)("option",{value:"10",children:"10"}),Object(i.jsx)("option",{value:"25",children:"25"}),Object(i.jsx)("option",{value:"50",children:"50"}),Object(i.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(i.jsxs)("div",{className:"overflow-x-auto w-full",children:[Object(i.jsxs)("table",{className:e.tableClass?e.tableClass:"w-full shadow ".concat(e.rounded&&"sm:rounded-lg"," table-auto order-table"),id:c,children:[!e.hideColumns&&Object(i.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(i.jsx)("tr",{className:"text-left tracking-wide bg-".concat(e.thColor,"-100 border-b-2 border-").concat(e.thColor,"-500 text-").concat(e.thColor,"-600"),children:e.columns.map((function(e,t){return Object(i.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,s,n,o,r,a,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(n=!0,t=document.getElementById(e))for(;n;){for(n=!1,s=t.rows,o=1;o<s.length-1;o++)if(i=!1,r=s[o].getElementsByTagName("TD")[c],a=s[o+1].getElementsByTagName("TD")[c],"asc"===l&&r&&a){if(r.innerHTML.toLowerCase()>a.innerHTML.toLowerCase()){i=!0;break}}else if("desc"===l&&r&&a&&r.innerHTML.toLowerCase()<a.innerHTML.toLowerCase()){i=!0;break}i&&s[o].parentNode?(s[o].parentNode.insertBefore(s[o+1],s[o]),n=!0,d++):0===d&&"asc"===l&&(l="desc",n=!0)}}(c,t)},children:Object(i.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(i.jsx)(r.i,{})]})},t)}))})}),Object(i.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:e.rows()})]}),e.pagination&&Object(i.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(i.jsx)("div",{children:Object(i.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",S," of ",u-1," Entries"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==g&&"bg-white"),"aria-label":"Previous",disabled:1===g||e.loading,onClick:function(){return _(g-1)},children:Object(i.jsx)(a.fb,{className:"h-5 w-5"})})}),Object(i.jsx)("div",{children:P&&P.map((function(t,s){return Object(i.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(t!==g?"bg-white":"bg-gray-100 cursor-default"),disabled:t===g||e.loading,onClick:function(){return _(t)},children:t},s)}))}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(g!==b&&"bg-white"),"aria-label":"Next",disabled:g===b||e.loading,onClick:function(){return _(g+1)},children:Object(i.jsx)(a.gb,{className:"h-5 w-5"})})})]})})]})]})]})}},644:function(e,t,s){"use strict";s.d(t,"c",(function(){return p})),s.d(t,"l",(function(){return h})),s.d(t,"j",(function(){return m})),s.d(t,"b",(function(){return b})),s.d(t,"f",(function(){return f})),s.d(t,"n",(function(){return x})),s.d(t,"k",(function(){return j})),s.d(t,"h",(function(){return g})),s.d(t,"e",(function(){return _})),s.d(t,"a",(function(){return O})),s.d(t,"m",(function(){return y})),s.d(t,"d",(function(){return P})),s.d(t,"g",(function(){return v})),s.d(t,"i",(function(){return N}));var n=s(5),o=s.n(n),r=s(7),a=s(8),i=s.n(a),c=s(6),l=s(9),d=s(15),u=s(14),p=function(e){return e(!0,""),function(){var t=Object(r.a)(o.a.mark((function t(s){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,i.a.get("".concat(l.a.CLAIMING,"/session-type"));case 4:n=t.sent,console.log({GET_PLANS_TYPES:n.data}),r=[],200===n.status&&null!==n.data&&n.data.length>0&&(r=n.data),s({type:c.a.GET_PLANS_TYPES,payload:r}),e(!1,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error({error:Object(u.a)(t.t0)}),e(!1,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return console.log({thisType:e}),{type:c.a.SELECT_PLAN_TYPE,payload:e}},m=function(e){return e(!0,""),function(){var t=Object(r.a)(o.a.mark((function t(s){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,i.a.get("".concat(l.a.CLAIMING,"/session/active/"));case 4:n=t.sent,console.log({GET_ACTIVE_SESSION_PLANS:n.data}),r=void 0,n.data&&void 0!==n.data.is_active&&(r=n.data),console.log({session_plan:n.data}),s({type:c.a.GET_ACTIVE_SESSION_PLANS,payload:r||"none"}),e(!1,"",r||"none"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error({error:Object(u.a)(t.t0)}),e(!1,Object(u.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return e(!0,""),function(){var t=Object(r.a)(o.a.mark((function t(s){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,i.a.get("".concat(l.a.CLAIMING,"/session/"));case 4:n=t.sent,console.log({GET_ALL_SESSION_PLANS:n.data}),r=[],200===n.status&&null!==n.data&&n.data.length>0&&(r=n.data),s({type:c.a.GET_ALL_SESSION_PLANS,payload:r}),e(!1,"",r),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error({error:Object(u.a)(t.t0)}),e(!1,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return{type:c.a.CREATE_SESSION_PLAN,payload:e}},x=function(e){return{type:c.a.UPDATE_SESSION_PLAN,payload:e}},j=function(e){return{type:c.a.SESSION_ACTIVATION,payload:e}},g=function(e){return{type:c.a.DELETE_SESSION_PLAN,payload:e}},_=function(e){return{type:c.a.CREATE_ACADEMIC_SESSION,payload:e}},O=function(e){return e(!0,""),function(){var t=Object(r.a)(o.a.mark((function t(s){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,i.a.get("".concat(l.a.PLACEMENT,"/postrequestperiod/"));case 4:n=t.sent,console.log({GET_ALL_SESSION_PLANS:n.data}),r=[],200===n.status&&null!==n.data&&n.data.length>0&&(r=n.data),console.log("===================================="),console.log({GetAllAcademicSession:n}),console.log("===================================="),s({type:c.a.GET_ALL_ACADEMIC_SESSION,payload:r}),e(!1,"",r),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.error({error:Object(u.a)(t.t0)}),e(!1,Object(u.a)(t.t0));case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return{type:c.a.UPDATE_ACADEMIC_SESSION,payload:e}},P=function(e){return{type:c.a.ACADEMIC_SESSION_ACTIVATION,payload:e}},v=function(e){return{type:c.a.DELETE_ACADEMIC_SESSION,payload:e}},N=function(e){return e(!0,""),function(){var t=Object(r.a)(o.a.mark((function t(s){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.b)(),t.next=4,i.a.get("".concat(l.a.PLACEMENT,"/postrequestperiod/one"));case 4:n=t.sent,console.log({GET_ACTIVE_ACADEMIC_SESSION:n.data}),r=void 0,n.data&&(r=n.data),console.log({session_plan:n.data}),s({type:c.a.GET_ACTIVE_ACADEMIC_SESSION,payload:r||"none"}),e(!1,"",r||"none"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error({error:Object(u.a)(t.t0)}),e(!1,Object(u.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}},646:function(e,t,s){"use strict";s.d(t,"h",(function(){return p})),s.d(t,"a",(function(){return h})),s.d(t,"k",(function(){return m})),s.d(t,"d",(function(){return b})),s.d(t,"j",(function(){return f})),s.d(t,"c",(function(){return x})),s.d(t,"m",(function(){return j})),s.d(t,"f",(function(){return g})),s.d(t,"i",(function(){return _})),s.d(t,"b",(function(){return O})),s.d(t,"l",(function(){return y})),s.d(t,"e",(function(){return P})),s.d(t,"g",(function(){return N})),s.d(t,"n",(function(){return E}));var n=s(5),o=s.n(n),r=s(7),a=s(8),i=s.n(a),c=s(6),l=s(9),d=s(15),u=s(14),p=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,i.a.get("".concat(l.a.AUTH,"/detailcategory"));case 4:s=e.sent,console.log({docCategory:s}),t({type:c.a.GET_DOCUMENT_CATEGORY,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({error:Object(u.a)(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.CREATE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.UPDATE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,i.a.get("".concat(l.a.AUTH,"/detailsubcategory"));case 4:s=e.sent,console.log({docSubCategory:s}),t({type:c.a.GET_DOCUMENT_SUB_CATEGORY,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({doc_SUB_category_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.CREATE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.UPDATE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,i.a.get("".concat(l.a.AUTH,"/categorysubcatedata"));case 4:s=e.sent,console.log({docFields:s}),t({type:c.a.GET_DOCUMENT_FIELDS,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({doc_SUB_category_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.CREATE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return console.log({reducer:e}),function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.UPDATE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){var t=[],s=[];return e.filter((function(e){return null!==e&&void 0!==e})).forEach((function(e){s.includes(e.user_id)||(t.push(e),s.push(e.user_id))})),t},N=function(e,t,s){return function(){var n=Object(r.a)(o.a.mark((function n(r){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0,"",null),n.prev=1,Object(d.b)(),n.next=5,i.a.get("".concat(l.a.APPLICATION,"/educationtypeuserdocs/").concat(e,"/").concat(t));case 5:a=n.sent,console.log("===================================="),console.log({getCandidatesInInstitute:a,distinctCandidates:v(a.data)}),console.log("===================================="),r({type:c.a.GET_CANDIDATE_IN_INSTITUTE,payload:v(a.data)}),s(!1,"",v(a.data)),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),console.log({getCandidatesInInstitute:n.t0}),s(!1,Object(u.a)(n.t0),null);case 17:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}()},E=function(e){return console.log("===================================="),console.log({verifyDocument:e}),console.log("===================================="),function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.VERIFY_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},652:function(e,t,s){"use strict";s.d(t,"e",(function(){return p})),s.d(t,"c",(function(){return h})),s.d(t,"a",(function(){return m})),s.d(t,"d",(function(){return b})),s.d(t,"b",(function(){return f})),s.d(t,"f",(function(){return x}));var n=s(5),o=s.n(n),r=s(7),a=s(8),i=s.n(a),c=s(6),l=s(9),d=s(15),u=s(14),p=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,i.a.get("".concat(l.a.AUTH,"/settings"));case 5:n=t.sent,s({type:c.a.GET_SYSTEM_SETTINGS,payload:n.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,i.a.get("".concat(l.a.AUTH,"/allroleaccess"));case 5:n=t.sent,r=n.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),s({type:c.a.GET_TASK_ACCESS,payload:r}),e(!1,"",r),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,i.a.get("".concat(l.a.APPLICATION,"/position"));case 5:n=t.sent,s({type:c.a.GET_POSTIONS,payload:n.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return console.log({deletePosition:e}),function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},655:function(e,t,s){"use strict";s.d(t,"k",(function(){return u})),s.d(t,"i",(function(){return p})),s.d(t,"a",(function(){return h})),s.d(t,"m",(function(){return m})),s.d(t,"c",(function(){return b})),s.d(t,"e",(function(){return f})),s.d(t,"j",(function(){return x})),s.d(t,"b",(function(){return j})),s.d(t,"n",(function(){return g})),s.d(t,"d",(function(){return _})),s.d(t,"f",(function(){return O})),s.d(t,"h",(function(){return y})),s.d(t,"g",(function(){return P})),s.d(t,"l",(function(){return v}));var n=s(5),o=s.n(n),r=s(7),a=s(6),i=(s(640),s(15),s(8)),c=s.n(i),l=s(9),d=s(14),u=function(e){return e(!0,""),function(){var t=Object(r.a)(o.a.mark((function t(s){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("".concat(l.a.APPLICATION,"/schools"));case 3:n=t.sent,s({type:a.a.GET_SCHOOLS,payload:n.data}),e(!1,"",n.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var s=Object(r.a)(o.a.mark((function s(n){var r;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.APPLICATION,"/schools/").concat(e));case 4:r=s.sent,n({type:a.a.GET_SCHOOLS_BY_ID,payload:r.data}),t(!1,"",r.data),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 13:case"end":return s.stop()}}),s,null,[[1,9]])})));return function(e){return s.apply(this,arguments)}}()},h=function(e){return console.log({schools:e}),function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:a.a.CREATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:a.a.UPDATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:a.a.DELETE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var s=Object(r.a)(o.a.mark((function s(n){var r;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/requestpost/school/").concat(e));case 4:r=s.sent,console.log("===================================="),console.log({schoolPosts:r}),console.log("===================================="),n({type:a.a.FETCH_SCHOOL_POSTS,payload:r.data}),t(!1,""),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},x=function(e,t){return function(){var s=Object(r.a)(o.a.mark((function s(n){var r;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/placedcandidate/school/").concat(e));case 4:r=s.sent,console.log({getSchoolPlacement:r.data}),n({type:a.a.GET_SCHOOL_PLACEMENT,payload:r.data}),t(!1,"",r.data),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:a.a.CREATE_SCHOOL_POST,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return console.log({TYPE:e,data:t}),function(){var s=Object(r.a)(o.a.mark((function s(n){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n({type:a.a.UPDATE_SCHOOL_POST,payload:{TYPE:e,data:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},_=function(e,t){return function(){var s=Object(r.a)(o.a.mark((function s(n){var r;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/requestpost/district/").concat(e));case 4:r=s.sent,console.log("===================================="),console.log({fetchDistrictPosts:r}),console.log("===================================="),n({type:a.a.FETCH_DISTRICT_POSTS,payload:r.data}),t(!1,""),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},O=function(e,t){return function(){var s=Object(r.a)(o.a.mark((function s(n){var r;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,c.a.get("".concat(l.a.PLACEMENT,"/placedcandidate/district/").concat(e));case 4:r=s.sent,console.log("===================================="),console.log({getDistrictPlacement:r.data}),console.log("===================================="),n({type:a.a.GET_DISTRICT_PLACEMENT,payload:r.data}),t(!1,"",r.data),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},y=function(e,t,s){return function(){var n=Object(r.a)(o.a.mark((function n(r){var i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0,""),n.prev=1,n.next=4,c.a.get("".concat(l.a.PLACEMENT,"/confirmedpostrequest/institute/").concat(e,"/").concat(t));case 4:i=n.sent,console.log("===================================="),console.log({getInstitutePlacementLimit:i.data}),console.log("===================================="),r({type:a.a.GET_INSTITUTE_PLACEMENT_LIMIT,payload:i.data}),s(!1,"",i.data),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),console.log("Err: ",n.t0),s(!1,Object(d.a)(n.t0));case 16:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()},P=function(e,t,s){return function(){var n=Object(r.a)(o.a.mark((function n(r){var i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0,""),n.prev=1,n.next=4,c.a.get("".concat(l.a.PLACEMENT,"/confirmedpostrequest/district/").concat(e,"/").concat(t));case 4:i=n.sent,console.log("===================================="),console.log({getDistrictPlacementLimit:i.data}),console.log("===================================="),r({type:a.a.GET_DISTRICT_PLACEMENT_LIMIT,payload:i.data}),s(!1,"",i.data),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),console.log("Err: ",n.t0),s(!1,Object(d.a)(n.t0));case 16:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return console.log("===================================="),console.log({updateInstitutePlacementLimit:e}),console.log("===================================="),function(){var t=Object(r.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:a.a.UPDATE_INSTITUTE_PLACEMENT_LIMIT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},662:function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return r}));var n,o,r,a=s(31);!function(e){e.INITIATED="initiated",e.CONFIRMED="confirmed",e.RECEIVED="received"}(n||(n={})),function(e){e.Title="title",e.Description="description",e.Files="files",e.email="email",e.names="names",e.phone_number="phone_number",e.position="position",e.relation="relation",e.src="src",e.year="year",e.company="company",e.category_subcategory_data="category_subcategory_data",e.others="others",e.start_year="start_year",e.end_year="end_year",e.School="School"}(o||(o={})),function(e){e.APPROVED="approved",e.REJECTED="rejected"}(r||(r={}));a.c.APPLICATION,a.c.DOCUMENT_VALIDATION,a.c.EXAMINATION,a.c.MARKS_PUBLICATION,a.c.PLACEMENT_TRANSFER},665:function(e,t,s){"use strict";s(4);var n=s(643),o=s(640),r=s(1);t.a=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(n.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Qualification",alignText:"left",padding:"p-3"},{columnTitle:"Document",alignText:"left",padding:"p-3"},{columnTitle:"Status",alignText:"left",padding:"p-3"}],rows:function(){var t=e.requirements;return 0===t.length?[Object(r.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(r.jsx)("td",{className:"p-3 text-center",colSpan:3,children:"No Data Found"})},153)]:t.map((function(e,t){return Object(r.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(r.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(r.jsx)("td",{className:"p-3 text-left",children:Object(r.jsx)("span",{children:e.subcategory_title})}),Object(r.jsx)("td",{className:"p-3 text-left",children:Object(r.jsx)("span",{children:Object(o.f)(e.field_id)?"Any document":e.field_title})}),Object(r.jsx)("td",{className:"p-3 text-left text-lg italic",children:Object(o.f)(e.field_id)?e.subcategory_required?Object(r.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional":e.required?Object(r.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional"})]},t+e.field_id)}))},pagination:!1,search:!1,thColor:"gray"})})}},689:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n,o=s(651),r=s(740),a=s(10),i=s(1);!function(e){e.DELETE="delete",e.INFO="info",e.OTHER="other"}(n||(n={}));t.b=function(e){return Object(i.jsxs)("div",{className:"min-w-screen h-screen animated fadeIn faster  fixed  left-0 top-0 flex justify-center items-center inset-0 z-50 outline-none focus:outline-none bg-no-repeat bg-center bg-cover",id:"modal-id",children:[Object(i.jsx)("div",{className:"absolute bg-black opacity-80 inset-0 z-0"}),Object(i.jsx)("div",{className:"w-full  max-w-lg p-5 relative mx-auto my-auto rounded-xl shadow-lg bg-white animate__animated animate__zoomIn animate__faster",children:Object(i.jsxs)("div",{className:"",children:[Object(i.jsxs)("div",{className:"text-center p-5 flex-auto justify-center",children:[e.modalType===n.DELETE&&Object(i.jsx)(o.a,{className:"w-4 h-4 -m-1 flex items-center text-red-500 mx-auto"}),e.modalType===n.DELETE?Object(i.jsx)(a.C,{className:"w-16 h-16 flex items-center text-red-500 mx-auto"}):e.modalType===n.INFO?Object(i.jsx)(r.a,{className:"w-16 h-16 flex items-center text-blue-500 mx-auto"}):Object(i.jsx)(r.a,{className:"w-16 h-16 flex items-center text-yellow-500 mx-auto"}),Object(i.jsx)("h2",{className:"text-xl font-bold py-4 ",children:"Are you sure?"}),Object(i.jsx)("p",{className:"text-sm text-gray-500 px-8",children:e.description})]}),Object(i.jsxs)("div",{className:"p-3  mt-2 text-center space-x-4 md:block",children:[Object(i.jsx)("button",{className:"mb-2 md:mb-0 bg-white px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-gray-600 rounded-full hover:shadow-lg hover:bg-gray-100",onClick:function(){return e.setModalAction(!1)},children:"Cancel"}),Object(i.jsx)("button",{className:"mb-2 md:mb-0 border px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg ".concat(e.modalType===n.DELETE?"border-red-500 hover:bg-red-600 bg-red-500":e.modalType===n.INFO?"border-blue-500 hover:bg-blue-600 bg-blue-500":"border-yellow-500 hover:bg-yellow-600 bg-yellow-500"),onClick:function(){e.confirmFun(),e.setModalAction(!1)},children:"Confirm"})]})]})})]})}},723:function(e,t,s){"use strict";var n,o,r,a;s.d(t,"a",(function(){return n})),s.d(t,"c",(function(){return o})),s.d(t,"b",(function(){return r})),s.d(t,"d",(function(){return a})),function(e){e.Failed="Failed",e.Passed="Passed"}(n||(n={})),function(e){e.applicant_name="names",e.national_id="national_id",e.phone_number="phone",e.email="email",e.gender="gender",e.position_name="position_name",e.marks="marks",e.status="status"}(o||(o={})),function(e){e.PENDING="pending",e.PLACED="placed",e.REJECTED="rejected"}(r||(r={})),function(e){e.applicant_name="names",e.national_id="national_id",e.phone_number="phone",e.email="email",e.school_name="school_name",e.position_name="position_name",e.waiting_date="waiting_date",e.placement_date="placement_date",e.status="status"}(a||(a={}))},762:function(e,t,s){"use strict";var n=s(5),o=s.n(n),r=s(2),a=s(7),i=s(17),c=s(8),l=s.n(c),d=s(4),u=s(10),p=s(678),h=s(20),m=s(3),b=s(646),f=s(652),x=s(32),j=s(125),g=s(37),_=s(9),O=s(47),y=s(794),P=s(665),v=s(1),N=function(e){var t=[],s=[],n=[],o=[],r=[];for(var a in e){var i=e[a].requirements;for(var c in i){var l=i[c],d=l.category,u=l.subcategory;if(d){if(l.position_requirement.length>0)for(var p in l.position_requirement){var h=l.position_requirement[p];t.push({category_id:d.user_detail_category_id,category_title:d.title,subcategory_id:u.user_detail_subcategory_id,subcategory_title:u.title,subcategory_required:l.required,field_title:h.title,field_id:h._id,required:h.required})}else t.push({category_id:d.user_detail_category_id,category_title:d.title,subcategory_id:u.user_detail_subcategory_id,subcategory_title:u.title,subcategory_required:l.required,field_title:"",field_id:"",required:!1});n.includes(d.user_detail_category_id)||(n.push(d.user_detail_category_id),s.push({category_id:d.user_detail_category_id,category_title:d.title,subcategory_id:"",subcategory_title:"",field_title:"",field_id:"",required:!1,subcategory_required:l.required})),r.includes(u.user_detail_subcategory_id)||(r.push(u.user_detail_subcategory_id),o.push({category_id:u.category_id,category_title:"",subcategory_id:u.user_detail_subcategory_id,subcategory_title:u.title,subcategory_required:l.required,field_title:"",field_id:"",required:!1}))}}}return{PositionsTemp:t,DistinctCategoriesTemp:s,DistinctSubCategoriesTemp:o}};t.a=Object(h.b)((function(e){return{document:e.document}}),{getDocumentSubCategory:b.j,publishPosition:f.f,PushPopupAlert:m.tb})((function(e){var t=Object(d.useState)(""),s=Object(i.a)(t,2),n=s[0],c=s[1],h=Object(d.useState)(!0),m=Object(i.a)(h,2),b=m[0],f=m[1];if(Object(d.useEffect)((function(){e.document.documentSubCategory?f(!1):e.getDocumentSubCategory()}),[e]),b)return Object(v.jsx)(x.a,{});var E=function(){var t=Object(a.a)(o.a.mark((function t(s,n,a){var i,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure do you want to ".concat(n?"publish":"unpublish"," this position?"))){t.next=19;break}return c(s),t.prev=2,t.next=5,l.a.patch("".concat(_.a.APPLICATION,"/publishposition/").concat(s),{isPublished:n});case 5:i=t.sent,e.publishPosition({position_id:s,status:n}),e.PushPopupAlert({title:"".concat(a," ").concat(n?" published":" stopped on application"," successfully"),theme:g.a.info}),(d=Object(r.a)({},e.thisPosition)).isPublished=n,e.setThisPosition&&e.setThisPosition(d),console.log("Position publish: ",i),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),console.error("err: ",t.t0),e.PushPopupAlert({title:Object(O.f)(t.t0),theme:g.a.danger});case 18:c("");case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,s,n){return t.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"w-full",children:Object(v.jsxs)("div",{className:"w-full bg-gray-100 px-4 py-1 animate__animated animate__fadeIn",children:[Object(v.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(v.jsx)("span",{className:"text-blue-600 font-bold text-2xl",children:e.thisPosition.position_title}),Object(v.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(v.jsx)("span",{className:"italic",children:"Desc:"}),Object(v.jsx)("span",{className:"font-semibold",children:e.thisPosition.description})]}),Object(v.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(v.jsx)("span",{className:"italic",children:"School level:"}),Object(v.jsx)("span",{className:"font-semibold",children:e.thisPosition.school_level_id.school_level_name})]}),!e.isGuest&&Object(v.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(v.jsx)("span",{className:"italic",children:"Primary qualification:"}),Object(v.jsx)("span",{className:"font-semibold",children:e.document.documentSubCategory&&Object(y.b)(e.document.documentSubCategory,e.thisPosition.subcategory_id)?Object(y.b)(e.document.documentSubCategory,e.thisPosition.subcategory_id).title:"Undefined"})]}),Object(v.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(v.jsx)("span",{className:"italic",children:"Institute:"}),Object(v.jsx)("span",{className:"font-semibold",children:e.thisPosition.education_institute_id.education_category_title})]}),Object(v.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(v.jsx)("span",{className:"italic",children:"Courses:"}),Object(v.jsx)("span",{className:"flex items-center gap-2",children:e.thisPosition.courses.map((function(t,s){return Object(v.jsxs)("div",{className:"flex items-center gap-1",children:[Object(v.jsx)("span",{className:"font-semibold",children:t.course_name}),Object(v.jsxs)("span",{className:"text-gray-600",children:["(",t.course_code,")"]}),s!==e.thisPosition.courses.length-1&&","]},s+t.course_id)}))})]}),!e.isGuest&&Object(v.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(v.jsx)("span",{className:"italic",children:"Status:"}),Object(v.jsx)("div",{className:"flex flex-row items-center gap-2 mt-1",children:Object(v.jsxs)("div",{className:"relative ".concat(n.length>0?"cursor-not-allowed":"cursor-pointer"," flex items-center gap-1"),onClick:function(){return!n.length&&!e.isGuest&&E(e.thisPosition.position_id,!e.thisPosition.isPublished,e.thisPosition.position_title)},children:[Object(v.jsx)("span",{className:"block w-14 h-8 bg-gray-100 hover:border-gray-100 rounded-full shadow-inner"}),Object(v.jsx)("span",{className:"absolute block w-6 h-6 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-500 ease-in-out ".concat(e.thisPosition.isPublished?"bg-green-500 transform translate-x-full":"bg-yellow-500")}),n===e.thisPosition.position_id?Object(v.jsx)(p.c,{className:"animate__animated animate__rotateIn animate__infinite"}):Object(v.jsx)("span",{className:"font-medium",children:e.thisPosition.isPublished?"Published":"Unpublished"})]})})]})]}),Object(v.jsxs)("div",{className:"bg-white w-full rounded p-2 mb-2",children:[Object(v.jsx)("div",{className:"text-blue-500 text-2xl font-bold my-2",children:"Position Requirements"}),e.thisPosition.requirements.length>0?N([e.thisPosition]).DistinctCategoriesTemp.map((function(t,s){return Object(v.jsxs)("div",{className:"bg-gray-100 rounded p-2",children:[Object(v.jsxs)("div",{className:"flex items-center gap-2 text-2xl text-gray-500 font-bold",children:[Object(v.jsx)(u.Hb,{}),Object(v.jsx)("span",{children:t.category_title})]}),Object(v.jsx)("div",{className:"border bg-white mt-1",children:Object(v.jsx)(P.a,{requirements:N([e.thisPosition]).PositionsTemp.filter((function(e){return e.category_id===t.category_id}))})})]},s+t.category_id)})):Object(v.jsx)(j.b,{theme:j.a.Dark,value:"No requirements"})]})]})})}))},780:function(e,t,s){"use strict";s.d(t,"b",(function(){return T}));var n,o=s(5),r=s.n(o),a=s(7),i=s(25),c=s(24),l=s(27),d=s(26),u=s(8),p=s.n(u),h=s(4),m=s(10),b=s(20),f=s(3),x=s(655),j=s(689),g=s(723),_=s(37),O=s(640),y=s(662),P=s(9),v=s(14),N=s(762),E=s(840),S=s(1);!function(e){e.PENDING="Pending",e.CONFIRMED="Confirmed",e.ALL_RECEIVED="All received",e.PARTIAL_RECEIVED="Received & Pending",e.ALL_REJECTED="All rejected",e.PARTIAL_REJECTED="Rejected & Pending",e.PARTIAL_RECEIVED_REJECTED="Received & Rejected & Pending",e.RECEIVED_REJECTED="Received & Rejected"}(n||(n={}));var T=function(e,t,s,o){if(e===y.c.RECEIVED){if(t===s)return n.ALL_RECEIVED;if(t===o)return n.ALL_REJECTED;if(t===o+s)return n.RECEIVED_REJECTED;if(t>o+s&&s>0&&o>0)return n.PARTIAL_RECEIVED_REJECTED;if(0===o&&t>s)return n.PARTIAL_RECEIVED;if(0===s&&t>o)return n.PARTIAL_REJECTED}return e===y.c.CONFIRMED?n.CONFIRMED:n.PENDING},w=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).setThisPlacement=function(e){n.setState({thisPlacement:e})},n.setAction=function(e){n.setState({action:e})},n.setTakeAction=function(e){n.setState({takeAction:e})},n.submitRequest=function(){var e=Object(a.a)(r.a.mark((function e(t,s){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NOT_RECEIVED"!==s||!Object(O.f)(n.state.comment)){e.next=2;break}return e.abrupt("return",n.props.setFormError({element:"received_comment",msg:"Reason of your decision is required!"}));case 2:if(o=0,o="NOT_RECEIVED"===s?n.props.thisPost.received_posts?n.props.thisPost.received_posts:0:n.props.thisPost.received_posts?n.props.thisPost.received_posts+1:1,n.props.setLoadingRequest(!0),e.prev=5,!n.props.thisPost){e.next=11;break}return e.next=9,p.a.patch("".concat(P.a.PLACEMENT,"/requestpost/").concat(n.props.thisPost._id),{confirmed_posts:n.props.thisPost.confirmed_posts,confirmed_by:n.props.auth.user.user_id,received_posts:o,approval_date:n.props.thisPost.approval_date,school_id:n.props.thisPost.school_id,position_id:n.props.thisPost.position_id,district_id:n.props.thisPost.district_id,needed_posts:n.props.thisPost.needed_posts,male_number:n.props.thisPost.male_number,female_number:n.props.thisPost.female_number,description:n.props.thisPost.description,occupied_posts:n.props.thisPost.occupied_posts,requested_by:n.props.auth.user.user_id,requested_post_status:y.c.RECEIVED});case 9:e.sent&&n.confirmPlacement(t);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error({role_error:e.t0}),n.props.PushPopupAlert({title:Object(v.a)(e.t0),theme:_.a.danger});case 17:n.props.setLoadingRequest(!1);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,s){return e.apply(this,arguments)}}(),n.confirmPlacement=function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.setLoadingRequest(!0),e.prev=1,!n.props.thisPost){e.next=7;break}return e.next=5,p.a.post("".concat(P.a.PLACEMENT,"/confirmreceived"),{placedStatus:[{waiting_list_id:t.waiting_list_id,placed_candidate_id:t._id,status:"NOT_RECEIVED"===n.state.action?g.b.REJECTED:g.b.PLACED}]});case 5:e.sent&&(n.props.fetchSchoolPosts(n.props.auth.user_access.school_id,(function(e,t){e||(t.length>0&&n.props.loadingPost&&(console.error("error loading school post: ",t),n.props.PushPopupAlert({title:t,theme:_.a.danger})),n.props.setLoadingPost(!1))})),n.props.getSchoolPlacement(n.props.auth.user_access.school_id,(function(e,t,s){n.props.setLoadingPost(e),!e&&t.length>0&&(console.error({getSchoolPlacementError:t}),n.props.PushPopupAlert({title:t,theme:_.a.danger}))})),n.props.setFormError(null),n.setState({comment:"",placement_id:"",action:null}),!n.props.viewPost&&n.props.setThisPost(null),n.props.setReceivedPosts(0),n.props.setModalState(null),n.props.PushPopupAlert({title:"Request has been done completely!",theme:_.a.info}));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error({role_error:e.t0}),n.props.PushPopupAlert({title:Object(v.a)(e.t0),theme:_.a.danger});case 13:n.props.setLoadingRequest(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),n.state={placement_id:"",action:null,thisPlacement:null,takeAction:!1,comment:""},n}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(S.jsxs)("section",{children:[Object(S.jsxs)("div",{className:"border-b-2 border-gray-200 mb-2 pb-1 flex items-center gap-3",children:[Object(S.jsx)("button",{className:"ml-3 bg-gray-100 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none ".concat(this.props.loadingRequest?"cursor-wait":"cursor-pointer"," animate__animated animate__fadeIn"),disabled:this.props.loadingRequest,onClick:function(){e.props.setThisPost(null),e.props.setReceivedPosts(0),e.props.setModalState(null)},children:Object(S.jsx)(m.f,{className:"text-4xl"})}),Object(S.jsx)("span",{className:"font-bold text-2xl md:text-3xl text-gray-700",children:"Confirm teacher arrival"})]}),Object(S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 divide-x-0 divide-y md:divide-x md:divide-y-0",children:[Object(S.jsx)("div",{className:"px-1 mb-4 mt-3",children:Object(S.jsxs)("div",{className:"text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(S.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(S.jsx)("span",{className:"text-gray-500 italic",children:"Position: "}),Object(S.jsx)("span",{className:"font-bold",children:Object(O.d)(this.props.systemPositions,this.props.thisPost.position_id)?Object(O.d)(this.props.systemPositions,this.props.thisPost.position_id).position_title:"Unknown position"})]}),Object(S.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(S.jsx)("thead",{className:"bg-blue-50 border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"px-2 py-2",children:"Requested posts"}),Object(S.jsx)("td",{className:"px-2 py-2",children:"Approved posts"}),Object(S.jsx)("td",{className:"px-2 py-2",children:"Placed posts"}),Object(S.jsx)("td",{className:"px-2 py-2",children:"Received posts"}),Object(S.jsx)("td",{className:"px-2 py-2",children:"Not received posts"}),Object(S.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(S.jsx)("tbody",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"px-2 py-2",children:this.props.thisPost.needed_posts}),Object(S.jsx)("td",{className:"px-2 py-2",children:this.props.thisPost.requested_post_status!==y.c.INITIATED?Object(S.jsx)("div",{className:"flex items-center gap-1",children:this.props.thisPost.confirmed_posts}):"-"}),Object(S.jsx)("td",{className:"px-2 py-2",children:this.props.thisPost.requested_post_status!==y.c.INITIATED?Object(S.jsx)("span",{children:Object(E.getPlacementByRequest)(this.props.placementList,this.props.thisPost._id).length}):"-"}),Object(S.jsx)("td",{className:"px-2 py-2",children:this.props.thisPost.requested_post_status===y.c.RECEIVED?this.props.thisPost.received_posts:"-"}),Object(S.jsx)("td",{className:"px-2 py-2",children:this.props.thisPost.requested_post_status===y.c.RECEIVED?Object(S.jsx)("span",{children:Object(E.getPlacementByRequest)(this.props.placementList,this.props.thisPost._id,g.b.REJECTED).length}):"0"}),Object(S.jsx)("td",{className:"px-2 py-2",children:Object(S.jsx)("span",{className:"px-2 py-1 mx-1 font-semibold rounded ".concat(this.props.thisPost.requested_post_status===y.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":this.props.thisPost.requested_post_status===y.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:T(this.props.thisPost.requested_post_status,Object(E.getPlacementByRequest)(this.props.placementList,this.props.thisPost._id,"all").length,Object(E.getPlacementByRequest)(this.props.placementList,this.props.thisPost._id,g.b.PLACED).length,Object(E.getPlacementByRequest)(this.props.placementList,this.props.thisPost._id,g.b.REJECTED).length)})})]})})]}),Object(S.jsx)("div",{className:"my-2",children:Object(O.d)(this.props.systemPositions,this.props.thisPost.position_id)&&Object(S.jsx)(N.a,{thisPosition:Object(O.d)(this.props.systemPositions,this.props.thisPost.position_id),isGuest:!0})})]})}),Object(S.jsx)("div",{className:"px-4 mt-3 mb-4",children:Object(E.getPlacementByRequest)(this.props.placementList,this.props.thisPost._id).map((function(t,s){return Object(S.jsxs)("div",{className:"relative grid grid-cols-1 gap-4 px-4 py-1 mb-8 border rounded bg-white shadow",children:[Object(S.jsxs)("div",{className:"relative flex gap-4",children:[Object(S.jsx)("img",{src:P.a.AUTH_FILES+"/"+t.user_info.photo,className:"object-center object-cover relative rounded-lg -top-4 -mb-3 bg-white border h-20 w-20",alt:"",loading:"lazy"}),Object(S.jsxs)("div",{className:"flex flex-col w-full",children:[Object(S.jsx)("div",{className:"flex flex-row justify-between",children:Object(S.jsx)("p",{className:"relative text-xl whitespace-nowrap truncate overflow-hidden",children:t.user_info.fname+" "+t.user_info.lname})}),Object(S.jsxs)("p",{className:"text-gray-500 text-sm flex items-center gap-1",children:[Object(S.jsx)(m.Db,{})," ",t.phone_number]}),Object(S.jsxs)("p",{className:"text-gray-500 text-sm flex items-center gap-1",children:[Object(S.jsx)(m.bb,{})," ",t.email]})]})]}),Object(S.jsxs)("div",{className:"-mt-3 overflow-x-hidden",children:["NOT_RECEIVED"!==e.state.action&&Object(S.jsxs)("div",{className:"flex flex-row-reverse gap-2",children:[Object(S.jsx)("div",{className:"flex-initial",children:Object(S.jsxs)("button",{type:"button",className:"btn btn-blue flex items-center font-medium tracking-wide capitalize transition duration-300 transform active:scale-95 ease-in-out",disabled:e.props.loadingRequest,onClick:function(){e.setState({placement_id:t._id,action:"RECEIVED",thisPlacement:t,takeAction:!0})},children:[Object(S.jsx)(m.Gb,{}),Object(S.jsx)("span",{className:"pl-2 mx-1",children:e.props.loadingRequest&&t._id===e.state.placement_id?"Loading...":"Received"})]})}),Object(S.jsx)("div",{className:"flex-initial",children:Object(S.jsxs)("button",{type:"button",className:"btn flex items-center px-5 py-2.5 font-medium tracking-wide text-black capitalize hover:bg-red-200 hover:fill-current hover:text-red-600 focus:outline-none transition duration-300 transform active:scale-95 ease-in-out",disabled:e.props.loadingRequest,onClick:function(){return e.setState({placement_id:t._id,action:"NOT_RECEIVED",thisPlacement:t})},children:[Object(S.jsx)(m.F,{}),Object(S.jsx)("span",{className:"pl-2 mx-1",children:"Not received"})]})})]}),"NOT_RECEIVED"===e.state.action&&e.state.placement_id===t._id&&Object(S.jsxs)("div",{className:"flex flex-col md:flex-row items-end md:items-start gap-2 animate__animated animate__fadeInRight animate__faster mt-2",children:[Object(S.jsxs)("div",{className:"w-full",children:[Object(S.jsx)("textarea",{className:"border-2 rounded p-2 md:text-base w-full ".concat(e.props.formError&&"received_comment"===e.props.formError.element?"border-red-500":"border-gray-300"," focus:border-gray-500"),placeholder:"comment",onChange:function(t){e.setState({comment:t.target.value}),e.props.formError&&"received_comment"===e.props.formError.element&&e.props.setFormError(null)},value:e.state.comment,style:{resize:"none"}}),e.props.formError&&"received_comment"===e.props.formError.element&&Object(S.jsx)("span",{className:"text-red-700 text-sm",children:e.props.formError.msg})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{type:"button",className:"btn bg-gray-100 hover:bg-gray-400 w-full font-medium tracking-wide capitalize transition duration-300 transform active:scale-95 ease-in-out",disabled:e.props.loadingRequest,onClick:function(){return e.setTakeAction(!0)},children:e.props.loadingRequest&&t._id===e.state.placement_id?"Loading...":"Confirm"}),Object(S.jsx)("button",{type:"button",className:"btn bg-red-100  w-full hover:bg-red-400 font-medium tracking-wide capitalize transition duration-300 transform active:scale-95 ease-in-out",disabled:e.props.loadingRequest,onClick:function(){return e.setState({placement_id:"",action:null,thisPlacement:null})},children:e.props.loadingRequest&&t._id===e.state.placement_id?"Loading...":"Cancel"})]})]})]})]},s+t._id)}))})]}),this.state.thisPlacement&&this.state.action&&this.state.takeAction&&Object(S.jsx)(j.b,{confirmFun:function(){e.setTakeAction(!1),e.submitRequest(e.state.thisPlacement,e.state.action)},setModalAction:function(t){e.setTakeAction(t),e.setThisPlacement(null),e.setAction(null),e.setState({placement_id:""})},description:"NOT_RECEIVED"===this.state.action?"Do you really confirm that ".concat(this.state.thisPlacement.user_info.fname," ").concat(this.state.thisPlacement.user_info.lname," didn't or will not come?"):"Do you really confirm that you have received ".concat(this.state.thisPlacement.user_info.fname," ").concat(this.state.thisPlacement.user_info.lname,"?"),modalType:j.a.INFO})]})}}]),s}(h.Component);t.a=Object(b.b)((function(e){return{auth:e.auth}}),{fetchSchoolPosts:x.e,getSchoolPlacement:x.j,PushPopupAlert:f.tb})(w)},794:function(e,t,s){"use strict";s.d(t,"b",(function(){return P}));var n=s(5),o=s.n(n),r=s(7),a=s(17),i=s(8),c=s.n(i),l=s(4),d=s(10),u=s(20),p=s(3),h=s(646),m=s(652),b=s(32),f=s(37),x=s(9),j=s(14),g=s(643),_=s(640),O=s(1),y=Object(u.b)((function(e){return{document:e.document}}))((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Qualification",alignText:"left",padding:"p-3"},{columnTitle:"Document",alignText:"left",padding:"p-3"},{columnTitle:"Status",alignText:"left",padding:"p-3"}],rows:function(){var t=e.requirementsArray;return 0===t.length?[Object(O.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(O.jsx)("td",{className:"p-3 text-center",colSpan:3,children:"No Requirement Found"})},1)]:t.map((function(e,t){return Object(O.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(O.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(O.jsx)("td",{className:"p-3 text-left",children:Object(O.jsx)("span",{children:e.subcategory_title})}),Object(O.jsx)("td",{className:"p-3 text-left",children:Object(O.jsx)("span",{children:Object(_.f)(e.field_id)?"Any document":e.field_title})}),Object(O.jsx)("td",{className:"p-3 text-left text-lg italic",children:Object(_.f)(e.field_id)?e.subcategory_required?Object(O.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional":e.required?Object(O.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional"})]},t+e.field_id)}))},pagination:!1,search:!1,thColor:"white"})})})),P=function(e,t){return e.find((function(e){return e.user_detail_subcategory_id===t}))};t.a=Object(u.b)((function(e){return{document:e.document,systemPositions:e.system_settings.systemPositions}}),{getDocumentCategory:h.h,getDocumentSubCategory:h.j,getDocumentFields:h.i,getPositions:m.d,PushPopupAlert:p.tb})((function(e){var t=Object(l.useState)(!1),s=Object(a.a)(t,2),n=s[0],i=s[1],u=Object(l.useState)(!0),p=Object(a.a)(u,2),h=p[0],m=p[1];Object(l.useEffect)((function(){e.document.documentCategory?e.document.documentSubCategory?e.document.documentFields?m(!1):e.getDocumentFields():e.getDocumentSubCategory():e.getDocumentCategory()}),[e]);var g=function(){var t=Object(r.a)(o.a.mark((function t(){var s,n,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i(!0),e.thisRequirementList){t.next=3;break}return t.abrupt("return",e.PushPopupAlert({title:"Please add requirement",theme:f.a.warning}));case 3:if(t.prev=3,"UPDATE_POSITION"!==e.modalAction){t.next=20;break}return s={position_id:e.positionId,position_title:e.positionTitle,description:e.positionDesc,subcategory_id:e.positionSubCategoryId,school_level_id:e.thisLevel.school_level_id,education_institute_id:e.thisEdication.education_institute_id,courses:e.thisCoursesId,requirements:e.thisRequirementList},t.next=8,c.a.patch("".concat(x.a.APPLICATION,"/position"),s);case 8:n=t.sent,console.log("===================================="),console.log({update_position:s}),console.log({"Result: ":n}),console.log("===================================="),e.getPositions((function(t,s){i(t),s.length&&e.PushPopupAlert({title:s,theme:f.a.danger})})),e.PushPopupAlert({title:"Position updated successfully",theme:f.a.info}),e.systemPositions&&e.setThisPosition(null),e.cleanStates(),e.setModalAction(!1),t.next=32;break;case 20:return r={position_title:e.positionTitle,description:e.positionDesc,school_level_id:e.thisLevel.school_level_id,subcategory_id:e.positionSubCategoryId,education_institute_id:e.thisEdication.education_institute_id,courses:e.thisCoursesId,requirements:e.thisRequirementList},console.log("===================================="),console.log({create_position:r}),console.log("===================================="),t.next=26,c.a.post("".concat(x.a.APPLICATION,"/position"),r);case 26:a=t.sent,e.getPositions((function(t,s){i(t),s.length&&e.PushPopupAlert({title:s,theme:f.a.danger})})),e.PushPopupAlert({title:"Position created successfully",theme:f.a.success}),e.cleanStates(),e.setModalAction(!1),console.log("CREATING_NEW_POSITION: ",a);case 32:t.next=39;break;case 34:t.prev=34,t.t0=t.catch(3),e.PushPopupAlert({title:"".concat(Object(j.a)(t.t0),"! Try again"),theme:f.a.danger}),console.error("Err: ",{error:t.t0}),i(!1);case 39:case"end":return t.stop()}}),t,null,[[3,34]])})));return function(){return t.apply(this,arguments)}}();if(h)return Object(O.jsx)(b.a,{});var _=function(t){var s=[],n=[],o=[],r=[],a=[],i=function(i){if(e.document.documentCategory&&e.document.documentSubCategory&&e.document.documentFields){var c=e.document.documentCategory.find((function(e){return e.user_detail_category_id===t[i].user_detail_category_id})),l=e.document.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t[i].user_detail_subcategory_id}));if(c&&l)if(o.includes(t[i].user_detail_category_id)||(o.push(t[i].user_detail_category_id),n.push({category_id:t[i].user_detail_category_id,category_title:c.title,subcategory_id:"",subcategory_title:"",subcategory_required:t[i].required,field_title:"",field_id:"",required:!1})),a.includes(t[i].user_detail_subcategory_id)||(a.push(t[i].user_detail_subcategory_id),r.push({category_id:t[i].user_detail_category_id,category_title:"",subcategory_id:t[i].user_detail_subcategory_id,subcategory_title:l.title,subcategory_required:!1,field_title:"",field_id:"",required:!1})),t[i].position_requirement.length>0){var d=function(n){var o=t[i].position_requirement[n];s.push({category_id:c.user_detail_category_id,category_title:c.title,subcategory_id:l.user_detail_subcategory_id,subcategory_title:l.title,subcategory_required:t[i].required,field_title:e.document.documentFields.find((function(e){return e._id===o.category_subcategory_data_id}))?e.document.documentFields.find((function(e){return e._id===o.category_subcategory_data_id})).title:"",field_id:o.category_subcategory_data_id,required:o.required})};for(var u in t[i].position_requirement)d(u)}else s.push({category_id:c.user_detail_category_id,category_title:c.title,subcategory_id:l.user_detail_subcategory_id,subcategory_title:l.title,subcategory_required:t[i].required,field_title:"",field_id:"",required:!1})}};for(var c in t)i(c);return{PositionsTemp:s,DistinctCategoriesTemp:n,DistinctSubCategoriesTemp:r}};return Object(O.jsxs)(l.Fragment,{children:[Object(O.jsxs)("div",{className:"w-full px-4 py-1 mt-4 animate__animated animate__fadeIn",children:[Object(O.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(O.jsx)("span",{className:"text-blue-600 font-bold text-2xl",children:e.positionTitle}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Desc:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.positionDesc})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"School level:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.thisLevel.school_level_name})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Primary qualification:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.document.documentSubCategory&&P(e.document.documentSubCategory,e.positionSubCategoryId)?P(e.document.documentSubCategory,e.positionSubCategoryId).title:"Undefined"})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Institute:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.thisEdication.education_category_title})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Courses:"}),Object(O.jsx)("span",{className:"flex items-center gap-2",children:e.thisCourses.map((function(t,s){return Object(O.jsxs)("div",{className:"flex items-center gap-1",children:[Object(O.jsx)("span",{className:"font-semibold",children:t.course_name}),Object(O.jsxs)("span",{className:"text-gray-600",children:["(",t.course_code,")"]}),s!==e.thisCourses.length-1&&","]},s+t.course_id)}))})]})]}),Object(O.jsxs)("div",{className:"bg-white w-full rounded p-2 mb-2",children:[Object(O.jsx)("div",{className:"text-blue-500 text-2xl font-bold my-2",children:"Position Requirements"}),e.thisRequirementList&&e.thisRequirementList.length>0?_(e.thisRequirementList).DistinctCategoriesTemp.map((function(t,s){return Object(O.jsxs)("div",{className:"bg-gray-100 rounded p-2",children:[Object(O.jsxs)("div",{className:"flex items-center gap-2 text-2xl text-gray-500 font-bold",children:[Object(O.jsx)(d.Hb,{}),Object(O.jsx)("span",{children:t.category_title})]}),Object(O.jsx)("div",{className:"border bg-white mt-1",children:e.thisRequirementList&&Object(O.jsx)(y,{requirementsArray:_(e.thisRequirementList).PositionsTemp.filter((function(e){return e.category_id===t.category_id}))})})]},s+t.category_id)})):Object(O.jsx)("div",{children:"No Data"})]})]}),Object(O.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[Object(O.jsx)("button",{className:"btn bg-gray-500 text-gray-50 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return e.setFormSteps({ONE:!1,TWO:!1,THREE:!0,FOUR:!1})},children:"Back"}),Object(O.jsx)("button",{className:"btn btn-blue mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){return g()},disabled:n,children:n?"Loading...":"Save"})]})]})}))},840:function(e,t,s){"use strict";s.r(t),s.d(t,"getPlacementByRequest",(function(){return G})),s.d(t,"PostRequest",(function(){return V}));var n=s(25),o=s(24),r=s(27),a=s(26),i=s(4),c=s(941),l=s(10),d=s(20),u=s(30),p=s(3),h=s(655),m=s(644),b=s(652),f=s(723),x=s(37),j=s(640),g=s(780),_=s(167),O=s(125),y=s(662),P=s(22),v=s(1),N=function(e){Object(r.a)(s,e);var t=Object(a.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(v.jsx)(P.d,{backDrop:!0,theme:P.c.default,close:function(){e.props.setThisPost(null),e.props.setViewPost(!1)},displayClose:!0,backDropClose:!1,title:Object(v.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Viewing Post Request"})})}),widthSizeClass:P.b.large,padding:{title:!0,body:!1,footer:!1},children:Object(v.jsxs)("section",{className:"px-4 mx-auto mb-4 mt-3 flex items-start",children:[Object(v.jsxs)("section",{className:"w-full",children:[Object(v.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(v.jsx)("span",{className:"text-gray-500 italic",children:"Position: "}),Object(v.jsx)("span",{className:"font-bold",children:Object(j.d)(this.props.systemPositions,this.props.thisPost.position_id)?Object(j.d)(this.props.systemPositions,this.props.thisPost.position_id).position_title:"Unknown position"})]}),Object(v.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(v.jsx)("span",{className:"text-gray-500 italic",children:"Requested posts: "}),Object(v.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.needed_posts})]}),Object(v.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(v.jsx)("span",{className:"text-gray-500 italic",children:"Approved posts: "}),Object(v.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.requested_post_status!==y.c.INITIATED?this.props.thisPost.confirmed_posts:"-"})]}),Object(v.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(v.jsx)("span",{className:"text-gray-500 italic",children:"Placed posts: "}),Object(v.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.requested_post_status!==y.c.INITIATED?Object(v.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return e.props.setModalState("RECEIVE")},children:[G(this.props.schoolPlacements,this.props.thisPost._id).length,G(this.props.schoolPlacements,this.props.thisPost._id).length>0&&Object(v.jsx)(_.g,{className:"bg-yellow-600 w-5 h-5 text-white"})]}):"-"})]}),Object(v.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(v.jsx)("span",{className:"text-gray-500 italic",children:"Received posts: "}),Object(v.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.requested_post_status===y.c.RECEIVED?this.props.thisPost.received_posts:"-"})]}),Object(v.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(v.jsx)("span",{className:"text-gray-500 italic",children:"Number of female: "}),Object(v.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.female_number})]}),Object(v.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(v.jsx)("span",{className:"text-gray-500 italic",children:"Number of male: "}),Object(v.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.male_number})]}),Object(v.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(v.jsx)("span",{className:"text-gray-500 italic",children:"Request reason: "}),Object(v.jsx)("span",{className:"font-bold text-xl",children:this.props.thisPost.description})]}),Object(v.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(v.jsx)("span",{className:"text-gray-500 italic",children:"Status: "}),Object(v.jsx)("span",{className:"px-2 py-1 mx-1 font-semibold rounded ".concat(this.props.thisPost.requested_post_status===y.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":this.props.thisPost.requested_post_status===y.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:this.props.thisPost.requested_post_status===y.c.INITIATED?"Pending":Object(j.a)(this.props.thisPost.requested_post_status)})]})]}),Object(v.jsxs)("div",{className:"mb-3 flex items-center justify-end gap-2",children:[this.props.thisPost.requested_post_status===y.c.INITIATED&&Object(v.jsx)("button",{className:"font-bold py-1 px-4 rounded bg-gray-500 text-white hover:bg-gray-700",onClick:function(){e.props.setModalState("UPDATE"),e.props.setPostId(e.props.thisPost._id),e.props.setPositionId(e.props.thisPost.position_id),e.props.setRequestedPosts(e.props.thisPost.needed_posts),e.props.setRequestExplanation(e.props.thisPost.description),e.props.setFemaleOnPosition(e.props.thisPost.female_number),e.props.setMaleOnPosition(e.props.thisPost.male_number),e.props.setFormSteps({ONE:!0,TWO:!1}),e.props.setStepState({ONE:!1,TWO:!1})},disabled:this.props.thisPost.requested_post_status!==y.c.INITIATED,children:"Edit"}),this.props.thisPost.requested_post_status!==y.c.INITIATED&&G(this.props.schoolPlacements,this.props.thisPost._id).length>0&&Object(v.jsx)("button",{className:"font-bold py-1 px-2 rounded bg-gray-500 text-white hover:bg-gray-700",onClick:function(){return e.props.setModalState("RECEIVE")},children:"Receive"})]})]})})}}]),s}(i.Component),E=function(e){Object(r.a)(s,e);var t=Object(a.a)(s);function s(e){var o;return Object(n.a)(this,s),(o=t.call(this,e)).setSearchInput=function(e){o.setState({searchInput:e})},o.state={searchInput:""},o}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:[Object(v.jsx)("div",{className:"flex flex-col md:flex-row",children:Object(v.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none",onChange:function(t){return e.props.setFilterByPosition(t.target.value)},value:this.props.filterByPosition,children:[Object(v.jsx)("option",{value:"all",children:"All Position"}),this.props.systemPositions&&this.props.systemPositions.length>0?this.props.systemPositions.map((function(e,t){return Object(v.jsx)("option",{value:e.position_id,children:e.position_title},t+1)})):Object(v.jsx)("option",{value:"",children:"No Position found"})]})}),Object(v.jsx)("div",{className:"block relative",children:Object(v.jsx)("div",{className:"pt-6 md:pt-0 md:pl-6",children:Object(v.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",onClick:function(){return e.props.setModalState("CREATE")},disabled:this.props.loadingRequest,children:"Request Teacher"})})})]}),Object(v.jsx)("div",{className:"w-full py-2",children:Object(v.jsx)("input",{onChange:function(t){return e.setSearchInput(t.target.value)},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-50 border-2 border-gray-400 py-2 px-3 rounded focus:border-gray-800",disabled:this.props.schoolPosts.length<=0||this.props.loadingRequest})}),Object(v.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(v.jsx)("thead",{className:"bg-blue-50 border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(v.jsx)("td",{className:"px-2 py-2",children:"Position"}),Object(v.jsx)("td",{className:"px-2 py-2",children:"Current F"}),Object(v.jsx)("td",{className:"px-2 py-2",children:"Current M"}),Object(v.jsx)("td",{className:"px-2 py-2",children:"Request"}),Object(v.jsx)("td",{className:"px-2 py-2",children:"Approved"}),Object(v.jsx)("td",{className:"px-2 py-2",children:"Placed"}),Object(v.jsx)("td",{className:"px-2 py-2",children:"Received"}),Object(v.jsx)("td",{className:"px-2 py-2",children:"Not Received"}),Object(v.jsx)("td",{className:"px-2 py-2",children:"Vacant"}),Object(v.jsx)("td",{className:"px-2 py-2",children:"Status"}),Object(v.jsx)("td",{className:"px-2 py-2"})]})}),Object(v.jsx)("tbody",{children:this.props.schoolPosts.length>0?this.props.schoolPosts.map((function(t,s){return Object(v.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(v.jsx)("td",{className:"px-2 py-3 text-left font-medium",children:s+1}),Object(v.jsx)("td",{className:"py-3 px-1 text-left font-medium",children:e.props.systemPositions&&Object(j.d)(e.props.systemPositions,t.position_id)?Object(j.d)(e.props.systemPositions,t.position_id).position_title:"Unknown position"}),Object(v.jsx)("td",{className:"py-3 px-3 text-left text-base font-medium",children:t.female_number}),Object(v.jsx)("td",{className:"py-3 px-3 text-left text-base font-medium",children:t.male_number}),Object(v.jsx)("td",{className:"py-3 px-3 text-left text-base font-medium",children:t.needed_posts}),Object(v.jsx)("td",{className:"py-3 px-3 text-left text-base font-medium",children:t.requested_post_status!==y.c.INITIATED?t.confirmed_posts:"-"}),Object(v.jsx)("td",{className:"py-3 px-3 text-left text-base font-medium",children:Object(v.jsxs)("div",{className:"flex items-center gap-1",children:[t.confirmed_posts&&G(e.props.schoolPlacements,t._id).length,G(e.props.schoolPlacements,t._id).length>0&&Object(v.jsx)(_.g,{className:"bg-yellow-600 w-5 h-5 text-white cursor-pointer",onClick:function(){e.props.setModalState("RECEIVE"),e.props.setThisPost(t)}})]})}),Object(v.jsx)("td",{className:"py-3 px-3 text-left text-base font-medium",children:t.received_posts}),Object(v.jsx)("td",{className:"py-3 px-3 text-left text-base font-medium",children:t.confirmed_posts&&G(e.props.schoolPlacements,t._id,f.b.REJECTED).length}),Object(v.jsx)("td",{className:"py-3 px-3 text-left text-base font-medium",children:t.confirmed_posts&&G(e.props.schoolPlacements,t._id,"all").length-G(e.props.schoolPlacements,t._id,f.b.PLACED).length}),Object(v.jsx)("td",{children:Object(v.jsx)("span",{className:"px-2 py-1 font-semibold rounded ".concat(t.requested_post_status===y.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":t.requested_post_status===y.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:Object(g.b)(t.requested_post_status,G(e.props.schoolPlacements,t._id,"all").length,G(e.props.schoolPlacements,t._id,f.b.PLACED).length,G(e.props.schoolPlacements,t._id,f.b.REJECTED).length)})}),Object(v.jsx)("td",{className:"py- text-left",children:Object(v.jsxs)("div",{className:"flex item-center justify-end gap-1",children:[Object(v.jsx)("button",{className:"btn btn-blue transition ease-out duration-500 flex items-center",title:"View User Profile",onClick:function(){e.props.setThisPost(t),e.props.setViewPost(!0)},children:"Details"}),t.requested_post_status===y.c.INITIATED&&Object(v.jsx)("button",{className:"btn bg-gray-500 text-white hover:bg-gray-700",onClick:function(){e.props.setModalState("UPDATE"),e.props.setPostId(t._id),e.props.setPositionId(t.position_id),e.props.setRequestedPosts(t.needed_posts),e.props.setRequestExplanation(t.description),e.props.setFemaleOnPosition(t.female_number),e.props.setMaleOnPosition(t.male_number),e.props.setFormSteps({ONE:!0,TWO:!1}),e.props.setStepState({ONE:!1,TWO:!1})},disabled:e.props.loadingRequest,children:"Edit"}),G(e.props.schoolPlacements,t._id).length>0&&Object(v.jsx)("button",{className:"btn bg-green-600 text-white hover:bg-green-700",onClick:function(){e.props.setModalState("RECEIVE"),e.props.setThisPost(t)},disabled:e.props.loadingRequest,children:"Receive"})]})})]},s+t._id)})):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:12,children:Object(v.jsx)(O.b,{theme:O.a.Dark,value:"No request have been made!"})})})})]}),this.props.viewPost&&null===this.props.modalState&&this.props.thisPost&&this.props.systemPositions&&Object(v.jsx)(N,{thisPost:this.props.thisPost,setThisPost:this.props.setThisPost,setViewPost:this.props.setViewPost,systemPositions:this.props.systemPositions,schoolPlacements:this.props.schoolPlacements,setPostId:this.props.setPostId,setModalState:this.props.setModalState,setPositionId:this.props.setPositionId,setRequestedPosts:this.props.setRequestedPosts,setRequestExplanation:this.props.setRequestExplanation,setFemaleOnPosition:this.props.setFemaleOnPosition,setMaleOnPosition:this.props.setMaleOnPosition,setFormSteps:this.props.setFormSteps,setStepState:this.props.setStepState})]})}}]),s}(i.Component),S=s(5),T=s.n(S),w=s(7),I=s(8),C=s.n(I),A=s(9),q=s(14),R=s(762),L=s(126),k=s(678),D=function(e){return Object(v.jsx)(i.Fragment,{children:Object(v.jsx)("div",{className:"p-5",children:Object(v.jsx)("div",{className:"mx-4 p-4",children:Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsxs)("div",{className:"flex items-center ".concat(1===e.currentStep?"text-white":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.ONE&&e.setFormSteps({ONE:!0,TWO:!1})},children:[Object(v.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(1===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.ONE?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(v.jsx)(L.l,{className:"feather feather-bookmark w-full h-full"})}),Object(v.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(1===e.currentStep?"text-blue-500":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"),children:"Position"})]}),Object(v.jsx)("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out ".concat(e.stepState.ONE?"border-blue-500":"border-gray-300")}),Object(v.jsxs)("div",{className:"flex items-center ".concat(4===e.currentStep?"text-white":e.stepState.TWO?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.TWO&&e.setFormSteps({ONE:!1,TWO:!1})},children:[Object(v.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(4===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.TWO?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(v.jsx)(k.d,{className:"feather feather-database w-full h-full"})}),Object(v.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(4===e.currentStep||e.stepState.TWO?"text-blue-500":"text-gray-500"),children:"Description"})]})]})})})})},M=function(e){Object(r.a)(s,e);var t=Object(a.a)(s);function s(e){var o;return Object(n.a)(this,s),(o=t.call(this,e)).GetAllowedPositions=function(e){if(o.props.systemPositions){if(o.props.schoolPosts.length>0){var t=[];for(var s in o.props.schoolPosts)Object.prototype.hasOwnProperty.call(o.props.schoolPosts,s)&&(o.props.schoolPosts[s].requested_post_status!==y.c.RECEIVED||o.props.schoolPosts[s].requested_post_status!==y.c.CONFIRMED&&o.props.schoolPosts[s].confirmed_posts&&0===o.props.schoolPosts[s].confirmed_posts)&&(e&&e===o.props.schoolPosts[s].position_id||t.push(o.props.schoolPosts[s].position_id));return e&&(t=t.filter((function(t){return t!==e}))),o.props.systemPositions.filter((function(e){return!t.includes(e.position_id)}))}return o.props.systemPositions}return[]},o.submitRequest=function(){var e=Object(w.a)(T.a.mark((function e(t){var s,n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(o.props.requestedPosts<=0)){e.next=3;break}return e.abrupt("return",o.props.setFormError({element:"requested_posts",msg:"Needed post must be greater than 0"}));case 3:if(!Object(j.f)(o.props.requestExplanation)){e.next=5;break}return e.abrupt("return",o.props.setFormError({element:"comment",msg:"Explanation is required!"}));case 5:if(s=o.props.mySchool){e.next=8;break}return e.abrupt("return",o.props.PushPopupAlert({title:"No district id found",theme:x.a.danger}));case 8:if("UPDATE"!==o.props.modalState||!Object(j.f)(o.props.postId)){e.next=10;break}return e.abrupt("return",o.setState({error:"Post id not find"}));case 10:if(o.props.setLoadingRequest(!0),e.prev=11,"CREATE"!==o.props.modalState){e.next=17;break}return e.next=15,C.a.post("".concat(A.a.PLACEMENT,"/requestpost"),{school_id:o.props.auth.user_access.school_id,position_id:o.props.positionId,district_id:s.district_id,needed_posts:o.props.requestedPosts,male_number:o.props.maleOnPosition,female_number:o.props.femaleOnPosition,description:o.props.requestExplanation,occupied_posts:Number(o.props.maleOnPosition)+Number(o.props.femaleOnPosition),requested_by:o.props.auth.user.user_id,post_request_session_id:o.props.sessionId});case 15:(n=e.sent)&&(o.props.createSchoolPost(n.data.data),o.props.setPositionId(""),o.props.setRequestedPosts(0),o.props.setFemaleOnPosition(0),o.props.setMaleOnPosition(0),o.props.setRequestExplanation(""),o.props.setFormSteps({ONE:!0,TWO:!1}),o.props.setStepState({ONE:!1,TWO:!1}),o.props.PushPopupAlert({title:"Post(s) has been requested!",theme:x.a.success}));case 17:if("UPDATE"!==o.props.modalState){e.next=25;break}return console.log("===================================="),console.log({confirmed_posts:0,confirmed_by:null,received_posts:0,approval_date:null,school_id:o.props.auth.user_access.school_id,position_id:o.props.positionId,district_id:s.district_id._id,needed_posts:o.props.requestedPosts,male_number:o.props.maleOnPosition,female_number:o.props.femaleOnPosition,description:o.props.requestExplanation,occupied_posts:Number(o.props.maleOnPosition)+Number(o.props.femaleOnPosition),requested_by:o.props.auth.user.user_id,requested_post_status:y.c.INITIATED}),console.log("===================================="),e.next=23,C.a.patch("".concat(A.a.PLACEMENT,"/requestpost/").concat(o.props.postId),{confirmed_posts:0,confirmed_by:null,received_posts:0,approval_date:null,school_id:o.props.auth.user_access.school_id,position_id:o.props.positionId,district_id:s.district_id,needed_posts:o.props.requestedPosts,male_number:o.props.maleOnPosition,female_number:o.props.femaleOnPosition,description:o.props.requestExplanation,occupied_posts:Number(o.props.maleOnPosition)+Number(o.props.femaleOnPosition),requested_by:o.props.auth.user.user_id,requested_post_status:y.c.INITIATED,post_request_session_id:o.props.sessionId});case 23:(r=e.sent)&&(console.log("===================================="),console.log({updateSchoolPost:r.data.data}),console.log("===================================="),o.props.updateSchoolPost("SCHOOL",r.data.data),o.props.setPostId(""),o.props.setPositionId(""),o.props.setRequestedPosts(0),o.props.setFemaleOnPosition(0),o.props.setMaleOnPosition(0),o.props.setRequestExplanation(""),o.props.setFormSteps({ONE:!0,TWO:!1}),o.props.setStepState({ONE:!1,TWO:!1}),o.props.PushPopupAlert({title:"Post(s) has been updated!",theme:x.a.info}));case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(11),console.error({role_error:e.t0}),o.props.PushPopupAlert({title:Object(q.a)(e.t0),theme:x.a.danger});case 31:o.props.setLoadingRequest(!1);case 32:case"end":return e.stop()}}),e,null,[[11,27]])})));return function(t){return e.apply(this,arguments)}}(),o.setSchoolLevel=function(e){o.setState({selectedLevel:e})},o.getPositionByLevelId=function(e,t){return Object(j.f)(t)?e:e.filter((function(e){return e.school_level_id.school_level_id===t}))},o.state={selectedLevel:"",error:null},o}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[Object(v.jsx)(D,{currentStep:this.props.formSteps.TWO?2:1,stepState:this.props.stepState,setFormSteps:this.props.setFormSteps}),Object(v.jsxs)("div",{className:"px-4 mx-auto mb-4 mt-3",children:[this.props.formSteps.ONE&&Object(v.jsxs)("section",{children:[Object(v.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(v.jsx)("label",{children:"School level"}),Object(v.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none focus:bg-gray-100",value:this.state.selectedLevel,onChange:function(t){e.setSchoolLevel(t.target.value)},children:[Object(v.jsx)("option",{value:"",children:"Choose level"}),this.props.schoolLevels.school_levels&&this.props.schoolLevels.school_levels.length>0?this.props.schoolLevels.school_levels.map((function(e,t){return Object(v.jsx)("option",{value:e.school_level_id,children:e.school_level_name},t+11)})):Object(v.jsx)("option",{children:"No school level found"})]})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{children:"Select Position"}),Object(v.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none focus:bg-gray-100",value:this.props.positionId,onChange:function(t){e.props.setPositionId(t.target.value)},children:[Object(v.jsx)("option",{value:"",children:"Choose Position"}),this.props.systemPositions&&this.getPositionByLevelId(this.GetAllowedPositions(this.props.positionId.length>0?this.props.positionId:""),this.state.selectedLevel).length>0?this.getPositionByLevelId(this.GetAllowedPositions(this.props.positionId.length>0?this.props.positionId:""),this.state.selectedLevel).map((function(e,t){return Object(v.jsx)("option",{value:e.position_id,children:e.position_title},t+11)})):Object(v.jsx)("option",{children:"No position found"})]})]}),this.props.positionId.length>0&&this.props.systemPositions&&Object(j.d)(this.props.systemPositions,this.props.positionId)&&Object(v.jsx)("div",{className:"my-2 rounded border",children:Object(v.jsx)(R.a,{thisPosition:Object(j.d)(this.props.systemPositions,this.props.positionId),isGuest:!0})}),Object(v.jsx)("div",{className:"bg-white w-full flex justify-end",children:this.props.positionId.length>0&&Object(v.jsx)("button",{className:"btn btn-blue m-1 mr-2 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){e.props.setFormSteps({ONE:!1,TWO:!0}),e.props.setStepState({ONE:!0,TWO:!1})},children:"Continue"})})]}),Object(v.jsx)("form",{onSubmit:this.submitRequest,children:Object(v.jsxs)("div",{className:"bg-white",children:[this.props.formSteps.TWO&&Object(v.jsxs)("div",{className:"text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[this.state.error&&Object(v.jsx)("div",{className:"alert-warning animate__animated animate__fadeInRight animate__faster",onClick:function(){return e.setState({error:null})},children:this.state.error}),Object(v.jsxs)("div",{className:"mb-4 md:flex md:justify-between",children:[Object(v.jsxs)("div",{className:"mb-4 md:mr-2 md:mb-0 w-full",children:[Object(v.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"female",children:"Current number of Female on this position"}),Object(v.jsx)("input",{className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",id:"female",type:"number",min:0,value:this.props.femaleOnPosition,onChange:function(t){return e.props.setFemaleOnPosition(Number(t.target.value))},placeholder:"Current number of Female on this position"})]}),Object(v.jsxs)("div",{className:"md:ml-2 w-full",children:[Object(v.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"male",children:"Current number of Male on this position"}),Object(v.jsx)("input",{className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",id:"male",type:"number",min:0,value:this.props.maleOnPosition,onChange:function(t){return e.props.setMaleOnPosition(Number(t.target.value))},placeholder:"Current number of Male on this post"})]})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{children:"Needed posts (number)"}),Object(v.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 bg-white focus:outline-none focus:bg-gray-100 ".concat(this.props.formError&&"requested_posts"===this.props.formError.element?"border-red-700":"border-gray-700"),value:this.props.requestedPosts,onChange:function(t){e.props.setRequestedPosts(Number(t.target.value)),e.props.formError&&"requested_posts"===e.props.formError.element&&e.props.setFormError(null)},placeholder:"1"}),this.props.formError&&"requested_posts"===this.props.formError.element&&Object(v.jsx)("span",{className:"text-xs italic text-red-700 mt-1",children:this.props.formError.msg})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{children:"Explanation"}),Object(v.jsx)("textarea",{name:"description",className:"appearance-none rounded w-full py-1 px-4 border-2 bg-white focus:outline-none focus:bg-gray-100 ".concat(this.props.formError&&"comment"===this.props.formError.element?"border-red-700":"border-gray-700"),id:"description",placeholder:"Explanation",value:this.props.requestExplanation,onChange:function(t){e.props.setRequestExplanation(t.target.value),e.props.formError&&"comment"===e.props.formError.element&&e.props.setFormError(null)},rows:2}),this.props.formError&&"comment"===this.props.formError.element&&Object(v.jsx)("span",{className:"text-xs italic text-red-700 mt-1",children:this.props.formError.msg})]})]}),Object(v.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(v.jsx)("button",{className:"btn bg-gray-400 text-white hover:bg-gray-600",onClick:function(){e.props.setPositionId(""),e.props.setRequestedPosts(0),e.props.setFemaleOnPosition(0),e.props.setMaleOnPosition(0),e.props.setRequestExplanation(""),e.props.setModalState(null),e.props.setFormError(null),e.props.setFormSteps({ONE:!0,TWO:!1}),e.props.setStepState({ONE:!1,TWO:!1})},disabled:this.props.loadingRequest,children:"Exit"}),this.props.formSteps.TWO&&Object(v.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",disabled:this.props.loadingRequest,children:this.props.loadingRequest?"Loading...":"UPDATE"===this.props.modalState?"Update":"Request"})]})]})})]})]})}}]),s}(i.Component),F=Object(d.b)((function(e){var t=e.auth,s=e.schools,n=e.system_settings,o=e.schoolLevels;return{auth:t,mySchool:s.mySchool,schoolPosts:s.schoolPosts,schoolLevels:o,systemPositions:n.systemPositions}}),{createSchoolPost:h.b,updateSchoolPost:h.n,PushPopupAlert:p.tb})(M),G=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.b.PENDING;return console.log("===================================="),console.log({placements:e,request:t}),console.log("===================================="),"all"!==s?e.filter((function(e){return e.request_id===t&&e.status===s})):e.filter((function(e){return e.request_id===t}))},U=function(e){Object(r.a)(s,e);var t=Object(a.a)(s);function s(e){var o;return Object(n.a)(this,s),(o=t.call(this,e)).setLoading=function(e){o.setState({loading:e})},o.setLoadingRequest=function(e){o.setState({loadingRequest:e})},o.setLoadingPost=function(e){o.setState({loadingPost:e})},o.setViewPost=function(e){o.setState({viewPost:e})},o.setPostId=function(e){o.setState({postId:e})},o.setFormError=function(e){o.setState({formError:e})},o.setPositionId=function(e){o.setState({positionId:e})},o.setRequestedPosts=function(e){o.setState({requestedPosts:e})},o.setFemaleOnPosition=function(e){o.setState({femaleOnPosition:e})},o.setMaleOnPosition=function(e){o.setState({maleOnPosition:e})},o.setRequestExplanation=function(e){o.setState({requestExplanation:e})},o.setFormSteps=function(e){o.setState({formSteps:e})},o.setStepState=function(e){o.setState({stepState:e})},o.setFilterByPosition=function(e){o.setState({filterByPosition:e})},o.setThisPost=function(e){o.setState({thisPost:e})},o.setModalState=function(e){o.setState({modalState:e})},o.setReceivedPosts=function(e){o.setState({receivedPosts:e})},o.loadData=function(){o.props.mySchool?o.setLoading(!1):o.props.getSchoolById(o.props.auth.user_access.school_id,(function(e,t){o.setLoading(e),t.length>0&&(console.error({loadingCandidatesError:t}),o.props.PushPopupAlert({title:t,theme:x.a.danger}),o.setLoading(!1))})),o.props.schoolPlacements?o.setLoading(!1):o.props.getSchoolPlacement(o.props.auth.user_access.school_id,(function(e,t,s){o.setLoading(e),!e&&t.length>0&&(console.error({getSchoolPlacementError:t}),o.props.PushPopupAlert({title:t,theme:x.a.danger}))})),null===o.props.systemPositions||0===o.props.systemPositions.length&&o.state.loading?(o.setLoading(!0),o.props.getPositions((function(e,t){o.setLoading(e),console.log({status:e,msg:t}),t.length&&o.props.PushPopupAlert({title:t,theme:x.a.danger})}))):o.setLoading(!1),(null===o.props.schoolLevels.school_levels||0===o.props.schoolLevels.school_levels.length&&o.state.loading)&&o.props.loadSchoolLevels(o.setLoading),!o.props.schoolPosts.length&&o.state.loadingPost?o.props.fetchSchoolPosts(o.props.auth.user_access.school_id,(function(e,t){e||(t.length>0&&o.state.loadingPost&&(console.error("error loading school post: ",t),o.props.PushPopupAlert({title:t,theme:x.a.danger})),o.setState({loadingPost:!1}))})):o.setState({loadingPost:!1})},o.componentDidMount=function(){if(Object(j.f)(o.props.auth.user_access.school_id))return Object(v.jsx)(u.a,{to:"/apps-page"});null===o.props.activeAcademicSession||"none"===o.props.activeAcademicSession?o.props.getActiveAcademicSession((function(e,t,s){o.setLoading(e),t.length>0&&(console.error({loadingCandidatesError:t}),o.props.PushPopupAlert({title:t,theme:x.a.danger})),s&&"none"!==s&&o.loadData()})):o.loadData()},o.getPositionById=function(e,t){return e.find((function(e){return e.position_id===t}))},o.state={loading:!0,loadingPost:!0,loadingRequest:!1,modalState:null,filterByPosition:"",positionId:"",requestedPosts:0,femaleOnPosition:0,maleOnPosition:0,requestExplanation:"",formSteps:{ONE:!0,TWO:!1},stepState:{ONE:!1,TWO:!1},thisPost:null,viewPost:!1,postId:"",receivedPosts:0,formError:null},o}return Object(o.a)(s,[{key:"render",value:function(){var e,t;return null!==this.props.activeAcademicSession&&"none"===this.props.activeAcademicSession?Object(v.jsxs)("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center p-6 my-8 text-yellow-900 border border-yellow-900",children:[Object(v.jsx)(l.R,{className:"text-6xl md:text-9xl"}),Object(v.jsxs)("div",{className:"text-center flex flex-col",children:[Object(v.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:"No academic active session"}),Object(v.jsx)("span",{className:"text-lg",children:"Please Wait for the system to publish the sessions or contact the administrator"})]})]}):this.state.loading?Object(v.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"flex flex-row items-start gap-3 my-2",children:[Object(v.jsx)(c.a,{className:"text-blue-700 w-10 h-10 md:block hidden"}),Object(v.jsx)("div",{className:"w-full",children:Object(v.jsx)("div",{className:"flex justify-between w-full",children:Object(v.jsxs)("div",{className:"flex flex-col gap-1 justify-between",children:[Object(v.jsx)("h1",{className:"md:text-4xl text-3xl font-semibold",children:"Teacher Request"}),Object(v.jsx)("div",{className:"flex-row items-center md:gap-3 gap-2",children:Object(v.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(v.jsx)("span",{className:"text-gray-600 text-lg",children:"Academic session:"}),Object(v.jsx)("span",{className:"text-gray-600 font-semibold text-xl",children:null===(e=this.props.activeAcademicSession)||void 0===e?void 0:e.title})]})})]})})})]}),Object(v.jsxs)("div",{className:"bg-white shadow p-2 rounded",children:[!this.state.modalState&&this.props.schoolPlacements&&Object(v.jsx)(E,{systemPositions:this.props.systemPositions,setModalState:this.setModalState,loadingRequest:this.state.loadingRequest,setFilterByPosition:this.setFilterByPosition,schoolPosts:this.props.schoolPosts,setThisPost:this.setThisPost,setViewPost:this.setViewPost,setPostId:this.setPostId,setPositionId:this.setPositionId,setRequestedPosts:this.setRequestedPosts,setRequestExplanation:this.setRequestExplanation,setFemaleOnPosition:this.setFemaleOnPosition,setMaleOnPosition:this.setMaleOnPosition,setFormSteps:this.setFormSteps,setStepState:this.setStepState,thisPost:this.state.thisPost,viewPost:this.state.viewPost,modalState:this.state.modalState,schoolPlacements:this.props.schoolPlacements,filterByPosition:this.state.filterByPosition}),this.props.activeAcademicSession&&("CREATE"===this.state.modalState||"UPDATE"===this.state.modalState)&&Object(v.jsx)(F,{loadingRequest:this.state.loadingRequest,setLoadingRequest:this.setLoadingRequest,formSteps:this.state.formSteps,setFormSteps:this.setFormSteps,stepState:this.state.stepState,setStepState:this.setStepState,sessionId:null===(t=this.props.activeAcademicSession)||void 0===t?void 0:t._id,postId:this.state.postId,setPostId:this.setPostId,positionId:this.state.positionId,setPositionId:this.setPositionId,setRequestedPosts:this.setRequestedPosts,requestedPosts:this.state.requestedPosts,maleOnPosition:this.state.maleOnPosition,femaleOnPosition:this.state.femaleOnPosition,setFemaleOnPosition:this.setFemaleOnPosition,setMaleOnPosition:this.setMaleOnPosition,requestExplanation:this.state.requestExplanation,setRequestExplanation:this.setRequestExplanation,modalState:this.state.modalState,setModalState:this.setModalState,formError:this.state.formError,setFormError:this.setFormError}),"RECEIVE"===this.state.modalState&&this.state.thisPost&&this.props.systemPositions&&this.props.schoolPlacements&&Object(v.jsx)(g.a,{loadingPost:this.state.loadingPost,loadingRequest:this.state.loadingRequest,positionId:this.state.positionId,thisPost:this.state.thisPost,viewPost:this.state.viewPost,receivedPosts:this.state.receivedPosts,formError:this.state.formError,systemPositions:this.props.systemPositions,setThisPost:this.setThisPost,setModalState:this.setModalState,setFormError:this.setFormError,setReceivedPosts:this.setReceivedPosts,setLoadingRequest:this.setLoadingRequest,setLoadingPost:this.setLoadingPost,placementList:this.props.schoolPlacements})]})]})}}]),s}(i.Component),V=Object(d.b)((function(e){var t=e.auth,s=e.schools,n=e.system_settings,o=e.schoolLevels,r=e.sessionPlan;return{auth:t,mySchool:s.mySchool,schoolPosts:s.schoolPosts,schoolPlacements:s.schoolPlacements,schoolLevels:o,systemPositions:n.systemPositions,activeAcademicSession:r.activeAcademicSession}}),{loadSchoolLevels:p.uc,getPositions:b.d,getSchoolById:h.i,fetchSchoolPosts:h.e,getSchoolPlacement:h.j,createSchoolPost:h.b,updateSchoolPost:h.n,getActiveAcademicSession:m.i,PushPopupAlert:p.tb})(U)}}]);
//# sourceMappingURL=37.02a13e76.chunk.js.map