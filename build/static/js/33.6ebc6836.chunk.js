(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[33,56],{684:function(e,t,a){"use strict";var s=a(4),i=a.n(s),n=a(50),l=a(1),c=function(e){e.title;var t=e.description,a=void 0===t?"Please Wait for the system to publish the sessions or contact the administrator":t,s=e.content,i=void 0===s?void 0:s;return Object(l.jsx)("div",{className:"w-full my-5",children:Object(l.jsxs)("section",{className:"py-10 flex flex-col items-center rounded border border-gray-300 bg-white text-2xl font-medium text-yellow-800 animate__animated animate__pulse",children:[Object(l.jsxs)("div",{className:"flex flex-col items-center",children:[Object(l.jsx)(n.q,{className:"w-32 h-32"}),a]}),i&&i,!1]})})};t.a=i.a.memo(c)},686:function(e,t,a){"use strict";a.d(t,"f",(function(){return p})),a.d(t,"d",(function(){return b})),a.d(t,"b",(function(){return h})),a.d(t,"e",(function(){return x})),a.d(t,"c",(function(){return j})),a.d(t,"g",(function(){return f})),a.d(t,"a",(function(){return g}));var s=a(5),i=a.n(s),n=a(7),l=a(10),c=a.n(l),r=a(6),o=a(9),d=a(16),u=a(14),m="".concat(o.a.AUTH,"/auth/user/access"),p=function(e){return function(){var t=Object(n.a)(i.a.mark((function t(a){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(o.a.AUTH,"/system/setting"));case 5:s=t.sent,console.log("=================getSystemSettings==================="),console.log(s),console.log("=================getSystemSettings==================="),a({type:r.a.GET_SYSTEM_SETTINGS,payload:s.data}),e(!1,""),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(n.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:r.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(n.a)(i.a.mark((function t(a){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(m,"/roleaccess"));case 5:s=t.sent,n=s.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),a({type:r.a.GET_TASK_ACCESS,payload:n}),e(!1,"",n),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(n.a)(i.a.mark((function t(a){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(o.a.APPLICATION,"/position"));case 5:s=t.sent,a({type:r.a.GET_POSTIONS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return console.log({deletePosition:e}),function(){var t=Object(n.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:r.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(n.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:r.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return function(){var a=Object(n.a)(i.a.mark((function a(s){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(!0,""),a.prev=1,Object(d.b)(),a.next=5,c.a.get("".concat(o.a.APPLICATION,"/position/instituteposition/").concat(e));case 5:n=a.sent,s({type:r.a.GET_POSTIONS,payload:n.data}),t(!1,"",n.data),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log({code_error:a.t0}),t(!1,Object(u.a)(a.t0));case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}},687:function(e,t,a){"use strict";a(4);var s=a(1);t.a=function(e){var t=function(){for(var t=[],a=0;a<e.cols;a++)t.push(a);return t.map((function(e){return Object(s.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(s.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()},Math.random()),Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()},Math.random()),Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()},Math.random())]})}},693:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return l}));var s,i,n,l,c=a(30);!function(e){e.Physical="Physical",e.Virtual="Virtual",e.Default="Default"}(s||(s={})),function(e){e.INITIATED="initiated",e.CONFIRMED="confirmed",e.RECEIVED="received"}(i||(i={})),function(e){e.Title="title",e.Description="description",e.Files="files",e.email="email",e.names="names",e.phone_number="phone_number",e.position="position",e.relation="relation",e.src="src",e.year="year",e.company="company",e.category_subcategory_data="category_subcategory_data",e.others="others",e.start_year="start_year",e.end_year="end_year",e.School="School",e.expiration_date="expiration_date"}(n||(n={})),function(e){e.APPROVED="approved",e.REJECTED="rejected"}(l||(l={}));c.d.APPLICATION,c.d.DOCUMENT_VALIDATION,c.d.EXAMINATION,c.d.MARKS_PUBLICATION,c.d.PLACEMENT_TRANSFER},703:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return u}));var s=a(126),i=a.n(s),n=(a(32),a(30)),l=function(e,t){var a="",s="",i="",n="";if(t.sub_category_id&&t.sub_category_id.length>0&&e.documentSubCategory?s=n=e.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t.sub_category_id}))?e.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t.sub_category_id})).title:"Unknown qualification":t.category_id.length>0&&e.documentCategory&&(a=n=e.documentCategory.find((function(e){return e.user_detail_category_id===t.category_id}))?e.documentCategory.find((function(e){return e.user_detail_category_id===t.category_id})).title:"Unknown category"),t.category_subcategory_data.length>0&&e.documentFields){var l=e.documentFields.find((function(e){return e._id===t.category_subcategory_data}));n+=" in "+(i=l?l.title:"Unknown filed")}return{category:a,sub_category:s,field:i,main:n}},c=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",s=[];for(var i in t){var n=t[i].details;for(var c in n){var r=t[i].details[c];null!==r.files&&r.files.length>0&&"default"===a&&"waiting"===r.validation_status?s.push({user_id:t[i]._id,n_id:t[i].n_id,fname:t[i].user_info.fname,lname:t[i].user_info.lname,phone_number:t[i].phone_number,district:t[i].user_info.district,email:t[i].email,main_doc_title:l(e,r).main,category_id:r.category_id,sub_category_id:r.sub_category_id,category_subcategory_data:r.category_subcategory_data,title:r.title,description:r.description,files:r.files,start_year:r.start_year,end_year:r.end_year,school:r.school,details_email:r.email,names:r.names,details_phone_number:r.phone_number,company:r.company,year:r.year,doc_id:r.doc_id,validation_status:r.validation_status,validated_by:r.validated_by,doc_history_status:r.doc_history_status,get_in_date:r.get_in_date,approved:r.approved,exams:t[i].exams}):null!==r.files&&r.files.length>0&&"all"===a&&s.push({user_id:t[i]._id,names:t[i].user_info.fname+" "+t[i].user_info.lname,n_id:t[i].n_id,fname:t[i].user_info.fname,lname:t[i].user_info.lname,phone_number:t[i].phone_number,district:t[i].user_info.district,email:t[i].email,main_doc_title:l(e,r).main,category_id:r.category_id,sub_category_id:r.sub_category_id,category_subcategory_data:r.category_subcategory_data,title:r.title,description:r.description,files:r.files,start_year:r.start_year,end_year:r.end_year,school:r.school,details_email:r.email,details_phone_number:r.phone_number,company:r.company,year:r.year,doc_id:r.doc_id,validation_status:r.validation_status,validated_by:r.validated_by,doc_history_status:r.doc_history_status,get_in_date:r.get_in_date,approved:r.approved,exams:t[i].exams})}}return s},r=function(e){if(e&&e.plans){var t=e.plans.find((function(e){return e.type_key===n.d.DOCUMENT_VALIDATION}));if(t){var a=i()(),s=i()(t.start_date),l=i()(t.end_date);if(s.diff(a,"days")<=0&&l.diff(a,"days")>=0&&t.type_status===n.e.OPEN)return!0}}return!1},o=function(e,t,a){var s,i=e.find((function(e){return e._id===t}));return i&&(s=i.details.find((function(e){return e.doc_id===a}))),{user:i,doc:s}},d=function(e,t){return e.filter((function(e){return e.validation_status===t&&e.files})).length},u=function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"waiting",i=e;return"docCategory"===t?i=e.filter((function(e){return e.category_id===a&&e.files&&e.files.length>0&&e.validation_status===s})):"docSubCategory"===t&&(i=e.filter((function(e){return e.sub_category_id===a&&e.files&&e.files.length>0&&e.validation_status===s}))),i.length}},811:function(e,t,a){"use strict";a.r(t),a.d(t,"ClaimReport",(function(){return E}));var s=a(18),i=a(5),n=a.n(i),l=a(2),c=a(7),r=a(25),o=a(24),d=a(27),u=a(26),m=a(10),p=a.n(m),b=a(4),h=a(23),x=a(3),j=a(9),f=a(33),g=a(1),_=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).GetEvaluationHistory=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({loading:!0}),e.prev=1,e.next=4,p.a.post("".concat(j.a.CLAIMING,"/user/evaluator/").concat(s.props.claim_level),{period_id:"62a5ea76b038313901018796"});case 4:(t=e.sent).data&&s.setState({evaluators:t.data,loading:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),s.setState({loading:!1}),console.log("Result: ",Object(l.a)({},e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),s.componentDidMount=function(){s.GetEvaluationHistory()},s.state={loading:!0,evaluators:null},s}return Object(o.a)(a,[{key:"render",value:function(){return!0===this.state.loading||null===this.state.evaluators?Object(g.jsxs)("div",{className:"bg-white rounded p-5 mt-5",children:[Object(g.jsx)(f.a,{}),Object(g.jsx)("div",{className:"-mt-5 ml-5",children:"Loading data, please wait..."})]}):Object(g.jsx)("div",{children:Object(g.jsx)("div",{children:Object(g.jsxs)("table",{className:"w-full",children:[Object(g.jsx)("thead",{className:"bg-blue-100",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{className:"px-3 py-2 text-center",children:"#"}),Object(g.jsx)("th",{className:"px-3 py-2 text-left",children:"Names"}),Object(g.jsx)("th",{className:"px-3 py-2 text-left",children:"Email"}),Object(g.jsx)("th",{className:"px-3 py-2 text-center",children:"Counts"})]})}),Object(g.jsx)("tbody",{children:0===this.state.evaluators.length?Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:4,className:"bg-gray-200 p-5 text-center font-light text-3xl",children:"No result found!"})}):this.state.evaluators.sort((function(e,t){return e.evaluated<t.evaluated?1:t.evaluated<e.evaluated?-1:0})).map((function(e,t){return Object(g.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":""),children:[Object(g.jsx)("td",{className:"px-3 py-1 text-center",children:t+1}),Object(g.jsx)("td",{className:"px-3 py-1 text-left",children:e.name}),Object(g.jsx)("td",{className:"px-3 py-1 text-left",children:e.email}),Object(g.jsx)("td",{className:"px-3 py-1 text-center",children:e.evaluated})]},t+1)}))})]})})})}}]),a}(b.Component),y=a(704),O=a.n(y),v=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).setLoading=function(e){return s.setState({loading:e})},s.state={loading:!0},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"animate__animated animate__fadeIn",children:[Object(g.jsxs)("div",{className:"flex flex-row items-center gap-4 h-64",children:[Object(g.jsxs)("div",{className:"bg-gray-100 rounded p-4 border border-blue-600 h-full",children:[Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"font-extrabold text-xl",children:"General summary"})}),Object(g.jsx)("div",{id:"chart",children:Object(g.jsx)(O.a,{options:{chart:{width:380,type:"donut"},labels:["Total Completed claims (".concat(this.props.general_main_data.completedClaimCounts,")"),"Total evaluated claims (".concat(this.props.general_main_data.evaluatedClaimCounts,")"),"Total pending claims (".concat(this.props.general_main_data.pendingClaimCounts,")"),"Total Canceled claims (".concat(this.props.general_main_data.deletedClaimCounts,")")],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},series:[this.props.general_main_data.completedClaimCounts,this.props.general_main_data.evaluatedClaimCounts,this.props.general_main_data.pendingClaimCounts,this.props.general_main_data.deletedClaimCounts],type:"donut",width:400})})]}),Object(g.jsxs)("div",{className:"bg-gray-100 rounded p-4 border border-blue-600 h-full",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"font-extrabold text-xl",children:this.props.selected_claim_type}),Object(g.jsxs)("div",{className:"font-extrabold text-sm text-blue-600",children:["Claim level:"," ",1===this.props.claim_level?"Level one":"Public Service Commission"]})]}),Object(g.jsx)("div",{id:"chart",children:Object(g.jsx)(O.a,{options:{chart:{width:380,type:"pie"},labels:["Total pending claims (".concat(this.props.general_summary.pending,")"),"Total evaluated claims (".concat(this.props.general_summary.validated,")")],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},series:[this.props.general_summary.pending,this.props.general_summary.validated],type:"pie",width:400})})]})]}),Object(g.jsxs)("div",{className:"animate__animated animate__fadeIn rounded border border-blue-600 pt-3 pr-2 mt-4",children:[Object(g.jsx)("div",{id:"chart",className:"h-auto",children:Object(g.jsx)(O.a,{options:{theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},chart:{type:"bar",height:"auto"},plotOptions:{bar:{borderRadius:2,horizontal:!0,barHeight:"100px"}},dataLabels:{enabled:!0},xaxis:{categories:this.props.summary_details.map((function(e){return e.position_title}))}},series:[{name:"Total claims",data:this.props.summary_details.map((function(e){return e.total}))},{name:"Pending claims",data:this.props.summary_details.map((function(e){return e.pending}))},{name:"Validated claims",data:this.props.summary_details.map((function(e){return e.validated}))}],type:"bar",height:this.props.summary_details.length>60?5e3:3e3})}),console.log("Length: ",this.props.summary_details.length)]})]})}}]),a}(b.Component),N=a(8),C=a(32),w=a(28),A=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).setLoading=function(e){return i.setState({loading:e})},i.GetClaims=function(){var e=Object(c.a)(n.a.mark((function e(t,a){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setLoading(!0),e.prev=1,e.next=4,p.a.post("".concat(j.a.CLAIMING,"/user/level/").concat(t),{period_id:a});case 4:(s=e.sent).data&&i.setState({data:s.data}),console.log("Response: ",s.data),i.setLoading(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error: ",Object(l.a)({},e.t0)),i.setLoading(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),i.GetSummaryFilter=function(e){var t,a=[],i=Object(s.a)(e);try{var n=function(){var e=t.value,s=a.find((function(t){return t.position_title===e.position_title}));void 0!==s?(a=a.filter((function(e){return e.position_title!==s.position_title}))).push({position_title:s.position_title,total:s.total+1,pending:e.status===N.b.PENDING?s.pending+1:s.pending,validated:e.status===N.b.EVALUATED?s.validated+1:s.validated}):a.push({position_title:e.position_title,total:e.total,pending:e.status===N.b.PENDING?1:0,validated:e.status===N.b.EVALUATED?1:0})};for(i.s();!(t=i.n()).done;)n()}catch(l){i.e(l)}finally{i.f()}return a},i.GetSummary=function(e){var t,a=[],n=e.filter((function(e){return e.type_key===i.state.selected_claim_type})),l=Object(s.a)(n);try{for(l.s();!(t=l.n()).done;){var c=t.value;a.push({position_title:c.title,total:1,status:c.claims.filter((function(e){return e.level===i.state.selected_level}))[0].claim_status})}}catch(r){l.e(r)}finally{l.f()}return i.GetSummaryFilter(a).sort((function(e,t){return e.pending<t.pending?1:t.pending<e.pending?-1:0}))},i.GetSummaryCounts=function(e){var t,a=0,i=0,n=0,l=Object(s.a)(e);try{for(l.s();!(t=l.n()).done;){var c=t.value;a+=c.pending,i+=c.validated,n+=c.total}}catch(r){l.e(r)}finally{l.f()}return{pending:a,validated:i,total:n}},i.componentDidMount=function(){if(null===i.state.general_main_data&&i.getMainSummary(i.state.selected_level),null===i.props.schoolLevels.selectedEducationCategory){if(null!==i.props.schoolLevels.education_categories){var e=i.props.schoolLevels.education_categories.find((function(e){return e.education_institute_id===i.props.auth.education_institution_id}));void 0!==e&&(i.props.setSelectedEducationCategory(e),null!==e.session_plan&&i.GetClaims(i.state.selected_level,e.session_plan._id))}}else null!==i.props.schoolLevels.selectedEducationCategory.session_plan&&i.GetClaims(i.state.selected_level,i.props.schoolLevels.selectedEducationCategory.session_plan._id)},i.getMainSummary=function(){var e=Object(c.a)(n.a.mark((function e(t){var a,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(null===(s=null===(a=i.props.schoolLevels.education_categories)||void 0===a?void 0:a.find((function(e){return e.education_institute_id===i.props.auth.education_institution_id})))||void 0===s?void 0:s.session_plan)||void 0===(null===s||void 0===s?void 0:s.session_plan)){e.next=15;break}return i.setLoading(!0),e.prev=3,e.next=6,p.a.post("".concat(j.a.CLAIMING,"/user/count/").concat(t),{period_id:s.session_plan._id});case 6:c=e.sent,i.setState({loading:!1,general_main_data:c.data}),console.log("Res: ",c.data),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),i.setState({loading:!1}),console.log("Err: ",Object(l.a)({},e.t0));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),i.state={loading:!0,error:"",success:"",data:null,selected_level:1,selected_claim_type:N.g.APPLICATION,view_type:"Table",general_main_data:null},i}return Object(o.a)(a,[{key:"render",value:function(){var e,t=this,a=null===(e=this.props.schoolLevels.education_categories)||void 0===e?void 0:e.find((function(e){return e.education_institute_id===t.props.auth.education_institution_id}));return void 0===a?Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"rounded-xl border-2 border-gray-600 flex flex-col items-center justify-center p-7 text-center w-full mt-5 bg-white",children:[Object(g.jsx)("span",{className:"font-extrabold text-3xl text-gray-600",children:"Your institute is not yet defined"}),Object(g.jsx)("span",{children:"If you have an institute assigned to you, please refresh your page or wait a moment... your page..."})]})}):!0===this.state.loading||null===this.props.schoolLevels.selectedEducationCategory||null===this.state.data||null===this.state.general_main_data?Object(g.jsxs)("div",{className:"bg-white rounded p-5 mt-5",children:[Object(g.jsx)(f.a,{}),Object(g.jsx)("div",{className:"-mt-5 ml-5",children:"Loading report, please wait..."})]}):(""!==this.state.error&&this.state.error,Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"mt-4 bg-white rounded",children:[Object(g.jsxs)("div",{className:"p-4 flex flex-row items-center gap-3 justify-between",children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"text-3xl font-extrabold",children:["Claiming report (",Object(g.jsx)("span",{className:"text-blue-600 lowercase",children:Object(C.a)(this.state.selected_claim_type.toString())}),")"]}),Object(g.jsxs)("div",{className:"flex flex-row items-center gap-2 ml-2",children:[Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("span",{className:"text-sm font-bold",children:"Choose claim type"}),Object(g.jsxs)("select",{onChange:function(e){t.setState({loading:!0});var a=e.target.value;t.setState({selected_claim_type:a}),t.setState({loading:!1})},value:this.state.selected_claim_type,className:"px-3 py-2 rounded border border-gray-500",children:[Object(g.jsx)("option",{value:N.g.APPLICATION,children:"Applications"}),Object(g.jsx)("option",{value:N.g.DOCUMENT_VALIDATION,children:"Document validation"}),Object(g.jsx)("option",{value:N.g.EXAMINATION,children:"Examinations"})]})]}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("span",{className:"text-sm font-bold",children:"Choose claim level"}),Object(g.jsxs)("select",{value:this.state.selected_level,onChange:function(e){if(null!==a.session_plan){var s=parseInt(e.target.value);t.setState({selected_level:s}),t.setLoading(!0),t.GetClaims(s,a.session_plan._id)}},className:"px-3 py-2 rounded border border-gray-500",children:[Object(g.jsx)("option",{value:1,children:"Level 1"}),Object(g.jsx)("option",{value:2,children:"Public Service Commission Level"})]})]})]})]}),Object(g.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(g.jsxs)("div",{className:"flex flex-col rounded bg-blue-100 p-2 text-right animate__animated animate__zoomIn",children:[Object(g.jsx)("span",{className:"text-3xl font-extrabold",children:Object(w.h)(this.GetSummaryCounts(this.GetSummary(this.state.data)).total)}),Object(g.jsx)("span",{className:"font-normal text-sm text-blue-900",children:"Total claims"})]}),Object(g.jsxs)("div",{className:"flex flex-col rounded bg-blue-100 p-2 text-right animate__animated animate__zoomIn",children:[Object(g.jsx)("span",{className:"text-3xl font-extrabold",children:Object(w.h)(this.GetSummaryCounts(this.GetSummary(this.state.data)).pending)}),Object(g.jsx)("span",{className:"font-normal text-sm text-blue-900",children:"Waiting claims"})]}),Object(g.jsxs)("div",{className:"flex flex-col rounded bg-green-100 p-2 text-right animate__animated animate__zoomIn",children:[Object(g.jsx)("span",{className:"text-3xl font-extrabold text-green-900",children:Object(w.h)(this.GetSummaryCounts(this.GetSummary(this.state.data)).validated)}),Object(g.jsx)("span",{className:"font-normal text-sm text-green-900",children:"Validated claims"})]})]})]}),Object(g.jsxs)("div",{className:"border-t border-gray-400 p-4",children:[Object(g.jsxs)("div",{className:"flex flex-row items-center rounded mb-3",children:[Object(g.jsx)("div",{onClick:function(){return t.setState({view_type:"Table"})},className:"px-3 py-2 ".concat("Table"===this.state.view_type?"bg-white font-bold text-blue-800 border-b-4 border-blue-600 rounded-t-md animate__animated animate__fadeIn":"bg-white font-light  border-b-4 border-gray-200 hover:bg-blue-100 hover:text-blue-800 hover:border-blue-600"," cursor-pointer"),children:"Table view"}),Object(g.jsx)("div",{onClick:function(){return t.setState({view_type:"Analytical"})},className:"px-3 py-2 ".concat("Analytical"===this.state.view_type?"bg-white font-bold text-blue-800 border-b-4 border-blue-600 rounded-t-md animate__animated animate__fadeIn":"bg-white font-light  border-b-4 border-gray-200 hover:bg-blue-100 hover:text-blue-800 hover:border-blue-600"," cursor-pointer"),children:"Analytical view"}),Object(g.jsx)("div",{onClick:function(){return t.setState({view_type:"History"})},className:"px-3 py-2 ".concat("History"===this.state.view_type?"bg-white font-bold text-blue-800 border-b-4 border-blue-600 rounded-t-md animate__animated animate__fadeIn":"bg-white font-light  border-b-4 border-gray-200 hover:bg-blue-100 hover:text-blue-800 hover:border-blue-600"," cursor-pointer"),children:"Evaluation History"})]}),"Table"===this.state.view_type?Object(g.jsxs)("table",{className:"w-full animate__animated animate__fadeIn",children:[Object(g.jsx)("thead",{className:"bg-blue-100 ",children:Object(g.jsxs)("tr",{className:"",children:[Object(g.jsx)("th",{className:"px-3 py-1 text-center",children:"#"}),Object(g.jsx)("th",{className:"px-3 py-1 text-left",children:"Position"}),Object(g.jsx)("th",{className:"px-3 py-1 text-center",children:"Total claims"}),Object(g.jsx)("th",{className:"px-3 py-1 text-center",children:"Waiting claims"}),Object(g.jsx)("th",{className:"px-3 py-1 text-center",children:"Validated claims"})]})}),Object(g.jsx)("tbody",{children:0===this.GetSummary(this.state.data).length?Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:5,className:"text-center p-3 text-3xl font-light bg-gray-100 border border-gray-500 rounded",children:"No result found!"})}):this.GetSummary(this.state.data).map((function(e,t){return Object(g.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," ").concat(e.total===e.validated?"text-green-900 font-light":0===e.validated?"text-yellow-900 font-bold":"text-black font-light"),children:[Object(g.jsx)("td",{className:"px-3 py-1 text-center",children:t+1}),Object(g.jsx)("td",{className:"px-3 py-1 text-left",children:e.position_title}),Object(g.jsx)("td",{className:"px-3 py-1 text-center",children:Object(w.h)(e.total)}),Object(g.jsx)("td",{className:"px-3 py-1 text-center",children:Object(w.h)(e.pending)}),Object(g.jsx)("td",{className:"px-3 py-1 text-center",children:Object(w.h)(e.validated)})]},t+1)}))})]}):"Analytical"===this.state.view_type?Object(g.jsx)(v,{general_summary:this.GetSummaryCounts(this.GetSummary(this.state.data)),summary_details:this.GetSummary(this.state.data),claim_level:this.state.selected_level,institution:a,general_main_data:this.state.general_main_data,selected_claim_type:this.state.selected_claim_type}):Object(g.jsx)(_,{claim_level:this.state.selected_level})]})]})}))}}]),a}(b.Component),E=Object(h.b)((function(e){return{auth:e.auth,system:e.system,positions:e.positions,schoolLevels:e.schoolLevels}}),{setSelectedEducationCategory:x.hd,loadAllPositionsByInstitute:x.Cc})(A)},928:function(e,t,a){"use strict";a.r(t),a.d(t,"adminDisplayClaimTitle",(function(){return pe})),a.d(t,"AdminClaimGetDocTitle",(function(){return be})),a.d(t,"getApplicationById",(function(){return he})),a.d(t,"AdminClaim",(function(){return je}));var s,i=a(18),n=a(25),l=a(24),c=a(27),r=a(26),o=a(4),d=a.n(o),u=a(12),m=a(23),p=a(3),b=a(69),h=a(82),x=a(203),j=a(686),f=a(33),g=a(687),_=a(19),y=a(683),O=a(163),v=a(8),N=a(21),C=a(32),w=a(28),A=a(768),E=a(91),T=a(749),S=a(5),I=a.n(S),P=a(7),k=a(17),D=a(10),L=a.n(D),R=a(55),M=a(34),F=a(30),G=a(9),q=a(14),V=a(705),B=a(216),U=a(703),H=a(50),z=a(123),J=a(72),X=a(125),W=a(67),K=a(127),Q=a(684),Y=a(1),Z=function(e){var t;return Object(Y.jsx)("div",{className:"w-full flex md:flex-col flex-col justify-between items-start gap-2",children:Object(Y.jsx)("div",{className:"flex items-center gap-4 w-full",children:Object(Y.jsxs)("section",{className:"p-3 w-full",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2 border-b-2 my-2 py-1",children:[Object(Y.jsx)(W.d,{className:"text-blue-600 text-xl"}),Object(Y.jsx)("h2",{className:"uppercase tracking-wide text-xl font-semibold text-gray-700",children:"Document Decision Re-Override"})]}),Object(Y.jsxs)("div",{className:"flex flex-row items-start justify-left gap-2 mb-2",children:[Object(Y.jsx)("span",{className:"text-gray-500 italic mt-1",children:"Doc Title: "}),Object(Y.jsx)("span",{className:"font-bold text-2xl",children:e.doc.main_doc_title})]}),Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(Y.jsx)("span",{className:"text-gray-500 italic",children:"Names: "}),Object(Y.jsx)("span",{className:"font-medium text-lg",children:e.doc.fname+" "+e.doc.lname})]}),Object(Y.jsxs)("section",{className:"animate__animated animate__fadeIn",children:[Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(Y.jsx)("span",{className:"text-gray-500 italic",children:"National ID: "}),Object(Y.jsx)("span",{className:"font-medium text-lg",children:e.doc.n_id})]}),Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(Y.jsx)("span",{className:"text-gray-500 italic",children:"Phone: "}),Object(Y.jsx)("span",{className:"font-medium text-lg",children:e.doc.phone_number})]}),Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(Y.jsx)("span",{className:"text-gray-500 italic",children:"Email: "}),Object(Y.jsx)("span",{className:"font-medium text-lg",children:e.doc.email})]}),Object(Y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(Y.jsx)("span",{className:"text-gray-500 italic",children:"Status:"}),Object(Y.jsx)("span",{className:"text-".concat("waiting"===e.doc.validation_status?"yellow":"approved"===e.doc.validation_status?"blue":"red","-700 font-medium text-lg"),children:"waiting"===e.doc.validation_status?"Pending":"approved"===e.doc.validation_status?"Approved":"Rejected"})]}),e.doc.validated_by&&Object(Y.jsxs)("div",{className:"w-full",children:[Object(Y.jsx)("span",{className:"text-gray-500 italic",children:"Reason:"}),Object(Y.jsx)("p",{className:"text-gray-700 font-medium text-base",children:null===(t=e.doc.validated_by)||void 0===t?void 0:t.comment})]})]}),Object(Y.jsx)("div",{className:"my-5 flex justify-end",children:Object(Y.jsxs)("button",{className:"bg-gray-700 px-4 py-2 rounded font-semibold text-white inline-flex items-center space-x-2 focus:outline-none",onClick:function(){return e.close("")},children:[Object(Y.jsx)(u.A,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Close"})]})})]})})})},$=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).setSetFullscreen=function(e){s.setState({isFullscreen:e})},s.handleFullScreen=function(){s.state.isFullscreen?(Object(w.j)("doc-img","CLOSE"),s.setSetFullscreen(!1)):(s.setSetFullscreen(!0),Object(w.j)("doc-img","OPEN"))},s.state={isFullscreen:!1,failedToLoadFile:!1,loadingImage:!0,actionTaken:null},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(Y.jsxs)("div",{className:"bg-gray-50 h-full md:h-screen grid grid-cols-1 md:grid-cols-3",children:[this.props.doc.files.length>0&&this.state.loadingImage&&Object(Y.jsx)("div",{className:"col-span-2 max-h-full md:max-h-screen overflow-y-auto relative group",children:Object(Y.jsx)("div",{className:"relative",children:!1===this.state.failedToLoadFile?Object(Y.jsx)("div",{className:"w-full mx-auto mt-5 px-4",children:Object(Y.jsx)("div",{className:"animate-pulse flex space-x-4",children:Object(Y.jsx)("div",{className:"flex-1 space-y-4 py-4",children:Object(Y.jsx)("div",{className:"bg-gray-300 rounded h-72 flex items-center justify-center",children:Object(Y.jsxs)("h1",{className:"text-5xl text-gray-500 font-bold",children:["Loading"," ",Object(w.m)(Object(w.k)(this.props.doc.files))?"image":"pdf","..."]})})})})}):Object(Y.jsx)("div",{className:"px-3",children:Object(Y.jsx)(Q.a,{title:"Error",description:Object(w.m)(Object(w.k)(this.props.doc.files))?"Failed to load image":"Failed to load pdf"})})})}),Object(Y.jsxs)("div",{className:"col-span-2 h-auto md:max-h-screen overflow-y-auto relative bg-gray-200 group ".concat(this.state.loadingImage&&"hidden"),children:[this.props.doc.files.length>0?Object(w.m)(Object(w.k)(this.props.doc.files))?Object(Y.jsx)("div",{className:"relative",children:Object(Y.jsx)("img",{src:G.a.AUTH_FILES+this.props.doc.files,alt:"",className:"w-full md:w-auto h-auto md:max-h-screen mx-auto ".concat(this.state.loadingImage&&"hidden"),id:"doc-img",onLoad:function(){return e.setState({loadingImage:!1})},onError:function(){return e.setState({failedToLoadFile:!0})},onDoubleClick:function(){return e.handleFullScreen()}})}):Object(Y.jsx)(K.a,{file_url:G.a.AUTH_FILES+this.props.doc.files,class_name:"w-full h-screen md:max-h-screen mx-auto ".concat(this.state.loadingImage&&"hidden"),frame_title:"application PDF file view",setLoadingFile:function(t){return e.setState({loadingImage:t})},setLoadingError:function(t){return e.setState({failedToLoadFile:t})}}):Object(Y.jsxs)("div",{className:"text-center text-red-400 py-8 animate__animated animate__fadeIn",children:[Object(Y.jsx)(X.g,{className:"mx-auto w-40 h-40"}),Object(Y.jsx)("span",{className:"font-semibold text-4xl",children:"No Files Provided"})]}),Object(Y.jsx)("div",{className:"flex items-center justify-between absolute top-0 ".concat(Object(w.m)(Object(w.k)(this.props.doc.files))?"w-full":"w-max"," px-2 py-2"),children:this.props.doc.files.length>0&&Object(w.m)(Object(w.k)(this.props.doc.files))&&Object(Y.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100",children:[Object(Y.jsx)("button",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(w.u)("doc-img","IN")},children:Object(Y.jsx)(J.l,{className:"h-6 w-6 text-gray-500"})}),Object(Y.jsx)("button",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(w.u)("doc-img","OUT")},children:Object(Y.jsx)(J.m,{className:"h-6 w-6 text-gray-500"})}),Object(Y.jsx)("div",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(w.j)("doc-img","OPEN")},children:Object(Y.jsx)(z.i,{className:"h-6 w-6 text-gray-500"})})]})})]}),Object(Y.jsx)("div",{children:this.props.doc.files&&Object(Y.jsx)(Z,{doc:this.props.doc,setDocId:this.props.setDocId,close:this.props.close})})]})}}]),a}(d.a.Component),ee=d.a.memo(Object(m.b)((function(e){return{auth:e.auth}}),{evaluateClaim:b.e,reAssessApplication:p.Sc,PushPopupAlert:p.Rb,FC_CompleteClaim:b.a})((function(e){var t,a=Object(o.useState)(!0),s=Object(k.a)(a,2),i=(s[0],s[1],Object(o.useState)(!1)),n=Object(k.a)(i,2),l=n[0],c=n[1],r=Object(o.useState)(null),d=Object(k.a)(r,2),m=d[0],b=d[1],h=Object(o.useState)(null),x=Object(k.a)(h,2),j=x[0],f=x[1],g=Object(o.useState)(""),y=Object(k.a)(g,2),A=y[0],E=y[1],T=Object(o.useState)(""),S=Object(k.a)(T,2),D=S[0],z=S[1],J=function(){var t=Object(P.a)(I.a.mark((function t(){var a,s,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=3;break}return f({element:"action",msg:"Action is required!"}),t.abrupt("return",c(!1));case 3:if(!Object(C.f)(A)){t.next=6;break}return f({element:"comment",msg:"Reason of rejection is required"}),t.abrupt("return",c(!1));case 6:if(!(a=e.thisClaim.claims.find((function(t){return t.level===e.thisClaim.claim_level})))){t.next=37;break}return c(!0),s={sub_claim_id:a._id,evaluation_comment:A,evaluated_by:e.auth.user.user_id,decision_taken_status:m,evaluator_name:e.auth.user.fname+" "+e.auth.user.lname,evaluator_email:e.auth.user.email},console.log("=================claimResponseBody==================="),console.log({subClaim:a,api_body:s}),console.log("=================claimResponseBody==================="),t.prev=13,t.next=16,L.a.put("".concat(G.a.CLAIMING,"/user/evaluate/").concat(e.thisClaim._id),s);case 16:if(!(i=t.sent)){t.next=30;break}if(console.log("===================================="),console.log({evaluate_claim_res:i}),console.log("===================================="),e.evaluateClaim(i.data),X(e.thisClaim),m!==v.a.ACCEPTED){t.next=26;break}return t.next=26,K();case 26:e.PushPopupAlert({title:"Claim responded successfully!",theme:N.a.success}),E(""),b(null),e.close();case 30:t.next=36;break;case 32:t.prev=32,t.t0=t.catch(13),console.error(t.t0),e.PushPopupAlert({title:Object(q.a)(t.t0),theme:N.a.danger});case 36:c(!1);case 37:case"end":return t.stop()}}),t,null,[[13,32]])})));return function(){return t.apply(this,arguments)}}(),X=function(t){2===t.claim_level&&e.FC_CompleteClaim((function(t,a){c(t),Object(C.f)(a)||e.PushPopupAlert({title:a,theme:N.a.danger})}))},W=function(t){if(e.claimReasons)return e.claimReasons.find((function(e){return e.id===t}))},K=function(){var t=Object(P.a)(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.patch("".concat(G.a.APPLICATION,"/apply/tolerateappl/").concat(e.thisClaim.claiming_on_id),{user_id:e.auth.user.user_id,email:e.thisClaim.user.email,phone_number:e.thisClaim.user.phone_number,comment:A,application_status:F.a.Shortlisted});case 3:t.sent.data&&e.reAssessApplication({application_id:e.thisClaim.claiming_on_id,application_status:F.a.Shortlisted}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error({code_error:t.t0}),Object(p.Rb)({title:Object(q.a)(t.t0),theme:N.a.danger});case 11:c(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),Q=(t=e.thisApplication.position,e.systemPositions.find((function(e){return e.position_id===t}))),Z=function(e,t){var a=[],s=t.details;for(var i in s){var n=t.details[i];null===n.files||Object(C.f)(n.files)||a.push({user_id:t._id,n_id:t.n_id?t.n_id:"",fname:t.user_info.fname,lname:t.user_info.lname,phone_number:t.phone_number,district:t.user_info.district,email:t.email,main_doc_title:Object(U.b)(e,n).main,category_id:n.category_id,sub_category_id:n.sub_category_id,category_subcategory_data:n.category_subcategory_data,title:n.title,description:n.description,files:n.files,start_year:n.start_year,end_year:n.end_year,school:n.school.title,details_email:n.email,names:n.names,details_phone_number:n.phone_number,company:n.company,year:n.year,doc_id:n.doc_id,validation_status:n.validation_status,validated_by:n.validated_by?{user_id:n.validated_by.user_id,comment:n.validated_by.comment?n.validated_by.comment:n.validated_by.commet,validation_status:n.validated_by.validation_status,date:n.validated_by.date}:null,doc_history_status:"",get_in_date:"",approved:n.approved,exams:[]})}return a}(e.documentCategories,e.thisClaim.user),ee=Z?Z.find((function(e){return e.doc_id===D})):void 0;return ee?Object(Y.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){return z("")},backDropClose:!0,widthSizeClass:_.b.maxWidth,displayClose:!1,padding:{title:void 0,body:void 0,footer:void 0},children:Object(Y.jsx)($,{doc:ee,setDocId:function(e){return z(e)},close:z})}):Object(Y.jsxs)("section",{children:[Object(Y.jsxs)("div",{className:"w-full py-1 divide-y-2 space-y-4",children:[Object(Y.jsxs)("section",{className:"flex flex-col",children:[Object(Y.jsxs)("div",{className:"flex items-start mb-4 -mt-2 pb-3 px-4 bg-white",children:[Object(Y.jsx)("div",{className:"w-auto",children:Object(Y.jsx)("img",{src:Object(w.c)(e.thisClaim.user.user_info.photo),className:"w-auto object-center object-cover h-32 rounded-lg",alt:""})}),Object(Y.jsxs)("section",{className:"w-full",children:[Object(Y.jsxs)("div",{className:"flex items-center",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Applicant:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.user_info.fname+" "+e.thisClaim.user.user_info.lname})]}),!1]}),Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"NID:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.n_id})]}),Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Sex:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.user_info.sex})]}),Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Phone:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.phone_number})]}),Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Email:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.email})]})]})]}),Object(Y.jsxs)("section",{className:"w-full mb-4 bg-white px-4 py-2 rounded",children:[Object(Y.jsx)("h2",{className:"mx-4 text-blue-800 font-bold text-3xl",children:Q?Q.position_title:"Position not found"}),Q?Object(Y.jsx)(B.a,{positionDetails:Q,cancel:function(){},apply:function(){},auth:e.auth,showRegister:function(){},hideTools:!0}):Object(Y.jsx)(O.b,{theme:O.a.Dark,value:"Position not found!"})]}),Object(Y.jsxs)("section",{className:"bg-white rounded w-full px-4 py-2 my-3",children:[Object(Y.jsxs)("div",{className:"",children:[Object(Y.jsx)("div",{className:"font-light text-4xl",children:"User documents"}),Object(Y.jsx)("div",{children:"List of all documents"})]}),Object(Y.jsxs)("table",{className:"w-full rounded shadow",children:[null!==Z&&0!==Z.length&&Object(Y.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(Y.jsx)("td",{className:"px-2 py-2",children:"User Document"}),Object(Y.jsx)("td",{className:"px-2 py-2",children:"Status"}),Object(Y.jsx)("td",{className:"px-2 py-2"})]})}),Object(Y.jsxs)("tbody",{children:[Z&&0===Z.length&&Object(Y.jsx)("tr",{className:"border-b border-gray-200",children:Object(Y.jsx)("td",{colSpan:4,children:Object(Y.jsx)("div",{className:"m-3 flex items-center justify-center p-4 rounded bg-gray-100 text-center text-2xl font-light",children:"No documents found for this user!"})})}),Z&&Z.length>0&&Z.map((function(e,t){return Object(Y.jsxs)("tr",{className:"border-b border-gray-200 cursor-pointer group hover:bg-gray-100",onClick:function(){return z(e.doc_id)},children:[Object(Y.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(Y.jsx)("td",{className:"py-3 px-3 text-left font-medium text-lg",children:e.main_doc_title}),Object(Y.jsx)("td",{className:"py-3 px-2 text-left",children:Object(Y.jsx)("span",{className:"text-sm font-medium py-1 px-2 rounded align-middle ".concat("approved"===e.validation_status?"bg-green-100 text-green-800":"waiting"===e.validation_status?"bg-gray-200 text-black":"bg-red-100 text-red-800"),children:Object(C.a)(e.validation_status)})}),Object(Y.jsx)("td",{className:"text-right",children:Object(Y.jsxs)("button",{className:"bg-blue-100 group-hover:bg-blue-600 text-blue-700 group-hover:text-white font-bold py-1 px-1 inline-flex rounded focus:outline-none",title:"View documents",children:[Object(Y.jsx)(H.i,{className:"w-5 h-5"}),"View doc"]})})]},e.doc_id+t+Math.random())}))]})]})]}),Object(Y.jsxs)("section",{className:"px-4 py-2 bg-white rounded",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Status:"}),Object(Y.jsx)("span",{className:"font-bold ".concat(e.thisClaim.previous?e.thisClaim.previous.status===F.a.Rejected:e.thisApplication.application_status===F.a.Rejected?"text-yellow-900":"text-blue-600"," rounded px-3 py-1"),children:e.thisClaim.previous?Object(C.a)(e.thisClaim.previous.status):Object(C.a)(e.thisApplication.application_status)})]}),!1,Object(Y.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Date:"}),Object(Y.jsx)("span",{className:"font-bold text-gray-900 py-1",children:Object(w.a)(e.thisApplication.createdAt)})]}),Object(Y.jsxs)("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Reason:"}),Object(Y.jsx)("span",{className:"font-normal",dangerouslySetInnerHTML:{__html:e.thisClaim.previous?e.thisClaim.previous.reason:e.thisApplication.override_by.comment}})]})]})]}),e.thisClaim.claims.length>0&&e.thisClaim.claims.map((function(t,a){return Object(Y.jsxs)("section",{className:"flex flex-col px-4 pt-2 pb-3 rounded bg-white",children:[Object(Y.jsxs)("div",{className:"text-gray-700 italic font-bold",children:["Claim Comment (level ",a+1,")"]}),Object(Y.jsxs)("div",{className:"flex flex-col items-start gap-2 mt-1 border rounded px-4 py-1 bg-gray-50",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2 bg-blue-100 rounded py-1 px-2",children:[Object(Y.jsx)(u.T,{}),W(e.thisClaim.default_claim_resaons)?W(e.thisClaim.default_claim_resaons).reason:""]}),Object(Y.jsx)("p",{children:t.reason}),Object(Y.jsx)("span",{className:"text-gray-600 text-xs",children:Object(w.q)(t.createdAt)})]}),Object(V.b)(e.thisClaim,t.level)&&Object(Y.jsxs)("section",{className:"mt-4",children:[Object(Y.jsxs)("span",{className:"text-gray-700 italic font-semibold",children:["Response (level ",a+1,")"]}),Object(Y.jsxs)("div",{className:"border-t-2",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Status:"}),Object(Y.jsx)("span",{className:"font-bold ".concat(t.decision_taken_status===v.a.REJECTED?"text-yellow-900":"text-blue-600"," rounded px-3 py-1"),children:Object(C.a)(t.decision_taken_status.toLocaleLowerCase())})]}),Object(Y.jsxs)("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Reason:"}),Object(Y.jsx)("span",{className:"font-normal",dangerouslySetInnerHTML:{__html:t.evaluation_comment}})]})]})]})]},a+t._id)}))]}),!m&&Object(Y.jsxs)("section",{className:"flex items-center justify-between bg-gray-50 rounded mt-3",children:[Object(Y.jsx)("div",{className:"mx-4 my-4",children:Object(Y.jsx)("span",{className:"".concat(e.thisClaim.last_claim_status===v.b.PENDING?"text-yellow-700":e.thisClaim.last_claim_status===v.b.DELETED?"text-red-700":"text-green-700"," italic font-semibold"),children:Object(C.a)(e.thisClaim.last_claim_status.toLocaleLowerCase())})}),e.thisClaim.last_claim_status===v.b.PENDING&&Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[Object(Y.jsxs)("button",{className:"px-4 py-2 font-semibold text-gray-900 rounded inline-flex items-center space-x-2 focus:outline-none bg-gray-100 hover:bg-gray-300",onClick:function(){e.close()},children:[Object(Y.jsx)(u.f,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Back to list"})]}),Object(Y.jsxs)("button",{className:"px-4 py-2 font-semibold text-red-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-red-700 hover:bg-red-800",onClick:function(){b(v.a.REJECTED)},children:[Object(Y.jsx)(u.p,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Reject"})]}),Object(Y.jsxs)("button",{className:"px-4 py-2 font-semibold text-blue-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-blue-700 hover:bg-blue-800",onClick:function(){b(v.a.ACCEPTED)},children:[Object(Y.jsx)(R.i,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Accept"})]})]})]}),m&&Object(Y.jsxs)("section",{className:"my-5 overflow-x-auto",children:[Object(Y.jsxs)("div",{className:"italic text-gray-700 text-base my-1 mx-2",children:["Selected decision:"," ",Object(Y.jsx)("span",{className:"font-semibold text-lg ".concat(m===v.a.ACCEPTED?"text-blue-700":"text-yellow-800"),children:m===v.a.ACCEPTED?"Approved":"Rejected"})]}),Object(Y.jsxs)("div",{className:"flex flex-col md:flex-row items-end md:items-start gap-1 w-full",children:[Object(Y.jsxs)("div",{className:"w-full px-2",children:[Object(Y.jsx)("textarea",{placeholder:"Reason of your decision...",cols:50,rows:3,className:"border border-".concat(j&&"comment"===j.element?"red":"gray","-400 rounded px-3 py-1 w-full focus:outline-none"),style:{resize:"none"},value:A,onChange:function(e){E(e.target.value),f(null)},disabled:l}),j&&"comment"===j.element&&Object(Y.jsx)("p",{className:"text-red-800",children:j.msg})]}),Object(Y.jsxs)("div",{className:"flex flex-row md:flex-col gap-1 max-w-full px-2",children:[Object(Y.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",onClick:function(){E(""),b(null),f(null)},disabled:l,children:[Object(Y.jsx)(M.b,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Back"})]}),Object(Y.jsx)("button",{className:"bg-blue-700 hover:bg-blue-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",disabled:l,onClick:function(){return window.confirm("Are you sure you want to ".concat(m===v.a.ACCEPTED?"approve":"rejected"," this document?"))&&J()},children:l?Object(Y.jsx)("div",{className:"",children:"Loading..."}):Object(Y.jsxs)("div",{className:"inline-flex items-center space-x-2 gap-1",children:[Object(Y.jsx)(R.i,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Confirm"})]})})]})]})]})]})}))),te=a(693),ae=d.a.memo(Object(m.b)((function(e){return{auth:e.auth}}),{evaluateClaim:b.e,verifyDocument:h.o,PushPopupAlert:p.Rb,FC_CompleteClaim:b.a})((function(e){var t=function(){var t=Object(P.a)(I.a.mark((function t(){var i,n,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.actionTaken){t.next=3;break}return e.setFormError({element:"action",msg:"Action is required!"}),t.abrupt("return",e.setLoadingRequest(!1));case 3:if(!Object(C.f)(e.responseMsg)){t.next=6;break}return e.setFormError({element:"comment",msg:"Reason of rejection is required"}),t.abrupt("return",e.setLoadingRequest(!1));case 6:if(!(i=e.thisClaim.claims.find((function(t){return t.level===e.thisClaim.claim_level})))){t.next=31;break}return e.setLoadingRequest(!0),n={sub_claim_id:i._id,evaluation_comment:e.responseMsg,evaluated_by:e.auth.user.user_id,decision_taken_status:e.actionTaken,evaluator_name:e.auth.user.fname+" "+e.auth.user.lname,evaluator_email:e.auth.user.email},t.prev=10,t.next=13,L.a.put("".concat(G.a.CLAIMING,"/user/evaluate/").concat(e.thisClaim._id),n);case 13:if(!(l=t.sent)){t.next=24;break}if(console.log({evaluate_claim_res:l}),e.evaluateClaim(l.data),a(e.thisClaim),e.actionTaken!==v.a.ACCEPTED){t.next=21;break}return t.next=21,s();case 21:e.PushPopupAlert({title:"Claim responded successfully!",theme:N.a.success}),e.setResponseMsg(""),e.setActionTaken(null);case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(10),console.error(t.t0),e.PushPopupAlert({title:Object(q.a)(t.t0),theme:N.a.danger});case 30:e.setLoadingRequest(!1);case 31:case"end":return t.stop()}}),t,null,[[10,26]])})));return function(){return t.apply(this,arguments)}}(),a=function(t){2===t.claim_level&&e.FC_CompleteClaim((function(t,a){e.setLoadingRequest(t),Object(C.f)(a)||e.PushPopupAlert({title:a,theme:N.a.danger})}))},s=function(){var t=Object(P.a)(I.a.mark((function t(){var a,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={user_id:e.thisClaim.user._id,doc_id:e.thisClaim.claiming_on_id,validation_status:e.actionTaken===v.a.ACCEPTED?te.a.APPROVED:te.a.REJECTED,validated_by:{user_id:e.auth.user.user_id,comment:e.responseMsg,validation_status:e.actionTaken===v.a.ACCEPTED?te.a.APPROVED:te.a.REJECTED},in_education:!1,disability:!1,expiration_date:"this.state.expiration_date"},s={user_id:e.thisClaim.user._id,doc_id:e.thisClaim.claiming_on_id,validation_status:e.actionTaken===v.a.ACCEPTED?te.a.APPROVED:te.a.REJECTED,validated_by:{user_id:e.auth.user.user_id,comment:e.responseMsg,validation_status:e.actionTaken===v.a.ACCEPTED?te.a.APPROVED:te.a.REJECTED,date:""},in_education:!1,disability:!1,expiration_date:"this.state.expiration_date"},t.prev=2,t.next=5,L.a.post("".concat(G.a.USER,"/docs/validateuserdoc"),a);case 5:t.sent&&e.verifyDocument(s),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.PushPopupAlert({title:Object(q.a)(t.t0),theme:N.a.danger});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),i=function(t){if(e.claimReasons)return e.claimReasons.find((function(e){return e.id===t}))};return Object(Y.jsxs)("section",{className:"",children:[Object(Y.jsxs)("div",{className:"w-full py-1 divide-y-2 space-y-2",children:[Object(Y.jsxs)("div",{className:"flex items-start mb-4 -mt-2 pb-3 px-4 bg-white rounded",children:[Object(Y.jsx)("div",{className:"w-auto",children:Object(Y.jsx)("img",{src:Object(w.c)(e.thisClaim.user.user_info.photo),className:"w-auto object-center object-cover h-32 rounded-lg",alt:""})}),Object(Y.jsxs)("section",{className:"w-full",children:[Object(Y.jsx)("div",{className:"flex items-center",children:Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Applicant:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.user_info.fname+" "+e.thisClaim.user.user_info.lname})]})}),Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"NID:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.n_id})]}),Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Sex:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.user_info.sex})]}),Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Phone:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.phone_number})]}),Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Email:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.email})]})]})]}),Object(Y.jsxs)("section",{className:"flex flex-col bg-white rounded mb-4 pb-3 px-4",children:[Object(Y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Title:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-2xl",children:e.thisClaim.user.details.filter((function(e){return"waiting"!==e.validation_status})).length>0?pe(e.documentCategories,e.thisClaim.user.details.filter((function(e){return"waiting"!==e.validation_status})),e.thisClaim):"-"})]}),Object(Y.jsx)("button",{type:"button",className:"bg-blue-200 hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 py-1 px-2 mr-1 mt-1 rounded text-sm",onClick:function(){return e.setViewImage(!e.viewImage)},children:e.viewImage?"Hide":"View"})]}),Object(Y.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Status:"}),Object(Y.jsx)("span",{className:"font-bold text-yellow-900 rounded px-3 py-1",children:e.thisClaim.previous?Object(C.a)(e.thisClaim.previous.status):Object(C.a)(e.thisDoc.validation_status)})]}),Object(Y.jsxs)("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Reason:"}),Object(Y.jsx)("span",{className:"font-normal",children:e.thisClaim.previous?e.thisClaim.previous.reason:e.thisDoc.validated_by.commet})]}),e.viewImage&&Object(Y.jsx)("div",{className:"w-full my-1 animate__animated animate__fadeIn",children:Object(w.m)(Object(w.k)(e.thisDoc.files))?Object(Y.jsx)("img",{src:G.a.AUTH_FILES+e.thisDoc.files,alt:"Applicant document",className:"w-full md:w-auto h-auto md:max-h-screen mx-auto",id:"doc-img"}):Object(Y.jsx)(K.a,{file_url:G.a.AUTH_FILES+e.thisDoc.files,class_name:"w-full h-screen md:max-h-screen mx-auto",frame_title:"application PDF file view"})})]}),e.thisClaim.claims.length>0&&Object(Y.jsx)("div",{className:"bg-white rounded mb-4 pb-3 px-4",children:e.thisClaim.claims.map((function(t,a){return Object(Y.jsxs)("section",{className:"flex flex-col pt-3",children:[Object(Y.jsxs)("div",{className:"text-gray-700 italic font-bold",children:["Claim Comment (level ",a+1,")"]}),Object(Y.jsxs)("div",{className:"flex flex-col items-start gap-2 mt-1 border rounded px-4 py-1 bg-gray-50",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2 bg-blue-100 rounded py-1 px-2",children:[Object(Y.jsx)(u.T,{}),i(e.thisClaim.default_claim_resaons)?i(e.thisClaim.default_claim_resaons).reason:""]}),Object(Y.jsx)("p",{children:t.reason}),Object(Y.jsx)("span",{className:"text-gray-500 text-xs",children:Object(w.q)(t.createdAt)})]}),Object(V.b)(e.thisClaim,t.level)&&Object(Y.jsxs)("section",{className:"mt-4",children:[Object(Y.jsxs)("span",{className:"text-gray-700 italic font-semibold",children:["Response (level ",a+1,")"]}),Object(Y.jsxs)("div",{className:"border-t-2",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Status:"}),Object(Y.jsx)("span",{className:"font-bold ".concat(t.decision_taken_status===v.a.REJECTED?"text-yellow-900":"text-blue-600"," rounded px-3 py-1"),children:Object(C.a)(t.decision_taken_status.toLocaleLowerCase())})]}),Object(Y.jsxs)("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Reason:"}),Object(Y.jsx)("span",{className:"font-normal",children:t.evaluation_comment})]})]})]})]},a+t._id)}))})]}),!e.actionTaken&&Object(Y.jsxs)("section",{className:"flex items-center justify-between bg-gray-50 rounded mt-3",children:[Object(Y.jsx)("div",{className:"mx-4",children:Object(Y.jsx)("span",{className:"".concat(e.thisClaim.last_claim_status===v.b.PENDING?"text-yellow-700":e.thisClaim.last_claim_status===v.b.DELETED?"text-red-700":"text-green-700"," italic font-semibold"),children:Object(C.a)(e.thisClaim.last_claim_status.toLocaleLowerCase())})}),e.thisClaim.last_claim_status===v.b.PENDING&&Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[Object(Y.jsxs)("button",{className:"px-4 py-2 font-semibold text-red-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-red-700 hover:bg-red-800",onClick:function(){e.setActionTaken(v.a.REJECTED)},children:[Object(Y.jsx)(u.p,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Reject"})]}),Object(Y.jsxs)("button",{className:"px-4 py-2 font-semibold text-blue-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-blue-700 hover:bg-blue-800",onClick:function(){e.setActionTaken(v.a.ACCEPTED)},children:[Object(Y.jsx)(R.i,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Accept"})]})]})]}),e.actionTaken&&Object(Y.jsxs)("section",{className:"my-5 overflow-x-auto",children:[Object(Y.jsxs)("div",{className:"italic text-gray-700 text-base my-1 mx-2",children:["Selected decision:"," ",Object(Y.jsx)("span",{className:"font-semibold text-lg ".concat(e.actionTaken===v.a.ACCEPTED?"text-blue-700":"text-yellow-800"),children:e.actionTaken===v.a.ACCEPTED?"Approved":"Rejected"})]}),Object(Y.jsxs)("div",{className:"flex flex-col md:flex-row items-end md:items-start gap-1 w-full",children:[Object(Y.jsxs)("div",{className:"w-full px-2",children:[Object(Y.jsx)("textarea",{placeholder:"Reason of your decision...",cols:50,rows:3,className:"border border-".concat(e.formError&&"comment"===e.formError.element?"red":"gray","-400 rounded px-3 py-1 w-full focus:outline-none"),style:{resize:"none"},value:e.responseMsg,onChange:function(t){e.setResponseMsg(t.target.value),e.setFormError(null)},disabled:e.loadingRequest}),e.formError&&"comment"===e.formError.element&&Object(Y.jsx)("p",{className:"text-red-800",children:e.formError.msg})]}),Object(Y.jsxs)("div",{className:"flex flex-row md:flex-col gap-1 max-w-full px-2",children:[Object(Y.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",onClick:function(){e.setResponseMsg(""),e.setActionTaken(null),e.setFormError(null)},disabled:e.loadingRequest,children:[Object(Y.jsx)(M.b,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Back"})]}),Object(Y.jsx)("button",{className:"bg-blue-700 hover:bg-blue-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",disabled:e.loadingRequest,onClick:function(){return window.confirm("Are you sure you want to ".concat(e.actionTaken===v.a.ACCEPTED?"approve":"rejected"," this document?"))&&t()},children:e.loadingRequest?Object(Y.jsx)("div",{className:"",children:"Loading..."}):Object(Y.jsxs)("div",{className:"inline-flex items-center space-x-2 gap-1",children:[Object(Y.jsx)(R.i,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Confirm"})]})})]})]})]})]})}))),se=a(144),ie=a(211);!function(e){e.profile="Applicant Profile",e.exam="Exam Details"}(s||(s={}));var ne=d.a.memo(Object(m.b)((function(e){return{auth:e.auth,questionTypes:e.questionTypes}}),{loadQuestionTypes:p.Qc,evaluateClaim:b.e,PushPopupAlert:p.Rb,FC_CompleteClaim:b.a})((function(e){var t=Object(o.useState)(!1),a=Object(k.a)(t,2),i=a[0],n=a[1],l=Object(o.useState)(!0),c=Object(k.a)(l,2),r=c[0],d=c[1],m=Object(o.useState)(null),p=Object(k.a)(m,2),b=p[0],h=p[1],x=Object(o.useState)(null),j=Object(k.a)(x,2),g=j[0],_=j[1],y=Object(o.useState)(""),O=Object(k.a)(y,2),A=O[0],E=O[1],T=Object(o.useState)(0),S=Object(k.a)(T,2),D=S[0],F=S[1],B=Object(o.useState)(s.profile),U=Object(k.a)(B,2),H=U[0],z=U[1];if(Object(o.useEffect)((function(){null===e.questionTypes.questionTypes||0===e.questionTypes.questionTypes.length&&r?e.loadQuestionTypes(d):r&&d(!1)}),[r,e]),r||null===e.questionTypes.questionTypes)return Object(Y.jsx)(f.a,{});var J=function(){var t=Object(P.a)(I.a.mark((function t(){var a,s,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b){t.next=3;break}return _({element:"action",msg:"Action is required!"}),t.abrupt("return",n(!1));case 3:if(b!==v.a.ACCEPTED||!(D<=0||D>100)){t.next=6;break}return _({element:"marks",msg:"Invalid marks, marks must be between 1 and 10"}),t.abrupt("return",n(!1));case 6:if(!Object(C.f)(A)){t.next=9;break}return _({element:"comment",msg:"Reason of rejection is required"}),t.abrupt("return",n(!1));case 9:if(!(a=e.thisClaim.claims.find((function(t){return t.level===e.thisClaim.claim_level})))){t.next=34;break}return n(!0),s={sub_claim_id:a._id,evaluation_comment:A,evaluated_by:e.auth.user.user_id,decision_taken_status:b,evaluator_name:e.auth.user.fname+" "+e.auth.user.lname,evaluator_email:e.auth.user.email},t.prev=13,t.next=16,L.a.put("".concat(G.a.CLAIMING,"/user/evaluate/").concat(e.thisClaim._id),s);case 16:if(!(i=t.sent)){t.next=27;break}if(console.log({evaluate_claim_res:i}),e.evaluateClaim(i.data),X(e.thisClaim),b!==v.a.ACCEPTED){t.next=24;break}return t.next=24,W();case 24:e.PushPopupAlert({title:"Claim responded successfully!",theme:N.a.success}),E(""),h(null);case 27:t.next=33;break;case 29:t.prev=29,t.t0=t.catch(13),console.error(t.t0),e.PushPopupAlert({title:Object(q.a)(t.t0),theme:N.a.danger});case 33:n(!1);case 34:case"end":return t.stop()}}),t,null,[[13,29]])})));return function(){return t.apply(this,arguments)}}(),X=function(t){2===t.claim_level&&e.FC_CompleteClaim((function(t,a){n(t),Object(C.f)(a)||e.PushPopupAlert({title:a,theme:N.a.danger})}))},W=function(){var t=Object(P.a)(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.put("".concat(G.a.DO_EXAM,"/answersheet/user/marks/update"),{answer_sheet_id:e.thisClaim.claiming_on_id,marks:D});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0),e.PushPopupAlert({title:Object(q.a)(t.t0),theme:N.a.danger});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),K=function(t){if(e.claimReasons)return e.claimReasons.find((function(e){return e.id===t}))};return Object(Y.jsxs)("section",{className:"",children:[Object(Y.jsx)("div",{className:"flex flex-row items-center mx-4",children:Object.values(s).map((function(e,t){return Object(Y.jsx)("div",{onClick:function(){return z(e)},className:"animate__animated ".concat(H===e?"bg-blue-100 border-blue-600 text-blue-600 animate__zoomIn":"bg-white border-white text-gray-600"," hover:bg-blue-100 px-4 py-2 cursor-pointer font-bold border-b-4 hover:border-blue-600 hover:text-blue-600 rounded-t mt-1 mr-1"),children:e},t)}))}),Object(Y.jsxs)("div",{className:"w-full bg-white px-4 py-1 divide-y-2 space-y-2",children:[Object(Y.jsxs)("section",{className:"flex flex-col",children:[H===s.exam&&Object(Y.jsx)("section",{className:"w-full my-1 animate__animated animate__fadeIn rounded",children:Object(Y.jsx)("div",{className:"bg-white w-full rounded p-2 mb-2",children:Object(Y.jsx)(se.a,{showAnswers:!0,exam_id:Object(ie.a)(e.thisExamSheet,e.thisExam.course_name),allAnswers:[{exam_location:e.thisExamSheet.exam_location,questions:e.thisExamSheet.questions,user_answers:e.thisExamSheet.user_answers,user:e.thisExamSheet.user,period:e.thisExamSheet.period,course:e.thisExamSheet.course,exam_paper:e.thisExamSheet.exam_paper,user_status:e.thisExamSheet.user_status,used_duration:e.thisExamSheet.used_duration,total_marks:e.thisExamSheet.total_marks,number_of_question_answered:e.thisExamSheet.number_of_question_answered,exam_total_marks:e.thisExamSheet.exam_total_marks,exam_start_time:e.thisExamSheet.exam_start_time,exam_end_time:e.thisExamSheet.exam_end_time,exam_date:e.thisExamSheet.exam_date,status:e.thisExamSheet.status,createdAt:e.thisExamSheet.createdAt,updatedAt:e.thisExamSheet.updatedAt,disability:!1,gender:"",in_education:!1,position:"",answer_sheet_id:e.thisExamSheet.answer_sheet_id}],user_id:e.thisExamSheet.user})})}),H===s.profile&&Object(Y.jsx)("section",{className:"w-full my-2 animate__animated animate__fadeIn rounded",children:Object(Y.jsx)("div",{className:"flex items-center justify-between",children:Object(Y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Names:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.user_info.fname+" "+e.thisClaim.user.user_info.lname})]})})}),H===s.profile&&Object(Y.jsxs)("div",{className:"",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Email:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-lg",children:e.thisClaim.user.email})]}),Object(Y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Phone:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-lg",children:e.thisClaim.user.phone_number})]}),Object(Y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(Y.jsx)("span",{className:"italic text-gray-600",children:"Gender:"}),Object(Y.jsx)("span",{className:"text-gray-800 font-bold text-lg",children:"M"===e.thisClaim.user.user_info.sex?"Male":"Female"})]})]})]}),e.thisClaim.claims.length>0&&e.thisClaim.claims.map((function(t,a){return Object(Y.jsxs)("section",{className:"flex flex-col px-2 pt-3",children:[Object(Y.jsxs)("div",{className:"text-gray-700 italic font-bold",children:["Claim Comment (level ",a+1,")"]}),Object(Y.jsxs)("div",{className:"flex flex-col items-start gap-2 mt-1 border rounded px-2 py-1 bg-gray-50",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2 bg-blue-100 rounded py-1 px-2",children:[Object(Y.jsx)(u.T,{}),K(e.thisClaim.default_claim_resaons)?K(e.thisClaim.default_claim_resaons).reason:""]}),Object(Y.jsx)("p",{children:t.reason}),Object(Y.jsx)("span",{className:"text-gray-600 text-xs",children:Object(w.q)(t.createdAt)})]}),Object(V.b)(e.thisClaim,t.level)&&Object(Y.jsxs)("section",{className:"mt-4",children:[Object(Y.jsxs)("span",{className:"text-gray-700 italic font-semibold",children:["Response (level ",a+1,")"]}),Object(Y.jsxs)("div",{className:"border-t-2",children:[Object(Y.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Status:"}),Object(Y.jsx)("span",{className:"font-bold ".concat(t.decision_taken_status===v.a.REJECTED?"text-yellow-900":"text-blue-600"," rounded px-3 py-1"),children:Object(C.a)(t.decision_taken_status.toLocaleLowerCase())})]}),Object(Y.jsxs)("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[Object(Y.jsx)("span",{className:"italic",children:"Reason:"}),Object(Y.jsx)("span",{className:"font-normal",children:t.evaluation_comment})]})]})]})]},a+t._id)}))]}),!b&&Object(Y.jsxs)("section",{className:"flex items-center justify-between bg-gray-50 rounded mt-3",children:[Object(Y.jsx)("div",{className:"mx-4 my-4",children:Object(Y.jsx)("span",{className:"".concat(e.thisClaim.last_claim_status===v.b.PENDING?"text-yellow-700":e.thisClaim.last_claim_status===v.b.DELETED?"text-red-700":"text-green-700"," italic font-semibold"),children:Object(C.a)(e.thisClaim.last_claim_status.toLocaleLowerCase())})}),e.thisClaim.last_claim_status===v.b.PENDING&&Object(Y.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[Object(Y.jsxs)("button",{className:"px-4 py-2 font-semibold text-red-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-red-700 hover:bg-red-800",onClick:function(){h(v.a.REJECTED)},children:[Object(Y.jsx)(u.p,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Reject"})]}),Object(Y.jsxs)("button",{className:"px-4 py-2 font-semibold text-blue-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-blue-700 hover:bg-blue-800",onClick:function(){h(v.a.ACCEPTED)},children:[Object(Y.jsx)(R.i,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Accept"})]})]})]}),b&&Object(Y.jsxs)("section",{className:"my-5 overflow-x-auto",children:[Object(Y.jsxs)("div",{className:"italic text-gray-700 text-base my-1 mx-2",children:["Selected decision:"," ",Object(Y.jsx)("span",{className:"font-semibold text-lg ".concat(b===v.a.ACCEPTED?"text-blue-700":"text-yellow-800"),children:b===v.a.ACCEPTED?"Approved":"Rejected"})]}),Object(Y.jsxs)("div",{className:"flex flex-col md:flex-row items-end md:items-start gap-1 w-full",children:[Object(Y.jsxs)("div",{className:"w-full space-y-1",children:[b===v.a.ACCEPTED&&Object(Y.jsxs)("div",{className:"flex items-center justify-end w-full gap-2",children:[Object(Y.jsx)("span",{className:"font-semibold",children:"Addition marks"}),Object(Y.jsxs)("div",{className:"px-2",children:[Object(Y.jsx)("input",{placeholder:"Addition marks",className:"border border-".concat(g&&"marks"===g.element?"red":"gray","-400 rounded px-3 py-1 w-auto focus:outline-none"),value:D,onChange:function(e){F(Number(e.target.value)),_(null)},disabled:i}),g&&"marks"===g.element&&Object(Y.jsx)("p",{className:"text-red-800",children:g.msg})]})]}),Object(Y.jsxs)("div",{className:"w-full px-2",children:[Object(Y.jsx)("textarea",{placeholder:"Reason of your decision...",cols:50,rows:b===v.a.ACCEPTED?2:3,className:"border border-".concat(g&&"comment"===g.element?"red":"gray","-400 rounded px-3 py-1 w-full focus:outline-none"),style:{resize:"none"},value:A,onChange:function(e){E(e.target.value),_(null)},disabled:i}),g&&"comment"===g.element&&Object(Y.jsx)("p",{className:"text-red-800",children:g.msg})]})]}),Object(Y.jsxs)("div",{className:"flex flex-row md:flex-col gap-1 max-w-full px-2",children:[Object(Y.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",onClick:function(){E(""),h(null),_(null)},disabled:i,children:[Object(Y.jsx)(M.b,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Back"})]}),Object(Y.jsx)("button",{className:"bg-blue-700 hover:bg-blue-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",disabled:i,onClick:function(){return window.confirm("Are you sure you want to ".concat(b===v.a.ACCEPTED?"approve":"rejected"," this document?"))&&J()},children:i?Object(Y.jsx)("div",{className:"",children:"Loading..."}):Object(Y.jsxs)("div",{className:"inline-flex items-center space-x-2 gap-1",children:[Object(Y.jsx)(R.i,{className:"w-5 h-5"}),Object(Y.jsx)("span",{children:"Confirm"})]})})]})]})]})]})}))),le=a(748),ce=a(49),re=a(811),oe=a(38),de=a(68),ue=a(204),me=a(90),pe=function(e,t,a){var s="";if(a.type_key===v.g.DOCUMENT_VALIDATION){var i=t.find((function(e){return e.doc_id===a.claiming_on_id}));s=i?be(e,i).main:"Document not found"}return s},be=function(e,t){var a="",s="",i="",n="";return t.sub_category_id&&t.sub_category_id.length>0&&e.documentSubCategory?s=n=e.documentSubCategory.filter((function(e){return e.user_detail_subcategory_id===t.sub_category_id}))[0].title:t.category_id.length>0&&e.documentCategory&&(a=n=e.documentCategory.filter((function(e){return e.user_detail_category_id===t.category_id}))[0].title),t.category_subcategory_data.length>0&&e.documentFields&&(n+=" in "+(i=e.documentFields.filter((function(e){return e._id===t.category_subcategory_data}))[0].title)),{category:a,sub_category:s,field:i,main:n}},he=function(e,t,a){if(e){var s=e.find((function(e){return e._id===a}));if(s&&t){var i=t.find((function(e){return e.position_id===s.position}));if(i)return{application:s,position:i}}}return null},xe=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).setLoading=function(e){s.setState({loading:e})},s.setLoadingData=function(e){s.setState({loadingData:e})},s.setPeriodChanged=function(e){s.setState({periodChanged:e})},s.setThisPeriod=function(e){s.setState({thisPeriod:e})},s.setViewClaim=function(e){s.setState({viewClaim:e})},s.setClaimId=function(e){s.setState({claimId:e})},s.setClaimType=function(e){s.setState({claimType:e})},s.setCandidateId=function(e){s.setState({candidateId:e})},s.setViewImage=function(e){s.setState({viewImage:e})},s.setLoadingRequest=function(e){s.setState({loadingRequest:e})},s.setActionTaken=function(e){s.setState({actionTaken:e})},s.setResponseMsg=function(e){s.setState({responseMsg:e})},s.setFormError=function(e){s.setState({formError:e})},s.setDefaultSession=function(e){if(null===s.state.thisPeriod){var t=e.find((function(e){return!0===e.is_active}));s.setThisPeriod(t||e[0])}},s.setSearchClaim=function(e){s.setState({searchClaim:e})},s.loadsAllClaims=function(e,t,a){console.log("===================================="),console.log({type:s.state.selected_claim_type}),console.log("===================================="),s.props.getAllClaims(t,e._id,(function(e,t){s.setLoadingData(e),!e&&t.length&&s.props.PushPopupAlert({title:t,theme:N.a.danger})}),a)},s.loadsApplications=function(e){s.props.claiming.allApplications.find((function(t){return t._id===e}))||s.props.getAllApplications(e,(function(e,t){s.setLoading(e),!e&&t.length&&s.props.PushPopupAlert({title:t,theme:N.a.danger})}))},s.loadsController=function(e,t){t===v.g.APPLICATION&&s.loadsApplications(e),t===v.g.EXAMINATION&&s.loadsAlAnswers(e)},s.loadsAlAnswers=function(e){s.props.claiming.allAnswer.find((function(t){return t.answer_sheet_id===e}))||s.props.getAllAnswers(e,(function(e,t){s.setLoading(e),!e&&t.length&&s.props.PushPopupAlert({title:t,theme:N.a.danger})}))},s.componentDidMount=function(){null===s.props.application_sessions?s.props.GetAllSessionPlans((function(e,t,a){s.setLoading(e),e||(t.length&&s.props.PushPopupAlert({title:t,theme:N.a.danger}),a&&a.length>0&&s.setDefaultSession(a))})):s.props.application_sessions.length>0&&s.setDefaultSession(s.props.application_sessions),s.props.documentReducer.documentCategory||(s.props.getDocumentCategory(),s.setLoading(!1)),s.props.documentReducer.documentSubCategory||(s.props.getDocumentSubCategory(),s.setLoading(!1)),s.props.documentReducer.documentFields||(s.props.getDocumentFields(),s.setLoading(!1)),null===s.props.systemPositions?s.props.getPositions((function(e,t){s.setLoading(e),console.log({status:e,msg:t}),t.length&&s.props.PushPopupAlert({title:t,theme:N.a.danger})})):s.state.loading&&s.setLoading(!1),null===s.props.claiming.claimReasons&&s.props.getClaimReasons((function(e,t){s.setLoading(e),e||t.length>0&&s.props.PushPopupAlert({title:t,theme:N.a.danger})})),null===s.props.courses||0===s.props.courses.length&&s.state.loading?(s.props.loadCourses(s.setLoading),s.setLoading(!1)):s.setLoading(!1),Object(p.g)(s.props.auth,me.a.CLAIM_VALIDATION_2).view?s.setState({claim_level:2}):Object(p.g)(s.props.auth,me.a.CLAIM_VALIDATION).view&&s.setState({claim_level:1})},s.displayClaimTitle=function(e){var t=e.claiming_on_id;if(e.type_key===v.g.DOCUMENT_VALIDATION){var a=e.user.details.filter((function(e){return"waiting"!==e.validation_status}));t=a.length>0?pe(s.props.documentReducer,a,e):"Document not found"}if(e.type_key===v.g.APPLICATION&&s.props.claiming.allApplications){var i=s.props.claiming.allApplications.find((function(t){return t._id===e.claiming_on_id}));if(i&&s.props.claiming.allApplications&&s.props.systemPositions){var n=s.props.systemPositions.find((function(e){return e.position_id===i.position}));t=n?n.position_title:"Application not found"}}if(e.type_key===v.g.EXAMINATION&&s.props.courses&&s.props.claiming.allAnswer){var l=Object(E.c)(s.props.claiming.allAnswer,e.claiming_on_id);t=l&&Object(E.b)(s.props.courses,l.course)?"Exam of "+Object(E.b)(s.props.courses,l.course).course_name:"Unknown exam"}return t},s.onPeriodChange=function(e){s.setPeriodChanged(!0),s.props.getAllClaims(s.state.claim_level,e,(function(e,t){!e&&s.setPeriodChanged(!1),s.setLoadingData(e),!1===e&&t.length&&s.props.PushPopupAlert({title:t,theme:N.a.danger})}))},s.getLastClaimDate=function(e){Object(w.a)(e.createdAt);var t=e.claims.length;return Object(w.a)(e.claims[t-1].createdAt)},s.DATA_TITLES=function(e){var t,a=[],s=Object(i.a)(e);try{var n=function(){var e=t.value;void 0===a.find((function(t){return t===e.title}))&&a.push(e.title)};for(s.s();!(t=s.n()).done;)n()}catch(l){s.e(l)}finally{s.f()}return a},s.FindClaimsNumber=function(e,t){return t.filter((function(t){return t.title===e})).length},s.state={loading:!0,loadingData:!1,thisPeriod:null,viewClaim:!1,periodChanged:!1,claimId:null,claimType:null,candidateId:null,searchClaim:"",filterByStatus:v.b.PENDING,claim_level:1,selected_claim_type:null,choose_claim_type:!1,viewImage:!0,loadingRequest:!1,actionTaken:null,responseMsg:"",formError:null,selected_title:"",show_titles_filter:!1,search_title:"",view_claim_report:!1},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;if(null===this.props.application_sessions)return Object(Y.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."});if(0===this.props.application_sessions.length)return Object(Y.jsxs)("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center p-6 my-8 text-yellow-900 border border-yellow-900",children:[Object(Y.jsx)(u.T,{className:"text-6xl md:text-9xl"}),Object(Y.jsxs)("div",{className:"text-center flex flex-col",children:[Object(Y.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:"No active session"}),Object(Y.jsx)("span",{className:"text-lg",children:"Please Wait for the system to publish the sessions or contact the administrator"})]})]});if(null===this.state.selected_claim_type&&null!==this.state.thisPeriod&&(null===this.props.claiming.allClaims||!0===this.state.choose_claim_type))return Object(Y.jsxs)("div",{className:"min-w-screen h-screen fixed flex justify-center items-center inset-0 z-50",children:[Object(Y.jsx)("div",{className:"absolute bg-black opacity-80 inset-0 z-0"}),Object(Y.jsxs)("section",{className:"max-w-3xl p-5 relative mx-auto my-auto rounded-md bg-gray-100 w-full group",children:[Object(Y.jsxs)("div",{className:"w-full flex-col flex md:flex-row items-center justify-center",children:[Object(Y.jsxs)("div",{className:"bg-white rounded-3xl whitespace-nowrap p-2 shadow-sm m-3 cursor-pointer text-center hover:bg-blue-50 border-2 hover:border-blue-500",onClick:function(){e.setState({selected_claim_type:void 0,choose_claim_type:!1}),e.loadsAllClaims(e.state.thisPeriod,e.state.claim_level,void 0)},children:[Object(Y.jsx)(R.q,{className:"h-40 text-blue-600 rounded-2xl w-full object-cover"}),Object(Y.jsx)("p",{className:"mx-4 text-xl font-semibold text-gray-900 -mt-1",children:"All claims"})]}),Object(Y.jsxs)("div",{className:"bg-white rounded-3xl p-2 shadow-sm m-3 cursor-pointer text-center hover:bg-blue-50 border-2 hover:border-blue-500",onClick:function(){e.setState({selected_claim_type:v.g.APPLICATION,choose_claim_type:!1}),e.loadsAllClaims(e.state.thisPeriod,e.state.claim_level,v.g.APPLICATION)},children:[Object(Y.jsx)(H.b,{className:"h-40 text-blue-600 rounded-2xl w-full object-cover"}),Object(Y.jsx)("p",{className:"mx-4 text-xl font-semibold text-gray-900 -mt-1",children:"Application"})]}),Object(Y.jsxs)("div",{className:"bg-white rounded-3xl p-2 shadow-sm m-3 cursor-pointer text-center hover:bg-blue-50 border-2 hover:border-blue-500",onClick:function(){e.setState({selected_claim_type:v.g.DOCUMENT_VALIDATION,choose_claim_type:!1}),e.loadsAllClaims(e.state.thisPeriod,e.state.claim_level,v.g.DOCUMENT_VALIDATION)},children:[Object(Y.jsx)(de.c,{className:"h-40 text-blue-600 rounded-2xl w-full object-cover"}),Object(Y.jsx)("p",{className:"mx-4 text-xl font-semibold text-gray-900 -mt-1",children:"Documents"})]}),Object(Y.jsxs)("div",{className:"bg-white rounded-3xl p-2 shadow-sm m-3 cursor-pointer text-center hover:bg-blue-50 border-2 hover:border-blue-500",onClick:function(){e.setState({selected_claim_type:v.g.EXAMINATION,choose_claim_type:!1}),e.loadsAllClaims(e.state.thisPeriod,e.state.claim_level,v.g.EXAMINATION)},children:[Object(Y.jsx)(ue.k,{className:"h-40 text-blue-600 rounded-2xl w-full object-cover"}),Object(Y.jsx)("p",{className:"mx-4 text-xl font-semibold text-gray-900 -mt-1",children:"Examination"})]})]}),Object(Y.jsx)("div",{className:"text-center text-sm -mb-3 mt-3",children:Object(Y.jsx)(oe.c,{to:"/apps-page",className:"border border-rounded-md rounded bg-gray-100 border-gray-100 group-hover:bg-gray-50 group-hover:border-gray-400 px-2 py-1",children:"Back to App"})})]})]});if(null===this.props.claiming.allClaims)return Object(Y.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."});var t=Object(le.b)(this.props.claiming.allClaims,this.props.claiming.selectedClaimType),a="all"!==this.state.filterByStatus?t.filter((function(t){return t.last_claim_status===e.state.filterByStatus})):t,s=a.filter((function(t){return t.title===e.state.selected_title||""===e.state.selected_title}));return Object(Y.jsxs)(o.Fragment,{children:[Object(Y.jsxs)("div",{children:[!this.state.viewClaim&&Object(Y.jsxs)(y.b,{children:[Object(Y.jsx)("div",{onClick:function(){return e.setState({view_claim_report:!0})},className:"cursor-pointer text-center w-full font-bold px-3 py-2 rounded bg-green-600 text-white hover:bg-green-800",children:"View report"}),Object(Y.jsx)("div",{onClick:function(){return e.setState({choose_claim_type:!e.state.choose_claim_type,selected_claim_type:null})},className:"cursor-pointer text-center w-full font-bold px-3 py-2 mt-2 rounded bg-gray-500 text-white hover:bg-gray-700",children:"Claim type"}),Object(Y.jsx)(le.a,{loadingClaims:this.state.loadingData,selected_claim_type:this.state.selected_claim_type})]}),!this.state.viewClaim&&Object(Y.jsx)(T.a,{headerTitle:"".concat("all"===this.props.claiming.selectedClaimType?"All":this.props.claiming.selectedClaimType===v.g.DOCUMENT_VALIDATION?"Documents":this.props.claiming.selectedClaimType===v.g.APPLICATION?"Applications":this.props.claiming.selectedClaimType===v.g.EXAMINATION?"Exam":this.props.claiming.selectedClaimType===v.g.MARKS_PUBLICATION?"Marks publication":this.props.claiming.selectedClaimType===v.g.PLACEMENT_TRANSFER?"Placements":""," Claiming"),loading:this.state.loadingData,loadingSession:this.state.loading,thisPeriod:this.state.thisPeriod,setThisPeriod:this.setThisPeriod,setLoadingSession:this.setLoadingData,application_sessions:this.props.application_sessions,onPeriodChange:this.onPeriodChange,periodChanged:this.state.periodChanged}),!this.state.viewClaim&&Object(Y.jsxs)("section",{className:"bg-white w-full p-1",children:[Object(Y.jsxs)("section",{className:"flex flex-col sm:flex-row items-center gap-2 w-full my-2",children:[Object(Y.jsx)("div",{className:"w-full",children:Object(Y.jsx)("input",{onChange:function(t){return e.setSearchClaim(t.target.value)},type:"search",className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 ",placeholder:"Search claim by title or type",value:this.state.searchClaim,disabled:this.state.loadingData||!(Object(le.b)(this.props.claiming.allClaims,this.props.claiming.selectedClaimType).length>0)})}),Object(Y.jsx)("div",{className:"w-full",children:Object(Y.jsxs)("select",{className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full",placeholder:"Filter by status",onChange:function(t){return e.setState({filterByStatus:t.target.value})},value:this.state.filterByStatus,disabled:this.state.loadingData,children:[Object(Y.jsx)("option",{value:"",disabled:!0,children:"Filter by status"}),Object(Y.jsx)("option",{value:"all",children:"All Status"}),Object(Y.jsx)("option",{value:"PENDING",children:"Pending"}),Object(Y.jsx)("option",{value:"EVALUATED",children:"Evaluated"})]})}),Object(Y.jsx)("div",{onClick:function(){return!1===e.state.loadingData&&e.setState({show_titles_filter:!0})},className:"w-full border-2 border-gray-400 rounded px-3 py-2 text-sm cursor-pointer hover:bg-blue-100 hover:border-blue-600",children:Object(Y.jsx)("span",{children:""===this.state.selected_title?"Filter by claim type":this.state.selected_title})}),Object(Y.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[Object(Y.jsx)("div",{className:"rounded font-semibold px-3 py-2 whitespace-nowrap ".concat(1===this.state.claim_level?"cursor-default bg-blue-600 text-white":"cursor-pointer bg-blue-100 text-blue-600 hover:bg-blue-200 hover:tex-blue-700"),onClick:function(){!1===e.state.loadingData&&e.setState({claim_level:1}),!1===e.state.loadingData&&e.state.thisPeriod&&e.state.selected_claim_type&&e.loadsAllClaims(e.state.thisPeriod,1,e.state.selected_claim_type)},children:"Level 1"}),Object(Y.jsx)("div",{className:"rounded font-semibold px-3 py-2 whitespace-nowrap ".concat(2===this.state.claim_level?"cursor-default bg-blue-600 text-white":"cursor-pointer bg-blue-100 text-blue-600 hover:bg-blue-200 hover:tex-blue-700"),onClick:function(){!1===e.state.loadingData&&e.setState({claim_level:2}),!1===e.state.loadingData&&e.state.thisPeriod&&e.state.selected_claim_type&&e.loadsAllClaims(e.state.thisPeriod,2,e.state.selected_claim_type)},children:"Level 2"})]})]}),Object(Y.jsx)("div",{className:"w-full overflow-x-auto",children:Object(Y.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(Y.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(Y.jsx)("td",{className:"px-2 py-2",children:"Applicant names"}),Object(Y.jsx)("td",{className:"px-2 py-2",children:"Claim title"}),Object(Y.jsx)("td",{className:"px-2 py-2",children:"Claim date"}),"all"===this.props.claiming.selectedClaimType&&Object(Y.jsx)("td",{className:"px-2 py-2",children:"Claim type"}),Object(Y.jsx)("td",{className:"px-2 py-2",children:"Claim level"}),Object(Y.jsx)("td",{className:"px-2 py-2",children:"Claim status"}),Object(Y.jsx)("td",{className:"px-2 py-2"})]})}),Object(Y.jsx)("tbody",{children:this.props.claiming.allClaims&&this.props.claiming.claimTypes&&this.props.systemPositions&&!this.state.loadingData?Object(ce.a)(s,this.state.searchClaim).length<=0?Object(Y.jsx)("tr",{className:"border-b border-gray-200 group hover:bg-gray-50 cursor-pointer",children:Object(Y.jsx)("td",{className:"px-3 py-1",colSpan:8,children:Object(Y.jsx)(O.b,{theme:O.a.Light,value:"No claim found!"})})},Math.random()):Object(ce.a)(s.map((function(e){return{claiming_on_id:e.claiming_on_id,type_key:e.type_key,period_id:e.period_id,last_claim_status:e.last_claim_status,default_claim_resaons:e.default_claim_resaons,claim_level:e.claim_level,claims:e.claims,createdAt:e.createdAt,updatedAt:e.updatedAt,_id:e._id,id:e.id,previous:e.previous,title:e.title,user:e.user,institute_id:e.institute_id,user_id:e.user._id,n_eduction:e.user.n_eduction,disability:e.user.disability,n_id:e.user.n_id,phone_number:e.user.phone_number,email:e.user.email,fname:e.user.user_info.fname,lname:e.user.user_info.lname,sex:e.user.user_info.sex,photo:e.user.user_info.photo,sector:e.user.user_info.sector,district:e.user.user_info.district,province:e.user.user_info.province}})),this.state.searchClaim).map((function(t,a){return Object(Y.jsxs)("tr",{className:"border-b border-gray-200 group hover:bg-gray-50 cursor-pointer",onClick:function(){e.setViewClaim(!0),e.setClaimId(t._id),e.setCandidateId(t.user._id),e.setClaimType(Object(A.whichClaimType)(t)?Object(A.whichClaimType)(t):null),e.loadsController(t.claiming_on_id,t.type_key)},children:[Object(Y.jsx)("td",{className:"px-3 py-1",children:a+1}),Object(Y.jsx)("td",{className:"px-3 py-1 whitespace-nowrap",children:t.fname+" "+t.lname}),Object(Y.jsx)("td",{className:"px-3 py-1 whitespace-nowrap",children:t.title}),Object(Y.jsx)("td",{className:"px-3 py-1 whitespace-nowrap",children:e.getLastClaimDate(t)}),"all"===e.props.claiming.selectedClaimType&&Object(Y.jsx)("td",{className:"px-3 py-1 whitespace-nowrap",children:Object(A.whichClaimType)(t)?Object(C.a)(Object(A.whichClaimType)(t)):"-"}),Object(Y.jsxs)("td",{className:"px-3 py-1 whitespace-nowrap italic",children:["Level ",t.claim_level]}),Object(Y.jsx)("td",{className:"px-3 py-1 whitespace-nowrap",children:Object(Y.jsx)("span",{className:"inline-block rounded-full duration-300 text-xs font-semibold px-3 py-1 ".concat(Object(A.whichClaimStatus)(t).classes),children:Object(A.whichClaimStatus)(t).status})}),Object(Y.jsx)("td",{className:"px-3 py-1 text-center whitespace-nowrap",children:Object(Y.jsx)("button",{className:"btn bg-blue-500 text-white group-hover:bg-blue-600",children:"View"})})]},a+t._id)})):Object(Y.jsx)(g.a,{cols:"all"===this.props.claiming.selectedClaimType?8:7})})]})})]}),this.state.viewClaim&&this.state.candidateId&&this.props.claiming.allClaims&&this.state.claimId&&Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId)&&this.props.claiming.claimTypes&&Object(Y.jsxs)("section",{className:"bg-white w-full my-4",children:[Object(Y.jsxs)("section",{className:"flex items-center gap-2 py-2 border-b",children:[Object(Y.jsx)("button",{className:"ml-3 bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none ".concat(this.state.loadingRequest?"cursor-not-allowed":"cursor-pointer"," animate__animated animate__fadeIn"),disabled:this.state.loadingRequest,onClick:function(){e.setViewClaim(!1),e.setViewImage(!0),e.setLoadingRequest(!1),e.setActionTaken(null),e.setResponseMsg(""),e.setFormError(null)},children:Object(Y.jsx)(u.f,{className:"w-7 h-7"})}),Object(Y.jsx)("div",{className:"text-gray-600 font-extrabold text-2xl px-2",children:"Viewing claim"})]}),this.state.loading&&Object(Y.jsx)("div",{className:"my-4",children:Object(Y.jsx)(f.a,{})}),!this.state.loading&&Object(Y.jsxs)("section",{className:"bg-gray-200",children:[this.state.claimType&&this.state.claimType.toLocaleLowerCase()===v.c.DOCUMENT.toLocaleLowerCase()&&Object(Y.jsx)("div",{children:Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId).user.details.find((function(t){return t.doc_id===Object(A.getClaimById)(e.props.claiming.allClaims,e.state.claimId).claiming_on_id}))?Object(Y.jsx)(ae,{thisDoc:Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId).user.details.find((function(t){return t.doc_id===Object(A.getClaimById)(e.props.claiming.allClaims,e.state.claimId).claiming_on_id})),documentCategories:this.props.documentReducer,thisClaim:Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId),claimTypes:this.props.claiming.claimTypes,viewImage:this.state.viewImage,setViewImage:this.setViewImage,loadingRequest:this.state.loadingRequest,setLoadingRequest:this.setLoadingRequest,actionTaken:this.state.actionTaken,setActionTaken:this.setActionTaken,responseMsg:this.state.responseMsg,setResponseMsg:this.setResponseMsg,formError:this.state.formError,setFormError:this.setFormError,candidateId:this.state.candidateId,claimReasons:this.props.claiming.claimReasons}):Object(Y.jsx)(O.b,{theme:O.a.Dark,value:"Document not found"})}),this.state.claimType&&this.state.claimType.toLocaleLowerCase()===v.c.APPLICATION.toLocaleLowerCase()&&Object(Y.jsx)("div",{children:he(this.props.claiming.allApplications,this.props.systemPositions,Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id)?this.props.systemPositions&&Object(Y.jsx)(ee,{thisApplication:he(this.props.claiming.allApplications,this.props.systemPositions,Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id).application,thisPosition:he(this.props.claiming.allApplications,this.props.systemPositions,Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id).position,documentCategories:this.props.documentReducer,thisClaim:Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId),claimTypes:this.props.claiming.claimTypes,systemPositions:this.props.systemPositions,claimReasons:this.props.claiming.claimReasons,close:function(){e.setViewClaim(!1),e.setViewImage(!0),e.setLoadingRequest(!1),e.setActionTaken(null),e.setResponseMsg(""),e.setFormError(null)}}):Object(Y.jsx)(O.b,{theme:O.a.Dark,value:"Application not found"})}),this.state.claimType&&this.state.claimType.toLocaleLowerCase()===v.c.EXAMINATION.toLocaleLowerCase()&&Object(Y.jsx)("div",{children:this.props.claiming.allAnswer&&this.props.courses&&Object(E.c)(this.props.claiming.allAnswer,Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id)&&Object(E.b)(this.props.courses,Object(E.c)(this.props.claiming.allAnswer,Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id).course)?Object(Y.jsx)(ne,{thisExamSheet:Object(E.c)(this.props.claiming.allAnswer,Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id),thisExam:Object(E.b)(this.props.courses,Object(E.c)(this.props.claiming.allAnswer,Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id).course),thisClaim:Object(A.getClaimById)(this.props.claiming.allClaims,this.state.claimId),claimTypes:this.props.claiming.claimTypes,claimReasons:this.props.claiming.claimReasons}):Object(Y.jsx)(O.b,{theme:O.a.Dark,value:"Exam not found"})})]})]})]}),!0===this.state.show_titles_filter&&Object(Y.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){return e.setState({show_titles_filter:!1})},backDropClose:!0,widthSizeClass:_.b.extraLarge,displayClose:!0,padding:{title:!0,body:!1,footer:void 0},title:Object(Y.jsx)("div",{children:"Filter by claiming type"}),children:Object(Y.jsxs)("div",{className:"min-h-screen",children:[Object(Y.jsxs)("div",{className:"flex flex-row items-center w-full py-3 bg-gray-100 px-3 gap-2",children:[Object(Y.jsx)("div",{onClick:function(){return e.setState({selected_title:"",show_titles_filter:!1})},className:"bg-blue-100 font-bold text-center hover:bg-blue-600 text-blue-600 hover:text-white rounded px-3 py-2 cursor-pointer w-24",children:"View all"}),Object(Y.jsx)("div",{className:"w-full",children:Object(Y.jsx)("input",{placeholder:"Search by keywords...",value:this.state.search_title,onChange:function(t){return e.setState({search_title:t.target.value})},className:"input-white h-10 text-sm border-2 bg-white border-gray-400 focus:border-gray-500 w-full"})})]}),Object(Y.jsx)("div",{className:"p-4",children:Object(ce.a)(this.DATA_TITLES(a).map((function(e){return{title:e}})),this.state.search_title.toString()).map((function(t,s){return Object(Y.jsx)("div",{onClick:function(){return e.setState({selected_title:t.title,show_titles_filter:!1})},className:"border rounded group p-1 mb-1 ".concat(e.state.selected_title===t.title?"mb-1 border-blue-600 bg-blue-100":"border-gray-200 hover:border-blue-600 hover:bg-blue-100"," cursor-pointer"),children:Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2",children:[Object(Y.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(Y.jsx)("div",{children:Object(Y.jsx)("div",{className:"flex items-center justify-center p-1 rounded-full border-4 ".concat(e.state.selected_title===t.title?"bg-blue-200 text-blue-700 border-blue-600":"border-gray-200 bg-gray-100 group-hover:bg-blue-200 group-hover:text-blue-700 group-hover:border-blue-600"," h-10 w-10 font-bold"),children:s+1})}),Object(Y.jsx)("div",{className:"".concat(e.state.selected_title===t.title?"text-blue-700":"text-gray-500"," group-hover:text-blue-600 font-bold"),children:t.title})]}),Object(Y.jsxs)("div",{className:"font-bold",children:["(",e.FindClaimsNumber(t.title,a),")"]})]})})}))})]})}),!0===this.state.view_claim_report&&Object(Y.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){return e.setState({view_claim_report:!1})},backDropClose:!0,widthSizeClass:_.b.extraLarge,displayClose:!0,padding:{title:!0,body:!1,footer:void 0},title:Object(Y.jsx)("div",{className:"uppercase",children:"Claiming report preview"}),children:Object(Y.jsx)(re.ClaimReport,{})})]})}}]),a}(o.Component),je=Object(m.b)((function(e){var t=e.auth,a=e.system_settings,s=e.sessionPlan,i=e.claiming,n=e.document,l=e.course;return{auth:t,application_sessions:s.allSessionPlans,systemPositions:a.systemPositions,claiming:i,documentReducer:n,courses:l.courses}}),{getAllClaims:b.h,loadCourses:p.Hc,getAllAnswers:b.f,getClaimReasons:b.i,getAllApplications:b.g,GetAllSessionPlans:x.d,getDocumentCategory:h.i,getDocumentSubCategory:h.k,getDocumentFields:h.j,getPositions:j.e,PushPopupAlert:p.Rb})(xe)}}]);
//# sourceMappingURL=33.6ebc6836.chunk.js.map