(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[36],{179:function(e,t,s){"use strict";s.d(t,"d",(function(){return o})),s.d(t,"a",(function(){return a})),s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return r})),s.d(t,"j",(function(){return l})),s.d(t,"e",(function(){return c})),s.d(t,"h",(function(){return p})),s.d(t,"i",(function(){return u})),s.d(t,"g",(function(){return x})),s.d(t,"f",(function(){return h}));s(11);var i=s(2),o=function(e){var t;console.error(Object(i.a)({},e));var s=JSON.parse(null===e||void 0===e||null===(t=e.request)||void 0===t?void 0:t.response);return s.errors.length>=1?s.errors[0].message:"Something went wrong, please try again later"},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY",s=new Date(e);return"YYYY/MM/DD"===t?s.getFullYear()+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+s.getDate():s.getDate()+"/"+("0"+(s.getMonth()+1)).slice(-2)+"/"+s.getFullYear()},n=function(e,t){var s=new Image;s.src=e,s.complete?t(!0):(s.onload=function(){t(!0)},s.onerror=function(){t(!1)})},r=function(e){var t=new Date(e),s=Date.now()-t.getTime(),i=new Date(s);return Math.abs(i.getUTCFullYear()-1970)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IN",s=document.getElementById(e);if(!s)return alert("Element with ID of ".concat(e," not found!"));var i=s.clientWidth;"IN"===t&&(500===i&&alert("Maximum Zoom in level reached"),s.style.width=i+40+"px"),"OUT"===t&&(40===i&&alert("Maximum Zoom out level reached"),s.style.width=i-40+"px")},c=function(e){var t=document.getElementById(e);if(!t)return alert("Element with ID of ".concat(e," not found!"));t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()},d=function(e,t){return function(s,i){return(s[e]<i[e]?-1:s[e]>i[e]?1:0)*t}},p=function(e,t,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ASC";if(e&&s.length>0){var o="ASC"===i?1:-1;return t.sort(d(s,o))}return t},u=function(e){var t=new Date(1e3*e),s=t.getHours(),i="0"+t.getMinutes(),o="0"+t.getSeconds(),n=s>=12?"pm":"am",r=s%12;return r=r||12,{date:a(t.toString()),timeFR:s+":"+i.substr(-2)+":"+o.substr(-2),timeAMPM:r+":"+i.substr(-2)+":"+o.substr(-2)+" "+n}},x=function(e){return["jpg","jpeg","jpe","jif","jfif","jfi","jp2","j2k","jpf","jpx","jpm","mj2","png","gif","webp","tiff","tif","psd","raw","bmp","svg","svgz"].includes(e.toLowerCase())},h=function(e){return e.substr(e.lastIndexOf(".")+1)}},265:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));s(4);var i,o=s(27),a=s(1);!function(e){e.Dark="Dark",e.Light="Light"}(i||(i={}));t.b=function(e){return Object(a.jsxs)("div",{className:"flex flex-col py-4 justify-center items-center text-gray-500 border-2 border-white ".concat(e.theme===i.Dark?"bg-gray-100":"bg-white"," rounded"),children:[Object(a.jsx)(o.u,{className:"text-6xl text-gray-500 animate__animated animate__shakeX"}),Object(a.jsx)("span",{className:"text-xl mb-3",children:e.value}),void 0!==e.component&&e.component]})}},380:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var i;s(4),s(1);!function(e){e[e.Step1=0]="Step1",e[e.Step2=1]="Step2",e[e.Step3=2]="Step3"}(i||(i={}))},790:function(e,t,s){"use strict";s.r(t),s.d(t,"_Application",(function(){return B})),s.d(t,"Application",(function(){return G}));var i=s(20),o=s(21),a=s(23),n=s(22),r=s(4),l=s(188),c=s(74),d=s(54),p=s(19),u=s(3),x=s(14),h=s(265),b=s(47),j=s(53),m=s(27),f=s(1),v=function(e){Object(a.a)(s,e);var t=Object(n.a)(s);function s(e){var o;return Object(i.a)(this,s),(o=t.call(this,e)).setLoadingState=function(e){o.setState({loading:e})},o.setSchoolLevelFilterFn=function(e){o.setState({showFilter:e})},o.setSearchLevel=function(e,t){o.setState({searchLevel:{educationCategory:e,schoolLevel:t}}),e&&o.props.setSelectedEducationCategory(e),t&&(o.props.setSelectedSchoolLevel(t),o.setState({showFilter:!1})),o.filterPositions(o.props.positions.positions_list,{educationCategory:e,schoolLevel:t})},o.filterPositions=function(e,t){var s=e;if(null!==e&&null!==t&&(null!==t.educationCategory&&(s=e.filter((function(e){var s;return e.education_institute_id.education_institute_id===(null===(s=t.educationCategory)||void 0===s?void 0:s.education_institute_id)}))),null!==t.schoolLevel)){var i,a,n=e.filter((function(e){var s;return e.school_level_id.school_level_id===(null===(s=t.schoolLevel)||void 0===s?void 0:s.school_level_id)}));if(null!==o.state.searchLevel)null!==(null===(i=o.state.searchLevel)||void 0===i?void 0:i.educationCategory)&&void 0!==(null===(a=o.state.searchLevel)||void 0===a?void 0:a.educationCategory)&&(s=n.filter((function(e){var t,s;return e.education_institute_id.education_institute_id===(null===(t=o.state.searchLevel)||void 0===t||null===(s=t.educationCategory)||void 0===s?void 0:s.education_institute_id)})))}return s},o.componentDidMount=function(){var e;null!==o.props.periods.selected_period&&!1!==o.props.periods.selected_period.is_active||o.props.loadApplicationPeriods(o.setLoadingState),null!==o.props.schoolLevels.education_categories&&0!==o.props.schoolLevels.education_categories.length||o.props.loadEducationCategories(o.setLoadingState),null!==o.props.schoolLevels.school_levels&&0!==o.props.schoolLevels.school_levels.length||o.props.loadSchoolLevels(o.setLoadingState),null!==o.props.positions.positions_list&&0!==o.props.positions.positions_list.length||o.props.loadAllPositions(o.setLoadingState),o.setState({searchLevel:{educationCategory:o.props.schoolLevels.selectedEducationCategory,schoolLevel:o.props.schoolLevels.selectedSchoolLevel}}),null!==o.props.schoolLevels.selectedEducationCategory&&o.setState({showFilter:!1}),null!==o.props.schoolLevels.selectedSchoolLevel&&o.setState({showFilter:!1}),0===(null===(e=o.filterPositions(o.props.positions.positions_list,o.state.searchLevel))||void 0===e?void 0:e.length)&&(o.props.PushPopupAlert({title:"No vacancies found!",description:"No vacancies for the selected school level, please make another filter",theme:b.a.danger}),o.setState({showFilter:!0})),null!==o.props.positions.positions_list&&0===o.props.positions.positions_list.length&&o.props.PushPopupAlert({title:"No vacancies found!",description:"No vacancies for this time, please wait for next recruitment period",theme:b.a.info}),0===o.props.auth.documents.length&&(o.setState({loading:!0}),o.props.FC_GetProfileDetails(o.props.auth.user.user_id,(function(e,t){o.setState({loading:!1})})))},o.state={schoolLevelsFilter:!1,searchLevel:null,filteredPositions:null,searchPosition:"",showFilter:!0,loading:!1},o}return Object(o.a)(s,[{key:"render",value:function(){var e,t,s,i,o=this;return Object(f.jsx)(r.Fragment,{children:Object(f.jsx)("div",{className:"w-full",children:Object(f.jsx)("div",{className:"grid md:grid-cols-12",children:Object(f.jsx)("div",{className:"".concat((this.state.schoolLevelsFilter,"col-span-12")," h-full"),children:Object(f.jsxs)("div",{className:"",children:[null!==this.props.positions.positions_list&&this.props.positions.positions_list.length>0&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"flex flex-col gap-1 bg-white px-3 pt-2 pb-3 rounded shadow",children:[Object(f.jsx)("div",{className:"flex flex-col"}),Object(f.jsx)("div",{className:"flex flex-row items-end",children:Object(f.jsxs)("div",{className:"flex flex-col md:flex-row items-end gap-3 w-full",children:[null===this.props.schoolLevels.education_categories?Object(f.jsx)(j.a,{}):Object(f.jsxs)("div",{className:"flex flex-col w-full md:w-1/3",children:[Object(f.jsx)("span",{className:"font-bold text-sm",children:"Filter by Institute"}),Object(f.jsxs)("select",{onChange:function(e){var t,s,i,a=null===(t=o.props.schoolLevels.education_categories)||void 0===t?void 0:t.find((function(t){return t.education_institute_id===e.target.value}));o.setSearchLevel(void 0!==a?a:null,void 0!==(null===(s=o.state.searchLevel)||void 0===s?void 0:s.schoolLevel)?null===(i=o.state.searchLevel)||void 0===i?void 0:i.schoolLevel:null)},className:"input-white border border-gray-400",children:[Object(f.jsx)("option",{value:"",children:"Choose Institute name"}),Object(f.jsx)("option",{value:"",children:"All "}),this.props.schoolLevels.education_categories.map((function(e,t){return Object(f.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},t+1)}))]})]}),null===this.props.schoolLevels.school_levels?Object(f.jsx)(j.a,{}):Object(f.jsxs)("div",{className:"flex flex-col w-full md:w-1/3",children:[Object(f.jsx)("span",{className:"font-bold text-sm",children:"Filter by education level"}),Object(f.jsxs)("select",{onChange:function(e){var t,s,i,a=null===(t=o.props.schoolLevels.school_levels)||void 0===t?void 0:t.find((function(t){return t.school_level_id===e.target.value}));o.setSearchLevel(void 0!==(null===(s=o.state.searchLevel)||void 0===s?void 0:s.educationCategory)?null===(i=o.state.searchLevel)||void 0===i?void 0:i.educationCategory:null,void 0!==a?a:null)},className:"input-white border border-gray-400",children:[Object(f.jsx)("option",{value:"",children:"Choose education level"}),Object(f.jsx)("option",{value:"",children:"All"}),this.props.schoolLevels.school_levels.map((function(e,t){return Object(f.jsx)("option",{value:e.school_level_id,children:e.school_level_name},t+1)}))]})]}),null===this.props.schoolLevels.education_categories||null===this.props.schoolLevels.school_levels?Object(f.jsx)(j.a,{}):Object(f.jsx)("input",{onChange:function(e){return o.setState({searchPosition:e.target.value})},value:this.state.searchPosition,type:"text",placeholder:"Search a position name",className:"input-white border border-gray-400 h-10 md:w-1/3"})]})}),null!==this.state.searchLevel&&(this.state.searchLevel.educationCategory||this.state.searchLevel.schoolLevel)&&Object(f.jsxs)("div",{className:"flex flex-row gap-3 mt-2 mx-1 rounded font-bold",children:[Object(f.jsx)(m.u,{className:"text-xl -mr-2"}),Object(f.jsx)("span",{className:"text-gray-600 font text-sm italic",children:"Results for: "}),Object(f.jsx)("div",{className:"flex flex-row justify-start items-center",children:Object(f.jsxs)("span",{className:"text-sm md:text-sm my-0 font-bold text-blue-600 underline",children:[null!==this.state.searchLevel&&(null===(e=this.state.searchLevel.educationCategory)||void 0===e?void 0:e.education_category_title),null!==(null===(t=this.state.searchLevel)||void 0===t?void 0:t.schoolLevel)&&void 0!==(null===(s=this.state.searchLevel)||void 0===s?void 0:s.schoolLevel)&&" - "+(null===(i=this.state.searchLevel.schoolLevel)||void 0===i?void 0:i.school_level_name)]})})]})]})}),Object(f.jsx)("div",{className:"mt-2",children:Object(f.jsx)("div",{className:"flex flex-col gap-2",children:null===this.filterPositions(this.props.positions.positions_list,this.state.searchLevel)?Object(f.jsx)(d.b,{type:d.a.dark}):0===this.filterPositions(this.props.positions.positions_list,this.state.searchLevel).length?null!==this.props.positions.positions_list&&0===this.props.positions.positions_list.length?Object(f.jsx)("div",{className:"bg-yellow-50 text-yellow-700 rounded px-3 py-4 font-bold",children:"Please, There are no vacancies available this time, wait for publication!"}):Object(f.jsx)(h.b,{theme:h.a.Dark,value:"No vacancies found!",component:Object(f.jsx)("div",{className:"flex flex-col items-center justify-center gap-3",children:Object(f.jsx)(x.b,{to:"/applications",className:"btn bg-gray-50 text-gray-700 text-sm  hover:bg-blue-100 hover:border-blue-700 hover:text-blue-900 animate__animated animate__zoomIn",children:"View my applications"})})}):Object(c.a)(this.filterPositions(this.props.positions.positions_list,this.state.searchLevel),this.state.searchPosition).map((function(e,t){return Object(f.jsx)("div",{onClick:function(){return o.props.setCurrentPosition(e)},className:"bg-white cursor-pointer rounded-md  border-2 border-gray-200 hover:border-blue-500 hover:bg-white animate__animated animate__fadeIn animate__fast",children:Object(f.jsxs)("div",{className:"grid lg:grid-cols-12 group px-3 py-2 rounded-md",children:[Object(f.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(f.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(f.jsx)("div",{children:Object(f.jsx)(l.a,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(f.jsxs)("div",{className:"flex flex-col",children:[Object(f.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:e.position_title}),Object(f.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(f.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:e.school_level_id.school_level_name})]}),Object(f.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:e.education_institute_id.education_category_title})]})]})}),Object(f.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(f.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(f.jsx)("div",{className:"btn bg-blue-50 text-blue-600 group-hover:text-white group-hover:bg-blue-600 float-right",children:"Apply"})})})]})},t+1)}))})})]})})})})})}}]),s}(r.Component),g=Object(p.b)((function(e){return{auth:e.auth,positions:e.positions,schoolLevels:e.schoolLevels,system:e.system,periods:e.periods}}),{loadAllPositions:u.Bb,setSelectedPosition:u.cc,loadEducationCategories:u.Hb,loadSchoolLevels:u.Ob,setSelectedEducationCategory:u.Yb,setSelectedSchoolLevel:u.ec,PushPopupAlert:u.jb,FC_GetProfileDetails:u.G,loadApplicationPeriods:u.Cb})(v),y=s(380),O=s(5),_=s.n(O),N=s(2),w=s(7),S=s(25),P=s(9),L=s(178),A=s(17),k=s(519),C=s(8),D=s.n(C),E=s(10),F=s(18),I=Object(p.b)((function(e){return{auth:e.auth,application:e.application,system:e.system,periods:e.periods}}),{selectPosition:u.Qb,PushPopupAlert:u.jb,initiateApplication:u.zb,createApplication:u.ub,FC_GetProfileDetails:u.G,loadApplicationPeriods:u.Cb})((function(e){var t,s,i,o=Object(r.useState)(!1),a=Object(S.a)(o,2),n=a[0],c=a[1],p=Object(r.useState)(null),u=Object(S.a)(p,2),x=u[0],h=u[1],v=Object(r.useState)(!1),g=Object(S.a)(v,2),O=g[0],C=g[1],I=Object(r.useState)(!1),M=Object(S.a)(I,2),Y=M[0],q=M[1],R=Object(r.useState)(!1),T=Object(S.a)(R,2),z=T[0],B=T[1],G=Object(r.useState)(!0),Q=Object(S.a)(G,2),J=Q[0],U=Q[1],H=function(){var t=Object(w.a)(_.a.mark((function t(){var s,i,o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==e.auth.isAuthenticated||""===e.auth.user.user_id){t.next=20;break}if(!e.application.apply){t.next=20;break}if(!e.application.apply.selectedPosition){t.next=20;break}return s=[],i={user_id:e.auth.user.user_id,position:e.application.apply.selectedPosition.position_id,application_period:"2021-2022",exams:s},t.prev=5,B(!0),t.next=9,D.a.post("".concat(E.a.APPLICATION,"/application"),i);case 9:o=t.sent,console.log("Application res: ",o),200===o.status&&(q(!0),e.PushPopupAlert({title:"Application created added successfully",theme:b.a.success}),e.initiateApplication({user_id:e.auth.user.user_id,selectedPosition:null,currentStep:y.a.Step1,positions:null,doTestStatus:{status:!1},selectedLocation:[]})),B(!1),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(5),B(!1),t.t0.response&&t.t0.response.data&&(void 0!==t.t0.response.data.errors?t.t0.response.data.errors.length>0&&(e.PushPopupAlert({title:t.t0.response.data.errors[0].message,theme:b.a.warning}),400===t.t0.response.status&&(q(!0),e.initiateApplication({user_id:e.auth.user.user_id,selectedPosition:null,currentStep:y.a.Step1,positions:null,doTestStatus:{status:!1},selectedLocation:[]}))):e.PushPopupAlert({title:"Something went wrong! Please try again",theme:b.a.danger})),console.log("Submit Application err: ",Object(N.a)({},t.t0));case 20:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(){return t.apply(this,arguments)}}(),V=function(t,s){var i=Object(A.i)(t,e.auth.documents).find((function(e){return s._id===e.category_subcat_id}));return null===i||void 0===i},W=function(t,s){var i=Object(A.j)(t,e.auth.documents).find((function(e){return s._id===e.category_subcat_id}));return null===i||void 0===i};return Object(r.useEffect)((function(){0===e.auth.documents.length&&!0===J&&(B(!0),e.FC_GetProfileDetails(e.auth.user.user_id,(function(e,t){B(!1),U(!1)})),B(!1),U(!1)),null!==e.periods.applicationPeriods&&0!==e.periods.applicationPeriods.length||e.loadApplicationPeriods(B)}),[e,J]),!0===Y?Object(f.jsx)(F.a,{to:"/applications"}):Object(f.jsxs)(r.Fragment,{children:[Object(f.jsxs)("div",{className:"animate__animated animate__zoomIn animate__fast",children:[Object(f.jsxs)("div",{className:"flex flex-col mb-4 rounded",children:[Object(f.jsxs)("div",{className:"flex flex-col md:flex-row justify-between mb-2 mt-2 items-start md:items-center w-full",children:[Object(f.jsxs)("div",{className:"flex flex-col md:flex-row items-center w-full",children:[Object(f.jsx)("div",{className:"border-2 border-white h-10 w-10 hidden md:flex justify-center items-center rounded-full bg-blue-50 hover:bg-blue-200",children:Object(f.jsx)(l.f,{onClick:function(){return e.setCurrentPosition(null)},className:"hidden md:block text-3xl text-blue-600 cursor-pointer"})}),Object(f.jsxs)("div",{className:"flex flex-col px-0 md:px-2 w-full",children:[Object(f.jsx)("span",{className:" text-xs font-normal text-black-800",children:"Selected position:"}),Object(f.jsx)("span",{className:"text-blue-700 text-xl font-bold",children:e.currentPosition.position_title})]})]}),Object(f.jsx)("div",{className:"mt-2 md:mt-0",children:Object(f.jsx)("button",{onClick:function(){return e.setCurrentPosition(null)},className:"btn bg-white text-blue-500 border border-blue-200 text-center flex justify-center items-center hover:bg-blue-600 hover:text-white",children:"Change"})})]}),Object(f.jsxs)("div",{className:"hidden md:block border-t-2 border-white",children:[Object(f.jsx)("div",{className:"rounded-l flex items-center",children:Object(f.jsx)("div",{className:"text-lg font-bold -mb-2 mt-2 text-gray-800 flex items-center",children:"Exams for the position:"})}),Object(f.jsx)("div",{className:"grid md:grid-cols-12 text-gray-500 gap-2 py-0 px-0 hover:text-blue-600",children:e.currentPosition&&0===e.currentPosition.courses.length?Object(f.jsxs)("div",{className:"col-span-11 py-5 px-3 text-gray-400 flex flex-col justify-center items-center",children:[Object(f.jsx)(P.Ab,{className:"text-7xl"}),Object(f.jsx)("span",{className:"",children:"No courses found!"})]}):null===(t=e.currentPosition)||void 0===t?void 0:t.courses.map((function(e,t){return Object(f.jsxs)("div",{className:"col-span-3 flex flex-row items-center py-2 px-2 bg-white rounded mt-2",children:[Object(f.jsx)("div",{className:"h-8 w-8 px-2 py-2 text-lg font-bold bg-gray-50 rounded-full flex items-center justify-center",children:t+1}),Object(f.jsxs)("div",{className:"flex flex-col ml-2",children:[Object(f.jsx)("span",{className:"font-bold",children:e.course_name}),Object(f.jsxs)("span",{className:"text-xs text-gray-600",children:["CODE: ",e.course_code]})]})]},t+1)}))})]})]}),0===e.auth.documents.length&&!0===z?Object(f.jsxs)("div",{className:"mt-5 bg-white rounded p-4",children:[Object(f.jsx)("span",{className:"font-bold text-gray-500 ml-4 mb-4 italic animate-pulse",children:"Checking position requirements, Please wait..."}),Object(f.jsx)("div",{className:"my-2"}),Object(f.jsx)(j.a,{type:d.a.white})]}):Object(f.jsxs)("div",{className:"bg-white px-2 py-2 rounded shadow",children:[Object(f.jsxs)("div",{className:"block md:hidden border bg-gray-100 mt-2 rounded px-2 py-1",children:[Object(f.jsx)("div",{children:Object(f.jsx)("span",{className:"font-bold text-lg text-gray-700",children:"Exams for the position"})}),Object(f.jsx)("div",{className:"mt-2 text-xs text-gray-600",children:e.currentPosition&&0===e.currentPosition.courses.length?Object(f.jsxs)("div",{className:"py-5 px-3 text-gray-600 font-bold flex flex-col justify-center items-center",children:[Object(f.jsx)(P.Ab,{className:"text-7xl"}),Object(f.jsx)("span",{className:"",children:"No courses found!"})]}):null===(s=e.currentPosition)||void 0===s?void 0:s.courses.map((function(e,t){return Object(f.jsxs)("div",{className:"font-bold text-blue-600",children:["(",t+1,") ",e.course_code,"-",e.course_name]},t+1)}))})]}),Object(f.jsx)("div",{className:"mt-2",children:Object(f.jsx)("span",{className:"font-bold text-xl md:text-xl text-blue-600 pl-3",children:"Requirements for the position"})}),Object(f.jsxs)("div",{className:"my-4",children:[Object(f.jsxs)("div",{className:"flex flex-row justify-between items-center bg-white hover:bg-gray-50 px-2 py-2 my-2 rounded gap-2 cursor-pointer border",children:[Object(f.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(f.jsx)("div",{children:Object(f.jsx)(l.g,{className:"text-4xl text-gray-500"})}),Object(f.jsxs)("div",{className:"flex flex-col px-2",children:[Object(f.jsx)("span",{className:"text-lg font-bold text-gray-500",children:"Psychometric Test"}),Object(f.jsx)("span",{className:"text-xs text-gray-600",children:"Psychometric tests are used to measure an individual's' mental capabilities and behavior."})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{onClick:function(){return e.setApplicationStep(y.a.Step2)},className:"btn border border-blue-500 flex-row items-center text-primary bg-white w-max cursor-pointer hidden",children:"Do test"}),Object(f.jsx)(P.t,{className:"text-blue-500 text-4xl"})]})]}),void 0!==e.auth.user.id&&(null===(i=e.currentPosition)||void 0===i?void 0:i.requirements.map((function(t,s){return Object(f.jsxs)("div",{className:"flex flex-col px-2 py-2 my-2 rounded gap-2 cursor-pointer ".concat(null!==t&&null!==e.auth.documents&&null!==Object(A.h)(t,e.auth.documents)&&0===t.position_requirement.length?"bg-yellow-50 text-yellow-800 border border-yellow-100":"bg-gray-100 text-gray-500 hover:bg-gray-100"),children:[Object(f.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(f.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(f.jsx)("div",{children:Object(f.jsx)(l.g,{className:"text-4xl"})}),Object(f.jsx)("div",{className:"flex flex-col px-2 w-full",children:Object(f.jsx)("span",{className:"text-xl font-bold mb-2",children:t.category.title})})]}),Object(f.jsx)("div",{className:"flex items-center justify-end",children:null!==t&&null!==e.auth.documents&&null!==Object(A.h)(t,e.auth.documents)&&void 0!==Object(A.h)(t,e.auth.documents)&&0===t.position_requirement.length?Object(f.jsx)("div",{onClick:function(){return h({selected_category:{description:t.category.description,fields:t.category.fields,title:t.category.title,user_detail_category_id:t.category.user_detail_category_id},selected_sub_category:null,status:!0})},className:"btn border border-yellow-500  flex-row items-center text-yellow-800 bg-white w-max cursor-pointer",children:"Add document"}):Object(f.jsx)(P.t,{className:"text-blue-500 text-4xl"})})]}),t.position_requirement.length>0&&Object(f.jsx)("div",{className:"w-full overflow-x-auto",children:Object(f.jsxs)("table",{className:"table-auto bg-white w-full border rounded",children:[Object(f.jsx)("thead",{className:" text-gray-900 text-lg",children:Object(f.jsxs)("tr",{className:"border border-gray-300",children:[Object(f.jsx)("th",{className:"text-left px-2 py-2",children:"#"}),Object(f.jsx)("th",{className:"px-2 text-left py-2 w-2/3",children:"Document"}),Object(f.jsx)("th",{className:"px-2 text-left py-2",children:"Status"}),Object(f.jsx)("th",{className:"text-right"})]})}),Object(f.jsx)("tbody",{children:t.position_requirement.map((function(e,s){return Object(f.jsxs)("tr",{onClick:function(){return(!1===W(t,e)||!1===V(t,e))&&h({selected_category:{description:t.category.description,fields:t.category.fields,title:t.category.title,user_detail_category_id:t.category.user_detail_category_id},selected_sub_category:{category_id:t.subcategory.category_id,description:t.subcategory.description,title:t.subcategory.title,user_detail_subcategory_id:t.subcategory.user_detail_subcategory_id},selected_category_subcategory_data:{category_id:t.category.user_detail_category_id,description:e.description,others:[],subcategory_id:t.subcategory.user_detail_subcategory_id,title:e.title,_id:e._id},status:!0})},className:"border border-gray-300 ".concat(!1===V(t,e)?"text-yellow-700":!0===e.required?"text-blue-700":"text-gray-600"," hover:font-bold mb-1"),children:[Object(f.jsxs)("td",{className:"px-2 text-lg font-bold",children:[s+1,")"]}),Object(f.jsx)("td",{className:"rounded px-2 py-1 w-max cursor-pointer",children:Object(f.jsxs)("span",{className:"font-bold ",children:[t.subcategory.title," in ",e.title]})},s+1),!1===V(t,e)?Object(f.jsxs)("td",{className:"hidden px-2 text-sm py-2 italic md:flex flex-row items-center gap-2",children:[Object(f.jsx)(m.h,{className:"text-2xl"})," Not found"]}):!0===e.required?Object(f.jsxs)("td",{className:"hidden px-2 py-2 text-sm italic md:flex flex-row items-center gap-2",children:[Object(f.jsx)(P.t,{className:"text-2xl"}),"Found"]}):Object(f.jsxs)("td",{className:"hidden px-2 py-2 text-sm italic md:flex flex-row items-center gap-2",children:[Object(f.jsx)(P.Q,{className:"text-2xl"}),"Optional"]}),!1===V(t,e)?Object(f.jsx)("td",{className:"px-2 text-sm text-right py-2",children:Object(f.jsx)("div",{className:"bg-yellow-100 rounded px-3 py-2 flex items-center justify-center text-sm border border-yellow-400 font-bold text-yellow-800 w-max float-right hover:border-yellow-700",children:"Add document"})}):!1===W(t,e)?Object(f.jsx)("td",{className:"px-2 text-sm text-right py-2",children:Object(f.jsx)("div",{className:"bg-gray-100 rounded px-3 py-2 flex items-center justify-center text-sm font-bold text-gray-800 w-max float-right hover:border-gray-700",children:"Add document"})}):Object(f.jsx)("td",{className:"px-2 py-2 text-sm"})]},s+1)}))})]})})]},s+1)})))]}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[Object(f.jsx)("button",{onClick:function(){return e.setCurrentPosition(null)},className:"btn bg-white text-gray-600 border border-gray-300",children:"Back"}),e.application.apply&&void 0!==e.application.apply.user_id&&null!==e.currentPosition&&!0===Object(A.g)(e.currentPosition.requirements,e.auth.documents)&&Object(f.jsx)("button",{onClick:function(){return e.setApplicationStep(y.a.Step3)},className:"btn bg-green-500 text-white",children:"Choose examination center"}),e.application.apply&&void 0!==e.application.apply.user_id&&null!==e.currentPosition&&!1===Object(A.g)(e.currentPosition.requirements,e.auth.documents)&&Object(f.jsx)("button",{onClick:function(){return C(!0)},className:"btn bg-blue-100 text-blue-600",children:"Continue anyway"})]})})]})]}),null!==x&&Object(f.jsx)(k.a,{active:x.status,close:function(){return h(null)},category:x.selected_category,sub_category:x.selected_sub_category,category_subcategory_data:x.selected_category_subcategory_data,UploadCompleted:function(){h(null),e.PushPopupAlert({title:"Data added successfully",theme:b.a.success})}}),!0===n&&Object(f.jsx)(L.d,{title:"Add requirement",backDrop:!0,theme:L.c.primary,close:function(){return c(!1)},backDropClose:!0,widthSizeClass:L.b.large,displayClose:!0,padding:{title:!0,body:!0},children:Object(f.jsx)("div",{children:"content"})}),!0===O&&Object(f.jsx)(L.d,{title:"",backDrop:!0,theme:L.c.warning,close:function(){return C(!1)},backDropClose:!0,widthSizeClass:L.b.medium,displayClose:!1,padding:{body:!0},children:!0===z?Object(f.jsx)(j.a,{}):Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(f.jsx)(m.h,{className:"text-9xl text-yellow-700"}),Object(f.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(f.jsx)("span",{className:"text-xl font-extrabold text-gray-700",children:"Submit application without requirements?"}),Object(f.jsx)("span",{className:"text-xs text-gray-800",children:"To submit the application without filling all requirements, make sure that you know your decision because you have low chance to get shortlisted!"})]})]}),Object(f.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[Object(f.jsx)("div",{onClick:function(){return C(!1)},className:"btn bg-gray-100 text-gray-800 cursor-pointer",children:"Back"}),Object(f.jsx)("div",{onClick:function(){return H()},className:"btn bg-yellow-700 text-white hover:bg-yellow-900 cursor-pointer",children:"Yes, I confirm"})]})]})})]})})),M=s(81),Y=s(16),q=function(e){Object(a.a)(s,e);var t=Object(n.a)(s);function s(e){var o;return Object(i.a)(this,s),(o=t.call(this,e)).closeModal=function(){o.setState({centersModal:!1})},o.courseStatus=function(e){var t,s;if(null===(t=o.props.application.apply)||void 0===t?void 0:t.selectedLocation.find((function(t){return t.courseId===e.course_id})))return null===(s=o.props.application.apply)||void 0===s?void 0:s.selectedLocation.find((function(t){return t.courseId===e.course_id}))},o.LoadLocations=Object(w.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({loading:!0}),e.prev=1,e.next=4,D.a.get("".concat(E.a.APPLICATION,"/roomlocation"));case 4:200===(t=e.sent).status&&(null===o.state.locations||0===o.state.locations.length?(o.setState({locations:t.data}),null!==o.state.locations&&o.state.locations.length>0?o.loadMyApplications():o.setState({loading:!1})):o.setState({loading:!1})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),o.setState({loading:!1}),console.log("Locations: ",Object(N.a)({},e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),o.loadMyApplications=Object(w.a)(_.a.mark((function e(){var t,s,i,a,n,r,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.props.auth.user.user_id){e.next=23;break}return t=o.props.auth.user.user_id,o.setState({loading:!0}),e.prev=3,e.next=6,D.a.get("".concat(E.a.APPLICATION,"/application/").concat(t));case 6:if(200!==(a=e.sent).status||null===o.props.application.apply||void 0===(null===(s=o.props.application.apply)||void 0===s?void 0:s.selectedPosition)||null===(null===(i=o.props.application.apply)||void 0===i?void 0:i.selectedPosition)||null===o.state.locations){e.next=17;break}n=function(e){var t,s,i;if(a.data[e].position.position_id===(null===(t=o.props.application.apply)||void 0===t||null===(s=t.selectedPosition)||void 0===s?void 0:s.position_id)&&(null!==o.props.periods.applicationPeriods&&(null===(i=o.props.periods.applicationPeriods.find((function(e){return!0===e.is_active})))||void 0===i?void 0:i.application_session_id)===a.data[0].application_session.application_session_id))return o.props.PushPopupAlert({title:"Already created this application!",description:"The application already exists for the current period, You can not create same application twice!",theme:b.a.warning}),o.props.LoadCandidateApplications(o.props.auth.user.user_id,o.setLoading),{v:o.setState({redirect:!0})};var n=o.props.application.apply.selectedPosition.courses,r=a.data[e].exams;if(void 0!==n){var l=function(e){if(void 0!==n[e]&&r.find((function(t){return t.course_id===n[e].course_id}))){var t,s=null===(t=r.find((function(t){return t.course_id===n[e].course_id})))||void 0===t?void 0:t.center_id;if(Object(M.a)(o.state.locations).length>0&&void 0!==Object(M.a)(o.state.locations).find((function(e){return e.center_id===s}))){var i=Object(M.a)(o.state.locations).find((function(e){return e.center_id===s}));void 0!==i&&o.props.addLocation(n[e].course_id,n[e].course_name,n[e].course_code,i,n[e].course_id)}}};for(var c in n)l(c)}},e.t0=_.a.keys(a.data);case 10:if((e.t1=e.t0()).done){e.next=17;break}if(r=e.t1.value,"object"!==typeof(l=n(r))){e.next=15;break}return e.abrupt("return",l.v);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t2=e.catch(3),console.log("err: ",e.t2);case 22:o.setState({loading:!1});case 23:case"end":return e.stop()}}),e,null,[[3,19]])}))),o.locationStatus=function(e){var t=0,s=function(s){var i;(null===(i=o.props.application.apply)||void 0===i?void 0:i.selectedLocation.find((function(t){return t.courseId===e[s].course_id})))&&(t+=1)};for(var i in e)s(i);return t===e.length},o.updateLocation=function(){var e=Object(w.a)(_.a.mark((function e(t,s){var i,a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.setState({loading:!0}),console.log(t),i=_.a.mark((function e(i){var a,n,r,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.post("".concat(E.a.APPLICATION,"/application/updatemissed"),{application_id:t,exams:s[i]});case 3:200===e.sent.status&&o.state.noRoomsApplication&&(o.setState({noRoomsApplication:null===(a=o.state.noRoomsApplication)||void 0===a?void 0:a.filter((function(e){return e.course_id!==s[i].course_id}))}),o.props.PushPopupAlert({title:"Location updated added successfully",theme:b.a.success})),e.next=41;break;case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=40;break}if(!e.t0.response.data){e.next=40;break}if(void 0===e.t0.response.data.errors){e.next=37;break}if(!(e.t0.response.data.errors.length>0)){e.next=34;break}if(!o.state.noRoomsApplication){e.next=29;break}if(void 0!==e.t0.response.data.errors[0].field){e.next=18;break}return e.abrupt("return",{v:o.setState({redirect:!0})});case 18:if(void 0!==(n=null===(r=o.state.noRoomsApplication)||void 0===r?void 0:r.filter((function(t){return t.course_id===e.t0.response.data.errors[0].field.course_id})))){e.next=23;break}return e.abrupt("return",{v:o.setState({redirect:!0})});case 23:for(l in n)o.props.removeLocation(n[l].course_id);if(0!==n.length){e.next=27;break}if(400!==e.t0.response.status){e.next=27;break}return e.abrupt("return",{v:o.setState({redirect:!0})});case 27:e.next=30;break;case 29:400===e.t0.response.status&&o.setState({redirect:!0});case 30:o.setState({applicationError:e.t0.response.data.errors[0].message}),o.props.PushPopupAlert({title:e.t0.response.data.errors[0].message,theme:b.a.warning}),e.next=35;break;case 34:400===e.t0.response.status&&o.setState({redirect:!0});case 35:e.next=40;break;case 37:400===e.t0.response.status&&o.setState({redirect:!0}),o.setState({applicationError:"Something went wrong! Please try again"}),o.props.PushPopupAlert({title:"Something went wrong! Please try again",theme:b.a.warning});case 40:console.log("Change error: ",Object(N.a)({},e.t0));case 41:case"end":return e.stop()}}),e,null,[[0,7]])})),e.t0=_.a.keys(s);case 4:if((e.t1=e.t0()).done){e.next=12;break}return a=e.t1.value,e.delegateYield(i(a),"t2",7);case 7:if("object"!==typeof(n=e.t2)){e.next=10;break}return e.abrupt("return",n.v);case 10:e.next=4;break;case 12:o.setState({redirect:!0}),o.props.initiateApplication({user_id:o.props.auth.user.user_id,selectedPosition:null,currentStep:y.a.Step1,positions:null,doTestStatus:{status:!1},selectedLocation:[]}),o.setState({loading:!1});case 15:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),o.setLoading=function(e){o.setState({loading:e})},o.sendApplication=Object(w.a)(_.a.mark((function e(){var t,s,i,a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==o.props.auth.isAuthenticated||""===o.props.auth.user.user_id){e.next=52;break}if(!o.props.application.apply){e.next=49;break}if(!o.props.application.apply.selectedPosition){e.next=46;break}if(!o.props.application.apply.selectedLocation){e.next=43;break}for(s in t=[],o.props.application.apply.selectedLocation)t.push({course_id:o.props.application.apply.selectedLocation[s].courseId,proctoring_type:"center",center_id:o.props.application.apply.selectedLocation[s].location.center_id,district_id:o.props.application.apply.selectedLocation[s].location.district_id});if(i={user_id:o.props.auth.user.user_id,position:o.props.application.apply.selectedPosition.position_id,application_period:"2021-2022",exams:t},o.setState({loading:!0}),!(null!==o.state.crated_application&&t.length>0)){e.next=12;break}return e.abrupt("return",o.updateLocation(o.state.crated_application,t));case 12:return e.prev=12,e.next=15,D.a.post("".concat(E.a.APPLICATION,"/application"),i);case 15:if(a=e.sent,console.log("Application res: ",a),200!==a.status){e.next=34;break}if(!a.data.noRooms){e.next=30;break}if(!(a.data.noRooms.length>0)){e.next=27;break}for(n in o.setState({redirect:!1}),o.setState({crated_application:a.data.application_id}),o.setState({noRoomsApplication:a.data.noRooms}),a.data.noRooms)o.props.removeLocation(a.data.noRooms[n].course_id);return e.abrupt("return",o.setState({loading:!1}));case 27:o.setState({redirect:!0});case 28:e.next=31;break;case 30:o.setState({redirect:!0});case 31:o.props.LoadCandidateApplications(o.props.auth.user.user_id,o.setLoading),o.props.PushPopupAlert({title:"Application created added successfully",theme:b.a.success}),o.props.initiateApplication({user_id:o.props.auth.user.user_id,selectedPosition:null,currentStep:y.a.Step1,positions:null,doTestStatus:{status:!1},selectedLocation:[]});case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(12),console.log("Submit Application err: ",Object(N.a)({},e.t0)),e.t0.response&&e.t0.response.data&&(void 0!==e.t0.response.data.errors?e.t0.response.data.errors.length>0&&(o.setState({applicationError:e.t0.response.data.errors[0].message}),o.props.PushPopupAlert({title:e.t0.response.data.errors[0].message,theme:b.a.warning}),400===e.t0.response.status&&(o.setState({redirect:!0}),o.props.initiateApplication({user_id:o.props.auth.user.user_id,selectedPosition:null,currentStep:y.a.Step1,positions:null,doTestStatus:{status:!1},selectedLocation:[]}))):(o.props.PushPopupAlert({title:"Something went wrong! Please try again",theme:b.a.danger}),o.setState({applicationError:"Something went wrong! Please try again"})));case 40:o.setState({loading:!1}),e.next=44;break;case 43:o.setState({applicationError:"Please select location for exam!!!"});case 44:e.next=47;break;case 46:o.setState({applicationError:"Please select position!!!"});case 47:e.next=50;break;case 49:o.setState({applicationError:"Please initiate the application again!!!"});case 50:e.next=53;break;case 52:o.setState({applicationError:"You are not authenticated!!!"});case 53:case"end":return e.stop()}}),e,null,[[12,36]])}))),o.componentDidMount=function(){o.LoadLocations()},o.state={centersModal:!1,selectedCourse:null,redirect:!1,applicationError:"",applicationData:null,loading:!1,noRoomsApplication:null,crated_application:null,locations:null},o}return Object(o.a)(s,[{key:"render",value:function(){var e,t=this;return!0===this.state.redirect?Object(f.jsx)(F.a,{to:"/applications"}):!0===this.state.loading?Object(f.jsx)(j.a,{type:d.a.dark}):Object(f.jsxs)(r.Fragment,{children:[Object(f.jsxs)("div",{className:"bg-white px-2 py-2 rounded shadow",children:[Object(f.jsx)("div",{className:"bg-white flex flex-col mb-5 ml-2 mt-2",children:Object(f.jsxs)("div",{className:"flex flex-row gap-3",children:[Object(f.jsx)(P.Y,{className:"text-6xl text-blue-600"}),Object(f.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(f.jsxs)("span",{className:"text-xl md:text-2xl font-bold text-gray-600",children:["Position: ",null===(e=this.props.currentPosition)||void 0===e?void 0:e.position_title]}),Object(f.jsx)("span",{className:"text-blue-600 text-sm md:text-lg",children:"Choose exam location for each course"})]})]})}),this.props.application.apply&&this.props.application.apply.selectedPosition&&this.props.application.apply.selectedPosition.courses.map((function(e,s){var i,o,a,n;return Object(f.jsxs)("div",{onClick:function(){return t.setState({selectedCourse:e})},className:"".concat(void 0!==t.courseStatus(e)?"bg-blue-100 border border-blue-300":"bg-gray-200"," rounded px-2 py-2 flex flex-col md:flex-row justify-start md:justify-between items-start md:items-center my-3"),children:[Object(f.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(f.jsx)("div",{className:"".concat(void 0!==t.courseStatus(e)?"bg-blue-600":"bg-gray-600"," h-8 w-8 rounded-full flex justify-center items-center text-white font-bold px-3 py-3"),children:s+1}),Object(f.jsxs)("div",{className:"flex flex-col",children:[Object(f.jsxs)("span",{className:"text-sm md:text-lg font-bold ".concat(void 0!==t.courseStatus(e)?"text-blue-700":""),children:["Course: ",e.course_code,"-",e.course_name]}),Object(f.jsx)("span",{className:"text-xs text-gray-600",children:void 0!==t.courseStatus(e)?Object(f.jsxs)("span",{className:"font-bold text-gray-700 text-sm flex",children:[Object(f.jsx)(P.Y,{className:"text-lg"})," Province: ",null===(i=t.courseStatus(e))||void 0===i?void 0:i.location.province_name,", District: ",null===(o=t.courseStatus(e))||void 0===o?void 0:o.location.district_name,", Center: ",null===(a=t.courseStatus(e))||void 0===a?void 0:a.location.center_name]}):Object(f.jsx)("span",{className:"italic text-sm text-gray-500",children:(null===(n=t.state.noRoomsApplication)||void 0===n?void 0:n.find((function(t){return t.course_id===e.course_id})))?Object(f.jsx)("span",{className:"text-yellow-600 font-bold",children:"No room found in selected center, please choose another center!"}):Object(f.jsx)("span",{children:"No location selected!"})})})]})]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){return t.setState({centersModal:!0})},className:"btn cursor-pointer ".concat(void 0!==t.courseStatus(e)?"bg-white text-blue-600 border border-blue-600":"btn-blue"),children:void 0!==t.courseStatus(e)?"Change":"Choose"})})]},s+1)})),null!==this.state.applicationError&&""!==this.state.applicationError&&Object(f.jsx)(Y.b,{title:"Error",description:this.state.applicationError,theme:Y.a.danger}),Object(f.jsxs)("div",{className:"flex flex-row justify-between items-center mx-2 my-2",children:[Object(f.jsx)("div",{className:"flex flex-row items-center gap-2",children:Object(f.jsx)("button",{onClick:function(){return t.props.setApplicationStep(y.a.Step1)},className:"btn bg-white text-gray-600 border border-gray-300",children:"Back"})}),this.props.application.apply&&this.props.application.apply.selectedPosition&&!0===this.locationStatus(this.props.application.apply.selectedPosition.courses)&&Object(f.jsx)("div",{onClick:this.sendApplication,className:"btn bg-green-500 hover:bg-green-600 text-white cursor-pointer",children:"Finish"})]})]}),!0===this.state.centersModal&&null!==this.state.selectedCourse&&Object(f.jsx)(L.d,{title:Object(f.jsx)("div",{className:"text-gray-800 font-bold text-2xl",children:"Choose exam center location"}),backDrop:!0,theme:L.c.default,close:function(){return t.setState({centersModal:!1})},backDropClose:!1,widthSizeClass:L.b.maxWidth,displayClose:!0,padding:{title:!0},children:this.props.application.apply&&this.props.application.apply.selectedPosition&&Object(f.jsx)(M.b,{positionCourses:this.state.selectedCourse,addLocation:this.props.addLocation,closeModal:this.closeModal})})]})}}]),s}(r.Component),R=Object(p.b)((function(e){return{auth:e.auth,application:e.application,system:e.system,periods:e.periods}}),{initiateApplication:u.zb,selectPosition:u.Qb,createApplication:u.ub,addLocation:u.tb,removeLocation:u.Pb,PushPopupAlert:u.jb,LoadCandidateApplications:u.gb})(q),T=s(63),z=s(179),B=function(e){Object(a.a)(s,e);var t=Object(n.a)(s);function s(e){var o;return Object(i.a)(this,s),(o=t.call(this,e)).setLoading=function(e){o.setState({loading:e})},o.componentDidMount=function(){if(null!==o.props.periods.selected_period&&!1!==o.props.periods.selected_period.is_active||o.props.loadApplicationPeriods(o.setLoading),null!==o.props.periods.applicationPeriods){var e=o.props.periods.applicationPeriods.find((function(e){return!0===e.is_active}));void 0!==e&&o.props.setSelectedPeriod(e)}void 0===o.props.application.apply&&(o.props.initiateApplication({user_id:o.props.auth.user.user_id,selectedPosition:null,currentStep:y.a.Step1,positions:null,doTestStatus:{status:!1},selectedLocation:[]}),o.props.application.applications.length>0&&void 0===o.props.application.apply?o.setState({redirectState:!0}):o.setState({redirectState:!1})),console.log("Application: ",o.props.application)},o.state={currentStep:y.a.Step1,currentPosition:null,redirectState:!1,loading:!1},o}return Object(o.a)(s,[{key:"render",value:function(){var e;return Object(u.f)(this.props.auth,T.a.MY_APPLICATION).create?Object(f.jsx)("div",{className:"pr-2",children:void 0!==this.props.application.apply&&this.props.application.apply.currentStep===y.a.Step2?Object(f.jsx)("div",{children:"Do psychometric tex"}):void 0!==this.props.application.apply&&Object(f.jsxs)("div",{className:"",children:[null!==this.props.application.apply.selectedPosition&&this.props.application.apply.currentStep===y.a.Step1?"":Object(f.jsx)("div",{className:"mt-2 pt-2 pb-1 border-b-2",children:Object(f.jsxs)("div",{className:"grid md:grid-cols-2 gap-2",children:[Object(f.jsxs)("div",{className:"col-span-1 flex flex-col",children:[Object(f.jsx)("span",{className:"text-blue-600 text-2xl lg:text-3xl font-bold mb-1",children:"Vacant positions"}),null!==this.props.application.apply.selectedPosition?Object(f.jsxs)("div",{className:"flex flex-row items-center gap-3 text-sm text-gray-600",children:[Object(f.jsx)("div",{className:"text-blue-200 font-bold bg-blue-700 rounded px-2 border border-blue-300",children:this.props.application.apply.currentStep===y.a.Step1?"Step 1 of 2:":"Step 2 of 2"})," Choosing examination center"]}):Object(f.jsx)("span",{className:"text-gray-600 text-xs lg:text-sm",children:"List of positions ready for the application, choose a position"})]}),!0===this.state.loading?Object(f.jsx)("div",{className:"bg-white rounded px-3 pt-3",children:Object(f.jsx)(j.a,{})}):Object(f.jsxs)("div",{className:"col-span-1 flex flex-col md:items-end -mb-2 md:-mt-2",children:[Object(f.jsx)("div",{className:"flex flex-row gap-2 md:text-right",children:Object(f.jsx)("span",{className:"font-extrabold text-blue-600",children:null===(e=this.props.periods.selected_period)||void 0===e?void 0:e.application_session_name})}),Object(f.jsxs)("div",{className:"flex flex-row gap-2 text-sm text-right",children:[Object(f.jsx)("span",{className:"text-gray-800",children:"Start date:"}),Object(f.jsx)("span",{className:"font-extrabold",children:this.props.periods.selected_period&&Object(z.a)(this.props.periods.selected_period.application_start_date,"DD/MM/YYYY")})]}),Object(f.jsxs)("div",{className:"flex flex-row gap-2 text-sm text-right items-center",children:[Object(f.jsx)("span",{className:"text-gray-800",children:"Ending date:"}),Object(f.jsx)("span",{className:"font-extrabold text-yellow-900 bg-yellow-100 border-2 border-white rounded px-2 py-1",children:this.props.periods.selected_period&&Object(z.a)(this.props.periods.selected_period.application_end_date,"DD/MM/YYYY")})]})]})]})}),Object(f.jsx)("div",{className:"my-2",children:Object(f.jsxs)("div",{className:"w-full",children:[this.props.application.apply.currentStep===y.a.Step1&&(null===this.props.application.apply.selectedPosition?Object(f.jsx)(g,{currentPosition:this.props.application.apply.selectedPosition,setCurrentPosition:this.props.selectPosition}):Object(f.jsx)(I,{currentPosition:this.props.application.apply.selectedPosition,setCurrentPosition:this.props.selectPosition,setApplicationStep:this.props.setApplicationStep})),this.props.application.apply.currentStep===y.a.Step3&&Object(f.jsx)(R,{currentPosition:this.props.application.apply.selectedPosition,setCurrentPosition:this.props.selectPosition,setApplicationStep:this.props.setApplicationStep})]})})]})}):Object(f.jsx)(F.a,{to:"/"})}}]),s}(r.Component),G=Object(p.b)((function(e){return{auth:e.auth,doExam:e.doExam,application:e.application,positions:e.positions,periods:e.periods}}),{loadExam:u.Ib,addExamAnswer:u.rb,deleteExamAnswers:u.vb,SubmitExamAnswers:u.ob,initiateApplication:u.zb,selectPosition:u.Qb,createApplication:u.ub,setApplicationStep:u.Rb,FC_Access:u.f,loadApplicationPeriods:u.Cb,setSelectedPeriod:u.bc})(B)}}]);
//# sourceMappingURL=36.4f1a8cee.chunk.js.map