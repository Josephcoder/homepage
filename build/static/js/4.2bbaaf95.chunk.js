(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[4],{194:function(e,t,s){"use strict";s.r(t),s.d(t,"ProctoringOnlineSupervisor",(function(){return y}));var r,a=s(19),c=s(20),n=s(22),d=s(21),l=s(2),i=s.n(l),o=s(13),b=s(4),x=s(14),m=s(1),j=function(e){var t=e.course_title,s=e.post_title,r=e.duration,a=e.started_at,c=e.remaining,n=e.end_at,d=e.exam_start,l=e.startExamHandler,i=e.stopExamHandler;return Object(m.jsxs)("div",{className:"py-2 px-3 border-b border-blue-500 border-opacity-30 text-white proctoring-evaluator-navigation grid grid-flow-row md:grid-cols-1 lg:grid-cols-2 ",children:[Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)(x.b,{to:"/",className:"p-2 rounded-md px-0 hover:bg-red-800 mr-2",children:Object(m.jsx)(b.d,{className:"text-4xl"})}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("label",{htmlFor:"",className:"text-gray-200 text-sm m-0",children:s}),Object(m.jsx)("h3",{className:"text-white text-xl  font-bold",children:t})]})]}),Object(m.jsx)("div",{className:"text-red lg:pt-0 sm:pt-3 text-right md:text-left lg:text-right",children:Object(m.jsxs)("div",{className:"grid grid-cols-5 gap-4 text-left",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"text-gray-400 text-sm",children:"Duration"}),Object(m.jsx)("h2",{className:"text-xl font-bold",children:r})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"text-gray-400 text-sm",children:"Started at:"}),Object(m.jsx)("h2",{className:"text-xl font-bold",children:a})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"text-gray-400 text-sm",children:"End at"}),Object(m.jsx)("h2",{className:"text-xl font-bold",children:n})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"text-gray-400 text-sm",children:"Remaining "}),Object(m.jsx)("h2",{className:"text-xl font-bold",children:c})]}),Object(m.jsx)("div",{className:"flex items-center",children:!1===d?Object(m.jsx)("button",{onClick:function(){return l()},className:"btn bg-green-500 text-white w-full",title:"Start Exam",children:"Start"}):Object(m.jsx)("button",{onClick:function(){return i()},className:"btn bg-red-600 text-white w-full",title:"stop Exam",children:"Stop"})})]})})]})},p=function(e){var t=e.total,s=e.active,r=e.done,a=e.left;return Object(m.jsxs)("div",{className:"grid grid-col-4 grid-flow-col gap-4 p-2 bg-blue-900 rounded-md m-2 text-center w-90",children:[Object(m.jsxs)("div",{title:"Total candite(s)",children:[Object(m.jsx)("h1",{className:"text-2xl font-bold -mb-1 p-0",children:t}),Object(m.jsx)("label",{htmlFor:"",className:"text-sm -mt-2 text-gray-300",children:"Total"})]}),Object(m.jsxs)("div",{title:"Active candite(s)",children:[Object(m.jsx)("h1",{className:"text-2xl font-bold -mb-1 p-0",children:s}),Object(m.jsx)("label",{htmlFor:"",className:"text-sm -mt-2 text-gray-300",children:"Active"})]}),Object(m.jsxs)("div",{title:"Candite(s) who done exam",children:[Object(m.jsx)("h1",{className:"text-2xl font-bold -mb-1 p-0",children:r}),Object(m.jsx)("label",{htmlFor:"",className:"text-sm -mt-2 text-gray-300",children:"Done"})]}),Object(m.jsxs)("div",{title:"Candite(s) who left unfinished",children:[Object(m.jsx)("h1",{className:"text-2xl font-bold -mb-1 p-0",children:a}),Object(m.jsx)("label",{htmlFor:"",className:"text-sm -mt-2 text-gray-300",children:"Left"})]})]})},u=s(6),h=function(e){var t=e.events,s=(e.clickOpen,e.clickHandler,e.candidates);return Object(m.jsxs)("div",{className:"mt-2 p-2 rounded-md bg-gray-900 text-white",children:[Object(m.jsx)("h1",{className:"text-xl",children:"Events"}),Object(m.jsxs)("table",{className:"w-full text-left",children:[Object(m.jsx)("thead",{className:"text-sm text-gray-500",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"username"}),Object(m.jsx)("th",{children:"Event type"}),Object(m.jsx)("th",{children:"Description"}),Object(m.jsx)("th",{children:"Time"})]})}),Object(m.jsx)("tbody",{children:t.map((function(e,t){var r=s.find((function(t){return t.user_id===e.user_id}));return void 0===r?null:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"text-blue-500 font-bold",title:r.fname+" "+r.lname,children:r.lname}),Object(m.jsx)("td",{className:"text-red-400 text-sm pl-1",children:e.event_type}),Object(m.jsx)("td",{className:"text-red-600 text-sm",children:e.description}),Object(m.jsx)("td",{className:"text-gray-400 pl-1",children:"2min"})]},t)}))})]})]})},O=void 0;!function(e){e[e.Details=0]="Details",e[e.Events=1]="Events"}(r||(r={}));var g,N=function(e){var t=e.candidate,s=e.chatHandler,a=e.micHandler,c=e.focusHandler,n=e.stopHandler,d=e.restartHandler,i=e.warnHandler,o=e.closeHandler,x=e.events,j=e.home_proctoring,p=e.exam_started,g=Object(l.useState)(r.Details),N=Object(u.a)(g,2),v=N[0],_=N[1];return void 0===t?Object(m.jsxs)("div",{className:"p-4 text-center",children:[Object(m.jsx)("h1",{className:"text-3xl text-blue-400",children:"Opps!!"}),Object(m.jsxs)("p",{className:"text-3xl text-blue-400",children:["The selected candidate can't be found"," "]})]}):Object(m.jsxs)("div",{className:"p-1",children:[Object(m.jsxs)("div",{className:"p-2 border-rounded bg-blue-800 rounded-md flex items-baseline",children:[Object(m.jsx)("button",{onClick:function(){return o()},className:"p-1 block bg-blue-900 bg-opacity-70 rounded-md mr-2 font-bold text-1xl",children:Object(m.jsx)(b.d,{})}),Object(m.jsx)("h3",{className:"text-center -mt-1 mb-0 pb-0 text-1xl font-bold block text-blue-500",children:"User details"})]}),Object(m.jsxs)("div",{className:"p-2 text-center",children:[Object(m.jsx)(b.a,{className:"text-9xl text-center mx-auto"}),Object(m.jsx)("h1",{className:"text-xl text-white",children:t.email}),Object(m.jsxs)("h2",{className:"text-gray-400 text-md",children:[t.fname," ",t.lname]})]}),Object(m.jsx)("div",{className:"my-2 py-1 rounded border- -border-blue-500 grid grid-cols-3 gap-1",children:!0===p&&!0===t.active&&Object(m.jsxs)(m.Fragment,{children:[!0===j&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("button",{onClick:a.bind(O,t.user_id),className:"text-center bg-blue-900 rounded-md p-1 border-2 border-blue-800 hover:bg-blue-800 text-blue-200 hover:text-white",children:[Object(m.jsx)(b.mb,{className:"text-2xl mx-auto b-0 pb-0"}),Object(m.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Mic"})]}),Object(m.jsxs)("button",{onClick:s.bind(O,t.user_id),className:"text-center bg-blue-900 rounded-md p-1 border-2 border-blue-800 hover:bg-blue-800 text-blue-200 hover:text-white",children:[Object(m.jsx)(b.l,{className:"text-2xl mx-auto b-0 pb-0"}),Object(m.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Chat"})]}),Object(m.jsxs)("button",{onClick:c.bind(O,t.user_id),className:"text-center bg-blue-900 rounded-md p-1 border-2 border-blue-800 hover:bg-blue-800 text-blue-200 hover:text-white",children:[Object(m.jsx)(b.C,{className:"text-2xl mx-auto b-0 pb-0"}),Object(m.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Focus"})]})]}),Object(m.jsxs)("button",{onClick:n.bind(O,t.user_id),className:"text-center bg-blue-900 rounded-md p-1 border-2 border-blue-800 hover:bg-blue-800 text-blue-200 hover:text-white",children:[Object(m.jsx)(b.T,{className:"text-2xl mx-auto b-0 pb-0"}),Object(m.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Stop"})]}),Object(m.jsxs)("button",{onClick:d.bind(O,t.user_id),className:"text-center bg-blue-900 rounded-md p-1 border-2 border-blue-800 hover:bg-blue-800 text-blue-200 hover:text-white",children:[Object(m.jsx)(b.db,{className:"text-2xl mx-auto b-0 pb-0"}),Object(m.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Restart"})]}),Object(m.jsxs)("button",{title:"give a warning",onClick:function(){return i(t.user_id)},className:"text-center bg-blue-900 rounded-md p-1 border-2 border-blue-800 hover:bg-blue-800 text-blue-200 hover:text-white",children:[Object(m.jsx)(b.nb,{className:"text-2xl mx-auto b-0 pb-0"}),Object(m.jsx)("span",{className:"text-xs p-0 block -mt-0",children:"Warn"})]})]})}),Object(m.jsxs)("div",{className:"my-1 bg-blue-900 bg-opacity-40 rounded-md p-1 mt-2 grid grid-cols-2 gap-2 text-sm",children:[Object(m.jsx)("button",{onClick:function(){return _(r.Details)},className:"p-1 rounded-md text-white ".concat(v===r.Details?"bg-blue-700 border-2 border-blue-300":"bg-blue-900"),children:"candidate"}),Object(m.jsx)("button",{onClick:function(){return _(r.Events)},className:"p-1 rounded-md text-white ".concat(v===r.Events?"bg-blue-700 border-2 border-blue-300":"bg-blue-900"),children:"Events"})]}),v===r.Details?Object(m.jsxs)("div",{className:"mt-2",children:[Object(m.jsx)("h2",{className:"text-blue-500 opacity-40 font-bold text-1xl mb-1",children:"User information"}),Object(m.jsxs)("div",{className:"p-2 rounded-md border border-blue-400 border-opacity-20",children:[Object(m.jsxs)("div",{className:"border-b border-blue-400 border-opacity-60 py-1",children:[Object(m.jsx)("label",{className:"text-sm text-blue-400 m-0 p-0",children:"Username:"}),Object(m.jsx)("h4",{className:"text-white font-bold text-lg p-0 -mt-1",children:t.email})]}),Object(m.jsxs)("div",{className:"border-b border-blue-400 border-opacity-60 py-1",children:[Object(m.jsx)("label",{className:"text-sm text-blue-400 m-0 p-0",children:"First name:"}),Object(m.jsx)("h4",{className:"text-white font-bold text-lg p-0 -mt-1",children:t.fname})]}),Object(m.jsxs)("div",{className:"border-b border-blue-400 border-opacity-60 py-1",children:[Object(m.jsx)("label",{className:"text-sm text-blue-400 m-0 p-0",children:"Last name:"}),Object(m.jsx)("h4",{className:"text-white font-bold text-lg p-0 -mt-1",children:t.lname})]}),Object(m.jsxs)("div",{className:"border-b border-blue-400 border-opacity-60 py-1",children:[Object(m.jsx)("label",{className:"text-sm text-blue-400 m-0 p-0",children:"email:"}),Object(m.jsx)("h4",{className:"text-white font-bold text-lg p-0 -mt-1",children:t.email})]})]})]}):Object(m.jsx)(h,{candidates:[t],events:x})]})},v=function(e){var t=e.clickHandler,s=e.candidates;return Object(m.jsxs)("div",{className:"mt-2 p-2  text-white",children:[Object(m.jsx)("h1",{className:"text-3xl font-bold text-center pb-2 border-b mb-1 border-gray-100",children:"Candidates"}),Object(m.jsxs)("table",{className:"w-full text-left",children:[Object(m.jsx)("thead",{className:"text-sm text-gray-500",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),Object(m.jsx)("th",{})]})}),Object(m.jsx)("tbody",{children:s.map((function(e,s){return Object(m.jsxs)("tr",{className:"border-b mb-1 border-blue-800 border-opacity-60 hover:bg-blue-900 cursor-pointer",onClick:t.bind(undefined,e.user_id),children:[Object(m.jsx)("td",{className:"text-blue-500 w-5 text-left",children:Object(m.jsx)(b.a,{className:"text-5xl"})}),Object(m.jsxs)("td",{className:"text-gray-400 pl-1 py-1",children:[Object(m.jsx)("h4",{className:"font-bold text-lg p-0 m-0 text-white",children:e.email}),Object(m.jsxs)("p",{className:"text-sm p-0 m-0 -mt-1",children:[e.fname," ",e.lname]})]})]},s)}))})]})]})},_=void 0,f=function(e){var t=e.seat_number,s=e.candidate,r=e.warningHandler,a=e.stopHandler,c=e.detailsHandler,n=e.continueHandler,d=e.exam_started,l=!0===(null===s||void 0===s?void 0:s.stopped)?"red":"blue";return Object(m.jsxs)("div",{className:"bg-".concat(l,"-900 bg-opacity-50 hover:bg-opacity-100 cursor-pointer border-").concat(l,"-400 border p-2 rounded-md"),onClick:c.bind(_,s.user_id),children:[Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("span",{className:"text-".concat(l,"-200"),children:"Seat number"}),Object(m.jsx)("h1",{className:"text-5xl font-bold",children:t})]}),Object(m.jsxs)("div",{className:"mt-1 border-t border-".concat(l,"-500 pt-2"),children:[Object(m.jsx)("h4",{className:"text-xs text-".concat(l,"-400"),children:"Full names"}),Object(m.jsxs)("h4",{className:"text-sm font-bold",children:[s.fname," ",s.lname]})]}),!0===d&&Object(m.jsxs)("div",{className:"mt-2",children:[!1===s.stopped?Object(m.jsxs)("button",{onClick:r.bind(_,s.user_id),className:"px-2 text-sm py-1 rounded-md text-gray-900 bg-yellow-300",children:[Object(m.jsx)(b.nb,{className:"inline"})," Warn"]}):Object(m.jsxs)("button",{onClick:n.bind(_,s.user_id),className:"px-2 text-sm py-1 rounded-md text-gray-900 bg-green-400",children:[Object(m.jsx)(b.nb,{className:"inline"})," Condinue"]}),Object(m.jsxs)("button",{onClick:a.bind(_,s.user_id),className:"px-2 text-sm py-1 rounded-md text-white bg-red-700 ml-1",children:[Object(m.jsx)(b.T,{className:"inline"})," Stop"]})]})]})},C=s(28),E=s(3);!function(e){e[e.Candidates=0]="Candidates",e[e.Events=1]="Events"}(g||(g={}));var k=function(e){Object(n.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).myPeer=void 0,r.componentDidMount=function(){r.props.FC_GetProctoringRoom("",(function(e,t,s){!0===e?(r.setState({loading_room:!1}),r.props.socket.socket.emit(C.a.JOIN_ROOM,{room_id:r.props.proctoring.room.room_id,user_id:r.props.auth.user.user_id,peer_id:""},(function(e){return r.props.FC_SetActiveCandidates(e)}))):r.setState({loading_room:!1,error:{target:"all",msg:s}})})),r.props.socket.socket.on(C.a.USER_CONNECTED,(function(e){console.log({new_joined_user:e}),r.props.FC_SetOneActiveCandidate(e.user_id)})),r.props.socket.socket.on(C.a.USER_DISCONNECTED,(function(e){return r.props.FC_CandidateOffline(e)})),r.props.socket.socket.on(C.b.CAND_EXAM_EVENT_CLIENT,(function(e){return r.props.FC_CandidateExamEvent(e)}))},r.componentWillUnmount=function(){r.props.socket.socket.off(C.a.USER_CONNECTED),r.props.socket.socket.off(C.a.USER_DISCONNECTED),r.props.socket.socket.off(C.b.CAND_EXAM_EVENT_CLIENT)},r.startCenterProctoring=function(){},r.sendEvent=function(){console.log("Sending a signal"),r.props.socket.socket.emit(C.b.CAND_WARNING_EXAM_SERVER,{user_id:r.props.auth.user.user_id,room_id:r.props.server_room.room_id})},r.blank=function(e){return console.log("clicked")},r.ActiveSIdeTabHandler=function(e){return r.setState({active_side_tab:e})},r.SelectCandidateHandler=function(e){return r.setState({selected_candidate:e})},r.startExamHandler=function(){r.props.socket.socket.emit(C.b.START_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id,data:"start exam"}),r.props.FC_ExamStartStop(!0)},r.stopExamHandler=function(){r.props.socket.socket.emit(C.b.STOP_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id}),r.props.FC_ExamStartStop(!1)},r.continueHandler=function(e){r.props.FC_ContinueExam(e),r.props.socket.socket.emit(C.b.CAND_CONTINUE_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id,user_id:e})},r.stopCandidateHandler=function(e){r.props.socket.socket.emit(C.b.CAND_STOP_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id,user_id:e,msg:"Hey you are stopped by the supervisor"}),r.props.FC_StopCandidate(e)},r.warnCandidateHandler=function(e){r.props.socket.socket.emit(C.b.CAND_WARNING_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id,user_id:e,msg:"yey you are fucked"})},r.restartCandidateHandler=function(e){console.log("RESTART EXAM CANDIDATE"),r.props.socket.socket.emit(C.b.CAND_RESTART_EXAM_SERVER,{room_id:r.props.proctoring.room.room_id,user_id:e,msg:"You did it again"})},r.state={loading_room:!0,me:r.props.candidate,loading:!1,candidates:[],events:[],active_side_tab:g.Events,selected_candidate:null,online_room:!1,online_candidates:[],start_exam:!1,error:{msg:"",target:""}},r}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=this.props.proctoring.candidates.filter((function(e){return!0===e.active})),s=this.props.proctoring.candidates.filter((function(e){return!1===e.active}));return Object(m.jsxs)("div",{className:"fixed right-0 left-0 bottom-0 top-0",children:[Object(m.jsx)(j,{course_title:"12234231 - Mathematics for enginners",post_title:"Math and physics form engi",duration:"123",started_at:"12:00 AM",end_at:"14:00 PM",remaining:"1:25:13",exam_start:this.props.proctoring.room.start_exam,startExamHandler:this.startExamHandler,stopExamHandler:this.stopExamHandler}),Object(m.jsx)("div",{className:" proctoring-body-contents h-screen text-white",children:Object(m.jsxs)("div",{className:"grid --grid-col-3 lg:grid-flow-col gap-4",children:[Object(m.jsx)("div",{className:"col-span-4 p-2 pt-3 h-screen overflow-y-auto",children:Object(m.jsxs)("div",{className:"",children:[Object(m.jsxs)("h3",{className:"text-3xl font-bold text-blue-400 pb-1 mb-1",children:["Non active candidates"," ",Object(m.jsx)("span",{className:"inline-block mr-1 p-1 bg-green-700 text-white text-md py-0 px-2 rounded-full",children:t.length})]}),Object(m.jsx)("div",{className:"grid grid-flow-row sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:t.map((function(t,s){return Object(m.jsx)(f,{seat_number:s+1,candidate:t,stopHandler:e.stopCandidateHandler,warningHandler:e.warnCandidateHandler,detailsHandler:e.SelectCandidateHandler,continueHandler:e.continueHandler,exam_started:e.props.proctoring.room.start_exam},s)}))}),Object(m.jsxs)("h3",{className:"mt-9 text-3xl font-bold text-blue-400 pb-1",children:["Non active candidates"," ",Object(m.jsx)("span",{className:"inline-block mr-1 p-1 bg-green-700 text-white text-md py-0 px-2 rounded-full",children:s.length})]}),Object(m.jsx)("div",{className:"mt-3",children:Object(m.jsx)(v,{candidates:s,clickHandler:this.SelectCandidateHandler})})]})}),Object(m.jsx)("div",{className:"p-2 proctoring-side-section col-span-1 transition-all ease-in-out  h-screen overflow-y-auto  border-l border-blue-500 border-opacity-30",children:null===this.state.selected_candidate?Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)(p,{total:43,active:43,done:43,left:43}),Object(m.jsxs)("div",{className:"my-2 p-1 rounded-md bg-blue-800 bg-opacity-60 grid grid-col-2 grid-flow-col gap-1",children:[Object(m.jsx)("button",{onClick:this.ActiveSIdeTabHandler.bind(this,g.Events),className:"btn rounded-md bg-blue-700 text-blue-100 ".concat(this.state.active_side_tab===g.Events?"border-2 border-blue-400":"bg-blue-800 bg-opacity-60"),children:"Event list"}),Object(m.jsx)("button",{onClick:this.ActiveSIdeTabHandler.bind(this,g.Candidates),className:"btn rounded-md bg-blue-700 text-blue-100 ".concat(this.state.active_side_tab===g.Candidates?"border-2 border-blue-400":"bg-blue-800 bg-opacity-60"),children:"Candidates"})]}),this.state.active_side_tab===g.Events?Object(m.jsx)(h,{candidates:this.props.proctoring.candidates,events:this.state.events}):Object(m.jsx)(v,{candidates:this.props.proctoring.candidates,clickHandler:this.SelectCandidateHandler})]}):Object(m.jsx)(N,{candidate:this.props.proctoring.candidates.find((function(t){return t.user_id===e.state.selected_candidate})),events:this.state.events.filter((function(t){return t.user_id===e.state.selected_candidate})),chatHandler:this.blank,micHandler:this.blank,focusHandler:this.blank,stopHandler:this.stopCandidateHandler,restartHandler:this.restartCandidateHandler,warnHandler:this.warnCandidateHandler,closeHandler:function(){return e.SelectCandidateHandler(null)},home_proctoring:!1,exam_started:this.props.proctoring.room.start_exam})})]})})]})}}]),s}(i.a.Component),y=Object(o.b)((function(e){return{socket:e.socket,auth:e.auth,proctoring:e.proctoring}}),{FC_GetProctoringRoom:E.t,FC_SetActiveCandidates:E.D,FC_SetOneActiveCandidate:E.E,FC_CandidateOffline:E.i,FC_ExamStartStop:E.p,FC_ContinueExam:E.m,FC_StopCandidate:E.F,FC_CandidateExamEvent:E.h})(k)}}]);
//# sourceMappingURL=4.2bbaaf95.chunk.js.map