(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[22,11,12,26,47],{1322:function(e,t,s){"use strict";s.r(t),s.d(t,"WaitingListDashboard",(function(){return W}));var a=s(25),i=s(24),r=s(27),n=s(26),o=s(4),c=s.n(o),l=s(66),d=s(67),p=s(49),u=s(12),m=s(23),x=s(3),h=s(202),b=s(685),j=s(210),f=s(92),g=s(19),O=s(21),_=s(767),v=s(32),P=s(28),y=s(922),E=s(683),N=s(1),C=function(){return Object(N.jsxs)("div",{className:"grid 2xl:grid-cols-5 xl:grid-cols-4 lg:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-4 items-center animate-pulse my-3 mr-5",children:[Object(N.jsx)("div",{className:"flex items-center h-36 w-36 rounded-full bg-gray-400 space-x-2 mb-2 lg:mb-0 mx-auto"}),Object(N.jsx)("div",{className:"flex items-center h-28 bg-gray-400 w-full rounded-md space-x-2 mb-2 lg:mb-0"}),Object(N.jsx)("div",{className:"flex items-center h-28 bg-gray-400 w-full rounded-md space-x-2 mb-2 lg:mb-0"}),Object(N.jsx)("div",{className:"flex items-center h-28 bg-gray-400 w-full rounded-md space-x-2 mb-2 lg:mb-0"}),Object(N.jsx)("div",{className:"flex items-center h-28 bg-gray-400 w-full rounded-md space-x-2 mb-2 lg:mb-0"})]})},R=c.a.memo(C),T=s(723),S=s(722),w=s(124),L=s(72),A=function(e){return Object(N.jsxs)("div",{className:"mt-3 rounded flex flex-col md:flex-row md:justify-between items-start",children:[Object(N.jsx)("section",{children:Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3 mb-2",children:[Object(N.jsx)(w.b,{className:"text-7xl text-blue-600 hidden md:block"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:e.reportTitle}),Object(N.jsxs)("div",{onClick:function(){return e.setSelectPosition(!0)},className:"flex flex-row items-center gap-2 mt-1",children:[Object(N.jsx)("span",{className:"text-gray-500",children:"Selected position: "}),Object(N.jsx)("span",{className:"text-gray-700 text-lg font-bold underline cursor-pointer",children:null!==e.thisPosition?e.thisPosition.position_title:"All positions"}),Object(N.jsxs)("button",{onClick:function(){return e.setSelectPosition(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm",children:[Object(N.jsx)(L.g,{className:"text-xl"}),"Filter by position"]})]})]})]})}),Object(N.jsxs)("section",{className:"w-full md:w-auto my-2 md:my-0",children:[Object(N.jsx)("section",{children:e.education_categories&&e.education_categories.length>0&&Object(N.jsxs)("div",{className:"flex items-start md:items-center justify-start md:justify-end gap-2",children:[e.allEducation&&Object(N.jsx)("div",{className:"w-auto ".concat(e.loading||e.loadingEducation?"cursor-not-allowed":"cursor-pointer"," ").concat("all"===e.thisEducation?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.loading&&!e.loadingEducation&&e.setThisEducation("all")},children:Object(N.jsxs)("section",{className:"flex-1",children:[Object(N.jsx)(u.n,{className:"inline-block mr-1 text-xs"}),Object(N.jsx)("span",{children:"All"})]})}),e.education_categories.map((function(t,s){return Object(N.jsx)("div",{className:"w-auto ".concat(e.loading?"cursor-not-allowed":"cursor-pointer"," ").concat("all"!==e.thisEducation&&t.education_institute_id===e.thisEducation.education_institute_id?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.loading&&!e.loadingEducation&&e.setThisEducation(t)},children:Object(N.jsxs)("div",{className:"flex-1",children:[Object(N.jsx)(u.n,{className:"inline-block mr-1 text-xs"}),Object(N.jsx)("span",{children:t.education_category_title})]})},t.education_institute_id+s)}))]})}),Object(N.jsxs)("select",{className:"bg-white text-gray-600 border border-gray-400 rounded p-2 focus:outline-none",value:e.thisPeriod,disabled:e.loading||e.loadingEducation,onChange:function(t){e.setThisPeriod(t.target.value)},children:[Object(N.jsx)("option",{value:"all",children:"All Session"}),e.application_sessions.map((function(e,t){return Object(N.jsx)("option",{value:e._id,children:e.session_plan_name},e._id+t)}))]})]})]})},I=c.a.memo(A),D=s(690),k=s(700),F=function(e){var t=function(){var t=[],s=[],a=[],i=[],r=[];return function(e){var t=[],s=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s.includes(e[a].waitingList_session_id)||(s.push(e[a].waitingList_session_id),t.push(e[a].waitingList_session)));return{sessionNames:t,sessionIds:s}}(e.waitingListData).sessionIds.forEach((function(n){var o=e.waitingListData.filter((function(e){return e.waitingList_session_id===n}));for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&function(){var n=o[c],l=Object(D.getPeriodById)(e.sessions,n.waitingList_session_id);r.includes(n.waitingList_session_id)||(r.push(n.waitingList_session_id),i.push(l?l.session_plan_name:"Unknown"),"all"!==e.thisGender?(t.push(o.filter((function(t){return t.waitingList_session_id===n.waitingList_session_id&&t.waiting_status===_.a.WAITING&&t.gender.toString().toLocaleLowerCase()===e.thisGender.toString().toLocaleLowerCase()})).length),s.push(o.filter((function(t){return t.waitingList_session_id===n.waitingList_session_id&&t.waiting_status===_.a.PLACED&&t.gender.toString().toLocaleLowerCase()===e.thisGender.toString().toLocaleLowerCase()})).length),a.push(o.filter((function(t){return t.waitingList_session_id===n.waitingList_session_id&&t.waiting_status===_.a.PENDING&&t.gender.toString().toLocaleLowerCase()===e.thisGender.toString().toLocaleLowerCase()})).length)):(t.push(o.filter((function(e){return e.waitingList_session_id===n.waitingList_session_id&&e.waiting_status===_.a.WAITING})).length),s.push(o.filter((function(e){return e.waitingList_session_id===n.waitingList_session_id&&e.waiting_status===_.a.PLACED})).length),a.push(o.filter((function(e){return e.waitingList_session_id===n.waitingList_session_id&&e.waiting_status===_.a.PENDING})).length)))}()})),{waitingData:t,placementData:s,failedData:a,labels:i}};return Object(N.jsxs)("section",{className:"my-3 max-w-full bg-white",children:[Object(N.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(N.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Waiting list chart"})}),Object(N.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(N.jsx)(k.a,{labels:t().labels,categoriesLabel:t().labels,dataLabels:!1,yaxisText:"(Applicants)",tooltipText:"Applicants",series:[{name:"Waiting list",data:t().waitingData},{name:"Pending placement",data:t().failedData},{name:"Confirmed placement",data:t().placementData}],colors:["#469769","#d97724","#4b5563"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:e.chartHeight})})]})},M=c.a.memo(F),U=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).setLoading=function(e){i.setState({loading:e})},i.setLoadingWaitingList=function(e){i.setState({loadingWaitingList:e})},i.setThisPosition=function(e){i.setState({thisPosition:e})},i.setSelectPosition=function(e){i.setState({selectPosition:e})},i.setThisEducation=function(e){i.setState({thisEducation:e})},i.setThisGender=function(e){i.setState({thisGender:e})},i.setSearchPositionInput=function(e){i.setState({searchPositionInput:e})},i.setThisPeriod=function(e){i.setState({thisPeriod:e})},i.componentDidMount=function(){null!==i.props.schoolLevels.education_categories&&0!==i.props.schoolLevels.education_categories.length||i.props.loadEducationCategories(i.setLoading),null==i.props.application_sessions&&i.props.GetAllSessionPlans((function(e,t){i.setLoading(e),e||t.length&&i.props.PushPopupAlert({title:t,theme:O.a.danger})})),null===i.props.systemPositions&&i.props.auth.education_institution_id?i.props.FC_GetPositionsByInstitution(i.props.auth.education_institution_id,(function(e,t){i.setLoading(e),t.length&&i.props.PushPopupAlert({title:t,theme:O.a.danger})})):i.state.loading&&i.setLoading(!1),i.state.loadingWaitingList&&i.props.getWaitingList((function(e,t){!1===e&&(i.setLoadingWaitingList(e),t.length>0&&i.props.PushPopupAlert({title:t,theme:O.a.danger}))}))},i.FC_WaitingListStatus=function(e){return[{title:"All applicants",count:{all:e,waiting:e.filter((function(e){return e.waiting_status===_.a.WAITING})),placed:e.filter((function(e){return e.waiting_status===_.a.PLACED})),failed:e.filter((function(e){return e.waiting_status===_.a.PENDING}))},type:"all"},{title:"Male applicants",count:{all:e.filter((function(e){return e.gender===_.b.male})),waiting:e.filter((function(e){return e.gender===_.b.male&&e.waiting_status===_.a.WAITING})),placed:e.filter((function(e){return e.gender===_.b.male&&e.waiting_status===_.a.PLACED})),failed:e.filter((function(e){return e.gender===_.b.male&&e.waiting_status===_.a.PENDING}))},type:"male"},{title:"Female applicants",count:{all:e.filter((function(e){return e.gender===_.b.female})),waiting:e.filter((function(e){return e.gender===_.b.female&&e.waiting_status===_.a.WAITING})),placed:e.filter((function(e){return e.gender===_.b.female&&e.waiting_status===_.a.PLACED})),failed:e.filter((function(e){return e.gender===_.b.female&&e.waiting_status===_.a.PENDING}))},type:"female"}]},i.FC_WaitingListData=function(e,t){if(null===e||null===t||null===i.props.application_sessions)return null;var s=[];for(var a in e)if(e[a].user_info){var r=e[a],n=Object(v.d)(t,r.position_id),o=Object(y.getPeriodById)(i.props.application_sessions,r.session_id),c={names:r.user_info.fname+" "+r.user_info.lname,waitingList_id:r._id,gender:(r.user_info.sex,_.b.male),national_id:r.n_id,phone:r.phone_number,email:r.email,user_position_marks:Number(r.marks.toFixed(2)),position_id:n?n.position_id:"Unknown position",position_title:n?n.position_title:"Unknown position",education_category:n?n.education_institute_id.education_category_title:"",education_category_id:n?n.education_institute_id.education_institute_id:"",waitingList_session:o?o.session_plan_name:"Unknown session",date:Object(P.a)(r.createdAt),waiting_status:r.status,status:r.status,waitingList_session_id:r.session_id};s.push(c)}return s},i.FC_FilterWaitingList=function(e,t,s,a,i){var r=e;return"all"!==t&&(r=r.filter((function(e){return e.status===t}))),i&&(r=r.filter((function(e){return e.position_id===i.position_id}))),"all"!==s&&(r=r.filter((function(e){return e.waitingList_session_id===s}))),"all"!==a&&(r=r.filter((function(e){return e.education_category===a.education_category_title}))),r},i.getWaitingListDataByTitle=function(e){return e.find((function(e){return e.type===i.state.thisGender}))},i.displayGenderTitle=function(e){return"male"===e?"All male applicants":"female"===e?"All female applicants":"All applicants"},i.state={thisPeriod:"all",loading:!0,loadingWaitingList:!0,thisPosition:null,selectPosition:!1,thisEducation:"all",thisGender:"all",searchPositionInput:""},i}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return this.state.loading||null===this.props.application_sessions?Object(N.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):0===this.props.application_sessions.length?Object(N.jsx)(E.a,{}):Object(N.jsxs)("div",{children:[Object(N.jsx)(I,{education_categories:this.props.schoolLevels.education_categories,loading:this.state.loading,loadingEducation:this.state.loading,thisEducation:this.state.thisEducation,setThisEducation:this.setThisEducation,thisPeriod:this.state.thisPeriod,setThisPeriod:this.setThisPeriod,application_sessions:this.props.application_sessions,reportTitle:"Waiting list Dashboard",allEducation:!0,setSelectPosition:this.setSelectPosition,thisPosition:this.state.thisPosition}),(this.state.loadingWaitingList||null===this.props.waitingList)&&Object(N.jsx)("section",{children:Object(N.jsx)(R,{})}),!this.state.loadingWaitingList&&null!==this.props.waitingList&&Object(N.jsxs)("section",{children:[this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)&&this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition)&&Object(N.jsxs)("section",{className:"my-2",children:[Object(N.jsxs)("div",{className:"text-2xl font-semibold text-gray-600 flex items-center gap-2",children:[this.displayGenderTitle(this.state.thisGender)," ",Object(N.jsx)("select",{className:"btn bg-white border border-blue-300 text-gray-600 hover:bg-gray-50 text-sm focus:outline-none",value:this.state.thisGender,onChange:function(t){return e.setThisGender(t.target.value)},children:this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition)).map((function(e,t){return Object(N.jsx)("option",{value:e.type,children:e.title},e.type+t)}))})]}),this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition)))&&Object(N.jsx)(S.a,{dataLabels:[{title:"Total applicants",icon:l.c,iconColor:"blue",count:this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.all.length},{title:"Waiting Applicants",icon:l.c,iconColor:"green",count:this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.waiting.length},{title:"Placed & Not confirmed",icon:l.c,iconColor:"yellow",count:this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.failed.length},{title:"Placed & Confirmed",icon:l.c,iconColor:"gray",count:this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.placed.length}],labelsOnRow:5,children:Object(N.jsx)("div",{className:"flex justify-center",children:Object(N.jsx)(T.a,{options:{labels:["Waiting list","Placed list","Failed exam"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#d97724","#4b5563"]},series:[this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.waiting.length,this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.placed.length,this.getWaitingListDataByTitle(this.FC_WaitingListStatus(this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition))).count.failed.length],width:210})})})]}),this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)&&Object(N.jsx)(M,{waitingListData:this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),"all",this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition),sessions:this.props.application_sessions,chartHeight:650,thisGender:this.state.thisGender}),this.state.selectPosition&&Object(N.jsx)(g.d,{title:Object(N.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(N.jsx)(p.k,{className:"text-5xl text-blue-600"}),Object(N.jsx)("div",{className:"flex flex-col",children:Object(N.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Filter by a position"})})]}),backDrop:!0,theme:g.c.default,close:function(){e.setSelectPosition(!1),e.setSearchPositionInput("")},backDropClose:!0,widthSizeClass:g.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(N.jsx)("div",{className:"px-2 pb-2",children:null===this.props.systemPositions?Object(N.jsx)(f.b,{type:f.a.dark}):0===this.props.systemPositions.length?Object(N.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(N.jsx)(u.Nb,{className:"text-6xl"}),Object(N.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(N.jsx)("span",{children:"No positions found! Please go back!"})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{className:"text-gray-600 text-xs font-bold",children:"Filter by position name"}),Object(N.jsx)("input",{onChange:function(t){return e.setSearchPositionInput(t.target.value)},type:"text",className:"mb-4 bg-gray-100 px-3 py-2 rounded",placeholder:"Keyword..."})]}),Object(N.jsx)("div",{onClick:function(){e.setThisPosition(null),e.setSelectPosition(!1),e.setSearchPositionInput("")},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(N.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(N.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(N.jsx)("div",{children:Object(N.jsx)(d.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(N.jsx)("div",{className:"flex flex-col",children:Object(N.jsx)("span",{className:"text-base lg:text-lg font-bold text-gray-700",children:"All position"})})]})}),Object(N.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(N.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(N.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})}),Object(P.n)(this.props.systemPositions,this.state.searchPositionInput).map((function(t,s){return Object(N.jsx)("div",{onClick:function(){e.setThisPosition(t),e.setSelectPosition(!1),e.setSearchPositionInput("")},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(N.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(N.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(N.jsx)("div",{children:Object(N.jsx)(d.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:t.position_title}),Object(N.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(N.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:t.school_level_id.school_level_name})]}),Object(N.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:t.education_institute_id.education_category_title})]})]})}),Object(N.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(N.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(N.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})},s+1)}))]})})})]})]})}}]),s}(o.Component),W=Object(m.b)((function(e){var t=e.auth,s=e.system_settings,a=e.sessionPlan,i=e.schoolLevels,r=e.waitingList;return{auth:t,application_sessions:a.allSessionPlans,systemPositions:s.systemPositions,schoolLevels:i,waitingList:r}}),{getWaitingList:j.a,GetAllSessionPlans:h.d,loadEducationCategories:x.Hc,FC_GetPositionsByInstitution:b.a,PushPopupAlert:x.Qb})(U)},683:function(e,t,s){"use strict";var a=s(4),i=s.n(a),r=s(49),n=s(1),o=function(e){e.title;var t=e.description,s=void 0===t?"Please Wait for the system to publish the sessions or contact the administrator":t;return Object(n.jsx)("div",{className:"w-full my-5",children:Object(n.jsxs)("section",{className:"py-10 flex flex-col items-center rounded border border-gray-300 bg-white text-2xl font-medium text-yellow-800 animate__animated animate__pulse",children:[Object(n.jsxs)("div",{className:"flex flex-col items-center",children:[Object(n.jsx)(r.q,{className:"w-32 h-32"}),s]}),!1]})})};t.a=i.a.memo(o)},684:function(e,t,s){"use strict";s.d(t,"b",(function(){return x})),s.d(t,"a",(function(){return h}));var a=s(25),i=s(24),r=s(27),n=s(26),o=s(4),c=s.n(o),l=s(23),d=s(3),p=s(12),u=s(1),m=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).componentDidMount=function(){return i.props.PageHasSubNav(!0)},i.componentWillUnmount=function(){return i.props.PageHasSubNav(!1)},i.state={loading:!1},i}return Object(i.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(u.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(c.a.Component),x=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.Ob,PageHasSubNav:d.Pb})(m),h=function(e){var t=e.title,s=void 0===t?"":t,a=e.icon,i=void 0===a?p.n:a,r=e.active,n=void 0!==r&&r,o=e.count,c=void 0===o?0:o,l=i;return Object(u.jsxs)("section",{className:"".concat(!0===n?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(u.jsxs)("section",{className:"flex-1",children:[Object(u.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(u.jsx)("span",{children:s})]}),c>0?Object(u.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:c}):null]})}},685:function(e,t,s){"use strict";s.d(t,"f",(function(){return m})),s.d(t,"d",(function(){return x})),s.d(t,"b",(function(){return h})),s.d(t,"e",(function(){return b})),s.d(t,"c",(function(){return j})),s.d(t,"g",(function(){return f})),s.d(t,"a",(function(){return g}));var a=s(5),i=s.n(a),r=s(7),n=s(10),o=s.n(n),c=s(6),l=s(8),d=s(16),p=s(14),u="".concat(l.a.AUTH,"/auth/user/access"),m=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(s){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,o.a.get("".concat(l.a.AUTH,"/system/setting"));case 5:a=t.sent,console.log("=================getSystemSettings==================="),console.log(a),console.log("=================getSystemSettings==================="),s({type:c.a.GET_SYSTEM_SETTINGS,payload:a.data}),e(!1,""),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(p.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(s){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,o.a.get("".concat(u,"/roleaccess"));case 5:a=t.sent,r=a.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),s({type:c.a.GET_TASK_ACCESS,payload:r}),e(!1,"",r),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(p.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(s){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,o.a.get("".concat(l.a.APPLICATION,"/position"));case 5:a=t.sent,s({type:c.a.GET_POSTIONS,payload:a.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(p.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return console.log({deletePosition:e}),function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:c.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return function(){var s=Object(r.a)(i.a.mark((function s(a){var r;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,Object(d.b)(),s.next=5,o.a.get("".concat(l.a.APPLICATION,"/position/instituteposition/").concat(e));case 5:r=s.sent,a({type:c.a.GET_POSTIONS,payload:r.data}),t(!1,"",r.data),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log({code_error:s.t0}),t(!1,Object(p.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()}},686:function(e,t,s){"use strict";s.d(t,"e",(function(){return m})),s.d(t,"c",(function(){return x})),s.d(t,"d",(function(){return h})),s.d(t,"a",(function(){return b})),s.d(t,"f",(function(){return f}));var a,i=s(17),r=s(4),n=s.n(r),o=s(72),c=s(33),l=s(32),d=s(28),p=s(690),u=s(1);!function(e){e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.STATUS="exam_status"}(a||(a={}));var m=function(e){return e!==a.COURSER_NAME&&e!==a.COURSE_CODE&&e!==a.PERIOD&&e!==a.STATUS},x=[{key:a.COURSER_NAME,title:"Course names",status:!0},{key:a.COURSE_CODE,title:"Course code",status:!0},{key:a.SCHOOL_LEVEL,title:"School levels",status:!0},{key:a.PERIOD,title:"Exam period",status:!0},{key:a.DATE,title:"Exam date",status:!0},{key:a.TIME,title:"Exam time",status:!0},{key:a.DURATION,title:"Exam duration",status:!0},{key:a.STATUS,title:"Exam Status",status:!0}],h=function(e){return"Done"===e?"Completed":"Editing"===e?"In exam":e},b=function(e,t,s){var a=[],i=[],r=function(r){if(Object.prototype.hasOwnProperty.call(t,r)){if(i.includes(t[r].id))return"continue";i.push(t[r].id);var n=e.find((function(e){return e.course_id===t[r].course}));if(n){var o=s.find((function(e){return e.course===t[r].course&&e.period===t[r].period}));a.push({course_name:n.course_name,course_code:n.course_code,description:n.description,school_levels:n.school_levels,course_id:n.course_id,exam:t[r],preparation_status:o?o.exam_status:"remaining"})}}};for(var n in t)r(n);return a},j=function(e,t){return"all"===t?e:e.filter((function(e){return e.preparation_status===t}))},f=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var a in e)if(s=!1,"course_name"!==a&&"course_code"!==a&&"preparation_status"!==a||(s=e[a].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},g=function(e){var t=Object(r.useState)(""),s=Object(i.a)(t,2),a=s[0],n=s[1],m=Object(r.useState)(!1),x=Object(i.a)(m,2),g=x[0],O=x[1],_=Object(r.useState)(""),v=Object(i.a)(_,2),P=v[0],y=v[1],E=Object(r.useState)("ASC"),N=Object(i.a)(E,2),C=N[0],R=N[1],T=function(e){P===e&&"ASC"===C?(R("DESC"),y(e),O(!0)):(R("ASC"),y(e),O(!0))};return Object(u.jsx)(r.Fragment,{children:Object(u.jsxs)("div",{className:"bg-white my-4",children:[Object(u.jsx)("div",{className:"w-full px-2 py-2",children:Object(u.jsx)("input",{onChange:function(e){return n(e.target.value)},type:"text",value:a,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.doneExamsData&&j(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress).length<=0)})}),Object(u.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(u.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return T("course_name")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(u.jsx)(o.j,{})]})}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return T("preparation_status")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Exam Status ",Object(u.jsx)(o.j,{})]})})]})}),Object(u.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:7,className:"px-2 py-2",children:Object(u.jsx)(c.a,{})})}):e.examsListData&&e.doneExamsData&&j(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress).length<=0?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:7,className:"px-2 py-2 text-center",children:"No Exam list available!"})}):e.examsListData&&e.doneExamsData&&Object(d.q)(g,f(j(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress),a),P,C).map((function(t,s){return Object(u.jsxs)("tr",{className:"".concat("Done"===t.preparation_status?"bg-blue-50":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(u.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(u.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(t.course_name)," (",Object(u.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.exam_date):"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(p.getPeriodById)(e.thisPeriod,t.exam.period)?Object(p.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:Object(l.a)(h(t.preparation_status))})]},s+1)}))})]})]})})};t.b=n.a.memo(g)},688:function(e,t,s){"use strict";s(4);var a=s(1);t.a=function(e){var t=function(){for(var t=[],s=0;s<e.cols;s++)t.push(s);return t.map((function(e){return Object(a.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(a.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},689:function(e,t,s){"use strict";s.d(t,"h",(function(){return m})),s.d(t,"e",(function(){return x})),s.d(t,"c",(function(){return h})),s.d(t,"g",(function(){return b})),s.d(t,"b",(function(){return j})),s.d(t,"d",(function(){return f})),s.d(t,"f",(function(){return g})),s.d(t,"a",(function(){return O}));var a,i=s(5),r=s.n(i),n=s(7),o=s(10),c=s.n(o),l=s(6),d=s(8),p=s(16),u=s(14),m=30;!function(e){e.waiting="waiting",e.approved="approved",e.rejected="rejected"}(a||(a={}));var x=function(e,t){return t&&t(!0,"",null),function(){var s=Object(n.a)(r.a.mark((function s(a){var i;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,Object(p.b)(),s.next=4,c.a.get("".concat(d.a.USER,"/?page=").concat(e,"&limit=").concat(m));case 4:i=s.sent,console.log("===================================="),console.log({fetchUserAccess:i}),console.log("===================================="),a({type:l.a.FETCH_USERS_ACCESS,payload:{users:[{data:i.data.users,page:e}],next:i.data.next,previous:i.data.previous,total_users:i.data.total_users}}),t&&t(!1,"",i.data.users),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(0),console.error({user_error:s.t0}),t&&t(!1,Object(u.a)(s.t0),null);case 16:case"end":return s.stop()}}),s,null,[[0,12]])})));return function(e){return s.apply(this,arguments)}}()},h=function(e,t){return function(){var s=Object(n.a)(r.a.mark((function s(a){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.BLOCK_USER_TO_SYSTEM,payload:{id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},b=function(e,t){return function(){var s=Object(n.a)(r.a.mark((function s(a){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.UNBLOCK_USER_TO_SYSTEM,payload:{id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},j=function(e,t){return function(){var s=Object(n.a)(r.a.mark((function s(a){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.ASSIGN_ROLE_TO_USER,payload:{data:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},f=function(e,t){return function(){var s=Object(n.a)(r.a.mark((function s(a){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.CUSTOMIZE_USER_ACCESS,payload:{data:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},g=function(e,t){return function(){var s=Object(n.a)(r.a.mark((function s(a){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.RESET_USER_ACCESS,payload:{user_id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},O=function(){var e=Object(n.a)(r.a.mark((function e(t,s){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,"",null),e.prev=1,Object(p.b)(),e.next=5,c.a.get("".concat(d.a.USER,"/check/").concat(t));case 5:a=e.sent,console.log("=================FC_GetUserBySearch==================="),console.log({FC_GetUserBySearch:a}),console.log("=================FC_GetUserBySearch==================="),s(!1,"",a.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error({user_error:e.t0}),s(!1,Object(u.a)(e.t0),null);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,s){return e.apply(this,arguments)}}()},690:function(e,t,s){"use strict";s.r(t),s.d(t,"getExamByCourseId",(function(){return X})),s.d(t,"getPeriodById",(function(){return Y})),s.d(t,"loadAllExams",(function(){return H})),s.d(t,"reportTitleType",(function(){return a})),s.d(t,"ExamReport",(function(){return K}));var a,i=s(5),r=s.n(i),n=s(7),o=s(25),c=s(24),l=s(27),d=s(26),p=s(4),u=s.n(p),m=s(72),x=s(204),h=s(12),b=s(23),j=s(3),f=s(202),g=s(692),O=s(33),_=s(684),v=s(162),P=s(9),y=s(21),E=s(32),N=s(28),C=s(683),R=s(17),T=s(699),S=s(686),w=s(1),L=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",r=[];r="all"===i?e:e.filter((function(e){return e.exam_stastus===i})),s&&(r=r.filter((function(e){return e.exam.exam_location&&e.exam.exam_location.district_id===s}))),a&&(r=r.filter((function(e){return e.course_id===a})));for(var n=0;n<r.length;n++)for(var o=n;o<r.length;o++)r[o].user_total_marks>r[n].user_total_marks&&(t=r[o],r[o]=r[n],r[n]=t);return r},A=u.a.memo(Object(b.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(p.useState)(""),s=Object(R.a)(t,2),a=s[0],i=s[1];return Object(w.jsx)(p.Fragment,{children:Object(w.jsxs)("div",{className:"bg-white my-4",children:[Object(w.jsx)("div",{className:"w-full px-2 py-2",children:Object(w.jsx)("input",{onChange:function(e){return i(e.target.value)},type:"text",value:a,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.candidatePerformanceData&&L(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).length<=0)})}),Object(w.jsx)("div",{className:"w-full overflow-x-auto",children:Object(w.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(w.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Applicants"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Email"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(w.jsx)("td",{className:"px-2 py-2",children:Object(w.jsx)("div",{className:"flex items-center gap-1",children:"Exam"})}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam period"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam start time"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam end time"}),Object(w.jsx)("td",{className:"px-2 py-2",children:Object(w.jsx)("div",{className:"flex items-center gap-1",children:"Marks"})}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(w.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:12,className:"px-2 py-2",children:Object(w.jsx)(O.a,{})})}):e.candidatePerformanceData&&L(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).length<=0?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:12,className:"px-2 py-2 text-center",children:"No applicant list available!"})}):e.candidatePerformanceData&&Object(T.g)(L(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).slice(0,30),a).map((function(t,s){return Object(w.jsxs)("tr",{className:"".concat(Object(T.d)(t.exam_stastus)," text-gray-600 hover:bg-blue-100 hover:text-blue-700 text-sm"),children:[Object(w.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(w.jsx)("td",{className:"px-2 py-2",children:Object(E.a)(t.user_name)}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.national_id}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.user_email}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.user_phone}),Object(w.jsxs)("td",{className:"px-2 py-2",children:[Object(E.a)(t.course_name)," (",Object(w.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam&&Y(e.thisPeriod,t.exam.period)?Y(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam.exam_date?Object(N.a)(t.exam.exam_date):"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam.start_time?Object(N.r)(t.exam.start_time).timeAMPM:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam.end_time?Object(N.r)(t.exam.end_time).timeAMPM:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam_stastus!==P.i.Editing?Number(t.user_total_marks.toFixed(1))+"%":"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:Object(E.a)(Object(S.d)(t.exam_stastus))})]},s+1)}))})]})})]})})}))),I=s(701),D=s(721),k=s(48),F=function(e,t,s,a,i){var r,n=0,o=0,c=[],l=[],d=[],p=s.filter((function(e){return"done"===e.exam_status.toLocaleLowerCase()})),u=function(s){if(Object.prototype.hasOwnProperty.call(p,s)){if(d.includes(p[s].id))return"continue";d.push(p[s].id);var r=e.find((function(e){return e.course_id===p[s].course})),u=0;if(r){var m=a.filter((function(e){return e.course===p[s].course&&e.exam_location&&e.exam_location.district_id===i}));for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)){if(l.includes(m[x].user.user_id))continue;l.push(m[x].user.user_id),u+=m[x].total_marks,m[x].user_status!==P.i.Editing&&m[x].total_marks>=50?n+=1:m[x].user_status!==P.i.Editing&&(o+=1)}var h=t.find((function(e){return e.course===p[s].course&&e.period===p[s].period}));h&&c.push({course_name:r.course_name,course_code:r.course_code,description:r.description,school_levels:r.school_levels,course_id:r.course_id,exam:h,pass_applicant:n,failed_applicant:o,applicants:l.length,user_total_marks:u?u/l.length:u}),u=0,l=[]}}d=[]};for(var m in p)u(m);for(var x=0;x<c.length;x++)for(var h=x;h<c.length;h++)c[h].user_total_marks>c[x].user_total_marks&&(r=c[h],c[h]=c[x],c[x]=r);return c},M=u.a.memo(Object(b.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(p.useState)(""),s=Object(R.a)(t,2),a=s[0],i=s[1];return Object(w.jsx)(p.Fragment,{children:Object(w.jsxs)("div",{className:"bg-white my-4 max-w-full overflow-x-auto",children:[Object(w.jsx)("div",{className:"w-full px-2 py-2",children:Object(w.jsx)("input",{onChange:function(e){return i(e.target.value)},type:"text",value:a,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&F(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).slice(0,30).length<=0)})}),Object(w.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(w.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",children:Object(w.jsx)("div",{className:"flex items-center gap-1",children:"Course"})}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Pass Applicants"}),Object(w.jsx)("td",{className:"px-2 py-2",children:"Failed Applicants"}),Object(w.jsx)("td",{className:"px-2 py-2 cursor-pointer",children:Object(w.jsx)("div",{className:"flex items-center gap-1",children:"Percentage"})})]})}),Object(w.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:9,className:"px-2 py-2",children:Object(w.jsx)(O.a,{})})}):e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&F(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).length<=0?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:9,className:"px-2 py-2 text-center",children:Object(w.jsx)(v.b,{theme:v.a.Dark,value:"No Exam list available!ss"})})}):e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&Object(k.a)(F(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).slice(0,30),a).map((function(t,s){return Object(w.jsxs)("tr",{className:"bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm",children:[Object(w.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(w.jsxs)("td",{className:"px-2 py-2",children:[Object(E.a)(t.course_name)," (",Object(w.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(N.a)(t.exam.exam_date):"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:t.exam&&Y(e.thisPeriod,t.exam.period)?Y(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:void 0!==t.pass_applicant?t.pass_applicant:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:void 0!==t.failed_applicant?t.failed_applicant:"-"}),Object(w.jsx)("td",{className:"px-2 py-2",children:Number(t.user_total_marks.toFixed(1))+"%"})]},s+1)}))})]})]})})}))),U=function(e){return Object(w.jsx)(p.Fragment,{children:e.reportTitle!==a.EXAM_PERFORMANCE&&e.reportTitle!==a.EXAM_DISTRICT_PERFORMANCE&&Object(w.jsxs)("div",{className:"pt-1",children:[Object(w.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Filter by statuses:"}),e.reportTitle===a.EXAM_PREPARATION&&Object(w.jsxs)("section",{children:[Object(w.jsx)("div",{onClick:function(){return e.setFilterPreparation("all")},children:Object(w.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterPreparation})}),Object(w.jsx)("div",{onClick:function(){return e.setFilterPreparation("prepared")},children:Object(w.jsx)(_.a,{title:"Prepared",count:0,active:"prepared"===e.filterPreparation})}),Object(w.jsx)("div",{onClick:function(){return e.setFilterPreparation("not prepared")},children:Object(w.jsx)(_.a,{title:"Not Prepared",count:0,active:"not prepared"===e.filterPreparation})})]}),e.reportTitle===a.EXAMINATION_PROGRESS&&Object(w.jsxs)("section",{children:[Object(w.jsx)("div",{onClick:function(){return e.setFilterExamProgress("all")},children:Object(w.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterExamProgress})}),Object(w.jsx)("div",{onClick:function(){return e.setFilterExamProgress("Done")},children:Object(w.jsx)(_.a,{title:"Completed exam",count:0,active:"Done"===e.filterExamProgress})}),Object(w.jsx)("div",{onClick:function(){return e.setFilterExamProgress("Active")},children:Object(w.jsx)(_.a,{title:"Remaining Exam",count:0,active:"Active"===e.filterExamProgress})})]}),(e.reportTitle===a.APPLICANTS_PERFORMANCE||e.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(w.jsxs)("section",{children:[Object(w.jsx)("div",{onClick:function(){return e.setFilterApplicantPerformance("all")},children:Object(w.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterApplicantPerformance})}),Object.values(P.i).map((function(t,s){return Object(w.jsx)("div",{onClick:function(){return e.setFilterApplicantPerformance(t)},children:Object(w.jsx)(_.a,{title:Object(S.d)(t),count:0,active:e.filterApplicantPerformance===t})},s+t)}))]})]})})},W=u.a.memo(U),q=s(705),G=s(66),B=s(748),z=u.a.memo(Object(b.b)((function(e){var t=e.adminExamReport,s=e.schoolLevels,a=e.course,i=e.prepareExam;return{schoolLevels:s,courses:a.courses,examsList:i.examsList,adminExamReport:t}}),{SetReportDistrictId:j.Xb})((function(e){var t=Object(p.useState)(!1),s=Object(R.a)(t,2),i=s[0],r=s[1],n=Object(p.useState)(!1),o=Object(R.a)(n,2),c=o[0],l=o[1],d=Object(p.useState)(!1),u=Object(R.a)(d,2),x=u[0],h=u[1],b=Object(p.useState)(!1),j=Object(R.a)(b,2),f=j[0],g=j[1];return Object(p.useEffect)((function(){e.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&null===e.adminExamReport.reportDistrictId&&l(!0),e.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&null!==e.adminExamReport.reportDistrictId&&l(!1)}),[e.adminExamReport.reportDistrictId,e.reportTitle]),Object(w.jsxs)(p.Fragment,{children:[Object(w.jsxs)("div",{className:"grid md:grid-cols-12 items-center",children:[Object(w.jsx)("div",{className:"col-span-1 md:col-span-8",children:Object(w.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(w.jsx)("span",{className:"text-xl font-bold text-gray-700",children:"Exam Report"}),Object(w.jsxs)("div",{className:"flex flex-row gap-2 items-end cursor-pointer",onClick:function(){return r(!0)},children:[Object(w.jsx)("span",{className:"text-gray-500 text-xl",children:"Report type: "}),Object(w.jsxs)("span",{className:"text-blue-600 text-3xl font-bold underline",children:[e.reportTitle," ",e.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_name:""]})]}),(e.reportTitle===a.EXAM_DISTRICT_PERFORMANCE||e.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE||e.reportTitle===a.APPLICANTS_PERFORMANCE)&&Object(w.jsxs)("div",{className:"flex flex-wrap justify-starts items-center text-xs text-gray-800 font-medium gap-1 my-1",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Filter result: "}),!e.adminExamReport.reportDistrictId||e.reportTitle!==a.APPLICANTS_DISTRICT_PERFORMANCE&&e.reportTitle!==a.EXAM_DISTRICT_PERFORMANCE?Object(w.jsx)("span",{className:"px-2 py-1 rounded bg-gray-300",children:"# All district"}):Object(w.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-300",children:["# ",e.adminExamReport.reportDistrictId.district_name]}),e.adminExamReport.reportCourseId?e.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE&&Object(w.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-300",children:["#",e.adminExamReport.reportCourseId.course_name+" ("+e.adminExamReport.reportCourseId.course_code+")"]}):Object(w.jsx)("span",{className:"px-2 py-1 rounded bg-gray-300",children:"# All exams"})]})]})}),Object(w.jsx)("div",{className:"col-span-1 md:col-span-4",children:Object(w.jsxs)("div",{className:"float-right mt-3",children:[e.dataToPrint&&e.dataToPrint.length>0&&Object(w.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(w.jsx)(m.e,{className:"text-2xl text-gray-500"}),Object(w.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(w.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 focus:outline-none",onClick:function(){e.updateExamToPrint(),h(!0),e.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(w.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 focus:outline-none ".concat(e.downloading&&"cursor-wait"),onClick:function(){return e.downlaodPDF()},disabled:e.downloading,children:"PDF"})]}),Object(w.jsx)("div",{children:Object(w.jsxs)("div",{onClick:function(){return r(!0)},className:"bg-blue-50 py-2 px-2 border border-blue-300 text-blue-600 font-medium hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm float-right",children:[Object(w.jsx)(G.e,{className:"text-xl"}),"Change Report"]})}),Object(w.jsxs)("section",{className:"flex items-center gap-1 float-right mt-1",children:[(e.reportTitle===a.EXAM_DISTRICT_PERFORMANCE||e.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(w.jsxs)("div",{onClick:function(){return l(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(w.jsx)(m.g,{className:"text-xl"}),"Filter by district"]}),(e.reportTitle===a.APPLICANTS_PERFORMANCE||e.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(w.jsxs)("div",{onClick:function(){return g(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(w.jsx)(m.g,{className:"text-xl"}),"Filter by exam"]})]})]})})]}),x&&Object(w.jsx)(q.b,{modalFor:q.a.generateReportModal,modalState:x,changeModalState:h,reportTitle:e.reportTitle,setGenerateReportModal:e.setGenerateReportModal,excelReportTitle:e.excelReportTitle,setExcelReportTitle:e.setExcelReportTitle,updateExamToPrint:e.updateExamToPrint,generateReportModal:e.generateReportModal,examsToPrint:e.examsToPrint,examPreparationReportContent:e.examPreparationReportContent,setExamPreparationReportContent:e.setExamPreparationReportContent,examPerformanceToPrint:e.examPerformanceToPrint,examPerformanceReportContent:e.examPerformanceReportContent,setExamPerformanceReportContent:e.setExamPerformanceReportContent,exam30PerformanceToPrint:e.exam30PerformanceToPrint,exam30PerformanceReportContent:e.exam30PerformanceReportContent,setExam30PerformanceReportContent:e.setExam30PerformanceReportContent,examinationProgressToPrint:e.examinationProgressToPrint,examinationProgressReportContent:e.examinationProgressReportContent,setExaminationProgressExamPerformanceReportContent:e.setExaminationProgressExamPerformanceReportContent,candidateExamPerformanceToPrint:e.candidateExamPerformanceToPrint,candidateExamPerformanceReportContent:e.candidateExamPerformanceReportContent,setCandidateExamPerformanceReportContent:e.setCandidateExamPerformanceReportContent,candidate30ExamPerformanceToPrint:e.candidate30ExamPerformanceToPrint,candidate30ExamPerformanceReportContent:e.candidate30ExamPerformanceReportContent,setCandidate30ExamPerformanceReportContent:e.setCandidate30ExamPerformanceReportContent}),i&&Object(w.jsx)(q.b,{modalFor:q.a.title,modalState:i,reportTitle:e.reportTitle,changeModalState:r,setReportTitle:e.setReportTitle,setExcelReportTitle:e.setExcelReportTitle}),c&&Object(w.jsx)(q.b,{modalFor:q.a.choose_district,modalState:c,changeModalState:l,districtId:e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:"all",reportTitle:e.reportTitle}),f&&Object(B.loadExaminationProgress)(e.adminExamReport.DoneExam,e.examsList,e.schoolLevels.selectedEducationCategory,e.courses,e.schoolLevels.school_levels,e.thisPeriod)&&Object(w.jsx)(q.b,{modalFor:q.a.choose_exam,modalState:f,AllExamData:Object(B.loadExaminationProgress)(e.adminExamReport.DoneExam,e.examsList,e.schoolLevels.selectedEducationCategory,e.courses,e.schoolLevels.school_levels,e.thisPeriod).finished,changeModalState:g,thisExam:e.adminExamReport.reportCourseId})]})}))),X=function(e,t){return e.find((function(e){return e.course===t}))},Y=function(e,t){return e.find((function(e){return e._id===t}))},H=function(e,t){var s=e;return s=s&&t?s.filter((function(e){return e.period===(null===t||void 0===t?void 0:t._id)})):e};!function(e){e.APPLICANTS_PERFORMANCE="Exam report",e.EXAM_PREPARATION="List of prepared and not prepared exams",e.EXAM_PERFORMANCE="Exam performance",e.EXAMINATION_PROGRESS="List of complete & remaining exams",e.EXAM_DISTRICT_PERFORMANCE="Top 30 exams passed in",e.APPLICANTS_DISTRICT_PERFORMANCE="Top 30 applicants performance"}(a||(a={}));var V=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var i;return Object(o.a)(this,s),(i=t.call(this,e)).setLoading=function(e){i.setState({loading:e})},i.setLoadingCourses=function(e){i.setState({loadingCourses:e})},i.setLoadingExams=function(e){i.setState({loadingExams:e})},i.setDownloading=function(e){i.setState({downloading:e})},i.setLoadingDoneExam=function(e){i.setState({loadingDoneExam:e})},i.setLoadingCandidatesExamPerformance=function(e){i.setState({loadingCandidatesExamPerformance:e})},i.setLoadingExamPerformance=function(e){i.setState({loadingExamPerformance:e})},i.setLoadingSettings=function(e){i.setState({loadingSettings:e})},i.setSelectPeriod=function(e){i.setState({selectPeriod:e})},i.setDistrictModal=function(e){i.setState({districtModal:e})},i.setFilterPreparation=function(e){i.setState({filterPreparation:e})},i.setFilterExamProgress=function(e){i.setState({filterExamProgress:e})},i.setFilterApplicantPerformance=function(e){i.setState({filterApplicantPerformance:e})},i.setGenerateReportModal=function(e){i.setState({generateReportModal:e})},i.setSelectedPeriod=function(e){i.setState({selected_period:e})},i.setReportTitle=function(e){i.setState({reportTitle:e})},i.setExcelReportTitle=function(e){i.setState({excelReportTitle:e})},i.setExamsToPrint=function(e){i.setState({examsToPrint:e})},i.setExamPreparationReportContent=function(e){i.setState({examPreparationReportContent:e})},i.setExamPerformanceToPrint=function(e){i.setState({examPerformanceToPrint:e})},i.setExamPerformanceReportContent=function(e){i.setState({examPerformanceReportContent:e})},i.setExam30PerformanceToPrint=function(e){i.setState({exam30PerformanceToPrint:e})},i.setExam30PerformanceReportContent=function(e){i.setState({exam30PerformanceReportContent:e})},i.setExaminationProgressToPrint=function(e){i.setState({examinationProgressToPrint:e})},i.setExaminationProgressExamPerformanceReportContent=function(e){i.setState({examinationProgressReportContent:e})},i.setCandidateExamPerformanceToPrint=function(e){i.setState({candidateExamPerformanceToPrint:e})},i.setCandidateExamPerformanceReportContent=function(e){i.setState({candidateExamPerformanceReportContent:e})},i.setCandidate30ExamPerformanceToPrint=function(e){i.setState({candidate30ExamPerformanceToPrint:e})},i.setCandidate30ExamPerformanceReportContent=function(e){i.setState({candidate30ExamPerformanceReportContent:e})},i.selectDefaultSession=function(e){if(e.length>0){var t=e.find((function(e){return e.is_active}));i.setSelectedPeriod(t||e[0]),i.onPeriodChange(t?t._id:e[0]._id)}i.setSelectPeriod(!1)},i.FD_GetSessions=function(e){i.setSelectedPeriod(null),i.props.FC_GetAllSessionByInstitution(e,(function(e,t,s){i.setLoadingSettings(e),e||(Object(E.f)(t)||i.props.PushPopupAlert({title:t,theme:y.a.danger}),s&&s.length>0&&i.selectDefaultSession(s))}))},i.componentDidMount=function(){if(Object(N.d)(i.props.auth.education_institution_id)&&i.FD_GetSessions(i.props.auth.education_institution_id),null===i.props.schoolLevels.education_categories||i.props.schoolLevels.education_categories.length)i.props.loadEducationCategories((function(e,t){if(i.setLoadingSettings(e),!e&&t&&t.length>0)if(!1===Object(N.d)(i.props.auth.education_institution_id))i.props.setSelectedEducationCategory(t[0]),i.FD_GetSessions(t[0].education_institute_id);else{var s=t.find((function(e){return e.education_institute_id===i.props.auth.education_institution_id}));i.props.setSelectedEducationCategory(s||t[0])}}));else if(!i.props.schoolLevels.selectedEducationCategory)if(!1===Object(N.d)(i.props.auth.education_institution_id))i.props.setSelectedEducationCategory(i.props.schoolLevels.education_categories[0]),i.FD_GetSessions(i.props.schoolLevels.education_categories[0].education_institute_id);else{var e=i.props.schoolLevels.education_categories.find((function(e){return e.education_institute_id===i.props.auth.education_institution_id}));i.props.setSelectedEducationCategory(e||i.props.schoolLevels.education_categories[0])}if((null===i.props.schoolLevels.school_levels||i.props.schoolLevels.school_levels.length<=0)&&i.props.loadSchoolLevels(i.setLoadingSettings),null===i.props.courses||0===i.props.courses.length&&i.state.loadingCourses?i.props.loadCourses(i.setLoadingCourses):i.state.loadingCourses&&i.setLoadingCourses(!1),null===i.props.examsList||0===i.props.examsList.length&&i.state.loadingExams?i.props.loadExamsList(i.setLoadingExams):i.state.loadingExams&&i.setLoadingExams(!1),i.state.excelReportTitle===i.state.reportTitle){var t="";i.state.excelReportTitle===a.EXAM_DISTRICT_PERFORMANCE&&i.props.adminExamReport.reportDistrictId?t+=" ".concat(i.props.adminExamReport.reportDistrictId.district_name," district"):i.state.excelReportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE?(i.props.adminExamReport.reportDistrictId&&(t+=" in ".concat(i.props.adminExamReport.reportDistrictId.district_name," district")),i.props.adminExamReport.reportCourseId&&(t+=" in exam of ".concat(i.props.adminExamReport.reportCourseId.course_name,"(").concat(i.props.adminExamReport.reportCourseId.course_code,")"))):t="",i.setExcelReportTitle(i.state.excelReportTitle+t),i.setLoading(!1)}},i.onPeriodChange=function(e){i.props.loadDoneExam(e,(function(e,t){i.setLoadingDoneExam(e),e||(t.length>0&&i.props.PushPopupAlert({title:t,theme:y.a.danger}),i.setLoadingDoneExam(!1))})),i.props.loadPerfomranceExam(e,(function(e,t){i.setLoadingExamPerformance(e),e||(t.length>0&&i.props.PushPopupAlert({title:t,theme:y.a.danger}),i.setLoadingExamPerformance(!1))})),i.props.loadCandidatesExamPerformance({order:"desc",sortBy:j.Tb.DATE,filter:{period:e}},(function(e,t){e||(t.length>0&&i.props.PushPopupAlert({title:t,theme:y.a.danger}),i.setLoadingCandidatesExamPerformance(!1))}))},i.getLevelbyId=function(e){if(i.props.schoolLevels.school_levels)return i.props.schoolLevels.school_levels.find((function(t){return t.school_level_id===e}))},i.getCourses=function(){var e=[],t=!0;if(i.props.courses)if(i.props.schoolLevels.selectedEducationCategory){var s=function(t){Object.prototype.hasOwnProperty.call(i.props.courses,t)&&(i.props.courses[t].school_levels.length>0?i.props.courses[t].school_levels.forEach((function(s){var a=i.getLevelbyId(s);a&&(a.education_institute.includes(i.props.schoolLevels.selectedEducationCategory.education_institute_id)||a.education_institute.length<=0)&&e&&e.push(i.props.courses[t])})):e&&e.push(i.props.courses[t]))};for(var a in i.props.courses)s(a)}else t=!1;return t?e:i.props.courses},i.updateExamToPrint=function(){if(i.state.reportTitle===a.EXAM_PREPARATION&&H(i.props.examsList,i.state.selected_period)&&i.getCourses()&&i.props.periods.allSessionPlans){var e=Object(I.a)(i.getCourses(),H(i.props.examsList,i.state.selected_period)),t=[],s=1;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n="";e[r].school_levels.length?e[r].school_levels.forEach((function(e,t){var s=i.getLevelbyId(e);0===t?n=s?s.school_level_name:"":n+=s?", "+s.school_level_name:""})):n="Any level";var o={course_id:s,course_name:e[r].course_name,course_code:e[r].course_code,description:e[r].description,school_levels:e[r].school_levels.length?n:"Any",exam_period:e[r].exam&&Y(i.props.periods.allSessionPlans,e[r].exam.period)?Y(i.props.periods.allSessionPlans,e[r].exam.period).session_plan_name:"-",exam_date:e[r].exam?Object(N.a)(e[r].exam.exam_date):"-",exam_time:e[r].exam?e[r].exam.start_time:"-",exam_duration:e[r].exam?e[r].exam.duration.toString():"-",preparation_status:e[r].exam?"Prepared":"Not prepared"};for(var c in i.state.examPreparationReportContent)Object.prototype.hasOwnProperty.call(i.state.examPreparationReportContent,c)&&(i.state.examPreparationReportContent[c].status||delete o[i.state.examPreparationReportContent[c].key]);t.push(o),s++}i.setExamsToPrint(t),t=[],s=1}if(i.state.reportTitle===a.EXAM_PERFORMANCE&&H(i.props.examsList,i.state.selected_period)&&i.getCourses()&&i.props.adminExamReport.ExamPerformance&&i.props.periods.allSessionPlans){var l=Object(D.a)(i.getCourses(),H(i.props.examsList,i.state.selected_period),i.props.adminExamReport.ExamPerformance),d=[],p=1;for(var u in l)if(Object.prototype.hasOwnProperty.call(l,u)){var m="";l[u].school_levels.length?l[u].school_levels.forEach((function(e,t){var s=i.getLevelbyId(e);0===t?m=s?s.school_level_name:"":m+=s?", "+s.school_level_name:""})):m="Any level";var x={course_id:p,course_name:l[u].course_name,course_code:l[u].course_code,description:l[u].description,school_levels:l[u].school_levels.length?m:"Any",exam_period:l[u].exam&&Y(i.props.periods.allSessionPlans,l[u].exam.period)?Y(i.props.periods.allSessionPlans,l[u].exam.period).session_plan_name:"-",exam_date:l[u].exam?Object(N.a)(l[u].exam.exam_date):"-",exam_time:l[u].exam?l[u].exam.start_time:"-",exam_duration:l[u].exam?l[u].exam.duration.toString():"-",exam_performance:Number(l[u].exam_performance.toFixed(1))};for(var h in i.state.examPerformanceReportContent)Object.prototype.hasOwnProperty.call(i.state.examPerformanceReportContent,h)&&(i.state.examPerformanceReportContent[h].status||delete x[i.state.examPerformanceReportContent[h].key]);d.push(x),p++}i.setExamPerformanceToPrint(d),d=[],p=1}if(i.state.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&H(i.props.examsList,i.state.selected_period)&&i.getCourses()&&i.props.adminExamReport.DoneExam&&i.props.adminExamReport.CandidatesExamPerformance&&i.props.adminExamReport.reportDistrictId&&i.props.periods.allSessionPlans){var b=F(i.getCourses(),H(i.props.examsList,i.state.selected_period),i.props.adminExamReport.DoneExam,i.props.adminExamReport.CandidatesExamPerformance,i.props.adminExamReport.reportDistrictId.district_id).slice(0,30),j=[],f=1;for(var g in b)if(Object.prototype.hasOwnProperty.call(b,g)){var O="";b[g].school_levels.length?b[g].school_levels.forEach((function(e,t){var s=i.getLevelbyId(e);0===t?O=s?s.school_level_name:"":O+=s?", "+s.school_level_name:""})):O="Any level";var _={course_id:f,course_name:b[g].course_name,course_code:b[g].course_code,description:b[g].description,school_levels:b[g].school_levels.length?O:"Any",exam_period:b[g].exam&&Y(i.props.periods.allSessionPlans,b[g].exam.period)?Y(i.props.periods.allSessionPlans,b[g].exam.period).session_plan_name:"-",exam_date:b[g].exam?Object(N.a)(b[g].exam.exam_date):"-",exam_time:b[g].exam?b[g].exam.start_time:"-",exam_duration:b[g].exam?b[g].exam.duration.toString():"-",exam_performance:0};for(var v in i.state.exam30PerformanceReportContent)Object.prototype.hasOwnProperty.call(i.state.exam30PerformanceReportContent,v)&&(i.state.exam30PerformanceReportContent[v].status||delete _[i.state.exam30PerformanceReportContent[v].key]);j.push(_),f++}i.setExam30PerformanceToPrint(j),j=[],f=1}if(i.state.reportTitle===a.EXAMINATION_PROGRESS&&H(i.props.examsList,i.state.selected_period)&&i.getCourses()&&i.props.adminExamReport.DoneExam&&i.props.periods.allSessionPlans){var y=Object(S.a)(i.getCourses(),H(i.props.examsList,i.state.selected_period),i.props.adminExamReport.DoneExam),C=[],R=1;for(var w in y)if(Object.prototype.hasOwnProperty.call(y,w)){var A="";y[w].school_levels.length?y[w].school_levels.forEach((function(e,t){var s=i.getLevelbyId(e);0===t?A=s?s.school_level_name:"":A+=s?", "+s.school_level_name:""})):A="Any level";var k={course_id:R,course_name:y[w].course_name,course_code:y[w].course_code,description:y[w].description,school_levels:y[w].school_levels.length?A:"Any",exam_period:y[w].exam&&Y(i.props.periods.allSessionPlans,y[w].exam.period)?Y(i.props.periods.allSessionPlans,y[w].exam.period).session_plan_name:"-",exam_date:y[w].exam?Object(N.a)(y[w].exam.exam_date):"-",exam_time:y[w].exam?y[w].exam.start_time:"-",exam_duration:y[w].exam?y[w].exam.duration.toString():"-",exam_status:"Done"===y[w].preparation_status?"Completed":y[w].preparation_status};for(var M in i.state.examinationProgressReportContent)Object.prototype.hasOwnProperty.call(i.state.examinationProgressReportContent,M)&&(i.state.examinationProgressReportContent[M].status||delete k[i.state.examinationProgressReportContent[M].key]);C.push(k),R++}i.setExaminationProgressToPrint(C),C=[],R=1}if(i.state.reportTitle===a.APPLICANTS_PERFORMANCE&&i.getCourses()&&i.props.adminExamReport.CandidatesExamPerformance&&i.props.periods.allSessionPlans){var U=Object(T.a)(i.getCourses(),i.props.adminExamReport.CandidatesExamPerformance,i.props.adminExamReport.reportCourseId?i.props.adminExamReport.reportCourseId.course_id:"all"),W=[],q=1;for(var G in U)if(Object.prototype.hasOwnProperty.call(U,G)){var B="";U[G].school_levels.length?U[G].school_levels.forEach((function(e,t){var s=i.getLevelbyId(e);0===t?B=s?s.school_level_name:"":B+=s?", "+s.school_level_name:""})):B="Any level";var z={applicant_id:q,course_name:U[G].course_name,course_code:U[G].course_code,description:U[G].description,school_levels:U[G].school_levels.length?B:"Any",exam_period:Y(i.props.periods.allSessionPlans,U[G].exam.period)?Y(i.props.periods.allSessionPlans,U[G].exam.period).session_plan_name:"-",exam_date:Object(N.a)(U[G].exam.exam_date),exam_start_time:Object(N.r)(Number(U[G].exam.start_time)).timeAMPM,exam_end_time:Object(N.r)(Number(U[G].exam.end_time)).timeAMPM,performance_status:Object(E.a)(Object(S.d)(U[G].exam_stastus)),applicant_name:Object(E.a)(U[G].user_name),national_id:U[G].national_id,email:U[G].user_email,phone:U[G].user_phone,marks:U[G].exam_stastus!==P.i.Editing?Number(U[G].user_total_marks.toFixed(1))+"%":"-"};for(var X in i.state.candidateExamPerformanceReportContent)Object.prototype.hasOwnProperty.call(i.state.candidateExamPerformanceReportContent,X)&&(i.state.candidateExamPerformanceReportContent[X].status||delete z[i.state.candidateExamPerformanceReportContent[X].key]);W.push(z),q++}i.setCandidateExamPerformanceToPrint(W),W=[],q=1}if(i.state.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE&&i.getCourses()&&i.props.adminExamReport.CandidatesExamPerformance&&i.props.periods.allSessionPlans){var V=L(Object(T.a)(i.getCourses(),i.props.adminExamReport.CandidatesExamPerformance,i.props.adminExamReport.reportCourseId?i.props.adminExamReport.reportCourseId.course_id:"all"),i.props.adminExamReport.reportDistrictId?i.props.adminExamReport.reportDistrictId.district_id:null,i.props.adminExamReport.reportCourseId?i.props.adminExamReport.reportCourseId.course_id:null,i.state.filterApplicantPerformance).slice(0,30),K=[],Q=1;for(var J in V)if(Object.prototype.hasOwnProperty.call(V,J)){var Z="";V[J].school_levels.length?V[J].school_levels.forEach((function(e,t){var s=i.getLevelbyId(e);0===t?Z=s?s.school_level_name:"":Z+=s?", "+s.school_level_name:""})):Z="Any level";var $={applicant_id:Q,course_name:V[J].course_name,course_code:V[J].course_code,description:V[J].description,school_levels:V[J].school_levels.length?Z:"Any",exam_period:Y(i.props.periods.allSessionPlans,V[J].exam.period)?Y(i.props.periods.allSessionPlans,V[J].exam.period).session_plan_name:"-",exam_date:Object(N.a)(V[J].exam.exam_date),exam_start_time:Object(N.r)(Number(V[J].exam.start_time)).timeAMPM,exam_end_time:Object(N.r)(Number(V[J].exam.end_time)).timeAMPM,performance_status:Object(E.a)(Object(S.d)(V[J].exam_stastus)),applicant_name:Object(E.a)(V[J].user_name),national_id:V[J].national_id,email:V[J].user_email,phone:V[J].user_phone,marks:V[J].exam_stastus!==P.i.Editing?Number(V[J].user_total_marks.toFixed(1))+"%":"-"};for(var ee in i.state.candidate30ExamPerformanceReportContent)Object.prototype.hasOwnProperty.call(i.state.candidate30ExamPerformanceReportContent,ee)&&(i.state.candidate30ExamPerformanceReportContent[ee].status||delete $[i.state.candidate30ExamPerformanceReportContent[ee].key]);K.push($),Q++}i.setCandidate30ExamPerformanceToPrint(K),K=[],Q=1}},i.addToTitle=function(){var e="";return i.state.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&i.props.adminExamReport.reportDistrictId?e+=" ".concat(i.props.adminExamReport.reportDistrictId.district_name," district"):i.state.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE?(i.props.adminExamReport.reportDistrictId&&(e+=" in ".concat(i.props.adminExamReport.reportDistrictId.district_name," district")),i.props.adminExamReport.reportCourseId&&(e+=" in exam of ".concat(i.props.adminExamReport.reportCourseId.course_name,"(").concat(i.props.adminExamReport.reportCourseId.course_code,")"))):e="",e},i.downlaodPDF=Object(n.a)(r.a.mark((function e(){var t,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.querySelectorAll("#report_content tbody tr").length){e.next=3;break}return i.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:y.a.warning}),e.abrupt("return",!1);case 3:if(!i.state.selected_period){e.next=10;break}if(t=document.getElementById("report_content"),s={doneBy:i.props.auth.user.fname+" "+i.props.auth.user.lname,title:"Exam Report",subjectTitle:"Subject",subject:"".concat(i.state.reportTitle," ").concat(i.addToTitle()),period:i.state.selected_period.session_plan_name,footer:"Online Teacher Recruitment",institute:i.props.schoolLevels.selectedEducationCategory?i.props.schoolLevels.selectedEducationCategory.education_category_title:"All institute",orientation:i.state.reportTitle===a.APPLICANTS_PERFORMANCE||i.state.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE?"l":"p"},e.t0=t,!e.t0){e.next=10;break}return e.next=10,Object(g.a)(s,t,i.setDownloading);case 10:case"end":return e.stop()}}),e)}))),i.state={loading:!0,loadingCourses:!0,loadingExams:!0,downloading:!1,loadingDoneExam:!0,loadingCandidatesExamPerformance:!0,loadingExamPerformance:!0,loadingSettings:!0,selectPeriod:!1,districtModal:!1,filterPreparation:"all",filterExamProgress:"all",filterApplicantPerformance:"all",generateReportModal:null,selected_period:null,reportTitle:a.APPLICANTS_PERFORMANCE,excelReportTitle:a.APPLICANTS_PERFORMANCE,examsToPrint:null,examPreparationReportContent:I.c,examPerformanceToPrint:null,examPerformanceReportContent:D.c,exam30PerformanceToPrint:null,exam30PerformanceReportContent:D.c,examinationProgressToPrint:null,examinationProgressReportContent:S.c,candidateExamPerformanceToPrint:null,candidateExamPerformanceReportContent:T.f,candidate30ExamPerformanceToPrint:null,candidate30ExamPerformanceReportContent:T.f},i}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return this.state.loading||null===this.props.periods.allSessionPlans?Object(w.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."}):0===this.props.periods.allSessionPlans.length?Object(w.jsx)(C.a,{}):Object(w.jsxs)("div",{children:[Object(w.jsxs)(_.b,{children:[!1===Object(N.d)(this.props.auth.education_institution_id)&&Object(w.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(w.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===this.props.schoolLevels.education_categories?Object(w.jsx)(O.a,{}):0===this.props.schoolLevels.education_categories.length?Object(w.jsx)("span",{children:"No result found"}):this.props.schoolLevels.education_categories.map((function(t,s){return Object(w.jsxs)("div",{onClick:function(){e.props.setSelectedEducationCategory(t),e.FD_GetSessions(t.education_institute_id),e.updateExamToPrint()},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat(null!==e.props.schoolLevels.selectedEducationCategory&&e.props.schoolLevels.selectedEducationCategory.education_institute_id===t.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:[null!==e.props.schoolLevels.selectedEducationCategory&&e.props.schoolLevels.selectedEducationCategory.education_institute_id===t.education_institute_id?Object(w.jsx)(h.Cb,{}):Object(w.jsx)(h.Db,{}),Object(w.jsx)("span",{children:t.education_category_title})]},s+1)}))]}),Object(w.jsxs)("div",{className:"",children:[Object(w.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(w.jsxs)("div",{onClick:function(){return e.setSelectPeriod(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:[null!==this.state.selected_period?"".concat(Object(E.b)(this.state.selected_period.session_plan_name)):"Filter by period",Object(w.jsx)(x.e,{className:"text-lg text-blue-600"})]})]}),Object(w.jsx)(W,{reportTitle:this.state.reportTitle,filterPreparation:this.state.filterPreparation,setFilterPreparation:this.setFilterPreparation,filterExamProgress:this.state.filterExamProgress,setFilterExamProgress:this.setFilterExamProgress,filterApplicantPerformance:this.state.filterApplicantPerformance,setFilterApplicantPerformance:this.setFilterApplicantPerformance})]}),Object(w.jsx)(z,{downloading:this.state.downloading,dataToPrint:H(this.props.examsList,this.state.selected_period),downlaodPDF:this.downlaodPDF,reportTitle:this.state.reportTitle,setReportTitle:this.setReportTitle,setGenerateReportModal:this.setGenerateReportModal,generateReportModal:this.state.generateReportModal,excelReportTitle:this.state.excelReportTitle,setExcelReportTitle:this.setExcelReportTitle,updateExamToPrint:this.updateExamToPrint,examsToPrint:this.state.examsToPrint,examPreparationReportContent:this.state.examPreparationReportContent,setExamPreparationReportContent:this.setExamPreparationReportContent,examPerformanceToPrint:this.state.examPerformanceToPrint,examPerformanceReportContent:this.state.examPerformanceReportContent,setExamPerformanceReportContent:this.setExamPerformanceReportContent,exam30PerformanceToPrint:this.state.exam30PerformanceToPrint,exam30PerformanceReportContent:this.state.exam30PerformanceReportContent,setExam30PerformanceReportContent:this.setExam30PerformanceReportContent,examinationProgressToPrint:this.state.examinationProgressToPrint,examinationProgressReportContent:this.state.examinationProgressReportContent,setExaminationProgressExamPerformanceReportContent:this.setExaminationProgressExamPerformanceReportContent,candidateExamPerformanceToPrint:this.state.candidateExamPerformanceToPrint,candidateExamPerformanceReportContent:this.state.candidateExamPerformanceReportContent,setCandidateExamPerformanceReportContent:this.setCandidateExamPerformanceReportContent,candidate30ExamPerformanceToPrint:this.state.candidate30ExamPerformanceToPrint,candidate30ExamPerformanceReportContent:this.state.candidate30ExamPerformanceReportContent,setCandidate30ExamPerformanceReportContent:this.setCandidate30ExamPerformanceReportContent,thisPeriod:this.state.selected_period?this.state.selected_period._id:""}),this.state.reportTitle===a.EXAM_PREPARATION&&this.props.periods.allSessionPlans&&Object(w.jsx)(I.b,{loading:this.state.loadingExams||this.state.loadingCourses||this.state.loadingDoneExam,examsListData:H(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,filterPreparation:this.state.filterPreparation}),this.state.reportTitle===a.EXAMINATION_PROGRESS&&this.props.periods.allSessionPlans&&Object(w.jsx)(S.b,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingDoneExam),examsListData:H(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,doneExamsData:this.props.adminExamReport.DoneExam,filterExamProgress:this.state.filterExamProgress}),this.state.reportTitle===a.EXAM_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(w.jsx)(D.b,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingExamPerformance),examsListData:H(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,examsPerformanceData:this.props.adminExamReport.ExamPerformance}),this.state.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&this.props.periods.allSessionPlans&&this.props.adminExamReport.reportDistrictId?Object(w.jsx)(M,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:H(this.props.examsList,this.state.selected_period),doneExamsData:this.props.adminExamReport.DoneExam,courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,thisDistrict:this.props.adminExamReport.reportDistrictId}):this.state.reportTitle===a.EXAM_DISTRICT_PERFORMANCE&&Object(w.jsx)(v.b,{theme:v.a.Light,value:"Select district to view data",component:Object(w.jsxs)("div",{onClick:function(){return e.setDistrictModal(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(w.jsx)(m.g,{className:"text-xl"}),"Filter by district"]})}),this.state.reportTitle===a.APPLICANTS_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(w.jsx)(T.e,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:H(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,filterApplicantPerformance:this.state.filterApplicantPerformance}),this.state.reportTitle===a.APPLICANTS_DISTRICT_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(w.jsx)(A,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:H(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,filterApplicantPerformance:this.state.filterApplicantPerformance}),this.state.districtModal&&Object(w.jsx)(q.b,{modalFor:q.a.choose_district,modalState:this.state.districtModal,changeModalState:this.setDistrictModal,districtId:this.props.adminExamReport.reportDistrictId?this.props.adminExamReport.reportDistrictId.district_id:"all",reportTitle:this.state.reportTitle}),Object(w.jsx)(q.b,{modalState:this.state.selectPeriod,changeModalState:this.setSelectPeriod,applicationPeriods:this.props.periods.allSessionPlans,selected_period:this.state.selected_period,setSelectedPeriod:this.setSelectedPeriod,onPeriodChange:this.onPeriodChange,modalFor:q.a.period})]})}}]),s}(p.Component),K=Object(b.b)((function(e){var t=e.auth,s=e.sessionPlan,a=e.schoolLevels,i=e.course,r=e.prepareExam,n=e.adminExamReport;return{auth:t,periods:s,schoolLevels:a,courses:i.courses,examsList:r.examsList,adminExamReport:n}}),{setSelectedPeriod:j.jd,loadCourses:j.Fc,loadExamsList:j.Kc,FC_GetAllSessionByInstitution:f.b,loadEducationCategories:j.Hc,loadDoneExam:j.Gc,loadSchoolLevels:j.Pc,loadPerfomranceExam:j.Mc,loadCandidatesExamPerformance:j.Ec,setSelectedEducationCategory:j.fd,PushPopupAlert:j.Qb})(V)},691:function(e,t,s){"use strict";s(4);var a=s(716),i=s(717),r=s(34),n=s(1);t.a=function(e){var t=e.fileData,s=e.fileName,o=e.btnName,c=void 0===o?"Excel":o,l=e.className,d=void 0===l?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":l,p=e.showIcon,u=void 0===p||p;return Object(n.jsxs)("button",{onClick:function(e){return function(e,t){var s={Sheets:{data:i.utils.json_to_sheet(e)},SheetNames:["data"]},r=i.write(s,{bookType:"xlsx",type:"array"}),n=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});a.saveAs(n,t+".xlsx")}(t,s)},className:d,children:[u&&Object(n.jsx)(r.j,{}),c]})}},692:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var a=s(5),i=s.n(a),r=s(7),n=s(709),o=s(28),c=s.p+"static/media/mineduc.11a9ae1c.png";s(715);var l=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var s=1;s<=t;s++)e.setPage(s),e.text("Page "+String(s)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},d=function(){var e=Object(r.a)(i.a.mark((function e(t,s,a){var r,d,p,u,m,x,h,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a(!0),r=t.orientation?t.orientation:"p",d=20,20,185,(p=new n.default(r,"mm","a4")).setTextColor(95,95,95),p.setFontSize(28),p.addImage(c,"png",20,20,10,10),p.text("MINEDUC",32,28.5,void 0,"left"),p.setFontSize(26),p.text(t.title,p.internal.pageSize.getWidth()/2,42.7,void 0,"center"),p.setFontSize(20),p.text(t.institute,p.internal.pageSize.getWidth()/2,53.7,void 0,"center"),u=p.splitTextToSize(t.subject,145),p.setFontSize(16),m=63,p.setTextColor(95,95,95),p.text("".concat(t.subjectTitle,": "),d,m),x=p.getTextWidth("".concat(t.subjectTitle,": ")),p.setTextColor(38,38,38),h=0;h<u.length;h++)m>280&&(m=10,p.addPage()),p.text(u[h],d+x,m),m+=7;return p.setTextColor(95,95,95),p.text("Period: ",d,m+3),x=p.getTextWidth("Period: "),p.setTextColor(38,38,38),p.text(t.period,d+x,m+3),p.autoTable({html:s,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),p.setFontSize(12),b=p.lastAutoTable.finalY,p.text("Reported by: ".concat(t.doneBy),d,b+15),p.text("Report downloaded on "+Object(o.a)((new Date).toString()),d,b+23),l(p),e.next=35,p.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"),{returnPromise:!0}).then(a(!1));case 35:case"end":return e.stop()}}),e)})));return function(t,s,a){return e.apply(this,arguments)}}()},698:function(e,t,s){"use strict";var a=s(17),i=s(11),r=s(18),n=s(4),o=s.n(n),c=s(12),l=s(33),d=s(9),p=s(28),u=s(48),m=s(1),x=function(e){var t,s=new Date,a=[],n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,c=new Date(o.start_date),l=new Date(o.end_date);c.getTime()<=s.getTime()&&l.getTime()>=s.getTime()&&o.type_status===d.j.OPEN&&(a=[].concat(Object(i.a)(a),[o]))}}catch(p){n.e(p)}finally{n.f()}return a},h=function(e){var t,s,i=Object(n.useState)(null),r=Object(a.a)(i,2),o=r[0],d=r[1],h=Object(n.useState)(""),b=Object(a.a)(h,2),j=b[0],f=b[1];return Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("div",{className:"px-3",children:Object(m.jsx)("input",{onChange:function(e){return f(e.target.value)},type:"text",className:"py-3 px-4 w-full rounded border border-gray-400 mb-3",placeholder:"Search by year, name",disabled:null===e.allSession||0===e.allSession.length})}),Object(m.jsx)("div",{className:"bg-gray-100 px-3 pt-3 pb-2 rounded-b",children:null===e.allSession?Object(m.jsx)(l.a,{}):0===e.allSession.length?Object(m.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center mb-2 bg-white py-4",children:[Object(m.jsx)(c.Nb,{className:"text-6xl"}),Object(m.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(m.jsx)("span",{children:"No session found!"})})]}):Object(m.jsxs)("section",{children:[e.chooseAll&&Object(m.jsxs)("div",{className:"rounded border ".concat("all"===e.currentSelected?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2 flex flex-col md:flex-row items-start md:items-center md:justify-between"),children:[Object(m.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"===e.currentSelected?Object(m.jsx)(c.u,{className:"text-blue-500 text-4xl"}):Object(m.jsx)(c.Db,{className:"text-gray-300 text-4xl"}),Object(m.jsx)("div",{className:"flex flex-col",children:Object(m.jsx)("div",{className:"text-gray-600 font-bold",children:"All session"})})]}),Object(m.jsx)("div",{onClick:function(){e.setSelectSession("all")},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"})]}),(t=e.allSession,s=j,Object(u.a)(t,s)).map((function(t,s){return Object(m.jsxs)("div",{className:"rounded border ".concat("all"!==e.currentSelected&&e.currentSelected._id===t._id?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2"),children:[Object(m.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between ",children:[Object(m.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"!==e.currentSelected&&e.currentSelected._id===t._id?Object(m.jsx)(c.u,{className:"text-blue-500 text-4xl"}):Object(m.jsx)(c.Db,{className:"text-gray-300 text-4xl"}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"".concat("all"!==e.currentSelected&&e.currentSelected._id===t._id?"text-blue-600":"text-gray-600"," font-bold"),children:t.session_plan_name}),Object(m.jsxs)("div",{className:"text-sm text-gray-500",children:[Object(m.jsx)("span",{children:"Status: "}),Object(m.jsx)("span",{className:"".concat(!0===t.is_active?"text-gray-900 font-bold underline":"text-gray-500 italic"),children:!0===t.is_active?"Active":"Expired"})]})]})]}),Object(m.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(null===o||o._id!==t._id)&&Object(m.jsx)("div",{onClick:function(){return d(t)},className:"bg-gray-50 group-hover:bg-blue-100 font-semibold text-gray-400 group-hover:text-blue-600 rounded px-3 py-2 cursor-pointer",children:"Details"}),Object(m.jsx)("div",{onClick:function(){e.setSelectSession(t)},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"}),null!==o&&o._id===t._id&&Object(m.jsx)("div",{onClick:function(){return d(null)},className:"bg-red-100 group-hover:bg-red-200 font-semibold text-red-600 group-hover:text-red-800 rounded px-3 py-2 cursor-pointer",children:"Close"})]})]}),null!==o&&o._id===t._id&&Object(m.jsx)("div",{className:"bg-white rounded border border-blue-50 mt-2 animate__animated animate__fadeIn",children:Object(m.jsxs)("table",{className:"w-full",children:[Object(m.jsx)("thead",{className:"bg-blue-50",children:Object(m.jsxs)("tr",{className:"text-left",children:[Object(m.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(m.jsx)("th",{children:"Plan"}),Object(m.jsx)("th",{children:"Start date"}),Object(m.jsx)("th",{children:"Ending date"}),Object(m.jsx)("th",{children:"Status"})]})}),Object(m.jsx)("tbody",{className:"text-sm",children:null!==o&&o._id===t._id&&o.plans.length>0&&t.plans.map((function(e,s){return Object(m.jsxs)("tr",{className:"".concat(void 0!==x(t.plans).find((function(t){return t.type_key===e.type_key}))?"bg-blue-100 text-blue-600 font-bold":""," text-left border-b border-blue-50"),children:[Object(m.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(m.jsx)("td",{children:e.type_title}),Object(m.jsx)("td",{children:Object(p.a)(e.start_date,"DD/MM/YYYY")}),Object(m.jsx)("td",{children:Object(p.a)(e.end_date,"DD/MM/YYYY")}),Object(m.jsx)("td",{children:e.type_status})]},s+1)}))})]})})]},s+1)}))]})})]})};t.a=o.a.memo(h)},699:function(e,t,s){"use strict";s.d(t,"c",(function(){return b})),s.d(t,"f",(function(){return j})),s.d(t,"a",(function(){return f})),s.d(t,"b",(function(){return g})),s.d(t,"g",(function(){return O})),s.d(t,"d",(function(){return _}));var a,i=s(17),r=s(4),n=s.n(r),o=s(72),c=s(23),l=s(33),d=s(209),p=s(32),u=s(28),m=s(686),x=s(690),h=s(1);!function(e){e.APPLICANT="applicant_name",e.N_ID="national_id",e.EMAIL="email",e.PHONE="phone",e.MARKS="marks",e.STATUS="performance_status",e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.START_TIME="exam_start_time",e.END_TIME="exam_end_time"}(a||(a={}));var b=function(e){return e!==a.COURSER_NAME&&e!==a.COURSE_CODE&&e!==a.PERIOD&&e!==a.APPLICANT&&e!==a.N_ID},j=[{key:a.APPLICANT,title:"Applicant names",status:!0},{key:a.N_ID,title:"National ID",status:!0},{key:a.EMAIL,title:"Email",status:!0},{key:a.PHONE,title:"Phone",status:!0},{key:a.MARKS,title:"Marks",status:!0},{key:a.COURSER_NAME,title:"Course names",status:!0},{key:a.COURSE_CODE,title:"Course code",status:!0},{key:a.SCHOOL_LEVEL,title:"School levels",status:!0},{key:a.PERIOD,title:"Exam period",status:!0},{key:a.DATE,title:"Exam date",status:!0},{key:a.START_TIME,title:"Exam start time",status:!0},{key:a.END_TIME,title:"Exam end time",status:!0},{key:a.STATUS,title:"Status",status:!0}],f=function(e,t,s){var a=[],i=[],r=function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!i.includes(t[s]._id)){i.push(t[s]._id);var r=e.find((function(e){return e.course_id===t[s].course}));r&&a.push({user_id:t[s].user.user_id,user_name:Object(p.a)(t[s].user.user_info.lname)+" "+Object(p.a)(t[s].user.user_info.fname),national_id:t[s].user.n_id?t[s].user.n_id:"",user_email:t[s].user.email,user_phone:t[s].user.phone_number,course_name:r.course_name,course_code:r.course_code,description:r.description,school_levels:r.school_levels,course_id:r.course_id,exam:t[s],user_total_marks:t[s].total_marks,exam_stastus:t[s].user_status})}};for(var n in t)r(n);return"all"!==s&&(a=a.filter((function(e){return e.course_id===s}))),a},g=function(e,t){return"all"===t?e:e.filter((function(e){return e.exam_stastus===t}))},O=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var a in e)if(s=!1,"course_name"!==a&&"course_code"!==a&&"user_total_marks"!==a&&"exam_stastus"!==a&&"description"!==a&&"user_name"!==a&&"user_phone"!==a&&"user_email"!==a&&"national_id"!==a||(s=e[a].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},_=function(e){return"Done"===e?"bg-blue-50 border-gray-300 hover:border-blue-500 border-t border-b":"Removed"===e?"bg-white border-red-300 hover:border-red-500 border-t border-b":"Paused"===e?"bg-white border-yellow-300 hover:border-yellow-500 border-t border-b":"bg-white border-gray-300 hover:border-blue-500 border-t border-b"};t.e=n.a.memo(Object(c.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(r.useState)(""),s=Object(i.a)(t,2),a=s[0],n=s[1],c=Object(r.useState)(!1),b=Object(i.a)(c,2),j=b[0],v=b[1],P=Object(r.useState)(""),y=Object(i.a)(P,2),E=y[0],N=y[1],C=Object(r.useState)("ASC"),R=Object(i.a)(C,2),T=R[0],S=R[1],w=function(e){E===e&&"ASC"===T?(S("DESC"),N(e),v(!0)):(S("ASC"),N(e),v(!0))};return Object(h.jsx)(r.Fragment,{children:Object(h.jsxs)("div",{className:"bg-white my-4",children:[Object(h.jsx)("div",{className:"w-full px-2 py-2",children:Object(h.jsx)("input",{onChange:function(e){return n(e.target.value)},type:"text",value:a,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.candidatePerformanceData&&g(f(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance).length<=0)})}),Object(h.jsx)("div",{className:"w-full overflow-x-auto",children:Object(h.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(h.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(h.jsx)("td",{className:"px-2 py-2",onClick:function(){return w("user_name")},children:"Applicants"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Email"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(h.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return w("course_name")},children:Object(h.jsxs)("div",{className:"flex items-center gap-1",children:["Exam ",Object(h.jsx)(o.j,{})]})}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam period"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam start time"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam end time"}),Object(h.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return w("user_total_marks")},children:Object(h.jsxs)("div",{className:"flex items-center gap-1",children:["Marks ",Object(h.jsx)(o.j,{})]})}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(h.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:12,className:"px-2 py-2",children:Object(h.jsx)(l.a,{})})}):e.candidatePerformanceData&&g(f(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance).length<=0?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:12,className:"px-2 py-2 text-center",children:"No applicant list available!"})}):e.candidatePerformanceData&&Object(u.q)(j,O(g(f(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance),a),E,T).map((function(t,s){return Object(h.jsxs)("tr",{className:"".concat(_(t.exam_stastus)," text-gray-600 hover:bg-blue-100 hover:text-blue-700 text-sm"),children:[Object(h.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(h.jsx)("td",{className:"px-2 py-2",children:Object(p.a)(t.user_name)}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.national_id}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.user_email}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.user_phone}),Object(h.jsxs)("td",{className:"px-2 py-2",children:[Object(p.a)(t.course_name)," (",Object(h.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(x.getPeriodById)(e.thisPeriod,t.exam.period)?Object(x.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.exam_date?Object(u.a)(t.exam.exam_date):"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.start_time?Object(u.r)(t.exam.start_time).timeAMPM:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.end_time?Object(u.r)(t.exam.end_time).timeAMPM:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam_stastus!==d.a.Editing?Number(t.user_total_marks.toFixed(1))+"%":"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:Object(p.a)(Object(m.d)(t.exam_stastus))})]},s+1)}))})]})})]})})})))},700:function(e,t,s){"use strict";var a=s(17),i=s(4),r=s.n(i),n=s(729),o=s.n(n),c=s(1),l={borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},d=function(e){var t=Object(i.useState)(!0),s=Object(a.a)(t,2),r=s[0],n=s[1],d=Object(i.useState)({chart:{events:{dataPointSelection:function(t,s,a){console.log({labelClicked:a.w.config.labels[a.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(a.dataPointIndex,a.seriesIndex)}},stacked:!!e.stacked&&e.stacked},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"}}),p=Object(a.a)(d,2),u=p[0],m=p[1];return Object(i.useEffect)((function(){e.colors&&e.colors.length>0&&r?m({chart:{stacked:!!e.stacked&&e.stacked,events:{dataPointSelection:function(t,s,a){console.log({chartClicked:a.w.config.labels[a.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(a.dataPointIndex,a.seriesIndex)}},zoom:{enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"},colors:e.colors}):r&&m({chart:{stacked:!!e.stacked&&e.stacked,events:{dataPointSelection:function(t,s,a){console.log({labelClicked:a.w.config.labels[a.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(a.dataPointIndex,a.seriesIndex)}},zoom:{enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"}}),n(!1)}),[r,u,e]),r?Object(c.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):Object(c.jsx)("div",{className:"w-full",children:Object(c.jsx)(o.a,{options:u,series:e.series,type:"bar",width:"100%",height:e.chartHeight?e.chartHeight:void 0})})};t.a=r.a.memo(d)},701:function(e,t,s){"use strict";s.d(t,"c",(function(){return m})),s.d(t,"d",(function(){return x})),s.d(t,"a",(function(){return h})),s.d(t,"e",(function(){return j}));var a,i=s(17),r=s(4),n=s.n(r),o=s(72),c=s(33),l=s(32),d=s(28),p=s(690),u=s(1);!function(e){e.course_name="course_name",e.course_code="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.STATUS="preparation_status"}(a||(a={}));var m=[{key:a.course_name,title:"Course names",status:!0},{key:a.course_code,title:"Course code",status:!0},{key:a.SCHOOL_LEVEL,title:"School levels",status:!0},{key:a.PERIOD,title:"Exam period",status:!0},{key:a.DATE,title:"Exam date",status:!0},{key:a.TIME,title:"Exam time",status:!0},{key:a.DURATION,title:"Exam duration",status:!0},{key:a.STATUS,title:"Exam status",status:!0}],x=function(e){return e!==a.course_name&&e!==a.course_code},h=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=[],i=[],r=function(r){if(Object.prototype.hasOwnProperty.call(e,r)){if(i.includes(e[r].course_id))return"continue";i.push(e[r].course_id);var n=Object(l.f)(s)?t.find((function(t){return t.course===e[r].course_id})):t.find((function(t){return t.course===e[r].course_id&&t.period===s}));n?a.push({course_name:e[r].course_name,course_code:e[r].course_code,description:e[r].description,school_levels:e[r].school_levels,course_id:e[r].course_id,exam:n,preparation_status:"prepared"}):a.push({course_name:e[r].course_name,course_code:e[r].course_code,description:e[r].description,school_levels:e[r].school_levels,course_id:e[r].course_id,exam:null,preparation_status:"not prepared"})}};for(var n in e)r(n);return a},b=function(e,t){return"all"===t?e:e.filter((function(e){return e.preparation_status===t}))},j=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var a in e)if(s=!1,"course_name"!==a&&"course_code"!==a&&"preparation_status"!==a||(s=e[a].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},f=function(e){var t=Object(r.useState)(""),s=Object(i.a)(t,2),a=s[0],n=s[1],m=Object(r.useState)(!1),x=Object(i.a)(m,2),f=x[0],g=x[1],O=Object(r.useState)(""),_=Object(i.a)(O,2),v=_[0],P=_[1],y=Object(r.useState)("ASC"),E=Object(i.a)(y,2),N=E[0],C=E[1],R=function(e){v===e&&"ASC"===N?(C("DESC"),P(e),g(!0)):(C("ASC"),P(e),g(!0))};return Object(u.jsx)(r.Fragment,{children:Object(u.jsxs)("div",{className:"bg-white my-4",children:[Object(u.jsx)("div",{className:"w-full px-2 py-2",children:e.courseListData&&e.examsListData&&Object(u.jsx)("input",{onChange:function(e){return n(e.target.value)},type:"text",value:a,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:b(h(e.courseListData,e.examsListData),e.filterPreparation).length<=0})}),Object(u.jsx)("div",{className:"w-full overflow-x-auto",children:Object(u.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(u.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("course_name")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(u.jsx)(o.j,{})]})}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Created at"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("preparation_status")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Exam Status ",Object(u.jsx)(o.j,{})]})})]})}),Object(u.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:8,className:"px-2 py-2",children:Object(u.jsx)(c.a,{})})}):e.courseListData&&e.examsListData&&b(h(e.courseListData,e.examsListData),e.filterPreparation).length<=0?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:8,className:"px-2 py-2 text-center",children:"No course for exam found"})}):e.examsListData&&Object(d.q)(f,j(b(h(e.courseListData,e.examsListData),e.filterPreparation),a),v,N).map((function(t,s){return Object(u.jsxs)("tr",{className:"".concat(t.exam?"bg-blue-50":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(u.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(u.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(t.course_name)," (",Object(u.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.exam_date):"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(p.getPeriodById)(e.thisPeriod,t.exam.period)?Object(p.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.createdAt):"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:Object(l.a)(t.exam?"Prepared":"Not prepared")})]},s+1)}))})]})})]})})};t.b=n.a.memo(f)},705:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a,i=s(17),r=s(4),n=s.n(r),o=s(125),c=s(12),l=s(23),d=s(3),p=s(205),u=s(33),m=s(19),x=s(32),h=s(691),b=s(698),j=s(713),f=s(699),g=s(686),O=s(701),_=s(721),v=s(690),P=s(1),y=function(e){var t,s=[],a=[],i=e.length;for(t=0;t<i;t++)s.includes(e[t].district_id)||(s.push(e[t].district_id),a.push(e[t]));return a};!function(e){e.title="TITLE",e.period="PERIOD",e.generateReportModal="GENERATE REPORT",e.choose_exam="Choosing Exam",e.choose_district="Choosing District"}(a||(a={}));t.b=n.a.memo(Object(l.b)((function(e){return{locations:e.locations.roomLocation}}),{getAllRoom:p.q,SetReportDistrictId:d.Xb,SetReportCourseId:d.Wb})((function(e){var t=Object(r.useState)(null),s=Object(i.a)(t,2),n=s[0],l=s[1],d=Object(r.useState)(!0),p=Object(i.a)(d,2),E=p[0],N=p[1],C=Object(r.useState)(""),R=Object(i.a)(C,2),T=R[0],S=R[1],w=Object(r.useState)(!0),L=Object(i.a)(w,2),A=L[0],I=L[1],D=Object(r.useState)(null),k=Object(i.a)(D,2),F=k[0],M=k[1],U=Object(r.useState)(e.districtId?e.districtId:"all"),W=Object(i.a)(U,2),q=W[0],G=W[1],B=function(t){return e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION?Object(O.d)(t):!e.reportTitle||e.reportTitle!==v.reportTitleType.EXAM_PERFORMANCE&&e.reportTitle!==v.reportTitleType.EXAM_DISTRICT_PERFORMANCE?e.reportTitle&&e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS?Object(g.e)(t):!(!e.reportTitle||e.reportTitle!==v.reportTitleType.APPLICANTS_PERFORMANCE&&e.reportTitle!==v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(f.c)(t):Object(_.d)(t)},z=function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.examPerformanceReportContent){var s=e.examPerformanceReportContent.findIndex((function(e){return e.key===t})),a=e.examPerformanceReportContent;a[s].status=!a[s].status,e.setExamPerformanceReportContent&&e.setExamPerformanceReportContent(a);var i=a.find((function(e){return!1===e.status}));N(!i),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.exam30PerformanceReportContent){var r=e.exam30PerformanceReportContent.findIndex((function(e){return e.key===t})),n=e.exam30PerformanceReportContent;n[r].status=!n[r].status,e.setExam30PerformanceReportContent&&e.setExam30PerformanceReportContent(n);var o=n.find((function(e){return!1===e.status}));N(!o),e.updateExamToPrint&&e.updateExamToPrint()}},X=function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.candidateExamPerformanceReportContent){var s=e.candidateExamPerformanceReportContent.findIndex((function(e){return e.key===t})),a=e.candidateExamPerformanceReportContent;a[s].status=!a[s].status,e.setCandidateExamPerformanceReportContent&&e.setCandidateExamPerformanceReportContent(a);var i=a.find((function(e){return!1===e.status}));N(!i),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.candidate30ExamPerformanceReportContent){var r=e.candidate30ExamPerformanceReportContent.findIndex((function(e){return e.key===t})),n=e.candidate30ExamPerformanceReportContent;n[r].status=!n[r].status,e.setCandidate30ExamPerformanceReportContent&&e.setCandidate30ExamPerformanceReportContent(n);var o=n.find((function(e){return!1===e.status}));N(!o),e.updateExamToPrint&&e.updateExamToPrint()}};Object(r.useEffect)((function(){e.locations.length||e.modalFor!==a.choose_district?I(!1):e.getAllRoom((function(e,t){!e&&t.length>0&&console.error(t),I(e)}))}),[e]);var Y=function(){if(e.reportTitle){if(e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&e.excelReportTitle&&e.examsToPrint)return{status:!0,data:e.examsToPrint};if(e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.excelReportTitle&&e.examPerformanceToPrint)return{status:!0,data:e.examPerformanceToPrint};if(e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.excelReportTitle&&e.exam30PerformanceToPrint)return{status:!0,data:e.exam30PerformanceToPrint};if(e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&e.excelReportTitle&&e.examinationProgressToPrint)return{status:!0,data:e.examinationProgressToPrint};if(e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.excelReportTitle&&e.candidateExamPerformanceToPrint)return{status:!0,data:e.candidateExamPerformanceToPrint};if(e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.excelReportTitle&&e.candidate30ExamPerformanceToPrint)return{status:!0,data:e.candidate30ExamPerformanceToPrint}}return{status:!1,data:[]}};return Object(P.jsxs)("div",{children:[e.modalFor===a.period&&e.applicationPeriods&&e.modalState&&Object(P.jsx)(m.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(c.Q,{className:"text-5xl text-blue-600"}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose a period"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.selected_period&&e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(P.jsx)(b.a,{allSession:e.applicationPeriods,setSelectSession:function(t){"all"!==t&&(e.setSelectedPeriod&&e.setSelectedPeriod(t),e.onPeriodChange&&e.onPeriodChange(t._id),e.changeModalState(!1))},chooseAll:!1,currentSelected:e.selected_period?e.selected_period:"all"})}),e.modalFor===a.title&&e.modalState&&Object(P.jsx)(m.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(o.e,{className:"text-5xl text-blue-600"}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose exam report type"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(P.jsx)("div",{className:"px-2 pb-2",children:Object.values(v.reportTitleType).map((function(t,s){return Object(P.jsxs)("div",{onClick:function(){e.setReportTitle&&e.setReportTitle(t),e.setExcelReportTitle&&e.setExcelReportTitle(t),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(e.reportTitle&&e.reportTitle===t?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"text-blue-500 text-sm font-medium italic",children:"Report type"}),Object(P.jsxs)("div",{className:"font-bold",children:[t,t===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&" district"]})]}),Object(P.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]},s+1)}))})}),e.generateReportModal&&e.modalFor===a.generateReportModal&&e.modalState&&Object(P.jsx)(m.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(P.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",e.generateReportModal.reportType," Report"]})]})}),backDrop:!0,theme:m.c.default,close:function(){return e.setGenerateReportModal&&e.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:m.b.medium,displayClose:!0,padding:{title:!0},children:Object(P.jsxs)("div",{className:"px-6",children:[Object(P.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"Title"}),Object(P.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(n&&"report_title"===n.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:e.excelReportTitle?e.excelReportTitle:"",onChange:function(t){e.setExcelReportTitle&&e.setExcelReportTitle(t.target.value),l(null)}}),n&&"report_title"===n.element&&Object(P.jsx)("span",{className:"text-red-500",children:n.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(P.jsx)("label",{children:"Report content"}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examPreparationReportContent&&e.examPreparationReportContent.map((function(t,s){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(B(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return B(t.key)&&function(t){if(e.examPreparationReportContent){var s=e.examPreparationReportContent.findIndex((function(e){return e.key===t})),a=e.examPreparationReportContent;a[s].status=!a[s].status,e.setExamPreparationReportContent&&e.setExamPreparationReportContent(a);var i=a.find((function(e){return!1===e.status}));N(!i),e.updateExamToPrint&&e.updateExamToPrint()}}(t.key)},title:B(t.key)?"":"Required for every report!",children:[t.status?Object(P.jsx)(c.s,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.t,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:t.title})]},s)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examPerformanceReportContent&&e.examPerformanceReportContent.map((function(e,t){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(B(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return B(e.key)&&z(e.key)},title:B(e.key)?"":"Required for every report!",children:[e.status?Object(P.jsx)(c.s,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.t,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.exam30PerformanceReportContent&&e.exam30PerformanceReportContent.map((function(e,t){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(B(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return B(e.key)&&z(e.key)},title:B(e.key)?"":"Required for every report!",children:[e.status?Object(P.jsx)(c.s,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.t,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examinationProgressReportContent&&e.examinationProgressReportContent.map((function(t,s){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(B(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return B(t.key)&&function(t){if(e.examinationProgressReportContent){var s=e.examinationProgressReportContent.findIndex((function(e){return e.key===t})),a=e.examinationProgressReportContent;a[s].status=!a[s].status,e.setExaminationProgressExamPerformanceReportContent&&e.setExaminationProgressExamPerformanceReportContent(a);var i=a.find((function(e){return!1===e.status}));N(!i),e.updateExamToPrint&&e.updateExamToPrint()}}(t.key)},title:B(t.key)?"":"Required for every report!",children:[t.status?Object(P.jsx)(c.s,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.t,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:t.title})]},s)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.candidateExamPerformanceReportContent&&e.candidateExamPerformanceReportContent.map((function(e,t){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(B(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return B(e.key)&&X(e.key)},title:B(e.key)?"":"Required for every report!",children:[e.status?Object(P.jsx)(c.s,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.t,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.candidate30ExamPerformanceReportContent&&e.candidate30ExamPerformanceReportContent.map((function(e,t){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(B(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return B(e.key)&&X(e.key)},title:B(e.key)?"":"Required for every report!",children:[e.status?Object(P.jsx)(c.s,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.t,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:e.title})]},t)}))}),n&&"report_content"===n.element&&Object(P.jsx)("span",{className:"text-red-500",children:n.msg})]})]}),Object(P.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(P.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&e.examPreparationReportContent){var s=e.examPreparationReportContent;for(var a in s)B(s[a].key)&&(s[a].status=!t);e.setExamPreparationReportContent&&e.setExamPreparationReportContent(s),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.examPerformanceReportContent){var i=e.examPerformanceReportContent;for(var r in i)B(i[r].key)&&(i[r].status=!t);e.setExamPerformanceReportContent&&e.setExamPerformanceReportContent(i),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.exam30PerformanceReportContent){var n=e.exam30PerformanceReportContent;for(var o in n)B(n[o].key)&&(n[o].status=!t);e.setExam30PerformanceReportContent&&e.setExam30PerformanceReportContent(n),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&e.examinationProgressReportContent){var c=e.examinationProgressReportContent;for(var l in c)B(c[l].key)&&(c[l].status=!t);e.setExaminationProgressExamPerformanceReportContent&&e.setExaminationProgressExamPerformanceReportContent(c),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.candidateExamPerformanceReportContent){var d=e.candidateExamPerformanceReportContent;for(var p in d)B(d[p].key)&&(d[p].status=!t);e.setCandidateExamPerformanceReportContent&&e.setCandidateExamPerformanceReportContent(d),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.candidate30ExamPerformanceReportContent){var u=e.candidate30ExamPerformanceReportContent;for(var m in u)B(u[m].key)&&(u[m].status=!t);e.setCandidate30ExamPerformanceReportContent&&e.setCandidate30ExamPerformanceReportContent(u),N(!t),e.updateExamToPrint&&e.updateExamToPrint()}}(E)},children:[E?Object(P.jsx)(c.s,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(c.t,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:"Select all"})]}),Y().status&&Object(P.jsx)(h.a,{fileData:Y().data,fileName:e.excelReportTitle,btnName:"Generate"})]})]})}),e.modalFor===a.choose_exam&&e.modalState&&e.AllExamData&&Object(P.jsx)(m.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(o.e,{className:"text-5xl text-blue-600"}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose exam"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(P.jsxs)("div",{className:"px-2 pb-2",children:[Object(P.jsx)("div",{className:"w-full py-2",children:Object(P.jsx)("input",{onChange:function(e){return S(e.target.value)},type:"text",value:T,placeholder:"Search...",className:"w-full bg-white py-2 px-3 rounded border border-gray-400",disabled:e.AllExamData.length<=0})}),Object(P.jsxs)("div",{onClick:function(){e.SetReportCourseId(null),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(null===e.thisExam?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"text-sm font-medium italic",children:["code: ",Object(P.jsx)("span",{className:"text-blue-500",children:"-"})]}),Object(P.jsx)("div",{className:"font-bold text-lg",children:"All exams"})]}),Object(P.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]}),Object(g.f)(e.AllExamData,T).map((function(t,s){return Object(P.jsxs)("div",{onClick:function(){e.SetReportCourseId(t),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(e.thisExam&&e.thisExam.course_id===t.course_id?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"text-sm font-medium italic",children:["code:"," ",Object(P.jsx)("span",{className:"text-blue-500",children:t.course_code})]}),Object(P.jsx)("div",{className:"font-bold text-lg",children:t.course_name})]}),Object(P.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]},s+1)}))]})}),e.modalFor===a.choose_district&&e.modalState&&Object(P.jsx)(m.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(o.e,{className:"text-5xl text-blue-600"}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose district"})})]}),backDrop:!0,theme:m.c.default,close:function(){return!Object(x.f)(q)&&e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.medium,displayClose:!0,padding:{title:!0},children:Object(P.jsx)("div",{className:"px-2 pb-2 ",children:A?Object(P.jsx)(u.a,{}):Object(P.jsxs)("section",{className:"pb-8 px-7 ",children:[Object(P.jsx)("label",{className:"uppercase md:text-sm text-xs text-gray-500 text-light font-semibold",children:"District"}),e.locations.length>0?Object(P.jsxs)("div",{className:"",children:[Object(P.jsxs)("select",{className:"py-3 px-3 w-full rounded border-2 bg-white mt-1 focus:outline-none ".concat(F&&"district"===F.element?"border-red-400 focus:border-red-800":"border-gray-400 focus:border-gray-800"),value:q,onChange:function(t){G(t.target.value),function(t){if(M(null),"all"===t)(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE||e.isAllDistrictAllowed&&!0===e.isAllDistrictAllowed)&&e.SetReportDistrictId?(e.SetReportDistrictId(null),e.changeModalState(!1)):M({element:"district",msg:"District is required"});else if(e.SetReportDistrictId){var s=Object(j.a)(e.locations).find((function(e){return e.district_id===t}));if(!s)return M({element:"district",msg:"Invalid district id"});e.SetReportDistrictId({district_id:s.district_id,district_name:s.district_name}),e.changeModalState(!1)}}(t.target.value)},children:[Object(P.jsx)("option",{value:"all",children:"Select district"}),y(Object(j.a)(e.locations)).map((function(e,t){return Object(P.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)}))]}),F&&"district"===F.element&&Object(P.jsx)("p",{className:"text-xs italic text-red-500 mt-3",children:F.msg})]}):Object(P.jsx)("div",{className:"alert-info",children:"No district found"})]})})})]})})))},710:function(e,t){},713:function(e,t,s){"use strict";s.d(t,"c",(function(){return U})),s.d(t,"a",(function(){return W}));var a,i=s(5),r=s.n(i),n=s(7),o=s(25),c=s(24),l=s(27),d=s(26),p=s(10),u=s.n(p),m=s(4),x=s.n(m),h=s(12),b=s(23),j=s(3),f=s(205),g=s(689),O=s(33),_=s(162),v=s(123),P=s(21),y=s(32),E=s(8),N=s(14),C=s(727),R=s(711),T=s(17),S=s(48),w=s(1),L=function(e){var t=Object(m.useState)(""),s=Object(T.a)(t,2),a=s[0],i=s[1];return Object(w.jsxs)("section",{className:"border-2 rounded border-gray-400",children:[Object(w.jsxs)("div",{className:"flex items-center w-full my-1",children:[Object(w.jsx)(h.Nb,{className:"w-6 h-6 absolute ml-2"}),Object(w.jsx)("input",{type:"text",placeholder:"Search",className:"focus:border-2 h-7 ml-1 pl-9 mr-2 bg-gray-100 focus:border-gray-700 w-full rounded",onChange:function(e){return i(e.target.value)},value:a,disabled:!(e.roleList.length>0)}),Object(w.jsx)("button",{className:"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none",type:"button",onClick:function(){e.setChooseRole(!1)},children:"Close"})]}),Object(w.jsx)("div",{className:"w-full h-52 mt-2 overflow-y-auto divide-y divide-gray-300",children:Object(S.a)(e.roleList,a).length>0?Object(S.a)(e.roleList,a).map((function(t,s){return Object(w.jsx)("section",{children:Object(w.jsxs)("div",{className:"group flex items-center justify-between my-1 hover:bg-gray-100",children:[Object(w.jsx)("div",{className:"p-1 w-full mr-2 cursor-pointer",onClick:function(){e.setChooseRole(!1),!e.loadindRequest&&e.handleSelectRole(t.system_user_role_id)},children:Object(w.jsx)("p",{className:"text-sm font-medium text-black",children:Object(y.a)(t.role)})}),Object(w.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 py-1 px-2 mr-1 rounded text-sm",children:"Choose"})]})},s+t.role)})):Object(w.jsx)("div",{className:"text-center p-3",children:Object(w.jsx)("p",{className:"text-base font-medium text-black",children:"No role available"})})})]})},A=x.a.memo(L),I="".concat(E.a.AUTH,"/auth/user/access"),D=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setRoleId=function(e){a.setState({roleId:e})},a.setSelectedRole=function(e){a.setState({selectedRole:e})},a.setProvinceId=function(e){a.setState({provinceId:e})},a.setDistrictId=function(e){a.setState({districtId:e})},a.setCenterId=function(e){a.setState({centerId:e})},a.setRoomId=function(e){a.setState({roomId:e})},a.setLoadingForm=function(e){a.setState({loadingForm:e})},a.setLoading=function(e){a.setState({loading:e})},a.setInstituteId=function(e){a.setState({instituteId:e})},a.setFormError=function(e){a.setState({formError:e})},a.setLoadingRequest=function(e){a.setState({loadingRequest:e})},a.setChooseRole=function(e){a.setState({chooseRole:e})},a.setDefaultState=function(e,t){var s,i;t.district_required&&a.props.roomList?((i=a.distinctDistrict(a.props.roomList).find((function(t){return t._id===e.district_id})))&&a.setProvinceId(i.province_id),i&&a.setDistrictId(e.district_id),a.setLoadingForm(!1)):t.room_required&&a.props.roomList?((s=W(a.props.roomList).find((function(t){return t.room_id===e.room_id})))&&a.setProvinceId(s.province_id),s&&a.setDistrictId(s.district_id),s&&a.setCenterId(s.center_id),a.setRoomId(e.room_id),a.setLoadingForm(!1)):a.setLoadingForm(!1)},a.componentDidMount=function(){if(a.props.roleList.length){if(a.props.userInfo.default_access&&a.state.loadingForm){if(!a.state.roleId.length){var e=a.props.roleList.find((function(e){return e.system_user_role_id===a.props.userInfo.default_access.system_user_role_id}));e&&(a.setRoleId(a.props.userInfo.default_access.system_user_role_id),a.setSelectedRole(e),a.setDefaultState(a.props.userInfo.default_access,e))}console.log("===================================="),console.log({vvvvv:a.props.userInfo.default_access}),console.log("====================================")}a.state.selectedRole&&a.props.userInfo.default_access&&a.setDefaultState(a.props.userInfo.default_access,a.state.selectedRole),a.setLoading(!1)}},a.handleSelectRole=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SELECT";if(a.props.roleList){var s=a.props.roleList.find((function(t){return t.system_user_role_id===e}));s&&(a.setRoleId(e),a.setSelectedRole(s),a.state.formError&&"role_id"===a.state.formError.element&&a.setFormError(null),"SELECT"===t&&(a.setProvinceId(""),a.setDistrictId(""),a.setCenterId(""),a.setRoomId(""),a.setInstituteId("")))}},a.tableData=function(){return a.state.roleId.length>0&&null===a.state.selectedRole&&a.props.roleList&&a.handleSelectRole(a.state.roleId,"DEFAULT"),a.state.selectedRole?a.state.selectedRole.access.map((function(e,t){return Object(w.jsxs)("tr",{className:"text-left border-b border-gray-200 hover:bg-gray-100",children:[Object(w.jsx)("td",{className:"px-2 py-1",children:Object(w.jsx)("label",{className:"inline-flex items-center",children:Object(w.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(w.jsx)("td",{children:Object(w.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(w.jsx)(R.a,{}):Object(w.jsx)(h.P,{}),e.permitted.create?" Yes":"No"]})}),Object(w.jsx)("td",{children:Object(w.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(w.jsx)(R.a,{}):Object(w.jsx)(h.P,{}),e.permitted.view?" Yes":"No"]})}),Object(w.jsx)("td",{children:Object(w.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(w.jsx)(R.a,{}):Object(w.jsx)(h.P,{}),e.permitted.update?" Yes":"No"]})}),Object(w.jsx)("td",{children:Object(w.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(w.jsx)(R.a,{}):Object(w.jsx)(h.P,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id+Math.random())})):[Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:5,className:"text-center px-2 py-2",children:"No Default Access Available on this Role."})},"55re")]},a.assignRoleToUser=function(){var e=Object(n.a)(r.a.mark((function e(t){var s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("Are sure you want to change user role?")){e.next=3;break}return e.abrupt("return",!1);case 3:if(a.state.selectedRole){e.next=5;break}return e.abrupt("return",a.setFormError({element:"role_id",msg:"User role is required!"}));case 5:if(!0!==a.state.selectedRole.room_required||!Object(y.f)(a.state.provinceId)){e.next=7;break}return e.abrupt("return",a.setFormError({element:"province_id",msg:"Province is required!"}));case 7:if(!0!==a.state.selectedRole.education_institution_required||!Object(y.f)(a.state.instituteId)){e.next=9;break}return e.abrupt("return",a.setFormError({element:"institute_id",msg:"Institute is required on this role!"}));case 9:if(!0!==a.state.selectedRole.room_required&&!0!==a.state.selectedRole.district_required||!Object(y.f)(a.state.districtId)){e.next=11;break}return e.abrupt("return",a.setFormError({element:"district_id",msg:"District is required!"}));case 11:if(!0!==a.state.selectedRole.room_required||!Object(y.f)(a.state.centerId)){e.next=13;break}return e.abrupt("return",a.setFormError({element:"center_id",msg:"Center is required!"}));case 13:if(!0!==a.state.selectedRole.room_required||!Object(y.f)(a.state.roomId)){e.next=15;break}return e.abrupt("return",a.setFormError({element:"room_id",msg:"Room is required!"}));case 15:return a.setLoadingRequest(!0),s={user_id:a.props.userInfo.user_id,data:{system_user_role_id:a.state.roleId,status:1,role:a.state.selectedRole.role,access:a.state.selectedRole.access,school_id:"",district_id:"",room_id:a.state.selectedRole.room_required?a.state.roomId:"",education_institution_id:a.state.selectedRole.education_institution_required?a.state.instituteId:""}},e.prev=17,e.next=20,u.a.post("".concat(I,"/addroletouser"),{user_id:a.props.userInfo.user_id,system_user_role_id:a.state.roleId,status:1,role:a.state.selectedRole.role,access:!0,school_id:"",district_id:!0===a.state.selectedRole.district_required?a.state.districtId:"",room_id:!0===a.state.selectedRole.room_required?a.state.roomId:"",education_institution_id:a.state.selectedRole.education_institution_required?a.state.instituteId:""});case 20:(i=e.sent)&&(console.log("===================================="),console.log({assignRoleToUser:i}),console.log("===================================="),a.props.assignRoleToUserAccess(s,a.props.currentPage),a.setLoadingRequest(!1),a.props.setChangeRole(!1),a.props.PushPopupAlert({title:"Assigning Role to User completed successfully",theme:P.a.success})),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(17),console.log({role_error:e.t0}),a.props.PushPopupAlert({title:Object(N.a)(e.t0),theme:P.a.danger});case 28:case"end":return e.stop()}}),e,null,[[17,24]])})));return function(t){return e.apply(this,arguments)}}(),a.distinctDistrict=function(e,t){var s=[],a=[];if(t)a=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))for(var r in e[i].districts)Object.prototype.hasOwnProperty.call(e[i].districts,r)&&(s.includes(e[i].districts[r]._id)||(s.push(e[i].districts[r]._id),a.push(e[i].districts[r])));return a},a.distinctCenter=function(e,t){var s=[],a=[];return W(e).forEach((function(e){s.includes(e.center_id)||e.district_id!==t||(s.push(e.center_id),a.push(e))})),a},a.distinctRoom=function(e,t){var s=[],a=[];return W(e).forEach((function(e){s.includes(e.room_id)||e.center_id!==t||(s.push(e.room_id),a.push(e))})),a},a.state={loading:!0,loadingForm:!0,loadingRequest:!1,roleId:"",provinceId:"",districtId:"",roomId:"",instituteId:"",centerId:"",selectedRole:null,formError:null,chooseRole:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e,t=this;return!0===this.state.loading||this.state.loadingForm||null===this.props.userInfo.default_access||0===this.state.roleId.length||null===this.state.selectedRole?Object(w.jsx)("div",{className:"text-center py-7 font-bold text-3xl text-gray-400 animate-pulse",children:"Loading..."}):Object(w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 py-2 md:py-4 px-2 md:px-0",children:[Object(w.jsx)("div",{className:"col-span-1 bg-white w-full overflow-x-auto border rounded",children:Object(w.jsxs)("div",{className:"px-6 md:px-12 py-5 bg-white mx-auto rounded-2xl w-100",children:[Object(w.jsx)("h3",{className:"font-semibold text-2xl text-gray-800 mb-4",children:"Change User Role"}),this.state.loadingForm?Object(w.jsx)(O.a,{}):Object(w.jsx)("form",{onSubmit:function(e){return t.assignRoleToUser(e)},children:Object(w.jsxs)("div",{className:"space-y-5",children:[Object(w.jsxs)("div",{className:"space-y-2",children:[Object(w.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:"User Role"}),!this.state.chooseRole&&Object(w.jsx)("div",{className:"w-full text-base bg-white text-grey-darker cursor-pointer border-2 px-4 py-3 rounded focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"role_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onClick:function(){!t.state.loadingRequest&&t.setChooseRole(!0),!t.state.loadingRequest&&t.setFormError(null)},children:this.state.selectedRole?this.state.selectedRole.role:"Select role"}),this.state.chooseRole&&Object(w.jsx)(A,{setChooseRole:this.setChooseRole,handleSelectRole:this.handleSelectRole,roleList:this.props.roleList,loadindRequest:this.state.loadingRequest}),this.state.formError&&"role_id"===this.state.formError.element&&Object(w.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.education_institution_required&&Object(w.jsxs)("div",{className:"space-y-2",children:[Object(w.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Institute"}),Object(w.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"institute_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setInstituteId(e.target.value),t.setProvinceId(""),t.setDistrictId(""),t.setCenterId(""),t.setRoomId(""),t.state.formError&&"institute_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.instituteId,children:[Object(w.jsx)("option",{value:"",children:"Select institute"}),this.props.schoolLevels.education_categories&&this.props.schoolLevels.education_categories.length>0?this.props.schoolLevels.education_categories.map((function(e){return Object(w.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},e.education_institute_id+Math.random())})):Object(w.jsx)("option",{value:"",disabled:!0,children:"No institute available"})]}),this.state.formError&&"institute_id"===this.state.formError.element&&Object(w.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(w.jsxs)("div",{className:"space-y-2",children:[Object(w.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Province"}),Object(w.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"province_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setProvinceId(e.target.value),t.state.formError&&"province_id"===t.state.formError.element&&t.setFormError(null),t.setDistrictId(""),t.setCenterId(""),t.setRoomId("")},value:this.state.provinceId,disabled:this.state.loadingRequest,children:[Object(w.jsx)("option",{value:"",children:"Select province"}),this.props.roomList&&this.props.roomList.map((function(e){return Object(w.jsx)("option",{value:e._id,children:e.province_name},e._id+Math.random())}))]}),this.state.formError&&"province_id"===this.state.formError.element&&Object(w.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&(this.state.selectedRole.district_required||this.state.selectedRole.room_required)&&Object(w.jsxs)("div",{className:"space-y-2",children:[Object(w.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"District"}),Object(w.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"district_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setDistrictId(e.target.value),t.state.formError&&"district_id"===t.state.formError.element&&t.setFormError(null),t.setCenterId(""),t.setRoomId("")},value:this.state.districtId,disabled:this.state.loadingRequest,children:[Object(w.jsx)("option",{value:"",children:"Select district"}),this.props.roomList&&this.distinctDistrict(this.props.roomList,Object(y.f)(this.state.provinceId)?void 0:this.state.provinceId).length>0?this.distinctDistrict(this.props.roomList,Object(y.f)(this.state.provinceId)?void 0:this.state.provinceId).map((function(e){return Object(w.jsx)("option",{value:e._id,children:e.district_name},e._id+Math.random())})):Object(w.jsx)("option",{value:"",disabled:!0,children:"No district found"})]}),this.state.formError&&"district_id"===this.state.formError.element&&Object(w.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(w.jsxs)("div",{className:"space-y-2",children:[Object(w.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Center"}),Object(w.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"center_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setCenterId(e.target.value),t.state.formError&&"center_id"===t.state.formError.element&&t.setFormError(null),t.setRoomId("")},disabled:this.state.loadingRequest,value:this.state.centerId,children:[Object(w.jsx)("option",{value:"",children:"Select center"}),this.state.districtId&&this.state.districtId.length>0&&this.props.roomList&&this.distinctCenter(this.props.roomList,this.state.districtId).length>0?this.distinctCenter(this.props.roomList,this.state.districtId).map((function(e,t){return Object(w.jsx)("option",{value:e.center_id,children:e.center_name},e.center_id+t+Math.random())})):Object(w.jsx)("option",{value:"",disabled:!0,children:"No center found"})]}),this.state.formError&&"center_id"===this.state.formError.element&&Object(w.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(w.jsxs)("div",{className:"space-y-2",children:[Object(w.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Room"}),Object(w.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"room_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setRoomId(e.target.value),t.state.formError&&"room_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.roomId,children:[Object(w.jsx)("option",{value:"",children:"Select room"}),!Object(y.f)(this.state.centerId)&&this.props.roomList&&this.distinctRoom(this.props.roomList,this.state.centerId).length>0?this.distinctRoom(this.props.roomList,this.state.centerId).map((function(e,t){return Object(w.jsx)("option",{value:e.room_id,className:"".concat("0"===e.room_name?"hidden":"block"),children:e.room_name},e.room_id+t+Math.random())})):Object(w.jsx)("option",{value:"",disabled:!0,children:"No room found"})]}),this.state.formError&&"room_id"===this.state.formError.element&&Object(w.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(w.jsxs)("div",{className:"flex justify-between 2xl:justify-start gap-2",children:[Object(w.jsx)("button",{className:"btn bg-gray-500 text-gray-50 focus:outline-none",onClick:function(){t.props.setChangeRole(!1),t.setFormError(null),t.setProvinceId(""),t.setDistrictId(""),t.setCenterId(""),t.setRoomId("")},disabled:this.state.loadingRequest,children:"Back"}),Object(w.jsx)("button",{className:"btn btn-blue focus:outline-none",disabled:this.state.loadingRequest,children:this.state.loadingRequest?"Loading...":"Save Change"})]})]})})]})}),Object(w.jsxs)("div",{className:"cols-span-1 md:col-span-2 bg-white w-full border rounded text-center p-2 hidden md:block",children:[Object(w.jsx)("div",{className:"my-4",children:Object(w.jsxs)("span",{className:"text-gray-600 font-semibold text-2xl",children:[null===(e=this.state.selectedRole)||void 0===e?void 0:e.role,"'s Default Access"]})}),!this.state.loading&&Object(w.jsx)("div",{className:"overflow-x-auto w-full",children:Object(w.jsx)(v.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!1,searchBG:"bg-gray-50",thColor:"gray",tableId:"defaultAccess"})})]})]})}}]),s}(m.Component),k=x.a.memo(Object(b.b)((function(e){return{schoolLevels:e.schoolLevels}}),{assignRoleToUserAccess:g.b,PushPopupAlert:j.Qb})(D)),F=s.p+"static/media/blank_profile.c3f94521.png",M=s(28),U=function(e,t){return e.find((function(e){return e.user_id===t}))};!function(e){e.View_User="View User Info",e.Add_Access="Add Access To User",e.Update_Access="Update User Access",e.Close_Modal="Close Modal"}(a||(a={}));var W=function(e){var t=[];for(var s in e){var a=e[s].districts;for(var i in a){var r=a[i].centers;for(var n in r){var o=r[n].rooms;for(var c in o)t.push({province_id:e[s]._id,province_name:e[s].province_name,district_id:a[i]._id,district_name:a[i].district_name,center_id:r[n]._id,center_name:r[n].center_name,room_id:o[c]._id,room_name:o[c].room_number.toString(),capacity:o[c].capacity,occupied:o[c].occupied})}}}return t},q=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setLoadingRequest=function(e){a.setState({loadingRequest:e})},a.setLoading=function(e){a.setState({loading:e})},a.setLoadingRequestType=function(e){a.setState({loadingRequestType:e})},a.setRoomList=function(e){a.setState({roomList:e})},a.setRoomTables=function(e){a.setState({roomTable:e})},a.setCurrentAccess=function(e){a.setState({currentAccess:e})},a.setUserAccess=function(e){a.setState({userAccess:e})},a.componentDidMount=function(){0===a.props.allRoom.length?a.props.getAllRoom((function(e,t,s){a.setLoading(e),a.props.setLoadingUser(e),!e&&t.length>0&&a.props.PushPopupAlert({title:t,theme:P.a.danger}),s&&s.length>0&&(a.setRoomList(s),a.setRoomTables(W(s)))})):a.state.loading&&(a.setRoomList(a.props.allRoom),a.setRoomTables(W(a.props.allRoom)),a.props.setLoadingUser(!1),a.setLoading(!1))},a.tableData=function(){if(a.props.loadingUser||a.state.loading)return[Object(w.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(w.jsx)("td",{className:"p-3 text-center",colSpan:8,children:Object(w.jsx)(O.a,{})})},Math.random())];var e=a.props.users;if(e.length<=0)return[Object(w.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(w.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"No Data Found"})},Math.random())];var t=a.props.currentPage>1?30*(a.props.currentPage-1):0;return e.map((function(e,s){var i,r;return Object(w.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group cursor-pointer",onClick:function(){a.props.setManageUser(e),a.props.setManageUserId(e.user_id)},children:[Object(w.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+s+1}),Object(w.jsx)("td",{className:"p-3 text-left",children:Object(w.jsx)("span",{children:e.user_info&&e.user_info.fname+" "+e.user_info.lname})}),Object(w.jsx)("td",{className:"p-3 text-left",children:e.email}),Object(w.jsx)("td",{className:"p-3 text-left",children:e.user_info&&"M"===e.user_info.sex?"Male":"Female"}),Object(w.jsx)("td",{className:"p-3 text-left text-blue-700 text-base font-medium",children:e.default_access&&e.default_access.system_user_role_id&&e.default_access.system_user_role_id&&Object(w.jsx)("span",{className:"px-2 py-1 font-semibold rounded text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100",children:(null===(i=Object(y.e)(a.props.roleList,e.default_access.system_user_role_id))||void 0===i?void 0:i.role)&&Object(y.a)(null===(r=Object(y.e)(a.props.roleList,e.default_access.system_user_role_id))||void 0===r?void 0:r.role)})}),Object(w.jsx)("td",{className:"px-3 text-center",children:Object(w.jsx)("button",{className:"btn bg-gray-200 group-hover:bg-blue-700 group-hover:text-white focus:outline-none",title:"Manage User Access",onClick:function(){a.props.setManageUser(e),a.props.setManageUserId(e.user_id)},children:"Manage"})})]},s+Math.random())}))},a.blockUser=function(){var e=Object(n.a)(r.a.mark((function e(t,s){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||a.props.PushPopupAlert({title:"User Access is required doesn't exist",theme:P.a.danger}),a.setLoadingRequest(!0),window.confirm("Are sure you want to ".concat(s?"block":"activate"," this user?"))){e.next=4;break}return e.abrupt("return",a.setLoadingRequest(!1));case 4:return e.prev=4,e.next=7,u.a.patch("".concat(E.a.AUTH,"/auth/user/disactive/").concat(t),{is_active:!s});case 7:(i=e.sent)&&(console.log("===================================="),console.log({blockUserToSystem:i}),console.log("===================================="),s?a.props.blockUserToSystem(t,a.props.currentPage):a.props.unBlockUserToSystem(t,a.props.currentPage),a.props.PushPopupAlert({title:"User has been ".concat(s?"blocked":"activated","!"),theme:P.a.info})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error({blockUser_ERROR:e.t0}),a.props.PushPopupAlert({title:Object(N.a)(e.t0),theme:P.a.danger});case 15:a.setLoadingRequest(!1),t="";case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,s){return e.apply(this,arguments)}}(),a.restUserAccess=function(){var e=Object(n.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||a.props.PushPopupAlert({title:"User Access is required doesn't exist",theme:P.a.warning}),window.confirm("Are sure you want to reset to default access?")){e.next=3;break}return e.abrupt("return",a.setLoadingRequest(!1));case 3:return a.setLoadingRequest(!0),a.setLoadingRequestType("RESET"),e.prev=5,e.next=8,u.a.delete("".concat(E.a.USER,"/access/custom/user/").concat(t));case 8:e.sent&&a.props.resetUserAccess(t,a.props.currentPage),(s=Object(y.f)(a.props.searchFind)?a.props.users.find((function(e){return e.user_id===t})):a.props.manageUser)&&(s.default_access&&a.setUserAccess(s.default_access.access),a.props.PushPopupAlert({title:"Resetting User Access complete successfully",theme:P.a.info}),a.setCurrentAccess(null)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error({reseting_user_access:e.t0}),a.props.PushPopupAlert({title:Object(N.a)(e.t0),theme:P.a.danger});case 18:a.setLoadingRequest(!1),a.setLoadingRequestType(null),t="";case 21:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),a.distinctDistrict=function(e,t){var s=[],a=[];if(t)a=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))for(var r in e[i].districts)Object.prototype.hasOwnProperty.call(e[i].districts,r)&&(s.includes(e[i].districts[r]._id)||(s.push(e[i].districts[r]._id),a.push(e[i].districts[r])));return a},a.state={loadingRequest:!1,loading:!0,loadingRequestType:null,roomList:null,roomTable:null,userAccess:null,currentAccess:null},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=Object(y.f)(this.props.searchFind)?this.props.users.find((function(t){return t.user_id===e.props.manageUserId})):this.props.manageUser?this.props.manageUser:void 0,s=t&&t.default_access?Object(y.e)(this.props.roleList,t.default_access.system_user_role_id):void 0,a=this.state.roomTable&&t?this.state.roomTable.find((function(e){var s;return e.room_id===(null===(s=t.default_access)||void 0===s?void 0:s.room_id)})):void 0;return Object(w.jsxs)("div",{children:[!this.props.manageUser&&Object(w.jsx)("div",{className:"grid md:grid-cols-5 gap-2 mb-5",children:Object(w.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(w.jsx)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:Object(w.jsx)("div",{className:"flex flex-col md:flex-row gap-1 items-center mx-1.5"})}),this.props.users&&Object(w.jsx)(v.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"Email",alignText:"left",padding:"p-3"},{columnTitle:"Gender",alignText:"left",padding:"p-3"},{columnTitle:"Role",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:this.tableData,pagination:!1,search:!0,thColor:"gray",loading:this.props.loadingUser||this.state.loading})]})}),this.props.manageUser&&Object(w.jsxs)("div",{className:"bg-gray-100 h-100",children:[Object(w.jsxs)("div",{className:"bg-white border-b border-t px-4 py-2 flex flex-col md:flex-row items-center gap-x-14",children:[t?Object(w.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start items-center w-full gap-3",children:[Object(w.jsx)("img",{src:"pic"!==t.user_info.photo&&void 0!==t.user_info.photo?Object(M.c)(t.user_info.photo):F,alt:"",className:"rounded-full w-32 h-32 object-contain"}),Object(w.jsxs)("div",{className:"flex flex-col gap-1 items-start w-full",children:[Object(w.jsx)("span",{className:"text-2xl font-semibold",children:t.user_info.fname+" "+t.user_info.lname}),Object(w.jsxs)("div",{className:"flex items-center",children:[Object(w.jsx)(h.ab,{className:"w-5 h-5"}),Object(w.jsx)("span",{className:"text-lg font-medium",children:s&&s.role})]}),Object(w.jsxs)("div",{className:"flex items-center gap-1",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Level:"}),Object(w.jsx)("span",{className:"text-base font-medium",children:s&&s.room_required?"Room":s&&s.education_institution_required?"Institute":"-"})]}),s&&s.education_institution_required?Object(w.jsxs)("div",{className:"flex items-center gap-1",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Institute:"}),Object(w.jsx)("span",{className:"text-base font-medium",children:t.default_access&&this.props.schoolLevels.education_categories&&Object(y.c)(this.props.schoolLevels.education_categories,t.default_access.education_institution_id)?Object(y.c)(this.props.schoolLevels.education_categories,t.default_access.education_institution_id).education_category_title:"Unknown Institute"})]}):s&&s.room_required&&Object(w.jsxs)("div",{className:"flex items-center gap-1",children:[Object(w.jsx)(h.Z,{className:"text-gray-500"}),a&&Object(w.jsx)("span",{className:"text-base font-medium",children:(null===a||void 0===a?void 0:a.district_name)+" - "+(null===a||void 0===a?void 0:a.center_name)+" - Room "+(null===a||void 0===a?void 0:a.room_name)})]})]})]},t.user_id+Math.random()):Object(w.jsx)("div",{className:"w-full",children:Object(w.jsx)(_.b,{theme:_.a.Dark,value:"User info not found"})}),t&&Object(w.jsxs)("div",{className:"flex flex-col w-full",children:[Object(w.jsxs)("div",{className:"flex items-center gap-1",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"NID:"}),Object(w.jsx)("span",{className:"text-base font-medium",children:t.n_id})]}),Object(w.jsxs)("div",{className:"flex items-center gap-1",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Email:"}),Object(w.jsx)("span",{className:"text-base font-medium",children:t.email})]}),Object(w.jsxs)("div",{className:"flex items-center gap-1",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Phone:"}),Object(w.jsx)("span",{className:"text-base font-medium",children:t.phone_number})]}),Object(w.jsxs)("div",{className:"flex items-center gap-1",children:[Object(w.jsx)("span",{className:"text-gray-500",children:"Status:"}),Object(w.jsx)("span",{className:"text-base font-medium",children:!1===t.is_active?"Blocked":"Active"})]}),Object(w.jsxs)("div",{className:"flex items-center gap-1",children:[t.custome_access&&Object(w.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-50 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"cursor-wait bg-gray-400":"bg-gray-600"),onClick:function(){return e.restUserAccess(t.user_id)},disabled:this.state.loadingRequest,children:[Object(w.jsx)(h.ab,{className:"w-4 h-4 fill-current"}),Object(w.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Resetting...":"Reset Access"})]}),!this.props.changeRole&&Object(w.jsxs)("button",{className:"bg-yellow-300 hover:bg-yellow-400 px-2 py-1 font-semibold text-black inline-flex items-center rounded",onClick:function(){return e.props.setChangeRole(!0)},children:[Object(w.jsx)(h.ab,{className:"w-4 h-4 fill-current"}),Object(w.jsx)("span",{children:"Change Role"})]}),t.is_active?Object(w.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"STATUS"===this.state.loadingRequestType?"cursor-wait bg-red-500":"bg-red-700"),onClick:function(){return!e.state.loadingRequest&&e.props.manageUser&&e.blockUser(t.user_id,t.is_active)},disabled:this.state.loadingRequest,children:[Object(w.jsx)(h.ab,{className:"w-4 h-4 fill-current"}),Object(w.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Loading...":"Block user"})]}):Object(w.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"STATUS"===this.state.loadingRequestType?"cursor-wait bg-yellow-500":"bg-yellow-700"),onClick:function(){return!e.state.loadingRequest&&e.props.manageUser&&e.blockUser(t.user_id,t.is_active)},disabled:this.state.loadingRequest,children:[Object(w.jsx)(h.ab,{className:"w-4 h-4 fill-current"}),Object(w.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Loading...":"Re-Activate"})]})]})]},t.user_id+Math.random())]}),this.props.manageUser&&this.state.roomList&&this.props.changeRole?Object(w.jsx)(k,{userInfo:this.props.manageUser,roleList:this.props.roleList,district:this.distinctDistrict(this.state.roomList),roomList:this.state.roomList,setChangeRole:this.props.setChangeRole,currentPage:this.props.currentPage}):Object(w.jsx)(C.UserAccess,{userInfo:t,manageUserId:this.props.manageUserId,setUserAccess:this.setUserAccess,userAccess:this.state.userAccess,setCurrentAccess:this.setCurrentAccess,currentAccess:this.state.currentAccess,currentPage:this.props.currentPage})]})]})}}]),s}(m.Component);t.b=x.a.memo(Object(b.b)((function(e){return{schoolLevels:e.schoolLevels,allRoom:e.locations.roomLocation}}),{blockUserToSystem:g.c,unBlockUserToSystem:g.g,resetUserAccess:g.f,getAllRoom:f.q,PushPopupAlert:j.Qb})(q))},718:function(e,t){},719:function(e,t){},720:function(e,t,s){"use strict";var a=s(4),i=s.n(a),r=s(66),n=s(32),o=s(28),c=s(1),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",icon:r.r,iconColor:"indigo",count:0,countOver:void 0},t=e.icon;return Object(c.jsxs)("div",{className:"flex items-center px-6 py-4 bg-white w-full rounded-md space-x-2 mb-2 lg:mb-0 shadow-md",children:[Object(c.jsx)("div",{className:"p-3 rounded-full bg-".concat(e.iconColor,"-200 bg-opacity-75"),children:Object(c.jsx)(t,{className:"h-8 w-8 text-".concat(e.iconColor,"-600")})}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h1",{className:"text-3xl font-semibold text-gray-700",children:[e.count<1e3?Object(n.g)(e.count):Object(o.g)(e.count)," ",e.countOver&&"/ "+Object(n.g)(e.countOver)]}),Object(c.jsx)("span",{className:"text-gray-500 text-lg",children:e.title})]})]})};t.a=i.a.memo(l)},721:function(e,t,s){"use strict";s.d(t,"d",(function(){return u})),s.d(t,"c",(function(){return m})),s.d(t,"a",(function(){return x}));var a,i=s(17),r=s(4),n=s.n(r),o=s(72),c=s(33),l=s(32),d=s(28),p=s(1);!function(e){e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.PERFORMANCE="exam_performance"}(a||(a={}));var u=function(e){return e!==a.COURSER_NAME&&e!==a.COURSE_CODE&&e!==a.PERIOD&&e!==a.PERFORMANCE},m=[{key:a.COURSER_NAME,title:"Course names",status:!0},{key:a.COURSE_CODE,title:"Course code",status:!0},{key:a.SCHOOL_LEVEL,title:"School levels",status:!0},{key:a.PERIOD,title:"Exam period",status:!0},{key:a.DATE,title:"Exam date",status:!0},{key:a.TIME,title:"Exam time",status:!0},{key:a.DURATION,title:"Exam duration",status:!0},{key:a.PERFORMANCE,title:"Exam performance",status:!0}],x=function(e,t,s){var a=[],i=[],r=function(r){if(Object.prototype.hasOwnProperty.call(s,r)){if(i.includes(s[r].answer_sheet_id))return"continue";i.push(s[r].answer_sheet_id);var n=e.find((function(e){return e.course_id===s[r].course}));if(n){var o=t.find((function(e){return e.course===s[r].course&&e.period===s[r].period}));a.push({course_name:n.course_name,course_code:n.course_code,description:n.description,school_levels:n.school_levels,course_id:n.course_id,exam:o||null,exam_performance:s[r].total_marks})}}};for(var n in s)r(n);return console.log("===============-----------------====================="),console.log({result:a}),console.log("===============-----------------====================="),a},h=function(e){var t,s,a=Object(r.useState)(""),u=Object(i.a)(a,2),m=u[0],h=u[1],b=Object(r.useState)(!1),j=Object(i.a)(b,2),f=j[0],g=j[1],O=Object(r.useState)(""),_=Object(i.a)(O,2),v=_[0],P=_[1],y=Object(r.useState)("ASC"),E=Object(i.a)(y,2),N=E[0],C=E[1],R=function(e){v===e&&"ASC"===N?(C("DESC"),P(e),g(!0)):(C("ASC"),P(e),g(!0))};return Object(p.jsx)(n.a.Fragment,{children:Object(p.jsxs)("div",{className:"bg-white my-4",children:[Object(p.jsx)("div",{className:"w-full px-2 py-2",children:Object(p.jsx)("input",{onChange:function(e){return h(e.target.value)},type:"text",value:m,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.examsPerformanceData&&x(e.courseListData,e.examsListData,e.examsPerformanceData).length<=0)})}),Object(p.jsx)("div",{className:"w-full overflow-x-auto",children:Object(p.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(p.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("course_name")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(p.jsx)(o.j,{})]})}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return R("exam_performance")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Exam performance ",Object(p.jsx)(o.j,{})]})})]})}),Object(p.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:6,className:"px-2 py-2",children:Object(p.jsx)(c.a,{})})}):e.examsListData&&e.examsPerformanceData&&x(e.courseListData,e.examsListData,e.examsPerformanceData).length<=0?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:6,className:"px-2 py-2 text-center",children:"No Exam list available!"})}):e.examsListData&&e.examsPerformanceData&&Object(d.q)(f,(t=x(e.courseListData,e.examsListData,e.examsPerformanceData),s=m,void 0===s||""===s?t:t.filter((function(e){var t;for(var a in e)if(t=!1,"course_name"!==a&&"course_code"!==a&&"exam_performance"!==a||(t=e[a].toString().toLowerCase().indexOf(s.toLowerCase())>-1),t)break;return t}))),v,N).map((function(e,t){return Object(p.jsxs)("tr",{className:"bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm",children:[Object(p.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(p.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(e.course_name)," (",Object(p.jsx)("span",{className:"font-semibold",children:e.course_code}),")"]}),Object(p.jsx)("td",{className:"px-2 py-2",children:e.exam?Object(d.a)(e.exam.exam_date):"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:e.exam?e.exam.start_time:"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:e.exam?e.exam.duration+" min":"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:Number(e.exam_performance.toFixed(1))+"%"})]},t+1)}))})]})})]})})};t.b=n.a.memo(h)},722:function(e,t,s){"use strict";var a=s(4),i=s.n(a),r=s(720),n=s(1),o=function(e){var t=e.labelsOnRow&&e.labelsOnRow>4?e.labelsOnRow:4;return Object(n.jsxs)("div",{className:"grid 2xl:grid-cols-".concat(t," xl:grid-cols-").concat(t-1," lg:grid-cols-").concat(t-2," md:grid-cols-").concat(t-3," sm:grid-cols-2 grid-cols-1 gap-4 items-center mx-auto"),children:[e.children&&(e.childrenPosition&&"START"===e.childrenPosition||!e.childrenPosition)&&e.children,e.dataLabels.map((function(e,t){return Object(n.jsx)("section",{children:Object(n.jsx)(r.a,{title:e.title,icon:e.icon,iconColor:e.iconColor,count:e.count})},t+e.title)})),e.children&&e.childrenPosition&&"END"===e.childrenPosition&&e.children]})};t.a=i.a.memo(o)},723:function(e,t,s){"use strict";var a=s(4),i=s.n(a),r=s(729),n=s.n(r),o=s(1),c=function(e){return Object(o.jsx)("div",{className:"donut",children:Object(o.jsx)(n.a,{options:e.options,series:e.series,type:"donut",width:"".concat(e.width?e.width:"380")})})};t.a=i.a.memo(c)},727:function(e,t,s){"use strict";s.r(t),s.d(t,"UserAccess",(function(){return R}));var a=s(5),i=s.n(a),r=s(7),n=s(25),o=s(24),c=s(27),l=s(26),d=s(10),p=s.n(d),u=s(4),m=s.n(u),x=s(72),h=s(12),b=s(714),j=s(711),f=s(23),g=s(37),O=s(3),_=s(689),v=s(123),P=s(21),y=s(8),E=s(14),N=s(1),C=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).setViewPermission=function(e){a.setState({viewPermission:e})},a.setLoadindRequest=function(e){a.setState({loadindRequest:e})},a.setCreatePermission=function(e){a.setState({createPermission:e})},a.setUpdatePermission=function(e){a.setState({updatePermission:e})},a.setDeletePermission=function(e){a.setState({deletePermission:e})},a.setLoadind=function(e){a.setState({loading:e})},a.overrideUserAccess=function(e,t){if(e&&t&&t.length>0){var s=[],i=function(a){if(Object.prototype.hasOwnProperty.call(e,a)){var i=t.find((function(t){return t.id===e[a].id}));i?s.push(i):s.push(e[a])}};for(var r in e)i(r);a.props.setUserAccess(s)}},a.componentDidMount=function(){a.props.userInfo&&a.props.userInfo.custome_access?(a.props.userInfo.default_access&&a.overrideUserAccess(a.props.userInfo.default_access.access,a.props.userInfo.custome_access.access),a.setLoadind(!1)):(a.props.userInfo&&a.props.userInfo.default_access&&a.props.setUserAccess(a.props.userInfo.default_access.access),a.setLoadind(!1))},a.tableData=function(){return a.props.userAccess?a.props.userAccess.map((function(e,t){return Object(N.jsxs)("tr",{className:"text-left border-b border-gray-200 cursor-pointer hover:bg-gray-100 ".concat(a.props.currentAccess&&a.props.currentAccess.id===e.id&&"bg-gray-200 border my-3 hover:bg-gray-100"),onClick:function(){return a.props.currentAccess&&a.props.currentAccess.id===e.id?(a.props.setCurrentAccess(null),a.setCreatePermission(!1),a.setViewPermission(!1),a.setUpdatePermission(!1),a.setDeletePermission(!1)):(a.props.setCurrentAccess(e),a.setCreatePermission(e.permitted.create),a.setViewPermission(e.permitted.view),a.setUpdatePermission(e.permitted.update),a.setDeletePermission(e.permitted.delete))},children:[Object(N.jsx)("td",{className:"px-2 py-1",children:Object(N.jsx)("label",{className:"inline-flex items-center",children:Object(N.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.P,{}),e.permitted.create?" Yes":"No"]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.P,{}),e.permitted.view?" Yes":"No"]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.P,{}),e.permitted.update?" Yes":"No"]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(N.jsx)(j.a,{}):Object(N.jsx)(h.P,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id+Math.random())})):[Object(N.jsx)("tr",{children:Object(N.jsx)("td",{children:"No data"})},Math.random())]},a.handleCustomization=function(){var e=Object(r.a)(i.a.mark((function e(t){var s,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.props.userInfo){e.next=26;break}if(a.setLoadindRequest(!0),s=null,s=a.props.userInfo.custome_access,r=-1,e.prev=6,s&&a.props.currentAccess?(r=s.access.findIndex((function(e){return e.id===a.props.currentAccess.id})))>=0?(s.access[r].permitted.create=a.state.createPermission,s.access[r].permitted.view=a.state.viewPermission,s.access[r].permitted.update=a.state.updatePermission,s.access[r].permitted.delete=a.state.deletePermission):s.access.push({id:a.props.currentAccess.id,task:a.props.currentAccess.task,key:a.props.currentAccess.key,permitted:{create:a.state.createPermission,view:a.state.viewPermission,update:a.state.updatePermission,delete:a.state.deletePermission}}):a.props.currentAccess&&(s={access:[{id:a.props.currentAccess.id,task:a.props.currentAccess.task,key:a.props.currentAccess.key,permitted:{create:a.state.createPermission,view:a.state.viewPermission,update:a.state.updatePermission,delete:a.state.deletePermission}}],user_id:a.props.userInfo.user_id,custome_user_access_id:""}),!s){e.next=19;break}if(null===a.props.userInfo.custome_access){e.next=15;break}return e.next=12,p.a.patch("".concat(y.a.USER,"/access/custom"),{access:s.access,user_id:a.props.userInfo.user_id});case 12:n=e.sent,e.next=18;break;case 15:return e.next=17,p.a.post("".concat(y.a.USER,"/access/custom"),{access:s.access,user_id:a.props.userInfo.user_id});case 17:n=e.sent;case 18:n&&(s.custome_user_access_id=n.data.data.custome_user_access_id,a.props.customizeUserAccess(s,a.props.currentPage),s&&a.props.userInfo.default_access&&a.overrideUserAccess(a.props.userInfo.default_access.access,s.access),a.props.PushPopupAlert({title:"Resetting User Access complete successfully",theme:P.a.info}),s=null,a.props.setCurrentAccess(null),a.setCreatePermission(!1),a.setViewPermission(!1),a.setUpdatePermission(!1),a.setDeletePermission(!1));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),console.error({customize_access:e.t0}),a.props.PushPopupAlert({title:Object(E.a)(e.t0),theme:P.a.danger});case 25:a.setLoadindRequest(!1);case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),a.state={loading:!0,loadindRequest:!1,createPermission:!1,viewPermission:!1,updatePermission:!1,deletePermission:!1},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return void 0===this.props.userInfo?Object(N.jsx)(g.a,{to:"/users"}):this.state.loading||null===this.props.userInfo?Object(N.jsx)("div",{className:"text-center py-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading User Access..."}):Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mx-1 my-2",children:[Object(N.jsxs)("div",{className:"col-span-1 md:col-span-3 bg-white w-full overflow-x-auto border rounded text-center p-2 ".concat(this.props.currentAccess?"hidden md:block":""),children:[Object(N.jsx)("span",{className:"text-gray-600 mt-2 font-semibold text-2xl",children:"Settings"}),!this.state.loading&&Object(N.jsx)("div",{className:"overflow-x-auto w-full",children:Object(N.jsx)(v.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!0,searchBG:"bg-gray-50",thColor:"gray"})})]}),Object(N.jsx)("div",{className:"col-span-1 md:col-span-2",children:this.props.currentAccess?Object(N.jsxs)("div",{className:"",children:[Object(N.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-center my-2 text-gray-900",children:"Customize User Access"}),Object(N.jsx)("div",{className:"flex justify-center mb-3",children:Object(N.jsxs)("h2",{className:"text-2xl font-semibold text-center text-gray-600 flex flex-row items-center",children:[Object(N.jsx)(x.i,{className:"w-7 h-7"}),this.props.currentAccess.task]})}),Object(N.jsx)("div",{className:"flex flex-col px-2 md:px-1",children:Object(N.jsxs)("form",{className:"flex flex-col items-center",onSubmit:function(t){return e.handleCustomization(t)},children:[Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(b.a,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"Create"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to create"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setCreatePermission(!e.state.createPermission)},checked:this.state.createPermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(h.Gb,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"View"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm md:pr-4",children:"This permission gives the user the ability to view"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setViewPermission(!e.state.viewPermission)},checked:this.state.viewPermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(h.F,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"Update"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm",children:"This permission gives the user the ability to update"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setUpdatePermission(!e.state.updatePermission)},checked:this.state.updatePermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(N.jsx)(h.D,{className:"w-7 h-7 text-gray-600"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("h3",{className:"font-semibold text-xl",children:"Delete"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to delete"})]}),Object(N.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setDeletePermission(!e.state.deletePermission)},checked:this.state.deletePermission,disabled:this.state.loadindRequest})]}),Object(N.jsxs)("div",{className:"flex items-center justify-center w-full py-3 gap-2",children:[Object(N.jsx)("button",{className:"btn bg-gray-500 hover:bg-gray-700 focus:outline-none text-white",disabled:this.state.loadindRequest,onClick:function(){e.props.setCurrentAccess(null),e.setCreatePermission(!1),e.setViewPermission(!1),e.setUpdatePermission(!1),e.setDeletePermission(!1)},children:"Cancel"}),Object(N.jsx)("button",{className:"btn btn-blue",disabled:this.state.loadindRequest,children:this.state.loadindRequest?"Processing..":"Save Change"})]})]})})]}):Object(N.jsxs)("div",{className:"w-full hidden md:flex flex-col items-center text-gray-600 gap-1 py-3",children:[Object(N.jsx)(h.Pb,{className:"w-20 h-20"}),Object(N.jsx)("span",{className:"text-8 md:text-12",children:"Choose Access to Customize"})]})})]})})}}]),s}(u.Component),R=m.a.memo(Object(f.b)(null,{customizeUserAccess:_.d,PushPopupAlert:O.Qb})(C))},748:function(e,t,s){"use strict";s.r(t),s.d(t,"getLevelbyId",(function(){return F})),s.d(t,"loadCoursesByInstitute",(function(){return M})),s.d(t,"loadExaminationProgress",(function(){return U})),s.d(t,"loadExamPreparationProgress",(function(){return W})),s.d(t,"isDatePast",(function(){return q})),s.d(t,"loadExamAttendance",(function(){return G})),s.d(t,"ExamDashboard",(function(){return z}));var a=s(25),i=s(24),r=s(27),n=s(26),o=s(4),c=s.n(o),l=s(23),d=s(3),p=s(202),u=s(126),m=s.n(u),x=s(699),h=s(686),b=s(701),j=s(690),f=s(21),g=s(683),O=s(17),_=s(124),v=s(12),P=s(705),y=s(1),E=function(e){var t=Object(o.useState)(!1),s=Object(O.a)(t,2),a=s[0],i=s[1];return Object(y.jsxs)(o.Fragment,{children:[Object(y.jsxs)("div",{className:"mt-3 rounded flex flex-col md:flex-row md:justify-between items-start",children:[Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3 mb-2",children:[Object(y.jsx)(_.b,{className:"text-7xl text-blue-600 hidden md:block"}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:"Exam Dashboard"}),!1]})]}),Object(y.jsxs)("section",{className:"w-full md:w-auto my-2 md:my-0",children:[Object(y.jsx)("section",{className:"flex items-start md:items-center justify-start md:justify-end gap-2",children:e.education_categories&&e.education_categories.length>0&&e.education_categories.map((function(t,s){return Object(y.jsx)("section",{className:"w-auto ".concat(e.loading||e.loadingEducation?"cursor-not-allowed":"cursor-pointer"," ").concat(e.thisEducation&&t.education_institute_id===e.thisEducation.education_institute_id?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.loading&&!e.loadingEducation&&e.setThisEducation(t)},children:Object(y.jsxs)("section",{className:"flex-1",children:[Object(y.jsx)(v.n,{className:"inline-block mr-1 text-xs"}),Object(y.jsx)("span",{children:t.education_category_title})]})},t.education_institute_id+s)}))}),Object(y.jsx)("div",{children:Object(y.jsx)("select",{className:"bg-white text-gray-600 border border-gray-400 rounded p-2 focus:outline-none ".concat(e.loading&&"cursor-wait"),value:e.thisPeriod,disabled:e.loading||e.loadingEducation,onChange:function(t){e.setThisPeriod(t.target.value),e.onPeriodChange&&e.onPeriodChange(t.target.value)},children:e.application_sessions.map((function(e,t){return Object(y.jsx)("option",{value:e._id,children:e.session_plan_name},e._id+t)}))})})]})]}),a&&Object(y.jsx)(P.b,{modalFor:P.a.title,modalState:a,reportTitle:e.reportTitle,changeModalState:i,setReportTitle:e.setReportTitle})]})},N=c.a.memo(E),C=s(722),R=s(66),T=s(723),S=s(700),w=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(y.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(y.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Exams preparation chart"})}),Object(y.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(y.jsx)(S.a,{labels:["Remaining exams","Prepared exams"],categoriesLabel:["Exam preparation progress"],dataLabels:!0,yaxisText:"Exam preparation progress",tooltipText:"(Exams)",series:[{name:"Remaining exams",data:[this.props.examPreparationProgress.remaining.length]},{name:"Prepared exams",data:[this.props.examPreparationProgress.finished.length]}],colors:["#4b5563","#469769"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(o.Component),L=c.a.memo(w),A=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(y.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(y.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Examination progress chart"})}),Object(y.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(y.jsx)(S.a,{labels:["Remaining exams","Prepared exams"],categoriesLabel:["Examinations progress"],dataLabels:!0,yaxisText:"Examination progress",tooltipText:"(Exams)",series:[{name:"Remaining exams",data:[this.props.progressData.remaining.length]},{name:"Done exams",data:[this.props.progressData.finished.length]}],colors:["#4b5563","#469769"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(o.Component),I=c.a.memo(A),D=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(y.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(y.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Examination performance chart"})}),Object(y.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(y.jsx)(S.a,{labels:["Pass applicant(s)","Failed applicant(s)"],categoriesLabel:["Exam preparation progress"],dataLabels:!0,yaxisText:"Exam performance",tooltipText:"(Applicants)",series:[{name:"Pass applicant(s)",data:[this.props.examPerformance.pass.length]},{name:"Failed applicant(s)",data:[this.props.examPerformance.failed.length]}],colors:["#469769","#d97724"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(o.Component),k=c.a.memo(D),F=function(e,t){if(e)return e.find((function(e){return e.school_level_id===t}))},M=function(e,t,s){var a=[],i=!1;if(t&&e){var r=function(i){Object.prototype.hasOwnProperty.call(t,i)&&(t[i].school_levels.length>0?t[i].school_levels.forEach((function(r){var n=F(s,r);n&&(n.education_institute.includes(e.education_institute_id)||n.education_institute.length<=0)&&a&&a.push(t[i])})):a&&a.push(t[i]))};for(var n in t)r(n)}else i=!0;return i?t:a},U=function(e,t,s,a,i,r){var n=[],o=[],c=[],l=!1;return e&&M(s,a,i)&&t&&(l=!0,o=(n=Object(h.a)(M(s,a,i),t,e).filter((function(e){return e.exam&&e.exam.period===r}))).filter((function(e){return"done"===e.preparation_status.toLocaleLowerCase()})),c=n.filter((function(e){return"active"===e.preparation_status.toLocaleLowerCase()}))),console.log("===================================="),console.log({loadExaminationProgress:e}),console.log("===================================="),l?{all:n,finished:o,remaining:c}:null},W=function(e){return{all:e,finished:e.filter((function(e){return"prepared"===e.preparation_status})),remaining:e.filter((function(e){return"not prepared"===e.preparation_status}))}},q=function(e){var t=m()().format("DD-MM-YYYY"),s=m()(t,"DD-MM-YYYY"),a=m()(e,"DD-MM-YYYY");return!(s.diff(a)>0)},G=function(e,t){return{all:e.filter((function(e){return e.exam.period===t})),pass:e.filter((function(e){return e.exam.period===t&&("Editing"!==e.exam_stastus||q(e.exam.exam_date))&&e.user_total_marks>=50})),failed:e.filter((function(e){return e.exam.period===t&&("Editing"!==e.exam_stastus||q(e.exam.exam_date))&&e.user_total_marks<50})),active:e.filter((function(e){return e.exam.period===t&&"Editing"===e.exam_stastus&&!q(e.exam.exam_date)}))}},B=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).setLoading=function(e){i.setState({loading:e})},i.setLoadingCourses=function(e){i.setState({loadingCourses:e})},i.setLoadingExams=function(e){i.setState({loadingExams:e})},i.setLoadingDoneExam=function(e){i.setState({loadingDoneExam:e})},i.setLoadingCandidatesExamPerformance=function(e){i.setState({loadingCandidatesExamPerformance:e})},i.setLoadingExamPerformance=function(e){i.setState({loadingExamPerformance:e})},i.setLoadingSettings=function(e){i.setState({loadingSettings:e})},i.setChangingPeriod=function(e){i.setState({changingPeriod:e})},i.setReportTitle=function(e){i.setState({reportTitle:e})},i.setThisEducation=function(e){i.setState({thisEducation:e})},i.setThisPeriod=function(e){i.setState({thisPeriod:e})},i.loadByPeriods=function(e){i.props.loadDoneExam(e._id,(function(e,t){e||(t.length>0&&i.props.PushPopupAlert({title:t,theme:f.a.danger}),i.setLoadingDoneExam(!1))})),i.props.loadPerfomranceExam(e._id,(function(e,t){e||(t.length>0&&i.props.PushPopupAlert({title:t,theme:f.a.danger}),i.setLoadingExamPerformance(!1))}))},i.componentDidMount=function(){if(null===i.props.schoolLevels.education_categories||0===i.props.schoolLevels.education_categories.length?i.props.loadEducationCategories(i.setLoadingSettings):i.props.schoolLevels.education_categories.length>0&&!i.state.thisEducation&&(i.setThisEducation(i.props.schoolLevels.education_categories[0]),i.setLoadingSettings(!1)),null===i.props.application_sessions)i.props.GetAllSessionPlans((function(e,t,s){var a;(i.setLoadingSettings(e),i.setLoading(e),!e&&t.length&&i.props.PushPopupAlert({title:t,theme:f.a.danger}),!e&&s&&s.length>0)&&((a=s.find((function(e){return e.is_active})))?i.setThisPeriod(a._id):i.setThisPeriod(s[s.length-1]._id))}));else if(i.props.application_sessions.length>0&&!i.state.thisPeriod.length){var e;(e=i.props.application_sessions.find((function(e){return e.is_active})))?(i.setThisPeriod(e._id),i.loadByPeriods(e)):(i.setThisPeriod(i.props.application_sessions[i.props.application_sessions.length-1]._id),i.loadByPeriods(i.props.application_sessions[i.props.application_sessions.length-1])),i.setLoadingSettings(!1),i.setLoading(!1)}null===i.props.schoolLevels.school_levels||i.props.schoolLevels.school_levels.length<=0?i.props.loadSchoolLevels(i.setLoadingSettings):i.setLoadingSettings(!1),(null===i.props.adminExamReport.CandidatesExamPerformance||0===i.props.adminExamReport.CandidatesExamPerformance.length&&i.state.loadingCandidatesExamPerformance)&&i.props.loadCandidatesExamPerformance(null,(function(e,t){e||(t.length>0&&i.props.PushPopupAlert({title:t,theme:f.a.danger}),i.setLoadingCandidatesExamPerformance(!1))}))},i.onPeriodChange=function(e){i.setLoadingDoneExam(!0),i.setLoadingExamPerformance(!0),i.setChangingPeriod(!0),i.props.loadDoneExam(e,(function(e,t){if(!e){var s=!0;t.length>0&&s&&(i.props.PushPopupAlert({title:t,theme:f.a.danger}),s=!1),i.setLoadingDoneExam(!1)}})),i.props.loadPerfomranceExam(e,(function(e,t){if(!e){var s=!0;t.length>0&&s&&(i.props.PushPopupAlert({title:t,theme:f.a.danger}),s=!1),i.setLoadingExamPerformance(!1)}})),i.state.loadingDoneExam||i.state.loadingExamPerformance||i.setChangingPeriod(!1)},i.state={loading:!0,loadingCourses:!0,loadingExams:!0,loadingDoneExam:!0,loadingCandidatesExamPerformance:!0,loadingExamPerformance:!0,loadingSettings:!0,changingPeriod:!1,reportTitle:j.reportTitleType.EXAM_PREPARATION,thisEducation:null,thisPeriod:""},i}return Object(i.a)(s,[{key:"render",value:function(){return this.state.loading||null===this.props.application_sessions?Object(y.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):0===this.props.application_sessions.length?Object(y.jsx)(g.a,{}):Object(y.jsxs)("div",{children:[Object(y.jsx)(N,{reportTitle:this.state.reportTitle,setReportTitle:this.setReportTitle,loading:this.state.changingPeriod,education_categories:this.props.schoolLevels.education_categories,loadingEducation:!1,thisEducation:this.state.thisEducation,setThisEducation:this.setThisEducation,thisPeriod:this.state.thisPeriod,setThisPeriod:this.setThisPeriod,application_sessions:this.props.application_sessions,onPeriodChange:this.onPeriodChange}),this.props.examsList&&M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsxs)("section",{className:"my-2",children:[Object(y.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Exams preparation status"}),Object(y.jsx)(C.a,{dataLabels:[{title:"Total exams",icon:R.c,iconColor:"blue",count:W(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).all.length},{title:"Prepared exams",icon:R.c,iconColor:"green",count:W(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).finished.length},{title:"Remaining exams",icon:R.c,iconColor:"gray",count:W(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).remaining.length}],labelsOnRow:5,children:Object(y.jsx)("div",{className:"flex justify-center",children:Object(y.jsx)(T.a,{options:{labels:["Prepared","Remaining"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#4b5563"]},series:[W(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).finished.length,W(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).remaining.length],width:210})})})]}),U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)&&Object(y.jsxs)("section",{className:"my-2",children:[Object(y.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Examination progress status"}),Object(y.jsx)(C.a,{dataLabels:[{title:"Total exams",icon:R.c,iconColor:"blue",count:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).all.length},{title:"Done exams",icon:R.c,iconColor:"green",count:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).finished.length},{title:"Remaining exams",icon:R.c,iconColor:"gray",count:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).remaining.length}],labelsOnRow:5,children:Object(y.jsx)("div",{className:"flex justify-center",children:Object(y.jsx)(T.a,{options:{labels:["Done","Remaining"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#4b5563"]},series:[U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).finished.length,U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).remaining.length],width:210})})})]}),this.props.adminExamReport.CandidatesExamPerformance&&M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsxs)("section",{className:"my-2",children:[Object(y.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Examination performance status"}),Object(y.jsx)(C.a,{dataLabels:[{title:"Total attendance",icon:R.c,iconColor:"blue",count:G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).all.length},{title:"Pass applicant(s)",icon:R.c,iconColor:"green",count:G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).pass.length},{title:"Failed applicant(s)",icon:R.c,iconColor:"yellow",count:G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).failed.length}],labelsOnRow:5,children:Object(y.jsx)("div",{className:"flex justify-center",children:Object(y.jsx)(T.a,{options:{labels:["Pass","Failed"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#d97724"]},series:[G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).pass.length,G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).failed.length],width:210})})})]}),this.props.examsList&&M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsx)(L,{examPreparationProgress:W(Object(b.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod))}),U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)&&Object(y.jsx)(I,{progressData:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)}),this.props.adminExamReport.CandidatesExamPerformance&&M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(y.jsx)(k,{examPerformance:G(Object(x.b)(Object(x.a)(M(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod)})]})}}]),s}(o.Component),z=Object(l.b)((function(e){var t=e.auth,s=e.sessionPlan,a=e.schoolLevels,i=e.course,r=e.prepareExam,n=e.adminExamReport;return{auth:t,application_sessions:s.allSessionPlans,schoolLevels:a,courses:i.courses,examsList:r.examsList,adminExamReport:n}}),{loadCourses:d.Fc,loadExamsList:d.Kc,loadEducationCategories:d.Hc,loadDoneExam:d.Gc,loadSchoolLevels:d.Pc,loadPerfomranceExam:d.Mc,loadCandidatesExamPerformance:d.Ec,GetAllSessionPlans:p.d,PushPopupAlert:d.Qb})(B)},767:function(e,t,s){"use strict";var a,i,r;s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return r})),function(e){e.WAITING="waiting",e.PENDING="pending",e.PLACED="placed"}(a||(a={})),function(e){e.male="Male",e.female="Female",e.null="-"}(i||(i={})),function(e){e.names="names",e.gender="gender",e.national_id="national_id",e.email="email",e.phone="phone",e.user_position_marks="user_position_marks",e.position_title="position_title",e.education_category="education_category",e.date="date",e.waiting_status="waiting_status",e.waitingList_session="waitingList_session"}(r||(r={}))},922:function(e,t,s){"use strict";s.r(t),s.d(t,"getPeriodById",(function(){return G})),s.d(t,"WaitingListReport",(function(){return X}));var a=s(25),i=s(24),r=s(27),n=s(26),o=s(4),c=s.n(o),l=s(72),d=s(204),p=s(68),u=s(67),m=s(49),x=s(12),h=s(23),b=s(3),j=s(202),f=s(685),g=s(210),O=s(205),_=s(33),v=s(66),P=s(1),y=function(e){return Object(P.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at district level"})]}),Object(P.jsx)("p",{children:function(){var t=Object(P.jsx)(P.Fragment,{}),s="";return 0===e.data.length?t=Object(P.jsx)("p",{children:"The system will place me in the available posts from all districts of the selected provinces."}):!1===e.strict&&e.data.length>0?(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-1&&(s+=", ")})),t=Object(P.jsxs)("p",{children:["The system will place you in the available posts"," ",Object(P.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(P.jsx)("span",{className:"font-semibold",children:s})," and all remaining districts."]})):!0===e.strict&&e.data.length>0&&(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-2&&(s+=", "),a===e.data.length-2&&a>0&&(s+=" and ")})),t=Object(P.jsxs)("p",{children:["The system will ",Object(P.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in"," ",Object(P.jsx)("span",{className:"font-semibold",children:s}),"."]})),t}()})]})},E=function(e){return Object(P.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at province level"})]}),Object(P.jsx)("p",{children:function(){var t=Object(P.jsx)(P.Fragment,{}),s="";return 0===e.data.length?t=Object(P.jsx)("p",{children:"The system will place me in the available posts from all provinces."}):!1===e.strict&&e.data.length>0?(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-1&&(s+=", ")})),t=Object(P.jsxs)("p",{children:["The system will place me in the available posts"," ",Object(P.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(P.jsx)("span",{className:"font-semibold",children:s})," and all remaining provinces."]})):!0===e.strict&&e.data.length>0&&(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-2&&(s+=", "),a===e.data.length-2&&a>0&&(s+=" and ")})),t=Object(P.jsxs)("p",{children:["The system will ",Object(P.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in"," ",Object(P.jsx)("span",{className:"font-semibold",children:s}),"."]})),t}()})]})},N=function(e){return Object(P.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at school level"})]}),Object(P.jsx)("p",{children:function(){var t=Object(P.jsx)(P.Fragment,{}),s="";return 0===e.data.length?t=Object(P.jsx)("p",{children:"The system will place me in the available posts from all Schools of the selected provinces, districts, and sectors."}):!1===e.strict&&e.data.length>0?(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-1&&(s+=", ")})),t=Object(P.jsxs)("p",{children:["The system will place me in the available posts"," ",Object(P.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(P.jsx)("span",{className:"font-semibold",children:s})," and in all remaining schools from the selected schools, districts, and sectors."]})):!0===e.strict&&e.data.length>0&&(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-2&&(s+=", "),a===e.data.length-2&&a>0&&(s+=" and ")})),t=Object(P.jsxs)("p",{children:["The system will ",Object(P.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in ",Object(P.jsx)("span",{className:"font-semibold",children:s}),"."]})),t}()})]})},C=function(e){return Object(P.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at sector level"})]}),Object(P.jsx)("p",{children:function(){var t=Object(P.jsx)(P.Fragment,{}),s="";return 0===e.data.length?t=Object(P.jsx)("p",{children:"The system will place me in the available posts from all sectors."}):!1===e.strict&&e.data.length>0?(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-1&&(s+=", ")})),t=Object(P.jsxs)("p",{children:["The system will place me in the available posts"," ",Object(P.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(P.jsx)("span",{className:"font-semibold",children:s})," and all remaining sectors of the selected provinces and districts."]})):!0===e.strict&&e.data.length>0&&(e.data.forEach((function(t,a){s+=t.title,a<=e.data.length-2&&(s+=", "),a===e.data.length-2&&a>0&&(s+=" and ")})),t=Object(P.jsxs)("p",{children:["The system will ",Object(P.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in ",Object(P.jsx)("span",{className:"font-semibold",children:s}),"."]})),t}()})]})},R=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).componentDidMount=function(){null===i.props.locations&&Object(b.Hb)((function(e,t,s){!0===e&&null!==t?(i.props.FC_GetWaitingLocationList(t),i.setState({loading:!1})):i.setState({loading:!1})})),null===i.state.selectedSchool&&i.props.contract.school.values.length>=1?(i.setState({loading:!0}),i.props.FC_LoadSchoolsByIDs(i.props.contract.school.values.map((function(e){return e.toString()})),(function(e,t,s){!0===e&&i.setState({selectedSchool:t,loading:!1})}))):i.setState({loading:!1,selectedSchool:[]})},i.state={loading:!0,selectedSchool:null},i}return Object(i.a)(s,[{key:"render",value:function(){var e=this;if(!0===this.state.loading||null===this.props.locations||null===this.state.selectedSchool)return Object(P.jsxs)("div",{className:"bg-white mt-6 mx-6 p-6 h-full flex flex-col items-start justify-center rounded",children:[Object(P.jsx)("div",{className:"text-xl mx-4 my-4 animate-pulse",children:"Loading contract, Please wait..."}),Object(P.jsx)(_.a,{})]});var t=[],s=[],a=[];null!==this.props.contract&&(this.props.contract.province.values.forEach((function(s){if(null!==e.props.locations){var a=e.props.locations.provinces.find((function(e){return e.province_code===s.toString()}));void 0!==a&&t.push({id:a.province_code,title:a.province_name})}})),this.props.contract.district.values.forEach((function(t){if(null!==e.props.locations){var a=e.props.locations.districts.find((function(e){return e.district_code===t.toString()}));void 0!==a&&s.push({id:a.district_code,title:a.district_name})}})),this.props.contract.sector.values.forEach((function(t){if(null!==e.props.locations){var s=e.props.locations.sectors.find((function(e){return e.sector_code===t.toString()}));void 0!==s&&a.push({id:s.sector_code,title:s.sector_name})}})));var i=Object(P.jsx)("span",{className:"font-semibold",children:this.props.candidates}),r=Object(P.jsx)("span",{className:"font-semibold",children:this.props.position});return Object(P.jsxs)("div",{className:"pb-4",children:[Object(P.jsxs)("div",{className:"px-4",children:[Object(P.jsx)("h2",{className:"text-black text-center font-semibold text-2xl sm:text-3xl underline",children:"Placement Preferences"}),Object(P.jsxs)("div",{className:"mt-6 text-lg flex flex-col",children:[Object(P.jsxs)("p",{children:["Names: ",i]}),Object(P.jsxs)("p",{children:["Position: ",r]})]})]}),Object(P.jsx)(E,{data:t,strict:this.props.contract.province.strict}),Object(P.jsx)(y,{data:s,strict:this.props.contract.district.strict}),Object(P.jsx)(C,{data:a,strict:this.props.contract.sector.strict}),Object(P.jsx)(N,{data:this.state.selectedSchool.map((function(e){return{id:e.school_code,title:e.school_name}})),strict:this.props.contract.school.strict})]})}}]),s}(o.Component),T=c.a.memo(Object(h.b)((function(e){return{locations:e.locations.waitingLocation}}),{FC_LoadSchoolsByDistrict:b.db,FC_LoadSchoolsByIDs:b.eb,FC_GetWaitingLocationList:O.k})(R)),S=s(692),w=s(92),L=s(688),A=s(19),I=s(684),D=s(21),k=s(767),F=s(32),M=s(691),U=s(28),W=s(698),q=s(683),G=function(e,t){return e.find((function(e){return e._id===t}))},B=[{key:k.c.names,title:"Applicant Names",status:!0},{key:k.c.national_id,title:"National ID",status:!0},{key:k.c.gender,title:"Gender",status:!0},{key:k.c.phone,title:"Phone",status:!0},{key:k.c.user_position_marks,title:"Applicant marks",status:!0},{key:k.c.waitingList_session,title:"Waiting list Session",status:!0},{key:k.c.education_category,title:"Education Institute",status:!0},{key:k.c.date,title:"Waiting list Date",status:!0},{key:k.c.waiting_status,title:"Waiting list Status",status:!0},{key:k.c.position_title,title:"Position",status:!0}],z=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).setLoading=function(e){i.setState({loading:e})},i.setLoadingWaitingList=function(e){i.setState({loadingWaitingList:e})},i.setThisPeriod=function(e){i.setState({thisPeriod:e})},i.setWaitingListToPrint=function(e){i.setState({waitingListToPrint:e})},i.setThisWaitingListStatus=function(e){i.setState({thisWaitingListStatus:e})},i.setThisPosition=function(e){i.setState({thisPosition:e})},i.setSelectPosition=function(e){i.setState({selectPosition:e})},i.setSortProperty=function(e){i.setState({sortProperty:e})},i.setIsSorted=function(e){i.setState({isSorted:e})},i.setSortOrder=function(e){i.setState({sortOrder:e})},i.setSearchInput=function(e){i.setState({searchInput:e})},i.setSearchPositionInput=function(e){i.setState({searchPositionInput:e})},i.setDownloading=function(e){i.setState({downloading:e})},i.setGenerateReportModal=function(e){i.setState({generateReportModal:e})},i.setReportTitle=function(e){i.setState({reportTitle:e})},i.setReportContent=function(e){i.setState({reportContent:e})},i.setSelectAll=function(e){i.setState({selectAll:e})},i.setFormError=function(e){i.setState({formError:e})},i.setSelectPeriod=function(e){i.setState({selectPeriod:e})},i.setThisEducation=function(e){i.setState({thisEducation:e})},i.FC_OnInstitutionChanged=function(e){i.props.FC_GetAllSessionByInstitution(e,(function(e,t){i.setLoading(e),e||t.length&&i.props.PushPopupAlert({title:t,theme:D.a.danger})})),i.props.FC_GetPositionsByInstitution(e,(function(e,t){i.setLoading(e),t.length&&i.props.PushPopupAlert({title:t,theme:D.a.danger})})),i.props.getWaitingList((function(e,t){i.setLoadingWaitingList(e),!1===e&&t.length>0&&i.props.PushPopupAlert({title:t,theme:D.a.danger})}))},i.componentDidMount=function(){!0===Object(U.d)(i.props.auth.education_institution_id)?i.FC_OnInstitutionChanged(i.props.auth.education_institution_id):null===i.props.schoolLevels.education_categories||i.props.schoolLevels.education_categories.length?i.props.loadEducationCategories((function(e,t){i.setLoading(e),!e&&t&&t.length>0&&(i.setThisEducation(t[0]),!1===Object(U.d)(i.props.auth.education_institution_id)?i.FC_OnInstitutionChanged(t[0].education_institute_id):i.FC_OnInstitutionChanged(i.props.auth.education_institution_id))})):i.props.schoolLevels.selectedEducationCategory||(i.setThisEducation(i.props.schoolLevels.education_categories[0]),i.FC_OnInstitutionChanged(i.props.schoolLevels.education_categories[0].education_institute_id))},i.setSort=function(e){i.state.sortProperty===e&&"ASC"===i.state.sortOrder?i.setSortOrder("DESC"):i.setSortOrder("ASC"),i.setSortProperty(e),i.setIsSorted(!0)},i.showStatus=function(e){var t="";switch(e){case k.a.WAITING:t="Waiting";break;case k.a.PENDING:t="Placed & pending";break;case k.a.PLACED:t="Placed & confirmed";break;default:t="All"}return t},i.FC_WaitingListStatus=function(e){var t=[{title:"All status",count:e.length,type:"all"}],s=Object.values(k.a),a=function(a){t.push({title:Object(F.a)(s[a]),count:e.filter((function(e){return e.status===s[a]})).length,type:s[a]})};for(var i in s)a(i);return t},i.updateReportContent=function(e){var t=i.state.reportContent.findIndex((function(t){return t.key===e})),s=i.state.reportContent;s[t].status=!s[t].status,i.setReportContent(s),s.find((function(e){return!1===e.status}))?i.setSelectAll(!1):i.setSelectAll(!0),i.updateWaitingListToPrint()},i.updateWaitingListToPrint=function(){if(i.state.thisPosition){var e="";e="all"===i.state.thisPeriod?"All session":i.state.thisPeriod.session_plan_name,i.setReportTitle("Waiting list - "+i.state.thisPosition.position_title+" - "+e)}if(i.props.systemPositions&&i.props.waitingList&&i.props.application_sessions){var t=[],s=1;for(var a in i.props.waitingList)if(Object.prototype.hasOwnProperty.call(i.props.waitingList,a)){var r=i.props.waitingList[a],n=Object(F.d)(i.props.systemPositions,r.position_id),o=G(i.props.application_sessions,r.session_id),c={id:s.toString(),names:r.user_info.fname+" "+r.user_info.lname,gender:"M"===r.user_info.sex?"Male":"Female",national_id:r.n_id,phone:r.phone_number,email:r.email,user_position_marks:Number(r.marks.toFixed(2)),position_title:n?n.position_title:"Unknown position",education_category:n?n.education_institute_id.education_category_title:"-",waitingList_session:o?o.session_plan_name:"Unknown session",date:Object(U.a)(r.createdAt),waiting_status:i.showStatus(r.status)};for(var l in i.state.reportContent)Object.prototype.hasOwnProperty.call(i.state.reportContent,l)&&(i.state.reportContent[l].status||delete c[i.state.reportContent[l].key]);t.push(c),s++}i.setWaitingListToPrint(t),t=[],s=1}},i.FC_WaitingListData=function(e,t){if(null===e||null===t||null===i.props.application_sessions)return null;var s=[];for(var a in e){var r=e[a];if(r.user_info){var n=Object(F.d)(t,r.position_id),o=G(i.props.application_sessions,r.session_id),c={names:r.user_info.fname+" "+r.user_info.lname,waitingList_id:r._id,gender:"M"===r.user_info.sex?k.b.male:k.b.female,national_id:r.n_id,phone:r.phone_number,email:r.email,user_position_marks:Number(r.marks.toFixed(2)),position_id:n?n.position_id:"Unknown position",position_title:n?n.position_title:"Unknown position",education_category:n?n.education_institute_id.education_category_title:"",education_category_id:n?n.education_institute_id.education_institute_id:"",waitingList_session:o?o.session_plan_name:"Unknown session",date:Object(U.a)(r.createdAt),waiting_status:i.showStatus(r.status),status:r.status,waitingList_session_id:r.session_id};s.push(c)}}return s},i.resetReportContent=function(e){var t=i.state.reportContent;for(var s in t)i.isChangeAllowed(t[s].key)&&(t[s].status=!e);i.setReportContent(t),i.setSelectAll(!e),i.updateWaitingListToPrint()},i.isChangeAllowed=function(e){return e!==k.c.names&&e!==k.c.waiting_status&&e!==k.c.waitingList_session&&e!==k.c.position_title&&e!==k.c.date&&e!==k.c.user_position_marks&&e!==k.c.national_id&&e!==k.c.education_category},i.generateReportTitle=function(e){var t="";t="all"===i.state.thisPeriod?"All session":i.state.thisPeriod.session_plan_name,i.setReportTitle("Waiting list - "+e+" - "+t)},i.FC_GeneratePDF=function(){if(document.querySelectorAll("#report_content tbody tr").length){var e="";e="all"===i.state.thisPeriod?"All session":i.state.thisPeriod.session_plan_name;var t=document.getElementById("report_content"),s={doneBy:i.props.auth.user.fname+" "+i.props.auth.user.lname,title:i.state.reportTitle,subjectTitle:"Position",subject:i.state.thisPosition?i.state.thisPosition.position_title:"All position",period:e,footer:"Online Teacher Recruitment",institute:i.state.thisPosition?i.state.thisPosition.education_institute_id.education_category_title:""};t&&Object(S.a)(s,t,i.setDownloading)}else i.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:D.a.warning})},i.FC_FilterWaitingList=function(e,t,s,a,i){var r=e;return"all"!==t&&(r=r.filter((function(e){return e.status===t}))),i&&(r=r.filter((function(e){return e.position_id===i.position_id}))),"all"!==s&&(r=r.filter((function(e){return e.waitingList_session_id===s._id}))),"all"!==a&&(r=r.filter((function(e){return e.education_category===a.education_category_title}))),r},i.viewContractor=function(e){var t=void 0;return i.props.waitingList&&(t=i.props.waitingList.find((function(t){return t._id===e.waitingList_id}))),t},i.state={thisPeriod:"all",loading:!0,loadingWaitingList:!0,waitingListToPrint:null,thisWaitingListStatus:"all",thisPosition:null,selectPosition:!1,sortProperty:"",isSorted:!1,sortOrder:"ASC",searchInput:"",searchPositionInput:"",downloading:!1,generateReportModal:null,reportTitle:"",reportContent:B,selectAll:!0,formError:null,selectPeriod:!1,thisEducation:"all",selectedWaiting:null},i}return Object(i.a)(s,[{key:"render",value:function(){var e,t,s=this;return this.props.application_sessions&&0===this.props.application_sessions.length?Object(P.jsx)(q.a,{}):Object(P.jsxs)("div",{children:[Object(P.jsxs)(I.b,{children:[!1===Object(U.d)(this.props.auth.education_institution_id)&&Object(P.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(P.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===this.props.schoolLevels.education_categories?Object(P.jsx)(_.a,{}):0===this.props.schoolLevels.education_categories.length?Object(P.jsx)("span",{children:"No institute found"}):Object(P.jsx)(o.Fragment,{children:this.props.schoolLevels.education_categories.map((function(e,t){return Object(P.jsxs)("div",{onClick:function(){s.setThisEducation(e),s.FC_OnInstitutionChanged(e.education_institute_id)},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"!==s.state.thisEducation&&s.state.thisEducation.education_institute_id===e.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"!==s.state.thisEducation&&s.state.thisEducation.education_institute_id===e.education_institute_id?Object(P.jsx)(x.Cb,{}):Object(P.jsx)(x.Db,{}),Object(P.jsx)("span",{children:e.education_category_title})]},t+1)}))})]}),Object(P.jsxs)("div",{className:"",children:[Object(P.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(P.jsxs)("div",{onClick:function(){return s.setSelectPeriod(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-base px-2 hover:underline  text-blue-600  mb-4 w-full flex flex-row items-center gap-2 justify-between animate__animated animate__zoomIn",children:["all"!==this.state.thisPeriod?"".concat(Object(F.b)(this.state.thisPeriod.session_plan_name)," - ").concat(this.state.thisPeriod.period):"All session",Object(P.jsx)(d.e,{className:"text-xl text-blue-600"})]})]}),Object(P.jsxs)("div",{className:"pt-1",children:[Object(P.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Claim types:"}),this.state.loadingWaitingList||null===this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)?Object(P.jsx)(_.a,{}):this.FC_WaitingListStatus(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)).map((function(e,t){return Object(P.jsx)("div",{onClick:function(){return s.setThisWaitingListStatus(e.type)},children:Object(P.jsx)(I.a,{title:e.title,count:e.count,active:s.state.thisWaitingListStatus===e.type})},e.title+t)}))]})]}),Object(P.jsxs)("section",{children:[Object(P.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(P.jsx)("div",{className:"col-span-6",children:Object(P.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(P.jsx)("span",{className:"text-3xl font-bold text-gray-700",children:"Waiting list report"}),Object(P.jsxs)("div",{onClick:function(){return s.setSelectPosition(!0)},className:"flex flex-row gap-2",children:[Object(P.jsx)("span",{className:"text-gray-500",children:"Selected position: "}),Object(P.jsx)("span",{className:"text-blue-600 font-bold underline cursor-pointer",children:null!==this.state.thisPosition?this.state.thisPosition.position_title:"All position"})]})]})}),Object(P.jsx)("div",{className:"col-span-6",children:Object(P.jsxs)("div",{className:"float-right mt-2",children:[this.props.waitingList&&this.props.waitingList.length>0&&Object(P.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(P.jsx)(l.e,{className:"text-2xl text-gray-500"}),Object(P.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(P.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",disabled:this.state.loading,onClick:function(){s.updateWaitingListToPrint(),s.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(P.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 ".concat(this.state.downloading&&"cursor-wait"),onClick:function(){return s.FC_GeneratePDF()},disabled:this.state.loading||this.state.downloading,children:"PDF"})]}),Object(P.jsxs)("div",{onClick:function(){return s.setSelectPosition(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(P.jsx)(l.g,{className:"text-xl"}),"Filter by position"]})]})})]}),Object(P.jsxs)("div",{className:"bg-white my-4",children:[Object(P.jsx)("div",{className:"w-full px-2 py-2",children:Object(P.jsx)("input",{onChange:function(e){return s.setSearchInput(e.target.value)},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded focus:border-gray-800",disabled:this.state.loadingWaitingList||null===this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)})}),Object(P.jsx)("div",{className:"w-full overflow-x-auto",children:Object(P.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(P.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("names")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Applicant names ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("gender")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Gender ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("user_position_marks")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Marks ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("position_title")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Position ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("education_category")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Institute ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("waiting_status")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("waitingList_session")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Session ",Object(P.jsx)(l.j,{})]})}),Object(P.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("date")},children:Object(P.jsxs)("div",{className:"flex items-center gap-1",children:["Date ",Object(P.jsx)(l.j,{})]})})]})}),Object(P.jsx)("tbody",{children:this.state.loadingWaitingList?Object(P.jsx)(L.a,{cols:11}):null===this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)?Object(P.jsx)(L.a,{cols:10}):0===this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),this.state.thisWaitingListStatus,this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition).length?Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:11,className:"px-2 py-2",children:Object(P.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(P.jsx)(p.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(P.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"}),Object(P.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(P.jsxs)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:[Object(P.jsx)("li",{onClick:function(){return s.setSelectPosition(!0)},className:"underline text-gray-500 cursor-pointer",children:"Filter by position"}),Object(P.jsx)("li",{className:"text-gray-400 italic",children:"or"}),Object(P.jsx)("li",{className:"text-gray-500 underline",onClick:function(){return s.setSelectPeriod(!0)},children:"Filter by period"})]})})]})})}):Object(U.q)(this.state.isSorted,(e=this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),this.state.thisWaitingListStatus,this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition),t=this.state.searchInput,void 0===t||""===t?e:e.filter((function(e){var s;for(var a in e)if(s=!1,"names"!==a&&"gender"!==a&&"national_id"!==a&&"phone"!==a&&"email"!==a&&"user_position_marks"!==a&&"position_title"!==a&&"education_category"!==a&&"waitingList_session"!==a&&"date"!==a&&"waiting_status"!==a||e[a]&&(s=e[a].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))),this.state.sortProperty,this.state.sortOrder).map((function(e,t){return Object(P.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 cursor-pointer border-b border-gray-300 hover:border-blue-500 text-sm"),onClick:function(){return s.setState({selectedWaiting:e})},children:[Object(P.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.names}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.national_id}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.gender}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.phone}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.user_position_marks}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.position_title}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.education_category}),Object(P.jsx)("td",{className:"px-2 py-2",children:Object(F.a)(e.waiting_status.toLowerCase())}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.waitingList_session}),Object(P.jsx)("td",{className:"px-2 py-2",children:e.date})]},t+1)}))})]})})]}),this.state.selectPosition&&Object(P.jsx)(A.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(m.k,{className:"text-5xl text-blue-600"}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Filter by a position"})})]}),backDrop:!0,theme:A.c.default,close:function(){s.setSelectPosition(!1),s.setSearchPositionInput("")},backDropClose:!0,widthSizeClass:A.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(P.jsx)("div",{className:"px-2 pb-2",children:null===this.props.systemPositions?Object(P.jsx)(w.b,{type:w.a.dark}):0===this.props.systemPositions.length?Object(P.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(P.jsx)(x.Nb,{className:"text-6xl"}),Object(P.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(P.jsx)("span",{children:"No positions found! Please go back!"})})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-gray-600 text-xs font-bold",children:"Filter by position name"}),Object(P.jsx)("input",{onChange:function(e){return s.setSearchPositionInput(e.target.value)},type:"text",className:"mb-4 bg-gray-100 px-3 py-2 rounded",placeholder:"Keyword..."})]}),Object(P.jsx)("div",{onClick:function(){s.generateReportTitle("All position"),s.setThisPosition(null),s.setSelectPosition(!1),s.setSearchPositionInput("")},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(P.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(P.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(P.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(P.jsx)("div",{children:Object(P.jsx)(u.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("span",{className:"text-base lg:text-lg font-bold text-gray-700",children:"All position"})})]})}),Object(P.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(P.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(P.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})}),Object(U.n)(this.props.systemPositions,this.state.searchPositionInput).map((function(e,t){return Object(P.jsx)("div",{onClick:function(){s.generateReportTitle(e.position_title),s.setThisPosition(e),s.setSelectPosition(!1),s.setSearchPositionInput("")},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(P.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(P.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(P.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(P.jsx)("div",{children:Object(P.jsx)(u.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:e.position_title}),Object(P.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(P.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:e.school_level_id.school_level_name})]}),Object(P.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:e.education_institute_id.education_category_title})]})]})}),Object(P.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(P.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(P.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})},t+1)}))]})})}),this.state.selectPeriod&&Object(P.jsx)(A.d,{title:Object(P.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(P.jsx)(x.Q,{className:"text-5xl text-blue-600"}),Object(P.jsx)("span",{className:"flex flex-col",children:"Choose a period"})]}),backDrop:!0,theme:A.c.default,close:function(){return s.setSelectPeriod(!1)},backDropClose:!0,widthSizeClass:A.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(P.jsx)(W.a,{allSession:this.props.application_sessions,setSelectSession:function(e){s.setThisPeriod(e),s.setSelectPeriod(!1)},chooseAll:!0,currentSelected:this.state.thisPeriod})}),null!==this.state.generateReportModal&&!0===this.state.generateReportModal.status&&Object(P.jsx)(A.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(P.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",this.state.generateReportModal.reportType," ","Report"]})]})}),backDrop:!0,theme:A.c.default,close:function(){return s.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:A.b.medium,displayClose:!0,padding:{title:!0},children:Object(P.jsxs)("div",{className:"px-6",children:[Object(P.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("label",{children:"Title"}),Object(P.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(this.state.formError&&"report_title"===this.state.formError.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:this.state.reportTitle,onChange:function(e){s.setFormError(null),s.setReportTitle(e.target.value)},disabled:this.state.loading}),this.state.formError&&"report_title"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(P.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(P.jsx)("label",{children:"Report content"}),Object(P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:this.state.reportContent.map((function(e,t){return Object(P.jsxs)("div",{className:"flex items-center gap-1 ".concat(s.isChangeAllowed(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return s.isChangeAllowed(e.key)&&s.updateReportContent(e.key)},title:s.isChangeAllowed(e.key)?"":"Required for every report!",children:[e.status?Object(P.jsx)(x.s,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(x.t,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:e.title})]},t)}))}),this.state.formError&&"report_content"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]})]}),Object(P.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(P.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return s.resetReportContent(s.state.selectAll)},children:[this.state.selectAll?Object(P.jsx)(x.s,{className:"w-6 h-6 text-blue-700"}):Object(P.jsx)(x.t,{className:"w-6 h-6"}),Object(P.jsx)("span",{children:"Select all"})]}),this.state.waitingListToPrint&&!this.state.loading&&Object(P.jsx)(M.a,{fileData:this.state.waitingListToPrint,fileName:this.state.reportTitle,btnName:"Generate"})]})]})}),this.state.selectedWaiting&&this.viewContractor(this.state.selectedWaiting)&&Object(P.jsx)(A.d,{title:Object(P.jsx)("div",{className:"flex flex-row gap-4 items-center"}),backDrop:!0,theme:A.c.default,close:function(){return s.setState({selectedWaiting:null})},backDropClose:!0,widthSizeClass:A.b.extraLarge,displayClose:!0,padding:{title:!0,body:!0},children:Object(P.jsx)("div",{className:"mb-7",children:Object(P.jsx)(T,{contract:this.viewContractor(this.state.selectedWaiting).contract,candidates:this.state.selectedWaiting.names,position:this.state.selectedWaiting.position_title})})})]})]})}}]),s}(o.Component),X=Object(h.b)((function(e){var t=e.auth,s=e.system_settings,a=e.sessionPlan,i=e.schoolLevels,r=e.waitingList;return{auth:t,application_sessions:a.allSessionPlans,systemPositions:s.systemPositions,schoolLevels:i,waitingList:r}}),{getWaitingList:g.a,FC_GetAllSessionByInstitution:j.b,loadEducationCategories:b.Hc,FC_GetPositionsByInstitution:f.a,PushPopupAlert:b.Qb})(z)}}]);
//# sourceMappingURL=22.9aa94261.chunk.js.map