(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[30,43,58],{1308:function(e,t,s){"use strict";s.r(t),s.d(t,"DocumentValidation",(function(){return Ie}));var a,n=s(17),i=s(4),r=s.n(i),c=s(10),o=s(38),l=s(20),d=s(18),u=s(712),p=s(5),m=s.n(p),h=s(7),b=s(11),f=s(25),g=s(24),j=s(27),x=s(26),_=s(8),y=s.n(_),O=s(642),v=s(94),N=s(3),w=s(649),C=s(6),I=s(9),T=s(15),D=s(14),R=s(653),S=s(22),E=s(37),P=s(641),k=s(663),A=s(666),L=s(67),U=s(657),q=s(1),B=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",a=[];for(var n in t){var i=t[n].details;for(var r in i){var c=t[n].details[r],o=c.validated_by?{user_id:c.validated_by.user_id,comment:c.validated_by.commet,validation_status:c.validated_by.validation_status,date:c.validated_by.date}:null;null!==c.files&&c.files.length>0&&"default"===s&&"waiting"===c.validation_status&&t[n]._id?a.push({user_id:t[n]._id,n_id:t[n].n_id,fname:t[n].user_info.fname,lname:t[n].user_info.lname,phone_number:t[n].phone_number,district:t[n].user_info.district,email:t[n].email,main_doc_title:Object(u.e)(e,c).main,category_id:c.category_id,sub_category_id:c.sub_category_id,category_subcategory_data:c.category_subcategory_data,title:c.title,description:c.description,files:c.files,start_year:c.start_year,end_year:c.end_year,school:c.school.title,details_email:c.email,names:c.names,details_phone_number:c.phone_number,company:c.company,year:c.year,doc_id:c.doc_id,validation_status:c.validation_status,validated_by:o,approved:c.approved}):null!==c.files&&c.files.length>0&&"all"===s&&t[n]._id&&a.push({user_id:t[n]._id,names:t[n].user_info.fname+" "+t[n].user_info.lname,n_id:t[n].n_id?t[n].n_id:"",fname:t[n].user_info.fname,lname:t[n].user_info.lname,phone_number:t[n].phone_number,district:t[n].user_info.district,email:t[n].email,main_doc_title:Object(u.e)(e,c).main,category_id:c.category_id,sub_category_id:c.sub_category_id,category_subcategory_data:c.category_subcategory_data,title:c.title,description:c.description,files:c.files,start_year:c.start_year,end_year:c.end_year,school:c.school.title,details_email:c.email,details_phone_number:c.phone_number,company:c.company,year:c.year,doc_id:c.doc_id,validation_status:c.validation_status,validated_by:o,approved:c.approved})}}return a},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",a=e;return"all"===t||Object(P.e)(t)?a=e:"all"===t||"all"===s||Object(P.e)(s)?"all"!==t&&(a=e.filter((function(e){return e.category_id===t}))):a=e.filter((function(e){return e.category_id===t&&e.sub_category_id===s})),a},M=function(e){var t,s,a=Object(i.useState)(""),r=Object(n.a)(a,2),c=r[0],o=r[1];return Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"w-full py-2",children:Object(q.jsx)("input",{onChange:function(e){return o(e.target.value)},type:"text",value:c,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded focus:border-gray-800",disabled:e.loadingCandidates||!e.candidateList.length})}),Object(q.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(q.jsx)("thead",{className:"bg-blue-50 border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{className:"px-3 py-2",children:"#"}),Object(q.jsx)("td",{className:"px-3 py-2",children:"Names"}),Object(q.jsx)("td",{className:"px-3 py-2",children:"National ID"}),Object(q.jsx)("td",{className:"px-3 py-2",children:"Document"}),Object(q.jsx)("td",{className:"px-3 py-2",children:"Status"}),Object(q.jsx)("td",{className:"px-3 py-2"})]})}),Object(q.jsx)("tbody",{children:e.loadingCandidates?Object(q.jsx)(U.a,{cols:6}):0===B(e.documentCategories,e.candidateList).length||0===F(B(e.documentCategories,e.candidateList),e.filterByCategoryId,e.filterBySubCategoryId).length?Object(q.jsx)("tr",{children:Object(q.jsx)("td",{colSpan:6,className:"px-2 py-2",children:Object(q.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(q.jsx)(v.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(q.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"})]})})}):(t=F(B(e.documentCategories,e.candidateList),e.filterByCategoryId,e.filterBySubCategoryId),s=c,void 0===s||""===s?t:t.filter((function(e){var t;for(var a in e)if(t=!1,"n_id"!==a&&"fname"!==a&&"lname"!==a&&"phone_number"!==a&&"district"!==a&&"email"!==a&&"main_doc_title"!==a&&"title"!==a&&"names"!==a&&"validation_status"!==a||e[a]&&(t=e[a].toString().toLowerCase().indexOf(s.toLowerCase())>-1),t)break;return t}))).map((function(t,s){return Object(q.jsxs)("tr",{className:"border-b border-gray-200 cursor-pointer group hover:bg-gray-100",onClick:function(){e.setViewDoc(!0),e.setDocumentId(t.doc_id),e.setCandidateId(t.user_id),e.setDocument_index(s),e.setLoadingImage(!0)},children:[Object(q.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:s+1}),Object(q.jsx)("td",{className:"p-3 text-left",children:Object(q.jsx)("span",{children:t.fname+" "+t.lname})}),Object(q.jsx)("td",{className:"p-3 text-left",children:Object(q.jsx)("span",{children:t.n_id})}),Object(q.jsx)("td",{className:"py-3 px-3 text-left font-medium text-lg",children:t.main_doc_title}),Object(q.jsx)("td",{className:"py-3 px-3 text-left",children:Object(q.jsx)("span",{className:"text-sm font-medium bg-yellow-800 py-1 px-2 rounded text-yellow-100 align-middle",children:"waiting"===t.validation_status?"Pending":t.validation_status})}),Object(q.jsx)("td",{className:"text-right",children:Object(q.jsxs)("button",{className:"bg-blue-500 group-hover:bg-blue-600 text-blue-50 font-bold py-1 px-1 inline-flex rounded focus:outline-none",title:"View documents",disabled:e.loadingRequest,onClick:function(){e.setViewDoc(!0),e.setDocumentId(t.doc_id),e.setCandidateId(t.user_id)},children:[Object(q.jsx)(L.f,{className:"w-5 h-5"}),"View doc"]})})]},Math.random())}))})]})]})},V=r.a.memo(M),H=s(169),G=s(167),Y=s(170),z=s(940),J=s(48),X=s(783),W=s(47),Z=s(125),K=function(e){Object(j.a)(s,e);var t=Object(x.a)(s);function s(){return Object(f.a)(this,s),t.apply(this,arguments)}return Object(g.a)(s,[{key:"render",value:function(){var e=this;return Object(q.jsx)("div",{className:"flex flex-row md:flex-row justify-end w-full items-center gap-2 overflow-x-auto",children:"waiting"===this.props.docStatus&&Object(q.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[Object(q.jsxs)("button",{className:"px-4 py-2 font-semibold text-red-50 rounded inline-flex items-center space-x-2 focus:outline-none ".concat(this.props.loading||this.props.loadingImage?"bg-red-300 cursor-wait":"bg-red-800"),onClick:function(){e.props.setActionTaken("rejection"),e.props.setResponse("rejected")},disabled:this.props.loading||this.props.loadingImage,children:[Object(q.jsx)(c.n,{className:"w-5 h-5"}),Object(q.jsx)("span",{children:"Reject"})]}),Object(q.jsxs)("button",{className:"px-4 py-2 font-semibold text-blue-50 rounded inline-flex items-center space-x-2 focus:outline-none ".concat(this.props.loading||this.props.loadingImage?"bg-blue-400 cursor-wait":"bg-blue-700"),onClick:function(){e.props.setActionTaken("approval"),e.props.setResponse("approved")},disabled:this.props.loading||this.props.loadingImage,children:[Object(q.jsx)(Z.j,{className:"w-5 h-5"}),Object(q.jsx)("span",{children:"Approve"})]})]})})}}]),s}(i.Component),Q=r.a.memo(K),$=function(e){Object(j.a)(s,e);var t=Object(x.a)(s);function s(){return Object(f.a)(this,s),t.apply(this,arguments)}return Object(g.a)(s,[{key:"render",value:function(){var e=this;return Object(q.jsxs)("div",{className:"flex flex-col md:flex-col items-end gap-1 w-full overflow-x-auto border-t-2 pt-3",children:[Object(q.jsxs)("div",{className:"flex gap-2 w-full px-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Decision:"}),Object(q.jsx)("span",{className:"".concat("approval"===this.props.actionTaken?"text-blue-700":"text-red-800"," text-xl font-medium"),children:"approval"===this.props.actionTaken?"Approved":"Rejected"})]}),"approval"===this.props.actionTaken&&!this.props.in_education&&Object(q.jsxs)("div",{className:"w-full px-2 mb-1 flex gap-2 items-center",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Is Document for teaching:"}),Object(q.jsx)("div",{className:this.props.loadingRequest?"cursor-default":"cursor-pointer",onClick:function(){!e.props.loadingRequest&&!e.props.isTeachingDocument&&e.props.setHasDisabilityDocument(!1),!e.props.loadingRequest&&e.props.setIsTeachingDocument(!e.props.isTeachingDocument)},children:this.props.isTeachingDocument?Object(q.jsx)(v.f,{className:"text-blue-600 w-8"}):Object(q.jsx)(v.g,{className:"text-gray-600 w-8"})})]}),"approval"===this.props.actionTaken&&!this.props.disability&&Object(q.jsxs)("div",{className:"w-full px-2 mb-1 flex gap-2 items-center",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Is Document for disability:"}),Object(q.jsx)("div",{className:this.props.loadingRequest?"cursor-default":"cursor-pointer",onClick:function(){!e.props.loadingRequest&&!e.props.hasDisabilityDocument&&e.props.setIsTeachingDocument(!1),!e.props.loadingRequest&&e.props.setHasDisabilityDocument(!e.props.hasDisabilityDocument)},children:this.props.hasDisabilityDocument?Object(q.jsx)(v.f,{className:"text-blue-600 w-8"}):Object(q.jsx)(v.g,{className:"text-gray-600 w-8"})})]}),Object(q.jsxs)("div",{className:"w-full px-2",children:[Object(q.jsx)("textarea",{placeholder:"Comment for the ".concat(this.props.actionTaken),cols:50,rows:3,className:"border border-".concat("comment"===this.props.error.element?"red":"gray","-400 rounded px-3 py-1 w-full focus:outline-none"),style:{resize:"none"},value:this.props.responseMsg,onChange:function(t){e.props.setResponseMsg(t.target.value),e.props.setError({element:"",msg:""})},disabled:this.props.loadingRequest}),"comment"===this.props.error.element&&Object(q.jsx)("p",{className:"text-red-800",children:this.props.error.msg})]}),Object(q.jsxs)("div",{className:"flex flex-row gap-1 max-w-full px-2",children:[Object(q.jsxs)("button",{className:"bg-gray-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",onClick:function(){e.props.setResponseMsg(""),e.props.setActionTaken(""),e.props.setError({element:"",msg:""})},disabled:this.props.loadingRequest,children:[Object(q.jsx)(o.b,{className:"w-5 h-5"}),Object(q.jsx)("span",{children:"Back"})]}),Object(q.jsx)("button",{className:"bg-blue-700 px-4 py-2 font-semibold rounded text-white focus:outline-none",disabled:this.props.loadingRequest,onClick:function(){return window.confirm("Are you sure you want to ".concat(e.props.actionTaken," this document?"))&&e.props.handleVerify()},children:this.props.loadingRequest?Object(q.jsx)("div",{className:"",children:"Loading..."}):Object(q.jsxs)("div",{className:"inline-flex items-center space-x-2 gap-1",children:[Object(q.jsx)(Z.j,{className:"w-5 h-5"}),Object(q.jsx)("span",{children:"Confirm"})]})})]})]})}}]),s}(i.Component),ee=r.a.memo($),te=function(e){Object(j.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(f.a)(this,s),(a=t.call(this,e)).getCandidateFileByIndex=function(e,t,s,a,n,i,r){if(e.details.length<=0)return s(!1),a(""),n(""),i(null),r(!1),!1;var c=e.details.filter((function(e){return"waiting"===e.validation_status&&e.files}));return c.length<=0?(s(!1),a(""),n(""),i(null),r(!1),!1):c.length-1<t?(s(!0),a(c[0].doc_id),n(e.user_id),i(0),r(!0),!0):(s(!0),a(c[t].doc_id),n(e.user_id),i(t),r(!0),!0)},a.getDocumentFileByIndex=function(e,t,s,a,n,i,r){var c,o=0;if(e.length<=0)return s(!1),a(""),n(""),i(null),r(!1),!1;if(e.length-1<t){for(o=0,c=!1;!c&&e.length-1>=o;)void 0===e[o]||Object(P.e)(e[o].files)||c||(s(!0),a(e[o].doc_id),n(e[o].user_id),i(o),r(!0),c=!0),o++;return c||(s(!1),a(""),n(""),i(null),r(!0)),!0}if(void 0===e[t]||Object(P.e)(e[t].files)){for(o=0,c=!1;!c&&e.length-1>=o;)void 0===e[o]||Object(P.e)(e[o].files)||c||(s(!0),a(e[o].doc_id),n(e[o].user_id),i(o),r(!0),c=!0),o++;return c||(s(!1),a(""),n(""),i(null),r(!1)),!0}return s(!0),a(e[t].doc_id),n(e[t].user_id),i(t),r(!0),!0},a.setSetFullscreen=function(e){a.setState({isFullscreen:e})},a.handleFullScreen=function(){a.state.isFullscreen?(Object(W.g)("doc-img","CLOSE"),a.setSetFullscreen(!1)):(a.setSetFullscreen(!0),Object(W.g)("doc-img","OPEN"))},a.handleNextPrev=function(e){var t=B(a.props.documentCategories,a.props.candidateList),s=a.props.document_index;"NEXT"===e&&a.props.document_index<=t.length-1&&(s=a.props.document_index+1,a.getDocumentFileByIndex(t,s,a.props.setViewDoc,a.props.setDocumentId,a.props.setCandidateId,a.props.setDocument_index,a.props.setLoadingImage)),"PREV"===e&&a.props.document_index>0&&(s=a.props.document_index-1,a.getDocumentFileByIndex(t,s,a.props.setViewDoc,a.props.setDocumentId,a.props.setCandidateId,a.props.setDocument_index,a.props.setLoadingImage)),a.props.setIsTeachingDocument(!1)},a.isNextAllowed=function(){var e=B(a.props.documentCategories,a.props.candidateList);if(e.filter((function(e){return"waiting"===e.validation_status})).length<=1)return!1;if(a.props.document_index<=e.length-1){if(e[a.props.document_index+1]&&"waiting"===e[a.props.document_index+1].validation_status)return!0;if(e[a.props.document_index]&&"waiting"===e[a.props.document_index].validation_status)return!0}return!1},a.isPrevAllowed=function(){if(a.props.document_index>0)return!0;var e=B(a.props.documentCategories,a.props.candidateList);return void 0!==e[a.props.document_index-1]&&!Object(P.e)(e[a.props.document_index-1].files)},a.state={isFullscreen:!1},a}return Object(g.a)(s,[{key:"render",value:function(){var e=this;return Object(q.jsxs)("div",{className:"bg-gray-50 h-full md:h-screen grid grid-cols-1 md:grid-cols-3",children:[this.props.doc.files.length>0&&this.props.loadingImage&&Object(q.jsx)("div",{className:"col-span-2 max-h-full md:max-h-screen overflow-y-auto relative group",children:Object(q.jsx)("div",{className:"w-full mx-auto mt-5 px-4",children:Object(q.jsx)("div",{className:"animate-pulse flex space-x-4",children:Object(q.jsx)("div",{className:"flex-1 space-y-4 py-4",children:Object(q.jsx)("div",{className:"bg-gray-300 rounded h-72 flex items-center justify-center",children:Object(q.jsxs)("h1",{className:"text-5xl text-gray-500 font-bold",children:["Loading"," ",Object(W.j)(Object(W.h)(this.props.doc.files))?"image":"pdf","..."]})})})})})}),Object(q.jsxs)("div",{className:"col-span-2 h-auto md:max-h-screen overflow-y-auto relative bg-gray-200 group ".concat(this.props.loadingImage&&"hidden"),children:[this.props.doc.files.length>0?Object(W.j)(Object(W.h)(this.props.doc.files))?Object(q.jsx)("div",{className:"relative",children:Object(q.jsx)("img",{src:I.a.AUTH_FILES+this.props.doc.files,alt:"",className:"w-full md:w-auto h-auto md:max-h-screen mx-auto ".concat(this.props.loadingImage&&"hidden"),id:"doc-img",onLoad:function(){return e.props.setLoadingImage(!1)},onDoubleClick:function(){return e.handleFullScreen()}})}):Object(q.jsx)(X.a,{file_url:I.a.AUTH_FILES+this.props.doc.files,class_name:"w-full h-screen md:max-h-screen mx-auto ".concat(this.props.loadingImage&&"hidden"),frame_title:"application PDF file view",setLoadingFile:this.props.setLoadingImage}):Object(q.jsxs)("div",{className:"text-center text-red-400 py-8 animate__animated animate__fadeIn",children:[Object(q.jsx)(Y.e,{className:"mx-auto w-40 h-40"}),Object(q.jsx)("span",{className:"font-semibold text-4xl",children:"No Files Provided"})]}),Object(q.jsxs)("div",{className:"flex items-center justify-between absolute top-0 w-full px-2 py-2",children:[Object(q.jsx)("button",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer",onClick:function(){e.props.setViewDoc(!1),e.props.setDocumentId(""),e.props.setIsTeachingDocument(!1)},disabled:this.props.loadingRequest||this.props.loadingImage,children:Object(q.jsx)(J.i,{className:"h-6 w-6 text-gray-500 group-hover:text-gray-800"})}),this.props.doc.files.length>0&&Object(W.j)(Object(W.h)(this.props.doc.files))&&Object(q.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100",children:[Object(q.jsx)("button",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(W.q)("doc-img","IN")},children:Object(q.jsx)(G.k,{className:"h-6 w-6 text-gray-500"})}),Object(q.jsx)("button",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(W.q)("doc-img","OUT")},children:Object(q.jsx)(G.l,{className:"h-6 w-6 text-gray-500"})}),Object(q.jsx)("div",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(W.g)("doc-img","OPEN")},children:Object(q.jsx)(H.g,{className:"h-6 w-6 text-gray-500"})})]})]}),Object(q.jsxs)("div",{className:"absolute align-middle top-1/2 w-full flex ".concat(this.isPrevAllowed()?"justify-between":"justify-end"," z-20 opacity-0 group-hover:opacity-100 px-2"),children:[this.isPrevAllowed()&&Object(q.jsx)("button",{className:"inline-block bg-gray-100 cursor-pointer shadow-md rounded-full p-2 hover:bg-blue-50",onClick:function(){return e.handleNextPrev("PREV")},disabled:this.props.loadingRequest||this.props.loadingImage,children:Object(q.jsx)(z.b,{className:"h-8 w-8 text-gray-500"})}),this.isNextAllowed()&&Object(q.jsx)("button",{className:"inline-block bg-gray-100 cursor-pointer shadow-md rounded-full p-2 hover:bg-blue-50",onClick:function(){return e.handleNextPrev("NEXT",e.props.doc.validation_status)},disabled:this.props.loadingRequest||this.props.loadingImage,children:Object(q.jsx)(z.a,{className:"h-8 w-8 text-gray-500"})})]})]}),Object(q.jsx)("section",{className:"relative",children:Object(q.jsxs)("div",{className:"w-full flex md:flex-col flex-col justify-between items-start gap-2",children:[Object(q.jsx)("div",{className:"flex items-center gap-4 w-full",children:Object(q.jsxs)("section",{className:"p-3 w-full",children:[Object(q.jsxs)("div",{className:"flex items-center gap-2 border-b-2 my-2 py-1",children:[Object(q.jsx)(v.d,{className:"text-blue-600 text-xl"}),Object(q.jsx)("h2",{className:"uppercase tracking-wide text-xl font-semibold text-gray-700",children:"Document validation"})]}),Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Doc Title: "}),Object(q.jsx)("span",{className:"font-bold text-2xl",children:Object(u.e)(this.props.documentCategories,this.props.doc).main})]}),Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Names: "}),Object(q.jsx)("span",{className:"font-medium text-lg",children:this.props.candidate.user_info.fname+" "+this.props.candidate.user_info.lname})]}),Object(q.jsxs)("section",{className:"animate__animated animate__fadeIn",children:[Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"National ID: "}),Object(q.jsx)("span",{className:"font-medium text-lg",children:this.props.candidate.n_id})]}),Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Phone: "}),Object(q.jsx)("span",{className:"font-medium text-lg",children:this.props.candidate.phone_number})]}),Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Email: "}),Object(q.jsx)("span",{className:"font-medium text-lg",children:this.props.candidate.email})]}),Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"District: "}),Object(q.jsx)("span",{className:"font-medium text-lg",children:this.props.candidate.user_info.district})]})]}),Object(q.jsxs)("div",{className:"flex items-center gap-1",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Status:"}),Object(q.jsx)("span",{className:"text-".concat("waiting"===this.props.doc.validation_status?"yellow":"approved"===this.props.doc.validation_status?"blue":"gray","-700 font-semibold text-lg"),children:"waiting"===this.props.doc.validation_status?"Pending":"approved"===this.props.doc.validation_status?"Approved":"Rejected"})]})]})}),this.props.doc.files&&(this.props.actionTaken?Object(q.jsx)(ee,{disability:!!this.props.candidate.disability&&this.props.candidate.disability,in_education:!!this.props.candidate.in_education&&this.props.candidate.in_education,setActionTaken:this.props.setActionTaken,actionTaken:this.props.actionTaken,setResponseMsg:this.props.setResponseMsg,responseMsg:this.props.responseMsg,loadingRequest:this.props.loadingRequest,handleVerify:this.props.handleVerify,error:this.props.error,setError:this.props.setError,isTeachingDocument:this.props.isTeachingDocument,setIsTeachingDocument:this.props.setIsTeachingDocument,hasDisabilityDocument:this.props.hasDisabilityDocument,setHasDisabilityDocument:this.props.setHasDisabilityDocument}):Object(q.jsx)(Q,{docStatus:this.props.doc.validation_status,setActionTaken:this.props.setActionTaken,loading:this.props.loadingRequest,loadingImage:this.props.loadingImage,setResponse:this.props.setResponse}))]})})]})}}]),s}(i.Component),se=r.a.memo(Object(l.b)((function(e){return{documentCategories:e.document}}),{})(te)),ae=function(e,t){var s=e.findIndex((function(e){return e.page===t}));if(s>=0){var a=[];return e[s].data.forEach((function(e){var t=e;t.user_id=e._id,a.push(t)})),a}},ne=function(e){Object(j.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(f.a)(this,s),(a=t.call(this,e)).setLoadingUsers=function(e){a.setState({loadingUsers:e})},a.setLoading=function(e){a.setState({loading:e})},a.setLoadingImage=function(e){a.setState({loadingImage:e})},a.setCurrentPage=function(e){a.setState({currentPage:e})},a.setLastLoadedPage=function(e){a.setState({lastLoadedPage:e})},a.setDocument_index=function(e){a.setState({document_index:e})},a.setDocumentId=function(e){a.setState({document_id:e})},a.setCandidateId=function(e){a.setState({candidate_id:e})},a.setViewDoc=function(e){a.setState({viewDoc:e})},a.setResponseMsg=function(e){a.setState({responseMsg:e})},a.setResponse=function(e){a.setState({response:e,isTeachingDocument:!1})},a.setError=function(e){a.setState({error:e})},a.setActionTaken=function(e){a.setState({actionTaken:e})},a.setIsTeachingDocument=function(e){a.setState({isTeachingDocument:e})},a.setHasDisabilityDocument=function(e){a.setState({hasDisabilityDocument:e})},a.setViewCandidate=function(e){a.setState({viewCandidate:e})},a.componentDidMount=function(){(null===a.props.documentReducer.documentCategory||a.props.documentReducer.documentCategory.length<=0)&&a.props.getDocumentCategory(),(null===a.props.documentReducer.documentSubCategory||a.props.documentReducer.documentSubCategory.length<=0)&&a.props.getDocumentSubCategory(),(null===a.props.documentReducer.documentFields||a.props.documentReducer.documentFields.length<=0)&&a.props.getDocumentFields(),a.props.userDocuments.users?(a.setLoadingUsers(!1),a.setLoading(!1)):a.props.getCandidateDocuments(1,(function(e,t,s){a.setLoadingUsers(e),a.setLoading(e),e||(Object(P.e)(t)||a.props.PushPopupAlert({title:t,theme:E.a.danger}),s&&(a.setLoadingUsers(!1),a.setLoading(!1),console.log("===================================="),console.log({setLoadingUsers:e}),console.log("====================================")))}))},a.reloadUsers=function(e){a.state.lastLoadedPage.includes(e)||a.props.getCandidateDocuments(e,(function(t,s,n){a.setLoadingUsers(t),t||(Object(P.e)(s)||a.props.PushPopupAlert({title:s,theme:E.a.danger}),n&&(a.setLastLoadedPage([].concat(Object(b.a)(a.state.lastLoadedPage),[e])),a.setLoadingUsers(!1),console.log("===================================="),console.log({setLoadingUsers:t}),console.log("====================================")))}))},a.generatePages=function(e){var t=Math.ceil(e/R.g),s=Array.from(Array(t+1-1).keys()).map((function(e){return 1+e})).slice(0,5);t>4&&a.state.currentPage>2&&(s=t-a.state.currentPage>1?[a.state.currentPage-2,a.state.currentPage-1,a.state.currentPage,a.state.currentPage+1,a.state.currentPage+2]:t-a.state.currentPage===1?[a.state.currentPage-3,a.state.currentPage-2,a.state.currentPage-1,a.state.currentPage,a.state.currentPage+1]:[a.state.currentPage-4,a.state.currentPage-3,a.state.currentPage-2,a.state.currentPage-1,a.state.currentPage]);var n=!1,i=!1,r=!1,c=!1;return t>1&&1!==a.state.currentPage&&(r=!0),t>1&&a.state.currentPage!==t&&(c=!0),t>3&&a.state.currentPage>3&&(n=!0),t>3&&a.state.currentPage!==t&&t-a.state.currentPage>2&&(i=!0),Object(q.jsxs)("div",{className:"flex text-gray-700",children:[n&&Object(q.jsx)("button",{className:"h-12 w-12 ml-1 flex justify-center items-center rounded-full bg-gray-100 hover:bg-gray-200 cursor-pointer",onClick:function(){return a.setCurrentPage(1)},children:Object(q.jsx)(O.d,{className:"w-6 h-6"})}),r&&Object(q.jsx)("button",{className:"h-12 w-12 ml-1 flex justify-center items-center rounded-full bg-gray-100 hover:bg-gray-200",onClick:function(){return a.setCurrentPage(a.state.currentPage-1)},children:Object(q.jsx)(O.f,{className:"w-6 h-6"})}),Object(q.jsx)("div",{className:"flex h-12 font-medium rounded-full mx-1 bg-gray-100",children:s.map((function(e,t){return Object(q.jsx)("button",{className:"w-12 md:flex justify-center items-center gap-2 rounded-full ".concat(a.state.currentPage===e?"bg-gray-600 hover:bg-gray-500 text-white cursor-auto":"hover:bg-gray-200"),disabled:a.state.currentPage===e,onClick:function(){a.setCurrentPage(e),a.reloadUsers(e)},children:e},t)}))}),c&&Object(q.jsx)("button",{className:"h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-100 hover:bg-gray-200 cursor-pointer",onClick:function(){a.setCurrentPage(a.state.currentPage+1),a.reloadUsers(a.state.currentPage+1)},children:Object(q.jsx)(O.g,{className:"w-6 h-6"})}),i&&Object(q.jsx)("button",{className:"h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-100 hover:bg-gray-200 cursor-pointer",onClick:function(){a.setCurrentPage(t),a.reloadUsers(t)},children:Object(q.jsx)(O.e,{className:"w-6 h-6"})})]})},a.getDocByDocId=function(e,t,s){var a,n=e.find((function(e){return e.user_id===t}));return n&&(a=n.details.find((function(e){return e.doc_id===s}))),{user:n,doc:a}},a.FC_shortListing=function(){var e=Object(h.a)(m.a.mark((function e(t){var s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=a.props.userDocuments.users&&ae(a.props.userDocuments.users,a.state.currentPage)&&Object(A.c)(ae(a.props.userDocuments.users,a.state.currentPage),t))){e.next=15;break}return e.prev=2,e.next=5,y.a.patch("".concat(I.a.APPLICATION,"/doccheckshortlist/").concat(t),{email:s.email,phone_number:s.phone_number});case 5:n=e.sent,console.log({FC_shortListing:n}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error({error:e.t0}),a.props.PushPopupAlert({title:Object(D.a)(e.t0),theme:E.a.danger});case 13:e.next=16;break;case 15:console.error("Candidate not found with this Id: ".concat(t));case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),a.handleVerify=Object(h.a)(m.a.mark((function e(){var t,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.candidate_id.length>0&&a.state.document_id.length>0&&a.state.response)){e.next=19;break}if("rejected"!==a.state.response||a.state.responseMsg.length){e.next=3;break}return e.abrupt("return",a.setState({error:{element:"comment",msg:"Reason of rejection is required"},loadingRequest:!1}));case 3:return a.setState({loadingRequest:!0}),t=a.getDocByDocId(ae(a.props.userDocuments.users,a.state.currentPage),a.state.candidate_id,a.state.document_id).user,s={user_id:a.state.candidate_id,doc_id:a.state.document_id,validation_status:"approved"===a.state.response?k.a.APPROVED:k.a.REJECTED,validated_by:{user_id:a.props.auth.user.user_id,comment:a.state.responseMsg,validation_status:"approved"===a.state.response?k.a.APPROVED:k.a.REJECTED},in_education:a.state.isTeachingDocument?a.state.isTeachingDocument:t.in_education,disability:a.state.hasDisabilityDocument?a.state.hasDisabilityDocument:t.disability},n={user_id:a.state.candidate_id,doc_id:a.state.document_id,validation_status:"approved"===a.state.response?k.a.APPROVED:k.a.REJECTED,validated_by:{user_id:a.props.auth.user.user_id,comment:a.state.responseMsg,validation_status:"approved"===a.state.response?k.a.APPROVED:k.a.REJECTED,date:""},in_education:a.state.isTeachingDocument?a.state.isTeachingDocument:t.in_education,disability:a.state.hasDisabilityDocument?a.state.hasDisabilityDocument:t.disability},e.prev=7,e.next=10,y.a.post("".concat(I.a.AUTH,"/validateuserdoc"),s);case 10:e.sent&&(a.props.allVerifyDocument(n,a.state.currentPage),a.FC_shortListing(a.state.candidate_id),a.props.PushPopupAlert({title:"Document ".concat(a.state.response," successful"),theme:E.a.success}),a.setState({response:"approved",responseMsg:"",actionTaken:"",hasDisabilityDocument:!1,isTeachingDocument:!1})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.error(e.t0),a.props.PushPopupAlert({title:Object(D.a)(e.t0),theme:E.a.danger});case 18:a.setState({loadingRequest:!1});case 19:case"end":return e.stop()}}),e,null,[[7,14]])}))),a.state={loadingUsers:!0,loading:!0,loadingRequest:!1,loadingImage:!0,currentPage:1,lastLoadedPage:[1],viewCandidate:!1,viewDoc:!1,filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:"",responseMsg:"",response:"approved",document_id:"",candidate_id:"",error:{element:"",msg:""},document_index:null,isTeachingDocument:!1,hasDisabilityDocument:!1,actionTaken:""},a}return Object(g.a)(s,[{key:"render",value:function(){return!0===this.state.loading||null===this.props.userDocuments.users?Object(q.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading documents..."}):Object(q.jsxs)("div",{className:"w-full my-5",children:[Object(q.jsx)("div",{className:"my-2 mx-2 rounded flex flex-row justify-between items-center",children:Object(q.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(q.jsx)(v.d,{className:"text-6xl text-blue-600"}),Object(q.jsx)("div",{className:"flex flex-col",children:Object(q.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:"Document validation - All candidate(s)"})})]})}),Object(q.jsx)("div",{className:"bg-white shadow rounded border border-gray-2 p-2 w-full overflow-x-auto",children:!this.state.viewCandidate&&Object(q.jsxs)("section",{className:"",children:[Object(q.jsx)(V,{loadingCandidates:this.state.loadingUsers,loadingRequest:this.state.loadingRequest,filterByCategoryId:this.state.filterByCategoryId,filterBySubCategoryId:this.state.filterBySubCategoryId,candidateList:ae(this.props.userDocuments.users,this.state.currentPage),documentCategories:this.props.documentReducer,setDocumentId:this.setDocumentId,setCandidateId:this.setCandidateId,setLoadingImage:this.setLoadingImage,setViewDoc:this.setViewDoc,setDocument_index:this.setDocument_index}),!this.state.loadingUsers&&Object(q.jsx)("div",{className:"flex flex-col items-center my-3",children:this.props.userDocuments.total_users&&this.generatePages(this.props.userDocuments.total_users)})]})}),this.state.viewDoc&&null!==this.state.document_index&&ae(this.props.userDocuments.users,this.state.currentPage)&&this.getDocByDocId(ae(this.props.userDocuments.users,this.state.currentPage),this.state.candidate_id,this.state.document_id).doc&&this.getDocByDocId(ae(this.props.userDocuments.users,this.state.currentPage),this.state.candidate_id,this.state.document_id).user&&Object(q.jsx)(S.d,{backDrop:!0,theme:S.c.default,close:function(){},displayClose:!1,backDropClose:!1,title:"",widthSizeClass:S.b.maxWidth,padding:{title:!1,body:!1,footer:!1},children:Object(q.jsx)(se,{error:this.state.error,doc:this.getDocByDocId(ae(this.props.userDocuments.users,this.state.currentPage),this.state.candidate_id,this.state.document_id).doc,candidate:this.getDocByDocId(ae(this.props.userDocuments.users,this.state.currentPage),this.state.candidate_id,this.state.document_id).user,responseMsg:this.state.responseMsg,loadingRequest:this.state.loadingRequest,setResponseMsg:this.setResponseMsg,setResponse:this.setResponse,handleVerify:this.handleVerify,setViewCandidate:this.setViewCandidate,setError:this.setError,setViewDoc:this.setViewDoc,setCandidateId:this.setCandidateId,setDocumentId:this.setDocumentId,actionTaken:this.state.actionTaken,setActionTaken:this.setActionTaken,document_index:this.state.document_index,setDocument_index:this.setDocument_index,candidateList:ae(this.props.userDocuments.users,this.state.currentPage),isTeachingDocument:this.state.isTeachingDocument,setIsTeachingDocument:this.setIsTeachingDocument,hasDisabilityDocument:this.state.hasDisabilityDocument,setHasDisabilityDocument:this.setHasDisabilityDocument,loadingImage:this.state.loadingImage,setLoadingImage:this.setLoadingImage})})]})}}]),s}(i.Component),ie=r.a.memo(Object(l.b)((function(e){return{auth:e.auth,userDocuments:e.userDocuments,documentReducer:e.document,socket:e.socket}}),{allVerifyDocument:function(e,t){return console.log("================allVerifyDocument===================="),console.log({data:e,page:t}),console.log("================allVerifyDocument===================="),function(s){s({type:C.a.ALL_VERIFY_DOCUMENT,payload:{data:e,page:t}})}},getCandidateDocuments:function(e,t){return t&&t(!0,""),function(){var s=Object(h.a)(m.a.mark((function s(a){var n;return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,Object(T.b)(),s.next=4,y.a.get("".concat(I.a.AUTH,"/remainingdocs?page=").concat(e,"&limit=").concat(R.g));case 4:n=s.sent,console.log({getCandidateDocuments:n}),a({type:C.a.GET_CANDIDATE_DOCUMENTS,payload:{users:[{data:n.data.users,page:e}],next:n.data.next,previous:n.data.previous,total_users:n.data.total_users}}),t&&t(!1,"",n.data.users),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(0),console.error({user_error:s.t0}),t&&t(!1,Object(D.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e){return s.apply(this,arguments)}}()},getDocumentCategory:w.h,getDocumentSubCategory:w.j,getDocumentFields:w.i,PushPopupAlert:N.tb})(ne)),re=s(644),ce=s(30),oe=s(942),le=function(e){Object(j.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(f.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setTabsController=function(e){a.setState({tabsController:e})},a.setFilterByCategory=function(e){a.setState({filterByCategory:e})},a.setFilterBySubCategory=function(e){a.setState({filterBySubCategory:e})},a.setNotVerified=function(e){a.setState({notVerified:e})},a.componentDidMount=function(){!a.props.documentCategories.documentFields&&a.state.loading&&(a.props.getDocumentFields(),a.setLoading(!1)),a.props.documentCategories.documentFields&&a.state.loading&&a.setLoading(!1)},a.filterDocuments=function(e,t,s){return t.length>0&&s.length>0?e.filter((function(e){return e.sub_category_id===s&&e.category_id===t})):t.length>0?e.filter((function(e){return e.category_id===t})):e},a.state={loading:!0,tabsController:"waiting",filterByCategory:a.props.filterByCategoryId,filterBySubCategory:a.props.filterBySubCategoryId,notVerified:!1},a}return Object(g.a)(s,[{key:"render",value:function(){var e=this;return Object(q.jsxs)("div",{className:"w-full flex bg-gray-100 h-full flex-col md:flex-row md:items-start",children:[Object(q.jsxs)("section",{className:"bg-white h-full w-1/6 p-2 m-3 border border-gray-200 rounded",children:[this.state.notVerified&&Object(q.jsxs)("section",{className:"".concat("all"===this.state.filterByCategory||Object(P.e)(this.state.filterByCategory)?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center animate__animated animate__fadeIn"),onClick:function(){e.setFilterByCategory(""),e.setFilterBySubCategory("")},children:[Object(q.jsxs)("section",{className:"flex-1",children:[Object(q.jsx)(c.m,{className:"inline-block mr-1 text-xs"}),Object(q.jsx)("span",{children:"All"})]}),Object(q.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:this.props.candidate&&Object(u.f)(this.filterDocuments(this.props.candidate.details,this.props.filterByCategoryId,this.props.filterBySubCategoryId),"waiting")})]}),this.props.documentCategories.documentCategory&&this.props.documentCategories.documentCategory.map((function(t,s){return Object(q.jsx)(i.Fragment,{children:Object(u.g)(e.props.candidate.details,"docCategory",t.user_detail_category_id)>0&&Object(q.jsxs)("section",{children:[!e.state.notVerified&&e.setNotVerified(!0),Object(q.jsxs)("section",{className:"".concat(e.state.filterByCategory===t.user_detail_category_id?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center animate__animated animate__fadeIn"),onClick:function(){e.setFilterByCategory(t.user_detail_category_id),e.setFilterBySubCategory("")},children:[Object(q.jsxs)("section",{className:"flex-1",children:[Object(q.jsx)(c.m,{className:"inline-block mr-1 text-xs"}),Object(q.jsx)("span",{children:t.title})]}),Object(q.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:Object(u.g)(e.props.candidate.details,"docCategory",t.user_detail_category_id)})]}),e.state.filterByCategory===t.user_detail_category_id&&e.props.documentCategories.documentSubCategory&&e.props.documentCategories.documentSubCategory.filter((function(e){return e.category_id===t.user_detail_category_id})).map((function(t,s){return Object(u.g)(e.props.candidate.details,"docSubCategory",t.user_detail_subcategory_id)>0&&Object(q.jsx)("div",{className:"ml-3 border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1",children:Object(q.jsxs)("div",{className:"animate__animated animate__fadeIn animate__faster ".concat(e.state.filterBySubCategory===t.user_detail_subcategory_id?"bg-blue-500 text-white font-bold":" text-blue-800"," bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),onClick:function(){e.setFilterBySubCategory(t.user_detail_subcategory_id)},children:[Object(q.jsxs)("section",{className:"flex-1",children:[Object(q.jsx)(c.m,{className:"inline-block mr-0.1 text-xs ".concat(e.state.filterBySubCategory===t.user_detail_subcategory_id?"text-white":"")}),Object(q.jsx)("span",{children:t.title})]}),Object(q.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:Object(u.g)(e.props.candidate.details,"docSubCategory",t.user_detail_subcategory_id)})]})},s+t.user_detail_subcategory_id)}))]})},s+t.user_detail_category_id)})),!this.state.notVerified&&Object(q.jsx)("section",{className:"bg-blue-100 text-blue-800 mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center animate__animated animate__fadeIn",children:Object(q.jsxs)("section",{className:"flex-1",children:[Object(q.jsx)(c.m,{className:"inline-block mr-1 text-xs"}),Object(q.jsx)("span",{children:"All Are Verified"})]})})]}),Object(q.jsxs)("section",{className:"w-5/6 h-full my-3 mr-3",children:[Object(q.jsxs)("div",{className:"w-full bg-white flex items-center justify-evenly border border-gray-200 rounded",children:[Object(q.jsx)("section",{className:"cursor-pointer",onClick:function(){return e.setTabsController("waiting")},children:Object(q.jsxs)("div",{className:"flex items-center py-4 px-2 text-yellow-800 gap-1 ".concat("waiting"===this.state.tabsController&&"border-b-4 border-yellow-800"," animate__animated animate__pulse"),children:[Object(q.jsx)(c.Q,{className:"w-6 h-6"}),Object(q.jsx)("span",{children:"Pending"}),Object(q.jsxs)("span",{children:["(",this.props.candidate&&Object(u.f)(this.filterDocuments(this.props.candidate.details,this.props.filterByCategoryId,this.props.filterBySubCategoryId),"waiting"),")"]})]})}),Object(q.jsx)("section",{className:"cursor-pointer",onClick:function(){return e.setTabsController("rejected")},children:Object(q.jsxs)("div",{className:"flex items-center py-4 px-2 text-gray-700 gap-1 ".concat("rejected"===this.state.tabsController&&"border-b-4 border-gray-700"," animate__animated animate__pulse"),children:[Object(q.jsx)(c.tb,{className:"w-6 h-6"}),Object(q.jsx)("span",{children:"Rejected"}),Object(q.jsxs)("span",{children:["(",this.props.candidate&&Object(u.f)(this.filterDocuments(this.props.candidate.details,this.props.filterByCategoryId,this.props.filterBySubCategoryId),"rejected"),")"]})]})}),Object(q.jsx)("section",{className:"cursor-pointer",onClick:function(){return e.setTabsController("approved")},children:Object(q.jsxs)("div",{className:"flex items-center py-4 px-2 text-blue-700 gap-1 ".concat("approved"===this.state.tabsController&&" border-b-4 border-blue-700"," animate__animated animate__pulse"),children:[Object(q.jsx)(Z.j,{className:"w-6 h-6"}),Object(q.jsx)("span",{children:"Approved"}),Object(q.jsxs)("span",{children:["(",this.props.candidate&&Object(u.f)(this.filterDocuments(this.props.candidate.details,this.props.filterByCategoryId,this.props.filterBySubCategoryId),"approved"),")"]})]})})]}),Object(q.jsx)("section",{className:"w-full h-full my-3",children:this.props.candidate&&this.filterDocuments(this.props.candidate.details,this.state.filterByCategory,this.state.filterBySubCategory).filter((function(t){return t.validation_status===e.state.tabsController&&t.files.length>0})).length>0?Object(q.jsx)("section",{className:"animate__animated animate__fadeIn animate__faster",children:this.state.loading?Object(q.jsx)(oe.a,{}):this.filterDocuments(this.props.candidate.details,this.state.filterByCategory,this.state.filterBySubCategory).filter((function(t){return t.validation_status===e.state.tabsController&&t.files.length>0})).map((function(t,s){return Object(q.jsxs)("div",{className:"bg-white border border-gray-200 hover:border-blue-500 cursor-pointer rounded mb-3 p-4 flex justify-between items-start animate__animated animate__fadeIn group",onClick:function(){e.props.setViewDoc(!0),e.props.setDocumentId(t.doc_id),e.props.setDocument_index(s),e.props.setCandidateId(e.props.candidate.user_id)},children:[Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(u.e)(e.props.documentCategories,t).main}),Object(q.jsxs)("div",{className:"flex items-center gap-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Status:"}),Object(q.jsx)("span",{className:"text-".concat("waiting"===t.validation_status?"yellow":"approved"===t.validation_status?"blue":"gray","-800"),children:"waiting"===t.validation_status?"Pending":"approved"===t.validation_status?"Approved":"Rejected"})]})]}),Object(q.jsxs)("button",{className:"bg-blue-500 p-2 text-white flex rounded items-center space-x-2 focus:outline-none group-hover:bg-blue-600",children:[Object(q.jsx)(L.f,{className:"w-5 h-5"}),"View doc"]})]},s+t.doc_id)}))}):Object(q.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 text-gray-400 text-center animate__animated animate__pulse",children:[Object(q.jsx)(v.c,{className:"w-28 h-28 mx-auto mb-3"}),Object(q.jsx)("span",{className:"text-2xl font-mono font-semibold tracking-tighter",children:"No Data Found"})]})})]})]})}}]),s}(i.Component),de=r.a.memo(Object(l.b)((function(e){return{documentCategories:e.document}}),{getDocumentCategory:w.h,getDocumentSubCategory:w.j,getDocumentFields:w.i})(le)),ue=s(645),pe=function(e){var t=Object(i.useState)(!1),s=Object(n.a)(t,2),a=s[0],r=s[1],l=Object(i.useState)("ASC"),d=Object(n.a)(l,2),u=d[0],p=d[1],m=Object(i.useState)(""),h=Object(n.a)(m,2),b=h[0],f=h[1],g=function(e){b===e&&"ASC"===u?(f(""),r(!1),p("DESC")):(f(e),r(!0),p("ASC"))};return Object(q.jsx)("div",{children:Object(q.jsx)(ue.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:Object(q.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return g("fname")},children:[Object(q.jsx)("span",{children:"Names"}),Object(q.jsx)(G.i,{className:"w-4 h-4"})]}),alignText:"left",padding:"p-3"},{columnTitle:Object(q.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return g("n_id")},children:[Object(q.jsx)("span",{children:"National ID"}),Object(q.jsx)(G.i,{className:"w-4 h-4"})]}),alignText:"left",padding:"p-3"},{columnTitle:Object(q.jsxs)("div",{className:"flex items-center text-blue-700 gap-1 text-base font-semibold",children:[Object(q.jsx)(Z.j,{className:"w-4 h-4"}),Object(q.jsx)("span",{children:"Approved"}),e.candidateList&&e.countById(e.candidateList,"docCategory","all","approved")>0?Object(q.jsxs)("span",{children:["(",Object(P.g)(e.countById(e.candidateList,"docCategory","all","approved")),")"]}):null]}),alignText:"left",padding:"p-3"},{columnTitle:Object(q.jsxs)("div",{className:"flex items-center gap-1 text-gray-400 text-base font-semibold",children:[Object(q.jsx)(c.tb,{className:"w-5 h-5"}),Object(q.jsx)("span",{children:"Rejected"}),e.candidateList&&e.countById(e.candidateList,"docCategory","all","approved")>0?Object(q.jsxs)("span",{children:["(",Object(P.g)(e.countById(e.candidateList,"docCategory","all","rejected")),")"]}):null]}),alignText:"left",padding:"p-3"},{columnTitle:Object(q.jsxs)("div",{className:"flex items-center gap-1 text-yellow-800 text-base font-semibold",children:[Object(q.jsx)(c.R,{className:"w-5 h-5"}),Object(q.jsx)("span",{children:"Pending"}),e.candidateList&&e.countById(e.candidateList,"docCategory","all","approved")>0?Object(q.jsxs)("span",{children:["(",Object(P.g)(e.countById(e.candidateList,"docCategory","all")),")"]}):null]}),alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return e.loadingCandidates?[Object(q.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},43243),Object(q.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},43243343),Object(q.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},4327543)]:e.candidateList.length?Object(W.n)(a,e.candidateList,b,u).map((function(t,s){return Object(q.jsxs)("tr",{className:"border-b border-gray-200 group hover:bg-gray-100 cursor-pointer",onClick:function(){!e.loadingRequest&&e.setCandidateId(t.user_id),!e.loadingRequest&&e.setViewCandidate(!0),!e.loadingRequest&&e.setLoadingImage(!0)},children:[Object(q.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:s+1}),Object(q.jsx)("td",{className:"p-3 text-left cursor-pointer",children:Object(q.jsx)("span",{className:"font-medium text-lg group-hover:font-semibold",children:t.fname+" "+t.lname})}),Object(q.jsx)("td",{className:"p-3 text-left",children:Object(q.jsx)("span",{children:t.n_id})}),Object(q.jsx)("td",{className:"py-3 px-5 text-left",children:e.countByStatus(t.details,"approved")}),Object(q.jsx)("td",{className:"py-3 px-5 text-left",children:e.countByStatus(t.details,"rejected")}),Object(q.jsx)("td",{className:"py-1 px-5 text-left",children:e.countByStatus(t.details,"waiting")>0?Object(q.jsxs)("button",{className:"flex items-center gap-3 border hover:border-2 border-white group-hover:border-yellow-800 group-hover:bg-yellow-100 rounded px-3 py-1 focus:outline-none",disabled:e.loadingRequest,onClick:function(){e.setCandidateId(t.user_id),e.setViewCandidate(!0)},children:[t.details&&e.countByStatus(t.details,"waiting"),t.details&&e.countByStatus(t.details,"waiting")>0&&Object(q.jsx)(o.g,{className:"text-yellow-800 font-bold w-6 h-6 focus:outline-none"})]}):Object(q.jsx)("span",{className:"px-3 py-1",children:"0"})}),Object(q.jsx)("td",{className:"text-right",children:Object(q.jsxs)("button",{className:"bg-blue-500 group-hover:bg-blue-600 text-white font-bold py-1 px-1 inline-flex rounded focus:outline-none",title:"View documents",disabled:e.loadingRequest,onClick:function(){e.setCandidateId(t.user_id),e.setViewCandidate(!0)},children:[Object(q.jsx)(L.f,{className:"w-5 h-5"}),"View docs"]})})]},t.user_id+s)})):[Object(q.jsx)("tr",{className:"border-b border-gray-200",children:Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:6,children:"No Data Found"})},43243)]},pagination:!0,search:!0,thColor:"gray",loading:e.loadingCandidates})})},me=r.a.memo(pe),he=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",a=[];for(var n in t){var i=t[n].details;for(var r in i){var c=t[n].details[r];null!==c.files&&c.files.length>0&&"default"===s&&"waiting"===c.validation_status?a.push({user_id:t[n].user_id,n_id:t[n].n_id,fname:t[n].fname,lname:t[n].lname,phone_number:t[n].phone_number,district:t[n].district,email:t[n].email,main_doc_title:Object(u.e)(e,c).main,category_id:c.category_id,sub_category_id:c.sub_category_id,category_subcategory_data:c.category_subcategory_data,title:c.title,description:c.description,files:c.files,start_year:c.start_year,end_year:c.end_year,school:c.school,details_email:c.email,names:c.names,details_phone_number:c.phone_number,company:c.company,year:c.year,doc_id:c.doc_id,validation_status:c.validation_status,validated_by:c.validated_by,doc_history_status:c.doc_history_status,get_in_date:c.get_in_date,approved:c.approved,exams:t[n].exams}):null!==c.files&&c.files.length>0&&"all"===s&&a.push({user_id:t[n].user_id,names:t[n].fname+" "+t[n].lname,n_id:t[n].n_id,fname:t[n].fname,lname:t[n].lname,phone_number:t[n].phone_number,district:t[n].district,email:t[n].email,main_doc_title:Object(u.e)(e,c).main,category_id:c.category_id,sub_category_id:c.sub_category_id,category_subcategory_data:c.category_subcategory_data,title:c.title,description:c.description,files:c.files,start_year:c.start_year,end_year:c.end_year,school:c.school,details_email:c.email,details_phone_number:c.phone_number,company:c.company,year:c.year,doc_id:c.doc_id,validation_status:c.validation_status,validated_by:c.validated_by,doc_history_status:c.doc_history_status,get_in_date:c.get_in_date,approved:c.approved,exams:t[n].exams})}}return a},be=function(e){return Object(q.jsx)("div",{children:Object(q.jsx)(ue.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"National ID",alignText:"left",padding:"p-3"},{columnTitle:"Document",alignText:"left",padding:"p-3"},{columnTitle:"Status",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return e.loadingCandidates?[Object(q.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},43243),Object(q.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},43243343),Object(q.jsxs)("tr",{className:"border-b border-gray-200",children:[Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})}),Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:2,children:Object(q.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})})]},4327543)]:null!==e.candidateList&&!e.candidateList.length||!he(e.documentCategories,e.candidateList).length?[Object(q.jsx)("tr",{className:"border-b border-gray-200",children:Object(q.jsx)("td",{className:"p-3 text-center whitespace-nowrap",colSpan:6,children:"No Data Found"})},43243)]:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",a=e;return"all"===t||Object(P.e)(t)?a=e:"all"===t||"all"===s||Object(P.e)(s)?"all"!==t&&(a=e.filter((function(e){return e.category_id===t}))):a=e.filter((function(e){return e.category_id===t&&e.sub_category_id===s})),a}(he(e.documentCategories,e.candidateList),e.filterByCategoryId,e.filterBySubCategoryId).map((function(t,s){return Object(q.jsxs)("tr",{className:"border-b border-gray-200 cursor-pointer group hover:bg-gray-100",onClick:function(){e.setViewDoc(!0),e.setDocumentId(t.doc_id),e.setCandidateId(t.user_id),e.setDocument_index(s),e.setLoadingImage(!0)},children:[Object(q.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:s+1}),Object(q.jsx)("td",{className:"p-3 text-left",children:Object(q.jsx)("span",{children:t.fname+" "+t.lname})}),Object(q.jsx)("td",{className:"p-3 text-left",children:Object(q.jsx)("span",{children:t.n_id})}),Object(q.jsx)("td",{className:"py-3 px-3 text-left font-medium text-lg",children:t.main_doc_title}),Object(q.jsx)("td",{className:"py-3 px-5 text-left",children:Object(q.jsx)("span",{className:"text-sm font-medium bg-yellow-800 py-1 px-2 rounded text-yellow-100 align-middle",children:"waiting"===t.validation_status?"Pending":t.validation_status})}),Object(q.jsx)("td",{className:"text-right",children:Object(q.jsxs)("button",{className:"bg-blue-500 group-hover:bg-blue-600 text-blue-50 font-bold py-1 px-1 inline-flex rounded focus:outline-none",title:"View documents",disabled:e.loadingRequest,onClick:function(){e.setViewDoc(!0),e.setDocumentId(t.doc_id),e.setCandidateId(t.user_id)},children:[Object(q.jsx)(L.f,{className:"w-5 h-5"}),"View doc"]})})]},t.user_id+s)}))},pagination:!0,search:!0,thColor:"gray",loading:e.loadingCandidates})})},fe=r.a.memo(be),ge=function(e){Object(j.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(f.a)(this,s),(a=t.call(this,e)).setSetFullscreen=function(e){a.setState({isFullscreen:e})},a.handleFullScreen=function(){a.state.isFullscreen?(Object(W.g)("doc-img","CLOSE"),a.setSetFullscreen(!1)):(a.setSetFullscreen(!0),Object(W.g)("doc-img","OPEN"))},a.handleNextPrev=function(e){var t=a.props.candidate.details.filter((function(e){return"waiting"===e.validation_status&&e.files&&e.files.length})),s=a.props.selectedSetting&&a.props.selectedSetting===xe.documents?he(a.props.documentCategories,a.props.candidateList):t,n=a.props.document_index;"NEXT"===e&&a.props.document_index<=s.length-1&&(n=a.props.document_index+1,a.props.selectedSetting&&a.props.selectedSetting===xe.documents?Object(u.j)(s,n,a.props.setViewDoc,a.props.setDocumentId,a.props.setCandidateId,a.props.setDocument_index,a.props.setLoadingImage):Object(u.h)(a.props.candidate,n,a.props.setViewDoc,a.props.setDocumentId,a.props.setCandidateId,a.props.setDocument_index,a.props.setLoadingImage)),"PREV"===e&&a.props.document_index>0&&(n=a.props.document_index-1,a.props.selectedSetting&&a.props.selectedSetting===xe.documents?Object(u.j)(s,n,a.props.setViewDoc,a.props.setDocumentId,a.props.setCandidateId,a.props.setDocument_index,a.props.setLoadingImage):Object(u.h)(a.props.candidate,n,a.props.setViewDoc,a.props.setDocumentId,a.props.setCandidateId,a.props.setDocument_index,a.props.setLoadingImage)),a.props.setIsTeachingDocument(!1)},a.isNextAllowed=function(){if(a.props.selectedSetting&&a.props.selectedSetting===xe.documents){var e=he(a.props.documentCategories,a.props.candidateList);if(e.filter((function(e){return"waiting"===e.validation_status})).length<=1)return!1;if(!(a.props.document_index<=e.length-1))return!1;if(e[a.props.document_index+1]&&"waiting"===e[a.props.document_index+1].validation_status)return!0;if(e[a.props.document_index]&&"waiting"===e[a.props.document_index].validation_status)return!0}return!1},a.isPrevAllowed=function(){if(a.props.document_index>0)return!0;if(a.props.selectedSetting&&a.props.selectedSetting===xe.documents){var e=he(a.props.documentCategories,a.props.candidateList);return void 0!==e[a.props.document_index-1]&&!Object(P.e)(e[a.props.document_index-1].files)}return!1},a.state={isFullscreen:!1},a}return Object(g.a)(s,[{key:"render",value:function(){var e=this;return Object(q.jsxs)("div",{className:"bg-gray-50 h-full md:h-screen grid grid-cols-1 md:grid-cols-3",children:[this.props.doc.files.length>0&&this.props.loadingImage&&Object(q.jsx)("div",{className:"col-span-2 max-h-full md:max-h-screen overflow-y-auto relative group",children:Object(q.jsx)("div",{className:"w-full mx-auto mt-5 px-4",children:Object(q.jsx)("div",{className:"animate-pulse flex space-x-4",children:Object(q.jsx)("div",{className:"flex-1 space-y-4 py-4",children:Object(q.jsx)("div",{className:"bg-gray-300 rounded h-72 flex items-center justify-center",children:Object(q.jsxs)("h1",{className:"text-5xl text-gray-500 font-bold",children:["Loading"," ",Object(W.j)(Object(W.h)(this.props.doc.files))?"image":"pdf","..."]})})})})})}),Object(q.jsxs)("div",{className:"col-span-2 h-auto md:max-h-screen overflow-y-auto relative bg-gray-200 group ".concat(this.props.loadingImage&&"hidden"),children:[this.props.doc.files.length>0?Object(W.j)(Object(W.h)(this.props.doc.files))?Object(q.jsx)("div",{className:"relative",children:Object(q.jsx)("img",{src:I.a.AUTH_FILES+this.props.doc.files,alt:"",className:"w-full md:w-auto h-auto md:max-h-screen mx-auto ".concat(this.props.loadingImage&&"hidden"),id:"doc-img",onLoad:function(){return e.props.setLoadingImage(!1)},onDoubleClick:function(){return e.handleFullScreen()}})}):Object(q.jsx)(X.a,{file_url:I.a.AUTH_FILES+this.props.doc.files,class_name:"w-full h-screen md:max-h-screen mx-auto ".concat(this.props.loadingImage&&"hidden"),frame_title:"application PDF file view",setLoadingFile:this.props.setLoadingImage}):Object(q.jsxs)("div",{className:"text-center text-red-400 py-8 animate__animated animate__fadeIn",children:[Object(q.jsx)(Y.e,{className:"mx-auto w-40 h-40"}),Object(q.jsx)("span",{className:"font-semibold text-4xl",children:"No Files Provided"})]}),Object(q.jsxs)("div",{className:"flex items-center justify-between absolute top-0 w-full px-2 py-2",children:[Object(q.jsx)("button",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer",onClick:function(){e.props.selectedSetting!==xe.names&&e.props.setCandidateId(""),e.props.selectedSetting===xe.names&&e.props.setViewCandidate(!0),e.props.setViewDoc(!1),e.props.setDocumentId(""),e.props.setIsTeachingDocument(!1)},disabled:this.props.loadingRequest||this.props.loadingImage,children:Object(q.jsx)(J.i,{className:"h-6 w-6 text-gray-500 group-hover:text-gray-800"})}),this.props.doc.files.length>0&&Object(W.j)(Object(W.h)(this.props.doc.files))&&Object(q.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100",children:[Object(q.jsx)("button",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(W.q)("doc-img","IN")},children:Object(q.jsx)(G.k,{className:"h-6 w-6 text-gray-500"})}),Object(q.jsx)("button",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(W.q)("doc-img","OUT")},children:Object(q.jsx)(G.l,{className:"h-6 w-6 text-gray-500"})}),Object(q.jsx)("div",{className:"flex items-center bg-gray-100 justify-center h-10 w-10 rounded-full shadow-md opacity-4 cursor-pointer hover:bg-blue-50",onClick:function(){return Object(W.g)("doc-img","OPEN")},children:Object(q.jsx)(H.g,{className:"h-6 w-6 text-gray-500"})})]})]}),Object(q.jsxs)("div",{className:"absolute align-middle top-1/2 w-full flex ".concat(this.isPrevAllowed()?"justify-between":"justify-end"," z-20 opacity-0 group-hover:opacity-100 px-2"),children:[this.isPrevAllowed()&&Object(q.jsx)("button",{className:"inline-block bg-gray-100 cursor-pointer shadow-md rounded-full p-2 hover:bg-blue-50",onClick:function(){return e.handleNextPrev("PREV")},disabled:this.props.loadingRequest||this.props.loadingImage,children:Object(q.jsx)(z.b,{className:"h-8 w-8 text-gray-500"})}),this.isNextAllowed()&&Object(q.jsx)("button",{className:"inline-block bg-gray-100 cursor-pointer shadow-md rounded-full p-2 hover:bg-blue-50",onClick:function(){return e.handleNextPrev("NEXT",e.props.doc.validation_status)},disabled:this.props.loadingRequest||this.props.loadingImage,children:Object(q.jsx)(z.a,{className:"h-8 w-8 text-gray-500"})})]})]}),Object(q.jsx)("section",{className:"relative",children:Object(q.jsxs)("div",{className:"w-full flex md:flex-col flex-col justify-between items-start gap-2",children:[Object(q.jsx)("div",{className:"flex items-center gap-4 w-full",children:Object(q.jsxs)("section",{className:"p-3 w-full",children:[Object(q.jsxs)("div",{className:"flex items-center gap-2 border-b-2 my-2 py-1",children:[Object(q.jsx)(v.d,{className:"text-blue-600 text-xl"}),Object(q.jsx)("h2",{className:"uppercase tracking-wide text-xl font-semibold text-gray-700",children:"Document validation"})]}),Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Doc Title: "}),Object(q.jsx)("span",{className:"font-bold text-2xl",children:Object(u.e)(this.props.documentCategories,this.props.doc).main})]}),Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Names: "}),Object(q.jsx)("span",{className:"font-medium text-lg",children:this.props.candidate.fname+" "+this.props.candidate.lname})]}),Object(q.jsxs)("section",{className:"animate__animated animate__fadeIn",children:[Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"National ID: "}),Object(q.jsx)("span",{className:"font-medium text-lg",children:this.props.candidate.n_id})]}),Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Phone: "}),Object(q.jsx)("span",{className:"font-medium text-lg",children:this.props.candidate.phone_number})]}),Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Email: "}),Object(q.jsx)("span",{className:"font-medium text-lg",children:this.props.candidate.email})]}),Object(q.jsxs)("div",{className:"flex flex-row items-center justify-left gap-2 mb-2",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"District: "}),Object(q.jsx)("span",{className:"font-medium text-lg",children:this.props.candidate.district})]})]}),Object(q.jsxs)("div",{className:"flex items-center gap-1",children:[Object(q.jsx)("span",{className:"text-gray-500 italic",children:"Status:"}),Object(q.jsx)("span",{className:"text-".concat("waiting"===this.props.doc.validation_status?"yellow":"approved"===this.props.doc.validation_status?"blue":"gray","-700 font-semibold text-lg"),children:"waiting"===this.props.doc.validation_status?"Pending":"approved"===this.props.doc.validation_status?"Approved":"Rejected"})]})]})}),this.props.doc.files&&(this.props.actionTaken?Object(q.jsx)(ee,{disability:!!this.props.candidate.disability&&this.props.candidate.disability,in_education:!!this.props.candidate.in_education&&this.props.candidate.in_education,setActionTaken:this.props.setActionTaken,actionTaken:this.props.actionTaken,setResponseMsg:this.props.setResponseMsg,responseMsg:this.props.responseMsg,loadingRequest:this.props.loadingRequest,handleVerify:this.props.handleVerify,error:this.props.error,setError:this.props.setError,isTeachingDocument:this.props.isTeachingDocument,setIsTeachingDocument:this.props.setIsTeachingDocument,hasDisabilityDocument:this.props.hasDisabilityDocument,setHasDisabilityDocument:this.props.setHasDisabilityDocument}):Object(q.jsx)(Q,{docStatus:this.props.doc.validation_status,setActionTaken:this.props.setActionTaken,loading:this.props.loadingRequest,setResponse:this.props.setResponse,loadingImage:this.props.loadingImage}))]})})]})}}]),s}(i.Component),je=r.a.memo(Object(l.b)((function(e){return{documentCategories:e.document}}),{})(ge));!function(e){e.location="location",e.document="document"}(a||(a={}));var xe,_e=[{filterContentType:a.location,caption:"Filter by location"},{filterContentType:a.document,caption:"Filter by document types"}],ye=function(e,t,s){var a=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s(t,"docCategory",e[n].user_detail_category_id)>0&&a.push(e[n]);return a},Oe=function(e){var t=Object(i.useState)(null),s=Object(n.a)(t,2),r=s[0],o=s[1],l=Object(i.useState)(""),d=Object(n.a)(l,2),u=d[0],p=d[1],b=Object(i.useState)(null),f=Object(n.a)(b,2),g=f[0],j=f[1],x=Object(i.useState)(!0),_=Object(n.a)(x,2),O=_[0],v=_[1],N=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(I.a.APPLICATION,"/district"));case 3:t=e.sent,o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log({code_error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){if(r||N(),O&&(e.selectedSetting===xe.names?p(a.location):p(""),v(!1)),e.documentCategories.documentSubCategory&&e.candidateList&&"all"!==e.filterByCategoryId){var t=e.documentCategories.documentSubCategory.filter((function(t){return t.category_id===e.filterByCategoryId})),s=[];for(var n in t)Object.prototype.hasOwnProperty.call(e.documentCategories.documentCategory,n)&&e.countById(e.candidateList,"docSubCategory",t[n].user_detail_subcategory_id)>0&&s.push(t[n]);j(s)}}),[r,O,e]);var w=function(t){if(e.documentCategories.documentCategory){var s=e.documentCategories.documentCategory.find((function(e){return e.user_detail_category_id===t}));e.filterData("docCategory",t),e.setFilterByCategory(s?s.title:""),e.setFilterByCategoryId(s?s.user_detail_category_id:t),e.setFilterBySubCategory(""),e.setFilterBySubCategoryId("")}},C=function(t){if(e.documentCategories.documentSubCategory){var s=e.documentCategories.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t}));e.filterData("docSubCategory",t),e.setFilterBySubCategory(s?s.title:""),e.setFilterBySubCategoryId(s?s.user_detail_subcategory_id:t)}},T=function(t){var s=[];e.roomTables&&(s=e.roomTables.filter((function(e){return e.district_id===t})));for(var a=[],n=[],i=0;i<s.length;i++)n.includes(s[i].center_id)||(n.push(s[i].center_id),a.push(s[i]));return a},D=function(t){var s=[];e.roomTables&&(s=e.roomTables.filter((function(e){return e.center_id===t})));for(var a=[],n=[],i=0;i<s.length;i++)n.includes(s[i].room_id)||(n.push(s[i].room_id),a.push(s[i]));return a};return Object(q.jsxs)(i.Fragment,{children:[Object(q.jsxs)("div",{className:"my-2 font-medium text-xl flex items-center gap-2",children:[Object(q.jsx)(Z.f,{}),"Filter"," ",Object(q.jsxs)("section",{className:"".concat(e.filterByCategory.length>0&&"ml-2"),children:[e.filterByCategory.length>0&&Object(q.jsxs)("button",{type:"button",className:"relative bg-gray-500 text-white px-3 py-1 rounded overflow-visible duration-300  text-xs font-bold group mr-2",onClick:function(){return w("all")},disabled:e.loadingRequest||e.loadingCandidates,children:[e.filterByCategory,Object(q.jsx)("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 px-1 py-1 bg-red-400 rounded-full opacity-0 group-hover:opacity-100",children:Object(q.jsx)(c.x,{})})]})," ",e.filterByCategory.length>0&&e.filterBySubCategory.length>0&&Object(q.jsxs)("button",{type:"button",className:"relative bg-gray-500 text-white px-3 py-1 rounded overflow-visible duration-300  text-xs font-bold group mr-2",onClick:function(){return C("all")},disabled:e.loadingRequest||e.loadingCandidates,children:[e.filterBySubCategory,Object(q.jsx)("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 px-1 py-1 bg-red-400 rounded-full opacity-0 group-hover:opacity-100",children:Object(q.jsx)(c.x,{})})]})]})]}),Object(q.jsxs)("div",{className:"flex items-center md:flex-row flex-col gap-2",children:[e.selectedSetting===xe.documents&&Object(q.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(q.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(e){return p(e.target.value||"")},disabled:e.loadingRequest||e.loadingCandidates,children:[Object(q.jsx)("option",{value:"",children:"Filter type"}),_e&&_e.length>0?_e.map((function(e,t){return Object(q.jsx)("option",{value:e.filterContentType,children:e.caption},t)})):Object(q.jsx)("option",{value:"",disabled:!0,children:"No Filter type"})]})}),(u===a.location||e.selectedSetting===xe.names)&&Object(q.jsxs)("section",{className:"w-full flex items-center gap-2",children:[e.distinctDistricts&&Object(q.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(q.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(t){return s=t.target.value,e.distinctDistricts&&e.setThisDistrict(e.distinctDistricts.filter((function(e){return e.district_id===s}))[0]),e.filterData("DISTRICT",s),e.setThisCenter(null),void e.setThisRoom(null);var s},disabled:e.loadingRequest||e.loadingCandidates,value:e.thisDistrict?e.thisDistrict.district_id:"",children:[Object(q.jsx)("option",{value:"all",children:"All Districts"}),e.distinctDistricts&&e.distinctDistricts.length>0?e.distinctDistricts.map((function(e,t){return Object(q.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)})):Object(q.jsx)("option",{value:"",disabled:!0,children:"No District"})]})}),e.thisDistrict&&Object(q.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(q.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(t){return s=t.target.value,e.roomTables&&e.setThisCenter(e.roomTables.filter((function(e){return e.center_id===s}))[0]),e.filterData("CENTER",s),void e.setThisRoom(null);var s},disabled:e.loadingRequest,children:[Object(q.jsx)("option",{value:"all",children:"All center"}),e.thisDistrict&&T(e.thisDistrict.district_id).length>0?T(e.thisDistrict.district_id).map((function(e,t){return Object(q.jsx)("option",{value:e.center_id,children:e.center_name},t+e.center_id)})):Object(q.jsx)("option",{value:"",disabled:!0,children:"No center"})]})}),e.thisCenter&&Object(q.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(q.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(t){return s=t.target.value,e.roomTables&&e.setThisRoom(e.roomTables.filter((function(e){return e.room_id===s}))[0]),void e.filterData("ROOM",s);var s},disabled:e.loadingRequest,children:[Object(q.jsx)("option",{value:"all",children:"All room"}),e.thisCenter&&D(e.thisCenter.center_id).length>0?D(e.thisCenter.center_id).map((function(e,t){return Object(q.jsx)("option",{value:e.room_id,children:e.room_name},t+e.room_id)})):Object(q.jsx)("option",{value:"",disabled:!0,children:"No Room"})]})})]}),(e.selectedSetting===xe.documents&&u)===a.document&&Object(q.jsxs)("section",{className:"w-full flex items-center gap-2",children:[O?Object(q.jsx)("div",{className:"animate-pulse h-10 w-36 mb-3 bg-gray-300 rounded"}):Object(q.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(q.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(e){return w(e.target.value)},disabled:e.loadingRequest||e.loadingCandidates,value:e.filterByCategoryId,children:[Object(q.jsx)("option",{value:"all",children:"All Document type"}),e.documentCategories.documentCategory&&ye(e.documentCategories.documentCategory,e.candidateList,e.countById).length>0?ye(e.documentCategories.documentCategory,e.candidateList,e.countById).map((function(e,t){return Object(q.jsx)("option",{value:e.user_detail_category_id,children:e.title},t+e.user_detail_category_id)})):Object(q.jsx)("option",{value:"",disabled:!0,children:"No Document type"})]})}),g&&e.filterByCategoryId.length>0&&"all"!==e.filterByCategoryId&&Object(q.jsx)("div",{className:"flex flex-col mb-3 md:w-1/6 w-full",children:Object(q.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none animate__animated animate__fadeIn ".concat((e.loadingRequest||e.loadingCandidates)&&"cursor-wait"),onChange:function(e){return C(e.target.value)},disabled:e.loadingRequest||e.loadingCandidates,value:e.filterBySubCategoryId,children:[Object(q.jsxs)("option",{value:"all",children:["All type of ",e.filterByCategory]}),g&&g.length>0?g.map((function(e,t){return Object(q.jsx)("option",{value:e.user_detail_subcategory_id,children:e.title},t+e.user_detail_subcategory_id)})):Object(q.jsxs)("option",{value:"",disabled:!0,children:["No types of ",e.filterByCategory]})]})})]})]})]})},ve=r.a.memo(Oe);!function(e){e.names="names",e.documents="documents"}(xe||(xe={}));var Ne,we=function(e){Object(j.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(f.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setLoadingImage=function(e){a.setState({loadingImage:e})},a.setLoadingCandidates=function(e){a.setState({loadingCandidates:e})},a.setThisDistrict=function(e){a.setState({thisDistrict:e})},a.setThisCenter=function(e){a.setState({thisCenter:e})},a.setThisRoom=function(e){a.setState({thisRoom:e})},a.setFilterByCategory=function(e){a.setState({filterByCategory:e})},a.setFilterByCategoryId=function(e){a.setState({filterByCategoryId:e})},a.setFilterBySubCategory=function(e){a.setState({filterBySubCategory:e})},a.setFilterBySubCategoryId=function(e){a.setState({filterBySubCategoryId:e})},a.setCandidateId=function(e){a.setState({candidate_id:e})},a.setViewDoc=function(e){a.setState({viewDoc:e})},a.setViewCandidate=function(e){a.setState({viewCandidate:e})},a.setDocument_index=function(e){a.setState({document_index:e})},a.setDocumentId=function(e){a.setState({document_id:e})},a.setResponseMsg=function(e){a.setState({responseMsg:e})},a.setResponse=function(e){a.setState({response:e,isTeachingDocument:!1})},a.setError=function(e){a.setState({error:e})},a.setActionTaken=function(e){a.setState({actionTaken:e})},a.setIsTeachingDocument=function(e){a.setState({isTeachingDocument:e})},a.setHasDisabilityDocument=function(e){a.setState({hasDisabilityDocument:e})},a.loadDistrict=function(){var e=Object(h.a)(m.a.mark((function e(t){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,""),e.prev=1,e.next=4,y.a.get("".concat(I.a.APPLICATION,"/district"));case 4:s=e.sent,a.setState({district:s.data}),t(!1,""),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error({code_error:Object(D.a)(e.t0)}),t(!1,Object(D.a)(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),a.loadDefaultData=function(e,t,s){if(!e&&Object(P.e)(t)){a.setLoading(!0);for(var n=[],i=(s?s.filter((function(e){return e.details.length>0})):[]).filter((function(e){return e.details.filter((function(e){return""!==e.files}))})),r=[],c=0;c<i.length;c++)n.includes(i[c].email)||(n.push(i[c].email),r.push(i[c]));if(a.setState({candidateList:r,roomTables:Object(A.a)(a.props.locations)}),!a.state.distinctDistricts||!a.state.distinctDistricts.length){var o,l=[],d=[],u=Object(A.a)(a.props.locations).length;for(o=0;o<u;o++)l.includes(Object(A.a)(a.props.locations)[o].district_id)||(l.push(Object(A.a)(a.props.locations)[o].district_id),d.push(Object(A.a)(a.props.locations)[o]));a.setState({distinctDistricts:d})}a.setLoading(!1)}},a.loadCandidatesInInstitute=function(e,t){!e&&t&&t.length>0&&null===a.state.thisEducation&&(a.setState({thisEducation:t[0]}),(null==a.props.documentReducer.candidatesInInstitute||a.props.documentReducer.candidatesInInstitute.length<=0)&&a.props.auth.application_session?a.props.getCandidatesInInstitute(t[0].education_institute_id,a.props.auth.application_session.session_plan_id,(function(e,t,s){a.setLoadingCandidates(e),!e&&t.length>0&&(console.error({loadingCandidatesError:t}),a.props.PushPopupAlert({title:t,theme:E.a.danger}),a.setLoadingCandidates(!1)),a.loadDefaultData(e,t,s)})):(a.setLoadingCandidates(!1),a.loadDefaultData(!1,"",a.props.documentReducer.candidatesInInstitute)))},a.componentDidMount=function(){(null===a.props.documentReducer.documentCategory||a.props.documentReducer.documentCategory.length<=0)&&Object(u.k)(a.props.auth.application_session)&&a.props.getDocumentCategory(),(null===a.props.documentReducer.documentSubCategory||a.props.documentReducer.documentSubCategory.length<=0)&&Object(u.k)(a.props.auth.application_session)&&a.props.getDocumentSubCategory(),(null===a.props.documentReducer.documentFields||a.props.documentReducer.documentFields.length<=0)&&Object(u.k)(a.props.auth.application_session)&&a.props.getDocumentFields(),(!a.state.district||a.state.district.length<=0)&&Object(u.k)(a.props.auth.application_session)&&a.loadDistrict((function(e,t){e||t.length>0&&a.props.PushPopupAlert({title:t,theme:E.a.danger})})),(null===a.props.education_categories||a.props.education_categories.length<=0)&&Object(u.k)(a.props.auth.application_session)?a.props.loadEducationCategories(a.loadCandidatesInInstitute):null===a.state.thisEducation&&Object(u.k)(a.props.auth.application_session)&&a.loadCandidatesInInstitute(!1,a.props.education_categories),!a.props.locations.length&&Object(u.k)(a.props.auth.application_session)?a.props.getAllRoom((function(e,t){!e&&t.length>0&&(console.error(t),a.props.PushPopupAlert({title:t,theme:E.a.danger}))})):a.setLoading(!1)},a.loadCandidates=function(e){(a.state.thisEducation&&a.state.thisEducation.education_institute_id!==e.education_institute_id||null===a.state.thisEducation)&&a.props.getCandidatesInInstitute(e.education_institute_id,(function(e,t,s){a.setLoadingCandidates(e),!e&&t.length>0&&(a.props.PushPopupAlert({title:t,theme:E.a.danger}),console.error({loadingCandidatesError:t}))})),a.setState({thisEducation:e})},a.countById=function(e,t,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"waiting",i=e,r=0;if("docCategory"===t)if("all"===s){i=e.filter((function(e){return e.details.length>0&&e.details.filter((function(e){return e.files&&e.files.length>0&&e.validation_status===n}))})),r=0;for(var c=0;c<i.length;c++)for(var o=0;o<i[c].details.length;o++)r+=i[c].details[o].files&&i[c].details[o].files.length>0&&i[c].details[o].validation_status===n?1:0}else for(i=e.filter((function(e){return e.details.length>0&&e.details.filter((function(e){return e.category_id===s&&e.files&&e.files.length>0&&e.validation_status===n}))})),r=0,c=0;c<i.length;c++)for(o=0;o<i[c].details.length;o++)r+=i[c].details[o].category_id===s&&i[c].details[o].files&&i[c].details[o].files.length>0&&i[c].details[o].validation_status===n?1:0;else if("docSubCategory"===t){i=e.filter((function(e){return e.details.filter((function(e){return e.sub_category_id===s&&e.files&&e.files.length>0&&e.validation_status===n}))})),r=0;for(var l=0;l<i.length;l++)for(var d=0;d<i[l].details.length;d++)r+=i[l].details[d].sub_category_id===s&&i[l].details[d].files&&i[l].details[d].files.length>0&&i[l].details[d].validation_status===n?1:0}else if("DISTRICT"===t&&a.state.roomTables){var u=[],p=[],m=a.state.roomTables.filter((function(e){return e.district_id===s})).length;for(c=0;c<m;c++)u.includes(a.state.roomTables[c].center_id)||(u.push(a.state.roomTables[c].center_id),p.push(a.state.roomTables[c]));for(i=e.filter((function(e){return e.exams&&e.exams.filter((function(e){return u.includes(e.center_id)}))})),r=0,l=0;l<i.length;l++)for(d=0;d<i[l].details.length;d++)r+=i[l].details[d].files&&i[l].details[d].files.length>0&&i[l].details[d].validation_status===n?1:0}return r},a.filterData=function(e,t){var s=[];if(a.props.documentReducer.candidatesInInstitute){for(var n=[],i=!0,r=0;r<a.props.documentReducer.candidatesInInstitute.length;r++)if(0!==a.props.documentReducer.candidatesInInstitute[r].details.length){i=!0;for(var c=0;c<a.props.documentReducer.candidatesInInstitute[r].details.length;c++)a.props.documentReducer.candidatesInInstitute[r].details[c].files.length>0&&i&&(n.push(a.props.documentReducer.candidatesInInstitute[r]),i=!1)}for(var o=[],l=[],d=0;d<n.length;d++)o.includes(n[d].email)||(o.push(n[d].email),l.push(n[d]));s=l,"DISTRICT"===e&&a.state.roomTables&&(s="all"!==t?Object(u.c)(a.props.documentReducer.candidatesInInstitute,a.state.roomTables,t):s,a.setState({filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:""})),"CENTER"===e&&a.state.roomTables&&a.state.candidateList&&a.state.thisDistrict&&(s=Object(u.c)(a.props.documentReducer.candidatesInInstitute,a.state.roomTables,a.state.thisDistrict.district_id),console.log(Object(u.c)(a.props.documentReducer.candidatesInInstitute,a.state.roomTables,t)),s=Object(u.b)(s,t),a.setState({filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:""})),"ROOM"===e&&a.state.roomTables&&a.state.candidateList&&a.state.thisDistrict&&a.state.thisCenter&&(s=Object(u.c)(a.props.documentReducer.candidatesInInstitute,a.state.roomTables,a.state.thisDistrict.district_id),s=Object(u.b)(s,a.state.thisCenter.center_id),s=Object(u.d)(s,t),a.setState({filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:""}))}a.setState({candidateList:s})},a.FC_shortListing=function(){var e=Object(h.a)(m.a.mark((function e(t){var s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=Object(u.i)(a.state.candidateList,a.state.candidate_id,"").user)){e.next=15;break}return e.prev=2,e.next=5,y.a.patch("".concat(I.a.APPLICATION,"/doccheckshortlist/").concat(t),{email:s.email,phone_number:s.phone_number});case 5:n=e.sent,console.log("===================================="),console.log({res:n}),console.log("===================================="),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error({error:e.t0}),a.props.PushPopupAlert({title:Object(D.a)(e.t0),theme:E.a.danger});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),a.handleVerify=Object(h.a)(m.a.mark((function e(){var t,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.candidate_id.length>0&&a.state.document_id.length>0&&a.state.response)){e.next=24;break}if("rejected"!==a.state.response||a.state.responseMsg.length){e.next=3;break}return e.abrupt("return",a.setState({error:{element:"comment",msg:"Reason of rejection is required"},loadingRequest:!1}));case 3:return a.setState({loadingRequest:!0}),t=Object(u.i)(a.state.candidateList,a.state.candidate_id,a.state.document_id).user,s={user_id:a.state.candidate_id,doc_id:a.state.document_id,validation_status:"approved"===a.state.response?k.a.APPROVED:k.a.REJECTED,validated_by:{user_id:a.props.auth.user.user_id,comment:a.state.responseMsg,validation_status:"approved"===a.state.response?k.a.APPROVED:k.a.REJECTED},in_education:a.state.isTeachingDocument?a.state.isTeachingDocument:t.in_education,disability:a.state.hasDisabilityDocument?a.state.hasDisabilityDocument:t.disability},n={user_id:a.state.candidate_id,doc_id:a.state.document_id,validation_status:"approved"===a.state.response?k.a.APPROVED:k.a.REJECTED,validated_by:{user_id:a.props.auth.user.user_id,comment:a.state.responseMsg,validation_status:"approved"===a.state.response?k.a.APPROVED:k.a.REJECTED,date:""},in_education:a.state.isTeachingDocument?a.state.isTeachingDocument:t.in_education,disability:a.state.hasDisabilityDocument?a.state.hasDisabilityDocument:t.disability},e.prev=7,e.next=10,y.a.post("".concat(I.a.AUTH,"/validateuserdoc"),s);case 10:if(!e.sent){e.next=17;break}return e.next=14,a.FC_shortListing(a.state.candidate_id);case 14:a.props.verifyDocument(n),a.props.PushPopupAlert({title:"Document ".concat(a.state.response," successful"),theme:E.a.success}),a.setState({response:"approved",responseMsg:"",actionTaken:"",hasDisabilityDocument:!1,isTeachingDocument:!1});case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(7),console.error(e.t0),a.props.PushPopupAlert({title:Object(D.a)(e.t0),theme:E.a.danger});case 23:a.setState({loadingRequest:!1});case 24:case"end":return e.stop()}}),e,null,[[7,19]])}))),a.cleanFilter=function(){if(a.state.thisRoom)a.filterData("ROOM",a.state.thisRoom.room_id);else if(a.state.thisCenter)a.filterData("CENTER",a.state.thisCenter.center_id);else if(a.state.thisDistrict)a.filterData("DISTRICT",a.state.thisDistrict.district_id);else{var e=[];if(a.props.documentReducer.candidatesInInstitute){for(var t=[],s=!0,n=0;n<a.props.documentReducer.candidatesInInstitute.length;n++)if(0!==a.props.documentReducer.candidatesInInstitute[n].details.length){s=!0;for(var i=0;i<a.props.documentReducer.candidatesInInstitute[n].details.length;i++)null!==a.props.documentReducer.candidatesInInstitute[n].details[i].files&&a.props.documentReducer.candidatesInInstitute[n].details[i].files.length>0&&s&&(t.push(a.props.documentReducer.candidatesInInstitute[n]),s=!1)}for(var r=[],c=[],o=0;o<t.length;o++)r.includes(t[o].email)||(r.push(t[o].email),c.push(t[o]));e=c}a.setState({candidateList:e,filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:""})}},a.state={loading:!0,loadingCandidates:!0,loadingRequest:!1,loadingImage:!0,viewDoc:!1,viewCandidate:!1,district:null,thisEducation:null,candidateList:[],selectedSetting:xe.documents,roomTables:null,distinctDistricts:null,thisDistrict:null,thisCenter:null,thisRoom:null,settings:[{DocCheckingContentType:xe.documents,caption:"View by Document"},{DocCheckingContentType:xe.names,caption:"View by Candidate"}],filterByCategory:"",filterByCategoryId:"",filterBySubCategory:"",filterBySubCategoryId:"",responseMsg:"",response:"approved",document_id:"",candidate_id:"",error:{element:"",msg:""},document_index:null,isTeachingDocument:!1,hasDisabilityDocument:!1,actionTaken:""},a}return Object(g.a)(s,[{key:"render",value:function(){var e=this;return!0===this.state.loading&&Object(u.k)(this.props.auth.application_session)?Object(q.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."}):Object(q.jsxs)("div",{className:"w-full my-5",children:[Object(u.k)(this.props.auth.application_session)&&Object(q.jsxs)("div",{className:"flex flex-row items-start gap-4 mb-2",children:[Object(q.jsx)(v.d,{className:"text-blue-700 w-20 h-20 md:block hidden"}),Object(q.jsx)("div",{className:"w-full",children:Object(q.jsxs)("div",{className:"flex justify-between w-full",children:[Object(q.jsxs)("div",{className:"flex flex-col gap-1 justify-between",children:[Object(q.jsx)("h1",{className:"md:text-4xl text-2xl font-semibold text-blue-600",children:"Document validation - Applied candidate(s)"}),Object(q.jsx)("div",{className:"flex flex-row items-center md:gap-3 gap-2",children:Object(q.jsx)("section",{className:"flex items-start md:items-center justify-start md:justify-end gap-2 mt-1",children:this.props.education_categories&&this.props.education_categories.length>0&&this.props.education_categories.map((function(t,s){return Object(q.jsx)("section",{className:"w-auto ".concat(e.state.loadingRequest||e.state.loadingCandidates?"cursor-wait":"cursor-pointer"," ").concat(e.state.thisEducation&&t.education_institute_id===e.state.thisEducation.education_institute_id?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.state.loadingRequest&&!e.state.loadingCandidates&&e.loadCandidates(t)},children:Object(q.jsxs)("section",{className:"flex-1",children:[Object(q.jsx)(c.m,{className:"inline-block mr-1 text-xs"}),Object(q.jsx)("span",{children:t.education_category_title})]})},t.education_institute_id+s)}))})})]}),Object(q.jsxs)("div",{className:"text-right md:flex flex-col hidden",children:[this.state.thisDistrict&&Object(q.jsxs)("div",{className:"text-gray-700",children:["District:"," ",Object(q.jsx)("span",{className:"font-semibold",children:this.state.thisDistrict.district_name})]}),this.state.thisCenter&&Object(q.jsxs)("div",{className:"text-gray-700",children:["Center:"," ",Object(q.jsx)("span",{className:"font-semibold",children:this.state.thisCenter.center_name})]}),this.state.thisRoom&&Object(q.jsxs)("div",{className:"text-gray-700",children:["Room:"," ",Object(q.jsx)("span",{className:"font-semibold",children:this.state.thisRoom.room_name})]})]})]})})]}),Object(q.jsxs)("section",{children:[!Object(u.k)(this.props.auth.application_session)&&Object(q.jsxs)("section",{className:"py-10 flex flex-col items-center rounded border border-gray-300 bg-white text-2xl font-medium text-yellow-800 animate__animated animate__pulse",children:[Object(q.jsxs)("div",{className:"flex flex-col items-center",children:[Object(q.jsx)(L.n,{className:"w-32 h-32"}),"Document validation session is closed!"]}),this.props.auth.application_session&&this.props.auth.application_session.plans&&this.props.auth.application_session.plans.find((function(e){return e.type_key===ce.c.DOCUMENT_VALIDATION}))&&Object(q.jsxs)("div",{className:"flex flex-row items-center justify-center gap-4 mt-5",children:[Object(q.jsxs)("span",{className:"font-bold text-gray-900 bg-blue-50 rounded-full px-3 py-1",children:["Start date:"," ",Object(W.a)(this.props.auth.application_session.plans.find((function(e){return e.type_key===ce.c.DOCUMENT_VALIDATION})).start_date,"DD/MM/YYYY")]}),Object(q.jsxs)("span",{className:"font-bold text-gray-900 bg-blue-50 rounded-full px-3 py-1",children:["Ending date:"," ",Object(W.a)(this.props.auth.application_session.plans.find((function(e){return e.type_key===ce.c.DOCUMENT_VALIDATION})).end_date,"DD/MM/YYYY")]})]})]}),Object(u.k)(this.props.auth.application_session)&&Object(q.jsxs)("div",{className:"bg-white shadow rounded border border-gray-2 p-2 w-full overflow-x-auto",children:[!this.state.viewCandidate&&Object(q.jsx)("div",{className:"flex flex-row items-center",children:this.state.settings.map((function(t,s){return Object(q.jsx)("div",{onClick:function(){e.setState({selectedSetting:t.DocCheckingContentType}),e.cleanFilter()},className:"animate__animated ".concat(e.state.selectedSetting===t.DocCheckingContentType?"bg-blue-100 border-blue-600 text-blue-600 animate__zoomIn":"bg-white border-white text-gray-600"," hover:bg-blue-100 px-4 py-2 cursor-pointer font-bold border-b-4 hover:border-blue-600 hover:text-blue-600 rounded-t mt-1 mx-1"),children:t.caption},s)}))}),this.state.viewCandidate&&Object(q.jsxs)("div",{className:"flex items-center gap-3 mb-2 text-gray-600",children:[Object(q.jsx)("button",{className:"inline-block p-3 transition rounded-full bg-gray-400 ripple hover:bg-gray-600 focus:outline-none",onClick:function(){e.setState({viewCandidate:!1,candidate_id:""})},children:Object(q.jsx)(J.f,{className:"w-6 h-6 text-gray-50"})}),Object(q.jsxs)("div",{className:"flex flex-col",children:[Object(q.jsx)("span",{className:"text-gray-800 font-semibold text-2xl",children:Object(u.i)(this.state.candidateList,this.state.candidate_id,"").user?Object(u.i)(this.state.candidateList,this.state.candidate_id,"").user.fname+" "+Object(u.i)(this.state.candidateList,this.state.candidate_id,"").user.lname:"Unknown user"}),Object(q.jsx)("span",{className:"text-gray-600 font-normal text-sm",children:Object(u.i)(this.state.candidateList,this.state.candidate_id,"").user?Object(u.i)(this.state.candidateList,this.state.candidate_id,"").user.email:""})]})]}),!this.state.viewCandidate&&Object(q.jsxs)("section",{className:"",children:[Object(q.jsx)(ve,{roomTables:this.state.roomTables,candidateList:this.state.candidateList,distinctDistricts:this.state.distinctDistricts,thisDistrict:this.state.thisDistrict,filterByCategoryId:this.state.filterByCategoryId,filterBySubCategoryId:this.state.filterBySubCategoryId,filterByCategory:this.state.filterByCategory,filterBySubCategory:this.state.filterBySubCategory,setThisDistrict:this.setThisDistrict,filterData:this.filterData,setThisCenter:this.setThisCenter,setThisRoom:this.setThisRoom,setFilterByCategory:this.setFilterByCategory,setFilterByCategoryId:this.setFilterByCategoryId,setFilterBySubCategory:this.setFilterBySubCategory,setFilterBySubCategoryId:this.setFilterBySubCategoryId,loadingRequest:this.state.loadingRequest,loadingCandidates:this.state.loadingCandidates,thisCenter:this.state.thisCenter,selectedSetting:this.state.selectedSetting,documentCategories:this.props.documentReducer,countById:this.countById}),this.state.selectedSetting===xe.names&&Object(q.jsx)(me,{loadingCandidates:this.state.loadingCandidates,loadingRequest:this.state.loadingRequest,candidateList:this.state.candidateList,setCandidateId:this.setCandidateId,setViewCandidate:this.setViewCandidate,countByStatus:u.f,countById:this.countById,setLoadingImage:this.setLoadingImage}),this.state.selectedSetting===xe.documents&&Object(q.jsx)(fe,{loadingCandidates:this.state.loadingCandidates,loadingRequest:this.state.loadingRequest,filterByCategoryId:this.state.filterByCategoryId,filterBySubCategoryId:this.state.filterBySubCategoryId,candidateList:this.state.candidateList,countByStatus:u.f,countById:this.countById,documentCategories:this.props.documentReducer,setDocumentId:this.setDocumentId,setCandidateId:this.setCandidateId,setViewDoc:this.setViewDoc,document_id:this.state.document_id,candidate_id:this.state.candidate_id,setDocument_index:this.setDocument_index,setLoadingImage:this.setLoadingImage})]}),this.state.viewCandidate&&Object(u.i)(this.state.candidateList,this.state.candidate_id,"").user&&Object(q.jsx)("section",{className:"animate__animated animate__fadeIn",children:Object(q.jsx)(de,{candidate:Object(u.i)(this.state.candidateList,this.state.candidate_id,"").user,candidateCheckData:null,filterByCategoryId:this.state.filterByCategoryId,filterBySubCategoryId:this.state.filterBySubCategoryId,setDocumentId:this.setDocumentId,setCandidateId:this.setCandidateId,setViewDoc:this.setViewDoc,setDocument_index:this.setDocument_index})})]})]}),this.state.viewDoc&&null!==this.state.document_index&&Object(u.i)(this.state.candidateList,this.state.candidate_id,this.state.document_id).doc&&Object(u.i)(this.state.candidateList,this.state.candidate_id,this.state.document_id).user&&Object(q.jsx)(S.d,{backDrop:!0,theme:S.c.default,close:function(){},displayClose:!1,backDropClose:!1,title:"",widthSizeClass:S.b.maxWidth,padding:{title:!1,body:!1,footer:!1},children:Object(q.jsx)(je,{error:this.state.error,doc:Object(u.i)(this.state.candidateList,this.state.candidate_id,this.state.document_id).doc,candidate:Object(u.i)(this.state.candidateList,this.state.candidate_id,this.state.document_id).user,responseMsg:this.state.responseMsg,loadingRequest:this.state.loadingRequest,setResponseMsg:this.setResponseMsg,setResponse:this.setResponse,handleVerify:this.handleVerify,selectedSetting:this.state.selectedSetting,setViewCandidate:this.setViewCandidate,setError:this.setError,setViewDoc:this.setViewDoc,setCandidateId:this.setCandidateId,setDocumentId:this.setDocumentId,actionTaken:this.state.actionTaken,setActionTaken:this.setActionTaken,document_index:this.state.document_index,setDocument_index:this.setDocument_index,candidateList:this.state.candidateList,isTeachingDocument:this.state.isTeachingDocument,setIsTeachingDocument:this.setIsTeachingDocument,hasDisabilityDocument:this.state.hasDisabilityDocument,setHasDisabilityDocument:this.setHasDisabilityDocument,loadingImage:this.state.loadingImage,setLoadingImage:this.setLoadingImage})})]})}}]),s}(i.Component),Ce=r.a.memo(Object(l.b)((function(e){var t=e.auth,s=e.document,a=e.locations,n=e.schoolLevels;return{auth:t,documentReducer:s,locations:a.roomLocation,education_categories:n.education_categories}}),{getAllRoom:re.q,verifyDocument:w.n,getDocumentCategory:w.h,getDocumentSubCategory:w.j,getDocumentFields:w.i,loadEducationCategories:N.mc,getCandidatesInInstitute:w.g,PushPopupAlert:N.tb})(we));!function(e){e.CANDIDATES="Document validation all candidates",e.APPLICATION="Document validation applied candidates"}(Ne||(Ne={}));var Ie=Object(l.b)((function(e){return{auth:e.auth}}),{})((function(e){var t=Object(i.useState)(null),s=Object(n.a)(t,2),a=s[0],r=s[1],l=Object(i.useState)(!0),p=Object(n.a)(l,2),m=p[0],h=p[1];return Object(i.useEffect)((function(){m&&null===a&&(Object(u.k)(e.auth.application_session)?h(!1):(h(!1),r(Ne.CANDIDATES)))}),[m,a,e.auth.application_session]),m?Object(q.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."}):Object(q.jsxs)("div",{children:[!a&&Object(q.jsxs)("div",{className:"min-w-screen h-screen fixed flex justify-center items-center inset-0 z-50",children:[Object(q.jsx)("div",{className:"absolute bg-black opacity-80 inset-0 z-0"}),Object(q.jsxs)("section",{className:"max-w-xl p-5 relative mx-auto my-auto rounded-md bg-gray-100 w-full",children:[Object(q.jsxs)("div",{className:"w-full flex flex-row items-center justify-center",children:[Object(q.jsxs)("div",{className:"bg-white rounded-3xl p-2 shadow-sm m-3 cursor-pointer text-center hover:bg-blue-50 border-2 hover:border-blue-500",onClick:function(){return r(Ne.CANDIDATES)},children:[Object(q.jsx)(o.n,{className:"h-40 text-blue-600 rounded-2xl w-full object-cover"}),Object(q.jsx)("p",{className:"mx-4 text-xl font-semibold text-gray-900 -mt-3",children:"Validate all candidates"})]}),Object(q.jsxs)("div",{className:"bg-white rounded-3xl p-2 shadow-sm m-3 cursor-pointer text-center hover:bg-blue-50 border-2 hover:border-blue-500",onClick:function(){return r(Ne.APPLICATION)},children:[Object(q.jsx)(c.L,{className:"h-40 text-blue-600 rounded-2xl w-full object-cover"}),Object(q.jsx)("p",{className:"mx-4 text-xl font-semibold text-gray-900 -mt-3",children:"Validate applied candidates"})]})]}),Object(q.jsx)("div",{className:"text-center group text-sm -mb-3",children:Object(q.jsx)(d.c,{to:"/apps-page",className:"border border-rounded-md bg-gray-100 border-gray-100 group-hover:bg-gray-50 group-hover:border-gray-400 px-2 py-1",children:"Back to App"})})]})]}),a===Ne.APPLICATION&&Object(q.jsx)(Ce,{}),a===Ne.CANDIDATES&&Object(q.jsx)(ie,{})]})}))},641:function(e,t,s){"use strict";s.d(t,"e",(function(){return a})),s.d(t,"d",(function(){return n})),s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return r})),s.d(t,"g",(function(){return c})),s.d(t,"f",(function(){return o})),s.d(t,"a",(function(){return l}));var a=function(e){return null===e||null!==e.match(/^ *$/)},n=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},i=function(e,t){return e.find((function(e){return e.education_institute_id===t}))},r=function(e,t){return e.find((function(e){return e.position_id===t}))},c=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=new Array(t+1).join("0");return(s+e).slice(-t)},l=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},644:function(e,t,s){"use strict";s.d(t,"q",(function(){return u})),s.d(t,"c",(function(){return p})),s.d(t,"n",(function(){return m})),s.d(t,"h",(function(){return h})),s.d(t,"b",(function(){return b})),s.d(t,"m",(function(){return f})),s.d(t,"g",(function(){return g})),s.d(t,"e",(function(){return j})),s.d(t,"p",(function(){return x})),s.d(t,"j",(function(){return _})),s.d(t,"a",(function(){return y})),s.d(t,"l",(function(){return O})),s.d(t,"f",(function(){return v})),s.d(t,"d",(function(){return N})),s.d(t,"o",(function(){return w})),s.d(t,"i",(function(){return C})),s.d(t,"k",(function(){return I}));var a=s(5),n=s.n(a),i=s(7),r=s(8),c=s.n(r),o=s(6),l=s(9),d=s(14),u=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,c.a.get("".concat(l.a.APPLICATION,"/roomlocation"));case 4:a=t.sent,s({type:o.a.GET_ALL_ROOM,payload:a.data}),console.log("===================================="),console.log({res:a.data}),console.log("===================================="),e(!1,"",a.data),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),console.error("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_PROVINCE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return console.log({data:e}),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_PROVINCE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_PROVINCE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_DISTRICT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return console.log({data:e}),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_DISTRICT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return console.log({data:e}),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_DISTRICT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_SECTOR,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_SECTOR,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return console.log({data:e}),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_SECTOR,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return console.log({data:e}),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return console.log({data:e}),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return console.log({data:e}),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return console.log({delete_room:e}),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(t){t({type:o.a.GET_LOCATION_WAITING_LIST,payload:e})}}},645:function(e,t,s){"use strict";var a=s(17),n=s(4),i=s(167),r=s(10),c=s(1);t.a=function(e){var t,s,o=e.tableId&&"myTable"!==e.tableId?e.tableId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=s.length,n=0;n<e;n++)t+=s.charAt(Math.floor(Math.random()*a));return t}(),l=Object(n.useState)(0),d=Object(a.a)(l,2),u=d[0],p=d[1],m=Object(n.useState)(1),h=Object(a.a)(m,2),b=h[0],f=h[1],g=Object(n.useState)(1),j=Object(a.a)(g,2),x=j[0],_=j[1],y=Object(n.useState)(),O=Object(a.a)(y,2),v=O[0],N=O[1],w=Object(n.useState)(10),C=Object(a.a)(w,2),I=C[0],T=C[1],D=Object(n.useState)(0),R=Object(a.a)(D,2),S=R[0],E=R[1],P=Object(n.useState)(0),k=Object(a.a)(P,2),A=k[0],L=k[1];Object(n.useEffect)((function(){e.pagination&&U()}));var U=function(){t=document.getElementById(o),s=t.getElementsByTagName("tr"),p(s.length),f(Math.ceil(u/I)),E((x-1)*I),L(Math.min(S+I-1,u-1));var e=Array.from(Array(b+1-1).keys()).map((function(e){return 1+e}));v&&e.length===v.length||N(e);for(var a=0;a<s.length;a++)s[a].style.display=a>=S&&a<=A?"":"none"};return Object(c.jsxs)("div",{className:"".concat(e.tableSize," overflow-x-auto"),children:[e.search&&Object(c.jsx)("div",{className:"".concat(e.searchBG," w-full mb-2"),children:e.search&&Object(c.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(c.jsx)(r.Bb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(c.jsx)("input",{type:"search",placeholder:"search",onChange:function(s){return function(s,a){var n,i,r,c,l;for("field"===a&&"all"===s&&(s=""),n=s.toLowerCase(),i=(t=document.getElementById(o)).getElementsByTagName("tr"),c=0;c<i.length;c++)for(l=0;l<e.columns.length;l++)if(r=i[c].getElementsByTagName("td")[l]){if((r.textContent||r.innerText).toLowerCase().indexOf(n)>-1){i[c].style.display="";break}i[c].style.display="none"}}(s.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:e.loading}),e.pagination&&Object(c.jsx)("div",{className:"select",children:Object(c.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(e){return T(Number(e.target.value))},disabled:e.loading,children:[Object(c.jsx)("option",{value:"10",children:"10"}),Object(c.jsx)("option",{value:"25",children:"25"}),Object(c.jsx)("option",{value:"50",children:"50"}),Object(c.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(c.jsxs)("div",{className:"overflow-x-auto w-full",children:[Object(c.jsxs)("table",{className:e.tableClass?e.tableClass:"w-full shadow ".concat(e.rounded&&"sm:rounded-lg"," table-auto order-table"),id:o,children:[!e.hideColumns&&Object(c.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(c.jsx)("tr",{className:"text-left tracking-wide bg-".concat(e.thColor,"-100 border-b-2 border-").concat(e.thColor,"-500 text-").concat(e.thColor,"-600"),children:e.columns.map((function(e,t){return Object(c.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,s,a,n,i,r,c,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(a=!0,t=document.getElementById(e))for(;a;){for(a=!1,s=t.rows,n=1;n<s.length-1;n++)if(c=!1,i=s[n].getElementsByTagName("TD")[o],r=s[n+1].getElementsByTagName("TD")[o],"asc"===l&&i&&r){if(i.innerHTML.toLowerCase()>r.innerHTML.toLowerCase()){c=!0;break}}else if("desc"===l&&i&&r&&i.innerHTML.toLowerCase()<r.innerHTML.toLowerCase()){c=!0;break}c&&s[n].parentNode?(s[n].parentNode.insertBefore(s[n+1],s[n]),a=!0,d++):0===d&&"asc"===l&&(l="desc",a=!0)}}(o,t)},children:Object(c.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(c.jsx)(i.i,{})]})},t)}))})}),Object(c.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:e.rows()})]}),e.pagination&&Object(c.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",I," of ",u-1," Entries"]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==x&&"bg-white"),"aria-label":"Previous",disabled:1===x||e.loading,onClick:function(){return _(x-1)},children:Object(c.jsx)(r.fb,{className:"h-5 w-5"})})}),Object(c.jsx)("div",{children:v&&v.map((function(t,s){return Object(c.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(t!==x?"bg-white":"bg-gray-100 cursor-default"),disabled:t===x||e.loading,onClick:function(){return _(t)},children:t},s)}))}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(x!==b&&"bg-white"),"aria-label":"Next",disabled:x===b||e.loading,onClick:function(){return _(x+1)},children:Object(c.jsx)(r.gb,{className:"h-5 w-5"})})})]})})]})]})]})}},649:function(e,t,s){"use strict";s.d(t,"h",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"k",(function(){return h})),s.d(t,"d",(function(){return b})),s.d(t,"j",(function(){return f})),s.d(t,"c",(function(){return g})),s.d(t,"m",(function(){return j})),s.d(t,"f",(function(){return x})),s.d(t,"i",(function(){return _})),s.d(t,"b",(function(){return y})),s.d(t,"l",(function(){return O})),s.d(t,"e",(function(){return v})),s.d(t,"g",(function(){return w})),s.d(t,"n",(function(){return C}));var a=s(5),n=s.n(a),i=s(7),r=s(8),c=s.n(r),o=s(6),l=s(9),d=s(15),u=s(14),p=function(){return function(){var e=Object(i.a)(n.a.mark((function e(t){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,c.a.get("".concat(l.a.AUTH,"/detailcategory"));case 4:s=e.sent,console.log({docCategory:s}),t({type:o.a.GET_DOCUMENT_CATEGORY,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({error:Object(u.a)(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=Object(i.a)(n.a.mark((function e(t){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,c.a.get("".concat(l.a.AUTH,"/detailsubcategory"));case 4:s=e.sent,console.log({docSubCategory:s}),t({type:o.a.GET_DOCUMENT_SUB_CATEGORY,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({doc_SUB_category_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(){return function(){var e=Object(i.a)(n.a.mark((function e(t){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,c.a.get("".concat(l.a.AUTH,"/categorysubcatedata"));case 4:s=e.sent,console.log({docFields:s}),t({type:o.a.GET_DOCUMENT_FIELDS,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({doc_SUB_category_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CREATE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return console.log({reducer:e}),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UPDATE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){var t=[],s=[];return e.filter((function(e){return null!==e&&void 0!==e})).forEach((function(e){s.includes(e.user_id)||(t.push(e),s.push(e.user_id))})),t},w=function(e,t,s){return function(){var a=Object(i.a)(n.a.mark((function a(i){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0,"",null),a.prev=1,Object(d.b)(),a.next=5,c.a.get("".concat(l.a.APPLICATION,"/educationtypeuserdocs/").concat(e,"/").concat(t));case 5:r=a.sent,console.log("===================================="),console.log({getCandidatesInInstitute:r,distinctCandidates:N(r.data)}),console.log("===================================="),i({type:o.a.GET_CANDIDATE_IN_INSTITUTE,payload:N(r.data)}),s(!1,"",N(r.data)),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),console.log({getCandidatesInInstitute:a.t0}),s(!1,Object(u.a)(a.t0),null);case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}()},C=function(e){return console.log("================verifyDocument===================="),console.log({verifyDocument:e}),console.log("================verifyDocument===================="),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.VERIFY_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},653:function(e,t,s){"use strict";s.d(t,"g",(function(){return m})),s.d(t,"d",(function(){return h})),s.d(t,"b",(function(){return b})),s.d(t,"f",(function(){return f})),s.d(t,"a",(function(){return g})),s.d(t,"c",(function(){return j})),s.d(t,"e",(function(){return x}));var a,n=s(5),i=s.n(n),r=s(7),c=s(8),o=s.n(c),l=s(6),d=s(9),u=s(15),p=s(14),m=30;!function(e){e.waiting="waiting",e.approved="approved",e.rejected="rejected"}(a||(a={}));var h=function(e,t){return t&&t(!0,""),function(){var s=Object(r.a)(i.a.mark((function s(a){var n;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,Object(u.b)(),s.next=4,o.a.get("".concat(d.a.AUTH,"/users?page=").concat(e,"&limit=").concat(m));case 4:n=s.sent,console.log("===================================="),console.log({fetchUserAccess:n}),console.log("===================================="),a({type:l.a.FETCH_USERS_ACCESS,payload:{users:[{data:n.data.users,page:e}],next:n.data.next,previous:n.data.previous,total_users:n.data.total_users}}),t&&t(!1,"",n.data.users),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(0),console.error({user_error:s.t0}),t&&t(!1,Object(p.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[0,12]])})));return function(e){return s.apply(this,arguments)}}()},b=function(e,t){return function(){var s=Object(r.a)(i.a.mark((function s(a){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.BLOCK_USER_TO_SYSTEM,payload:{id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},f=function(e,t){return function(){var s=Object(r.a)(i.a.mark((function s(a){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.UNBLOCK_USER_TO_SYSTEM,payload:{id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},g=function(e,t){return function(){var s=Object(r.a)(i.a.mark((function s(a){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.ASSIGN_ROLE_TO_USER,payload:{data:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},j=function(e,t){return function(){var s=Object(r.a)(i.a.mark((function s(a){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.CUSTOMIZE_USER_ACCESS,payload:{data:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},x=function(e,t){return function(){var s=Object(r.a)(i.a.mark((function s(a){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:l.a.RESET_USER_ACCESS,payload:{user_id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}},655:function(e,t,s){"use strict";s.d(t,"k",(function(){return u})),s.d(t,"i",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"m",(function(){return h})),s.d(t,"c",(function(){return b})),s.d(t,"e",(function(){return f})),s.d(t,"j",(function(){return g})),s.d(t,"b",(function(){return j})),s.d(t,"n",(function(){return x})),s.d(t,"d",(function(){return _})),s.d(t,"f",(function(){return y})),s.d(t,"h",(function(){return O})),s.d(t,"g",(function(){return v})),s.d(t,"l",(function(){return N}));var a=s(5),n=s.n(a),i=s(7),r=s(6),c=s(8),o=s.n(c),l=s(9),d=s(14),u=function(e){return e(!0,""),function(){var t=Object(i.a)(n.a.mark((function t(s){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("".concat(l.a.APPLICATION,"/schools"));case 3:a=t.sent,s({type:r.a.GET_SCHOOLS,payload:a.data}),e(!1,"",a.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var s=Object(i.a)(n.a.mark((function s(a){var i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,o.a.get("".concat(l.a.APPLICATION,"/schools/").concat(e));case 4:i=s.sent,a({type:r.a.GET_SCHOOLS_BY_ID,payload:i.data}),t(!1,"",i.data),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 13:case"end":return s.stop()}}),s,null,[[1,9]])})));return function(e){return s.apply(this,arguments)}}()},m=function(e){return console.log({schools:e}),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:r.a.CREATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:r.a.UPDATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:r.a.DELETE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var s=Object(i.a)(n.a.mark((function s(a){var i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,o.a.get("".concat(l.a.PLACEMENT,"/requestpost/school/").concat(e));case 4:i=s.sent,console.log("===================================="),console.log({schoolPosts:i}),console.log("===================================="),a({type:r.a.FETCH_SCHOOL_POSTS,payload:i.data}),t(!1,""),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},g=function(e,t){return function(){var s=Object(i.a)(n.a.mark((function s(a){var i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,o.a.get("".concat(l.a.PLACEMENT,"/placedcandidate/school/").concat(e));case 4:i=s.sent,console.log({getSchoolPlacement:i.data}),a({type:r.a.GET_SCHOOL_PLACEMENT,payload:i.data}),t(!1,"",i.data),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:r.a.CREATE_SCHOOL_POST,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return console.log({TYPE:e,data:t}),function(){var s=Object(i.a)(n.a.mark((function s(a){return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a({type:r.a.UPDATE_SCHOOL_POST,payload:{TYPE:e,data:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},_=function(e,t){return function(){var s=Object(i.a)(n.a.mark((function s(a){var i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,o.a.get("".concat(l.a.PLACEMENT,"/requestpost/district/").concat(e));case 4:i=s.sent,console.log("===================================="),console.log({fetchDistrictPosts:i}),console.log("===================================="),a({type:r.a.FETCH_DISTRICT_POSTS,payload:i.data}),t(!1,""),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},y=function(e,t){return function(){var s=Object(i.a)(n.a.mark((function s(a){var i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,s.next=4,o.a.get("".concat(l.a.PLACEMENT,"/placedcandidate/district/").concat(e));case 4:i=s.sent,console.log("===================================="),console.log({getDistrictPlacement:i.data}),console.log("===================================="),a({type:r.a.GET_DISTRICT_PLACEMENT,payload:i.data}),t(!1,"",i.data),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.log("Err: ",s.t0),t(!1,Object(d.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[1,12]])})));return function(e){return s.apply(this,arguments)}}()},O=function(e,t,s){return function(){var a=Object(i.a)(n.a.mark((function a(i){var c;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0,""),a.prev=1,a.next=4,o.a.get("".concat(l.a.PLACEMENT,"/confirmedpostrequest/institute/").concat(e,"/").concat(t));case 4:c=a.sent,console.log("===================================="),console.log({getInstitutePlacementLimit:c.data}),console.log("===================================="),i({type:r.a.GET_INSTITUTE_PLACEMENT_LIMIT,payload:c.data}),s(!1,"",c.data),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),console.log("Err: ",a.t0),s(!1,Object(d.a)(a.t0));case 16:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()},v=function(e,t,s){return function(){var a=Object(i.a)(n.a.mark((function a(i){var c;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0,""),a.prev=1,a.next=4,o.a.get("".concat(l.a.PLACEMENT,"/confirmedpostrequest/district/").concat(e,"/").concat(t));case 4:c=a.sent,console.log("===================================="),console.log({getDistrictPlacementLimit:c.data}),console.log("===================================="),i({type:r.a.GET_DISTRICT_PLACEMENT_LIMIT,payload:c.data}),s(!1,"",c.data),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),console.log("Err: ",a.t0),s(!1,Object(d.a)(a.t0));case 16:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()},N=function(e){return console.log("===================================="),console.log({updateInstitutePlacementLimit:e}),console.log("===================================="),function(){var t=Object(i.a)(n.a.mark((function t(s){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:r.a.UPDATE_INSTITUTE_PLACEMENT_LIMIT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},657:function(e,t,s){"use strict";s(4);var a=s(1);t.a=function(e){var t=function(){for(var t=[],s=0;s<e.cols;s++)t.push(s);return t.map((function(e){return Object(a.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(a.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},663:function(e,t,s){"use strict";s.d(t,"c",(function(){return a})),s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return i}));var a,n,i,r=s(30);!function(e){e.INITIATED="initiated",e.CONFIRMED="confirmed",e.RECEIVED="received"}(a||(a={})),function(e){e.Title="title",e.Description="description",e.Files="files",e.email="email",e.names="names",e.phone_number="phone_number",e.position="position",e.relation="relation",e.src="src",e.year="year",e.company="company",e.category_subcategory_data="category_subcategory_data",e.others="others",e.start_year="start_year",e.end_year="end_year",e.School="School"}(n||(n={})),function(e){e.APPROVED="approved",e.REJECTED="rejected"}(i||(i={}));r.c.APPLICATION,r.c.DOCUMENT_VALIDATION,r.c.EXAMINATION,r.c.MARKS_PUBLICATION,r.c.PLACEMENT_TRANSFER},666:function(e,t,s){"use strict";s.d(t,"c",(function(){return B})),s.d(t,"a",(function(){return F}));var a,n=s(5),i=s.n(n),r=s(7),c=s(25),o=s(24),l=s(27),d=s(26),u=s(8),p=s.n(u),m=s(4),h=s.n(m),b=s(10),f=s(20),g=s(3),j=s(644),x=s(655),_=s(653),y=s(32),O=s(126),v=s(645),N=s(37),w=s(641),C=s(9),I=s(14),T=s(695),D=s(690),R=s(680),S=s(17),E=s(42),P=s(1),k=function(e){var t=Object(m.useState)(""),s=Object(S.a)(t,2),a=s[0],n=s[1];return Object(P.jsxs)("section",{className:"border-2 rounded border-gray-400",children:[Object(P.jsxs)("div",{className:"flex items-center w-full my-1",children:[Object(P.jsx)(b.Bb,{className:"w-6 h-6 absolute ml-2"}),Object(P.jsx)("input",{type:"text",placeholder:"Search",className:"focus:border-2 h-7 ml-1 pl-9 mr-2 bg-gray-100 focus:border-gray-700 w-full rounded",onChange:function(e){return n(e.target.value)},value:a,disabled:!(e.roleList.length>0)}),Object(P.jsx)("button",{className:"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none",type:"button",onClick:function(){e.setChooseRole(!1)},children:"Close"})]}),Object(P.jsx)("div",{className:"w-full h-52 mt-2 overflow-y-auto divide-y divide-gray-300",children:Object(E.a)(e.roleList,a).length>0?Object(E.a)(e.roleList,a).map((function(t,s){return Object(P.jsx)("section",{children:Object(P.jsxs)("div",{className:"group flex items-center justify-between my-1 hover:bg-gray-100",children:[Object(P.jsx)("div",{className:"p-1 w-full mr-2 cursor-pointer",onClick:function(){e.setChooseRole(!1),!e.loadindRequest&&e.handleSelectRole(t.system_user_role_id)},children:Object(P.jsx)("p",{className:"text-sm font-medium text-black",children:Object(w.a)(t.role)})}),Object(P.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 py-1 px-2 mr-1 rounded text-sm",children:"Choose"})]})},s+t.role)})):Object(P.jsx)("div",{className:"text-center p-3",children:Object(P.jsx)("p",{className:"text-base font-medium text-black",children:"No role available"})})})]})},A=h.a.memo(k),L=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).setRoleId=function(e){a.setState({roleId:e})},a.setSelectedRole=function(e){a.setState({selectedRole:e})},a.setProvinceId=function(e){a.setState({provinceId:e})},a.setDistrictId=function(e){a.setState({districtId:e})},a.setCenterId=function(e){a.setState({centerId:e})},a.setRoomId=function(e){a.setState({roomId:e})},a.setLoadingForm=function(e){a.setState({loadingForm:e})},a.setSchoolId=function(e){a.setState({schoolId:e})},a.setChooseSchool=function(e){a.setState({chooseSchool:e})},a.setLoading=function(e){a.setState({loading:e})},a.setInstituteId=function(e){a.setState({instituteId:e})},a.setFormError=function(e){a.setState({formError:e})},a.setLoadingRequest=function(e){a.setState({loadingRequest:e})},a.setChooseRole=function(e){a.setState({chooseRole:e})},a.setDefaultState=function(e,t){var s,n;if(t.district_required&&a.props.roomList)(n=a.distinctDistrict(a.props.roomList).find((function(t){return t._id===e.district_id})))&&a.setProvinceId(n.province_id),n&&a.setDistrictId(e.district_id),a.setLoadingForm(!1);else if(t.room_required&&a.props.roomList)(s=F(a.props.roomList).find((function(t){return t.room_id===e.room_id})))&&a.setProvinceId(s.province_id),s&&a.setDistrictId(s.district_id),s&&a.setCenterId(s.center_id),a.setRoomId(e.room_id),a.setLoadingForm(!1);else if(t.school_required&&a.props.roomList&&a.props.schoolList){var i=a.props.schoolList.find((function(t){return t._id===e.school_id}));i?((s=F(a.props.roomList).find((function(e){return e.district_id===(null===i||void 0===i?void 0:i.district_id)})))&&a.setProvinceId(s.province_id),s&&a.setDistrictId(s.district_id),a.setSchoolId(e.school_id),a.setLoadingForm(!1)):a.setLoadingForm(!1)}else a.setLoadingForm(!1)},a.componentDidMount=function(){if(a.props.roleList.length){if(a.props.userInfo.default_access&&a.state.loadingForm){if(!a.state.roleId.length){var e=a.props.roleList.find((function(e){return e.system_user_role_id===a.props.userInfo.default_access.system_user_role_id}));e&&(a.setRoleId(a.props.userInfo.default_access.system_user_role_id),a.setSelectedRole(e),a.setDefaultState(a.props.userInfo.default_access,e))}console.log("===================================="),console.log({vvvvv:a.props.userInfo.default_access}),console.log("====================================")}a.state.selectedRole&&a.props.userInfo.default_access&&a.setDefaultState(a.props.userInfo.default_access,a.state.selectedRole),a.setLoading(!1)}},a.handleSelectRole=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SELECT";if(a.props.roleList){var s=a.props.roleList.find((function(t){return t.system_user_role_id===e}));s&&(a.setRoleId(e),a.setSelectedRole(s),a.state.formError&&"role_id"===a.state.formError.element&&a.setFormError(null),"SELECT"===t&&(a.setProvinceId(""),a.setDistrictId(""),a.setSchoolId(""),a.setCenterId(""),a.setRoomId(""),a.setInstituteId("")))}},a.tableData=function(){return a.state.roleId.length>0&&null===a.state.selectedRole&&a.props.roleList&&a.handleSelectRole(a.state.roleId,"DEFAULT"),a.state.selectedRole?a.state.selectedRole.access.map((function(e,t){return Object(P.jsxs)("tr",{className:"text-left border-b border-gray-200 hover:bg-gray-100",children:[Object(P.jsx)("td",{className:"px-2 py-1",children:Object(P.jsx)("label",{className:"inline-flex items-center",children:Object(P.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(P.jsx)("td",{children:Object(P.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(P.jsx)(R.a,{}):Object(P.jsx)(b.O,{}),e.permitted.create?" Yes":"No"]})}),Object(P.jsx)("td",{children:Object(P.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(P.jsx)(R.a,{}):Object(P.jsx)(b.O,{}),e.permitted.view?" Yes":"No"]})}),Object(P.jsx)("td",{children:Object(P.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(P.jsx)(R.a,{}):Object(P.jsx)(b.O,{}),e.permitted.update?" Yes":"No"]})}),Object(P.jsx)("td",{children:Object(P.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(P.jsx)(R.a,{}):Object(P.jsx)(b.O,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id+Math.random())})):[Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:5,className:"text-center px-2 py-2",children:"No Default Access Available on this Role."})},"55re")]},a.assignRoleToUser=function(){var e=Object(r.a)(i.a.mark((function e(t){var s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("Are sure you want to change user role?")){e.next=3;break}return e.abrupt("return",!1);case 3:if(a.state.selectedRole){e.next=5;break}return e.abrupt("return",a.setFormError({element:"role_id",msg:"User role is required!"}));case 5:if(!0!==a.state.selectedRole.room_required||!Object(w.e)(a.state.provinceId)){e.next=7;break}return e.abrupt("return",a.setFormError({element:"province_id",msg:"Province is required!"}));case 7:if(!0!==a.state.selectedRole.education_institution_required||!Object(w.e)(a.state.instituteId)){e.next=9;break}return e.abrupt("return",a.setFormError({element:"institute_id",msg:"Institute is required on this role!"}));case 9:if(!0!==a.state.selectedRole.room_required&&!0!==a.state.selectedRole.district_required||!Object(w.e)(a.state.districtId)){e.next=11;break}return e.abrupt("return",a.setFormError({element:"district_id",msg:"District is required!"}));case 11:if(!0!==a.state.selectedRole.school_required||!Object(w.e)(a.state.schoolId)){e.next=13;break}return e.abrupt("return",a.setFormError({element:"school_id",msg:"School is required!"}));case 13:if(!0!==a.state.selectedRole.room_required||!Object(w.e)(a.state.centerId)){e.next=15;break}return e.abrupt("return",a.setFormError({element:"center_id",msg:"Center is required!"}));case 15:if(!0!==a.state.selectedRole.room_required||!Object(w.e)(a.state.roomId)){e.next=17;break}return e.abrupt("return",a.setFormError({element:"room_id",msg:"Room is required!"}));case 17:return a.setLoadingRequest(!0),s={user_id:a.props.userInfo.user_id,data:{system_user_role_id:a.state.roleId,status:1,role:a.state.selectedRole.role,access:a.state.selectedRole.access,school_id:a.state.selectedRole.school_required?a.state.schoolId:"",district_id:a.state.selectedRole.district_required?a.state.districtId:"",room_id:a.state.selectedRole.room_required?a.state.roomId:"",education_institution_id:a.state.selectedRole.education_institution_required?a.state.instituteId:""}},e.prev=19,e.next=22,p.a.post("".concat(C.a.AUTH,"/addroletouser"),{user_id:a.props.userInfo.user_id,system_user_role_id:a.state.roleId,status:1,role:a.state.selectedRole.role,access:!0,school_id:!0===a.state.selectedRole.school_required?a.state.schoolId:"",district_id:!0===a.state.selectedRole.district_required?a.state.districtId:"",room_id:!0===a.state.selectedRole.room_required?a.state.roomId:"",education_institution_id:a.state.selectedRole.education_institution_required?a.state.instituteId:""});case 22:(n=e.sent)&&(console.log("===================================="),console.log({assignRoleToUser:n}),console.log("===================================="),a.props.assignRoleToUserAccess(s,a.props.currentPage),a.setLoadingRequest(!1),a.props.setChangeRole(!1),a.props.PushPopupAlert({title:"Assigning Role to User completed successfully",theme:N.a.success})),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(19),console.log({role_error:e.t0}),a.props.PushPopupAlert({title:Object(I.a)(e.t0),theme:N.a.danger});case 30:case"end":return e.stop()}}),e,null,[[19,26]])})));return function(t){return e.apply(this,arguments)}}(),a.distinctDistrict=function(e,t){var s=[],a=[];if(t)a=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))for(var i in e[n].districts)Object.prototype.hasOwnProperty.call(e[n].districts,i)&&(s.includes(e[n].districts[i]._id)||(s.push(e[n].districts[i]._id),a.push(e[n].districts[i])));return a},a.distinctCenter=function(e,t){var s=[],a=[];return F(e).forEach((function(e){s.includes(e.center_id)||e.district_id!==t||(s.push(e.center_id),a.push(e))})),a},a.distinctRoom=function(e,t){var s=[],a=[];return F(e).forEach((function(e){s.includes(e.room_id)||e.center_id!==t||(s.push(e.room_id),a.push(e))})),a},a.state={loading:!0,loadingForm:!0,loadingRequest:!1,roleId:"",provinceId:"",districtId:"",schoolId:"",roomId:"",instituteId:"",centerId:"",selectedRole:null,formError:null,chooseRole:!1,chooseSchool:!1},a}return Object(o.a)(s,[{key:"render",value:function(){var e,t=this;return!0===this.state.loading||this.state.loadingForm||null===this.props.userInfo.default_access||0===this.state.roleId.length||null===this.state.selectedRole?Object(P.jsx)("div",{className:"text-center py-7 font-bold text-3xl text-gray-400 animate-pulse",children:"Loading..."}):Object(P.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 py-2 md:py-4 px-2 md:px-0",children:[Object(P.jsx)("div",{className:"col-span-1 bg-white w-full overflow-x-auto border rounded",children:Object(P.jsxs)("div",{className:"px-6 md:px-12 py-5 bg-white mx-auto rounded-2xl w-100",children:[Object(P.jsx)("h3",{className:"font-semibold text-2xl text-gray-800 mb-4",children:"Change User Role"}),this.state.loadingForm?Object(P.jsx)(y.a,{}):Object(P.jsx)("form",{onSubmit:function(e){return t.assignRoleToUser(e)},children:Object(P.jsxs)("div",{className:"space-y-5",children:[Object(P.jsxs)("div",{className:"space-y-2",children:[Object(P.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:"User Role"}),!this.state.chooseRole&&Object(P.jsx)("div",{className:"w-full text-base bg-white text-grey-darker cursor-pointer border-2 px-4 py-3 rounded focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"role_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onClick:function(){!t.state.loadingRequest&&t.setChooseRole(!0),!t.state.loadingRequest&&t.setFormError(null)},children:this.state.selectedRole?this.state.selectedRole.role:"Select role"}),this.state.chooseRole&&Object(P.jsx)(A,{setChooseRole:this.setChooseRole,handleSelectRole:this.handleSelectRole,roleList:this.props.roleList,loadindRequest:this.state.loadingRequest}),this.state.formError&&"role_id"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.education_institution_required&&Object(P.jsxs)("div",{className:"space-y-2",children:[Object(P.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Institute"}),Object(P.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"institute_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setInstituteId(e.target.value),t.setProvinceId(""),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId(""),t.state.formError&&"institute_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.instituteId,children:[Object(P.jsx)("option",{value:"",children:"Select institute"}),this.props.schoolLevels.education_categories&&this.props.schoolLevels.education_categories.length>0?this.props.schoolLevels.education_categories.map((function(e){return Object(P.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},e.education_institute_id+Math.random())})):Object(P.jsx)("option",{value:"",disabled:!0,children:"No institute available"})]}),this.state.formError&&"institute_id"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(P.jsxs)("div",{className:"space-y-2",children:[Object(P.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Province"}),Object(P.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"province_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setProvinceId(e.target.value),t.state.formError&&"province_id"===t.state.formError.element&&t.setFormError(null),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},value:this.state.provinceId,disabled:this.state.loadingRequest,children:[Object(P.jsx)("option",{value:"",children:"Select province"}),this.props.roomList&&this.props.roomList.map((function(e){return Object(P.jsx)("option",{value:e._id,children:e.province_name},e._id+Math.random())}))]}),this.state.formError&&"province_id"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&(this.state.selectedRole.district_required||this.state.selectedRole.room_required)&&Object(P.jsxs)("div",{className:"space-y-2",children:[Object(P.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"District"}),Object(P.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"district_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setDistrictId(e.target.value),t.state.formError&&"district_id"===t.state.formError.element&&t.setFormError(null),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},value:this.state.districtId,disabled:this.state.loadingRequest,children:[Object(P.jsx)("option",{value:"",children:"Select district"}),this.props.roomList&&this.distinctDistrict(this.props.roomList,Object(w.e)(this.state.provinceId)?void 0:this.state.provinceId).length>0?this.distinctDistrict(this.props.roomList,Object(w.e)(this.state.provinceId)?void 0:this.state.provinceId).map((function(e){return Object(P.jsx)("option",{value:e._id,children:e.district_name},e._id+Math.random())})):Object(P.jsx)("option",{value:"",disabled:!0,children:"No district found"})]}),this.state.formError&&"district_id"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.school_required&&Object(P.jsxs)("div",{className:"space-y-2",children:[Object(P.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"School"}),Object(P.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"school_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setSchoolId(e.target.value),t.state.formError&&"school_id"===t.state.formError.element&&t.setFormError(null),t.setCenterId(""),t.setRoomId("")},disabled:this.state.loadingRequest,value:this.state.schoolId,children:[Object(P.jsx)("option",{value:"",children:"Selected school"}),this.props.schoolList&&this.props.schoolList.map((function(e){return Object(P.jsx)("option",{value:e._id,children:e.school_name},e._id+Math.random())}))]}),this.state.formError&&"school_id"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(P.jsxs)("div",{className:"space-y-2",children:[Object(P.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Center"}),Object(P.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"center_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setCenterId(e.target.value),t.state.formError&&"center_id"===t.state.formError.element&&t.setFormError(null),t.setRoomId("")},disabled:this.state.loadingRequest,value:this.state.centerId,children:[Object(P.jsx)("option",{value:"",children:"Select center"}),this.state.districtId&&this.state.districtId.length>0&&this.props.roomList&&this.distinctCenter(this.props.roomList,this.state.districtId).length>0?this.distinctCenter(this.props.roomList,this.state.districtId).map((function(e,t){return Object(P.jsx)("option",{value:e.center_id,children:e.center_name},e.center_id+t+Math.random())})):Object(P.jsx)("option",{value:"",disabled:!0,children:"No center found"})]}),this.state.formError&&"center_id"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(P.jsxs)("div",{className:"space-y-2",children:[Object(P.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Room"}),Object(P.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"room_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setRoomId(e.target.value),t.state.formError&&"room_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.roomId,children:[Object(P.jsx)("option",{value:"",children:"Select room"}),!Object(w.e)(this.state.centerId)&&this.props.roomList&&this.distinctRoom(this.props.roomList,this.state.centerId).length>0?this.distinctRoom(this.props.roomList,this.state.centerId).map((function(e,t){return Object(P.jsx)("option",{value:e.room_id,className:"".concat("0"===e.room_name?"hidden":"block"),children:e.room_name},e.room_id+t+Math.random())})):Object(P.jsx)("option",{value:"",disabled:!0,children:"No room found"})]}),this.state.formError&&"room_id"===this.state.formError.element&&Object(P.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(P.jsxs)("div",{className:"flex justify-between 2xl:justify-start gap-2",children:[Object(P.jsx)("button",{className:"btn bg-gray-500 text-gray-50 focus:outline-none",onClick:function(){t.props.setChangeRole(!1),t.setFormError(null),t.setProvinceId(""),t.setDistrictId(""),t.setSchoolId(""),t.setCenterId(""),t.setRoomId("")},disabled:this.state.loadingRequest,children:"Back"}),Object(P.jsx)("button",{className:"btn btn-blue focus:outline-none",disabled:this.state.loadingRequest,children:this.state.loadingRequest?"Loading...":"Save Change"})]})]})})]})}),Object(P.jsxs)("div",{className:"cols-span-1 md:col-span-2 bg-white w-full border rounded text-center p-2 hidden md:block",children:[Object(P.jsx)("div",{className:"my-4",children:Object(P.jsxs)("span",{className:"text-gray-600 font-semibold text-2xl",children:[null===(e=this.state.selectedRole)||void 0===e?void 0:e.role,"'s Default Access"]})}),!this.state.loading&&Object(P.jsx)("div",{className:"overflow-x-auto w-full",children:Object(P.jsx)(v.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!1,searchBG:"bg-gray-50",thColor:"gray",tableId:"defaultAccess"})})]})]})}}]),s}(m.Component),U=h.a.memo(Object(f.b)((function(e){return{schoolLevels:e.schoolLevels}}),{assignRoleToUserAccess:_.a,PushPopupAlert:g.tb})(L)),q=s.p+"static/media/blank_profile.c3f94521.png",B=function(e,t){return e.find((function(e){return e.user_id===t}))};!function(e){e.View_User="View User Info",e.Add_Access="Add Access To User",e.Update_Access="Update User Access",e.Close_Modal="Close Modal"}(a||(a={}));var F=function(e){var t=[];for(var s in e){var a=e[s].districts;for(var n in a){var i=a[n].centers;for(var r in i){var c=i[r].rooms;for(var o in c)t.push({province_id:e[s]._id,province_name:e[s].province_name,district_id:a[n]._id,district_name:a[n].district_name,center_id:i[r]._id,center_name:i[r].center_name,room_id:c[o]._id,room_name:c[o].room_number.toString(),capacity:c[o].capacity,occupied:c[o].occupied})}}}return t},M=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).setManageUserId=function(e){a.setState({manageUserId:e})},a.setLoadingRequest=function(e){a.setState({loadingRequest:e})},a.setLoadingSchool=function(e){a.setState({loadingSchool:e})},a.setLoading=function(e){a.setState({loading:e})},a.setLoadingRequestType=function(e){a.setState({loadingRequestType:e})},a.setRoomList=function(e){a.setState({roomList:e})},a.setRoomTables=function(e){a.setState({roomTable:e})},a.setCurrentAccess=function(e){a.setState({currentAccess:e})},a.setSchoolList=function(e){a.setState({schoolList:e})},a.setUserAccess=function(e){a.setState({userAccess:e})},a.componentDidMount=function(){0===a.props.schools.length?a.props.getSchools((function(e,t,s){a.setLoadingSchool(e),e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:N.a.danger}),s&&(a.setLoadingSchool(!1),a.setSchoolList(s)))})):(a.setSchoolList(a.props.schools),a.setLoadingSchool(!1)),0===a.props.allRoom.length?a.props.getAllRoom((function(e,t,s){a.setLoading(e),!e&&t.length>0&&a.props.PushPopupAlert({title:t,theme:N.a.danger}),s&&s.length>0&&(a.setRoomList(s),a.setRoomTables(F(s)))})):a.state.loading&&(a.setRoomList(a.props.allRoom),a.setRoomTables(F(a.props.allRoom)),a.setLoading(!1))},a.tableData=function(){if(a.props.loadingUser||a.state.loading||a.state.loadingSchool)return[Object(P.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(P.jsx)("td",{className:"p-3 text-center",colSpan:8,children:Object(P.jsx)(y.a,{})})},Math.random())];var e=a.props.users;return e.length<=0?[Object(P.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(P.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"No Data Found"})},Math.random())]:e.map((function(e,t){var s,n;return Object(P.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group cursor-pointer",onClick:function(){a.props.setManageUser(e),a.setManageUserId(e.user_id)},children:[Object(P.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(P.jsx)("td",{className:"p-3 text-left",children:Object(P.jsx)("span",{children:e.user_info&&e.user_info.fname+" "+e.user_info.lname})}),Object(P.jsx)("td",{className:"p-3 text-left",children:e.email}),Object(P.jsx)("td",{className:"p-3 text-left",children:e.user_info&&"M"===e.user_info.sex?"Male":"Female"}),Object(P.jsx)("td",{className:"p-3 text-left text-blue-700 text-base font-medium",children:e.default_access&&e.default_access.system_user_role_id&&e.default_access.system_user_role_id&&Object(P.jsx)("span",{className:"px-2 py-1 font-semibold rounded text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100",children:(null===(s=Object(w.d)(a.props.roleList,e.default_access.system_user_role_id))||void 0===s?void 0:s.role)&&Object(w.a)(null===(n=Object(w.d)(a.props.roleList,e.default_access.system_user_role_id))||void 0===n?void 0:n.role)})}),Object(P.jsx)("td",{className:"px-3 text-center",children:Object(P.jsx)("button",{className:"btn bg-gray-200 group-hover:bg-blue-700 group-hover:text-white focus:outline-none",title:"Manage User Access",onClick:function(){a.props.setManageUser(e),a.setManageUserId(e.user_id)},children:"Manage"})})]},t+Math.random())}))},a.blockUser=function(){var e=Object(r.a)(i.a.mark((function e(t,s){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||a.props.PushPopupAlert({title:"User Access is required doesn't exist",theme:N.a.danger}),a.setLoadingRequest(!0),window.confirm("Are sure you want to ".concat(s?"block":"activate"," this user?"))){e.next=4;break}return e.abrupt("return",a.setLoadingRequest(!1));case 4:return e.prev=4,e.next=7,p.a.patch("".concat(C.a.AUTH,"/users/disactive/").concat(t),{is_active:!s});case 7:(n=e.sent)&&(console.log("===================================="),console.log({blockUserToSystem:n}),console.log("===================================="),s?a.props.blockUserToSystem(t,a.props.currentPage):a.props.unBlockUserToSystem(t,a.props.currentPage),a.props.PushPopupAlert({title:"User has been ".concat(s?"blocked":"activated","!"),theme:N.a.info})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error({blockUser_ERROR:e.t0}),a.props.PushPopupAlert({title:Object(I.a)(e.t0),theme:N.a.danger});case 15:a.setLoadingRequest(!1),t="";case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,s){return e.apply(this,arguments)}}(),a.restUserAccess=function(){var e=Object(r.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||a.props.PushPopupAlert({title:"User Access is required doesn't exist",theme:N.a.warning}),window.confirm("Are sure you want to reset to default access?")){e.next=3;break}return e.abrupt("return",a.setLoadingRequest(!1));case 3:return a.setLoadingRequest(!0),a.setLoadingRequestType("RESET"),e.prev=5,e.next=8,p.a.delete("".concat(C.a.AUTH,"/custaccess/user/").concat(t));case 8:e.sent&&a.props.resetUserAccess(t,a.props.currentPage),(s=a.props.users.find((function(e){return e.user_id===t})))&&(s.default_access&&a.setUserAccess(s.default_access.access),a.props.PushPopupAlert({title:"Resetting User Access complete successfully",theme:N.a.info}),a.setCurrentAccess(null)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error({reseting_user_access:e.t0}),a.props.PushPopupAlert({title:Object(I.a)(e.t0),theme:N.a.danger});case 18:a.setLoadingRequest(!1),a.setLoadingRequestType(null),t="";case 21:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),a.distinctDistrict=function(e,t){var s=[],a=[];if(t)a=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))for(var i in e[n].districts)Object.prototype.hasOwnProperty.call(e[n].districts,i)&&(s.includes(e[n].districts[i]._id)||(s.push(e[n].districts[i]._id),a.push(e[n].districts[i])));return a},a.state={manageUserId:"",loadingRequest:!1,loading:!0,loadingSchool:!0,loadingRequestType:null,schoolList:null,roomList:null,roomTable:null,userAccess:null,currentAccess:null},a}return Object(o.a)(s,[{key:"render",value:function(){var e,t,s,a=this;return Object(P.jsxs)("div",{children:[!this.props.manageUser&&Object(P.jsx)("div",{className:"grid md:grid-cols-5 gap-2 mb-5",children:Object(P.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(P.jsx)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:Object(P.jsx)("div",{className:"flex flex-col md:flex-row gap-1 items-center mx-1.5"})}),this.props.users&&Object(P.jsx)(v.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"Email",alignText:"left",padding:"p-3"},{columnTitle:"Gender",alignText:"left",padding:"p-3"},{columnTitle:"Role",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:this.tableData,pagination:!1,search:!0,thColor:"gray",loading:this.props.loadingUser||this.state.loading||this.state.loadingSchool})]})}),this.props.manageUser&&Object(P.jsxs)("div",{className:"bg-gray-100 h-100",children:[Object(P.jsxs)("div",{className:"bg-white border-b border-t px-4 py-2 flex flex-col md:flex-row items-center gap-x-14",children:[this.props.users.find((function(e){return e.user_id===a.state.manageUserId}))?Object(P.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start items-center w-full gap-3",children:[Object(P.jsx)("img",{src:"pic"!==this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_info.photo?this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_info.photo:q,alt:"",className:"rounded-full w-32 h-32"}),Object(P.jsxs)("div",{className:"flex flex-col gap-1 items-start w-full",children:[Object(P.jsx)("span",{className:"text-2xl font-semibold",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_info.fname+" "+this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_info.lname}),Object(P.jsxs)("div",{className:"flex items-center",children:[Object(P.jsx)(b.Z,{className:"w-5 h-5"}),Object(P.jsx)("span",{className:"text-lg font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(w.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).role})]}),Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)("span",{className:"text-gray-500",children:"Level:"}),Object(P.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(w.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).district_required?"District":this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(w.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).school_required?"School":this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(w.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).room_required?"Room":this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(w.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).education_institution_required?"Institute":"-"})]}),this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(w.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).education_institution_required?Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)("span",{className:"text-gray-500",children:"Institute:"}),Object(P.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&this.props.schoolLevels.education_categories&&Object(w.b)(this.props.schoolLevels.education_categories,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.education_institution_id)?Object(w.b)(this.props.schoolLevels.education_categories,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.education_institution_id).education_category_title:"Unknown Institute"})]}):this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(w.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).district_required?Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)("span",{className:"text-gray-500",children:"District:"}),Object(P.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&this.state.roomList&&Object(T.distinctDistrict)(this.state.roomList).find((function(e){return e.district_id===a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.district_id}))&&Object(T.distinctDistrict)(this.state.roomList).find((function(e){return e.district_id===a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.district_id})).district_name})]}):this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(w.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).school_required?Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)("span",{className:"text-gray-500",children:"School:"}),Object(P.jsx)("span",{className:"text-base font-medium",children:this.state.schoolList&&this.state.schoolList.find((function(e){var t;return e._id===(null===(t=a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access)||void 0===t?void 0:t.school_id)}))?this.state.schoolList.find((function(e){var t;return e._id===(null===(t=a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access)||void 0===t?void 0:t.school_id)})).school_name:"Unknown school"})]}):this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access&&Object(w.d)(this.props.roleList,this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access.system_user_role_id).room_required&&Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)(b.Y,{className:"text-gray-500"}),this.state.roomTable&&Object(P.jsx)("span",{className:"text-base font-medium",children:(null===(e=this.state.roomTable.find((function(e){var t;return e.room_id===(null===(t=a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===e?void 0:e.district_name)+" - "+(null===(t=this.state.roomTable.find((function(e){var t;return e.room_id===(null===(t=a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===t?void 0:t.center_name)+" - Room "+(null===(s=this.state.roomTable.find((function(e){var t;return e.room_id===(null===(t=a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===s?void 0:s.room_name)})]})]})]},this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_id+Math.random()):Object(P.jsx)(O.b,{theme:O.a.Dark,value:"User info not found"}),this.props.users.find((function(e){return e.user_id===a.state.manageUserId}))&&Object(P.jsxs)("div",{className:"flex flex-col w-full",children:[Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)("span",{className:"text-gray-500",children:"NID:"}),Object(P.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).n_id})]}),Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)("span",{className:"text-gray-500",children:"Email:"}),Object(P.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).email})]}),Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)("span",{className:"text-gray-500",children:"Phone:"}),Object(P.jsx)("span",{className:"text-base font-medium",children:this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).phone_number})]}),Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[Object(P.jsx)("span",{className:"text-gray-500",children:"Status:"}),Object(P.jsx)("span",{className:"text-base font-medium",children:!1===this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).is_active?"Blocked":"Active"})]}),Object(P.jsxs)("div",{className:"flex items-center gap-1",children:[this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).custome_access&&Object(P.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-50 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"cursor-wait bg-gray-400":"bg-gray-600"),onClick:function(){return a.restUserAccess(a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_id)},disabled:this.state.loadingRequest,children:[Object(P.jsx)(b.Z,{className:"w-4 h-4 fill-current"}),Object(P.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Reseting...":"Reset Access"})]}),!this.props.changeRole&&Object(P.jsxs)("button",{className:"bg-yellow-300 hover:bg-yellow-400 px-2 py-1 font-semibold text-black inline-flex items-center rounded",onClick:function(){return a.props.setChangeRole(!0)},children:[Object(P.jsx)(b.Z,{className:"w-4 h-4 fill-current"}),Object(P.jsx)("span",{children:"Change Role"})]}),this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).is_active?Object(P.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"STATUS"===this.state.loadingRequestType?"cursor-wait bg-red-500":"bg-red-700"),onClick:function(){return!a.state.loadingRequest&&a.props.manageUser&&a.blockUser(a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_id,a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).is_active)},disabled:this.state.loadingRequest,children:[Object(P.jsx)(b.Z,{className:"w-4 h-4 fill-current"}),Object(P.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Loading...":"Block user"})]}):Object(P.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"STATUS"===this.state.loadingRequestType?"cursor-wait bg-yellow-500":"bg-yellow-700"),onClick:function(){return!a.state.loadingRequest&&a.props.manageUser&&a.blockUser(a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_id,a.props.users.find((function(e){return e.user_id===a.state.manageUserId})).is_active)},disabled:this.state.loadingRequest,children:[Object(P.jsx)(b.Z,{className:"w-4 h-4 fill-current"}),Object(P.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Loading...":"Re-Activate"})]})]})]},this.props.users.find((function(e){return e.user_id===a.state.manageUserId})).user_id+Math.random())]}),this.props.manageUser&&this.state.roomList&&this.props.changeRole?Object(P.jsx)(U,{userInfo:this.props.manageUser,roleList:this.props.roleList,district:this.distinctDistrict(this.state.roomList),schoolList:this.state.schoolList,roomList:this.state.roomList,setChangeRole:this.props.setChangeRole,currentPage:this.props.currentPage}):Object(P.jsx)(D.UserAccess,{userInfo:B(this.props.users,this.state.manageUserId),manageUserId:this.state.manageUserId,setUserAccess:this.setUserAccess,userAccess:this.state.userAccess,setCurrentAccess:this.setCurrentAccess,currentAccess:this.state.currentAccess,currentPage:this.props.currentPage})]})]})}}]),s}(m.Component);t.b=h.a.memo(Object(f.b)((function(e){var t=e.schoolLevels,s=e.schools,a=e.locations;return{schoolLevels:t,schools:s.schools,allRoom:a.roomLocation}}),{blockUserToSystem:_.b,unBlockUserToSystem:_.f,resetUserAccess:_.e,getSchools:x.k,getAllRoom:j.q,PushPopupAlert:g.tb})(M))},690:function(e,t,s){"use strict";s.r(t),s.d(t,"UserAccess",(function(){return T}));var a=s(5),n=s.n(a),i=s(7),r=s(25),c=s(24),o=s(27),l=s(26),d=s(8),u=s.n(d),p=s(4),m=s.n(p),h=s(167),b=s(10),f=s(696),g=s(680),j=s(20),x=s(31),_=s(3),y=s(653),O=s(645),v=s(37),N=s(9),w=s(14),C=s(1),I=function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).setViewPermission=function(e){a.setState({viewPermission:e})},a.setLoadindRequest=function(e){a.setState({loadindRequest:e})},a.setCreatePermission=function(e){a.setState({createPermission:e})},a.setUpdatePermission=function(e){a.setState({updatePermission:e})},a.setDeletePermission=function(e){a.setState({deletePermission:e})},a.setLoadind=function(e){a.setState({loading:e})},a.overrideUserAccess=function(e,t){if(e&&t&&t.length>0){var s=[],n=function(a){if(Object.prototype.hasOwnProperty.call(e,a)){var n=t.find((function(t){return t.id===e[a].id}));n?s.push(n):s.push(e[a])}};for(var i in e)n(i);a.props.setUserAccess(s)}},a.componentDidMount=function(){a.props.userInfo&&a.props.userInfo.custome_access?(a.props.userInfo.default_access&&a.overrideUserAccess(a.props.userInfo.default_access.access,a.props.userInfo.custome_access.access),a.setLoadind(!1)):(a.props.userInfo&&a.props.userInfo.default_access&&a.props.setUserAccess(a.props.userInfo.default_access.access),a.setLoadind(!1))},a.tableData=function(){return a.props.userAccess?a.props.userAccess.map((function(e,t){return Object(C.jsxs)("tr",{className:"text-left border-b border-gray-200 cursor-pointer hover:bg-gray-100 ".concat(a.props.currentAccess&&a.props.currentAccess.id===e.id&&"bg-gray-200 border my-3 hover:bg-gray-100"),onClick:function(){return a.props.currentAccess&&a.props.currentAccess.id===e.id?(a.props.setCurrentAccess(null),a.setCreatePermission(!1),a.setViewPermission(!1),a.setUpdatePermission(!1),a.setDeletePermission(!1)):(a.props.setCurrentAccess(e),a.setCreatePermission(e.permitted.create),a.setViewPermission(e.permitted.view),a.setUpdatePermission(e.permitted.update),a.setDeletePermission(e.permitted.delete))},children:[Object(C.jsx)("td",{className:"px-2 py-1",children:Object(C.jsx)("label",{className:"inline-flex items-center",children:Object(C.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(C.jsx)("td",{children:Object(C.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(C.jsx)(g.a,{}):Object(C.jsx)(b.O,{}),e.permitted.create?" Yes":"No"]})}),Object(C.jsx)("td",{children:Object(C.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(C.jsx)(g.a,{}):Object(C.jsx)(b.O,{}),e.permitted.view?" Yes":"No"]})}),Object(C.jsx)("td",{children:Object(C.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(C.jsx)(g.a,{}):Object(C.jsx)(b.O,{}),e.permitted.update?" Yes":"No"]})}),Object(C.jsx)("td",{children:Object(C.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(C.jsx)(g.a,{}):Object(C.jsx)(b.O,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id+Math.random())})):[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No data"})},Math.random())]},a.handleCustomization=function(){var e=Object(i.a)(n.a.mark((function e(t){var s,i,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.props.userInfo){e.next=26;break}if(a.setLoadindRequest(!0),s=null,s=a.props.userInfo.custome_access,i=-1,e.prev=6,s&&a.props.currentAccess?(i=s.access.findIndex((function(e){return e.id===a.props.currentAccess.id})))>=0?(s.access[i].permitted.create=a.state.createPermission,s.access[i].permitted.view=a.state.viewPermission,s.access[i].permitted.update=a.state.updatePermission,s.access[i].permitted.delete=a.state.deletePermission):s.access.push({id:a.props.currentAccess.id,task:a.props.currentAccess.task,key:a.props.currentAccess.key,permitted:{create:a.state.createPermission,view:a.state.viewPermission,update:a.state.updatePermission,delete:a.state.deletePermission}}):a.props.currentAccess&&(s={access:[{id:a.props.currentAccess.id,task:a.props.currentAccess.task,key:a.props.currentAccess.key,permitted:{create:a.state.createPermission,view:a.state.viewPermission,update:a.state.updatePermission,delete:a.state.deletePermission}}],user_id:a.props.userInfo.user_id,custome_user_access_id:""}),!s){e.next=19;break}if(null===a.props.userInfo.custome_access){e.next=15;break}return e.next=12,u.a.patch("".concat(N.a.AUTH,"/custaccess"),{access:s.access,user_id:a.props.userInfo.user_id});case 12:r=e.sent,e.next=18;break;case 15:return e.next=17,u.a.post("".concat(N.a.AUTH,"/custaccess"),{access:s.access,user_id:a.props.userInfo.user_id});case 17:r=e.sent;case 18:r&&(s.custome_user_access_id=r.data.data.custome_user_access_id,a.props.customizeUserAccess(s,a.props.currentPage),s&&a.props.userInfo.default_access&&a.overrideUserAccess(a.props.userInfo.default_access.access,s.access),a.props.PushPopupAlert({title:"Resetting User Access complete successfully",theme:v.a.info}),s=null,a.props.setCurrentAccess(null),a.setCreatePermission(!1),a.setViewPermission(!1),a.setUpdatePermission(!1),a.setDeletePermission(!1));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),console.error({customize_access:e.t0}),a.props.PushPopupAlert({title:Object(w.a)(e.t0),theme:v.a.danger});case 25:a.setLoadindRequest(!1);case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),a.state={loading:!0,loadindRequest:!1,createPermission:!1,viewPermission:!1,updatePermission:!1,deletePermission:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return void 0===this.props.userInfo?Object(C.jsx)(x.a,{to:"/users"}):this.state.loading||null===this.props.userInfo?Object(C.jsx)("div",{className:"text-center py-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading User Access..."}):Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mx-1 my-2",children:[Object(C.jsxs)("div",{className:"col-span-1 md:col-span-3 bg-white w-full overflow-x-auto border rounded text-center p-2 ".concat(this.props.currentAccess?"hidden md:block":""),children:[Object(C.jsx)("span",{className:"text-gray-600 mt-2 font-semibold text-2xl",children:"Settings"}),!this.state.loading&&Object(C.jsx)("div",{className:"overflow-x-auto w-full",children:Object(C.jsx)(O.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!0,searchBG:"bg-gray-50",thColor:"gray"})})]}),Object(C.jsx)("div",{className:"col-span-1 md:col-span-2",children:this.props.currentAccess?Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-center my-2 text-gray-900",children:"Customize User Access"}),Object(C.jsx)("div",{className:"flex justify-center mb-3",children:Object(C.jsxs)("h2",{className:"text-2xl font-semibold text-center text-gray-600 flex flex-row items-center",children:[Object(C.jsx)(h.h,{className:"w-7 h-7"}),this.props.currentAccess.task]})}),Object(C.jsx)("div",{className:"flex flex-col px-2 md:px-1",children:Object(C.jsxs)("form",{className:"flex flex-col items-center",onSubmit:function(t){return e.handleCustomization(t)},children:[Object(C.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(C.jsx)(f.a,{className:"w-7 h-7 text-gray-600"}),Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("h3",{className:"font-semibold text-xl",children:"Create"}),Object(C.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to create"})]}),Object(C.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setCreatePermission(!e.state.createPermission)},checked:this.state.createPermission,disabled:this.state.loadindRequest})]}),Object(C.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(C.jsx)(b.ub,{className:"w-7 h-7 text-gray-600"}),Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("h3",{className:"font-semibold text-xl",children:"View"}),Object(C.jsx)("span",{className:"text-gray-600 text-sm md:pr-4",children:"This permission gives the user the ability to view"})]}),Object(C.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setViewPermission(!e.state.viewPermission)},checked:this.state.viewPermission,disabled:this.state.loadindRequest})]}),Object(C.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(C.jsx)(b.D,{className:"w-7 h-7 text-gray-600"}),Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("h3",{className:"font-semibold text-xl",children:"Update"}),Object(C.jsx)("span",{className:"text-gray-600 text-sm",children:"This permission gives the user the ability to update"})]}),Object(C.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setUpdatePermission(!e.state.updatePermission)},checked:this.state.updatePermission,disabled:this.state.loadindRequest})]}),Object(C.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(C.jsx)(b.B,{className:"w-7 h-7 text-gray-600"}),Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("h3",{className:"font-semibold text-xl",children:"Delete"}),Object(C.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to delete"})]}),Object(C.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setDeletePermission(!e.state.deletePermission)},checked:this.state.deletePermission,disabled:this.state.loadindRequest})]}),Object(C.jsxs)("div",{className:"flex items-center justify-center w-full py-3 gap-2",children:[Object(C.jsx)("button",{className:"btn bg-gray-500 hover:bg-gray-700 focus:outline-none text-white",disabled:this.state.loadindRequest,onClick:function(){e.props.setCurrentAccess(null),e.setCreatePermission(!1),e.setViewPermission(!1),e.setUpdatePermission(!1),e.setDeletePermission(!1)},children:"Cancel"}),Object(C.jsx)("button",{className:"btn btn-blue",disabled:this.state.loadindRequest,children:this.state.loadindRequest?"Processing..":"Save Change"})]})]})})]}):Object(C.jsxs)("div",{className:"w-full hidden md:flex flex-col items-center text-gray-600 gap-1 py-3",children:[Object(C.jsx)(b.Db,{className:"w-20 h-20"}),Object(C.jsx)("span",{className:"text-8 md:text-12",children:"Choose Access to Customize"})]})})]})})}}]),s}(p.Component),T=m.a.memo(Object(j.b)(null,{customizeUserAccess:y.c,PushPopupAlert:_.tb})(I))},695:function(e,t,s){"use strict";s.r(t),s.d(t,"distinctDistrict",(function(){return D})),s.d(t,"distinctCenter",(function(){return R})),s.d(t,"distinctRoom",(function(){return S})),s.d(t,"Locations",(function(){return E}));var a=s(17),n=s(4),i=s.n(n),r=s(169),c=s(108),o=s(20),l=s(644),d=s(666),u=s(5),p=s.n(u),m=s(7),h=s(8),b=s.n(h),f=s(9),g=s(171),j=s(37),x=s(14),_=s(126),y=s(22),O=s(641),v=s(1),N=i.a.memo(Object(o.b)(null,{FC_CreateDistrict:l.b,FC_UpdateDistrict:l.m,FC_DeleteDistrict:l.g,PushPopupAlert:g.c})((function(e){var t=Object(n.useState)(""),s=Object(a.a)(t,2),i=s[0],r=s[1],c=Object(n.useState)(0),o=Object(a.a)(c,2),l=o[0],d=o[1],u=Object(n.useState)(null),h=Object(a.a)(u,2),g=h[0],N=h[1],w=function(){var t=Object(m.a)(p.a.mark((function t(){var s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(O.e)(i)){t.next=2;break}return t.abrupt("return",N({element:"district_name",msg:"District name is required"}));case 2:if(!(l<=0)){t.next=4;break}return t.abrupt("return",N({element:"district_code",msg:"Invalid district code, code must be greater than 0"}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_DISTRICT"!==e.actionTypes){t.next=13;break}return t.next=9,b.a.post("".concat(f.a.APPLICATION,"/district"),{province_id:e.thisProvince._id,province_code:e.thisProvince.province_code,district_name:i,district_code:l,centers:[]});case 9:(s=t.sent).data&&(console.log({province_id:e.thisProvince._id,data:s.data.data,res:s}),e.FC_CreateDistrict({province_id:e.thisProvince._id,data:{centers:s.data.data.centers,sectors:s.data.data.sectors,province_code:s.data.data.province_code,province_id:s.data.data.province_id,district_code:s.data.data.district_code,district_name:s.data.data.district_name,district_id:s.data.data._id}}),e.PushPopupAlert({title:"New district created successfully",theme:j.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r(""),d(0)),t.next=19;break;case 13:if(!e.thisDistrict||"UPDATE_DISTRICT"!==e.actionTypes){t.next=19;break}return a=e.thisDistrict.centers.map((function(e){return e._id})),t.next=17,b.a.patch("".concat(f.a.APPLICATION,"/district"),{district_id:e.thisDistrict._id,province_code:e.thisProvince.province_code,district_name:i,district_code:l,centers:a});case 17:(s=t.sent).data&&(e.FC_UpdateDistrict({province_id:e.thisProvince._id,district_id:e.thisDistrict._id,district_name:i}),e.PushPopupAlert({title:"District updated successfully",theme:j.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r(""),e.setThisDistrict(null));case 19:t.next=26;break;case 21:t.prev=21,t.t0=t.catch(5),console.log({doc_category_error:t.t0}),e.PushPopupAlert({title:Object(x.a)(t.t0),theme:j.a.danger}),e.setLoadingRequest(!1);case 26:case"end":return t.stop()}}),t,null,[[5,21]])})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"w-full p-2",children:[e.thisProvince.districts.length>0?Object(v.jsx)("div",{className:"rounded border border-gray-100 shadow-sm animate__animated animate__fadeIn",children:Object(v.jsxs)("table",{className:"w-full z-0",children:[Object(v.jsx)("thead",{className:"bg-gray-50",children:Object(v.jsxs)("tr",{className:"text-left",children:[Object(v.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(v.jsx)("th",{children:"District name"}),Object(v.jsx)("th",{children:"District code"}),Object(v.jsx)("th",{children:"Sectors"})]})}),Object(v.jsx)("tbody",{className:"text-base",children:e.thisProvince.districts.map((function(e,t){return Object(v.jsxs)("tr",{className:"text-left border-b border-gray-50",children:[Object(v.jsx)("td",{className:"px-3 py-1",children:t+1}),Object(v.jsx)("td",{children:e.district_name}),Object(v.jsx)("td",{children:e.district_code}),Object(v.jsx)("td",{children:e.sectors&&e.sectors.length>0?e.sectors.length+" Sector(s)":""})]},t+e._id)}))})]})}):Object(v.jsx)(_.b,{theme:_.a.Dark,value:"No district found!",component:Object(v.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(v.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(v.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_DISTRICT")},className:"underline text-gray-500 cursor-pointer",children:"Add district"})})})}),e.actionTypes&&("CREATE_DISTRICT"===e.actionTypes||"UPDATE_DISTRICT"===e.actionTypes)&&Object(v.jsx)(y.d,{backDrop:!0,theme:y.c.default,close:function(){e.setActionTypes(null),r(""),d(10),N(null)},displayClose:!1,backDropClose:!1,title:Object(v.jsx)("div",{className:"flex items-center space-x-5",children:Object(v.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(v.jsx)("h2",{className:"uppercase text-back",children:"CREATE_DISTRICT"===e.actionTypes?"CREATING NEW DISTRICT":"UPDATE_DISTRICT"===e.actionTypes&&"UPDATING EXISTING DISTRICT"})})}),widthSizeClass:y.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(v.jsxs)("div",{className:"mx-5 mb-4",children:[Object(v.jsxs)("div",{className:"py-2 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{children:"District name"}),Object(v.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(g&&"district_name"===g.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){g&&"district_name"===g.element&&N(null),r(e.target.value)},value:i,disabled:e.loadingRequest}),g&&"district_name"===g.element&&Object(v.jsx)("span",{className:"text-red-700",children:g.msg})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{children:"District code"}),Object(v.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(g&&"district_code"===g.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){g&&"district_code"===g.element&&N(null),d(Number(e.target.value))},value:l,disabled:e.loadingRequest}),g&&"district_code"===g.element&&Object(v.jsx)("span",{className:"text-red-700",children:g.msg})]})]}),Object(v.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(v.jsx)("button",{onClick:function(){e.setActionTypes(null),r(""),d(10),N(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(v.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return w()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),w=s(48),C=i.a.memo(Object(o.b)(null,{FC_CreateProvince:l.c,FC_UpdateProvince:l.n,FC_DeleteProvince:l.h,PushPopupAlert:g.c})((function(e){var t=Object(n.useState)(""),s=Object(a.a)(t,2),i=s[0],r=s[1],c=Object(n.useState)(0),o=Object(a.a)(c,2),l=o[0],d=o[1],u=Object(n.useState)(null),h=Object(a.a)(u,2),g=h[0],N=h[1],C=function(){var t=Object(m.a)(p.a.mark((function t(){var s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(O.e)(i)){t.next=2;break}return t.abrupt("return",N({element:"province_title",msg:"Title of Province is required"}));case 2:if(!(l<=0)){t.next=4;break}return t.abrupt("return",N({element:"province_code",msg:"Code of Province is required"}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_PROVINCE"!==e.actionTypes){t.next=13;break}return t.next=9,b.a.post("".concat(f.a.APPLICATION,"/province"),{province_name:i,province_code:l,districts:[]});case 9:(s=t.sent).data&&(e.FC_CreateProvince(s.data.data),e.PushPopupAlert({title:"New Province created successfully",theme:j.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r("")),t.next=19;break;case 13:if(!e.thisProvince||"UPDATE_PROVINCE"!==e.actionTypes){t.next=19;break}return a=e.thisProvince.districts.map((function(e){return e._id})),t.next=17,b.a.patch("".concat(f.a.APPLICATION,"/province"),{province_id:e.thisProvince._id,province_name:i,province_code:l,districts:a});case 17:(s=t.sent).data&&(console.log({res:s.data.updated}),e.FC_UpdateProvince(s.data.updated),e.PushPopupAlert({title:"Province updated successfully",theme:j.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r(""),e.setThisProvince(null));case 19:t.next=26;break;case 21:t.prev=21,t.t0=t.catch(5),console.error({province_error:t.t0}),e.PushPopupAlert({title:Object(x.a)(t.t0),theme:j.a.danger}),e.setLoadingRequest(!1);case 26:case"end":return t.stop()}}),t,null,[[5,21]])})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"w-full p-2",children:[e.locations.length>0?e.locations.map((function(t,s){return Object(v.jsxs)("div",{className:"flex justify-between items-center p-2 mb-3 rounded border border-gray-100 shadow",children:[Object(v.jsx)("div",{className:"flex items-center",children:Object(v.jsxs)("div",{className:"ml-2",children:[Object(v.jsx)("div",{className:"text-xl font-semibold text-gray-600",children:t.province_name}),Object(v.jsx)("div",{className:"text-sm font-light text-gray-500",children:t.districts.length>0?t.districts.length+"District(s)":null})]})}),Object(v.jsx)("div",{className:"flex items-center gap-2",children:Object(v.jsx)("button",{title:e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?"Close Districts":"View Districts",className:"".concat(e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?"bg-gray-500 hover:bg-gray-600":"bg-gray-400 hover:bg-gray-500"," p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none"),onClick:function(){e.thisProvince&&e.thisProvince._id===t._id?e.setThisProvince(null):e.setThisProvince(t),r(""),e.setActionTypes(null)},children:e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?Object(v.jsx)(w.l,{className:"text-white w-4 h-4"}):Object(v.jsx)(w.k,{className:"text-white w-4 h-4"})})})]},s+t._id)})):Object(v.jsx)(_.b,{theme:_.a.Dark,value:"No province found!",component:Object(v.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(v.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(v.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_PROVINCE")},className:"underline text-gray-500 cursor-pointer",children:"Add province"})})})}),e.actionTypes&&("CREATE_PROVINCE"===e.actionTypes||"UPDATE_PROVINCE"===e.actionTypes)&&Object(v.jsx)(y.d,{backDrop:!0,theme:y.c.default,close:function(){e.setActionTypes(null),r(""),d(0),N(null)},displayClose:!1,backDropClose:!1,title:Object(v.jsx)("div",{className:"flex items-center space-x-5",children:Object(v.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(v.jsx)("h2",{className:"uppercase text-back",children:"CREATE_PROVINCE"===e.actionTypes?"CREATING NEW PROVINCE":"UPDATE_PROVINCE"===e.actionTypes&&"UPDATING EXISTING PROVINCE"})})}),widthSizeClass:y.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(v.jsxs)("div",{className:"mx-5 mb-4",children:[Object(v.jsxs)("div",{className:"py-2 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{children:"Province name"}),Object(v.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(g&&"province_title"===g.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){g&&"province_title"===g.element&&N(null),r(e.target.value)},value:i,disabled:e.loadingRequest}),g&&"province_title"===g.element&&Object(v.jsx)("span",{className:"text-red-700",children:g.msg})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsxs)("label",{children:["Province code ",e.loadingRequest&&"TRUE"]}),Object(v.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(g&&"province_code"===g.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){g&&"province_code"===g.element&&N(null),d(Number(e.target.value))},value:l,disabled:e.loadingRequest}),g&&"province_code"===g.element&&Object(v.jsx)("span",{className:"text-red-700",children:g.msg})]})]}),Object(v.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(v.jsx)("button",{onClick:function(){e.setActionTypes(null),r(""),d(0),N(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(v.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return C()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),I=s(10),T=i.a.memo(Object(o.b)(null,{FC_CreateSector:l.e,FC_UpdateSector:l.p,FC_DeleteSector:l.j,PushPopupAlert:g.c})((function(e){var t=Object(n.useState)(""),s=Object(a.a)(t,2),i=s[0],r=s[1],c=Object(n.useState)(0),o=Object(a.a)(c,2),l=o[0],d=o[1],u=Object(n.useState)(null),h=Object(a.a)(u,2),g=h[0],N=h[1],w=function(){var t=Object(m.a)(p.a.mark((function t(){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(O.e)(i)){t.next=2;break}return t.abrupt("return",N({element:"sector_name",msg:"Sector name is required"}));case 2:if(!(l<=0)){t.next=4;break}return t.abrupt("return",N({element:"sector_code",msg:"Invalid sector code, must be "}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_SECTOR"!==e.actionTypes){t.next=13;break}return t.next=9,b.a.post("".concat(f.a.APPLICATION,"/sector"),{district_id:e.thisDistrict._id,district_code:e.thisDistrict.district_code,sector_name:i,sector_code:l});case 9:(s=t.sent).data&&(console.log({district_id:e.thisDistrict._id,data:s.data.data,res:s}),e.FC_CreateSector({province_id:e.thisDistrict.province_id,district_id:e.thisDistrict._id,data:{district_id:s.data.data.district_id,district_code:s.data.data.district_code,sector_name:s.data.data.sector_name,sector_code:s.data.data.sector_code,sector_id:s.data.data.sector_id}}),e.PushPopupAlert({title:"New sector created successfully",theme:j.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r("")),t.next=18;break;case 13:if(!e.thisSector||"UPDATE_SECTOR"!==e.actionTypes){t.next=18;break}return t.next=16,b.a.patch("".concat(f.a.APPLICATION,"/sector"),{district_id:e.thisSector.district_id,district_code:e.thisDistrict.district_code,sector_id:e.thisSector.sector_id,sector_name:i,sector_code:l});case 16:(s=t.sent).data&&(e.FC_UpdateSector({province_id:e.thisDistrict.province_id,district_id:e.thisSector.district_id,sector_id:e.thisSector.sector_id,sector_name:i,sector_code:l}),e.PushPopupAlert({title:"Sector updated successfully",theme:j.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r(""),e.setThisSector(null));case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(5),console.log({sector_error:t.t0}),e.PushPopupAlert({title:Object(x.a)(t.t0),theme:j.a.danger}),e.setLoadingRequest(!1);case 25:case"end":return t.stop()}}),t,null,[[5,20]])})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=Object(m.a)(p.a.mark((function t(s){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.delete("".concat(f.a.APPLICATION,"/sector/").concat(s));case 3:t.sent.data&&(e.FC_DeleteSector({province_id:e.thisDistrict.province_id,district_id:e.thisDistrict._id,sector_id:s}),e.PushPopupAlert({title:"Sector deleted successfully",theme:j.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null)),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log({district_error:t.t0}),e.PushPopupAlert({title:Object(x.a)(t.t0),theme:j.a.danger}),e.setLoadingRequest(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"w-full p-2",children:[e.thisDistrict.sectors&&e.thisDistrict.sectors.length>0?Object(v.jsx)("div",{className:"rounded border border-gray-100 shadow-sm animate__animated animate__fadeIn",children:Object(v.jsxs)("table",{className:"w-full z-0",children:[Object(v.jsx)("thead",{className:"bg-gray-50",children:Object(v.jsxs)("tr",{className:"text-left",children:[Object(v.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(v.jsx)("th",{children:"Sector name"}),Object(v.jsx)("th",{children:"Sector code"}),Object(v.jsx)("th",{children:"Status"})]})}),Object(v.jsx)("tbody",{className:"text-sm",children:e.thisDistrict.sectors.map((function(t,s){return Object(v.jsxs)("tr",{className:"text-left border-b border-gray-50",children:[Object(v.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(v.jsx)("td",{children:t.sector_name}),Object(v.jsx)("td",{children:t.sector_name}),Object(v.jsx)("td",{children:Object(v.jsxs)("div",{className:"flex items-center gap-2",children:[Object(v.jsx)("button",{title:"Update sector",className:"bg-blue-500 hover:bg-blue-600 p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none",onClick:function(){e.setThisSector(t),r(t.sector_name),d(t.sector_code),e.setActionTypes("UPDATE_SECTOR")},disabled:e.loadingRequest||null!==e.actionTypes,children:Object(v.jsx)(I.z,{className:"text-white w-4 h-4"})}),Object(v.jsx)("button",{title:"Delete sector",className:"bg-red-500 hover:bg-red-600 p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none",onClick:function(){return C(t.sector_id)},disabled:e.loadingRequest,children:Object(v.jsx)(I.x,{className:"text-white w-4 h-4"})})]})})]},s+t.district_id)}))})]})}):Object(v.jsx)(_.b,{theme:_.a.Dark,value:"No sector found!",component:Object(v.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(v.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(v.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_SECTOR")},className:"underline text-gray-500 cursor-pointer",children:"Add sector"})})})}),e.actionTypes&&("CREATE_SECTOR"===e.actionTypes||"UPDATE_SECTOR"===e.actionTypes)&&Object(v.jsx)(y.d,{backDrop:!0,theme:y.c.default,close:function(){e.setActionTypes(null),r(""),d(0),N(null)},displayClose:!1,backDropClose:!1,title:Object(v.jsx)("div",{className:"flex items-center space-x-5",children:Object(v.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(v.jsx)("h2",{className:"uppercase text-back",children:"CREATE_SECTOR"===e.actionTypes?"CREATING NEW SECTOR":"UPDATE_SECTOR"===e.actionTypes&&"UPDATING EXISTING SECTOR"})})}),widthSizeClass:y.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(v.jsxs)("div",{className:"w-full px-5 mb-5",children:[Object(v.jsxs)("div",{className:"py-3 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{children:"Sector name"}),Object(v.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(g&&"sector_name"===g.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){g&&"sector_name"===g.element&&N(null),r(e.target.value)},value:i,disabled:e.loadingRequest}),g&&"sector_name"===g.element&&Object(v.jsx)("span",{className:"text-red-700",children:g.msg})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{children:"Sector code"}),Object(v.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(g&&"sector_code"===g.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){g&&"sector_code"===g.element&&N(null),d(Number(e.target.value))},value:l,disabled:e.loadingRequest}),g&&"sector_code"===g.element&&Object(v.jsx)("span",{className:"text-red-700",children:g.msg})]})]}),Object(v.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(v.jsx)("button",{onClick:function(){e.setActionTypes(null),r(""),d(0),N(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(v.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return w()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),D=function(e,t){var s=[],a=[];return Object(d.a)(e).forEach((function(e){s.includes(e.district_id)||(t&&e.province_id===t||void 0===t)&&(s.push(e.district_id),a.push(e))})),a},R=function(e,t){var s=[],a=[];return Object(d.a)(e).forEach((function(e){s.includes(e.center_id)||e.district_id!==t||(s.push(e.center_id),a.push(e))})),a},S=function(e,t){var s=[],a=[];return Object(d.a)(e).forEach((function(e){s.includes(e.room_id)||e.center_id!==t||(s.push(e.room_id),a.push(e))})),a},E=i.a.memo(Object(o.b)((function(e){return{locations:e.locations.roomLocation}}),{getAllRoom:l.q})((function(e){var t=Object(n.useState)(null),s=Object(a.a)(t,2),i=s[0],o=s[1],l=Object(n.useState)(null),d=Object(a.a)(l,2),u=d[0],p=d[1],m=Object(n.useState)(null),h=Object(a.a)(m,2),b=h[0],f=h[1],g=Object(n.useState)(null),j=Object(a.a)(g,2),x=j[0],_=j[1],y=Object(n.useState)(!0),O=Object(a.a)(y,2),w=O[0],I=O[1],D=Object(n.useState)(!1),R=Object(a.a)(D,2),S=R[0],E=R[1];if(Object(n.useEffect)((function(){!e.locations.length&&w?e.getAllRoom((function(e,t){I(e),!e&&t.length>0&&console.log(t)})):w&&I(!1)}),[w,e]),!0===w)return Object(v.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading locations..."});return Object(v.jsx)(n.Fragment,{children:Object(v.jsxs)("div",{className:"w-full my-5",children:[Object(v.jsx)("div",{className:"flex justify-between p-2 gap-1",children:Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("span",{className:"text-blue-600 text-2xl md:text-2xl lg:text-3xl font-bold",children:"Locations Management"}),Object(v.jsxs)("div",{className:"flex flex-row items-center md:gap-3 gap-2 mt-1",children:[Object(v.jsx)(r.f,{className:"text-xl"}),Object(v.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[u&&Object(v.jsx)("span",{className:"text-gray-700 text-base font-bold",children:u.province_name}),b&&Object(v.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(v.jsx)(c.d,{}),Object(v.jsxs)("span",{className:"text-blue-600 text-base font-bold underline",children:[b.district_name," district"]})]})]})]})]})}),Object(v.jsxs)("div",{className:"w-full bg-white",children:[Object(v.jsx)("div",{className:"border-b px-2 py-3 flex justify-between",children:x&&(!x||"CREATE_SECTOR"!==i&&"UPDATE_SECTOR"!==i)||!b||"CREATE_DISTRICT"===i||"UPDATE_DISTRICT"===i?b&&(!b||"CREATE_DISTRICT"!==i&&"UPDATE_DISTRICT"!==i)||!u?Object(v.jsxs)("div",{className:"flex items-center gap-1",children:[Object(v.jsx)("span",{className:"uppercase text-xl font-semibold text-gray-800",children:"province"}),Object(v.jsx)("span",{children:"/"})]}):Object(v.jsxs)("div",{className:"flex items-center gap-2",children:[Object(v.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){p(null)},children:"province"}),Object(v.jsx)("span",{children:"/"}),Object(v.jsx)("span",{className:"text-xl text-gray-800",children:u.province_name})]}):Object(v.jsxs)("div",{className:"flex items-center gap-1",children:[Object(v.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){p(null)},children:"province"}),Object(v.jsx)("span",{children:"/"}),Object(v.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){f(null)},children:"district"}),Object(v.jsx)("span",{children:"/"}),Object(v.jsx)("span",{className:"text-xl text-gray-800",children:b.district_name})]})}),(!u||u&&("CREATE_PROVINCE"===i||"UPDATE_PROVINCE"===i))&&Object(v.jsx)(C,{thisProvince:u,thisDistrict:b,loadingRequest:S,locations:e.locations,actionTypes:i,setLoadingRequest:E,setThisProvince:p,setActionTypes:o}),(!b||b&&("CREATE_DISTRICT"===i||"UPDATE_DISTRICT"===i))&&u&&Object(v.jsx)(N,{thisDistrict:b,loadingRequest:S,actionTypes:i,setLoadingRequest:E,setActionTypes:o,thisProvince:u,setThisDistrict:f}),(!x||x&&("CREATE_SECTOR"===i||"UPDATE_SECTOR"===i))&&b&&"CREATE_DISTRICT"!==i&&"UPDATE_DISTRICT"!==i&&Object(v.jsx)(T,{thisDistrict:b,thisSector:x,loadingRequest:S,actionTypes:i,setLoadingRequest:E,setThisSector:_,setActionTypes:o})]})]})})})))},712:function(e,t,s){"use strict";s.d(t,"e",(function(){return c})),s.d(t,"a",(function(){return o})),s.d(t,"k",(function(){return l})),s.d(t,"c",(function(){return d})),s.d(t,"b",(function(){return u})),s.d(t,"d",(function(){return p})),s.d(t,"i",(function(){return m})),s.d(t,"f",(function(){return h})),s.d(t,"j",(function(){return b})),s.d(t,"h",(function(){return f})),s.d(t,"g",(function(){return g}));var a=s(173),n=s.n(a),i=s(641),r=s(30),c=function(e,t){var s="",a="",n="",i="";if(t.sub_category_id&&t.sub_category_id.length>0&&e.documentSubCategory?a=i=e.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t.sub_category_id}))?e.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t.sub_category_id})).title:"Unknown qualification":t.category_id.length>0&&e.documentCategory&&(s=i=e.documentCategory.find((function(e){return e.user_detail_category_id===t.category_id}))?e.documentCategory.find((function(e){return e.user_detail_category_id===t.category_id})).title:"Unknown category"),t.category_subcategory_data.length>0&&e.documentFields){var r=e.documentFields.find((function(e){return e._id===t.category_subcategory_data}));i+=" in "+(n=r?r.title:"Unknown filed")}return{category:s,sub_category:a,field:n,main:i}},o=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",a=[];for(var n in t){var i=t[n].details;for(var r in i){var o=t[n].details[r];null!==o.files&&o.files.length>0&&"default"===s&&"waiting"===o.validation_status?a.push({user_id:t[n].user_id,n_id:t[n].n_id,fname:t[n].fname,lname:t[n].lname,phone_number:t[n].phone_number,district:t[n].district,email:t[n].email,main_doc_title:c(e,o).main,category_id:o.category_id,sub_category_id:o.sub_category_id,category_subcategory_data:o.category_subcategory_data,title:o.title,description:o.description,files:o.files,start_year:o.start_year,end_year:o.end_year,school:o.school,details_email:o.email,names:o.names,details_phone_number:o.phone_number,company:o.company,year:o.year,doc_id:o.doc_id,validation_status:o.validation_status,validated_by:o.validated_by,doc_history_status:o.doc_history_status,get_in_date:o.get_in_date,approved:o.approved,exams:t[n].exams}):null!==o.files&&o.files.length>0&&"all"===s&&a.push({user_id:t[n].user_id,names:t[n].fname+" "+t[n].lname,n_id:t[n].n_id,fname:t[n].fname,lname:t[n].lname,phone_number:t[n].phone_number,district:t[n].district,email:t[n].email,main_doc_title:c(e,o).main,category_id:o.category_id,sub_category_id:o.sub_category_id,category_subcategory_data:o.category_subcategory_data,title:o.title,description:o.description,files:o.files,start_year:o.start_year,end_year:o.end_year,school:o.school,details_email:o.email,details_phone_number:o.phone_number,company:o.company,year:o.year,doc_id:o.doc_id,validation_status:o.validation_status,validated_by:o.validated_by,doc_history_status:o.doc_history_status,get_in_date:o.get_in_date,approved:o.approved,exams:t[n].exams})}}return a},l=function(e){if(e&&e.plans){var t=e.plans.find((function(e){return e.type_key===r.c.DOCUMENT_VALIDATION}));if(t){var s=n()(),a=n()(t.start_date),i=n()(t.end_date);if(a.diff(s,"days")<=0&&i.diff(s,"days")>=0&&t.type_status===r.d.OPEN)return!0}}return!1},d=function(e,t,s){var a,n=[],i="all"===s?t:t.filter((function(e){return e.district_id===s})),r=i.length;for(a=0;a<r;a++)n.includes(i[a].center_id)||n.push(i[a].center_id);for(var c=[],o=(e?e.filter((function(e){return e.details.length>0})):[]).filter((function(e){return e.details.filter((function(e){return""!==e.files}))})),l=[],d=[],u=0;u<o.length;u++)l.includes(o[u].email)||(l.push(o[u].email),d.push(o[u]));for(var p=c,m=0;m<d.length;m++)for(var h=0;h<d[m].exams.length;h++){n.includes(d[m].exams[h].center_id)&&c.push(d[m]);for(var b=[],f=[],g=0;g<c.length;g++)b.includes(c[g].email)||(b.push(c[g].email),f.push(c[g]));p=f}return p},u=function(e,t){if("all"===t)return e;for(var s=[],a=e,n=0;n<a.length;n++)for(var i=0;i<a[n].exams.length;i++)if(a[n].exams[i].center_id===t){s.push(a[n]);for(var r=[],c=[],o=0;o<s.length;o++)r.includes(s[o].email)||(r.push(s[o].email),c.push(s[o]));s=c}return s},p=function(e,t){if("all"===t)return e;var s=[];console.log({generalResult:e});for(var a=e,n=0;n<a.length;n++)for(var i=0;i<a[n].exams.length;i++)if(a[n].exams[i].room_id===t){s.push(a[n]);for(var r=[],c=[],o=0;o<s.length;o++)r.includes(s[o].email)||(r.push(s[o].email),c.push(s[o]));s=c}return s},m=function(e,t,s){var a,n=e.find((function(e){return e.user_id===t}));return n&&(a=n.details.find((function(e){return e.doc_id===s}))),{user:n,doc:a}},h=function(e,t){return e.filter((function(e){return e.validation_status===t&&e.files})).length},b=function(e,t,s,a,n,r,c){var o,l=0;if(e.length<=0)return s(!1),a(""),n(""),r(null),c(!1),!1;if(e.length-1<t){for(l=0,o=!1;!o&&e.length-1>=l;)void 0===e[l]||Object(i.e)(e[l].files)||o||(s(!0),a(e[l].doc_id),n(e[l].user_id),r(l),c(!0),o=!0),l++;return o||(s(!1),a(""),n(""),r(null),c(!1)),!0}if(void 0===e[t]||Object(i.e)(e[t].files)){for(l=0,o=!1;!o&&e.length-1>=l;)void 0===e[l]||Object(i.e)(e[l].files)||o||(s(!0),a(e[l].doc_id),n(e[l].user_id),r(l),c(!0),o=!0),l++;return o||(s(!1),a(""),n(""),r(null),c(!1)),!0}return s(!0),a(e[t].doc_id),n(e[t].user_id),r(t),c(!0),!0},f=function(e,t,s,a,n,i,r){if(e.details.length<=0)return s(!1),a(""),n(""),i(null),r(!1),!1;var c=e.details.filter((function(e){return"waiting"===e.validation_status&&e.files}));return c.length<=0?(s(!1),a(""),n(""),i(null),r(!1),!1):c.length-1<t?(s(!0),a(c[0].doc_id),n(e.user_id),i(0),r(!0),!0):(s(!0),a(c[t].doc_id),n(e.user_id),i(t),r(!0),!0)},g=function(e,t,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"waiting",n=e;return"docCategory"===t?n=e.filter((function(e){return e.category_id===s&&e.files&&e.files.length>0&&e.validation_status===a})):"docSubCategory"===t&&(n=e.filter((function(e){return e.sub_category_id===s&&e.files&&e.files.length>0&&e.validation_status===a}))),n.length}},783:function(e,t,s){"use strict";var a=s(17),n=s(4),i=s(641),r=s(1);t.a=function(e){var t=Object(n.useState)(!0),s=Object(a.a)(t,2),c=s[0],o=s[1],l=Object(n.useState)(null),d=Object(a.a)(l,2),u=d[0],p=d[1];return Object(n.useEffect)((function(){c&&(Object(i.e)(e.file_url)?p({element:"PDF_FILE",msg:"File url is required"}):null!==u&&p(null),o(!1))}),[u,c,e.file_url]),Object(r.jsx)("div",{className:"w-full",children:u?Object(r.jsx)("div",{className:"alert-warning mt-2 mx-14",children:u.msg}):Object(r.jsx)("object",{data:e.file_url,type:"application/pdf",className:e.class_name,onLoad:function(){return e.setLoadingFile(!1)},children:Object(r.jsx)("iframe",{src:e.file_url,className:e.class_name,title:e.frame_title,onLoad:function(){return e.setLoadingFile(!1)},children:Object(r.jsx)("p",{children:"This browser does not support PDF!"})})})})}},942:function(e,t,s){"use strict";var a=s(4),n=s.n(a),i=s(1),r=function(){return Object(i.jsxs)("section",{children:[Object(i.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start animate__animated animate-pulse",children:[Object(i.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(i.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(i.jsx)("div",{className:"h-5 w-28 bg-gray-300 rounded"})}),Object(i.jsxs)("div",{className:"flex items-center gap-2",children:[Object(i.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"}),Object(i.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded"})]})]}),Object(i.jsx)("div",{className:"h-10 w-28  bg-gray-300 rounded"})]}),Object(i.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start animate__animated animate-pulse",children:[Object(i.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(i.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(i.jsx)("div",{className:"h-5 w-28 bg-gray-300 rounded"})}),Object(i.jsxs)("div",{className:"flex items-center gap-2",children:[Object(i.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"}),Object(i.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded"})]})]}),Object(i.jsx)("div",{className:"h-10 w-28  bg-gray-300 rounded"})]}),Object(i.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start animate__animated animate-pulse",children:[Object(i.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(i.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(i.jsx)("div",{className:"h-5 w-28 bg-gray-300 rounded"})}),Object(i.jsxs)("div",{className:"flex items-center gap-2",children:[Object(i.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"}),Object(i.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded"})]})]}),Object(i.jsx)("div",{className:"h-10 w-28  bg-gray-300 rounded"})]})]})};t.a=n.a.memo(r)}}]);
//# sourceMappingURL=30.65b27ced.chunk.js.map