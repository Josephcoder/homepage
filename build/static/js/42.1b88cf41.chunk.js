(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[42,4,48],{189:function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"g",(function(){return n})),s.d(t,"e",(function(){return r})),s.d(t,"c",(function(){return a})),s.d(t,"d",(function(){return i})),s.d(t,"i",(function(){return l})),s.d(t,"h",(function(){return o})),s.d(t,"a",(function(){return d})),s.d(t,"f",(function(){return u}));var c=[{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"7322342684"},{school_id:"32762426329",school_title:"Rucee De Kigali",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"73232432684",number_of_females:10,number_of_males:12}],n=function(e){return null===e||null!==e.match(/^ *$/)},r=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},a=function(e,t){return e.find((function(e){return e.education_institute_id===t}))},i=function(e,t){return console.log({positions:e,position_id:t,data:e.filter((function(e){return e.position_id===t}))[0]}),e.filter((function(e){return e.position_id===t}))[0]},l=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=new Array(t+1).join("0");return(s+e).slice(-t)},d=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},u=function(e){var t=new Date(e),s=new Date;return t.getTime()<s.getTime()}},190:function(e,t,s){"use strict";s.d(t,"d",(function(){return b})),s.d(t,"b",(function(){return m})),s.d(t,"f",(function(){return j})),s.d(t,"a",(function(){return x})),s.d(t,"c",(function(){return f})),s.d(t,"e",(function(){return h})),s.d(t,"g",(function(){return p}));var c,n=s(5),r=s.n(n),a=s(7),i=s(9),l=s.n(i),o=s(6),d=s(10),u=s(12);!function(e){e.waiting="waiting",e.approved="approved",e.rejected="rejected"}(c||(c={}));var b=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(u.b)(),e.next=4,l.a.get("".concat(d.a.AUTH,"/users?page=1&limit=500"));case 4:s=e.sent,console.log({users_response:s}),t({type:o.a.FETCH_USERS_ACCESS,payload:s.data.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({user_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return console.log({data:e}),function(){var t=Object(a.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.BLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.UNBLOCK_USER_TO_SYSTEM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return console.log({data:e}),function(){var t=Object(a.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.ASSIGN_ROLE_TO_USER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.CUSTOMIZE_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.RESET_USER_ACCESS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return console.log({data:e}),function(){var t=Object(a.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.VERIFY_ALL_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},191:function(e,t,s){"use strict";var c=s(23),n=s(4),r=s(193),a=s(8),i=s(1);t.a=function(e){var t,s,l=e.rows,o=e.columns,d=e.hideColumns,u=void 0!==d&&d,b=e.pagination,m=void 0!==b&&b,j=e.search,x=void 0!==j&&j,f=e.tableSize,h=void 0===f?"w-full":f,p=e.tableClass,g=e.tableId,O=void 0===g?"myTable":g,_=e.rounded,v=void 0!==_&&_,y=e.searchBG,N=void 0===y?"bg-gray-200":y,w=e.thColor,k=void 0===w?"blue":w,S=e.loading,C=void 0!==S&&S;O="myTable"===O?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=s.length,n=0;n<e;n++)t+=s.charAt(Math.floor(Math.random()*c));return t}():O;var U=Object(n.useState)(0),T=Object(c.a)(U,2),A=T[0],L=T[1],E=Object(n.useState)(1),R=Object(c.a)(E,2),q=R[0],B=R[1],I=Object(n.useState)(1),M=Object(c.a)(I,2),D=M[0],P=M[1],F=Object(n.useState)(),G=Object(c.a)(F,2),H=G[0],Y=G[1],z=Object(n.useState)(10),V=Object(c.a)(z,2),K=V[0],J=V[1],W=Object(n.useState)(0),Z=Object(c.a)(W,2),Q=Z[0],X=Z[1],$=Object(n.useState)(0),ee=Object(c.a)($,2),te=ee[0],se=ee[1];Object(n.useEffect)((function(){m&&ce()}));var ce=function(){t=document.getElementById(O),s=t.getElementsByTagName("tr"),L(s.length),B(Math.ceil(A/K)),X((D-1)*K),se(Math.min(Q+K-1,A-1));var e=Array.from(Array(q+1-1).keys()).map((function(e){return 1+e}));H&&e.length===H.length||Y(e);for(var c=0;c<s.length;c++)s[c].style.display=c>=Q&&c<=te?"":"none"};return Object(i.jsxs)("div",{className:"".concat(h),children:[x&&Object(i.jsx)("div",{className:"".concat(N," w-full mb-2"),children:x&&Object(i.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(i.jsx)(a.Cb,{className:"h-5 w-5 fill-current text-gray-400"}),Object(i.jsx)("input",{type:"search",placeholder:"search",onChange:function(e){return function(e,s){var c,n,r,a,i;for("field"===s&&"all"===e&&(e=""),c=e.toLowerCase(),n=(t=document.getElementById(O)).getElementsByTagName("tr"),a=0;a<n.length;a++)for(i=0;i<o.length;i++)if(r=n[a].getElementsByTagName("td")[i]){if((r.textContent||r.innerText).toLowerCase().indexOf(c)>-1){n[a].style.display="";break}n[a].style.display="none"}}(e.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:C}),m&&Object(i.jsx)("div",{className:"select",children:Object(i.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(e){return J(Number(e.target.value))},disabled:C,children:[Object(i.jsx)("option",{value:"10",children:"10"}),Object(i.jsx)("option",{value:"25",children:"25"}),Object(i.jsx)("option",{value:"50",children:"50"}),Object(i.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(i.jsxs)("table",{className:p||"w-full shadow ".concat(v&&"sm:rounded-lg"," table-auto order-table"),id:O,children:[!u&&Object(i.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(i.jsx)("tr",{className:"text-left tracking-wide bg-".concat(k,"-100 border-b-2 border-").concat(k,"-500 text-").concat(k,"-600"),children:o.map((function(e,t){return Object(i.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,s,c,n,r,a,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(c=!0,t=document.getElementById(e))for(;c;){for(c=!1,s=t.rows,n=1;n<s.length-1;n++)if(i=!1,r=s[n].getElementsByTagName("TD")[l],a=s[n+1].getElementsByTagName("TD")[l],"asc"===o&&r&&a){if(r.innerHTML.toLowerCase()>a.innerHTML.toLowerCase()){i=!0;break}}else if("desc"===o&&r&&a&&r.innerHTML.toLowerCase()<a.innerHTML.toLowerCase()){i=!0;break}i&&s[n].parentNode?(s[n].parentNode.insertBefore(s[n+1],s[n]),c=!0,d++):0===d&&"asc"===o&&(o="desc",c=!0)}}(O,t)},children:Object(i.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(i.jsx)(r.h,{})]})},t)}))})}),Object(i.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:l()})]}),m&&Object(i.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(i.jsx)("div",{children:Object(i.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",K," of ",A-1," Entries"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==D&&"bg-white"),"aria-label":"Previous",disabled:1===D||C,onClick:function(){return P(D-1)},children:Object(i.jsx)(a.hb,{className:"h-5 w-5"})})}),Object(i.jsx)("div",{children:H&&H.map((function(e,t){return Object(i.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(e!==D?"bg-white":"bg-gray-100 cursor-default"),disabled:e===D||C,onClick:function(){return P(e)},children:e},t)}))}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(D!==q&&"bg-white"),"aria-label":"Next",disabled:D===q||C,onClick:function(){return P(D+1)},children:Object(i.jsx)(a.ib,{className:"h-5 w-5"})})})]})})]})]})}},196:function(e,t,s){"use strict";s.d(t,"b",(function(){return j})),s.d(t,"a",(function(){return x})),s.d(t,"d",(function(){return f})),s.d(t,"c",(function(){return h}));var c=s(19),n=s(18),r=s(21),a=s(20),i=s(4),l=s.n(i),o=s(17),d=s(3),u=s(8),b=s(1),m=function(e){Object(r.a)(s,e);var t=Object(a.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).componentDidMount=function(){return n.props.PageHasSubNav(!0)},n.componentWillUnmount=function(){return n.props.PageHasSubNav(!1)},n.state={loading:!1},n}return Object(n.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(b.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(l.a.Component),j=Object(o.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.mb,PageHasSubNav:d.nb})(m),x=function(e){var t=e.title,s=void 0===t?"":t,c=e.icon,n=void 0===c?u.m:c,r=e.active,a=void 0!==r&&r,i=e.count,l=void 0===i?0:i,o=n;return Object(b.jsxs)("section",{className:"".concat(!0===a?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(b.jsxs)("section",{className:"flex-1",children:[Object(b.jsx)(o,{className:"inline-block mr-1 text-xs"}),Object(b.jsx)("span",{children:s})]}),l>0?Object(b.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:l}):null]})},f=function(e){var t=e.children;return Object(b.jsx)("div",{className:"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer",children:t})},h=function(e){var t=e.title,s=void 0===t?"":t,c=e.icon,n=void 0===c?u.m:c,r=e.active,a=void 0!==r&&r,i=e.count,l=void 0===i?0:i,o=n;return Object(b.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster ".concat(!0===a?"bg-blue-500 text-white font-bold":" text-blue-800"," text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),children:[Object(b.jsx)(o,{className:"inline-block mr-0.1 text-xs ".concat(!0===a?"text-white":"")}),Object(b.jsx)("span",{className:"inline-block pl-1 ".concat(!0===a?"text-white":""),children:s}),l>=1?Object(b.jsx)("span",{className:"text-sm fint-bold ".concat(!0===a?"text-white":""),children:l}):null]})}},282:function(e,t,s){"use strict";s.r(t),s.d(t,"UserAccess",(function(){return O}));var c=s(5),n=s.n(c),r=s(7),a=s(23),i=s(9),l=s.n(i),o=s(4),d=s(193),u=s(8),b=s(279),m=s(241),j=s(17),x=s(190),f=s(191),h=s(10),p=s(13),g=s(1),O=Object(j.b)(null,{customizeUserAccess:x.c})((function(e){var t=e.userInfo,s=e.customizeUserAccess,c=e.setFeedBack,i=(e.feedBack,e.setUserAccess),j=e.userAccess,x=e.currentAccess,O=e.setCurrentAccess,_=Object(o.useState)(!0),v=Object(a.a)(_,2),y=v[0],N=v[1],w=Object(o.useState)(!1),k=Object(a.a)(w,2),S=k[0],C=k[1],U=Object(o.useState)(!1),T=Object(a.a)(U,2),A=T[0],L=T[1],E=Object(o.useState)(!1),R=Object(a.a)(E,2),q=R[0],B=R[1],I=Object(o.useState)(!1),M=Object(a.a)(I,2),D=M[0],P=M[1],F=Object(o.useState)(!1),G=Object(a.a)(F,2),H=G[0],Y=G[1],z=function(e,t){if(e&&t&&t.length>0){var s=[],c=function(c){if(Object.prototype.hasOwnProperty.call(e,c)){var n=t.find((function(t){return t.id===e[c].id}));n?s.push(n):s.push(e[c])}};for(var n in e)c(n);i(s)}};Object(o.useEffect)((function(){t&&t.custome_access&&t.default_access&&function(e,t){if(e&&t&&t.length>0){for(var s=[],c=function(){var e=Object(a.a)(r[n],2),c=e[0],i=e[1],l=t.find((function(e){return e.id===i.id}));l?s.push(l):s.push(i),console.log(c)},n=0,r=Object.entries(e);n<r.length;n++)c();i(s)}}(t.default_access.access,t.custome_access.access)}),[t,i]),Object(o.useEffect)((function(){t&&!t.custome_access&&t.default_access&&i(t.default_access.access),N(!1)}),[t,i]);var V=function(){var e=Object(r.a)(n.a.mark((function e(r){var a,i,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),C(!0),c({type:"",message:""}),a=null,a=t.custome_access,i=-1,e.prev=6,a&&x?(i=a.access.findIndex((function(e){return e.id===x.id})))>=0?(a.access[i].permitted.create=A,a.access[i].permitted.view=q,a.access[i].permitted.update=D,a.access[i].permitted.delete=H):a.access.push({id:x.id,task:x.task,key:x.key,permitted:{create:A,view:q,update:D,delete:H}}):x&&(a={access:[{id:x.id,task:x.task,key:x.key,permitted:{create:A,view:q,update:D,delete:H}}],user_id:t.user_id,custome_user_access_id:""}),!a){e.next=19;break}if(null===t.custome_access){e.next=15;break}return e.next=12,l.a.patch("".concat(h.a.AUTH,"/custaccess"),{access:a.access,user_id:t.user_id});case 12:o=e.sent,e.next=18;break;case 15:return e.next=17,l.a.post("".concat(h.a.AUTH,"/custaccess"),{access:a.access,user_id:t.user_id});case 17:o=e.sent;case 18:o&&(a.custome_user_access_id=o.data.data.custome_user_access_id,console.log({task:a}),console.log(o.data.data),s(a),a&&t.default_access&&z(t.default_access.access,a.access),c({type:"success",message:"Reseting User Access complete successfully"}),a=null,O(null),L(!1),B(!1),P(!1),Y(!1));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),console.error({customize_access:e.t0}),c({type:"danger",message:Object(p.a)(e.t0)});case 25:C(!1);case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}();return!0===y||null===t?Object(g.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading User Access..."}):y?Object(g.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."}):Object(g.jsx)(o.Fragment,{children:Object(g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mx-1 my-2",children:[Object(g.jsxs)("div",{className:"col-span-1 md:col-span-3 bg-white w-full overflow-x-auto border rounded text-center p-2 ".concat(x?"hidden md:block":""),children:[Object(g.jsx)("span",{className:"text-gray-600 mt-2 font-semibold text-2xl",children:"Settings"}),!y&&Object(g.jsx)("div",{className:"overflow-x-auto w-full",children:Object(g.jsx)(f.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:function(){return j?j.map((function(e,t){return Object(g.jsxs)("tr",{className:"text-left border-b border-gray-200 cursor-pointer hover:bg-gray-100 ".concat(x&&x.id===e.id&&"bg-gray-200 border my-3 hover:bg-gray-100"),onClick:function(){return x&&x.id===e.id?(O(null),L(!1),B(!1),P(!1),Y(!1)):(O(e),L(e.permitted.create),B(e.permitted.view),P(e.permitted.update),Y(e.permitted.delete))},children:[Object(g.jsx)("td",{className:"px-2 py-1",children:Object(g.jsx)("label",{className:"inline-flex items-center",children:Object(g.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(g.jsx)(m.a,{}):Object(g.jsx)(u.P,{}),e.permitted.create?" Yes":"No"]})}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(g.jsx)(m.a,{}):Object(g.jsx)(u.P,{}),e.permitted.view?" Yes":"No"]})}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(g.jsx)(m.a,{}):Object(g.jsx)(u.P,{}),e.permitted.update?" Yes":"No"]})}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(g.jsx)(m.a,{}):Object(g.jsx)(u.P,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id)})):[Object(g.jsx)("tr",{children:Object(g.jsx)("td",{children:"No data"})},46)]},pagination:!1,search:!0,searchBG:"bg-gray-50",thColor:"gray"})})]}),Object(g.jsx)("div",{className:"col-span-1 md:col-span-2",children:x?Object(g.jsxs)("div",{className:"",children:[Object(g.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-center my-2 text-gray-900",children:"Customize User Access"}),Object(g.jsx)("div",{className:"flex justify-center mb-3",children:Object(g.jsxs)("h2",{className:"text-2xl font-semibold text-center text-gray-600 flex flex-row items-center",children:[Object(g.jsx)(d.g,{className:"w-7 h-7"}),x.task]})}),Object(g.jsx)("div",{className:"flex flex-col px-2 md:px-1",children:Object(g.jsxs)("form",{className:"flex flex-col items-center",onSubmit:function(e){return V(e)},children:[Object(g.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(g.jsx)(b.a,{className:"w-7 h-7 text-gray-600"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("h3",{className:"font-semibold text-xl",children:"Create"}),Object(g.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to create"})]}),Object(g.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return L(!A)},checked:A,disabled:S})]}),Object(g.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(g.jsx)(u.wb,{className:"w-7 h-7 text-gray-600"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("h3",{className:"font-semibold text-xl",children:"View"}),Object(g.jsx)("span",{className:"text-gray-600 text-sm md:pr-4",children:"This permission gives the user the ability to view"})]}),Object(g.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return B(!q)},checked:q,disabled:S})]}),Object(g.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(g.jsx)(u.E,{className:"w-7 h-7 text-gray-600"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("h3",{className:"font-semibold text-xl",children:"Update"}),Object(g.jsx)("span",{className:"text-gray-600 text-sm",children:"This permission gives the user the ability to update"})]}),Object(g.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return P(!D)},checked:D,disabled:S})]}),Object(g.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(g.jsx)(u.B,{className:"w-7 h-7 text-gray-600"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("h3",{className:"font-semibold text-xl",children:"Delete"}),Object(g.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to delete"})]}),Object(g.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return Y(!H)},checked:H,disabled:S})]}),Object(g.jsxs)("div",{className:"flex items-center justify-center w-full py-3 gap-2",children:[Object(g.jsx)("button",{className:"btn bg-gray-500 hover:bg-gray-700 focus:outline-none text-white",disabled:S,onClick:function(){O(null),L(!1),B(!1),P(!1),Y(!1)},children:"Cancel"}),Object(g.jsx)("button",{className:"btn btn-blue",disabled:S,children:S?"Processing..":"Save Change"})]})]})})]}):Object(g.jsxs)("div",{className:"w-full hidden md:flex flex-col items-center text-gray-600 gap-1 py-3",children:[Object(g.jsx)(u.Eb,{className:"w-20 h-20"}),Object(g.jsx)("span",{className:"text-8 md:text-12",children:"Choose Access to Customize"})]})})]})})}))},284:function(e,t,s){"use strict";s.d(t,"a",(function(){return S}));var c,n=s(5),r=s.n(n),a=s(7),i=s(23),l=s(4),o=s(8),d=s(191),u=s(189),b=s(17),m=s.p+"static/media/blank_profile.c3f94521.png",j=s(282),x=s(9),f=s.n(x),h=s(241),p=s(190),g=s(28),O=s(10),_=s(13),v=s(49),y=s(1),N=function(e){var t=Object(l.useState)(""),s=Object(i.a)(t,2),c=s[0],n=s[1];return Object(y.jsxs)("section",{className:"border-2 rounded border-gray-400",children:[Object(y.jsxs)("div",{className:"flex items-center w-full my-1",children:[Object(y.jsx)(o.Cb,{className:"w-6 h-6 absolute ml-2"}),Object(y.jsx)("input",{type:"text",placeholder:"Search",className:"focus:border-2 h-7 ml-1 pl-9 mr-2 bg-gray-100 focus:border-gray-700 w-full rounded",onChange:function(e){return n(e.target.value)},value:c,disabled:!(Object(v.a)(e.roleList,c).length>0)}),Object(y.jsx)("button",{className:"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none",type:"button",onClick:function(){e.setChooseRole(!1)},children:"Close"})]}),Object(y.jsx)("div",{className:"w-full h-52 mt-2 overflow-y-auto divide-y divide-gray-300",children:Object(v.a)(e.roleList,c).length>0?Object(v.a)(e.roleList,c).map((function(t,s){return Object(y.jsx)("section",{children:Object(y.jsxs)("div",{className:"group flex items-center justify-between my-1 hover:bg-gray-100",children:[Object(y.jsx)("div",{className:"p-1 w-full mr-2 cursor-pointer",onClick:function(){e.setChooseRole(!1),!e.loadindRequest&&e.handleSelectRole(t.system_user_role_id)},children:Object(y.jsx)("p",{className:"text-sm font-medium text-black",children:Object(u.a)(t.role)})}),Object(y.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 py-1 px-2 mr-1 rounded text-sm",children:"Choose"})]})},s+t.role)})):Object(y.jsx)("div",{className:"text-center p-3",children:Object(y.jsx)("p",{className:"text-base font-medium text-black",children:"No role available"})})})]})},w=Object(b.b)((function(e){return{schoolLevels:e.schoolLevels}}),{assignRoleToUserAccess:p.a})((function(e){var t=e.userInfo,s=e.roleList,c=e.district,n=e.setFeedBack,b=e.assignRoleToUserAccess,m=e.schoolList,j=e.roomList,x=e.schoolLevels,p=e.setChangeRole,v=Object(l.useState)(!0),w=Object(i.a)(v,2),k=w[0],C=w[1],U=Object(l.useState)(!0),T=Object(i.a)(U,2),A=T[0],L=T[1],E=Object(l.useState)(!1),R=Object(i.a)(E,2),q=R[0],B=R[1],I=Object(l.useState)(""),M=Object(i.a)(I,2),D=M[0],P=M[1],F=Object(l.useState)(""),G=Object(i.a)(F,2),H=G[0],Y=G[1],z=Object(l.useState)(""),V=Object(i.a)(z,2),K=V[0],J=V[1],W=Object(l.useState)(""),Z=Object(i.a)(W,2),Q=Z[0],X=Z[1],$=Object(l.useState)(""),ee=Object(i.a)($,2),te=ee[0],se=ee[1],ce=Object(l.useState)(""),ne=Object(i.a)(ce,2),re=ne[0],ae=ne[1],ie=Object(l.useState)(""),le=Object(i.a)(ie,2),oe=le[0],de=le[1],ue=Object(l.useState)(null),be=Object(i.a)(ue,2),me=be[0],je=be[1],xe=Object(l.useState)(null),fe=Object(i.a)(xe,2),he=fe[0],pe=fe[1],ge=Object(l.useState)(!1),Oe=Object(i.a)(ge,2),_e=Oe[0],ve=Oe[1];Object(l.useEffect)((function(){if(s.length&&t){if(t.default_access&&A){if(!D.length){P(t.default_access.system_user_role_id);var e=s.find((function(e){return e.system_user_role_id===D}));e&&je(e)}var c;if(t.default_access.district_id&&j)(c=S(j).find((function(e){return e.district_id===t.default_access.district_id})))&&Y(c.province_id),c&&J(c.district_id),L(!1);else if(t.default_access.room_id&&j)(c=S(j).find((function(e){return e.room_id===t.default_access.room_id})))&&Y(c.province_id),c&&J(c.district_id),c&&de(c.center_id),se(t.default_access.room_id),L(!1);else if(t.default_access.school_id&&j&&m){var n=m.find((function(e){return e._id===t.default_access.school_id}));n?((c=S(j).find((function(e){return e.district_id===(null===n||void 0===n?void 0:n.district_id)})))&&Y(c.province_id),c&&J(c.district_id),X(t.default_access.school_id),L(!1)):L(!1)}else L(!1)}C(!1)}}),[A,D,s,te.length,j,m,t]);var ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SELECT";if(s){var c=s.find((function(t){return t.system_user_role_id===e}));c&&(P(e),je(c),he&&"role_id"===he.element&&pe(null),"SELECT"===t&&(Y(""),J(""),X(""),de(""),se(""),ae("")))}},Ne=function(){var e=Object(a.a)(r.a.mark((function e(s){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),window.confirm("Are sure you want to change user role?")){e.next=3;break}return e.abrupt("return",!1);case 3:if(me){e.next=5;break}return e.abrupt("return",pe({element:"role_id",msg:"User role is required!"}));case 5:if(!0!==me.school_required&&!0!==me.room_required||!Object(u.g)(H)){e.next=7;break}return e.abrupt("return",pe({element:"province_id",msg:"Province is required!"}));case 7:if(!0!==me.education_institution_required||!Object(u.g)(re)){e.next=9;break}return e.abrupt("return",pe({element:"institute_id",msg:"Institute is required on this role!"}));case 9:if(!0!==me.school_required&&!0!==me.room_required&&!0!==me.district_required||!Object(u.g)(K)){e.next=11;break}return e.abrupt("return",pe({element:"district_id",msg:"District is required!"}));case 11:if(!0!==me.school_required||!Object(u.g)(Q)){e.next=13;break}return e.abrupt("return",pe({element:"school_id",msg:"School is required!"}));case 13:if(!0!==me.room_required||!Object(u.g)(oe)){e.next=15;break}return e.abrupt("return",pe({element:"center_id",msg:"Center is required!"}));case 15:if(!0!==me.room_required||!Object(u.g)(te)){e.next=17;break}return e.abrupt("return",pe({element:"room_id",msg:"Room is required!"}));case 17:return B(!0),c={user_id:t.user_id,data:{system_user_role_id:D,status:1,role:me.role,access:me.access,school_id:me.school_required?Q:"",district_id:me.district_required?K:"",room_id:me.room_required?te:"",education_institution_id:me.education_institution_required?re:""}},e.prev=19,e.next=22,f.a.post("".concat(O.a.AUTH,"/addroletouser"),{user_id:t.user_id,system_user_role_id:D,status:1,role:me.role,access:!0,school_id:!0===me.school_required?Q:"",district_id:!0===me.district_required?K:"",room_id:!0===me.room_required?te:"",education_institution_id:me.education_institution_required?re:""});case 22:e.sent&&(b(c),B(!1),p(!1),n({type:"success",message:"Assigning Role to User completed successfully"})),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(19),console.log({role_error:e.t0}),n({type:"danger",message:Object(_.a)(e.t0)});case 30:case"end":return e.stop()}}),e,null,[[19,26]])})));return function(t){return e.apply(this,arguments)}}();return!0===k||null===t?Object(y.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."}):Object(y.jsx)(l.Fragment,{children:Object(y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 my-2 md:my-4 px-2 md:px-0",children:[Object(y.jsx)("div",{className:"col-span-1 bg-white w-full overflow-x-auto border rounded",children:Object(y.jsxs)("div",{className:"px-6 md:px-12 py-5 bg-white mx-auto rounded-2xl w-100",children:[Object(y.jsx)("h3",{className:"font-semibold text-2xl text-gray-800 mb-4",children:"Change User Role"}),A?Object(y.jsx)(g.a,{}):Object(y.jsx)("form",{onSubmit:function(e){return Ne(e)},children:Object(y.jsxs)("div",{className:"space-y-5",children:[Object(y.jsxs)("div",{className:"space-y-2",children:[Object(y.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:"User Role"}),!_e&&Object(y.jsx)("div",{className:"w-full text-base bg-white text-grey-darker cursor-pointer border-2 px-4 py-3 rounded focus:outline-none focus:bg-gray-100 ".concat(he&&"role_id"===he.element?"border-red-500":"border-gray-400"),onClick:function(){!q&&ve(!0),!q&&pe(null)},children:me?me.role:"Select role"}),_e&&Object(y.jsx)(N,{setChooseRole:ve,handleSelectRole:ye,roleList:s,loadindRequest:q}),he&&"role_id"===he.element&&Object(y.jsx)("span",{className:"text-red-500",children:he.msg})]}),me&&me.education_institution_required&&Object(y.jsxs)("div",{className:"space-y-2",children:[Object(y.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Institute"}),Object(y.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(he&&"institute_id"===he.element?"border-red-500":"border-gray-400"),onChange:function(e){ae(e.target.value),Y(""),J(""),X(""),de(""),se(""),he&&"institute_id"===he.element&&pe(null)},disabled:q,value:re,children:[Object(y.jsx)("option",{value:"",children:"Select institute"}),x.education_categories&&x.education_categories.length>0?x.education_categories.map((function(e){return Object(y.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},e.education_institute_id)})):Object(y.jsx)("option",{value:"",disabled:!0,children:"No institute available"})]}),he&&"institute_id"===he.element&&Object(y.jsx)("span",{className:"text-red-500",children:he.msg})]}),me&&me.room_required&&Object(y.jsxs)("div",{className:"space-y-2",children:[Object(y.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Province"}),Object(y.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(he&&"province_id"===he.element?"border-red-500":"border-gray-400"),onChange:function(e){Y(e.target.value),he&&"province_id"===he.element&&pe(null),J(""),X(""),de(""),se("")},value:H,disabled:q,children:[Object(y.jsx)("option",{value:"",children:"Select province"}),j&&j.map((function(e){return Object(y.jsx)("option",{value:e.province_id,children:e.province_name},e.province_id)}))]}),he&&"province_id"===he.element&&Object(y.jsx)("span",{className:"text-red-500",children:he.msg})]}),me&&(me.district_required||me.room_required)&&Object(y.jsxs)("div",{className:"space-y-2",children:[Object(y.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"District"}),Object(y.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(he&&"district_id"===he.element?"border-red-500":"border-gray-400"),onChange:function(e){J(e.target.value),he&&"district_id"===he.element&&pe(null),X(""),de(""),se("")},value:K,disabled:q,children:[Object(y.jsx)("option",{value:"",children:"Select district"}),H?j&&j.filter((function(e){return e.province_id===H}))[0].districts.map((function(e){return Object(y.jsx)("option",{value:e.district_id,children:e.district_name},e.district_id)})):c.map((function(e){return Object(y.jsx)("option",{value:e.district_id,children:e.district_name},e.district_id)}))]}),he&&"district_id"===he.element&&Object(y.jsx)("span",{className:"text-red-500",children:he.msg})]}),me&&me.school_required&&Object(y.jsxs)("div",{className:"space-y-2",children:[Object(y.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"School"}),Object(y.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(he&&"school_id"===he.element?"border-red-500":"border-gray-400"),onChange:function(e){X(e.target.value),he&&"school_id"===he.element&&pe(null),de(""),se("")},disabled:q,value:Q,children:[Object(y.jsx)("option",{value:"",children:"Selected school"}),m&&m.map((function(e){return Object(y.jsx)("option",{value:e._id,children:e.school_name},e._id)}))]}),he&&"school_id"===he.element&&Object(y.jsx)("span",{className:"text-red-500",children:he.msg})]}),me&&me.room_required&&Object(y.jsxs)("div",{className:"space-y-2",children:[Object(y.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Center"}),Object(y.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(he&&"center_id"===he.element?"border-red-500":"border-gray-400"),onChange:function(e){de(e.target.value),he&&"center_id"===he.element&&pe(null),se("")},disabled:q,value:oe,children:[Object(y.jsx)("option",{value:"",children:"Select center"}),K&&K.length>0&&j&&S(j).filter((function(e){return e.district_id===K})).map((function(e,t){return Object(y.jsx)("option",{value:e.center_id,children:e.center_name},e.center_id+t)}))]}),he&&"center_id"===he.element&&Object(y.jsx)("span",{className:"text-red-500",children:he.msg})]}),me&&me.room_required&&Object(y.jsxs)("div",{className:"space-y-2",children:[Object(y.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Room"}),Object(y.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(he&&"room_id"===he.element?"border-red-500":"border-gray-400"),onChange:function(e){se(e.target.value),he&&"room_id"===he.element&&pe(null)},disabled:q,value:te,children:[Object(y.jsx)("option",{value:"",children:"Select room"}),oe&&j&&S(j).filter((function(e){return e.center_id===oe})).map((function(e,t){return Object(y.jsx)("option",{value:e.room_id,children:e.room_name},e.room_id+300)}))]}),he&&"room_id"===he.element&&Object(y.jsx)("span",{className:"text-red-500",children:he.msg})]}),Object(y.jsxs)("div",{className:"flex justify-between 2xl:justify-start gap-2",children:[Object(y.jsx)("button",{className:"btn bg-gray-500 text-gray-50 focus:outline-none",onClick:function(){p(!1),pe(null),Y(""),J(""),X(""),de(""),se("")},disabled:q,children:"Back"}),Object(y.jsx)("button",{className:"btn btn-blue focus:outline-none",disabled:q,children:q?"Loading...":"Save Change"})]})]})})]})}),Object(y.jsxs)("div",{className:"cols-span-1 md:col-span-2 bg-white w-full border rounded text-center p-2 hidden md:block",children:[Object(y.jsx)("div",{className:"my-4",children:Object(y.jsxs)("span",{className:"text-gray-600 font-semibold text-2xl",children:[null===me||void 0===me?void 0:me.role,"'s Default Access"]})}),!k&&Object(y.jsx)("div",{className:"overflow-x-auto w-full",children:Object(y.jsx)(d.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:function(){return D.length>0&&null===me&&s&&ye(D,"DEFAULT"),me?me.access.map((function(e,t){return Object(y.jsxs)("tr",{className:"text-left border-b border-gray-200 hover:bg-gray-100",children:[Object(y.jsx)("td",{className:"px-2 py-1",children:Object(y.jsx)("label",{className:"inline-flex items-center",children:Object(y.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(y.jsx)("td",{children:Object(y.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(y.jsx)(h.a,{}):Object(y.jsx)(o.P,{}),e.permitted.create?" Yes":"No"]})}),Object(y.jsx)("td",{children:Object(y.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(y.jsx)(h.a,{}):Object(y.jsx)(o.P,{}),e.permitted.view?" Yes":"No"]})}),Object(y.jsx)("td",{children:Object(y.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(y.jsx)(h.a,{}):Object(y.jsx)(o.P,{}),e.permitted.update?" Yes":"No"]})}),Object(y.jsx)("td",{children:Object(y.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(y.jsx)(h.a,{}):Object(y.jsx)(o.P,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id)})):[Object(y.jsx)("tr",{children:Object(y.jsx)("td",{colSpan:5,className:"text-center px-2 py-2",children:"No Default Access Available on this Role."})},"55re")]},pagination:!1,search:!1,searchBG:"bg-gray-50",thColor:"gray",tableId:"defaultAccess"})})]})]})})})),k=s(71);!function(e){e.View_User="View User Info",e.Add_Access="Add Access To User",e.Update_Access="Update User Access",e.Close_Modal="Close Modal"}(c||(c={}));var S=function(e){var t=[];for(var s in e){var c=e[s].districts;for(var n in c){var r=c[n].centers;for(var a in r){var i=r[a].rooms;for(var l in i)t.push({province_id:e[s].province_id,province_name:e[s].province_name,district_id:c[n].district_id,district_name:c[n].district_name,center_id:r[a].examination_center_id,center_name:r[a].center_name,room_id:i[l].examination_center_room_id,room_name:i[l].room_number.toString(),capacity:i[l].capacity,occupied:i[l].occupied})}}}return t};t.b=Object(b.b)((function(e){return{schoolLevels:e.schoolLevels}}),{blockUserToSystem:p.b,unBlockUserToSystem:p.f,resetUserAccess:p.e})((function(e){var t,s,c,n=e.users,b=e.roleList,x=(e.userTypes,e.district),h=e.loadingUser,p=e.schoolLevels,v=e.setLoadingUser,N=e.blockUserToSystem,C=e.unBlockUserToSystem,U=e.manageUser,T=e.setManageUser,A=e.changeRole,L=e.setChangeRole,E=e.feedBack,R=e.setFeedBack,q=e.resetUserAccess,B=Object(l.useState)(""),I=Object(i.a)(B,2),M=I[0],D=I[1],P=Object(l.useState)(!1),F=Object(i.a)(P,2),G=F[0],H=F[1],Y=Object(l.useState)(null),z=Object(i.a)(Y,2),V=z[0],K=z[1],J=Object(l.useState)(null),W=Object(i.a)(J,2),Z=W[0],Q=W[1],X=Object(l.useState)(null),$=Object(i.a)(X,2),ee=$[0],te=$[1],se=Object(l.useState)(null),ce=Object(i.a)(se,2),ne=ce[0],re=ce[1],ae=Object(l.useState)(null),ie=Object(i.a)(ae,2),le=ie[0],oe=ie[1],de=Object(l.useState)(null),ue=Object(i.a)(de,2),be=ue[0],me=ue[1];Object(l.useEffect)((function(){var e=function(){var e=Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R({type:"",message:""}),v(!0),e.prev=2,e.next=5,f.a.get("".concat(O.a.APPLICATION,"/schools"));case 5:t=e.sent,Q(t.data),v(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),R({type:"danger",message:Object(_.a)(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R({type:"",message:""}),v(!0),e.prev=2,e.next=5,f.a.get("".concat(O.a.APPLICATION,"/roomlocation"));case 5:t=e.sent,te(t.data),re(S(t.data)),v(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),R({type:"danger",message:Object(_.a)(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();e(),t()}),[R,v]);var je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";if(R({type:"",message:""}),e||R({type:"warning",message:"User Access is required doesn't exist"}),H(!0),!window.confirm("Are sure you want to ".concat(t," this user?")))return H(!1);"block"===t?N(e):C(e),R({type:"success",message:"User has been ".concat("block"===t?"block":"unblock","ed!")}),H(!1),e=""},xe=function(){var e=Object(a.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R({type:"",message:""}),t||R({type:"warning",message:"User Access is required doesn't exist"}),window.confirm("Are sure you want to reset to default access?")){e.next=4;break}return e.abrupt("return",H(!1));case 4:return H(!0),K("RESET"),e.prev=6,e.next=9,f.a.delete("".concat(O.a.AUTH,"/custaccess/user/").concat(t));case 9:e.sent&&q(t),(s=n.filter((function(e){return e.user_id===t}))[0]).default_access&&oe(s.default_access.access),R({type:"success",message:"Reseting User Access complete successfully"}),me(null),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),console.error({reseting_user_access:e.t0}),R({type:"danger",message:Object(_.a)(e.t0)});case 21:H(!1),K(null),t="";case 24:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(l.Fragment,{children:[E&&""!==E.type&&Object(y.jsxs)("div",{className:"alert-".concat(E.type," flex flex-row items-center relative"),children:[Object(y.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:Object(y.jsx)(o.y,{className:"h-5 w-5 text-gray-700 hover:font-bold",title:"Close",onClick:function(){return R({type:"",message:""})}})}),Object(y.jsx)(o.G,{className:"h-10 w-10"}),Object(y.jsxs)("div",{className:"alert-content ml-4",children:[Object(y.jsx)("div",{className:"alert-title font-semibold text-lg",children:"success"===E.type?"Success":"Error"}),Object(y.jsx)("div",{className:"alert-description text-sm",children:E.message})]})]}),!U&&Object(y.jsx)("div",{className:"grid md:grid-cols-5 gap-2 mb-5",children:Object(y.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(y.jsx)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:Object(y.jsx)("div",{className:"flex flex-col md:flex-row gap-1 items-center mx-1.5"})}),n&&Object(y.jsx)(d.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"Email",alignText:"left",padding:"p-3"},{columnTitle:"Gender",alignText:"left",padding:"p-3"},{columnTitle:"Role",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){if(!0===h)return[Object(y.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(y.jsx)("td",{className:"p-3 text-center",colSpan:8,children:Object(y.jsx)(g.a,{})})},1)];var e=n;return e.length<=0?[Object(y.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(y.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"No Data Found"})},1)]:e.map((function(e,t){var s,c;return Object(y.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group cursor-pointer",onClick:function(){T(e),D(e.user_id)},children:[Object(y.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(y.jsx)("td",{className:"p-3 text-left",children:Object(y.jsx)("span",{children:e.user_info&&e.user_info.fname+" "+e.user_info.lname})}),Object(y.jsx)("td",{className:"p-3 text-left",children:e.email}),Object(y.jsx)("td",{className:"p-3 text-left",children:e.user_info&&"M"===e.user_info.sex?"Male":"Female"}),Object(y.jsx)("td",{className:"p-3 text-left text-blue-700 text-base font-medium",children:e.default_access&&e.default_access.system_user_role_id&&e.default_access.system_user_role_id&&Object(y.jsx)("span",{className:"px-2 py-1 font-semibold rounded text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100",children:(null===(s=Object(u.e)(b,e.default_access.system_user_role_id))||void 0===s?void 0:s.role)&&Object(u.a)(null===(c=Object(u.e)(b,e.default_access.system_user_role_id))||void 0===c?void 0:c.role)})}),Object(y.jsx)("td",{className:"px-3 text-center",children:Object(y.jsx)("button",{className:"btn bg-gray-200 group-hover:bg-blue-700 group-hover:text-white focus:outline-none",title:"Manage User Access",onClick:function(){T(e),D(e.user_id)},children:"Manage"})})]},t)}))},pagination:!0,search:!0,thColor:"gray",loading:h})]})}),U&&Object(y.jsxs)("div",{className:"bg-gray-100 h-100",children:[E&&""!==E.type&&Object(y.jsxs)("div",{className:"alert-".concat(E.type," flex flex-row items-center relative mb-4"),children:[Object(y.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:Object(y.jsx)(o.y,{className:"h-5 w-5 text-gray-700 hover:font-bold",title:"Close",onClick:function(){return R({type:"",message:""})}})}),Object(y.jsx)(o.G,{className:"h-10 w-10"}),Object(y.jsxs)("div",{className:"alert-content ml-4",children:[Object(y.jsx)("div",{className:"alert-title font-semibold text-lg",children:"success"===E.type?"Success":"Error"}),Object(y.jsx)("div",{className:"alert-description text-sm",children:E.message})]})]}),Object(y.jsxs)("div",{className:"bg-white border-b border-t px-4 py-2 flex flex-col md:flex-row items-center gap-x-14",children:[n.find((function(e){return e.user_id===M}))?Object(y.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start items-center w-full gap-3",children:[Object(y.jsx)("img",{src:"pic"!==n.find((function(e){return e.user_id===M})).user_info.photo?n.find((function(e){return e.user_id===M})).user_info.photo:m,alt:"",className:"rounded-full w-32 h-32"}),Object(y.jsxs)("div",{className:"flex flex-col gap-1 items-start w-full",children:[Object(y.jsx)("span",{className:"text-2xl font-semibold",children:n.find((function(e){return e.user_id===M})).user_info.fname+" "+n.find((function(e){return e.user_id===M})).user_info.lname}),Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)(o.bb,{className:"w-5 h-5"}),Object(y.jsx)("span",{className:"text-lg font-medium",children:n.find((function(e){return e.user_id===M})).default_access&&Object(u.e)(b,n.find((function(e){return e.user_id===M})).default_access.system_user_role_id).role})]}),Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)("span",{className:"text-gray-500",children:"Level:"}),Object(y.jsx)("span",{className:"text-base font-medium",children:n.find((function(e){return e.user_id===M})).default_access&&Object(u.e)(b,n.find((function(e){return e.user_id===M})).default_access.system_user_role_id).district_required?"District":n.find((function(e){return e.user_id===M})).default_access&&Object(u.e)(b,n.find((function(e){return e.user_id===M})).default_access.system_user_role_id).school_required?"School":n.find((function(e){return e.user_id===M})).default_access&&Object(u.e)(b,n.find((function(e){return e.user_id===M})).default_access.system_user_role_id).room_required?"Room":n.find((function(e){return e.user_id===M})).default_access&&Object(u.e)(b,n.find((function(e){return e.user_id===M})).default_access.system_user_role_id).education_institution_required?"Institute":"-"})]}),n.find((function(e){return e.user_id===M})).default_access&&Object(u.e)(b,n.find((function(e){return e.user_id===M})).default_access.system_user_role_id).education_institution_required?Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)("span",{className:"text-gray-500",children:"Institute:"}),Object(y.jsx)("span",{className:"text-base font-medium",children:n.find((function(e){return e.user_id===M})).default_access&&p.education_categories&&Object(u.c)(p.education_categories,n.find((function(e){return e.user_id===M})).default_access.education_institution_id)?Object(u.c)(p.education_categories,n.find((function(e){return e.user_id===M})).default_access.education_institution_id).education_category_title:"Unknown Institute"})]}):n.find((function(e){return e.user_id===M})).default_access&&Object(u.e)(b,n.find((function(e){return e.user_id===M})).default_access.system_user_role_id).district_required?Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)("span",{className:"text-gray-500",children:"District:"}),Object(y.jsx)("span",{className:"text-base font-medium",children:n.find((function(e){return e.user_id===M})).default_access&&x&&x.filter((function(e){var t;return e.district_id===(null===(t=n.find((function(e){return e.user_id===M})).default_access)||void 0===t?void 0:t.district_id)}))[0].district_name})]}):n.find((function(e){return e.user_id===M})).default_access&&Object(u.e)(b,n.find((function(e){return e.user_id===M})).default_access.system_user_role_id).school_required?Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)("span",{className:"text-gray-500",children:"School:"}),Object(y.jsx)("span",{className:"text-base font-medium",children:Z&&Z.find((function(e){var t;return e._id===(null===(t=n.find((function(e){return e.user_id===M})).default_access)||void 0===t?void 0:t.school_id)}))?Z.find((function(e){var t;return e._id===(null===(t=n.find((function(e){return e.user_id===M})).default_access)||void 0===t?void 0:t.school_id)})).school_name:"Unknown school"})]}):n.find((function(e){return e.user_id===M})).default_access&&Object(u.e)(b,n.find((function(e){return e.user_id===M})).default_access.system_user_role_id).room_required&&Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)(o.ab,{className:"text-gray-500"}),ne&&Object(y.jsx)("span",{className:"text-base font-medium",children:(null===(t=ne.find((function(e){var t;return e.room_id===(null===(t=n.find((function(e){return e.user_id===M})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===t?void 0:t.district_name)+" - "+(null===(s=ne.find((function(e){var t;return e.room_id===(null===(t=n.find((function(e){return e.user_id===M})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===s?void 0:s.center_name)+" - Room "+(null===(c=ne.find((function(e){var t;return e.room_id===(null===(t=n.find((function(e){return e.user_id===M})).default_access)||void 0===t?void 0:t.room_id)})))||void 0===c?void 0:c.room_name)})]})]})]},n.find((function(e){return e.user_id===M})).user_id):Object(y.jsx)(k.b,{theme:k.a.Dark,value:"User info not found"}),n.find((function(e){return e.user_id===M}))&&Object(y.jsxs)("div",{className:"flex flex-col w-full",children:[Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)("span",{className:"text-gray-500",children:"NID:"}),Object(y.jsx)("span",{className:"text-base font-medium",children:n.find((function(e){return e.user_id===M})).n_id})]}),Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)("span",{className:"text-gray-500",children:"Email:"}),Object(y.jsx)("span",{className:"text-base font-medium",children:n.find((function(e){return e.user_id===M})).email})]}),Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)("span",{className:"text-gray-500",children:"Phone:"}),Object(y.jsx)("span",{className:"text-base font-medium",children:n.find((function(e){return e.user_id===M})).phone_number})]}),Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)("span",{className:"text-gray-500",children:"Status:"}),Object(y.jsx)("span",{className:"text-base font-medium",children:!1===n.find((function(e){return e.user_id===M})).is_active?"Blocked":"Active"})]}),Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[n.find((function(e){return e.user_id===M})).custome_access&&Object(y.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-50 inline-flex items-center rounded ".concat(V&&"RESET"===V?"cursor-wait bg-gray-400":"bg-gray-600"),onClick:function(){return xe(n.find((function(e){return e.user_id===M})).user_id)},disabled:G,children:[Object(y.jsx)(o.bb,{className:"w-4 h-4 fill-current"}),Object(y.jsx)("span",{children:V&&"RESET"===V?"Reseting...":"Reset Access"})]}),!A&&Object(y.jsxs)("button",{className:"bg-yellow-300 hover:bg-yellow-400 px-2 py-1 font-semibold text-black inline-flex items-center rounded",onClick:function(){return L(!0)},children:[Object(y.jsx)(o.bb,{className:"w-4 h-4 fill-current"}),Object(y.jsx)("span",{children:"Change Role"})]}),n.find((function(e){return e.user_id===M})).is_active?Object(y.jsxs)("button",{className:"px-2 py-1 font-semibold hidden text-gray-100 inline-flex items-center rounded ".concat(V&&"STATUS"===V?"cursor-wait bg-red-500":"bg-red-700"),onClick:function(){return!G&&U&&je(n.find((function(e){return e.user_id===M})).user_id)},disabled:G,children:[Object(y.jsx)(o.bb,{className:"w-4 h-4 fill-current"}),Object(y.jsx)("span",{children:V&&"RESET"===V?"Loading...":"Activate"})]}):Object(y.jsxs)("button",{className:"px-2 py-1 font-semibold hidden text-gray-100 inline-flex items-center rounded ".concat(V&&"STATUS"===V?"cursor-wait bg-yellow-500":"bg-yellow-700"),onClick:function(){return!G&&U&&je(n.find((function(e){return e.user_id===M})).user_id)},disabled:G,children:[Object(y.jsx)(o.bb,{className:"w-4 h-4 fill-current"}),Object(y.jsx)("span",{children:V&&"RESET"===V?"Loading...":"Re-Activate"})]})]})]},n.find((function(e){return e.user_id===M})).user_id)]}),U&&A?Object(y.jsx)(w,{userInfo:U,roleList:b,district:x,setFeedBack:R,schoolList:Z,roomList:ee,setChangeRole:L}):Object(y.jsx)(j.UserAccess,{userInfo:n.filter((function(e){return e.user_id===M}))[0],manageUserId:M,feedBack:E,setFeedBack:R,setUserAccess:oe,userAccess:le,setCurrentAccess:me,currentAccess:be})]})]})}))},814:function(e,t,s){"use strict";s.r(t),s.d(t,"UserManagment",(function(){return v}));var c,n=s(5),r=s.n(n),a=s(7),i=s(23),l=s(4),o=s(8),d=s(17),u=s(190),b=s(88),m=s(284),j=(s(196),s(9)),x=s.n(j),f=s(10),h=s(192),p=s(82),g=s(3),O=s(50),_=s(1);!function(e){e.All_Users="All Users",e.Active_Users="Active Users",e.Blocked_Users="Blocked Users"}(c||(c={}));var v=Object(d.b)((function(e){var t=e.users,s=e.access,c=e.schoolLevels;return{userList:t,accessRoles:s.accessRoles,schoolLevels:c}}),{fetchUserAccess:u.d,fetchAccessRoles:b.b,loadEducationCategories:g.Ob})((function(e){var t=e.userList,s=e.accessRoles,n=e.schoolLevels,d=e.loadEducationCategories,u=e.fetchUserAccess,b=e.fetchAccessRoles,j=Object(l.useState)({allUser:0,activeUser:0,blockedUser:0}),g=Object(i.a)(j,2),v=g[0],y=g[1],N=c.All_Users,w=Object(l.useState)(),k=Object(i.a)(w,2),S=k[0],C=k[1],U=Object(l.useState)(),T=Object(i.a)(U,2),A=T[0],L=T[1],E=Object(l.useState)(),R=Object(i.a)(E,2),q=R[0],B=R[1],I=Object(l.useState)(!0),M=Object(i.a)(I,2),D=M[0],P=M[1],F=Object(l.useState)("all"),G=Object(i.a)(F,2),H=G[0],Y=G[1],z=Object(l.useState)(!1),V=Object(i.a)(z,2),K=(V[0],V[1],Object(l.useState)(!0)),J=Object(i.a)(K,2),W=J[0],Z=J[1],Q=Object(l.useState)(!0),X=Object(i.a)(Q,2),$=X[0],ee=X[1],te=Object(l.useState)(null),se=Object(i.a)(te,2),ce=se[0],ne=se[1],re=Object(l.useState)(!1),ae=Object(i.a)(re,2),ie=ae[0],le=ae[1],oe=Object(l.useState)({type:"",message:""}),de=Object(i.a)(oe,2),ue=de[0],be=de[1];Object(l.useEffect)((function(){null!==n.education_categories&&0!==n.education_categories.length||d((function(e){console.log({loadEducationCategories:e})})),s.length||b(),D&&!t.length?(u(),P(!1)):P(!1),A||xe(),s.length&&t.length&&(console.log({userList:t}),B(t),y({allUser:t.length,activeUser:t.filter((function(e){return!e.is_active})).length,blockedUser:t.filter((function(e){return e.is_active})).length}),Z(!1))}),[s.length,A,b,u,d,D,n.education_categories,t]);var me,je,xe=function(){var e=Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(f.a.APPLICATION,"/district"));case 3:t=e.sent,L(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log({code_error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return!0===W?Object(_.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading users..."}):Object(_.jsxs)(l.Fragment,{children:[!1,!ce&&Object(_.jsxs)("div",{className:"w-full my-5 px-1",children:[!1,Object(_.jsxs)("div",{className:"flex flex-row items-center",children:[Object(_.jsx)(o.Fb,{className:"text-blue-700 w-24 h-24"}),Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("h1",{className:"text-3xl font-semibold",children:"System Users Management"}),Object(_.jsxs)("div",{className:"flex items-center gap-1",children:[Object(_.jsx)("div",{className:"flex flex-row items-center mx-2 md:gap-3 gap-2",children:Object(_.jsxs)("div",{className:"flex items-center mt-1 gap-1",children:[Object(_.jsx)("span",{className:"text-gray-600 text-base italic",children:"All User(s):"}),Object(_.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:v.allUser})]})}),"all"!==H&&s.length>0&&H.length>0&&q&&Object(_.jsxs)("div",{className:"flex items-center mt-1",children:[Object(_.jsx)(p.d,{}),Object(_.jsxs)("span",{className:"text-gray-600 text-base italic mr-1",children:[(me=s,je=H,me.filter((function(e){return e.system_user_role_id===je}))[0]).role," (s)",":"]}),Object(_.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:q.length})]})]})]})]})]}),S&&""!==S.type&&Object(_.jsxs)("div",{className:"alert-".concat(S.type," flex flex-row items-center relative my-2"),children:[Object(_.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:Object(_.jsx)(o.y,{className:"h-5 w-5 text-gray-700 hover:font-bold",title:"Close",onClick:function(){return C({type:"",message:""})}})}),Object(_.jsx)(o.G,{className:"h-10 w-10"}),Object(_.jsxs)("div",{className:"alert-content ml-4",children:[Object(_.jsx)("div",{className:"alert-title font-semibold text-lg",children:"success"===S.type?"Success":"Error"}),Object(_.jsx)("div",{className:"alert-description text-sm",children:S.message})]})]}),Object(_.jsxs)("div",{className:"bg-white shadow rounded border border-gray-2 p-2 w-full overflow-x-auto ".concat(ce?"mt-3":""),children:[!ce&&Object(_.jsxs)("section",{children:[Object(_.jsxs)("div",{className:"my-2 font-medium text-xl flex items-center gap-2",children:[Object(_.jsx)(h.e,{}),"Filter by role"]}),Object(_.jsx)("div",{className:"flex items-center md:flex-row flex-col gap-2",children:Object(_.jsx)("div",{className:"flex flex-col mb-3 md:w-1/4 w-full",children:Object(_.jsxs)("select",{className:"w-full bg-white text-grey-darker border-2 border-gray-500 rounded h-10 px-2 focus:outline-none focus:bg-gray-100 animate__animated animate__fadeIn ".concat($&&"cursor-wait"),onChange:function(e){return function(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===s?(Y("all"),B(t),y({allUser:t.length,activeUser:t.filter((function(e){return e.is_active})).length,blockedUser:t.filter((function(e){return!e.is_active})).length})):(Y(s),e=t.filter((function(e){return e.default_access&&e.default_access.system_user_role_id===s})),B(e),y({allUser:t.length,activeUser:e.filter((function(e){return e.is_active})).length,blockedUser:e.filter((function(e){return!e.is_active})).length}))}(e.target.value)},disabled:$,children:[Object(_.jsx)("option",{value:"all",children:"All roles"}),s.length>0?s.map((function(e,t){return Object(_.jsx)("option",{value:e.system_user_role_id,children:e.role},t+e.system_user_role_id)})):Object(_.jsx)("option",{value:"",disabled:!0,children:"No Role"})]})})})]}),ce&&Object(_.jsxs)("div",{className:"flex items-center gap-3 mb-2 text-gray-600",children:[Object(_.jsx)("button",{className:"inline-block p-3 transition rounded-full bg-gray-400 ripple hover:bg-gray-600 focus:outline-none",onClick:function(){ne(null),le(!1),be({message:"",type:""})},children:Object(_.jsx)(O.f,{className:"w-6 h-6 text-gray-50"})}),Object(_.jsxs)("div",{className:"flex flex-col hidden",children:[Object(_.jsx)("span",{className:"text-gray-800 font-semibold text-2xl",children:ce.user_info.fname+" "+ce.user_info.lname}),Object(_.jsx)("span",{className:"text-gray-600 font-normal text-sm",children:ce.email})]})]}),N===c.Blocked_Users&&A&&q?Object(_.jsx)(m.b,{users:q.filter((function(e){return!e.is_active})),roleList:s,userTypes:"blocked",district:A,loadingUser:$,setLoadingUser:ee,manageUser:ce,setManageUser:ne,changeRole:ie,setChangeRole:le,feedBack:ue,setFeedBack:be}):N===c.Active_Users&&A&&q?Object(_.jsx)(m.b,{users:q.filter((function(e){return e.is_active})),roleList:s,userTypes:"active",district:A,loadingUser:$,setLoadingUser:ee,manageUser:ce,setManageUser:ne,changeRole:ie,setChangeRole:le,feedBack:ue,setFeedBack:be}):A&&q?Object(_.jsx)(m.b,{users:q,roleList:s,userTypes:"all",district:A,loadingUser:$,setLoadingUser:ee,manageUser:ce,setManageUser:ne,changeRole:ie,setChangeRole:le,feedBack:ue,setFeedBack:be}):Object(_.jsx)("div",{})]})]})}))}}]);
//# sourceMappingURL=42.1b88cf41.chunk.js.map