{"version":3,"sources":["components/Table/Table.tsx","components/Navigation/SideNavigation.tsx","containers/AccessManagement/AccessRole.tsx","containers/AccessManagement/StepOne.tsx","containers/AccessManagement/StepTwo.tsx","containers/AccessManagement/index.tsx"],"names":["Table","table","tr","rows","columns","hideColumns","pagination","search","tableSize","tableClass","tableId","rounded","searchBG","thColor","loading","length","result","characters","charactersLength","i","charAt","Math","floor","random","FC_makeID","useState","totalItems","setTotalItems","totalPages","setTotalPages","currentPage","setCurrentPage","pages","setPages","pageSize","setPageSize","startIndex","setStartIndex","endIndex","setEndIndex","useEffect","tablePagination","document","getElementById","getElementsByTagName","ceil","min","_pages","Array","from","keys","map","style","display","className","type","placeholder","onChange","e","data","filterType","filter","td","cols","toLowerCase","textContent","innerText","indexOf","filterTable","target","value","disabled","Number","id","column","index","padding","alignText","isSortAllowed","onClick","switching","x","y","shouldSwitch","colIndex","dir","switchcount","innerHTML","parentNode","insertBefore","sortThisColumn","columnTitle","aria-label","page","pageIndex","_SideNavigation","props","componentDidMount","PageHasSubNav","componentWillUnmount","state","this","auth","isAuthenticated","navActive","system","navigation","children","React","Component","SideNavigation","connect","NavToogle","MainItem","title","icon","MdBrightness1","active","count","IconDefined","SubItemContainer","SubItem","ModalStateRole","StepOne","handleSubmit","setRoleTitle","roleTitle","roleRequirement","setRequirement","error","setError","onSubmit","htmlFor","element","msg","name","checked","StepTwo","setAccessToRole","accessToRole","loadingRequest","updateFieldChanged","newArr","permitted","create","view","update","delete","console","log","access","task","TabTypes","createAccessRoles","updateAccessRoles","filterStatus","roleId","setRoleId","stepOne","stepTwo","stepsStatus","setStepStatus","accessTasks","setAccessTasks","Close_Modal","openModal","setOpenModal","feedBack","setFeedBack","setLoadingRequest","viewRole","setViewRole","roleSelected","setRoleSelected","whichLevel","row","district_required","room_required","school_required","education_institution_required","CustomizeAccess","userAccess","oneAccess","newArray","forEach","find","item","key","push","a","axios","get","API","AUTH","res","role_error","message","errorToText","loadAccessTasks","cleanAndCloseModal","Update_Role_Access","handleSteps","step","preventDefault","some","Add_Role_Access","post","role","status","patch","system_user_role_id","loadCurrentRoles","accessRoles","colSpan","Modal","backDrop","theme","Themes","default","close","displayClose","backDropClose","widthSizeClass","ModalSize","extraLarge","body","footer","undefined","large","role_id","changeViewRole","roleDetails","AccessManagement","fetchAccessRoles","allRole","activeRole","blockedRole","labelCounts","setLabelCounts","All_Roles","roleStatus","setRoleStatus","setLoading","Active_Roles","Blocked_Roles","toTwoDigit"],"mappings":"mMAiUeA,IAxNqB,SAAC,GAa9B,IAGDC,EAAoBC,EAfxBC,EAYI,EAZJA,KACAC,EAWI,EAXJA,QAWI,IAVJC,mBAUI,aATJC,kBASI,aARJC,cAQI,aAPJC,iBAOI,MAPQ,SAOR,EANJC,EAMI,EANJA,WAMI,IALJC,eAKI,MALM,UAKN,MAJJC,eAII,aAHJC,gBAGI,MAHO,cAGP,MAFJC,eAEI,MAFM,OAEN,MADJC,eACI,SAEJJ,EAAsB,YAAZA,EApHM,WAKhB,IALiD,IAAhCK,EAA+B,uDAAd,EAC9BC,EAAiB,GACjBC,EACF,iEACEC,EAAmBD,EAAWF,OACzBI,EAAY,EAAGA,EAAIJ,EAAQI,IAClCH,GAAUC,EAAWG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,IAEzD,OAAOF,EA4G2BQ,GAAcd,EAEhD,MAAoCe,mBAAiB,GAArD,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAoCF,mBAAiB,GAArD,mBAAOG,EAAP,KAAmBC,EAAnB,KACA,EAAsCJ,mBAAiB,GAAvD,mBAAOK,EAAP,KAAoBC,EAApB,KACA,EAA0BN,qBAA1B,mBAAOO,EAAP,KAAcC,EAAd,KACA,EAAgCR,mBAAiB,IAAjD,mBAAOS,EAAP,KAAiBC,EAAjB,KACA,EAAoCV,mBAAiB,GAArD,mBAAOW,EAAP,KAAmBC,EAAnB,KACA,EAAgCZ,mBAAiB,GAAjD,oBAAOa,GAAP,MAAiBC,GAAjB,MAEAC,qBAAU,WACRlC,GAAcmC,QAGhB,IAyBMA,GAAkB,WACtBxC,EAAQyC,SAASC,eAAejC,GAChCR,EAAKD,EAAM2C,qBAAqB,MAChCjB,EAAczB,EAAGa,QACjBc,EAAcR,KAAKwB,KAAKnB,EAAaQ,IAGrCG,GAAeP,EAAc,GAAKI,GAClCK,GAAYlB,KAAKyB,IAAIV,EAAaF,EAAW,EAAGR,EAAa,IAM7D,IAAIqB,EAASC,MAAMC,KAAKD,MAAMpB,EAAa,EAtD3B,GAsD0CsB,QAAQC,KAChE,SAAChC,GAAD,OAvDc,EAuDKA,KAEhBa,GAASe,EAAOhC,SAAWiB,EAAMjB,QACpCkB,EAASc,GAGX,IAAK,IAAI5B,EAAY,EAAGA,EAAIjB,EAAGa,OAAQI,IAEnCjB,EAAGiB,GAAGiC,MAAMC,QADVlC,GAAKiB,GAAcjB,GAAKmB,GACJ,GAEA,QAK5B,OACE,sBAAKgB,UAAS,UAAK9C,GAAnB,UAEGD,GACC,qBAAK+C,UAAS,UAAK1C,EAAL,gBAAd,SACGL,GACC,sBAAK+C,UAAU,yEAAf,UACE,cAAC,KAAD,CAAUA,UAAU,uCACpB,uBACEC,KAAK,SACLC,YAAY,SACZC,SAAU,SAACC,GAAD,OAlEJ,SAClBC,EACAC,GAEA,IAAIC,EAAQ3D,EAAI4D,EAAI3D,EAAc4D,EAKlC,IAJmB,UAAfH,GAAmC,QAATD,IAAgBA,EAAO,IACrDE,EAASF,EAAKK,cAEd9D,GADAD,EAAQyC,SAASC,eAAejC,IACrBkC,qBAAqB,MAC3BzC,EAAO,EAAGA,EAAOD,EAAGa,OAAQZ,IAC/B,IAAK4D,EAAO,EAAGA,EAAO3D,EAAQW,OAAQgD,IAEpC,GADAD,EAAK5D,EAAGC,GAAMyC,qBAAqB,MAAMmB,GACjC,CAEN,IADWD,EAAGG,aAAeH,EAAGI,WACnBF,cAAcG,QAAQN,IAAW,EAAG,CAC/C3D,EAAGC,GAAMiD,MAAMC,QAAU,GACzB,MAEAnD,EAAGC,GAAMiD,MAAMC,QAAU,QAgDJe,CAAYV,EAAEW,OAAOC,QACtChB,UAAU,mEACViB,SAAUzD,IAGXR,GACC,qBAAKgD,UAAU,SAAf,SACE,yBACEA,UAAU,qDACVG,SAAU,SAACC,GAAD,OAAOvB,EAAYqC,OAAOd,EAAEW,OAAOC,SAC7CC,SAAUzD,EAHZ,UAKE,wBAAQwD,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAQd,wBACEhB,UACE7C,GAAU,wBAGJE,GAAW,gBAHP,2BAMZ8D,GAAI/D,EARN,WAUIL,GACA,uBAAOiD,UAAU,wEAAjB,SACE,oBACEA,UAAS,qCAAgCzC,EAAhC,kCAAiEA,EAAjE,qBAAqFA,EAArF,QADX,SAGGT,EAAQ+C,KAAI,SAACuB,EAAQC,GAAT,OACX,oBAEErB,UAAS,UAAKoB,EAAOE,QAAZ,iBACPF,EAAOG,UADA,sBAEKH,EAAOI,eAAiB,kBACtCC,QAAS,kBACPL,EAAOI,eAtOG,SAC5BpE,GAGI,IACAT,EACFE,EACA6E,EACA7D,EACA8D,EACAC,EACAC,EATFC,EAEG,uDAFgB,EACnBC,EACG,uDADmB,MASpBC,EAAc,EAKhB,GAHAN,GAAY,EADZ/E,EAAQyC,SAASC,eAAejC,GAK9B,KAAOsE,GAAW,CAMhB,IAJAA,GAAY,EACZ7E,EAAOF,EAAME,KAGRgB,EAAI,EAAGA,EAAIhB,EAAKY,OAAS,EAAGI,IAS/B,GAPAgE,GAAe,EAGfF,EAAI9E,EAAKgB,GAAGyB,qBAAqB,MAAMwC,GACvCF,EAAI/E,EAAKgB,EAAI,GAAGyB,qBAAqB,MAAMwC,GAG/B,QAARC,GAAiBJ,GAAKC,GACxB,GAAID,EAAEM,UAAUvB,cAAgBkB,EAAEK,UAAUvB,cAAe,CAEzDmB,GAAe,EACf,YAEG,GAAY,SAARE,GAAkBJ,GAAKC,GAC5BD,EAAEM,UAAUvB,cAAgBkB,EAAEK,UAAUvB,cAAe,CAEzDmB,GAAe,EACf,MAIFA,GAAgBhF,EAAKgB,GAAGqE,YAG1BrF,EAAKgB,GAAGqE,WAAYC,aAAatF,EAAKgB,EAAI,GAAIhB,EAAKgB,IACnD6D,GAAY,EAEZM,KAIoB,IAAhBA,GAA6B,QAARD,IACvBA,EAAM,OACNL,GAAY,IA2KsBU,CAAehF,EAASiE,IANpD,SASE,sBAAKrB,UAAU,0BAAf,UACGoB,EAAOiB,YACPjB,EAAOI,eAAiB,cAAC,IAAD,QAVtBH,UAiBf,uBAAOF,GAAG,aAAanB,UAAU,gCAAjC,SACGnD,SAGJG,GACC,sBAAKgD,UAAU,sEAAf,UACE,8BACE,uBAAMA,UAAU,mCAAhB,0BACgBpB,EADhB,OAC8BR,EAAa,EAD3C,gBAIF,8BACE,sBAAK4B,UAAU,wBAAf,UACE,8BACE,wBACEC,KAAK,SACLD,UAAS,mHACS,IAAhBxB,GAAqB,YAEvB8D,aAAW,WACXrB,SAA0B,IAAhBzC,GAAqBhB,EAC/BiE,QAAS,kBAAMhD,EAAeD,EAAc,IAP9C,SASE,cAAC,KAAD,CAAkBwB,UAAU,gBAGhC,8BACGtB,GACCA,EAAMmB,KAAI,SAAC0C,EAAMC,GAAP,OACR,wBAEExC,UAAS,6GACPuC,IAAS/D,EACL,WACA,8BAENyC,SAAUsB,IAAS/D,GAAehB,EAClCiE,QAAS,kBAAMhD,EAAe8D,IARhC,SAUGA,GATIC,QAab,8BACE,wBACEvC,KAAK,SACLD,UAAS,6HACPxB,IAAgBF,GAAc,YAEhCgE,aAAW,OACXrB,SAAUzC,IAAgBF,GAAcd,EACxCiE,QAAS,kBAAMhD,EAAeD,EAAc,IAP9C,SASE,cAAC,KAAD,CAAgBwB,UAAU,6B,2PClStCyC,E,kDACJ,WAAYC,GAAkB,IAAD,8BAC3B,cAAMA,IAORC,kBAAoB,kBAAM,EAAKD,MAAME,eAAc,IARtB,EAS7BC,qBAAuB,kBAAM,EAAKH,MAAME,eAAc,IANpD,EAAKE,MAAQ,CACXtF,SAAS,GAJgB,E,0CAW7B,WAGE,IAAwB,IAFAuF,KAAKL,MAAMM,KAAKC,gBAGtC,OAAO,KAGT,IAAMC,EAAYH,KAAKL,MAAMS,OAAOC,WACpC,OACE,qBACEpD,UAAS,2DACO,IAAdkD,EAAqB,sBAAwB,uBADtC,kGADX,SAKGH,KAAKL,MAAMW,e,GA1BUC,IAAMC,WAuCvBC,EAAiBC,aAPN,SAAC,GAIvB,MAAO,CAAET,KADuC,EAFhDA,KAGqBG,OAD2B,EADhDA,UAKqD,CACrDO,eACAd,oBAF4Ba,CAG3BhB,GAwCUkB,EAA2C,SAAC,GAKpC,IAAD,IAJlBC,aAIkB,MAJV,GAIU,MAHlBC,YAGkB,MAHXC,IAGW,MAFlBC,cAEkB,aADlBC,aACkB,MADV,EACU,EACZC,EAAcJ,EACpB,OACE,0BACE7D,UAAS,WACI,IAAX+D,EACI,mCACA,4BAHG,+HADX,UAOE,0BAAS/D,UAAU,SAAnB,UACE,cAACiE,EAAD,CAAajE,UAAU,8BACvB,+BAAO4D,OAGRI,EAAQ,EACP,sBAAMhE,UAAU,0DAAhB,SACGgE,IAED,SAgBGE,EAA2D,SAAC,GAEpD,IADnBb,EACkB,EADlBA,SAEA,OACE,qBAAKrD,UAAU,sFAAf,SACGqD,KAoBMc,EAAyC,SAAC,GAKlC,IAAD,IAJlBP,aAIkB,MAJV,GAIU,MAHlBC,YAGkB,MAHXC,IAGW,MAFlBC,cAEkB,aADlBC,aACkB,MADV,EACU,EACZC,EAAcJ,EAEpB,OACE,sBACE7D,UAAS,6DACI,IAAX+D,EAAkB,mCAAqC,iBADhD,oFADX,UAKE,cAACE,EAAD,CACEjE,UAAS,uCACI,IAAX+D,EAAkB,aAAe,MAGrC,sBACE/D,UAAS,6BAAkC,IAAX+D,EAAkB,aAAe,IADnE,SAGGH,IAEFI,GAAS,EACR,sBACEhE,UAAS,6BAAkC,IAAX+D,EAAkB,aAAe,IADnE,SAGGC,IAED,U,6FC5KEI,E,+FCqIGC,EAxIqB,SAAC,GAQ9B,IAPLC,EAOI,EAPJA,aACAC,EAMI,EANJA,aACAC,EAKI,EALJA,UACAC,EAII,EAJJA,gBACAC,EAGI,EAHJA,eACAC,EAEI,EAFJA,MACAC,EACI,EADJA,SAEA,OACE,8BACE,uBAAM5E,UAAU,mBAAmB6E,SAAU,SAACzE,GAAD,OAAOkE,EAAalE,EAAG,IAApE,UACE,oBAAIJ,UAAU,+CAAd,+BAGA,qBAAKA,UAAU,qBAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,uBACE8E,QAAQ,aACR9E,UAAU,qEAFZ,kBAMA,uBACEC,KAAK,OACLD,UAAS,2DACW,eAAlB2E,EAAMI,QACF,iBACA,mBAEN/D,MAAOwD,EACPtE,YAAY,aACZC,SAAU,SAACC,GACTmE,EAAanE,EAAEW,OAAOC,OACtB4D,EAAS,CACPG,QAAS,GACTC,IAAK,QAKX,mBACEhF,UAAS,gDACW,eAAlB2E,EAAMI,SAA4B,UAFtC,SAKGJ,EAAMK,WAKb,sBAAKhF,UAAU,qBAAf,UACE,0CACA,sBAAMA,UAAU,wBAAhB,0CAGA,sBAAKA,UAAU,gFAAf,UACE,wBAAOA,UAAU,gCAAjB,UACE,uBACEC,KAAK,QACLgF,KAAK,QACLjF,UAAU,mCACVG,SAAU,kBAAMuE,EAAe,cAC/BQ,QAA6B,cAApBT,IAEX,sBAAMzE,UAAU,qBAAhB,yBAEF,wBAAOA,UAAU,gCAAjB,UACE,uBACEC,KAAK,QACLgF,KAAK,QACLjF,UAAU,mCACVG,SAAU,kBAAMuE,EAAe,aAC/BQ,QAA6B,aAApBT,IAEX,sBAAMzE,UAAU,qBAAhB,yBAEF,wBAAOA,UAAU,gCAAjB,UACE,uBACEC,KAAK,QACLgF,KAAK,QACLjF,UAAU,mCACVG,SAAU,kBAAMuE,EAAe,WAC/BQ,QAA6B,WAApBT,IAEX,sBAAMzE,UAAU,qBAAhB,uBAEF,wBAAOA,UAAU,gCAAjB,UACE,uBACEC,KAAK,QACLgF,KAAK,QACLjF,UAAU,mCACVG,SAAU,kBAAMuE,EAAe,SAC/BQ,QAA6B,SAApBT,IAEX,sBAAMzE,UAAU,qBAAhB,qBAEF,wBAAOA,UAAU,gCAAjB,UACE,uBACEC,KAAK,QACLgF,KAAK,QACLjF,UAAU,mCACVG,SAAU,WACRuE,EAAe,QACfE,EAAS,CACPG,QAAS,GACTC,IAAK,MAGTE,QAA6B,SAApBT,IAEX,sBAAMzE,UAAU,qBAAhB,qCAGJ,mBACEA,UAAS,gDACW,eAAlB2E,EAAMI,SAA4B,UAFtC,SAKGJ,EAAMK,SAGX,qBAAKhF,UAAU,8BAAf,SACE,wBACEA,UAAU,iEACVC,KAAK,SAFP,qC,iBC0EKkF,EA7LqB,SAAC,GAQ9B,IAPLb,EAOI,EAPJA,aACAc,EAMI,EANJA,gBACAC,EAKI,EALJA,aACAb,EAII,EAJJA,UACAG,EAGI,EAHJA,MACAC,EAEI,EAFJA,SACAU,EACI,EADJA,eAEMC,EAAqB,SACzBlE,EACAN,EACAC,GAEA,IAAIwE,EAA6B,YAAOH,GACxC,OAAQtE,GACN,IAAK,SACHyE,EAAOnE,GAAOoE,UAAUC,OAAS1E,EACjC,MACF,IAAK,OACHwE,EAAOnE,GAAOoE,UAAUE,KAAO3E,EAC/B,MACF,IAAK,SACHwE,EAAOnE,GAAOoE,UAAUG,OAAS5E,EACjC,MACF,QACEwE,EAAOnE,GAAOoE,UAAUI,OAAS7E,EAIrCoE,EAAgBI,IA2DlB,OACE,8BACE,sBAAMxF,UAAU,mBAAmB6E,SAAU,SAACzE,GAAD,OAAOkE,EAAalE,EAAG,IAApE,SACE,sBAAKJ,UAAU,OAAf,UACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,qCAAd,yCAGA,sBAAKA,UAAU,8CAAf,UACE,cAAC,IAAD,CAAgBA,UAAU,YAC1B,oBAAIA,UAAU,kDAAd,SACGwE,UAIP,qBAAKxE,UAAU,eAAf,SACE,sBAAKA,UAAU,qCAAf,UACE,sBAAKA,UAAU,iCAAf,UACE,cAAC,IAAD,CAAWA,UAAU,4BACrB,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,wBAAd,oBACA,sBAAMA,UAAU,gCAAhB,wEAMJ,sBAAKA,UAAU,iCAAf,UACE,cAAC,KAAD,CAAgBA,UAAU,4BAC1B,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,wBAAd,kBACA,sBAAMA,UAAU,gCAAhB,sEAMJ,sBAAKA,UAAU,iCAAf,UACE,cAAC,IAAD,CAAQA,UAAU,4BAClB,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,wBAAd,oBACA,sBAAMA,UAAU,gCAAhB,wEAMJ,sBAAKA,UAAU,iCAAf,UACE,cAAC,IAAD,CAAUA,UAAU,4BACpB,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,wBAAd,oBACA,sBAAMA,UAAU,gCAAhB,6EAQR,mBACEA,UAAS,kDACW,gBAAlB2E,EAAMI,SAA6B,UAFvC,SAKGJ,EAAMK,MAGT,cAACtI,EAAA,EAAD,CACEI,QAAS,CACP,CACEuF,YAAa,cACbd,UAAW,OACXD,QAAS,OAEX,CAAEe,YAAa,SAAUd,UAAW,QACpC,CAAEc,YAAa,OAAQd,UAAW,QAClC,CAAEc,YAAa,SAAUd,UAAW,QACpC,CAAEc,YAAa,SAAUd,UAAW,SAEtC1E,KAxIQ,WAEhB,OADAiJ,QAAQC,IAAI,CAAEV,iBACPA,EAAaxF,KAAI,SAACmG,EAAQ3E,GAAT,OACtB,qBAEErB,UAAU,yDAFZ,UAIE,oBAAIA,UAAU,qDAAd,SACGgG,EAAOC,OAEV,oBAAIjG,UAAU,YAAd,SACE,uBACEC,KAAK,WACLD,UAAU,sCACVG,SAAU,WACRoF,EAAmBlE,EAAO,UAAW2E,EAAOP,UAAUC,QACtDd,EAAS,CAAEG,QAAS,GAAIC,IAAK,MAE/BE,QAASc,EAAOP,UAAUC,WAG9B,oBAAI1F,UAAU,YAAd,SACE,uBACEC,KAAK,WACLD,UAAU,sCACVG,SAAU,WACRoF,EAAmBlE,EAAO,QAAS2E,EAAOP,UAAUE,MACpDf,EAAS,CAAEG,QAAS,GAAIC,IAAK,MAE/BE,QAASc,EAAOP,UAAUE,SAG9B,oBAAI3F,UAAU,YAAd,SACE,uBACEC,KAAK,WACLD,UAAU,sCACVG,SAAU,WACRoF,EAAmBlE,EAAO,UAAW2E,EAAOP,UAAUG,QACtDhB,EAAS,CAAEG,QAAS,GAAIC,IAAK,MAE/BE,QAASc,EAAOP,UAAUG,WAG9B,oBAAI5F,UAAU,YAAd,SACE,uBACEC,KAAK,WACLD,UAAU,sCACVG,SAAU,WACRoF,EAAmBlE,EAAO,UAAW2E,EAAOP,UAAUI,QACtDjB,EAAS,CAAEG,QAAS,GAAIC,IAAK,MAE/BE,QAASc,EAAOP,UAAUI,aA/CzBG,EAAO7E,GAAKE,OAqIbrE,YAAY,EACZC,QAAQ,EACRM,QAAQ,SAGV,qBAAKyC,UAAU,8BAAf,SACE,wBACEA,UAAU,iEACVC,KAAK,SACLgB,SAAUqE,EAHZ,UAKsB,IAAnBA,EAA0B,WAAa,uB,yCFzL1ClB,O,qCAAAA,I,2CAAAA,I,8BAAAA,M,KAaZ,IGzBK8B,EH4uBUzC,eAJS,SAAC,GACvB,MAAO,CAAEuC,OADiE,EAAjDA,UAIa,CACtCG,sBACAC,uBAFa3C,EAntBwB,SAAC,GAKjC,IAJLuC,EAII,EAJJA,OACAG,EAGI,EAHJA,kBACAC,EAEI,EAFJA,kBACAC,EACI,EADJA,aAEA,EAA4BlI,mBAAiB,IAA7C,mBAAOmI,EAAP,KAAeC,EAAf,KACA,EAAkCpI,mBAAiB,IAAnD,mBAAOqG,EAAP,KAAkBD,EAAlB,KACA,EAA0CpG,mBAExC,QAFF,mBAAOsG,EAAP,KAAwBC,EAAxB,KAGA,EAAqCvG,mBAGlC,CAAEqI,SAAS,EAAOC,SAAS,IAH9B,mBAAOC,EAAP,KAAoBC,EAApB,KAIA,EAAwCxI,qBAAxC,mBAAOkH,EAAP,KAAqBD,EAArB,KACA,EAAsCjH,mBACpC,MADF,mBAAOyI,EAAP,KAAoBC,EAApB,KAGA,EAAkC1I,mBAChCiG,EAAe0C,aADjB,mBAAOC,EAAP,KAAkBC,EAAlB,KAGA,EAA0B7I,mBAA2C,CACnE4G,QAAS,GACTC,IAAK,KAFP,mBAAOL,EAAP,KAAcC,EAAd,KAIA,EAAgCzG,qBAAhC,mBAAO8I,GAAP,KAAiBC,GAAjB,KAIA,GAA4C/I,oBAAkB,GAA9D,qBAAOmH,GAAP,MAAuB6B,GAAvB,MACA,GAAgChJ,oBAAkB,GAAlD,qBAAOiJ,GAAP,MAAiBC,GAAjB,MACA,GACElJ,qBADF,qBAAOmJ,GAAP,MAAqBC,GAArB,MAGMC,GAAa,SAACC,GAClB,OAAIA,EAAIC,kBACC,WACED,EAAIE,cACN,OACEF,EAAIG,gBACN,SACEH,EAAII,+BACN,YAEF,QA+KHC,GAAkB,SACtBC,GAEA,IAAKnB,EAAa,MAAO,GACzB,IACIoB,EADAC,EAAkC,GAWtC,OATArB,EAAYsB,SAAQ,SAACnD,EAAS1D,IAC5B2G,EAAYD,EAAWI,MAAK,SAACC,GAAD,OAAUA,EAAKC,MAAQtD,EAAQsD,QAEzDJ,EAASK,KAAKN,GAEdC,EAASK,KAAKvD,MAIXkD,GAGT/I,qBAAU,YACa,uCAAG,8BAAAqJ,EAAA,+EAEFC,IAAMC,IAAN,UAObC,IAAIC,KAPS,mBAFE,QAEdC,EAFc,UAWdvI,EAAOuI,EAAIvI,KAAKR,KAAI,SAACQ,GAAD,MAAW,CACjCc,GAAId,EAAKc,GACT8E,KAAM5F,EAAKuD,MACXyE,IAAKhI,EAAKgI,IACV5C,UAAWpF,EAAKoF,cAElBoB,EAAexG,IAjBG,gDAqBpByF,QAAQC,IAAI,CAAE8C,WAAW,EAAD,KACxB3B,GAAY,CAAEjH,KAAM,SAAU6I,QAASC,YAAY,EAAD,MAtB9B,yDAAH,qDAyBrBC,KACC,IAEH,IAAMC,GAAqB,WACzBtC,EAAc,CAAEH,SAAS,EAAOC,SAAS,IACrCM,IAAc3C,EAAe8E,qBAC/BxE,EAAe,QACfH,EAAa,IACbgC,EAAU,KAGZY,IAAkB,GAClBD,GAAY,CAAEjH,KAAM,GAAI6I,QAAS,KACjClC,GAAexB,EAAgBwB,GAE/BhC,EAAS,CACPG,QAAS,GACTC,IAAK,KAEP+B,IAAc3C,EAAe8E,oBAC3BlC,EAAa5C,EAAe0C,cAG1BqC,GAAc,SAACC,GACnB,GAAa,IAATA,EAAY,CACd,IAAK5E,EAAU/G,OACb,OAAOmH,EAAS,CACdG,QAAS,aACTC,IAAK,2BAIJP,EAAgBhH,QACnBiH,EAAe,QAGjBiC,EAAc,CAAEH,SAAS,EAAMC,SAAS,SAExCE,EAAc,CAAEH,SAAS,EAAOC,SAAS,KAIvCnC,GAAY,uCAAG,WACnBlE,EACAgJ,GAFmB,iBAAAb,EAAA,yDAInBnI,EAAEiJ,iBACFnC,GAAY,CAAEjH,KAAM,GAAI6I,QAAS,KACjClE,EAAS,CACPG,QAAS,GACTC,IAAK,KAEPmC,IAAkB,GACL,IAATiC,EAXe,mBAYZ5E,EAAU/G,OAZE,yCAaRmH,EAAS,CACdG,QAAS,aACTC,IAAK,4BAfQ,OAmBZP,EAAgBhH,QACnBiH,EAAe,QAGjBiC,EAAc,CAAEH,SAAS,EAAMC,SAAS,IAvBvB,UAyBN,IAAT2C,EAzBe,qBA2Bf/D,GACCA,EAAaiE,MACZ,SAAClJ,GAAD,OACyB,IAAvBA,EAAEqF,UAAUC,SACS,IAArBtF,EAAEqF,UAAUE,OACW,IAAvBvF,EAAEqF,UAAUG,SACW,IAAvBxF,EAAEqF,UAAUI,UAjCD,0CAoCRjB,EAAS,CACdG,QAAS,cACTC,IAAK,yCAtCQ,qBA2CX+B,IAAc3C,EAAemF,gBA3ClB,kCA4CKf,IAAMgB,KAAN,UACbd,IAAIC,KADS,SAEhB,CACEc,KAAMjF,EACNkF,QAAQ,EACRhC,kBAAuC,aAApBjD,EACnBmD,gBAAqC,WAApBnD,EACjBkD,cAAmC,SAApBlD,EACfoD,+BACsB,cAApBpD,EACFuB,OAAQX,IAtDC,SA4CPuD,EA5CO,SAyDJzC,EAAkByC,EAAIvI,KAAKA,MACpC8G,IAAkB,GAClB8B,KACA/B,GAAY,CACVjH,KAAM,UACN6I,QAAQ,wCA9DG,yCAiEKN,IAAMmB,MAAN,UACbjB,IAAIC,KADS,SAEhB,CACEc,KAAMjF,EACNkF,QAAQ,EACRhC,kBAAuC,aAApBjD,EACnBmD,gBAAqC,WAApBnD,EACjBkD,cAAmC,SAApBlD,EACfuB,OAAQX,EACRuE,oBAAqBtD,IA1EZ,QAiEPsC,EAjEO,OA6Eb9C,QAAQC,IAAI6C,EAAIvI,MACZuI,GAAKxC,EAAkBwC,EAAIvI,KAAKA,MACpC8G,IAAkB,GAClB8B,KACA/B,GAAY,CACVjH,KAAM,UACN6I,QAAQ,wCAnFG,2DAuFfhD,QAAQC,IAAI,CAAE8C,WAAW,EAAD,KACxB3B,GAAY,CAAEjH,KAAM,SAAU6I,QAASC,YAAY,EAAD,MAxFnC,QA2FnB5B,IAAkB,GA3FC,2DAAH,wDA8FZ0C,GAAmB,SACvBC,GAEA,MAAqB,QAAjBzD,EACKyD,EAAYvJ,QAAO,SAACkJ,GAAD,OAAUA,EAAKC,SAAWrD,KAC1CyD,GAuBd,OACE,qCACG7C,IACmB,KAAlBA,GAAShH,MACT8G,IAAc3C,EAAe0C,aAC3B,sBACE9G,UAAS,gBAAWiH,GAAShH,KAApB,6CADX,UAGE,sBAAMD,UAAU,4CAAhB,SACE,cAAC,IAAD,CACEA,UAAU,wCACV4D,MAAM,QACNnC,QAAS,kBAAMyF,GAAY,CAAEjH,KAAM,GAAI6I,QAAS,UAGpD,cAAC,IAAD,CAAgB9I,UAAU,cAC1B,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,oCAAf,SACqB,YAAlBiH,GAAShH,KAAqB,UAAY,UAE7C,qBAAKD,UAAU,4BAAf,SACGiH,GAAS6B,gBAMpB,sBACE9I,UAAS,sEADX,UAGE,wBACEA,UAAU,eACVyB,QAAS,WACPuF,EAAa5C,EAAemF,iBAC5B3C,GAAexB,EAAgBwB,GAC/BL,EAAU,IACVhC,EAAa,IACbG,EAAe,SAEjBzD,UAAW2F,EATb,sBAaA,qBAAK5G,UAAU,8BAAf,SACE,cAACtD,EAAA,EAAD,CACEI,QAAS,CACP,CAAEuF,YAAa,IAAKd,UAAW,QAC/B,CAAEc,YAAa,aAAcd,UAAW,QACxC,CAAEc,YAAa,QAASd,UAAW,QACnC,CAAEc,YAAa,GAAId,UAAW,WAEhC1E,KA/aO,WACf,IAAMa,EAASmM,GAAiB7D,EAAO8D,aAAajK,KAAI,SAAC4H,EAAKpG,GAAN,OACtD,qBAEErB,UAAS,uEACPsG,IAAWmB,EAAImC,qBAAuB,eAH1C,UAME,oBAAI5J,UAAU,sBAAd,SAAqCqB,EAAQ,IAC7C,oBAAIrB,UAAU,qDAAd,SACGyH,EAAIgC,OAEP,oBAAIzJ,UAAU,yCAAd,SACGwH,GAAWC,KAEd,oBAAIzH,UAAU,aAAd,SACE,sBAAKA,UAAU,cAAf,UACE,yBACEA,UAAU,mHACVyB,QAAS,WACP4F,IAAY,GACZd,EAAUkB,EAAImC,qBACdrC,GAAgBE,GAChBlD,EAAakD,EAAIgC,MACjB/E,EACE+C,EAAIC,kBACA,WACAD,EAAIG,gBACJ,SACAH,EAAIE,cACJ,OACA,QAENvC,EAAgB0C,GAAgBL,EAAIzB,UAEtC/E,SAAUqF,IAAWmB,EAAImC,oBAlB3B,UAoBE,cAAC,IAAD,CAAO5J,UAAU,iBACjB,6CAEF,yBACEA,UAAU,mFACVyB,QAAS,WACP8E,EAAUkB,EAAImC,qBACdrF,EAAakD,EAAIgC,MACjBvC,GAAY,CAAEjH,KAAM,GAAI6I,QAAS,KACjC9B,EAAa5C,EAAe8E,oBAC5B9D,EAAgB0C,GAAgBL,EAAIzB,UAEtC/E,SACEqF,IAAWmB,EAAImC,qBACf7C,IAAc3C,EAAe0C,YAXjC,UAcE,cAAC,IAAD,CAAQ9G,UAAU,iBAClB,kDApDDqB,MAuET,OAAI3D,EAAOD,QAAU,EACZC,EAGL,oBAAIsC,UAAU,yDAAd,SACE,oBACEA,UAAU,qDACV+J,QAAS,EAFX,8BAiWE/M,YAAY,EACZC,QAAQ,EACRK,SAAS,WACTC,QAAQ,cAMbwJ,IAAc3C,EAAe0C,aAC5B,cAACkD,EAAA,EAAD,CACEC,UAAU,EACVC,MAAOC,IAAOC,QACdC,MAAO,WACLpB,KACAjC,EAAa5C,EAAe0C,cAE9BwD,cAAc,EACdC,eAAe,EACf3G,MACE,sBAAK5D,UAAU,4CAAf,UACG+G,IAAc3C,EAAemF,gBAA7B,wBADH,UAOFiB,eAAgBC,IAAUC,WAC1BpJ,QAAS,CAAEsC,OAAO,EAAM+G,MAAM,EAAOC,QAAQ,GAlB/C,SAqBE,sBAAK5K,UAAU,0BAAf,UACGiH,IAA8B,KAAlBA,GAAShH,MACpB,sBACED,UAAS,gBAAWiH,GAAShH,KAApB,6CADX,UAGE,sBAAMD,UAAU,4CAAhB,SACE,cAAC,IAAD,CACEA,UAAU,wCACV4D,MAAM,QACNnC,QAAS,kBAAMyF,GAAY,CAAEjH,KAAM,GAAI6I,QAAS,UAGpD,cAAC,IAAD,CAAgB9I,UAAU,cAC1B,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,oCAAf,SACqB,YAAlBiH,GAAShH,KAAqB,UAAY,UAE7C,qBAAKD,UAAU,4BAAf,SACGiH,GAAS6B,gBAKlB,sBAAK9I,UAAU,wDAAf,UACE,sBAAKA,UAAU,yCAAf,UACE,sBACEA,UAAS,8DACN0G,EAAYF,QAET,4BADA,wDAGN/E,QAAS,kBAAMiF,EAAYF,SAAW2C,GAAY,IANpD,UAQE,qBAAKnJ,UAAU,gGAAf,SACE,sBAAMA,UAAU,oDAAhB,iBAIF,sBAAKA,UAAU,sCAAf,8BAEE,sBAAMA,UAAU,sBAAhB,uDAMJ,sBACEA,UAAS,8DACP0G,EAAYF,UAAYE,EAAYD,QAChC,uDACA,6BAENhF,QAAS,kBACNiF,EAAYF,UACZE,EAAYD,SACb0C,GAAY,IAThB,UAYE,qBAAKnJ,UAAU,gGAAf,SACE,sBAAMA,UAAU,oDAAhB,iBAIF,sBAAKA,UAAU,sCAAf,8BAEE,sBAAMA,UAAU,sBAAhB,kDAMN,qBAAKA,UAAU,kEAAf,SACI0G,EAAYF,QAYZnB,GACE,cAAC,EAAD,CACEf,aAAcA,GACdE,UAAWA,EACXY,gBAAiBA,EACjBC,aAAcA,EACdV,MAAOA,EACPC,SAAUA,EACVU,eAAgBA,KAnBpB,cAAC,EAAD,CACEhB,aAAcA,GACdC,aAAcA,EACdC,UAAWA,EACXwC,aAAcA,EACdtC,eAAgBA,EAChBD,gBAAiBA,EACjBE,MAAOA,EACPC,SAAUA,cAsBvBwC,IACC,cAAC4C,EAAA,EAAD,CACEC,UAAU,EACVC,MAAOC,IAAOC,QACdC,MAAO,WACLhD,IAAY,GACZd,EAAU,IACVgB,GAAgB,MAChBhD,EAAa,IACbG,EAAe,QACfU,OAAgByF,IAElBP,cAAc,EACdC,eAAe,EACf3G,MACE,sBAAK5D,UAAU,4CAAf,UACGwE,EADH,WAIFgG,eAAgBC,IAAUK,MAC1BxJ,QAAS,CAAEsC,OAAO,EAAM+G,MAAM,EAAOC,QAAQ,GAnB/C,SAsBE,sBAAK5K,UAAU,+BAAf,UACE,sBAAKA,UAAU,wCAAf,UACE,gCACE,qBAAKA,UAAU,gBAAf,SACE,yBACEA,UAAS,gFACTG,SAAU,SAACC,GAAD,OA3OL,SAAC2K,GACtB,IAAIrN,EAASsI,EAAO8D,YAAYvJ,QAC9B,SAACkJ,GAAD,OAAUA,EAAKG,sBAAwBmB,KACvC,GACF1D,IAAY,GACZd,EAAU7I,EAAOkM,qBACjBrC,GAAgB7J,GAChB6G,EAAa7G,EAAO+L,MACpB/E,EACEhH,EAAOgK,kBACH,WACAhK,EAAOkK,gBACP,SACAlK,EAAOiK,cACP,OACA,QAENvC,EAAgB0C,GAAgBpK,EAAOsI,SA2NrBgF,CAAe5K,EAAEW,OAAOC,QAE1BA,MAAOsF,EACPrF,SAAUqE,GANZ,UAQE,wBAAQtE,MAAM,GAAd,+BACC6I,GAAiB7D,EAAO8D,aAAajK,KAAI,SAACuI,EAAM/G,GAAP,OACxC,wBAEEL,MAAOoH,EAAKwB,oBAFd,SAIGxB,EAAKqB,MAHDpI,EAAQ+G,EAAKwB,8BAQb,OAAZtC,SAAY,IAAZA,QAAA,EAAAA,GAAcI,oBACb,sBAAK1H,UAAU,uCAAf,UACE,sBAAMA,UAAU,gBAAhB,qBACA,oBAAIA,UAAU,8BAAd,0BAGS,OAAZsH,SAAY,IAAZA,QAAA,EAAAA,GAAcM,kBACb,sBAAK5H,UAAU,uCAAf,UACE,sBAAMA,UAAU,gBAAhB,qBACA,oBAAIA,UAAU,8BAAd,wBAGS,OAAZsH,SAAY,IAAZA,QAAA,EAAAA,GAAcK,gBACb,sBAAK3H,UAAU,uCAAf,UACE,sBAAMA,UAAU,gBAAhB,qBACA,oBAAIA,UAAU,8BAAd,wBAIN,yBACEA,UAAU,gEACVyB,QAAS,WACPuF,EAAa5C,EAAe8E,oBAC5B7B,IAAY,GACZV,EAAc,CAAEH,SAAS,EAAMC,SAAS,KAE1CxF,SAAU8F,IAAc3C,EAAe0C,YAPzC,UASE,cAAC,IAAD,CAAQ9G,UAAU,iBAClB,8CAIJ,cAACtD,EAAA,EAAD,CACEI,QAAS,CACP,CACEuF,YAAa,cACbd,UAAW,OACXD,QAAS,OAEX,CAAEe,YAAa,SAAUd,UAAW,QACpC,CAAEc,YAAa,OAAQd,UAAW,QAClC,CAAEc,YAAa,SAAUd,UAAW,QACpC,CAAEc,YAAa,SAAUd,UAAW,SAEtC1E,KAvjBK,WACf,IAAMoO,EAAcjF,EAAO8D,YACxBvJ,QAAO,SAACkJ,GAAD,OAAUA,EAAKG,sBAAwBtD,KAAQ,GACtDN,OAAOnG,KAAI,SAACmG,EAAQ3E,GAAT,OACV,qBAEErB,UAAU,yDAFZ,UAIE,oBAAIA,UAAU,wDAAd,SACGgG,EAAOC,OAEV,oBAAIjG,UAAU,OAAd,SACE,sBACEA,UAAS,2CACPgG,EAAOP,UAAUC,OAAS,iBAAmB,gBAFjD,UAKGM,EAAOP,UAAUC,OAChB,cAAC,IAAD,IAEA,cAAC,IAAD,IAEDM,EAAOP,UAAUC,OAAS,OAAS,UAGxC,oBAAI1F,UAAU,OAAd,SACE,sBACEA,UAAS,2CACPgG,EAAOP,UAAUE,KAAO,iBAAmB,gBAF/C,UAKGK,EAAOP,UAAUE,KAAO,cAAC,IAAD,IAAqB,cAAC,IAAD,IAC7CK,EAAOP,UAAUE,KAAO,OAAS,UAGtC,oBAAI3F,UAAU,OAAd,SACE,sBACEA,UAAS,2CACPgG,EAAOP,UAAUG,OAAS,iBAAmB,gBAFjD,UAKGI,EAAOP,UAAUG,OAChB,cAAC,IAAD,IAEA,cAAC,IAAD,IAEDI,EAAOP,UAAUG,OAAS,OAAS,UAGxC,oBAAI5F,UAAU,OAAd,SACE,sBACEA,UAAS,2CACPgG,EAAOP,UAAUI,OAAS,iBAAmB,gBAFjD,UAKGG,EAAOP,UAAUI,OAChB,cAAC,IAAD,IAEA,cAAC,IAAD,IAEDG,EAAOP,UAAUI,OAAS,OAAS,YAvDnCxE,MA6DX,OAAI4J,EAAYxN,QAAU,EACjBwN,EAGL,oBAAIjL,UAAU,yDAAd,SACE,oBACEA,UAAU,qDACV+J,QAAS,EAFX,+CAifI/M,YAAY,EACZC,QAAQ,EACRK,SAAS,cACTC,QAAQ,OACRH,QAAQ,+B,4BG/tBjB8I,K,sBAAAA,E,4BAAAA,E,+BAAAA,M,KAWL,IA2JagF,EAAmBzH,aAJR,SAAC,GACvB,MAAO,CAAEuC,OADiE,EAAjDA,UAI8B,CACvDmF,sBAD8B1H,EA3JE,SAACf,GACjC,MAAsCvE,mBAInC,CACDiN,QAAS,EACTC,WAAY,EACZC,YAAa,IAPf,mBAAOC,EAAP,KAAoBC,EAApB,KASA,EAAoCrN,mBAAmB+H,EAASuF,WAAhE,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAgCxN,qBAAhC,mBAAO8I,EAAP,KAAiBC,EAAjB,KAIA,EAA8B/I,oBAAkB,GAAhD,mBAAOX,EAAP,KAAgBoO,EAAhB,KAEA1M,qBAAU,YACHwD,EAAMsD,OAAO8D,YAAYrM,QAAUD,IACtCsI,QAAQC,IAAIrD,EAAMsD,OAAO8D,aACzBpH,EAAMyI,oBAGJzI,EAAMsD,OAAO8D,YAAYrM,SAC3B+N,EAAe,CACbJ,QAAS1I,EAAMsD,OAAO8D,YAAYrM,OAClC4N,WAAY3I,EAAMsD,OAAO8D,YAAYvJ,QAAO,SAACkJ,GAAD,OAAUA,EAAKC,UACxDjM,OACH6N,YAAa5I,EAAMsD,OAAO8D,YAAYvJ,QAAO,SAACkJ,GAAD,OAAWA,EAAKC,UAC1DjM,SAELmO,GAAW,MAEZ,CAACpO,EAASkF,EAAOA,EAAMsD,OAAO8D,cAUjC,OAAgB,IAAZtM,EAEA,qBAAKwC,UAAU,kEAAf,8BAOF,eAAC,WAAD,WACE,eAACwD,EAAA,EAAD,WACE,sBAAMxD,UAAU,eAAhB,8BACA,yBACEA,UAAU,OACVyB,QAAS,kBAAMkK,EAAczF,EAASuF,YAFxC,SAIE,cAAC,IAAD,CACE7H,MAAO,WACPI,MAAOuH,EAAYH,QACnBrH,OAAQ2H,IAAexF,EAASuF,cAGpC,yBACEzL,UAAU,OACVyB,QAAS,kBAAMkK,EAAczF,EAAS2F,eAFxC,SAIE,cAAC,IAAD,CACEjI,MAAO,cACPI,MAAOuH,EAAYF,WACnBtH,OAAQ2H,IAAexF,EAAS2F,iBAGpC,yBACE7L,UAAU,OACVyB,QAAS,kBAAMkK,EAAczF,EAAS4F,gBAFxC,SAIE,cAAC,IAAD,CACElI,MAAO,gBACPI,MAAOuH,EAAYD,YACnBvH,OAAQ2H,IAAexF,EAAS4F,qBAKtC,qBAAK9L,UAAU,mBAAf,SAEE,sBAAKA,UAAU,6BAAf,UACE,cAAC,KAAD,CAAQA,UAAU,4BAClB,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,yBAAd,qCACA,sBAAKA,UAAU,iDAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,sBAAMA,UAAU,0BAAhB,yBACA,sBAAMA,UAAU,mCAAhB,SACG+L,YAAWR,EAAYH,cAG3BM,IAAexF,EAAS4F,eACvB,sBAAK9L,UAAU,qBAAf,UACE,sBAAMA,UAAU,0BAAhB,4BAGA,sBAAMA,UAAU,mCAAhB,SACG+L,YAAWR,EAAYF,iBAI7BK,IAAexF,EAAS2F,cACvB,sBAAK7L,UAAU,qBAAf,UACE,sBAAMA,UAAU,0BAAhB,6BAGA,sBAAMA,UAAU,mCAAhB,SACG+L,YAAWR,EAAYD,6BAUrCrE,GAA8B,KAAlBA,EAAShH,MACpB,sBACED,UAAS,gBAAWiH,EAAShH,KAApB,6CADX,UAGE,sBAAMD,UAAU,4CAAhB,SACE,cAAC,IAAD,CACEA,UAAU,wCACV4D,MAAM,QACNnC,QAAS,kBAAMyF,EAAY,CAAEjH,KAAM,GAAI6I,QAAS,UAGpD,cAAC,IAAD,CAAgB9I,UAAU,cAC1B,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,oCAAf,SACqB,YAAlBiH,EAAShH,KAAqB,UAAY,UAE7C,qBAAKD,UAAU,4BAAf,SAA4CiH,EAAS6B,gBAI3D,qBAAK9I,UAAU,sBAAf,SA9GE0L,IAAexF,EAAS4F,cACnB,cAAC,EAAD,CAAYzF,cAAc,IACxBqF,IAAexF,EAAS2F,aAC1B,cAAC,EAAD,CAAYxF,cAAc,IACrB,cAAC,EAAD,CAAYA,aAAa","file":"static/js/55.60322c66.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BiSort } from \"react-icons/bi\";\nimport { MdNavigateBefore, MdNavigateNext, MdSearch } from \"react-icons/md\";\n\nconst FC_makeID = (length: number = 5): string => {\n  let result: string = \"\";\n  let characters: string =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  let charactersLength = characters.length;\n  for (let i: number = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\nexport const sortThisColumn = (\n  tableId: string,\n  colIndex: number = 0,\n  dir: \"asc\" | \"desc\" = \"asc\"\n) => {\n  var table,\n    rows,\n    switching,\n    i,\n    x,\n    y,\n    shouldSwitch,\n    switchcount = 0;\n  table = document.getElementById(tableId) as HTMLTableElement;\n  switching = true;\n  /* Make a loop that will continue until\n  no switching has been done: */\n  if (table) {\n    while (switching) {\n      //start by saying: no switching is done:\n      switching = false;\n      rows = table.rows;\n      /*Loop through all table rows (except the\n    first, which contains table headers):*/\n      for (i = 1; i < rows.length - 1; i++) {\n        //start by saying there should be no switching:\n        shouldSwitch = false;\n        /*Get the two elements you want to compare,\n      one from current row and one from the next:*/\n        x = rows[i].getElementsByTagName(\"TD\")[colIndex];\n        y = rows[i + 1].getElementsByTagName(\"TD\")[colIndex];\n        /*check if the two rows should switch place,\n      based on the direction, asc or desc:*/\n        if (dir === \"asc\" && x && y) {\n          if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {\n            //if so, mark as a switch and break the loop:\n            shouldSwitch = true;\n            break;\n          }\n        } else if (dir === \"desc\" && x && y) {\n          if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {\n            //if so, mark as a switch and break the loop:\n            shouldSwitch = true;\n            break;\n          }\n        }\n      }\n      if (shouldSwitch && rows[i].parentNode) {\n        /*If a switch has been marked, make the switch\n      and mark that a switch has been done:*/\n        rows[i].parentNode!.insertBefore(rows[i + 1], rows[i]);\n        switching = true;\n        //Each time a switch is done, increase this count by 1:\n        switchcount++;\n      } else {\n        /*If no switching has been done AND the direction is \"asc\",\n      set the direction to \"desc\" and run the while loop again.*/\n        if (switchcount === 0 && dir === \"asc\") {\n          dir = \"desc\";\n          switching = true;\n        }\n      }\n      // if (i === 0) continue;\n      // rows.cells[i].style.backgroundColor = \"blue\";\n    }\n  }\n};\n\nexport interface TableColumnsInterface {\n  columnTitle: JSX.Element | string;\n  alignText: string;\n  padding?: string;\n  isSortAllowed?: boolean;\n}\n\ninterface TableProps {\n  columns: TableColumnsInterface[];\n  rows: Function;\n  hideColumns?: boolean;\n  pagination?: boolean;\n  search?: boolean;\n  tableSize?: string;\n  tableClass?: string;\n  tableId?: string;\n  rounded?: boolean;\n  searchBG?: string;\n  thColor?: string;\n  loading?: boolean;\n}\n\nconst Table: React.FC<TableProps> = ({\n  rows,\n  columns,\n  hideColumns = false,\n  pagination = false,\n  search = false,\n  tableSize = \"w-full\",\n  tableClass,\n  tableId = \"myTable\",\n  rounded = false,\n  searchBG = \"bg-gray-200\",\n  thColor = \"blue\",\n  loading = false,\n}) => {\n  const startPage = 1;\n  tableId = tableId === \"myTable\" ? FC_makeID() : tableId;\n  let table: HTMLElement, tr: HTMLCollectionOf<HTMLTableRowElement>;\n  const [totalItems, setTotalItems] = useState<number>(0);\n  const [totalPages, setTotalPages] = useState<number>(1);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const [pages, setPages] = useState<number[]>();\n  const [pageSize, setPageSize] = useState<number>(10);\n  const [startIndex, setStartIndex] = useState<number>(0);\n  const [endIndex, setEndIndex] = useState<number>(0);\n\n  useEffect(() => {\n    pagination && tablePagination();\n  });\n\n  const filterTable = (\n    data: string,\n    filterType?: \"default\" | \"field\"\n  ): void => {\n    var filter, tr, td, rows: number, cols: number, txtValue;\n    if (filterType === \"field\" && data === \"all\") data = \"\";\n    filter = data.toLowerCase();\n    table = document.getElementById(tableId)!;\n    tr = table.getElementsByTagName(\"tr\");\n    for (rows = 0; rows < tr.length; rows++) {\n      for (cols = 0; cols < columns.length; cols++) {\n        td = tr[rows].getElementsByTagName(\"td\")[cols];\n        if (td) {\n          txtValue = td.textContent || td.innerText;\n          if (txtValue.toLowerCase().indexOf(filter) > -1) {\n            tr[rows].style.display = \"\";\n            break;\n          } else {\n            tr[rows].style.display = \"none\";\n          }\n        }\n      }\n    }\n  };\n\n  const tablePagination = (): void => {\n    table = document.getElementById(tableId)!;\n    tr = table.getElementsByTagName(\"tr\");\n    setTotalItems(tr.length);\n    setTotalPages(Math.ceil(totalItems / pageSize));\n\n    // calculate start and end item indexes on the current page\n    setStartIndex((currentPage - 1) * pageSize);\n    setEndIndex(Math.min(startIndex + pageSize - 1, totalItems - 1));\n\n    /**\n     * TODO!\n     * There is a problem with this condition\n     */\n    let _pages = Array.from(Array(totalPages + 1 - startPage).keys()).map(\n      (i) => startPage + i\n    );\n    if (!pages || _pages.length !== pages.length) {\n      setPages(_pages);\n    }\n\n    for (let i: number = 0; i < tr.length; i++) {\n      if (i >= startIndex && i <= endIndex) {\n        tr[i].style.display = \"\";\n      } else {\n        tr[i].style.display = \"none\";\n      }\n    }\n  };\n\n  return (\n    <div className={`${tableSize}`}>\n      {/* search box  */}\n      {search && (\n        <div className={`${searchBG} w-full mb-2`}>\n          {search && (\n            <div className=\"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500\">\n              <MdSearch className=\"h-5 w-5 fill-current text-gray-400\" />\n              <input\n                type=\"search\"\n                placeholder=\"search\"\n                onChange={(e) => filterTable(e.target.value)}\n                className=\"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white\"\n                disabled={loading}\n              />\n\n              {pagination && (\n                <div className=\"select\">\n                  <select\n                    className=\"text-base outline-none focus:outline-none bg-white\"\n                    onChange={(e) => setPageSize(Number(e.target.value))}\n                    disabled={loading}\n                  >\n                    <option value=\"10\">10</option>\n                    <option value=\"25\">25</option>\n                    <option value=\"50\">50</option>\n                    <option value=\"100\">100</option>\n                  </select>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n      <table\n        className={\n          tableClass\n            ? tableClass\n            : `w-full shadow ${\n                rounded && \"sm:rounded-lg\"\n              } table-auto order-table`\n        }\n        id={tableId}\n      >\n        {!hideColumns && (\n          <thead className=\"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base\">\n            <tr\n              className={`text-left tracking-wide bg-${thColor}-100 border-b-2 border-${thColor}-500 text-${thColor}-600`}\n            >\n              {columns.map((column, index) => (\n                <th\n                  key={index}\n                  className={`${column.padding} text-${\n                    column.alignText\n                  } px-3 py-2 ${column.isSortAllowed && \"cursor-pointer\"}`}\n                  onClick={() =>\n                    column.isSortAllowed && sortThisColumn(tableId, index)\n                  }\n                >\n                  <div className=\"flex items-center gap-1\">\n                    {column.columnTitle}\n                    {column.isSortAllowed && <BiSort />}\n                  </div>\n                </th>\n              ))}\n            </tr>\n          </thead>\n        )}\n        <tbody id=\"table-data\" className=\"bg-white text-black text-base\">\n          {rows()}\n        </tbody>\n      </table>\n      {pagination && (\n        <div className=\"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans\">\n          <div>\n            <span className=\"text-xs xs:text-sm text-gray-900\">\n              Showing 1 to {pageSize} of {totalItems - 1} Entries\n            </span>\n          </div>\n          <div>\n            <nav className=\"inline-flex shadow-sm\">\n              <div>\n                <button\n                  type=\"button\"\n                  className={`inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ${\n                    currentPage !== 1 && \"bg-white\"\n                  }`}\n                  aria-label=\"Previous\"\n                  disabled={currentPage === 1 || loading}\n                  onClick={() => setCurrentPage(currentPage - 1)}\n                >\n                  <MdNavigateBefore className=\"h-5 w-5\" />\n                </button>\n              </div>\n              <div>\n                {pages &&\n                  pages.map((page, pageIndex) => (\n                    <button\n                      key={pageIndex}\n                      className={`-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ${\n                        page !== currentPage\n                          ? \"bg-white\"\n                          : \"bg-gray-100 cursor-default\"\n                      }`}\n                      disabled={page === currentPage || loading}\n                      onClick={() => setCurrentPage(page)}\n                    >\n                      {page}\n                    </button>\n                  ))}\n              </div>\n              <div>\n                <button\n                  type=\"button\"\n                  className={`inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ${\n                    currentPage !== totalPages && \"bg-white\"\n                  }`}\n                  aria-label=\"Next\"\n                  disabled={currentPage === totalPages || loading}\n                  onClick={() => setCurrentPage(currentPage + 1)}\n                >\n                  <MdNavigateNext className=\"h-5 w-5\" />\n                </button>\n              </div>\n            </nav>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Table;\n","import React, { FC, ReactElement, ReactNode } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Auth, System } from \"../../actions\";\nimport { StoreState } from \"../../reducers\";\nimport { NavToogle, PageHasSubNav } from \"../../actions\";\nimport { MdBrightness1, MdSearch } from \"react-icons/md\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n  system: System;\n  PageHasSubNav: Function;\n  NavToogle: Function;\n  children: ReactNode;\n}\n//\ninterface AppState {\n  loading: boolean;\n}\n\nclass _SideNavigation extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n  componentDidMount = () => this.props.PageHasSubNav(true);\n  componentWillUnmount = () => this.props.PageHasSubNav(false);\n\n  render() {\n    const isAuthenticated = this.props.auth.isAuthenticated;\n\n    if (isAuthenticated === false) {\n      return null;\n    }\n\n    const navActive = this.props.system.navigation;\n    return (\n      <div\n        className={`fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ${\n          navActive === true ? \"lg:left-16  left-16\" : \" -left-72 lg:left-16\"\n        }  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto`}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  system,\n}: StoreState): { auth: Auth; system: System } => {\n  return { auth: auth, system: system };\n};\n\nexport const SideNavigation = connect(mapStateToProps, {\n  NavToogle,\n  PageHasSubNav,\n})(_SideNavigation);\n\n//************************************ FORM SEARCH **************************************** */\n\ntype SearchComponentInterface = {\n  data: any[];\n};\n\nexport const Search: FC<SearchComponentInterface> = ({\n  data,\n}): ReactElement => {\n  return (\n    <div className=\"m-1 rounded-md shadow-md border border-blue-400 bg-white p-1 flex \">\n      <label htmlFor=\"search-text\" className=\"inline-block text-2xl\">\n        <MdSearch className=\"inline-block text-blue-400\" />\n      </label>\n      <input\n        type=\"search\"\n        className=\"outline-none bg-transparent flex-1 pl-1\"\n        placeholder=\"Search\"\n        id=\"search-text\"\n      />\n    </div>\n  );\n};\n\n//************************************ FORM SEARCH **************************************** */\n\ntype MainItemComponentInterface = {\n  title: string;\n  icon?: any;\n  active?: boolean;\n  count?: number;\n};\n\n/**\n *\n * @param param0\n * @returns\n */\nexport const MainItem: FC<MainItemComponentInterface> = ({\n  title = \"\",\n  icon = MdBrightness1,\n  active = false,\n  count = 0,\n}): ReactElement => {\n  const IconDefined = icon;\n  return (\n    <section\n      className={`${\n        active === true\n          ? \"bg-blue-500 text-white font-bold\"\n          : \"bg-blue-100 text-blue-800\"\n      } mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center`}\n    >\n      <section className=\"flex-1\">\n        <IconDefined className=\"inline-block mr-1 text-xs\" />\n        <span>{title}</span>\n      </section>\n\n      {count > 0 ? (\n        <span className=\"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full\">\n          {count}\n        </span>\n      ) : null}\n    </section>\n  );\n};\n\n//************************************ FORM SEARCH **************************************** */\n\ntype SubItemContainerComponentInterface = {\n  children: ReactNode;\n};\n\n/**\n *\n * @param param0\n * @returns\n */\nexport const SubItemContainer: FC<SubItemContainerComponentInterface> = ({\n  children,\n}): ReactElement => {\n  return (\n    <div className=\"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer\">\n      {children}\n    </div>\n  );\n};\n\n//************************************ FORM SEARCH **************************************** */\n\ntype SubItemComponentInterface = {\n  title: string;\n  icon?: any;\n  active?: boolean;\n  count?: number;\n};\n\n/**\n *\n * @param param0\n * @returns\n * @important Remenber to use these components inside the <SubItemContainer>...</SubItemContainer>\n */\nexport const SubItem: FC<SubItemComponentInterface> = ({\n  title = \"\",\n  icon = MdBrightness1,\n  active = false,\n  count = 0,\n}): ReactElement => {\n  const IconDefined = icon;\n\n  return (\n    <div\n      className={`animate__animated animate__zoomIn animate__faster ${\n        active === true ? \"bg-blue-500 text-white font-bold\" : \" text-blue-800\"\n      } text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold`}\n    >\n      <IconDefined\n        className={`inline-block mr-0.1 text-xs ${\n          active === true ? \"text-white\" : \"\"\n        }`}\n      />\n      <span\n        className={`inline-block pl-1 ${active === true ? \"text-white\" : \"\"}`}\n      >\n        {title}\n      </span>\n      {count >= 1 ? (\n        <span\n          className={`text-sm fint-bold ${active === true ? \"text-white\" : \"\"}`}\n        >\n          {count}\n        </span>\n      ) : null}\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  MdEdit,\n  MdClose,\n  MdErrorOutline,\n  MdHighlightOff,\n} from \"react-icons/md\";\nimport Table from \"../../components/Table/Table\";\nimport Modal, { ModalSize, Themes } from \"../../components/Modal/Modal\";\nimport { StoreState } from \"../../reducers\";\nimport { createAccessRoles, updateAccessRoles } from \"../../actions/access\";\nimport { AccessType } from \"../../reducers/access\";\nimport {\n  AccessTaskInterface,\n  PermissionInterface,\n  SystemUserRoleInterface,\n} from \"../../shared/interfaces\";\nimport { TiInputChecked, TiKey } from \"react-icons/ti\";\nimport StepOne from \"./StepOne\";\nimport StepTwo from \"./StepTwo\";\nimport axios from \"axios\";\nimport { API } from \"../../utils/api\";\nimport { errorToText } from \"../../utils/errors\";\n\nexport enum ModalStateRole {\n  Add_Role_Access,\n  Update_Role_Access,\n  Close_Modal,\n}\n\ninterface AppProps {\n  access: AccessType;\n  createAccessRoles: Function;\n  updateAccessRoles: Function;\n  filterStatus: boolean | \"all\";\n}\n\nconst AccessRole: React.FC<AppProps> = ({\n  access,\n  createAccessRoles,\n  updateAccessRoles,\n  filterStatus,\n}) => {\n  const [roleId, setRoleId] = useState<string>(\"\");\n  const [roleTitle, setRoleTitle] = useState<string>(\"\");\n  const [roleRequirement, setRequirement] = useState<\n    \"none\" | \"institute\" | \"district\" | \"school\" | \"room\"\n  >(\"none\");\n  const [stepsStatus, setStepStatus] = useState<{\n    stepOne: boolean;\n    stepTwo: boolean;\n  }>({ stepOne: false, stepTwo: false });\n  const [accessToRole, setAccessToRole] = useState<AccessTaskInterface[]>();\n  const [accessTasks, setAccessTasks] = useState<AccessTaskInterface[] | null>(\n    null\n  );\n  const [openModal, setOpenModal] = useState<ModalStateRole>(\n    ModalStateRole.Close_Modal\n  );\n  const [error, setError] = useState<{ element: string; msg: string }>({\n    element: \"\",\n    msg: \"\",\n  });\n  const [feedBack, setFeedBack] = useState<{\n    type: \"success\" | \"danger\" | \"warning\" | \"\";\n    message: string;\n  }>();\n  const [loadingRequest, setLoadingRequest] = useState<boolean>(false);\n  const [viewRole, setViewRole] = useState<boolean>(false);\n  const [roleSelected, setRoleSelected] =\n    useState<SystemUserRoleInterface | null>();\n\n  const whichLevel = (row: SystemUserRoleInterface): string => {\n    if (row.district_required) {\n      return \"District\";\n    } else if (row.room_required) {\n      return \"Room\";\n    } else if (row.school_required) {\n      return \"School\";\n    } else if (row.education_institution_required) {\n      return \"Institute\";\n    }\n    return \"None\";\n  };\n\n  const userRows = (): JSX.Element | (false | JSX.Element)[] => {\n    const result = loadCurrentRoles(access.accessRoles).map((row, index) => (\n      <tr\n        key={index}\n        className={`accordion border-b border-grey-light hover:bg-gray-100 group ${\n          roleId === row.system_user_role_id && \"bg-gray-100\"\n        }`}\n      >\n        <td className=\"px-3 py-3 text-left\">{index + 1}</td>\n        <td className=\"text-gray-800 text-base font-medium text-left px-3\">\n          {row.role}\n        </td>\n        <td className=\"text-gray-800 text-base text-left px-3\">\n          {whichLevel(row)}\n        </td>\n        <td className=\"text-right\">\n          <div className=\"inline-flex\">\n            <button\n              className=\"btn bg-gray-300 text-gray-900 group-hover:bg-gray-600 group-hover:text-white inline-flex mr-1 focus:outline-none\"\n              onClick={() => {\n                setViewRole(true);\n                setRoleId(row.system_user_role_id);\n                setRoleSelected(row);\n                setRoleTitle(row.role);\n                setRequirement(\n                  row.district_required\n                    ? \"district\"\n                    : row.school_required\n                    ? \"school\"\n                    : row.room_required\n                    ? \"room\"\n                    : \"none\"\n                );\n                setAccessToRole(CustomizeAccess(row.access));\n              }}\n              disabled={roleId === row.system_user_role_id}\n            >\n              <TiKey className=\"h-5 w-5 mr-1\" />\n              <span>Access</span>\n            </button>\n            <button\n              className=\"btn bg-blue-500 text-white hover:bg-blue-700 inline-flex mr-1 focus:outline-none\"\n              onClick={() => {\n                setRoleId(row.system_user_role_id);\n                setRoleTitle(row.role);\n                setFeedBack({ type: \"\", message: \"\" });\n                setOpenModal(ModalStateRole.Update_Role_Access);\n                setAccessToRole(CustomizeAccess(row.access));\n              }}\n              disabled={\n                roleId === row.system_user_role_id &&\n                openModal !== ModalStateRole.Close_Modal\n              }\n            >\n              <MdEdit className=\"h-5 w-5 mr-1\" />\n              <span>Edit</span>\n            </button>\n            {/* <button\n              className=\"btn bg-red-300 text-red-900 hover:bg-red-600 hover:text-white inline-flex mr-1\"\n              onClick={() => {\n                setRoleId(row.system_user_role_id);\n                setFeedBack({ type: \"\", message: \"\" });\n                setRoleTitle(row.role);\n              }}\n              disabled={roleId === row.system_user_role_id}\n            >\n              <MdDelete className=\"h-5 w-5 mr-1\" />\n              <span>Delete</span>\n            </button> */}\n          </div>\n        </td>\n      </tr>\n    ));\n\n    if (result.length >= 1) {\n      return result;\n    } else {\n      return (\n        <tr className=\"accordion border-b border-grey-light hover:bg-gray-100\">\n          <td\n            className=\"text-gray-500 text-sm font-medium text-center px-3\"\n            colSpan={3}\n          >\n            No Data Found\n          </td>\n        </tr>\n      );\n    }\n  };\n\n  const typeRows = (): JSX.Element | (false | JSX.Element)[] => {\n    const roleDetails = access.accessRoles\n      .filter((role) => role.system_user_role_id === roleId)[0]\n      .access.map((access, index) => (\n        <tr\n          key={index}\n          className=\"accordion border-b border-grey-light hover:bg-gray-100\"\n        >\n          <td className=\"text-gray-800 text-xl font-medium text-left px-3 py-2\">\n            {access.task}\n          </td>\n          <td className=\"px-2\">\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.create ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.create ? (\n                <TiInputChecked />\n              ) : (\n                <MdHighlightOff />\n              )}\n              {access.permitted.create ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n          <td className=\"px-2\">\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.view ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.view ? <TiInputChecked /> : <MdHighlightOff />}\n              {access.permitted.view ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n          <td className=\"px-2\">\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.update ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.update ? (\n                <TiInputChecked />\n              ) : (\n                <MdHighlightOff />\n              )}\n              {access.permitted.update ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n          <td className=\"px-2\">\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.delete ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.delete ? (\n                <TiInputChecked />\n              ) : (\n                <MdHighlightOff />\n              )}\n              {access.permitted.delete ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n        </tr>\n      ));\n\n    if (roleDetails.length >= 1) {\n      return roleDetails;\n    } else {\n      return (\n        <tr className=\"accordion border-b border-grey-light hover:bg-gray-100\">\n          <td\n            className=\"text-gray-500 text-sm font-medium text-center px-3\"\n            colSpan={4}\n          >\n            No Tasks assigned to this Role\n          </td>\n        </tr>\n      );\n    }\n  };\n\n  const CustomizeAccess = (\n    userAccess: AccessTaskInterface[]\n  ): AccessTaskInterface[] => {\n    if (!accessTasks) return [];\n    let newArray: AccessTaskInterface[] = [];\n    let oneAccess: AccessTaskInterface | undefined;\n    accessTasks.forEach((element, index) => {\n      oneAccess = userAccess.find((item) => item.key === element.key);\n      if (oneAccess) {\n        newArray.push(oneAccess);\n      } else {\n        newArray.push(element);\n      }\n    });\n\n    return newArray;\n  };\n\n  useEffect(() => {\n    const loadAccessTasks = async () => {\n      try {\n        const res = await axios.get<\n          {\n            id: string;\n            title: string;\n            key: string;\n            permitted: PermissionInterface;\n          }[]\n        >(`${API.AUTH}/allroleaccess`);\n        if (res) {\n          let data = res.data.map((data) => ({\n            id: data.id,\n            task: data.title,\n            key: data.key,\n            permitted: data.permitted,\n          }));\n          setAccessTasks(data);\n        }\n        // setLoading(false);\n      } catch (error) {\n        console.log({ role_error: error });\n        setFeedBack({ type: \"danger\", message: errorToText(error) });\n      }\n    };\n    loadAccessTasks();\n  }, []);\n\n  const cleanAndCloseModal = (): void => {\n    setStepStatus({ stepOne: false, stepTwo: false });\n    if (openModal !== ModalStateRole.Update_Role_Access) {\n      setRequirement(\"none\");\n      setRoleTitle(\"\");\n      setRoleId(\"\");\n    }\n\n    setLoadingRequest(false);\n    setFeedBack({ type: \"\", message: \"\" });\n    accessTasks && setAccessToRole(accessTasks);\n\n    setError({\n      element: \"\",\n      msg: \"\",\n    });\n    openModal === ModalStateRole.Update_Role_Access &&\n      setOpenModal(ModalStateRole.Close_Modal);\n  };\n\n  const handleSteps = (step: 1 | 2) => {\n    if (step === 2) {\n      if (!roleTitle.length) {\n        return setError({\n          element: \"role-title\",\n          msg: \"Role Title is required\",\n        });\n      }\n\n      if (!roleRequirement.length) {\n        setRequirement(\"none\");\n      }\n\n      setStepStatus({ stepOne: true, stepTwo: false });\n    } else {\n      setStepStatus({ stepOne: false, stepTwo: false });\n    }\n  };\n\n  const handleSubmit = async (\n    e: React.FormEvent<HTMLFormElement>,\n    step: 1 | 2\n  ) => {\n    e.preventDefault();\n    setFeedBack({ type: \"\", message: \"\" });\n    setError({\n      element: \"\",\n      msg: \"\",\n    });\n    setLoadingRequest(true);\n    if (step === 1) {\n      if (!roleTitle.length) {\n        return setError({\n          element: \"role-title\",\n          msg: \"Role Title is required\",\n        });\n      }\n\n      if (!roleRequirement.length) {\n        setRequirement(\"none\");\n      }\n\n      setStepStatus({ stepOne: true, stepTwo: false });\n    }\n    if (step === 2) {\n      if (\n        accessToRole &&\n        !accessToRole.some(\n          (e) =>\n            e.permitted.create === true ||\n            e.permitted.view === true ||\n            e.permitted.update === true ||\n            e.permitted.delete === true\n        )\n      ) {\n        return setError({\n          element: \"role-access\",\n          msg: \"At least one permission is required\",\n        });\n      }\n\n      try {\n        if (openModal === ModalStateRole.Add_Role_Access) {\n          const res = await axios.post<{ data: SystemUserRoleInterface[] }>(\n            `${API.AUTH}/role`,\n            {\n              role: roleTitle,\n              status: true,\n              district_required: roleRequirement === \"district\" ? true : false,\n              school_required: roleRequirement === \"school\" ? true : false,\n              room_required: roleRequirement === \"room\" ? true : false,\n              education_institution_required:\n                roleRequirement === \"institute\" ? true : false,\n              access: accessToRole,\n            }\n          );\n          if (res) createAccessRoles(res.data.data);\n          setLoadingRequest(false);\n          cleanAndCloseModal();\n          setFeedBack({\n            type: \"success\",\n            message: `Role has been successfully created.`,\n          });\n        } else {\n          const res = await axios.patch<{ data: SystemUserRoleInterface[] }>(\n            `${API.AUTH}/role`,\n            {\n              role: roleTitle,\n              status: true,\n              district_required: roleRequirement === \"district\" ? true : false,\n              school_required: roleRequirement === \"school\" ? true : false,\n              room_required: roleRequirement === \"room\" ? true : false,\n              access: accessToRole,\n              system_user_role_id: roleId,\n            }\n          );\n          console.log(res.data);\n          if (res) updateAccessRoles(res.data.data);\n          setLoadingRequest(false);\n          cleanAndCloseModal();\n          setFeedBack({\n            type: \"success\",\n            message: `Role has been successfully updated.`,\n          });\n        }\n      } catch (error) {\n        console.log({ role_error: error });\n        setFeedBack({ type: \"danger\", message: errorToText(error) });\n      }\n    }\n    setLoadingRequest(false);\n  };\n\n  const loadCurrentRoles = (\n    accessRoles: SystemUserRoleInterface[]\n  ): SystemUserRoleInterface[] => {\n    if (filterStatus !== \"all\")\n      return accessRoles.filter((role) => role.status === filterStatus);\n    else return accessRoles;\n  };\n\n  const changeViewRole = (role_id: string) => {\n    let result = access.accessRoles.filter(\n      (role) => role.system_user_role_id === role_id\n    )[0];\n    setViewRole(true);\n    setRoleId(result.system_user_role_id);\n    setRoleSelected(result);\n    setRoleTitle(result.role);\n    setRequirement(\n      result.district_required\n        ? \"district\"\n        : result.school_required\n        ? \"school\"\n        : result.room_required\n        ? \"room\"\n        : \"none\"\n    );\n    setAccessToRole(CustomizeAccess(result.access));\n  };\n\n  return (\n    <>\n      {feedBack &&\n        feedBack.type !== \"\" &&\n        openModal === ModalStateRole.Close_Modal && (\n          <div\n            className={`alert-${feedBack.type} flex flex-row items-center relative my-2`}\n          >\n            <span className=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n              <MdClose\n                className=\"h-5 w-5 text-gray-700 hover:font-bold\"\n                title=\"Close\"\n                onClick={() => setFeedBack({ type: \"\", message: \"\" })}\n              />\n            </span>\n            <MdErrorOutline className=\"h-10 w-10\" />\n            <div className=\"alert-content ml-4\">\n              <div className=\"alert-title font-semibold text-lg\">\n                {feedBack.type === \"success\" ? \"Success\" : \"Error\"}\n              </div>\n              <div className=\"alert-description text-sm\">\n                {feedBack.message}\n              </div>\n            </div>\n          </div>\n        )}\n\n      <div\n        className={`w-full bg-white text-right p-2 border border-gray-300 rounded mb-10`}\n      >\n        <button\n          className=\"btn btn-blue\"\n          onClick={() => {\n            setOpenModal(ModalStateRole.Add_Role_Access);\n            accessTasks && setAccessToRole(accessTasks);\n            setRoleId(\"\");\n            setRoleTitle(\"\");\n            setRequirement(\"none\");\n          }}\n          disabled={!accessTasks}\n        >\n          New Role\n        </button>\n        <div className=\"overflow-x-auto w-full mt-2\">\n          <Table\n            columns={[\n              { columnTitle: \"#\", alignText: \"left\" },\n              { columnTitle: \"User Roles\", alignText: \"left\" },\n              { columnTitle: \"Level\", alignText: \"left\" },\n              { columnTitle: \"\", alignText: \"center\" },\n            ]}\n            rows={userRows}\n            pagination={true}\n            search={true}\n            searchBG=\"bg-white\"\n            thColor=\"blue\"\n          />\n        </div>\n      </div>\n\n      {/* -----Modal Management----- */}\n      {openModal !== ModalStateRole.Close_Modal && (\n        <Modal\n          backDrop={true}\n          theme={Themes.default}\n          close={(): void => {\n            cleanAndCloseModal();\n            setOpenModal(ModalStateRole.Close_Modal);\n          }}\n          displayClose={true}\n          backDropClose={false}\n          title={\n            <div className=\"bg-white text-gray-500 font-bold text-2xl\">\n              {openModal === ModalStateRole.Add_Role_Access\n                ? `Create New `\n                : `Update `}\n              Role\n            </div>\n          }\n          widthSizeClass={ModalSize.extraLarge}\n          padding={{ title: true, body: false, footer: false }}\n        >\n          {/* User Access Select */}\n          <div className=\"h-full bg-gray-100 py-1\">\n            {feedBack && feedBack.type !== \"\" && (\n              <div\n                className={`alert-${feedBack.type} flex flex-row items-center relative mx-3`}\n              >\n                <span className=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n                  <MdClose\n                    className=\"h-5 w-5 text-gray-700 hover:font-bold\"\n                    title=\"Close\"\n                    onClick={() => setFeedBack({ type: \"\", message: \"\" })}\n                  />\n                </span>\n                <MdErrorOutline className=\"h-10 w-10\" />\n                <div className=\"alert-content ml-4\">\n                  <div className=\"alert-title font-semibold text-lg\">\n                    {feedBack.type === \"success\" ? \"Success\" : \"Error\"}\n                  </div>\n                  <div className=\"alert-description text-sm\">\n                    {feedBack.message}\n                  </div>\n                </div>\n              </div>\n            )}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 justify-between gap-3\">\n              <div className=\"bg-white shadow my-3 ml-3 py-2 rounded\">\n                <div\n                  className={`flex row items-center p-3 mb-2 gap-2 cursor-pointer ${\n                    !stepsStatus.stepOne\n                      ? \"text-blue-800 bg-blue-100 border-blue-800 border-l-4\"\n                      : \"text-gray-800 bg-gray-100\"\n                  }`}\n                  onClick={() => stepsStatus.stepOne && handleSteps(1)}\n                >\n                  <div className=\"w-10 h-10 bg-white border-2 border-gary-200 rounded-full text-lg text-white flex items-center\">\n                    <span className=\"text-grey-darker text-center w-full text-gray-700\">\n                      1\n                    </span>\n                  </div>\n                  <div className=\"flex flex-col font-semibold text-xl\">\n                    Basic Information\n                    <span className=\"font-normal text-sm\">\n                      Input Role Title & a required field\n                    </span>\n                  </div>\n                </div>\n\n                <div\n                  className={`flex row items-center p-3 mb-2 gap-2 cursor-pointer ${\n                    stepsStatus.stepOne && !stepsStatus.stepTwo\n                      ? \"text-blue-800 bg-blue-100 border-blue-800 border-l-4\"\n                      : \"text-gray-800 bg-gray-100\"\n                  }`}\n                  onClick={() =>\n                    !stepsStatus.stepOne &&\n                    !stepsStatus.stepTwo &&\n                    handleSteps(2)\n                  }\n                >\n                  <div className=\"w-10 h-10 bg-white border-2 border-gary-200 rounded-full text-lg text-white flex items-center\">\n                    <span className=\"text-grey-darker text-center w-full text-gray-700\">\n                      2\n                    </span>\n                  </div>\n                  <div className=\"flex flex-col font-semibold text-xl\">\n                    Access Permission\n                    <span className=\"font-normal text-sm\">\n                      Give permission to new role\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"md:col-span-2 col-span-1 bg-white shadow my-3 mr-3 py-2 rounded\">\n                {!stepsStatus.stepOne ? (\n                  <StepOne\n                    handleSubmit={handleSubmit}\n                    setRoleTitle={setRoleTitle}\n                    roleTitle={roleTitle}\n                    setOpenModal={setOpenModal}\n                    setRequirement={setRequirement}\n                    roleRequirement={roleRequirement}\n                    error={error}\n                    setError={setError}\n                  />\n                ) : (\n                  accessToRole && (\n                    <StepTwo\n                      handleSubmit={handleSubmit}\n                      roleTitle={roleTitle}\n                      setAccessToRole={setAccessToRole}\n                      accessToRole={accessToRole}\n                      error={error}\n                      setError={setError}\n                      loadingRequest={loadingRequest}\n                    />\n                  )\n                )}\n              </div>\n            </div>\n          </div>\n        </Modal>\n      )}\n\n      {/* -----Modal VIEW Management----- */}\n      {viewRole && (\n        <Modal\n          backDrop={true}\n          theme={Themes.default}\n          close={(): void => {\n            setViewRole(false);\n            setRoleId(\"\");\n            setRoleSelected(null);\n            setRoleTitle(\"\");\n            setRequirement(\"none\");\n            setAccessToRole(undefined);\n          }}\n          displayClose={true}\n          backDropClose={false}\n          title={\n            <div className=\"bg-white text-gray-500 font-bold text-2xl\">\n              {roleTitle} Role\n            </div>\n          }\n          widthSizeClass={ModalSize.large}\n          padding={{ title: true, body: false, footer: false }}\n        >\n          {/* User Access Select */}\n          <div className=\"h-full bg-gray-100 py-1 px-2\">\n            <div className=\"my-3 flex justify-between items-start\">\n              <div>\n                <div className=\"flex flex-col\">\n                  <select\n                    className={`rounded px-2 py-2 w-full bg-white focus:outline-none border-gray-400 border-2`}\n                    onChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\n                      changeViewRole(e.target.value)\n                    }\n                    value={roleId}\n                    disabled={loadingRequest}\n                  >\n                    <option value=\"\">Document Category</option>\n                    {loadCurrentRoles(access.accessRoles).map((item, index) => (\n                      <option\n                        key={index + item.system_user_role_id}\n                        value={item.system_user_role_id}\n                      >\n                        {item.role}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                {roleSelected?.district_required && (\n                  <div className=\"flex items-center text-lg gap-1 mt-1\">\n                    <span className=\"text-gray-600\">Level: </span>\n                    <h1 className=\"font-semibold text-gray-900\">District</h1>\n                  </div>\n                )}\n                {roleSelected?.school_required && (\n                  <div className=\"flex items-center text-lg gap-1 mt-1\">\n                    <span className=\"text-gray-600\">Level: </span>\n                    <h1 className=\"font-semibold text-gray-900\">School</h1>\n                  </div>\n                )}\n                {roleSelected?.room_required && (\n                  <div className=\"flex items-center text-lg gap-1 mt-1\">\n                    <span className=\"text-gray-600\">Level: </span>\n                    <h1 className=\"font-semibold text-gray-900\">Room</h1>\n                  </div>\n                )}\n              </div>\n              <button\n                className=\"btn bg-blue-500 text-white hover:bg-blue-700 inline-flex mr-1\"\n                onClick={() => {\n                  setOpenModal(ModalStateRole.Update_Role_Access);\n                  setViewRole(false);\n                  setStepStatus({ stepOne: true, stepTwo: false });\n                }}\n                disabled={openModal !== ModalStateRole.Close_Modal}\n              >\n                <MdEdit className=\"h-5 w-5 mr-1\" />\n                <span>Edit</span>\n              </button>\n            </div>\n\n            <Table\n              columns={[\n                {\n                  columnTitle: \"Access Name\",\n                  alignText: \"left\",\n                  padding: \"p-3\",\n                },\n                { columnTitle: \"Create\", alignText: \"left\" },\n                { columnTitle: \"View\", alignText: \"left\" },\n                { columnTitle: \"Update\", alignText: \"left\" },\n                { columnTitle: \"Delete\", alignText: \"left\" },\n              ]}\n              rows={typeRows}\n              pagination={false}\n              search={true}\n              searchBG=\"bg-gray-100\"\n              thColor=\"gray\"\n              tableId=\"tableAccessForm\"\n            />\n          </div>\n        </Modal>\n      )}\n    </>\n  );\n};\n\nconst mapStateToProps = ({ access }: StoreState): { access: AccessType } => {\n  return { access: access };\n};\n\nexport default connect(mapStateToProps, {\n  createAccessRoles,\n  updateAccessRoles,\n})(AccessRole);\n","import React from \"react\";\nimport { ModalStateRole } from \"./AccessRole\";\ninterface AppProps {\n  handleSubmit: (e: React.FormEvent<HTMLFormElement>, step: 1 | 2) => void;\n  setRoleTitle: React.Dispatch<React.SetStateAction<string>>;\n  roleTitle: string;\n  setOpenModal: React.Dispatch<React.SetStateAction<ModalStateRole>>;\n  setRequirement: React.Dispatch<\n    React.SetStateAction<\"none\" | \"institute\" | \"district\" | \"school\" | \"room\">\n  >;\n  roleRequirement: \"none\" | \"institute\" | \"district\" | \"school\" | \"room\";\n  error: {\n    element: string;\n    msg: string;\n  };\n  setError: React.Dispatch<\n    React.SetStateAction<{\n      element: string;\n      msg: string;\n    }>\n  >;\n}\nconst StepOne: React.FC<AppProps> = ({\n  handleSubmit,\n  setRoleTitle,\n  roleTitle,\n  roleRequirement,\n  setRequirement,\n  error,\n  setError,\n}) => {\n  return (\n    <div>\n      <form className=\"max-w-xl mx-auto\" onSubmit={(e) => handleSubmit(e, 1)}>\n        <h1 className=\"text-3xl font-semibold mt-3 mb-5 text-center\">\n          Basic Information\n        </h1>\n        <div className=\"-mx-3 md:flex mb-6\">\n          <div className=\"md:w-full px-3\">\n            <label\n              htmlFor=\"role-title\"\n              className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"\n            >\n              Role\n            </label>\n            <input\n              type=\"text\"\n              className={`text-left input-white w-20 inline-block border-2 ${\n                error.element === \"role-title\"\n                  ? \"border-red-500\"\n                  : \"border-gray-500\"\n              }`}\n              value={roleTitle}\n              placeholder=\"Role title\"\n              onChange={(e) => {\n                setRoleTitle(e.target.value);\n                setError({\n                  element: \"\",\n                  msg: \"\",\n                });\n              }}\n              // disabled={openModal !== ModalStateRole.Update_Role_Access}\n            />\n            <p\n              className={`text-red-700 mt-1 ml-1 text-sm italic ${\n                error.element !== \"role-title\" && \"hidden\"\n              }`}\n            >\n              {error.msg}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col mb-5\">\n          <label>Field</label>\n          <span className=\"text-gray-500 text-sm\">\n            Required Field for this role\n          </span>\n          <div className=\"grid grid-flow-row grid-cols-3 sm:grid-cols-4 md:grid-cols-5 grid-rows- gap-4\">\n            <label className=\"inline-flex items-center mt-3\">\n              <input\n                type=\"radio\"\n                name=\"field\"\n                className=\"form-radio h-5 w-5 text-gray-600\"\n                onChange={() => setRequirement(\"institute\")}\n                checked={roleRequirement === \"institute\"}\n              />\n              <span className=\"ml-2 text-gray-700\">Institue</span>\n            </label>\n            <label className=\"inline-flex items-center mt-3\">\n              <input\n                type=\"radio\"\n                name=\"field\"\n                className=\"form-radio h-5 w-5 text-gray-600\"\n                onChange={() => setRequirement(\"district\")}\n                checked={roleRequirement === \"district\"}\n              />\n              <span className=\"ml-2 text-gray-700\">District</span>\n            </label>\n            <label className=\"inline-flex items-center mt-3\">\n              <input\n                type=\"radio\"\n                name=\"field\"\n                className=\"form-radio h-5 w-5 text-gray-600\"\n                onChange={() => setRequirement(\"school\")}\n                checked={roleRequirement === \"school\"}\n              />\n              <span className=\"ml-2 text-gray-700\">School</span>\n            </label>\n            <label className=\"inline-flex items-center mt-3\">\n              <input\n                type=\"radio\"\n                name=\"field\"\n                className=\"form-radio h-5 w-5 text-gray-600\"\n                onChange={() => setRequirement(\"room\")}\n                checked={roleRequirement === \"room\"}\n              />\n              <span className=\"ml-2 text-gray-700\">Room</span>\n            </label>\n            <label className=\"inline-flex items-center mt-3\">\n              <input\n                type=\"radio\"\n                name=\"field\"\n                className=\"form-radio h-5 w-5 text-gray-600\"\n                onChange={() => {\n                  setRequirement(\"none\");\n                  setError({\n                    element: \"\",\n                    msg: \"\",\n                  });\n                }}\n                checked={roleRequirement === \"none\"}\n              />\n              <span className=\"ml-2 text-gray-700\">None of the above</span>\n            </label>\n          </div>\n          <p\n            className={`text-red-700 mt-1 ml-1 text-xs italic ${\n              error.element !== \"role-field\" && \"hidden\"\n            }`}\n          >\n            {error.msg}\n          </p>\n        </div>\n        <div className=\"flex justify-end gap-5 mt-4\">\n          <button\n            className=\"btn bg-primary text-white hover:bg-blue-600 focus:outline-none\"\n            type=\"submit\"\n            // disabled\n          >\n            Save & Continue\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default StepOne;\n","import React from \"react\";\nimport {\n  MdArrowForward,\n  MdDelete,\n  MdEdit,\n  MdRemoveRedEye,\n} from \"react-icons/md\";\nimport { SiAddthis } from \"react-icons/si\";\nimport Table from \"../../components/Table/Table\";\nimport { AccessTaskInterface } from \"../../shared/interfaces\";\ninterface AppProps {\n  handleSubmit: (e: React.FormEvent<HTMLFormElement>, step: 1 | 2) => void;\n  roleTitle: string;\n  setAccessToRole: React.Dispatch<\n    React.SetStateAction<AccessTaskInterface[] | undefined>\n  >;\n  accessToRole: AccessTaskInterface[];\n  error: {\n    element: string;\n    msg: string;\n  };\n  setError: React.Dispatch<\n    React.SetStateAction<{\n      element: string;\n      msg: string;\n    }>\n  >;\n  loadingRequest: boolean;\n}\n\nconst StepTwo: React.FC<AppProps> = ({\n  handleSubmit,\n  setAccessToRole,\n  accessToRole,\n  roleTitle,\n  error,\n  setError,\n  loadingRequest,\n}) => {\n  const updateFieldChanged = (\n    index: number,\n    target: \"create\" | \"view\" | \"update\" | \"delete\",\n    value: boolean\n  ) => {\n    let newArr: AccessTaskInterface[] = [...accessToRole]; // copying the old datas array\n    switch (target) {\n      case \"create\":\n        newArr[index].permitted.create = value;\n        break;\n      case \"view\":\n        newArr[index].permitted.view = value;\n        break;\n      case \"update\":\n        newArr[index].permitted.update = value;\n        break;\n      default:\n        newArr[index].permitted.delete = value;\n        break;\n    }\n\n    setAccessToRole(newArr);\n  };\n  const formTasks = (): JSX.Element[] => {\n    console.log({ accessToRole });\n    return accessToRole.map((access, index) => (\n      <tr\n        key={access.id + index}\n        className=\"accordion border-b border-grey-light hover:bg-gray-100\"\n      >\n        <td className=\"text-gray-800 text-base font-medium text-left px-3\">\n          {access.task}\n        </td>\n        <td className=\"py-1 px-3\">\n          <input\n            type=\"checkbox\"\n            className=\"form-checkbox h-5 w-5 text-gray-600\"\n            onChange={() => {\n              updateFieldChanged(index, \"create\", !access.permitted.create);\n              setError({ element: \"\", msg: \"\" });\n            }}\n            checked={access.permitted.create}\n          />\n        </td>\n        <td className=\"py-1 px-3\">\n          <input\n            type=\"checkbox\"\n            className=\"form-checkbox h-5 w-5 text-gray-600\"\n            onChange={() => {\n              updateFieldChanged(index, \"view\", !access.permitted.view);\n              setError({ element: \"\", msg: \"\" });\n            }}\n            checked={access.permitted.view}\n          />\n        </td>\n        <td className=\"py-1 px-3\">\n          <input\n            type=\"checkbox\"\n            className=\"form-checkbox h-5 w-5 text-gray-600\"\n            onChange={() => {\n              updateFieldChanged(index, \"update\", !access.permitted.update);\n              setError({ element: \"\", msg: \"\" });\n            }}\n            checked={access.permitted.update}\n          />\n        </td>\n        <td className=\"py-1 px-3\">\n          <input\n            type=\"checkbox\"\n            className=\"form-checkbox h-5 w-5 text-gray-600\"\n            onChange={() => {\n              updateFieldChanged(index, \"delete\", !access.permitted.delete);\n              setError({ element: \"\", msg: \"\" });\n            }}\n            checked={access.permitted.delete}\n          />\n        </td>\n      </tr>\n    ));\n  };\n  return (\n    <div>\n      <form className=\"max-w-xl mx-auto\" onSubmit={(e) => handleSubmit(e, 2)}>\n        <div className=\"mb-5\">\n          <div className=\"mb-5 mt-3\">\n            <h1 className=\"text-3xl font-semibold text-center\">\n              Access Permissions Settings\n            </h1>\n            <div className=\"flex items-center gap-2 mt-1 justify-center\">\n              <MdArrowForward className=\"w-6 h-6\" />\n              <h1 className=\"text-xl font-semibold text-gray-600 text-center\">\n                {roleTitle}\n              </h1>\n            </div>\n          </div>\n          <div className=\"md:flex mb-3\">\n            <div className=\"grid grid-cols-2 grid-rows-2 gap-4\">\n              <div className=\"inline-flex gap-2 items-center\">\n                <SiAddthis className=\"w-12 h-12 text-gray-600\" />\n                <div className=\"flex flex-col\">\n                  <h3 className=\"font-semibold text-xl\">Create</h3>\n                  <span className=\"text-gray-600 text-sm md:pr-1\">\n                    This permission gives the user the ability to create\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"inline-flex gap-2 items-center\">\n                <MdRemoveRedEye className=\"w-12 h-12 text-gray-600\" />\n                <div className=\"flex flex-col\">\n                  <h3 className=\"font-semibold text-xl\">View</h3>\n                  <span className=\"text-gray-600 text-sm md:pr-1\">\n                    This permission gives the user the ability to view\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"inline-flex gap-2 items-center\">\n                <MdEdit className=\"w-12 h-12 text-gray-600\" />\n                <div className=\"flex flex-col\">\n                  <h3 className=\"font-semibold text-xl\">Update</h3>\n                  <span className=\"text-gray-600 text-sm md:pr-1\">\n                    This permission gives the user the ability to update\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"inline-flex gap-2 items-center\">\n                <MdDelete className=\"w-12 h-12 text-gray-600\" />\n                <div className=\"flex flex-col\">\n                  <h3 className=\"font-semibold text-xl\">Delete</h3>\n                  <span className=\"text-gray-600 text-sm md:pr-1\">\n                    This permission gives the user the ability to delete\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <p\n            className={`text-red-700 mt-1 ml-1 text-base italic ${\n              error.element !== \"role-access\" && \"hidden\"\n            }`}\n          >\n            {error.msg}\n          </p>\n\n          <Table\n            columns={[\n              {\n                columnTitle: \"Access Name\",\n                alignText: \"left\",\n                padding: \"p-3\",\n              },\n              { columnTitle: \"Create\", alignText: \"left\" },\n              { columnTitle: \"View\", alignText: \"left\" },\n              { columnTitle: \"Update\", alignText: \"left\" },\n              { columnTitle: \"Delete\", alignText: \"left\" },\n            ]}\n            rows={formTasks}\n            pagination={false}\n            search={true}\n            thColor=\"gray\"\n          />\n\n          <div className=\"flex justify-end gap-5 mt-4\">\n            <button\n              className=\"btn bg-primary text-white hover:bg-blue-600 focus:outline-none\"\n              type=\"submit\"\n              disabled={loadingRequest}\n            >\n              {loadingRequest === true ? \"Savig...\" : \"Complete\"}\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default StepTwo;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { MdClose, MdErrorOutline, MdLock } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\nimport { StoreState } from \"../../reducers\";\nimport AccessRole from \"./AccessRole\";\nimport { fetchAccessRoles } from \"../../actions/access\";\nimport { AccessType } from \"../../reducers/access\";\nimport {\n  MainItem,\n  SideNavigation,\n} from \"../../components/Navigation/SideNavigation\";\nimport { toTwoDigit } from \"../../shared/dataTest\";\n\nenum TabTypes {\n  All_Roles = \"All Roles\",\n  Active_Roles = \"Active Roles\",\n  Blocked_Roles = \"Blocked Roles\",\n}\n\ninterface AppProps {\n  access: AccessType;\n  fetchAccessRoles: Function;\n}\n\nconst Index: React.FC<AppProps> = (props) => {\n  const [labelCounts, setLabelCounts] = useState<{\n    allRole: number;\n    activeRole: number;\n    blockedRole: number;\n  }>({\n    allRole: 0,\n    activeRole: 0,\n    blockedRole: 0,\n  });\n  const [roleStatus, setRoleStatus] = useState<TabTypes>(TabTypes.All_Roles);\n  const [feedBack, setFeedBack] = useState<{\n    type: \"success\" | \"danger\" | \"warning\" | \"\";\n    message: string;\n  }>();\n  const [loading, setLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    if (!props.access.accessRoles.length && loading) {\n      console.log(props.access.accessRoles);\n      props.fetchAccessRoles();\n    }\n\n    if (props.access.accessRoles.length) {\n      setLabelCounts({\n        allRole: props.access.accessRoles.length,\n        activeRole: props.access.accessRoles.filter((role) => role.status)\n          .length,\n        blockedRole: props.access.accessRoles.filter((role) => !role.status)\n          .length,\n      });\n      setLoading(false);\n    }\n  }, [loading, props, props.access.accessRoles]);\n\n  const handleTabs = (): JSX.Element => {\n    if (roleStatus === TabTypes.Blocked_Roles) {\n      return <AccessRole filterStatus={false} />;\n    } else if (roleStatus === TabTypes.Active_Roles) {\n      return <AccessRole filterStatus={true} />;\n    } else return <AccessRole filterStatus=\"all\" />;\n  };\n\n  if (loading === true) {\n    return (\n      <div className=\"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse\">\n        Loading roles...\n      </div>\n    );\n  }\n\n  return (\n    <Fragment>\n      <SideNavigation>\n        <span className=\"text-sm mt-2\">Filter by Status</span>\n        <section\n          className=\"mt-1\"\n          onClick={() => setRoleStatus(TabTypes.All_Roles)}\n        >\n          <MainItem\n            title={\"All Role\"}\n            count={labelCounts.allRole}\n            active={roleStatus === TabTypes.All_Roles ? true : false}\n          />\n        </section>\n        <section\n          className=\"mt-1\"\n          onClick={() => setRoleStatus(TabTypes.Active_Roles)}\n        >\n          <MainItem\n            title={\"Active Role\"}\n            count={labelCounts.activeRole}\n            active={roleStatus === TabTypes.Active_Roles ? true : false}\n          />\n        </section>\n        <section\n          className=\"mt-1\"\n          onClick={() => setRoleStatus(TabTypes.Blocked_Roles)}\n        >\n          <MainItem\n            title={\"Disabled Role\"}\n            count={labelCounts.blockedRole}\n            active={roleStatus === TabTypes.Blocked_Roles ? true : false}\n          />\n        </section>\n      </SideNavigation>\n      {/* Title */}\n      <div className=\"w-full my-5 px-1\">\n        {/* header title */}\n        <div className=\"flex flex-row items-center\">\n          <MdLock className=\"text-blue-700 w-28 h-28\" />\n          <div className=\"flex flex-col\">\n            <h1 className=\"text-3xl font-semibold\">System Roles Management</h1>\n            <div className=\"flex flex-row items-center mx-2 md:gap-3 gap-2\">\n              <div className=\"flex flex-col mt-1\">\n                <span className=\"text-gray-600 text-base\">All Role(s)</span>\n                <span className=\"text-gray-600 text-3xl font-bold\">\n                  {toTwoDigit(labelCounts.allRole)}\n                </span>\n              </div>\n              {roleStatus !== TabTypes.Blocked_Roles && (\n                <div className=\"flex flex-col mt-1\">\n                  <span className=\"text-gray-600 text-base\">\n                    Active Role(s)\n                  </span>\n                  <span className=\"text-gray-600 text-3xl font-bold\">\n                    {toTwoDigit(labelCounts.activeRole)}\n                  </span>\n                </div>\n              )}\n              {roleStatus !== TabTypes.Active_Roles && (\n                <div className=\"flex flex-col mt-1\">\n                  <span className=\"text-gray-600 text-base\">\n                    Blocked Role(s)\n                  </span>\n                  <span className=\"text-gray-600 text-3xl font-bold\">\n                    {toTwoDigit(labelCounts.blockedRole)}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        {/* end header title */}\n      </div>\n      {/* Feedback */}\n      {feedBack && feedBack.type !== \"\" && (\n        <div\n          className={`alert-${feedBack.type} flex flex-row items-center relative my-2`}\n        >\n          <span className=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n            <MdClose\n              className=\"h-5 w-5 text-gray-700 hover:font-bold\"\n              title=\"Close\"\n              onClick={() => setFeedBack({ type: \"\", message: \"\" })}\n            />\n          </span>\n          <MdErrorOutline className=\"h-10 w-10\" />\n          <div className=\"alert-content ml-4\">\n            <div className=\"alert-title font-semibold text-lg\">\n              {feedBack.type === \"success\" ? \"Success\" : \"Error\"}\n            </div>\n            <div className=\"alert-description text-sm\">{feedBack.message}</div>\n          </div>\n        </div>\n      )}\n      <div className=\"p-2 overflow-x-auto\">{handleTabs()}</div>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = ({ access }: StoreState): { access: AccessType } => {\n  return { access: access };\n};\n\nexport const AccessManagement = connect(mapStateToProps, {\n  fetchAccessRoles,\n})(Index);\n"],"sourceRoot":""}