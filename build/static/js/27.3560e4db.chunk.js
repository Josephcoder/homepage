(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[27],{680:function(t,e,s){"use strict";s.d(e,"b",(function(){return h})),s.d(e,"a",(function(){return x}));var i=s(26),n=s(25),a=s(28),r=s(27),o=s(4),c=s.n(o),l=s(22),d=s(3),u=s(12),p=s(1),b=function(t){Object(a.a)(s,t);var e=Object(r.a)(s);function s(t){var n;return Object(i.a)(this,s),(n=e.call(this,t)).componentDidMount=function(){return n.props.PageHasSubNav(!0)},n.componentWillUnmount=function(){return n.props.PageHasSubNav(!1)},n.state={loading:!1},n}return Object(n.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var t=this.props.system.navigation;return Object(p.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===t?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(c.a.Component),h=Object(l.b)((function(t){return{auth:t.auth,system:t.system}}),{NavToogle:d.Lb,PageHasSubNav:d.Mb})(b),x=function(t){var e=t.title,s=void 0===e?"":e,i=t.icon,n=void 0===i?u.n:i,a=t.active,r=void 0!==a&&a,o=t.count,c=void 0===o?0:o,l=n;return Object(p.jsxs)("section",{className:"".concat(!0===r?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:s})]}),c>0?Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:c}):null]})}},681:function(t,e,s){"use strict";s.d(e,"e",(function(){return p})),s.d(e,"c",(function(){return b})),s.d(e,"a",(function(){return h})),s.d(e,"d",(function(){return x})),s.d(e,"b",(function(){return j})),s.d(e,"f",(function(){return m}));var i=s(5),n=s.n(i),a=s(7),r=s(10),o=s.n(r),c=s(6),l=s(9),d=s(16),u=s(15),p=function(t){return function(){var e=Object(a.a)(n.a.mark((function e(s){var i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,""),e.prev=1,Object(d.b)(),e.next=5,o.a.get("".concat(l.a.AUTH,"/settings"));case 5:i=e.sent,s({type:c.a.GET_SYSTEM_SETTINGS,payload:i.data}),t(!1,""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log({code_error:e.t0}),t(!1,Object(u.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},b=function(t){return function(){var e=Object(a.a)(n.a.mark((function e(s){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:c.a.DISABLE_SYSTEM_SETTINGS,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(t){return function(){var e=Object(a.a)(n.a.mark((function e(s){var i,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,""),e.prev=1,Object(d.b)(),e.next=5,o.a.get("".concat(l.a.AUTH,"/allroleaccess"));case 5:i=e.sent,a=i.data.map((function(t){return{id:t.id,task:t.title,key:t.key,permitted:t.permitted}})),s({type:c.a.GET_TASK_ACCESS,payload:a}),t(!1,"",a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log({code_error:e.t0}),t(!1,Object(u.a)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},x=function(t){return function(){var e=Object(a.a)(n.a.mark((function e(s){var i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,""),e.prev=1,Object(d.b)(),e.next=5,o.a.get("".concat(l.a.APPLICATION,"/position"));case 5:i=e.sent,s({type:c.a.GET_POSTIONS,payload:i.data}),t(!1,""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log({code_error:e.t0}),t(!1,Object(u.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},j=function(t){return console.log({deletePosition:t}),function(){var e=Object(a.a)(n.a.mark((function e(s){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:c.a.DELETE_POSITION,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(t){return function(){var e=Object(a.a)(n.a.mark((function e(s){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:c.a.PUBLISH_POSITION,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},683:function(t,e,s){"use strict";s(4);var i=s(12),n=s(1);e.a=function(){return Object(n.jsx)("div",{className:"my-5",children:Object(n.jsxs)("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center p-6 my-8 text-yellow-900 border border-yellow-900",children:[Object(n.jsx)(i.Q,{className:"text-6xl md:text-9xl"}),Object(n.jsxs)("div",{className:"text-center flex flex-col",children:[Object(n.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:"No session available"}),Object(n.jsx)("span",{className:"text-lg",children:"Please Wait for the system to publish the sessions or contact the administrator"})]})]})})}},686:function(t,e,s){"use strict";s(4);var i=s(1);e.a=function(t){var e=function(){for(var e=[],s=0;s<t.cols;s++)e.push(s);return e.map((function(t){return Object(i.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(i.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},t)}))};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("tr",{className:"border-b border-gray-200",children:e()},228),Object(i.jsx)("tr",{className:"border-b border-gray-200",children:e()},22648),Object(i.jsx)("tr",{className:"border-b border-gray-200",children:e()},229768)]})}},689:function(t,e,s){"use strict";s(4);var i=s(717),n=s(718),a=s(34),r=s(1);e.a=function(t){var e=t.fileData,s=t.fileName,o=t.btnName,c=void 0===o?"Excel":o,l=t.className,d=void 0===l?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":l,u=t.showIcon,p=void 0===u||u;return Object(r.jsxs)("button",{onClick:function(t){return function(t,e){var s={Sheets:{data:n.utils.json_to_sheet(t)},SheetNames:["data"]},a=n.write(s,{bookType:"xlsx",type:"array"}),r=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});i.saveAs(r,e+".xlsx")}(e,s)},className:d,children:[p&&Object(r.jsx)(a.j,{}),c]})}},690:function(t,e,s){"use strict";s.d(e,"a",(function(){return d}));var i=s(5),n=s.n(i),a=s(7),r=s(711),o=s(24),c=s.p+"static/media/mineduc.11a9ae1c.png";s(716);var l=function(t){var e=t.internal.getNumberOfPages();t.setFont("helvetica","italic"),t.setFontSize(8);for(var s=1;s<=e;s++)t.setPage(s),t.text("Page "+String(s)+" of "+String(e),t.internal.pageSize.width/2,297,{align:"center"})},d=function(){var t=Object(a.a)(n.a.mark((function t(e,s,i){var a,d,u,p,b,h,x,j;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i(!0),a=e.orientation?e.orientation:"p",d=20,20,185,(u=new r.default(a,"mm","a4")).setTextColor(95,95,95),u.setFontSize(28),u.addImage(c,"png",20,20,10,10),u.text("MINEDUC",32,28.5,void 0,"left"),u.setFontSize(26),u.text(e.title,u.internal.pageSize.getWidth()/2,42.7,void 0,"center"),u.setFontSize(20),u.text(e.institute,u.internal.pageSize.getWidth()/2,53.7,void 0,"center"),p=u.splitTextToSize(e.subject,145),u.setFontSize(16),b=63,u.setTextColor(95,95,95),u.text("".concat(e.subjectTitle,": "),d,b),h=u.getTextWidth("".concat(e.subjectTitle,": ")),u.setTextColor(38,38,38),x=0;x<p.length;x++)b>280&&(b=10,u.addPage()),u.text(p[x],d+h,b),b+=7;return u.setTextColor(95,95,95),u.text("Period: ",d,b+3),h=u.getTextWidth("Period: "),u.setTextColor(38,38,38),u.text(e.period,d+h,b+3),u.autoTable({html:s,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),u.setFontSize(12),j=u.lastAutoTable.finalY,u.text("Reported by: ".concat(e.doneBy),d,j+15),u.text("Report downloaded on "+Object(o.a)((new Date).toString()),d,j+23),l(u),t.next=35,u.save("".concat(e.title+": "+e.subject+": "+e.period,".pdf"),{returnPromise:!0}).then(i(!1));case 35:case"end":return t.stop()}}),t)})));return function(e,s,i){return t.apply(this,arguments)}}()},697:function(t,e,s){"use strict";var i=s(17),n=s(11),a=s(18),r=s(4),o=s.n(r),c=s(12),l=s(38),d=s(8),u=s(24),p=s(47),b=s(1),h=function(t){var e,s=new Date,i=[],r=Object(a.a)(t);try{for(r.s();!(e=r.n()).done;){var o=e.value,c=new Date(o.start_date),l=new Date(o.end_date);c.getTime()<=s.getTime()&&l.getTime()>=s.getTime()&&o.type_status===d.j.OPEN&&(i=[].concat(Object(n.a)(i),[o]))}}catch(u){r.e(u)}finally{r.f()}return i},x=function(t){var e,s,n=Object(r.useState)(null),a=Object(i.a)(n,2),o=a[0],d=a[1],x=Object(r.useState)(""),j=Object(i.a)(x,2),m=j[0],f=j[1];return Object(b.jsxs)("div",{className:"",children:[Object(b.jsx)("div",{className:"px-3",children:Object(b.jsx)("input",{onChange:function(t){return f(t.target.value)},type:"text",className:"py-3 px-4 w-full rounded border border-gray-400 mb-3",placeholder:"Search by year, name",disabled:null===t.allSession||0===t.allSession.length})}),Object(b.jsx)("div",{className:"bg-gray-100 px-3 pt-3 pb-2 rounded-b",children:null===t.allSession?Object(b.jsx)(l.a,{}):0===t.allSession.length?Object(b.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center mb-2 bg-white py-4",children:[Object(b.jsx)(c.Lb,{className:"text-6xl"}),Object(b.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(b.jsx)("span",{children:"No session found!"})})]}):Object(b.jsxs)("section",{children:[t.chooseAll&&Object(b.jsxs)("div",{className:"rounded border ".concat("all"===t.currentSelected?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2 flex flex-col md:flex-row items-start md:items-center md:justify-between"),children:[Object(b.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"===t.currentSelected?Object(b.jsx)(c.t,{className:"text-blue-500 text-4xl"}):Object(b.jsx)(c.Bb,{className:"text-gray-300 text-4xl"}),Object(b.jsx)("div",{className:"flex flex-col",children:Object(b.jsx)("div",{className:"text-gray-600 font-bold",children:"All session"})})]}),Object(b.jsx)("div",{onClick:function(){t.setSelectSession("all")},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"})]}),(e=t.allSession,s=m,Object(p.a)(e,s)).map((function(e,s){return Object(b.jsxs)("div",{className:"rounded border ".concat("all"!==t.currentSelected&&t.currentSelected.session_plan_id===e.session_plan_id?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2"),children:[Object(b.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between ",children:[Object(b.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"!==t.currentSelected&&t.currentSelected.session_plan_id===e.session_plan_id?Object(b.jsx)(c.t,{className:"text-blue-500 text-4xl"}):Object(b.jsx)(c.Bb,{className:"text-gray-300 text-4xl"}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("div",{className:"".concat("all"!==t.currentSelected&&t.currentSelected.session_plan_id===e.session_plan_id?"text-blue-600":"text-gray-600"," font-bold"),children:e.session_plan_name}),Object(b.jsxs)("div",{className:"text-sm text-gray-500",children:[Object(b.jsx)("span",{children:"Status: "}),Object(b.jsx)("span",{className:"".concat(!0===e.is_active?"text-gray-900 font-bold underline":"text-gray-500 italic"),children:!0===e.is_active?"Active":"Expired"})]})]})]}),Object(b.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(null===o||o.session_plan_id!==e.session_plan_id)&&Object(b.jsx)("div",{onClick:function(){return d(e)},className:"bg-gray-50 group-hover:bg-blue-100 font-semibold text-gray-400 group-hover:text-blue-600 rounded px-3 py-2 cursor-pointer",children:"Details"}),Object(b.jsx)("div",{onClick:function(){t.setSelectSession(e)},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"}),null!==o&&o.session_plan_id===e.session_plan_id&&Object(b.jsx)("div",{onClick:function(){return d(null)},className:"bg-red-100 group-hover:bg-red-200 font-semibold text-red-600 group-hover:text-red-800 rounded px-3 py-2 cursor-pointer",children:"Close"})]})]}),null!==o&&o.session_plan_id===e.session_plan_id&&Object(b.jsx)("div",{className:"bg-white rounded border border-blue-50 mt-2 animate__animated animate__fadeIn",children:Object(b.jsxs)("table",{className:"w-full",children:[Object(b.jsx)("thead",{className:"bg-blue-50",children:Object(b.jsxs)("tr",{className:"text-left",children:[Object(b.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(b.jsx)("th",{children:"Plan"}),Object(b.jsx)("th",{children:"Start date"}),Object(b.jsx)("th",{children:"Ending date"}),Object(b.jsx)("th",{children:"Status"})]})}),Object(b.jsx)("tbody",{className:"text-sm",children:null!==o&&o.session_plan_id===e.session_plan_id&&o.plans.length>0&&e.plans.map((function(t,s){return Object(b.jsxs)("tr",{className:"".concat(void 0!==h(e.plans).find((function(e){return e.type_key===t.type_key}))?"bg-blue-100 text-blue-600 font-bold":""," text-left border-b border-blue-50"),children:[Object(b.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(b.jsx)("td",{children:t.type_title}),Object(b.jsx)("td",{children:Object(u.a)(t.start_date,"DD/MM/YYYY")}),Object(b.jsx)("td",{children:Object(u.a)(t.end_date,"DD/MM/YYYY")}),Object(b.jsx)("td",{children:t.type_status})]},s+1)}))})]})})]},s+1)}))]})})]})};e.a=o.a.memo(x)},712:function(t,e){},719:function(t,e){},720:function(t,e){},765:function(t,e,s){"use strict";var i,n,a;s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return a})),function(t){t.WAITING="waiting",t.PENDING="pending",t.PLACED="placed"}(i||(i={})),function(t){t.male="Male",t.female="Female",t.null="-"}(n||(n={})),function(t){t.names="names",t.gender="gender",t.national_id="national_id",t.email="email",t.phone="phone",t.user_position_marks="user_position_marks",t.position_title="position_title",t.education_category="education_category",t.date="date",t.waiting_status="waiting_status",t.waitingList_session="waitingList_session"}(a||(a={}))},923:function(t,e,s){"use strict";s.r(e),s.d(e,"getPeriodById",(function(){return B})),s.d(e,"WaitingListReport",(function(){return H}));var i=s(26),n=s(25),a=s(28),r=s(27),o=s(4),c=s.n(o),l=s(71),d=s(204),u=s(66),p=s(76),b=s(67),h=s(12),x=s(22),j=s(3),m=s(202),f=s(681),g=s(208),O=s(200),v=s(38),y=s(53),_=s(1),N=function(t){return Object(_.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(_.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(_.jsx)(y.a,{}),Object(_.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at district level"})]}),Object(_.jsx)("p",{children:function(){var e=Object(_.jsx)(_.Fragment,{}),s="";return 0===t.data.length?e=Object(_.jsx)("p",{children:"The system will place me in the available posts from all districts of the selected provinces."}):!1===t.strict&&t.data.length>0?(t.data.forEach((function(e,i){s+=e.title,i<=t.data.length-1&&(s+=", ")})),e=Object(_.jsxs)("p",{children:["The system will place you in the available posts"," ",Object(_.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(_.jsx)("span",{className:"font-semibold",children:s})," and all remaining districts of the selected provinces."]})):!0===t.strict&&t.data.length>0&&(t.data.forEach((function(e,i){s+=e.title,i<=t.data.length-2&&(s+=", "),i===t.data.length-2&&i>0&&(s+=" and ")})),e=Object(_.jsxs)("p",{children:["The system will ",Object(_.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in"," ",Object(_.jsx)("span",{className:"font-semibold",children:s}),"."]})),e}()})]})},w=function(t){return Object(_.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(_.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(_.jsx)(y.a,{}),Object(_.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at province level"})]}),Object(_.jsx)("p",{children:function(){var e=Object(_.jsx)(_.Fragment,{}),s="";return 0===t.data.length?e=Object(_.jsx)("p",{children:"The system will place me in the available posts from all provinces."}):!1===t.strict&&t.data.length>0?(t.data.forEach((function(e,i){s+=e.title,i<=t.data.length-1&&(s+=", ")})),e=Object(_.jsxs)("p",{children:["The system will place me in the available posts"," ",Object(_.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(_.jsx)("span",{className:"font-semibold",children:s})," and all remaining provinces."]})):!0===t.strict&&t.data.length>0&&(t.data.forEach((function(e,i){s+=e.title,i<=t.data.length-2&&(s+=", "),i===t.data.length-2&&i>0&&(s+=" and ")})),e=Object(_.jsxs)("p",{children:["The system will ",Object(_.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in"," ",Object(_.jsx)("span",{className:"font-semibold",children:s}),"."]})),e}()})]})},S=function(t){return Object(_.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(_.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(_.jsx)(y.a,{}),Object(_.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at school level"})]}),Object(_.jsx)("p",{children:function(){var e=Object(_.jsx)(_.Fragment,{}),s="";return 0===t.data.length?e=Object(_.jsx)("p",{children:"The system will place me in the available posts from all Schools of the selected provinces, districts, and sectors."}):!1===t.strict&&t.data.length>0?(t.data.forEach((function(e,i){s+=e.title,i<=t.data.length-1&&(s+=", ")})),e=Object(_.jsxs)("p",{children:["The system will place me in the available posts"," ",Object(_.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(_.jsx)("span",{className:"font-semibold",children:s})," and in all remaining schools from the selected schools, districts, and sectors."]})):!0===t.strict&&t.data.length>0&&(t.data.forEach((function(e,i){s+=e.title,i<=t.data.length-2&&(s+=", "),i===t.data.length-2&&i>0&&(s+=" and ")})),e=Object(_.jsxs)("p",{children:["The system will ",Object(_.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in ",Object(_.jsx)("span",{className:"font-semibold",children:s}),"."]})),e}()})]})},P=function(t){return Object(_.jsxs)("div",{className:"bg-white mt-9 px-4",children:[Object(_.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(_.jsx)(y.a,{}),Object(_.jsx)("span",{className:"font-extrabold text-lg",children:"Preferences at sector level"})]}),Object(_.jsx)("p",{children:function(){var e=Object(_.jsx)(_.Fragment,{}),s="";return 0===t.data.length?e=Object(_.jsx)("p",{children:"The system will place me in the available posts from all sectors."}):!1===t.strict&&t.data.length>0?(t.data.forEach((function(e,i){s+=e.title,i<=t.data.length-1&&(s+=", ")})),e=Object(_.jsxs)("p",{children:["The system will place me in the available posts"," ",Object(_.jsx)("span",{className:"font-semibold",children:"starting"})," from"," ",Object(_.jsx)("span",{className:"font-semibold",children:s})," and all remaining sectors of the selected provinces and districts."]})):!0===t.strict&&t.data.length>0&&(t.data.forEach((function(e,i){s+=e.title,i<=t.data.length-2&&(s+=", "),i===t.data.length-2&&i>0&&(s+=" and ")})),e=Object(_.jsxs)("p",{children:["The system will ",Object(_.jsx)("span",{className:"font-semibold",children:"only"})," place me in available posts in ",Object(_.jsx)("span",{className:"font-semibold",children:s}),"."]})),e}()})]})},C=function(t){Object(a.a)(s,t);var e=Object(r.a)(s);function s(t){var n;return Object(i.a)(this,s),(n=e.call(this,t)).componentDidMount=function(){null===n.props.locations&&Object(j.Eb)((function(t,e,s){!0===t&&null!==e?(n.props.FC_GetWaitingLocationList(e),n.setState({loading:!1})):n.setState({loading:!1})})),null===n.state.selectedSchool&&n.props.contract.school.values.length>=1?(n.setState({loading:!0}),n.props.FC_LoadSchoolsByIDs(n.props.contract.school.values.map((function(t){return t.toString()})),(function(t,e,s){!0===t&&n.setState({selectedSchool:e,loading:!1})}))):n.setState({loading:!1,selectedSchool:[]})},n.state={loading:!0,selectedSchool:null},n}return Object(n.a)(s,[{key:"render",value:function(){var t=this;if(!0===this.state.loading||null===this.props.locations||null===this.state.selectedSchool)return Object(_.jsxs)("div",{className:"bg-white mt-6 mx-6 p-6 h-full flex flex-col items-start justify-center rounded",children:[Object(_.jsx)("div",{className:"text-xl mx-4 my-4 animate-pulse",children:"Loading contract, Please wait..."}),Object(_.jsx)(v.a,{})]});var e=[],s=[],i=[];null!==this.props.contract&&(this.props.contract.province.values.forEach((function(s){if(null!==t.props.locations){var i=t.props.locations.provinces.find((function(t){return t.province_code===s.toString()}));void 0!==i&&e.push({id:i.province_code,title:i.province_name})}})),this.props.contract.district.values.forEach((function(e){if(null!==t.props.locations){var i=t.props.locations.districts.find((function(t){return t.district_code===e.toString()}));void 0!==i&&s.push({id:i.district_code,title:i.district_name})}})),this.props.contract.sector.values.forEach((function(e){if(null!==t.props.locations){var s=t.props.locations.sectors.find((function(t){return t.sector_code===e.toString()}));void 0!==s&&i.push({id:s.sector_code,title:s.sector_name})}})));var n=Object(_.jsx)("span",{className:"font-semibold",children:this.props.candidates}),a=Object(_.jsx)("span",{className:"font-semibold",children:this.props.position});return Object(_.jsxs)("div",{className:"pb-4",children:[Object(_.jsxs)("div",{className:"px-4",children:[Object(_.jsx)("h2",{className:"text-black text-center font-semibold text-2xl sm:text-3xl underline",children:"Placement Preferences"}),Object(_.jsxs)("div",{className:"mt-6 text-lg flex flex-col",children:[Object(_.jsxs)("p",{children:["Names: ",n]}),Object(_.jsxs)("p",{children:["Position: ",a]})]})]}),Object(_.jsx)(w,{data:e,strict:this.props.contract.province.strict}),Object(_.jsx)(N,{data:s,strict:this.props.contract.district.strict}),Object(_.jsx)(P,{data:i,strict:this.props.contract.sector.strict}),Object(_.jsx)(S,{data:this.state.selectedSchool.map((function(t){return{id:t.school_code,title:t.school_name}})),strict:this.props.contract.school.strict})]})}}]),s}(o.Component),L=c.a.memo(Object(x.b)((function(t){return{locations:t.locations.waitingLocation}}),{FC_LoadSchoolsByDistrict:j.ab,FC_LoadSchoolsByIDs:j.bb,FC_GetWaitingLocationList:O.k})(C)),k=s(690),T=s(91),E=s(686),W=s(23),A=s(680),F=s(21),D=s(765),I=s(42),R=s(689),M=s(24),G=s(697),z=s(683),B=function(t,e){return t.find((function(t){return t.session_plan_id===e}))},Y=[{key:D.c.names,title:"Applicant Names",status:!0},{key:D.c.national_id,title:"National ID",status:!0},{key:D.c.gender,title:"Gender",status:!0},{key:D.c.phone,title:"Phone",status:!0},{key:D.c.user_position_marks,title:"Applicant marks",status:!0},{key:D.c.waitingList_session,title:"Waiting list Session",status:!0},{key:D.c.education_category,title:"Education Institute",status:!0},{key:D.c.date,title:"Waiting list Date",status:!0},{key:D.c.waiting_status,title:"Waiting list Status",status:!0},{key:D.c.position_title,title:"Position",status:!0}],U=function(t){Object(a.a)(s,t);var e=Object(r.a)(s);function s(t){var n;return Object(i.a)(this,s),(n=e.call(this,t)).setLoading=function(t){n.setState({loading:t})},n.setLoadingWaitingList=function(t){n.setState({loadingWaitingList:t})},n.setThisPeriod=function(t){n.setState({thisPeriod:t})},n.setWaitingListToPrint=function(t){n.setState({waitingListToPrint:t})},n.setThisWaitingListStatus=function(t){n.setState({thisWaitingListStatus:t})},n.setThisPosition=function(t){n.setState({thisPosition:t})},n.setSelectPosition=function(t){n.setState({selectPosition:t})},n.setSortProperty=function(t){n.setState({sortProperty:t})},n.setIsSorted=function(t){n.setState({isSorted:t})},n.setSortOrder=function(t){n.setState({sortOrder:t})},n.setSearchInput=function(t){n.setState({searchInput:t})},n.setSearchPositionInput=function(t){n.setState({searchPositionInput:t})},n.setDownloading=function(t){n.setState({downloading:t})},n.setGenerateReportModal=function(t){n.setState({generateReportModal:t})},n.setReportTitle=function(t){n.setState({reportTitle:t})},n.setReportContent=function(t){n.setState({reportContent:t})},n.setSelectAll=function(t){n.setState({selectAll:t})},n.setFormError=function(t){n.setState({formError:t})},n.setSelectPeriod=function(t){n.setState({selectPeriod:t})},n.setThisEducation=function(t){n.setState({thisEducation:t})},n.componentDidMount=function(){null!==n.props.schoolLevels.education_categories&&0!==n.props.schoolLevels.education_categories.length||n.props.loadEducationCategories(n.setLoading),null===n.props.application_sessions&&n.props.GetAllSessionPlans((function(t,e){n.setLoading(t),t||e.length&&n.props.PushPopupAlert({title:e,theme:F.a.danger})})),null===n.props.systemPositions&&n.props.getPositions((function(t,e){n.setLoading(t),e.length&&n.props.PushPopupAlert({title:e,theme:F.a.danger})})),n.state.loadingWaitingList&&n.props.getWaitingList((function(t,e){n.setLoadingWaitingList(t),!1===t&&e.length>0&&n.props.PushPopupAlert({title:e,theme:F.a.danger})}))},n.setSort=function(t){n.state.sortProperty===t&&"ASC"===n.state.sortOrder?n.setSortOrder("DESC"):n.setSortOrder("ASC"),n.setSortProperty(t),n.setIsSorted(!0)},n.showStatus=function(t){var e="";switch(t){case D.a.WAITING:e="Waiting";break;case D.a.PENDING:e="Placed & pending";break;case D.a.PLACED:e="Placed & confirmed";break;default:e="All"}return e},n.FC_WaitingListStatus=function(t){var e=[{title:"All status",count:t.length,type:"all"}],s=Object.values(D.a),i=function(i){e.push({title:Object(I.a)(s[i]),count:t.filter((function(t){return t.status===s[i]})).length,type:s[i]})};for(var n in s)i(n);return e},n.updateReportContent=function(t){var e=n.state.reportContent.findIndex((function(e){return e.key===t})),s=n.state.reportContent;s[e].status=!s[e].status,n.setReportContent(s),s.find((function(t){return!1===t.status}))?n.setSelectAll(!1):n.setSelectAll(!0),n.updateWaitingListToPrint()},n.updateWaitingListToPrint=function(){if(n.state.thisPosition){var t="";t="all"===n.state.thisPeriod?"All session":n.state.thisPeriod.session_plan_name,n.setReportTitle("Waiting list - "+n.state.thisPosition.position_title+" - "+t)}if(n.props.systemPositions&&n.props.waitingList&&n.props.application_sessions){var e=[],s=1;for(var i in n.props.waitingList)if(Object.prototype.hasOwnProperty.call(n.props.waitingList,i)){var a=n.props.waitingList[i],r=Object(I.c)(n.props.systemPositions,a.position_id),o=B(n.props.application_sessions,a.session_id),c={id:s.toString(),names:a.user_info.fname+" "+a.user_info.lname,gender:"M"===a.user_info.sex?"Male":"Female",national_id:a.n_id,phone:a.phone_number,email:a.email,user_position_marks:Number(a.marks.toFixed(2)),position_title:r?r.position_title:"Unknown position",education_category:r?r.education_institute_id.education_category_title:"-",waitingList_session:o?o.session_plan_name:"Unknown session",date:Object(M.a)(a.createdAt),waiting_status:n.showStatus(a.status)};for(var l in n.state.reportContent)Object.prototype.hasOwnProperty.call(n.state.reportContent,l)&&(n.state.reportContent[l].status||delete c[n.state.reportContent[l].key]);e.push(c),s++}n.setWaitingListToPrint(e),e=[],s=1}},n.FC_WaitingListData=function(t,e){if(null===t||null===e||null===n.props.application_sessions)return null;var s=[];for(var i in t){var a=t[i];if(a.user_info){var r=Object(I.c)(e,a.position_id),o=B(n.props.application_sessions,a.session_id),c={names:a.user_info.fname+" "+a.user_info.lname,waitingList_id:a._id,gender:"M"===a.user_info.sex?D.b.male:D.b.female,national_id:a.n_id,phone:a.phone_number,email:a.email,user_position_marks:Number(a.marks.toFixed(2)),position_id:r?r.position_id:"Unknown position",position_title:r?r.position_title:"Unknown position",education_category:r?r.education_institute_id.education_category_title:"",education_category_id:r?r.education_institute_id.education_institute_id:"",waitingList_session:o?o.session_plan_name:"Unknown session",date:Object(M.a)(a.createdAt),waiting_status:n.showStatus(a.status),status:a.status,waitingList_session_id:a.session_id};s.push(c)}}return s},n.resetReportContent=function(t){var e=n.state.reportContent;for(var s in e)n.isChangeAllowed(e[s].key)&&(e[s].status=!t);n.setReportContent(e),n.setSelectAll(!t),n.updateWaitingListToPrint()},n.isChangeAllowed=function(t){return t!==D.c.names&&t!==D.c.waiting_status&&t!==D.c.waitingList_session&&t!==D.c.position_title&&t!==D.c.date&&t!==D.c.user_position_marks&&t!==D.c.national_id&&t!==D.c.education_category},n.generateReportTitle=function(t){var e="";e="all"===n.state.thisPeriod?"All session":n.state.thisPeriod.session_plan_name,n.setReportTitle("Waiting list - "+t+" - "+e)},n.FC_GeneratePDF=function(){if(document.querySelectorAll("#report_content tbody tr").length){var t="";t="all"===n.state.thisPeriod?"All session":n.state.thisPeriod.session_plan_name;var e=document.getElementById("report_content"),s={doneBy:n.props.auth.user.fname+" "+n.props.auth.user.lname,title:n.state.reportTitle,subjectTitle:"Position",subject:n.state.thisPosition?n.state.thisPosition.position_title:"All position",period:t,footer:"Online Teacher Recruitment",institute:n.state.thisPosition?n.state.thisPosition.education_institute_id.education_category_title:""};e&&Object(k.a)(s,e,n.setDownloading)}else n.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:F.a.warning})},n.FC_FilterWaitingList=function(t,e,s,i,n){var a=t;return"all"!==e&&(a=a.filter((function(t){return t.status===e}))),n&&(a=a.filter((function(t){return t.position_id===n.position_id}))),"all"!==s&&(a=a.filter((function(t){return t.waitingList_session_id===s.session_plan_id}))),"all"!==i&&(a=a.filter((function(t){return t.education_category===i.education_category_title}))),a},n.viewContractor=function(t){var e=void 0;return n.props.waitingList&&(e=n.props.waitingList.find((function(e){return e._id===t.waitingList_id}))),e},n.state={thisPeriod:"all",loading:!0,loadingWaitingList:!0,waitingListToPrint:null,thisWaitingListStatus:"all",thisPosition:null,selectPosition:!1,sortProperty:"",isSorted:!1,sortOrder:"ASC",searchInput:"",searchPositionInput:"",downloading:!1,generateReportModal:null,reportTitle:"",reportContent:Y,selectAll:!0,formError:null,selectPeriod:!1,thisEducation:"all",selectedWaiting:null},n}return Object(n.a)(s,[{key:"render",value:function(){var t,e,s=this;return this.props.application_sessions&&0===this.props.application_sessions.length?Object(_.jsx)(z.a,{}):Object(_.jsxs)("div",{children:[Object(_.jsxs)(A.b,{children:[Object(_.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(_.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===this.props.schoolLevels.education_categories?Object(_.jsx)(v.a,{}):0===this.props.schoolLevels.education_categories.length?Object(_.jsx)("span",{children:"No institute found"}):Object(_.jsxs)(o.Fragment,{children:[Object(_.jsxs)("div",{onClick:function(){return s.setThisEducation("all")},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"===this.state.thisEducation?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"===this.state.thisEducation?Object(_.jsx)(h.Ab,{}):Object(_.jsx)(h.Bb,{}),Object(_.jsx)("span",{children:"All"})]}),this.props.schoolLevels.education_categories.map((function(t,e){return Object(_.jsxs)("div",{onClick:function(){return s.setThisEducation(t)},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"!==s.state.thisEducation&&s.state.thisEducation.education_institute_id===t.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"!==s.state.thisEducation&&s.state.thisEducation.education_institute_id===t.education_institute_id?Object(_.jsx)(h.Ab,{}):Object(_.jsx)(h.Bb,{}),Object(_.jsx)("span",{children:t.education_category_title})]},e+1)}))]})]}),Object(_.jsxs)("div",{className:"",children:[Object(_.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(_.jsxs)("div",{onClick:function(){return s.setSelectPeriod(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-base px-2 hover:underline  text-blue-600  mb-4 w-full flex flex-row items-center gap-2 justify-between animate__animated animate__zoomIn",children:["all"!==this.state.thisPeriod?"".concat(this.state.thisPeriod.session_plan_name," - ").concat(this.state.thisPeriod.period):"All session",Object(_.jsx)(d.e,{className:"text-xl text-blue-600"})]})]}),Object(_.jsxs)("div",{className:"pt-1",children:[Object(_.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Claim types:"}),this.state.loadingWaitingList||null===this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)?Object(_.jsx)(v.a,{}):this.FC_WaitingListStatus(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)).map((function(t,e){return Object(_.jsx)("div",{onClick:function(){return s.setThisWaitingListStatus(t.type)},children:Object(_.jsx)(A.a,{title:t.title,count:t.count,active:s.state.thisWaitingListStatus===t.type})},t.title+e)}))]})]}),Object(_.jsxs)("section",{children:[Object(_.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(_.jsx)("div",{className:"col-span-6",children:Object(_.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(_.jsx)("span",{className:"text-3xl font-bold text-gray-700",children:"Waiting list report"}),Object(_.jsxs)("div",{onClick:function(){return s.setSelectPosition(!0)},className:"flex flex-row gap-2",children:[Object(_.jsx)("span",{className:"text-gray-500",children:"Selected position: "}),Object(_.jsx)("span",{className:"text-blue-600 font-bold underline cursor-pointer",children:null!==this.state.thisPosition?this.state.thisPosition.position_title:"All position"})]})]})}),Object(_.jsx)("div",{className:"col-span-6",children:Object(_.jsxs)("div",{className:"float-right mt-2",children:[this.props.waitingList&&this.props.waitingList.length>0&&Object(_.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(_.jsx)(l.e,{className:"text-2xl text-gray-500"}),Object(_.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(_.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",disabled:this.state.loading,onClick:function(){s.updateWaitingListToPrint(),s.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(_.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 ".concat(this.state.downloading&&"cursor-wait"),onClick:function(){return s.FC_GeneratePDF()},disabled:this.state.loading||this.state.downloading,children:"PDF"})]}),Object(_.jsxs)("div",{onClick:function(){return s.setSelectPosition(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(_.jsx)(l.g,{className:"text-xl"}),"Filter by position"]})]})})]}),Object(_.jsxs)("div",{className:"bg-white my-4",children:[Object(_.jsx)("div",{className:"w-full px-2 py-2",children:Object(_.jsx)("input",{onChange:function(t){return s.setSearchInput(t.target.value)},type:"text",value:this.state.searchInput,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded focus:border-gray-800",disabled:this.state.loadingWaitingList||null===this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)})}),Object(_.jsx)("div",{className:"w-full overflow-x-auto",children:Object(_.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(_.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(_.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("names")},children:Object(_.jsxs)("div",{className:"flex items-center gap-1",children:["Applicant names ",Object(_.jsx)(l.j,{})]})}),Object(_.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(_.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("gender")},children:Object(_.jsxs)("div",{className:"flex items-center gap-1",children:["Gender ",Object(_.jsx)(l.j,{})]})}),Object(_.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(_.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("user_position_marks")},children:Object(_.jsxs)("div",{className:"flex items-center gap-1",children:["Marks ",Object(_.jsx)(l.j,{})]})}),Object(_.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("position_title")},children:Object(_.jsxs)("div",{className:"flex items-center gap-1",children:["Position ",Object(_.jsx)(l.j,{})]})}),Object(_.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("education_category")},children:Object(_.jsxs)("div",{className:"flex items-center gap-1",children:["Institute ",Object(_.jsx)(l.j,{})]})}),Object(_.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("waiting_status")},children:Object(_.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(_.jsx)(l.j,{})]})}),Object(_.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("waitingList_session")},children:Object(_.jsxs)("div",{className:"flex items-center gap-1",children:["Session ",Object(_.jsx)(l.j,{})]})}),Object(_.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("date")},children:Object(_.jsxs)("div",{className:"flex items-center gap-1",children:["Date ",Object(_.jsx)(l.j,{})]})})]})}),Object(_.jsx)("tbody",{children:this.state.loadingWaitingList?Object(_.jsx)(E.a,{cols:11}):null===this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions)?Object(_.jsx)(E.a,{cols:10}):0===this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),this.state.thisWaitingListStatus,this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition).length?Object(_.jsx)("tr",{children:Object(_.jsx)("td",{colSpan:11,className:"px-2 py-2",children:Object(_.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(_.jsx)(u.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(_.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"}),Object(_.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(_.jsxs)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:[Object(_.jsx)("li",{onClick:function(){return s.setSelectPosition(!0)},className:"underline text-gray-500 cursor-pointer",children:"Filter by position"}),Object(_.jsx)("li",{className:"text-gray-400 italic",children:"or"}),Object(_.jsx)("li",{className:"text-gray-500 underline",onClick:function(){return s.setSelectPeriod(!0)},children:"Filter by period"})]})})]})})}):Object(M.p)(this.state.isSorted,(t=this.FC_FilterWaitingList(this.FC_WaitingListData(this.props.waitingList,this.props.systemPositions),this.state.thisWaitingListStatus,this.state.thisPeriod,this.state.thisEducation,this.state.thisPosition),e=this.state.searchInput,void 0===e||""===e?t:t.filter((function(t){var s;for(var i in t)if(s=!1,"names"!==i&&"gender"!==i&&"national_id"!==i&&"phone"!==i&&"email"!==i&&"user_position_marks"!==i&&"position_title"!==i&&"education_category"!==i&&"waitingList_session"!==i&&"date"!==i&&"waiting_status"!==i||t[i]&&(s=t[i].toString().toLowerCase().indexOf(e.toLowerCase())>-1),s)break;return s}))),this.state.sortProperty,this.state.sortOrder).map((function(t,e){return Object(_.jsxs)("tr",{className:"".concat(e%2!==0?"bg-gray-100":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 cursor-pointer border-b border-gray-300 hover:border-blue-500 text-sm"),onClick:function(){return s.setState({selectedWaiting:t})},children:[Object(_.jsx)("td",{className:"px-2 py-2",children:e+1}),Object(_.jsx)("td",{className:"px-2 py-2",children:t.names}),Object(_.jsx)("td",{className:"px-2 py-2",children:t.national_id}),Object(_.jsx)("td",{className:"px-2 py-2",children:t.gender}),Object(_.jsx)("td",{className:"px-2 py-2",children:t.phone}),Object(_.jsx)("td",{className:"px-2 py-2",children:t.user_position_marks}),Object(_.jsx)("td",{className:"px-2 py-2",children:t.position_title}),Object(_.jsx)("td",{className:"px-2 py-2",children:t.education_category}),Object(_.jsx)("td",{className:"px-2 py-2",children:Object(I.a)(t.waiting_status.toLowerCase())}),Object(_.jsx)("td",{className:"px-2 py-2",children:t.waitingList_session}),Object(_.jsx)("td",{className:"px-2 py-2",children:t.date})]},e+1)}))})]})})]}),this.state.selectPosition&&Object(_.jsx)(W.d,{title:Object(_.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(_.jsx)(b.j,{className:"text-5xl text-blue-600"}),Object(_.jsx)("div",{className:"flex flex-col",children:Object(_.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Filter by a position"})})]}),backDrop:!0,theme:W.c.default,close:function(){s.setSelectPosition(!1),s.setSearchPositionInput("")},backDropClose:!0,widthSizeClass:W.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(_.jsx)("div",{className:"px-2 pb-2",children:null===this.props.systemPositions?Object(_.jsx)(T.b,{type:T.a.dark}):0===this.props.systemPositions.length?Object(_.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(_.jsx)(h.Lb,{className:"text-6xl"}),Object(_.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(_.jsx)("span",{children:"No positions found! Please go back!"})})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("span",{className:"text-gray-600 text-xs font-bold",children:"Filter by position name"}),Object(_.jsx)("input",{onChange:function(t){return s.setSearchPositionInput(t.target.value)},type:"text",className:"mb-4 bg-gray-100 px-3 py-2 rounded",placeholder:"Keyword..."})]}),Object(_.jsx)("div",{onClick:function(){s.generateReportTitle("All position"),s.setThisPosition(null),s.setSelectPosition(!1),s.setSearchPositionInput("")},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(_.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(_.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(_.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(_.jsx)("div",{children:Object(_.jsx)(p.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(_.jsx)("div",{className:"flex flex-col",children:Object(_.jsx)("span",{className:"text-base lg:text-lg font-bold text-gray-700",children:"All position"})})]})}),Object(_.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(_.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(_.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})}),Object(M.m)(this.props.systemPositions,this.state.searchPositionInput).map((function(t,e){return Object(_.jsx)("div",{onClick:function(){s.generateReportTitle(t.position_title),s.setThisPosition(t),s.setSelectPosition(!1),s.setSearchPositionInput("")},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(_.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(_.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(_.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(_.jsx)("div",{children:Object(_.jsx)(p.b,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:t.position_title}),Object(_.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(_.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:t.school_level_id.school_level_name})]}),Object(_.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:t.education_institute_id.education_category_title})]})]})}),Object(_.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(_.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(_.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})},e+1)}))]})})}),this.state.selectPeriod&&Object(_.jsx)(W.d,{title:Object(_.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(_.jsx)(h.O,{className:"text-5xl text-blue-600"}),Object(_.jsx)("span",{className:"flex flex-col",children:"Choose a period"})]}),backDrop:!0,theme:W.c.default,close:function(){return s.setSelectPeriod(!1)},backDropClose:!0,widthSizeClass:W.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(_.jsx)(G.a,{allSession:this.props.application_sessions,setSelectSession:function(t){s.setThisPeriod(t),s.setSelectPeriod(!1)},chooseAll:!0,currentSelected:this.state.thisPeriod})}),null!==this.state.generateReportModal&&!0===this.state.generateReportModal.status&&Object(_.jsx)(W.d,{title:Object(_.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(_.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",this.state.generateReportModal.reportType," ","Report"]})]})}),backDrop:!0,theme:W.c.default,close:function(){return s.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:W.b.medium,displayClose:!0,padding:{title:!0},children:Object(_.jsxs)("div",{className:"px-6",children:[Object(_.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("label",{children:"Title"}),Object(_.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(this.state.formError&&"report_title"===this.state.formError.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:this.state.reportTitle,onChange:function(t){s.setFormError(null),s.setReportTitle(t.target.value)},disabled:this.state.loading}),this.state.formError&&"report_title"===this.state.formError.element&&Object(_.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(_.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(_.jsx)("label",{children:"Report content"}),Object(_.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:this.state.reportContent.map((function(t,e){return Object(_.jsxs)("div",{className:"flex items-center gap-1 ".concat(s.isChangeAllowed(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return s.isChangeAllowed(t.key)&&s.updateReportContent(t.key)},title:s.isChangeAllowed(t.key)?"":"Required for every report!",children:[t.status?Object(_.jsx)(h.r,{className:"w-6 h-6 text-blue-700"}):Object(_.jsx)(h.s,{className:"w-6 h-6"}),Object(_.jsx)("span",{children:t.title})]},e)}))}),this.state.formError&&"report_content"===this.state.formError.element&&Object(_.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]})]}),Object(_.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(_.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return s.resetReportContent(s.state.selectAll)},children:[this.state.selectAll?Object(_.jsx)(h.r,{className:"w-6 h-6 text-blue-700"}):Object(_.jsx)(h.s,{className:"w-6 h-6"}),Object(_.jsx)("span",{children:"Select all"})]}),this.state.waitingListToPrint&&!this.state.loading&&Object(_.jsx)(R.a,{fileData:this.state.waitingListToPrint,fileName:this.state.reportTitle,btnName:"Generate"})]})]})}),this.state.selectedWaiting&&this.viewContractor(this.state.selectedWaiting)&&Object(_.jsx)(W.d,{title:Object(_.jsx)("div",{className:"flex flex-row gap-4 items-center"}),backDrop:!0,theme:W.c.default,close:function(){return s.setState({selectedWaiting:null})},backDropClose:!0,widthSizeClass:W.b.extraLarge,displayClose:!0,padding:{title:!0,body:!0},children:Object(_.jsx)("div",{className:"mb-7",children:Object(_.jsx)(L,{contract:this.viewContractor(this.state.selectedWaiting).contract,candidates:this.state.selectedWaiting.names,position:this.state.selectedWaiting.position_title})})})]})]})}}]),s}(o.Component),H=Object(x.b)((function(t){var e=t.auth,s=t.system_settings,i=t.sessionPlan,n=t.schoolLevels,a=t.waitingList;return{auth:e,application_sessions:i.allSessionPlans,systemPositions:s.systemPositions,schoolLevels:n,waitingList:a}}),{getWaitingList:g.a,GetAllSessionPlans:m.b,loadEducationCategories:j.Ec,getPositions:f.d,PushPopupAlert:j.Nb})(U)}}]);
//# sourceMappingURL=27.3560e4db.chunk.js.map