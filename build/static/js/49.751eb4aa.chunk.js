(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[49,54],{1330:function(e,t,s){"use strict";s.r(t),s.d(t,"ExamsList",(function(){return q}));var r=s(11),a=s(18),o=s(25),i=s(24),n=s(27),l=s(26),c=s(4),d=s(743),u=s(19),p=s(23),m=s(3),x=s(779),b=s(33),h=s(79),j=s(792),f=s(28),g=s(40),E=s(740),_=s(12),O=s(111),v=s(1),y=function(e){var t,s,r;return Object(v.jsx)("div",{className:"fixed h-full w-full bg-black bg-opacity-50 top-0 left-0 flex items-center justify-center z-50 animate__animated animate__fadeIn animate__faster overflow-y-auto",children:Object(v.jsxs)("div",{className:"group absolute right-0 bg-white shadow-xl w-3/4 md:w-2/4 border z-50 h-full animate__animated animate__fadeInRight animate__faster",children:[Object(v.jsxs)("div",{className:"bg-white text-blue-700 font-bold text-2xl flex flex-row justify-between gap-3 items-center px-3 py-3",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{className:"font-bold",children:e.course.courses&&(null===(t=e.course.courses.find((function(t){return t.course_id===e.exam.course})))||void 0===t?void 0:t.course_code)}),"-",e.course.courses&&(null===(s=e.course.courses.find((function(t){return t.course_id===e.exam.course})))||void 0===s?void 0:s.course_name)]}),Object(v.jsx)("div",{onClick:function(){return e.setSelectedExam(null)},className:"text-2xl text-red-600 bg-red-50 group-hover:bg-red-100 rounded-full p-1 cursor-pointer",children:Object(v.jsx)(_.z,{})})]}),Object(v.jsxs)("div",{className:"px-3 py-6 text-sm overflow-y-auto bg-gray-100",style:{height:"80vh"},children:[Object(v.jsxs)("div",{className:"flex flex-row items-center justify-between border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam total marks"}),Object(v.jsx)("span",{className:"text-blue-800 font-bold bg-blue-100 rounded-full px-2",children:e.exam.exam_total_marks})]}),Object(v.jsxs)("div",{className:"flex flex-row items-center justify-between border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam date"}),Object(v.jsx)("span",{className:"text-blue-600 font-bold",children:Object(f.a)(e.exam.exam_date)})]}),Object(v.jsxs)("div",{className:"flex flex-row items-center justify-between border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam start time"}),Object(v.jsx)("span",{className:"text-blue-600 font-bold",children:e.exam.start_time})]}),Object(v.jsxs)("div",{className:"flex flex-row items-center justify-between border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam ending time"}),Object(v.jsx)("span",{className:"text-blue-600 font-bold",children:e.exam.end_time})]}),Object(v.jsxs)("div",{className:"flex flex-row items-center justify-between border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam duration"}),Object(v.jsxs)("span",{className:"text-blue-600 font-bold",children:[e.exam.duration,"mins"]})]}),Object(v.jsxs)("div",{className:"flex flex-row items-center justify-between border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam number of questions"}),Object(v.jsx)("span",{className:"text-blue-600 font-bold",children:e.exam.questions.length})]}),Object(v.jsxs)("div",{className:"flex flex-row items-center justify-between border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam period"}),Object(v.jsx)("span",{className:"text-blue-600 font-bold",children:e.periods.applicationPeriods&&(null===(r=e.periods.applicationPeriods.find((function(t){return t._id===e.exam.period})))||void 0===r?void 0:r.session_plan_name)})]}),Object(v.jsxs)("div",{className:"flex flex-col border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam description"}),Object(v.jsx)("span",{className:"text-blue-600 font-bold",children:e.exam.discription})]}),Object(v.jsxs)("div",{className:"flex flex-col border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam terms and conitions"}),Object(v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.exam.termes},className:"text-blue-600 font-bold"})]}),Object(v.jsxs)("div",{className:"flex flex-col border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600 mb-2",children:"Exam rules"}),Object(v.jsxs)("div",{className:"text-blue-600 font-bold bg-white rounded",children:[Object(v.jsxs)("div",{className:"flex flex-row justify-between items-center bg-white px-3 py-2 border-b",children:[Object(v.jsx)("span",{children:"Leave browser"}),Object(v.jsx)("span",{className:"".concat(!0===e.exam.rules.allow_to_leave_browser?"text-gray-600":"text-yellow-600"),children:!0===e.exam.rules.allow_to_leave_browser?"Enabled":"Disabled"})]}),Object(v.jsxs)("div",{className:"flex flex-row justify-between items-center bg-white px-3 py-2 border-b",children:[Object(v.jsx)("span",{children:"Copy"}),Object(v.jsx)("span",{className:"".concat(!0===e.exam.rules.copy_enabled?"text-gray-600":"text-yellow-600"),children:!0===e.exam.rules.copy_enabled?"Enabled":"Disabled"})]}),Object(v.jsxs)("div",{className:"flex flex-row justify-between items-center bg-white px-3 py-2 border-b",children:[Object(v.jsx)("span",{children:"Paste"}),Object(v.jsx)("span",{className:"".concat(!0===e.exam.rules.paste_enabled?"text-gray-600":"text-yellow-600"),children:!0===e.exam.rules.paste_enabled?"Enabled":"Disabled"})]}),Object(v.jsxs)("div",{className:"flex flex-row justify-between items-center bg-white px-3 py-2 border-b",children:[Object(v.jsx)("span",{children:"Right click"}),Object(v.jsx)("span",{className:"".concat(!0===e.exam.rules.right_click_enabled?"text-gray-600":"text-yellow-600"),children:!0===e.exam.rules.right_click_enabled?"Enabled":"Disabled"})]}),Object(v.jsxs)("div",{className:"flex flex-row justify-between items-center bg-white px-3 py-2 border-b",children:[Object(v.jsx)("span",{children:"Come back after leaving room"}),Object(v.jsx)("span",{className:"".concat(!0===e.exam.rules.stop_candidate_when_comeback?"text-gray-600":"text-yellow-600"),children:!0===e.exam.rules.stop_candidate_when_comeback?"Enabled":"Disabled"})]})]})]}),Object(v.jsxs)("div",{className:"flex flex-row items-center justify-between border-b py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam status"}),Object(v.jsx)("span",{className:"".concat(Object(O.g)(e.exam.exam_date,e.exam.start_time,e.exam.end_time)===O.b.Online?"text-green-600 font-bold bg-green-100":"text-yellow-600 font-bold bg-yellow-100"," rounded-full px-3 py-1"),children:Object(O.g)(e.exam.exam_date,e.exam.start_time,e.exam.end_time)})]}),Object(v.jsxs)("div",{className:"flex flex-row items-center justify-between py-3",children:[Object(v.jsx)("span",{className:"text-gray-600",children:"Exam created at"}),Object(v.jsx)("span",{className:"text-blue-600 font-bold",children:Object(f.a)(e.exam.createdAt)})]})]}),Object(v.jsx)("div",{className:"bg-white p-3 pt-0 rounded-b mt-5 absolute bottom-0 w-full",children:Object(v.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 my-2",children:[Object(v.jsxs)("div",{onClick:function(){return e.setSelectedExamEdit(e.exam)},className:"bg-blue-100 hover:bg-blue-600 hover:text-white rounded p-3 text-center flex flex-col md:flex-row md:gap-2 items-center justify-center cursor-pointer text-blue-800",children:[Object(v.jsx)("div",{children:Object(v.jsx)(_.F,{className:"text-2xl"})}),Object(v.jsx)("span",{className:"text-base",children:"Edit"})]}),Object(v.jsx)("div",{}),Object(O.g)(e.exam.exam_date,e.exam.start_time,e.exam.end_time)===O.b.Waiting?Object(v.jsxs)("div",{onClick:function(){return alert("Deleted")},className:"bg-red-50 hover:bg-red-600 hover:text-white rounded p-3 border border-red-50 group-hover:border-red-100 text-center flex flex-col md:flex-row md:gap-2 items-center justify-center cursor-pointer text-red-800",children:[Object(v.jsx)("div",{children:Object(v.jsx)(E.c,{className:"text-2xl"})}),Object(v.jsx)("span",{className:"text-base",children:"Remove"})]}):Object(v.jsx)("div",{})]})})]})})},N=s(867),w=s(48),S=s(106),C=function(e){Object(n.a)(s,e);var t=Object(l.a)(s);function s(e){var i;return Object(o.a)(this,s),(i=t.call(this,e)).setLoading=function(e){i.setState({loading:e})},i.addQuestionToPaper=function(e){i.props.addExamQuestion(e)},i.removeToQuestionPaper=function(e){window.confirm("Are you sure do you want to remove question to question paper?")&&i.props.addExamQuestion(e)},i.showPeriodFilter=function(e){i.setState({selectPeriod:e})},i.chooseCourse=function(e){var t=!1;if(0!==i.props.prepareExam.questions.length&&(t=window.confirm("Are you sure do you want to change course? You will loose your selected questions")),!0===t){var s,r=Object(a.a)(i.props.prepareExam.questions);try{for(r.s();!(s=r.n()).done;){var o=s.value;i.props.addExamQuestion(o)}}catch(n){r.e(n)}finally{r.f()}i.props.setSelectedCourse(e)}0===i.props.prepareExam.questions.length&&i.props.setSelectedCourse(e),i.setState({selectCourse:!1})},i.examQuestionsIds=function(e){var t,s=[],o=Object(a.a)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;s=[].concat(Object(r.a)(s),[i.question_id])}}catch(n){o.e(n)}finally{o.f()}return s},i.examsByPeriod=function(e){var t,s=e.filter((function(e){var t;return e.period===(null===(t=i.props.periods.selected_period)||void 0===t?void 0:t._id)})),r=[],o=Object(a.a)(s);try{var n=function(){var e=t.value;r.push({questions:e.questions,exam_total_marks:e.exam_total_marks,status:e.status,period:e.period,course:e.course,course_id:e.course,course_code:null===i.props.course.courses||void 0===i.props.course.courses.find((function(t){return t.course_id===e.course}))?"":i.props.course.courses.find((function(t){return t.course_id===e.course})).course_code,course_name:null===i.props.course.courses||void 0===i.props.course.courses.find((function(t){return t.course_id===e.course}))?"":i.props.course.courses.find((function(t){return t.course_id===e.course})).course_name,exam_status:e.exam_status,termes:e.termes,questions_per_page:e.questions_per_page,exam_date:e.exam_date,start_time:e.start_time,end_time:e.end_time,duration:e.duration,number_format:e.number_format,discription:e.discription,createdAt:e.createdAt,updatedAt:e.updatedAt,id:e.id,rules:e.rules})};for(o.s();!(t=o.n()).done;)n()}catch(l){o.e(l)}finally{o.f()}return r},i.GetExamsByPeriod=function(e){i.props.setSelectedPeriod(e),i.props.loadExamsListByPeriod(e._id,i.setLoading)},i.componentDidMount=function(){!0===i.props.schoolLevels.showInstitutes&&i.props.setShowInstitutes(!1),null!==i.props.questionTypes.questionTypes&&0!==i.props.questionTypes.questionTypes.length||i.props.loadQuestionTypes(i.setLoading),null!==i.props.periods.applicationPeriods&&0!==i.props.periods.applicationPeriods.length||i.props.loadApplicationPeriods(i.setLoading),null!==i.props.course.courses&&0!==i.props.course.courses.length||i.props.loadCourses(i.setLoading),null!==i.props.questionBank.questions&&0!==i.props.questionBank.questions.length||null!==i.props.course.selected_course&&i.props.loadQuestionBank(i.props.course.selected_course.course_id,i.setLoading),null!==i.props.periods.selected_period?i.props.loadExamsListByPeriod(i.props.periods.selected_period._id,i.setLoading):null!==i.props.schoolLevels.selectedEducationCategory&&null!==i.props.schoolLevels.selectedEducationCategory.session_plan&&i.props.loadExamsListByPeriod(i.props.schoolLevels.selectedEducationCategory.session_plan._id,i.setLoading)},i.setSelectedExamItem=function(e){i.setState({selectedExam:e})},i.setSelectedExamEdit=function(e){i.setState({examToEdit:e}),null===e&&i.setState({selectedExam:null})},i.setUploadingStatus=function(e){alert("Hello")},i.state={loading:!1,selectCourse:!1,selectPeriod:!1,addQuestionModal:!1,formErr:{element:"",msg:""},questions_per_page:1,exam_date:"",start_time:"",duration:1,number_format:j.c.NUMBER,discription:"",termes:"",selectedExam:null,examToEdit:null,search:""},i}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(c.Fragment,{children:[null===this.state.examToEdit?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"mt-3 rounded px-2 flex flex-col gap-3 bg-white py-2",children:Object(v.jsxs)("div",{className:"flex flex-row items center justify-between",children:[Object(v.jsx)("div",{className:"flex flex-row items-center",children:Object(v.jsxs)("div",{className:"flex flex-col px-2",children:[Object(v.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:"List of exams"}),Object(v.jsxs)("span",{className:"text-blue-600 text-sm font-bold mt-1",children:["Period:"," ",null===this.props.periods.selected_period?Object(v.jsx)("span",{className:"text-yellow-700 italic",children:"Not selected!"}):"".concat(this.props.periods.selected_period.session_plan_name," - ").concat(!0===this.props.periods.selected_period.is_active?"Active":"Not valid!")]})]})}),Object(v.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(v.jsx)("div",{onClick:function(){return e.setState({selectPeriod:!0})},className:"btn ".concat(null===this.props.periods.selected_period?"bg-yellow-50 hover:bg-yellow-100 border border-yellow-600 text-yellow-600":"bg-blue-50 hover:bg-blue-100 border border-blue-100 text-blue-600"," h-max flex items-center justify-center h-10 cursor-pointer"),children:null===this.props.periods.selected_period?"Choose period":"Change period"}),Object(v.jsx)(g.b,{to:"prepare-exam",className:"btn bg-blue-600 text-white h-max flex items-center justify-center h-10 cursor-pointer",children:"Prepare exam"})]})]})}),!0===this.state.loading?Object(v.jsxs)("div",{className:"px-4 py-6 mt-4 bg-white rounded",children:[Object(v.jsx)("div",{className:"text-gray-600 mb-3 px-4",children:"Loading exams list, Please wait..."}),Object(v.jsx)(b.a,{})]}):Object(v.jsx)("div",{className:"rounded bg-white px-3 py-3 mt-2 mb-28",children:Object(v.jsxs)("div",{className:"w-full overflow-x-auto",children:[Object(v.jsxs)("table",{className:"w-full",children:[Object(v.jsx)("thead",{className:"bg-blue-50 font-bold text-gray-800",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"py-2 pl-2 font-bold",children:"#"}),Object(v.jsx)("td",{className:"py-2",children:"Course"}),Object(v.jsx)("td",{className:"py-2",children:"Exam date"}),Object(v.jsx)("td",{className:"py-2",children:"Start time"}),Object(v.jsx)("td",{className:"py-2",children:"End time"}),Object(v.jsx)("td",{className:"py-2",children:"Exam duration"}),Object(v.jsx)("td",{className:"py-2",children:"Exam"})]})}),Object(v.jsxs)("tbody",{children:[Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:7,children:Object(v.jsx)("input",{onChange:function(t){return e.setState({search:t.target.value})},type:"text",className:"input-white border border-gray-500 my-2",placeholder:"Search",value:this.state.search})})}),null===this.props.prepareExam.examsList?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:7,children:Object(v.jsx)(b.a,{})})}):0===Object(w.a)(this.examsByPeriod(this.props.prepareExam.examsList),this.state.search).length?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:7,children:Object(v.jsx)("div",{className:"rounded bg-gray-100 px-3 py-3 flex items-center justify-center",children:"No exams found!"})})}):Object(w.a)(this.examsByPeriod(this.props.prepareExam.examsList),this.state.search).map((function(t,s){return Object(v.jsxs)("tr",{title:"Click to view details",onClick:function(){return e.setState({selectedExam:t})},className:"border-b border-gray-300 text-sm hover:bg-blue-50 cursor-pointer hover:border-blue-300",children:[Object(v.jsx)("td",{className:"pl-2 px-2 font-bold",children:s+1}),Object(v.jsxs)("td",{className:"py-2",children:[Object(v.jsx)("span",{className:"font-bold",children:t.course_code}),"-",t.course_name]}),Object(v.jsx)("td",{className:"py-2",children:Object(f.a)(t.exam_date,"DD/MM/YYYY")}),Object(v.jsx)("td",{className:"py-2",children:t.start_time}),Object(v.jsx)("td",{className:"py-2",children:t.end_time}),Object(v.jsxs)("td",{className:"py-2 font-bold text-blue-600",children:[t.duration,"mins"]}),Object(v.jsx)("td",{className:"py-2",children:Object(O.g)(t.exam_date,t.start_time,t.end_time)})]},s+1)}))]})]}),null!==this.state.selectedExam&&Object(v.jsx)(y,{course:this.props.course,periods:this.props.periods,exam:this.state.selectedExam,setSelectedExam:this.setSelectedExamItem,setSelectedExamEdit:this.setSelectedExamEdit})]})})]}):this.props.course.courses&&void 0!==this.props.course.courses.find((function(t){return e.state.examToEdit&&t.course_id===e.state.examToEdit.course}))&&Object(v.jsx)(N.EditExam,{selectedCourse:this.props.course.courses.find((function(t){return e.state.examToEdit&&t.course_id===e.state.examToEdit.course})),selectedExam:this.state.examToEdit,setSelectedExam:this.setSelectedExamEdit,setUploadingStatus:this.setUploadingStatus,loadExamsList:this.props.loadExamsList,setLoadingProps:this.setLoading}),!0===this.state.selectCourse&&Object(v.jsx)(u.d,{title:"Choose a course",backDrop:!0,theme:u.c.default,close:function(){return e.setState({selectCourse:!1})},backDropClose:!0,widthSizeClass:u.b.large,displayClose:!0,padding:{title:!0},children:Object(v.jsx)(d.a,{setSelectedCourse:this.chooseCourse,selected_course_id:this.props.course.selected_course&&this.props.course.selected_course.course_id})}),!0===this.state.addQuestionModal&&Object(v.jsx)(u.d,{title:Object(v.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[null!==this.props.questionBank.questions&&this.props.questionBank.questions.length>0&&Object(v.jsx)(g.b,{to:"/upload-questions",className:"btn bg-blue-100 hover:bg-blue-200 text-blue-700 cursor-pointer",children:"Upload new"}),Object(v.jsx)("span",{children:"Add Exam Questions"})]}),backDrop:!0,theme:u.c.default,close:function(){return e.setState({addQuestionModal:!1})},backDropClose:!0,widthSizeClass:u.b.large,displayClose:!0,padding:{title:!0},children:null===this.props.questionBank.questions?Object(v.jsx)(b.a,{}):null===this.props.course.selected_course?Object(v.jsx)("div",{children:"Please choose a course"}):Object(v.jsx)(x.a,{selectedCourse:this.props.course.selected_course,callBack:this.addQuestionToPaper,questionsList:this.props.questionBank.questions,questionPaper:this.props.prepareExam.questions})}),!0===this.state.selectPeriod&&Object(v.jsx)(u.d,{title:"Choose a period",backDrop:!0,theme:u.c.default,close:function(){return e.setState({selectPeriod:!1})},backDropClose:!0,widthSizeClass:u.b.large,displayClose:!0,padding:{title:!0},children:Object(v.jsx)("div",{className:"px-2",children:Object(v.jsx)(h.c,{applicationPeriods:this.props.periods.applicationPeriods,setSelectedPeriod:this.GetExamsByPeriod,showPeriodFilter:this.showPeriodFilter})})}),!1===this.state.loading&&null===this.props.schoolLevels.selectedEducationCategory&&!1===this.props.schoolLevels.showInstitutes&&Object(v.jsx)(S.a,{schoolLevels:this.props.schoolLevels,setSelectedEducationCategory:function(t){e.props.setSelectedEducationCategory(t),null!==t.session_plan?e.GetExamsByPeriod(t.session_plan):e.setState({selectPeriod:!0}),e.props.setShowInstitutes(!1)},onSelect:function(){e.props.setShowInstitutes(!1)}})]})}}]),s}(c.Component),q=Object(p.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes,prepareExam:e.prepareExam,periods:e.periods,system:e.system}}),{loadCourses:m.Gc,loadSchoolLevels:m.Qc,loadEducationCategories:m.Ic,setSelectedEducationCategory:m.gd,setSelectedSchoolLevel:m.nd,setUploadedQuestions:m.pd,loadQuestionTypes:m.Pc,loadQuestionBank:m.Oc,setSelectedCourse:m.fd,addExamQuestion:m.hc,loadApplicationPeriods:m.Cc,setSelectedPeriod:m.kd,PushPopupAlert:m.Rb,loadExamsList:m.Lc,loadExamsListByPeriod:m.Mc,setSelectedExam:m.hd,setShowInstitutes:m.od})(C)},867:function(e,t,s){"use strict";s.r(t),s.d(t,"getHoursList",(function(){return z})),s.d(t,"getMinutesList",(function(){return F})),s.d(t,"EditExam",(function(){return G}));var r=s(5),a=s.n(r),o=s(2),i=s(7),n=s(18),l=s(25),c=s(24),d=s(27),u=s(26),p=s(11),m=s(4),x=s(743),b=s(19),h=s(23),j=s(40),f=s(3),g=s(162),E=s(779),_=s(33),O=s(780),v=s(79),y=s(8),N=s(10),w=s.n(N),S=s(42),C=s(792),q=s(37),P=s(21),k=s(748),L=s(12),Q=s(750),T=s.n(Q),B=(s(744),s(816)),D=s(817),M=s(34),A=s(807),R=s(28),I=s(111),Y=s(1),z=function(){for(var e=[],t=0;t<=24;t++)e=[].concat(Object(p.a)(e),[t]);return e},F=function(){for(var e=[],t=0;t<=59;t++)e=[].concat(Object(p.a)(e),[t]);return e},U=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(l.a)(this,s),(r=t.call(this,e)).changeProctoringRule=function(e){if(void 0!==r.state.proctoringRules.find((function(t){return t.rule===e}))){var t,s=[],a=Object(n.a)(r.state.proctoringRules);try{for(a.s();!(t=a.n()).done;){var o=t.value;s=o.rule===e?[].concat(Object(p.a)(s),[{rule:e,status:!o.status,caption:o.caption}]):[].concat(Object(p.a)(s),[o])}}catch(i){a.e(i)}finally{a.f()}r.setState({proctoringRules:s})}},r.setLoading=function(e){r.setState({loading:e})},r.addQuestionToPaper=function(e){Object(I.g)(r.props.selectedExam.exam_date,r.props.selectedExam.start_time,r.props.selectedExam.end_time)===I.b.Waiting?r.props.addEditExamQuestion(e):alert("You can not add questions while its time has ended or being done!")},r.removeToQuestionPaper=function(e){Object(I.g)(r.props.selectedExam.exam_date,r.props.selectedExam.start_time,r.props.selectedExam.end_time)===I.b.Waiting?!0===window.confirm("Are you sure do you want to remove question from the exam questions paper?")&&r.props.addEditExamQuestion(e):alert("You can not remove questions while its time has ended or being done!")},r.showPeriodFilter=function(e){r.setState({selectPeriod:e})},r.setStep=function(e){if(e===B.a.Step2){if(null===r.props.periods.selected_period||!1===r.props.periods.selected_period.is_active)return r.setState({formErr:{element:"period",msg:"Please select valid period!"},selectPeriod:!0});if(null===r.props.selectedCourse)return r.setState({formErr:{element:"course",msg:"Please select a course!"},selectCourse:!0});if(null===r.props.prepareExam.selectedExam||0===r.props.prepareExam.selectedExam.questions.length)return r.setState({formErr:{element:"questions",msg:"Please choose questions"}})}r.setState({currentStep:e})},r.StepStatus=function(e){if(e===B.a.Step1){if(null===r.props.periods.selected_period||!1===r.props.periods.selected_period.is_active)return!1;if(null===r.props.selectedCourse)return!1;if(null===r.props.prepareExam.selectedExam||0===r.props.prepareExam.selectedExam.questions.length)return!1}if(e===B.a.Step2){if(""===r.state.exam_date)return!1;if(""===r.state.start_time)return!1;if(""===r.state.end_time)return!1;if(0===r.state.duration_hours&&0===r.state.duration_minutes)return!1;if(r.state.questions_per_page<1)return!1;if(""===r.state.number_format)return!1;if(""===r.state.discription)return!1;if(""===r.state.termes)return!1}return!0},r.chooseCourse=function(e){if(null!==r.props.prepareExam.selectedExam){var t,s=Object(n.a)(r.props.prepareExam.selectedExam.questions);try{for(s.s();!(t=s.n()).done;){var a=t.value;r.props.addEditExamQuestion(a)}}catch(o){s.e(o)}finally{s.f()}r.props.setSelectedCourse(e),r.setState({currentStep:B.a.Step1})}null!=r.props.prepareExam.selectedExam&&0!==r.props.prepareExam.selectedExam.questions.length&&null!==r.props.course.selected_course||r.props.setSelectedCourse(e),r.setState({selectCourse:!1}),null!==e&&r.props.loadQuestionBank(e.course_id,r.setLoading)},r.examQuestionsIds=function(e){var t,s=[],r=Object(n.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;s=[].concat(Object(p.a)(s),[a.question_id])}}catch(o){r.e(o)}finally{r.f()}return s},r.submitExamPreparation=Object(i.a)(a.a.mark((function e(){var t,s,i,l,c,d,u,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({formErr:null}),null!==r.props.periods.selected_period&&!1!==r.props.periods.selected_period.is_active){e.next=3;break}return e.abrupt("return",r.setState({formErr:{element:"period",msg:"Please select valid period!"},selectPeriod:!0}));case 3:if(null!==r.props.selectedCourse){e.next=5;break}return e.abrupt("return",r.setState({formErr:{element:"course",msg:"Please select a course!"},selectCourse:!0}));case 5:if(""!==r.state.exam_date){e.next=7;break}return e.abrupt("return",r.setState({formErr:{element:"exam_date",msg:"Please choose exam date"}}));case 7:if(""!==r.state.start_time){e.next=9;break}return e.abrupt("return",r.setState({formErr:{element:"start_time",msg:"Please fill exam start time"}}));case 9:if(""!==r.state.end_time){e.next=11;break}return e.abrupt("return",r.setState({formErr:{element:"end_time",msg:"Please fill exam ending time"}}));case 11:if(!1!==Object(R.s)(r.state.start_time,r.state.end_time)){e.next=13;break}return e.abrupt("return",r.setState({formErr:{element:"end_time",msg:"Please end time should be greater than start time"}}));case 13:if(0!==r.state.duration_hours||0!==r.state.duration_minutes){e.next=15;break}return e.abrupt("return",r.setState({formErr:{element:"duration_hours",msg:"Please fill exam duration"}}));case 15:if(!(r.state.questions_per_page<1)){e.next=17;break}return e.abrupt("return",r.setState({formErr:{element:"questions_per_page",msg:"Please fill number of questions per page"}}));case 17:if(""!==r.state.number_format){e.next=19;break}return e.abrupt("return",r.setState({formErr:{element:"number_format",msg:"Please fill questions numbering format"}}));case 19:if(""!==r.state.discription){e.next=21;break}return e.abrupt("return",r.setState({formErr:{element:"discription",msg:"Please fill exam description"}}));case 21:if(null!==r.props.prepareExam.selectedExam&&0!==r.props.prepareExam.selectedExam.questions.length){e.next=23;break}return e.abrupt("return",r.setState({formErr:{element:"questions",msg:"Please choose questions"}}));case 23:if(""!==r.state.termes){e.next=25;break}return e.abrupt("return",r.setState({formErr:{element:"termes",msg:"Please fill exam terms and conditions"}}));case 25:return r.setState({loading:!0}),e.prev=26,e.next=29,w.a.put("".concat(y.a.QBank,"/exam/").concat(r.props.selectedExam.id),{period:r.props.periods.selected_period._id,course:r.props.selectedCourse.course_id,questions:r.examQuestionsIds(r.props.prepareExam.selectedExam.questions),exam_status:C.b.Created,termes:r.state.termes,questions_per_page:r.state.questions_per_page,exam_date:r.state.exam_date,start_time:r.state.start_time,end_time:r.state.end_time,duration:r.state.duration_minutes+60*r.state.duration_hours,number_format:r.state.number_format,discription:r.state.discription,rules:{right_click_enabled:null===(t=r.state.proctoringRules.find((function(e){return"right_click_enabled"===e.rule})))||void 0===t?void 0:t.status,copy_enabled:null===(s=r.state.proctoringRules.find((function(e){return"copy_enabled"===e.rule})))||void 0===s?void 0:s.status,paste_enabled:null===(i=r.state.proctoringRules.find((function(e){return"paste_enabled"===e.rule})))||void 0===i?void 0:i.status,stop_candidate_when_comeback:null===(l=r.state.proctoringRules.find((function(e){return"stop_candidate_when_comeback"===e.rule})))||void 0===l?void 0:l.status,allow_to_leave_browser:null===(c=r.state.proctoringRules.find((function(e){return"allow_to_leave_browser"===e.rule})))||void 0===c?void 0:c.status}});case 29:d=Object(n.a)(r.props.prepareExam.selectedExam.questions);try{for(d.s();!(u=d.n()).done;)p=u.value,r.props.addEditExamQuestion(p)}catch(a){d.e(a)}finally{d.f()}r.props.setSelectedCourse(null),null!==r.props.periods.selected_period?r.props.loadExamsListByPeriod(r.props.periods.selected_period._id,r.props.setLoadingProps):null!==r.props.schoolLevels.selectedEducationCategory&&null!==r.props.schoolLevels.selectedEducationCategory.session_plan&&r.props.loadExamsListByPeriod(r.props.schoolLevels.selectedEducationCategory.session_plan._id,r.props.setLoadingProps),r.setState({redirectToExams:!0}),r.props.setSelectedExam(null),r.props.PushPopupAlert({title:"Success",description:"Exam has updated successfully!",theme:P.a.success}),e.next=42;break;case 38:e.prev=38,e.t0=e.catch(26),e.t0.response&&(e.t0.response.data&&void 0!==e.t0.response.data.errors&&e.t0.response.data.errors.length>0?r.setState({formErr:{element:"main",msg:e.t0.response.data.errors[0].message}}):r.setState({formErr:{element:"main",msg:"Failed to update Question!"}})),console.log("Exam err: ",Object(o.a)({},e.t0));case 42:r.setState({loading:!1});case 43:case"end":return e.stop()}}),e,null,[[26,38]])}))),r.componentDidMount=function(){if(null!==r.props.questionTypes.questionTypes&&0!==r.props.questionTypes.questionTypes.length||r.props.loadQuestionTypes(r.setLoading),null!==r.props.periods.applicationPeriods&&0!==r.props.periods.applicationPeriods.length||r.props.loadApplicationPeriods(r.setLoading),null===r.props.selectedCourse&&r.setState({selectCourse:!0}),null!==r.props.course.courses&&null===r.props.course.selected_course){var e=r.props.course.courses.find((function(e){return e.course_id===r.props.selectedExam.course}));void 0!==e&&(r.props.setSelectedCourse(e),r.chooseCourse(e)),r.props.findExamDetails(r.props.selectedExam.id,r.setLoading)}null!==r.props.selectedCourse&&r.props.findExamDetails(r.props.selectedExam.id,r.setLoading)},r.unSelectQuestion=function(){r.setState({editQuestion:null})},r.findTotalMarks=function(e){var t,s=0,r=Object(n.a)(e);try{for(r.s();!(t=r.n()).done;){s+=t.value.marks}}catch(a){r.e(a)}finally{r.f()}return s},r.handleChangeTermes=function(e){r.setState({termes:e,formErr:null})},r.setSelectCourse=function(e){r.setState({selectCourse:e})},r.setSelectPeriod=function(e){r.setState({selectPeriod:e})},r.GetExamsByPeriod=function(e){r.props.setSelectedPeriod(e),r.props.loadExamsListByPeriod(e._id,r.setLoading)},r.state={loading:!1,selectCourse:!1,selectPeriod:!1,addQuestionModal:!1,formErr:{element:"",msg:""},questions_per_page:r.props.selectedExam.questions_per_page,exam_date:r.props.selectedExam.exam_date,start_time:r.props.selectedExam.start_time,end_time:r.props.selectedExam.end_time,duration_hours:r.props.selectedExam.duration/60|0,duration_minutes:r.props.selectedExam.duration%60,number_format:C.c.NUMBER,discription:r.props.selectedExam.discription,termes:r.props.selectedExam.termes,redirectToExams:!1,editQuestion:null,currentStep:B.a.Step2,proctoringRules:[{rule:"right_click_enabled",status:r.props.selectedExam.rules.right_click_enabled,caption:"Enable right click"},{rule:"copy_enabled",status:r.props.selectedExam.rules.copy_enabled,caption:"Enable copy"},{rule:"paste_enabled",status:r.props.selectedExam.rules.paste_enabled,caption:"Enable paste"},{rule:"stop_candidate_when_comeback",status:r.props.selectedExam.rules.stop_candidate_when_comeback,caption:"Enable Candidate when coming back"},{rule:"allow_to_leave_browser",status:r.props.selectedExam.rules.allow_to_leave_browser,caption:"Enable to leave browser"}],submitExam:!1},r}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return!0===this.state.redirectToExams?Object(Y.jsx)(q.a,{to:"exams-list"}):Object(Y.jsxs)(m.Fragment,{children:[null===this.state.editQuestion?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(B.b,{currentStep:this.state.currentStep,setStep:this.setStep,course:this.props.course,periods:this.props.periods,setSelectCourse:this.setSelectCourse,setSelectPeriod:this.setSelectPeriod,stepStatus:this.StepStatus,actionType:A.PrepareActionTypes.EditExam}),!0===this.state.loading?Object(Y.jsxs)("div",{className:"px-4 py-6 mt-4 bg-white rounded",children:[Object(Y.jsx)("div",{className:"text-gray-600 mb-3 px-4",children:"Performing action, Please wait..."}),Object(Y.jsx)(_.a,{})]}):Object(Y.jsxs)("div",{className:"rounded bg-white px-3 py-3 mt-2 mb-28",children:[this.state.currentStep===B.a.Step2&&Object(Y.jsxs)("div",{className:"grid md:grid-cols-12 gap-4",children:[Object(Y.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(Y.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam date"}),Object(Y.jsx)("input",{onChange:function(t){e.setState({exam_date:t.target.value,formErr:null})},value:Object(R.b)(this.state.exam_date,"YYYY-MM-DD"),type:"date",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"exam_date"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"exam_date"===this.state.formErr.element&&Object(Y.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(Y.jsxs)("div",{className:"md:col-span-3 flex flex-col",children:[Object(Y.jsx)("span",{className:"text-gray-700 font-semibold",children:"Duration(Hours)"}),Object(Y.jsx)("select",{onChange:function(t){e.setState({duration_hours:parseInt(t.target.value),formErr:null})},value:this.state.duration_hours,className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"duration_hours"===this.state.formErr.element?"border-2 border-red-600":"border"),children:z().map((function(e,t){return Object(Y.jsx)("option",{value:e,children:e},t+1)}))}),null!==this.state.formErr&&"duration_hours"===this.state.formErr.element&&Object(Y.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(Y.jsxs)("div",{className:"md:col-span-3 flex flex-col",children:[Object(Y.jsx)("span",{className:"text-gray-700 font-semibold",children:"Duration(Minutes)"}),Object(Y.jsx)("select",{onChange:function(t){e.setState({duration_minutes:parseInt(t.target.value),formErr:null})},value:this.state.duration_minutes,className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"duration_minutes"===this.state.formErr.element?"border-2 border-red-600":"border"),children:F().map((function(e,t){return Object(Y.jsx)("option",{value:e,children:e},t+1)}))}),null!==this.state.formErr&&"duration_minutes"===this.state.formErr.element&&Object(Y.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(Y.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(Y.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam start time"}),Object(Y.jsx)("input",{onChange:function(t){e.setState({start_time:t.target.value,formErr:null})},value:this.state.start_time,type:"time",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"start_time"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"start_time"===this.state.formErr.element&&Object(Y.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(Y.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(Y.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam ending time"}),Object(Y.jsx)("input",{onChange:function(t){e.setState({end_time:t.target.value,formErr:null})},value:this.state.end_time,type:"time",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"end_time"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"end_time"===this.state.formErr.element&&Object(Y.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(Y.jsxs)("div",{className:"hidden md:col-span-6 flex-col",children:[Object(Y.jsx)("span",{className:"text-gray-500 font-semibold",children:"Number of questions per page"}),Object(Y.jsx)("input",{disabled:!0,onChange:function(t){e.setState({questions_per_page:parseInt(t.target.value),formErr:null})},value:this.state.questions_per_page,type:"number",className:"rounded px-3 py-2 h-10 border-gray-200 bg-gray-100 ".concat(null!==this.state.formErr&&"questions_per_page"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"questions_per_page"===this.state.formErr.element&&Object(Y.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(Y.jsxs)("div",{className:"hidden md:col-span-6 flex-col",children:[Object(Y.jsxs)("span",{className:"text-gray-500 font-semibold",children:["Questions number format: ",this.state.number_format]}),Object(Y.jsxs)("select",{onChange:function(t){e.setState({number_format:t.target.value,formErr:null})},disabled:!0,className:"px-3 py-2 rounded bg-gray-100 h-10 border-gray-200 ".concat(null!==this.state.formErr&&"number_format"===this.state.formErr.element?"border-2 border-red-600":"border"),children:[Object(Y.jsx)("option",{value:"",children:"Select Numbering format"}),C.a.map((function(t,s){return Object(Y.jsx)("option",{selected:t.key===e.state.number_format,value:t.key,children:t.value},s+1)}))]}),null!==this.state.formErr&&"number_format"===this.state.formErr.element&&Object(Y.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(Y.jsxs)("div",{className:"md:col-span-12 flex flex-col",children:[Object(Y.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam description"}),Object(Y.jsx)("textarea",{onChange:function(t){e.setState({discription:t.target.value,formErr:null})},value:this.state.discription,className:"input-white min-h-8 border-gray-400 ".concat(null!==this.state.formErr&&"discription"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"discription"===this.state.formErr.element&&Object(Y.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(Y.jsxs)("div",{className:"md:col-span-12 flex flex-col",children:[Object(Y.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam terms and conditions"}),Object(Y.jsx)(T.a,{value:this.state.termes,className:"rounded mb-10",onChange:this.handleChangeTermes}),null!==this.state.formErr&&"termes"===this.state.formErr.element&&Object(Y.jsx)("div",{className:"text-red-600 text-xs font-bold italic mt-2",children:this.state.formErr.msg})]})]}),this.state.currentStep===B.a.Step1&&Object(Y.jsxs)("div",{className:"border rounded px-2 py-2 mt-4",children:[Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(Y.jsx)("span",{className:"font-bold text-blue-600 text-lg",children:"Question paper"}),Object(Y.jsxs)("div",{className:"flex flex-row gap-2",children:[Object(Y.jsxs)("span",{className:"rounded-full bg-yellow-50 text-yellow-800 font-bold px-4 py-2 text-sm underline h-max",children:["Total marks:"," ",null!==this.props.prepareExam.selectedExam&&this.findTotalMarks(this.props.prepareExam.selectedExam.questions)]}),Object(I.g)(this.props.selectedExam.exam_date,this.props.selectedExam.start_time,this.props.selectedExam.end_time)===I.b.Waiting&&Object(Y.jsxs)("div",{onClick:function(){return null===e.props.selectedCourse?e.setState({selectCourse:!0}):e.setState({addQuestionModal:!0})},className:"btn bg-blue-50 text-blue-600 hover:bg-blue-100 cursor-pointer flex flex-row items-center",children:[Object(Y.jsx)(L.b,{className:"text-2xl"})," Add question"]})]})]}),Object(Y.jsx)("div",{className:"flex flex-col mt-2",children:null===this.props.prepareExam.selectedExam?Object(Y.jsx)("div",{children:"Loading..."}):0===this.props.prepareExam.selectedExam.questions.length?Object(Y.jsx)("div",{className:"".concat(null!==this.state.formErr&&"questions"===this.state.formErr.element?"bg-red-50 border-2 border-red-600 text-red-600":"bg-gray-100"," rounded mt-2"),children:Object(Y.jsx)(g.b,{theme:g.a.Dark,value:"No questions added so far!"})}):this.props.questionTypes&&this.props.prepareExam.selectedExam.questions.map((function(t,s){return Object(Y.jsx)(O.a,{question:t,callBack:e.removeToQuestionPaper,status:!0,questionTypes:e.props.questionTypes,select:!1,number:s+1,questionsList:e.props.prepareExam.selectedExam.questions},s+1)}))})]}),Object(Y.jsx)("div",{className:"my-4",onClick:function(){return e.setState({formErr:null})},children:null!==this.state.formErr&&""!==this.state.formErr.element&&Object(Y.jsx)(S.b,{title:"Missing info",description:this.state.formErr.msg,theme:S.a.danger})}),Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-between mt-4",children:[this.state.currentStep===B.a.Step1?Object(Y.jsx)("button",{onClick:function(){return e.props.setSelectedExam(null)},type:"button",className:"btn border cursor-pointer",children:"Cancel"}):Object(Y.jsx)("div",{onClick:function(){return e.setStep(B.a.Step1)},className:"btn border cursor-pointer",children:"Back to questions"}),this.state.currentStep===B.a.Step1?Object(Y.jsx)("div",{className:"flex flex-row items-center",children:Object(Y.jsx)("div",{onClick:function(){return e.setStep(B.a.Step2)},className:"btn bg-blue-600 text-white cursor-pointer",children:"Continue"})}):Object(Y.jsx)("div",{className:"flex flex-row items-center",children:Object(Y.jsx)("div",{onClick:function(){return e.setState({submitExam:!0})},className:"btn bg-blue-600 text-white cursor-pointer",children:"Review & Save"})})]})]})]}):null===this.props.questionBank.questions?Object(Y.jsx)(_.a,{}):0===this.props.questionBank.questions.length?Object(Y.jsx)("div",{children:"No Questions available!"}):Object(Y.jsx)(k.b,{selectedQuestion:this.state.editQuestion,questionsList:this.props.questionBank.questions,unSelectQuestion:this.unSelectQuestion}),!0===this.state.selectCourse&&Object(Y.jsx)(b.d,{title:"Choose course",backDrop:!0,theme:b.c.default,close:function(){return e.setState({selectCourse:!1})},backDropClose:!0,widthSizeClass:b.b.large,displayClose:!0,padding:{title:!0},children:Object(Y.jsx)("div",{className:"-mt-2",children:Object(Y.jsx)(x.a,{setSelectedCourse:this.chooseCourse,selected_course_id:this.props.selectedCourse&&this.props.selectedCourse.course_id})})}),!0===this.state.addQuestionModal&&Object(Y.jsx)(b.d,{title:Object(Y.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[null!==this.props.questionBank.questions&&this.props.questionBank.questions.length>0&&Object(Y.jsx)(j.b,{to:"/upload-questions",className:"btn bg-blue-100 hover:bg-blue-200 text-blue-700 cursor-pointer",children:"Upload new"}),Object(Y.jsx)("span",{children:"Add Exam Questions"})]}),backDrop:!0,theme:b.c.default,close:function(){return e.setState({addQuestionModal:!1})},backDropClose:!0,widthSizeClass:b.b.extraLarge,displayClose:!0,padding:{title:!0},children:null===this.props.selectedCourse?Object(Y.jsx)("div",{children:"Please choose a course"}):null===this.props.questionBank.questions?Object(Y.jsx)(_.a,{}):Object(Y.jsx)(E.a,{selectedCourse:this.props.selectedCourse,callBack:this.addQuestionToPaper,questionsList:this.props.questionBank.questions,questionPaper:this.props.prepareExam.questions})}),!0===this.state.selectPeriod&&Object(Y.jsx)(b.d,{title:"Choose a period",backDrop:!0,theme:b.c.default,close:function(){return e.setState({selectPeriod:!1})},backDropClose:!0,widthSizeClass:b.b.large,displayClose:!0,padding:{title:!0},children:Object(Y.jsx)("div",{className:"px-2 mt-6",children:Object(Y.jsx)(v.c,{applicationPeriods:this.props.periods.applicationPeriods,setSelectedPeriod:this.GetExamsByPeriod,showPeriodFilter:this.showPeriodFilter})})}),!0===this.state.submitExam&&Object(Y.jsxs)(b.d,{title:Object(Y.jsx)("div",{className:"text-blue-600 font-bold text-xl",children:"Editing Exam"}),backDrop:!0,theme:b.c.default,close:function(){return e.setState({submitExam:!1})},backDropClose:!0,widthSizeClass:b.b.large,displayClose:!0,padding:{title:!0,body:!0},children:[Object(Y.jsx)("div",{className:"mb-3 -mt-6",children:Object(Y.jsx)("div",{className:"md:col-span-12 flex flex-col",children:Object(Y.jsxs)("div",{className:"bg-gray-100 rounded p-4",children:[Object(Y.jsx)("span",{className:"text-gray-900 text-lg font-bold",children:"Exam proctoring rules"}),Object(Y.jsx)("div",{className:"bg-white rounded px-3 flex flex-col mt-3",children:this.state.proctoringRules.map((function(t,s){return Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-between ".concat(e.state.proctoringRules.length===s+1?"":"border-b"," ").concat(!0===t.status?"text-blue-600 font-bold":"text-gray-600"," py-2"),children:[Object(Y.jsx)("div",{className:"flex flex-col",children:Object(Y.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(Y.jsx)(M.v,{className:"text-xl"}),Object(Y.jsx)("span",{className:"",children:t.caption})]})}),Object(Y.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[Object(Y.jsx)("span",{className:"text-sm ".concat(!0===t.status?"text-blue-600 font-bold":"text-gray-500"),children:!0===t.status?"Allowed":"Not Allowed"}),Object(Y.jsx)(D.a,{value:t.status,onChange:function(){return e.changeProctoringRule(t.rule)}})]})]},s+1)}))})]})})}),Object(Y.jsx)("div",{className:"my-4",onClick:function(){return e.setState({formErr:null})},children:null!==this.state.formErr&&""!==this.state.formErr.element&&Object(Y.jsx)(S.b,{title:"Missing info",description:this.state.formErr.msg,theme:S.a.danger})}),Object(Y.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[Object(Y.jsx)("div",{className:"flex flex-row items-center mt-3",children:Object(Y.jsx)("div",{onClick:function(){return e.setState({submitExam:!1})},className:"btn bg-white text-gray-600 cursor-pointer border",children:"Cancel"})}),Object(Y.jsx)("div",{className:"flex flex-row items-center mt-3",children:this.props.prepareExam.selectedExam&&Object(I.g)(this.props.prepareExam.selectedExam.exam_date,this.props.prepareExam.selectedExam.start_time,this.props.prepareExam.selectedExam.end_time)===I.b.Waiting?Object(Y.jsx)("div",{onClick:function(){return e.submitExamPreparation()},className:"btn bg-blue-600 text-white cursor-pointer",children:"Confirm edit exam"}):Object(Y.jsx)("div",{children:"Can not edit"})})]})]})]})}}]),s}(m.Component),G=Object(h.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes,prepareExam:e.prepareExam,periods:e.periods,system:e.system}}),{loadCourses:f.Gc,loadSchoolLevels:f.Qc,loadEducationCategories:f.Ic,setSelectedEducationCategory:f.gd,setSelectedSchoolLevel:f.nd,setUploadedQuestions:f.pd,loadQuestionTypes:f.Pc,loadQuestionBank:f.Oc,setSelectedCourse:f.fd,addEditExamQuestion:f.fc,loadApplicationPeriods:f.Cc,setSelectedPeriod:f.kd,PushPopupAlert:f.Rb,findExamDetails:f.oc,loadExamsListByPeriod:f.Mc})(U)}}]);
//# sourceMappingURL=49.751eb4aa.chunk.js.map