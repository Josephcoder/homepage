(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[35],{1322:function(e,t,s){"use strict";s.r(t),s.d(t,"PlacementAlgorithm",(function(){return I}));var c=s(5),r=s.n(c),i=s(2),a=s(7),n=s(25),o=s(24),l=s(27),d=s(26),p=s(10),u=s.n(p),b=s(4),h=s(71),x=s(12),j=s(23),m=s(3),f=s(685),O=s(33),v=s(19),g=s(8),y=s(28),N=s(1),_=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(n.a)(this,s),(c=t.call(this,e)).state={loading:!1,searchValue:""},c}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"bg-white",children:[Object(N.jsx)("div",{className:"my-3",children:Object(N.jsx)("input",{placeholder:"Search by district name",type:"text",value:this.state.searchValue,onChange:function(t){return e.setState({searchValue:t.target.value})},className:"px-3 py-2 rounded border border-gray-400 w-full"})}),Object(N.jsx)("div",{children:Object(N.jsxs)("table",{className:"w-full text-left text-sm",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{className:"bg-blue-600 text-white",children:[Object(N.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"Code"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"District name"}),Object(N.jsx)("th",{className:"px-3 py-2"})]})}),Object(N.jsx)("tbody",{children:0===Object(y.o)(this.props.districts.districts,this.state.searchValue).length?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:4,className:"py-6 text-center font-extralight text-2xl",children:"No result found!"})}):Object(y.o)(this.props.districts.districts,this.state.searchValue).map((function(t,s){return Object(N.jsxs)("tr",{onClick:function(){return e.props.selectDistrict(t.district_code)},className:"group ".concat(t.district_code===e.props.selected_district_code?"bg-blue-100 font-bold text-blue-600":s%2!==0?"bg-gray-100":"bg-white"," hover:bg-blue-100 hover:text-blue-600 cursor-pointer"),children:[Object(N.jsx)("td",{className:"px-3 py-2",children:s+1}),Object(N.jsx)("td",{className:"px-3 py-2",children:t.district_code}),Object(N.jsx)("td",{className:"px-3 py-2",children:t.district_name}),Object(N.jsx)("td",{className:"p-1 flex flex-row items-center justify-end",children:t.district_code!==e.props.selected_district_code&&Object(N.jsx)("div",{className:"cursor-pointer rounded bg-blue-100 group-hover:bg-blue-600 group-hover:text-white px-2 py-1",children:"Choose"})})]})}))})]})})]})}}]),s}(b.Component),w=s(11),P=function(e){var t=e.data.map((function(t,s){return e.rowFormat(t,s)}));return Object(N.jsxs)("div",{children:[e.tableHead,Object(N.jsxs)("table",{className:"w-full text-left mt-3 text-sm animate__animated animate__fadeIn",children:[e.thead,Object(N.jsx)("tbody",{children:t})]})]})},S=s(714),k=s.n(S),R=s(715),D=s(34),C=function(e){var t=[e.headerFormat];return Object(N.jsxs)("div",{onClick:function(s){return function(s,c,r){var i=R.utils.json_to_sheet(t,{header:e.headers,skipHeader:!0});i["!cols"]=r,R.utils.sheet_add_json(i,s,{header:e.headers,skipHeader:!0,origin:-1});var a={Sheets:{data:i},SheetNames:["data"]},n=Object(R.write)(a,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});k.a.saveAs(o,c+".xlsx")}(e.csvData,e.fileName,e.wscols)},className:"flex flex-row items-center gap-2 w-max bg-".concat(e.buttonColor,"-600 hover:bg-").concat(e.buttonColor,"-800 text-white rounded cursor-pointer px-3 py-2 animate__animated animate__zoomIn"),children:[Object(N.jsx)("div",{children:Object(N.jsx)(D.j,{className:"text-2xl"})}),Object(N.jsx)("span",{children:e.buttonTitle})]})},T=function(e){var t,s,c=Object(y.o)(e.placementReport,e.searchValue).map((function(t,s){return{id:(s+1).toString(),names:"".concat(t.fname," ").concat(t.lname),phone_number:t.phone_number,email:t.email,position:"".concat(t.position_name,"(").concat(t.position_code,")"),marks:"".concat(t.marks),gender:t.gender,disability:!0===t.disability?"Yes":"No",in_education:!0===t.in_education?"Yes":"No",requested_district:"".concat(0===t.requested_district.values.length?"All districts":t.requested_district.values.map((function(s){return" ".concat(e.GetDistrictName(s.toString())).concat(t.requested_district.values.length>0&&t.requested_district.values[t.requested_district.values.length-1]===s&&!1===t.requested_district.strict?" and other districts":"")}))),district:e.GetDistrictName(t.district_code.toString()),sector:t.sector,school_name:t.school_name}})),r=[{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.id.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.names.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.phone_number.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.email.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.position.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.marks.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.gender.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.disability.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.in_education.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.requested_district.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.district.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.sector.length}))))},{wch:Math.max.apply(Math,Object(w.a)(c.map((function(e){return e.school_name.length}))))}];return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"mt-2 flex flex-row items-center gap-2 w-full",children:[Object(N.jsx)("input",{placeholder:"Search by teacher name or school name",type:"text",value:e.searchValue,onChange:function(t){return e.editSearchValue(t.target.value)},className:"px-3 py-2 rounded border border-gray-400 w-full"}),Object(N.jsx)("div",{children:Object(N.jsx)(C,{csvData:c,fileName:"".concat(null===(t=e.selectedDistrict)||void 0===t?void 0:t.district_name,"(").concat(null===(s=e.selectedDistrict)||void 0===s?void 0:s.district_code,") - ").concat(e.selectedPosition.position_title,"(").concat(e.selectedPosition.position_code,") TRS Placement Report on ").concat(Object(y.a)((new Date).toString())),wscols:r,headers:["id","names","phone_number","email","position","marks","gender","disability","in_education","requested_district","district","sector","school_name"],headerFormat:{id:"#",names:"Names",phone_number:"Phone number",email:"Email",position:"Position",marks:"Marks",gender:"Gender",disability:"Disability",in_education:"In Education",requested_district:"Preferences",district:"Placed District",sector:"Placed Sector",school_name:"Placed School"},buttonTitle:"Export Excel",buttonColor:"blue"})})]}),Object(N.jsx)("div",{className:"w-full overflow-x-auto",children:Object(N.jsx)(P,{thead:Object(N.jsx)("thead",{className:"bg-blue-50 text-sm font-bold",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"#"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Names"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Phone number"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Email"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Position"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Marks"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Gender"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Disability"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"In Education"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Preferences"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Placed District"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Placed Sector"}),Object(N.jsx)("th",{className:"px-2 py-2 border border-blue-300",children:"Placed School"})]})}),rowFormat:function(e){return Object(N.jsxs)("tr",{className:"".concat(parseInt(e.id)%2===0?"bg-gray-100":""," hover:bg-blue-100 hover:text-blue-700 group"),children:[Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:e.id}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:Object(N.jsx)("div",{className:"w-48",children:e.names})}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:Object(N.jsx)("div",{className:"w-24",children:e.phone_number})}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:e.email}),Object(N.jsxs)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:[e.position,")"]}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:e.marks}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:e.gender}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:e.disability}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:e.in_education}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:Object(N.jsx)("div",{className:"w-48",children:e.requested_district})}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:e.district}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:e.sector}),Object(N.jsx)("td",{className:"px-2 py-2 border border-gray-300 group-hover:border-blue-400",children:Object(N.jsx)("div",{className:"truncate",children:e.school_name})})]},e.id)},data:c})})]})},G=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(n.a)(this,s),(c=t.call(this,e)).state={loading:!1,searchValue:""},c}return Object(o.a)(s,[{key:"render",value:function(){var e,t,s=this;if(null===this.props.selectedDistrict){if(!0===this.props.view_all&&null===this.props.placementReport)return Object(N.jsxs)("div",{className:"bg-white rounded p-4 flex flex-col items-center justify-center gap-3",children:[Object(N.jsx)("div",{children:Object(N.jsx)(x.U,{className:"text-7xl"})}),Object(N.jsx)("div",{className:"text-center text-xl font-light",children:"No report found, please click the button to reload data"}),Object(N.jsx)("div",{className:"mt-4 flex flex-row items-center justify-center gap-3 w-full",children:null===this.props.selectedPosition.position_code?"Position not selected!":Object(N.jsx)("div",{onClick:function(){return s.props.GetPlacementReport(s.props.selectedPosition.position_code,"")},className:"btn bg-blue-500 text-white cursor-pointer hover:bg-blue-700",children:"Load position report"})})]});if(!1===this.props.view_all)return Object(N.jsxs)("div",{className:"bg-white rounded p-4 flex flex-col items-center justify-center gap-3",children:[Object(N.jsx)("div",{children:Object(N.jsx)(x.U,{className:"text-7xl"})}),Object(N.jsx)("div",{className:"text-center text-xl font-light",children:"No district select, please you are required to choose district"}),Object(N.jsxs)("div",{className:"mt-4 flex flex-row items-center justify-center gap-3 w-full",children:[Object(N.jsx)("div",{onClick:function(){return s.props.chooseDistrict()},className:"btn bg-blue-500 text-white cursor-pointer hover:bg-blue-700",children:"Choose a district"}),null!==this.props.selectedPosition.position_code&&Object(N.jsx)("div",{onClick:function(){return s.props.GetPlacementReport(s.props.selectedPosition.position_code,"")},className:"btn bg-blue-500 text-white cursor-pointer hover:bg-blue-700",children:"Report by position"})]})]})}return null===this.props.placementReport?Object(N.jsxs)("div",{className:"bg-white rounded p-4 pt-10 mt-5",children:[Object(N.jsx)(O.a,{}),Object(N.jsx)("div",{className:"ml-4 -mt-5 text-xl font-light",children:"Loading, please wait..."})]}):Object(N.jsxs)("div",{className:"bg-white p-3",children:[Object(N.jsxs)("div",{className:"flex flex-row items-center gap-4 justify-between",children:[Object(N.jsx)("div",{className:"",children:Object(N.jsxs)("div",{className:"flex flex-row items-center gap-2 text-black",children:[Object(N.jsx)("div",{children:Object(N.jsx)(x.i,{className:"text-5xl animate__animated animate__zoomIn"})}),Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"text-2xl font-bold flex flex-row items-center gap-3",children:[Object(N.jsx)("span",{children:"Placement report"}),Object(N.jsxs)("div",{className:"rounded-full bg-blue-600 text-white font-extrabold text-xl px-2",children:[Object(y.g)(this.props.placementReport.length)," teachers"]})]}),Object(N.jsx)("div",{className:"text-sm font-light text-black",children:"This the placement report, it is generated on the district level. choose a district where you want the report"}),Object(N.jsxs)("div",{className:"flex flex-row items-center gap-2 mt-1",children:[Object(N.jsxs)("div",{className:"bg-blue-100 rounded-full px-2 text-sm text-blue-800",children:["Position: ",this.props.selectedPosition.position_title]}),null!==this.props.selectedDistrict&&Object(N.jsxs)("div",{className:"bg-blue-100 rounded-full px-2 text-sm text-blue-800",children:["District: ",null===(e=this.props.selectedDistrict)||void 0===e?void 0:e.district_name]})]})]})]})}),Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"font-normal text-sm",children:["Position: ",this.props.selectedPosition.position_title]}),Object(N.jsxs)("div",{className:"font-normal text-sm",children:["District: ",null===(t=this.props.selectedDistrict)||void 0===t?void 0:t.district_name]}),Object(N.jsxs)("div",{className:"px-2 py-1 text-blue-700 border-2 border-blue-600 rounded bg-blue-100 hover:bg-blue-600 hover:text-white w-max cursor-pointer",onClick:function(){return s.props.chooseDistrict()},children:[null===this.props.selectedDistrict?"Choose":"".concat(this.props.selectedDistrict.district_name," - Change")," ","district"]})]})]}),Object(N.jsx)(T,{placementReport:this.props.placementReport,GetDistrictName:this.props.GetDistrictName,selectedDistrict:this.props.selectedDistrict,selectedPosition:this.props.selectedPosition,searchValue:this.state.searchValue,editSearchValue:function(e){s.setState({searchValue:e})}})]})}}]),s}(b.Component),M=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(n.a)(this,s),(c=t.call(this,e)).state={loading:!1,searchValue:""},c}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"-mt-5",children:[Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{children:"Search by position name"}),Object(N.jsx)("input",{type:"text",value:this.state.searchValue,onChange:function(t){e.setState({searchValue:t.target.value})},className:"px-3 py-2 rounded border-2 border-blue-600 w-full"})]}),Object(N.jsx)("div",{children:Object(N.jsxs)("table",{className:"w-full text-left mt-2",children:[Object(N.jsx)("thead",{className:"bg-blue-50",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"Code"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"Name"}),Object(N.jsx)("th",{className:"px-3 py-2"})]})}),Object(N.jsxs)("tbody",{children:[0===Object(y.o)(this.props.positions,this.state.searchValue).length?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:4,className:"text-xl font-light text-center py-5",children:"No result found!"})}):Object(y.o)(this.props.positions,this.state.searchValue).map((function(t,s){return Object(N.jsxs)("tr",{onClick:function(){return e.props.selectPosition(t)},className:"".concat(e.props.selected_position_code===t.position_code?"bg-blue-200 font-bold text-blue-700":s%2!==0?"bg-gray-100":"bg-white"," group hover:text-blue-800 hover:bg-blue-100 cursor-pointer"),children:[Object(N.jsx)("td",{className:"px-3 py-2",children:s+1}),Object(N.jsx)("td",{className:"px-3 py-2",children:t.position_code}),Object(N.jsx)("td",{className:"px-3 py-2",children:t.position_title}),Object(N.jsx)("td",{className:"flex flex-row items-center justify-end py-2 px-1",children:e.props.selected_position_code!==t.position_code&&Object(N.jsx)("div",{className:"rounded px-2 py-1 text-base font-light bg-blue-100 text-black group-hover:bg-blue-600 group-hover:text-white cursor-pointer",children:"Choose"})})]},s+1)})),Object(N.jsx)("tr",{})]})]})})]})}}]),s}(b.Component),q=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(n.a)(this,s),(c=t.call(this,e)).state={loading:!1,searchValue:""},c}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"p-0 border border-white text-left bg-white",children:[Object(N.jsx)("div",{className:"my-3 mx-3",children:Object(N.jsx)("input",{type:"text",placeholder:"Search by district name",className:"px-3 py-2 rounded border border-gray-400 w-full"})}),Object(N.jsxs)("table",{className:"w-full",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{className:"bg-blue-50",children:[Object(N.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"District code"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"District name"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"Total requests"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"Total placed"}),Object(N.jsx)("th",{className:"px-3 py-2"})]})}),Object(N.jsx)("tbody",{children:0===this.props.postRequests.length?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:6,className:"py-6 text-center text-2xl font-extralight",children:"No result found!"})}):this.props.postRequests.map((function(t,s){return Object(N.jsxs)("tr",{className:"".concat(s%2!==0?"bg-gray-100":"bg-white"),children:[Object(N.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(N.jsx)("td",{className:"px-3 py-1",children:t._id}),Object(N.jsx)("td",{className:"px-3 py-1",children:e.props.GetDistrictName(t._id)}),Object(N.jsx)("td",{className:"px-3 py-1",children:Object(y.g)(t.totalRequestedTeacher)}),Object(N.jsx)("td",{className:"px-3 py-1",children:Object(y.g)(t.totalPlacedTeachers)}),Object(N.jsx)("td",{className:"px-1 py-1 flex flex-row items-center justify-end",children:Object(N.jsx)("div",{className:"bg-blue-100 px-2 py-1 text-center w-max",children:"Action"})})]})}))})]})]})}}]),s}(b.Component),E=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(n.a)(this,s),(c=t.call(this,e)).GetDistrictName=function(e){var t,s=null===(t=c.state.districts)||void 0===t?void 0:t.districts.find((function(t){return t.district_code===e}));return void 0===s?"":s.district_name},c.GetDistrictsPostsRequests=function(){var e=Object(a.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.setState({loading:!0}),e.prev=1,e.next=4,u.a.get("".concat(g.a.PLACEMENT,"/schoolrequest/district/position/summary/").concat(t));case 4:(s=e.sent)&&(console.log("Res: ",s.data),c.setState({loading:!1,posts_requests:s.data,error:"",success:""})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),c.setState({error:Object(y.i)(e.t0),loading:!1}),console.log("Error: ",Object(i.a)({},e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),c.GetDistrictPlacementReport=function(){var e=Object(a.a)(r.a.mark((function e(t,s){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.setState({loading:!0}),e.prev=1,e.next=4,u.a.get("".concat(g.a.PLACEMENT,"/placedcandidate/district/position/").concat(s,"/").concat(t));case 4:(a=e.sent)&&(console.log("Res: ",a.data),c.setState({loading:!1,placementReport:a.data,error:"",success:""})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),c.setState({error:Object(y.i)(e.t0),loading:!1}),console.log("Error: ",Object(i.a)({},e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,s){return e.apply(this,arguments)}}(),c.GetPositionPlacementReport=function(){var e=Object(a.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.setState({loading:!0}),e.prev=1,e.next=4,u.a.get("".concat(g.a.PLACEMENT,"/placedcandidate/position/").concat(t));case 4:(s=e.sent)&&(console.log("Res: ",s.data),c.setState({loading:!1,placementReport:s.data,error:"",success:""})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),c.setState({error:Object(y.i)(e.t0),loading:!1}),console.log("Error: ",Object(i.a)({},e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),c.componentDidMount=function(){null===c.state.districts&&(c.setState({loading:!0}),Object(m.Lb)((function(e,t,s){null!==t?c.setState({districts:t,loading:!1,error:""}):!1===e&&c.setState({error:s,loading:!1,districts:null})}))),null===c.state.positions&&null!==c.props.auth.education_institution_id&&(c.setState({loading:!0}),c.props.FC_GetPositionsByInstitution(c.props.auth.education_institution_id,(function(e,t,s){c.setState({loading:e}),!1===e&&void 0!==s&&c.setState({positions:s,loading:!1}),!1===e&&""!==t&&c.setState({error:t,loading:!1})})))},c.state={loading:!1,documentType:"PlacementReport",posts_requests:null,error:"",success:"",selectedPosition:null,choosePosition:!1,placementReport:null,districts:null,selected_district_code:"",select_district_modal:!1,positions:null,view_all:!1},c}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return!0===this.state.loading?Object(N.jsxs)("div",{className:"bg-white rounded p-4 pt-10 mt-5",children:[Object(N.jsx)(O.a,{}),Object(N.jsx)("div",{className:"ml-4 -mt-5 text-xl font-light",children:"Loading, please wait..."})]}):Object(N.jsxs)(b.Fragment,{children:[null===this.state.selectedPosition?Object(N.jsxs)("div",{className:"bg-white rounded p-4 mt-5 flex flex-col items-center justify-center gap-3",children:[Object(N.jsx)("div",{children:Object(N.jsx)(x.U,{className:"text-7xl"})}),Object(N.jsx)("div",{className:"text-center text-xl font-light",children:"No position select, please you are required to choose position"}),Object(N.jsx)("div",{className:"mt-4 flex flex-row items-center justify-center gap-3 w-full",children:Object(N.jsx)("div",{onClick:function(){return e.setState({choosePosition:!0})},className:"btn bg-blue-500 text-white cursor-pointer hover:bg-blue-700",children:"Choose a position"})})]}):Object(N.jsxs)("div",{className:"pr-2 -ml-2 lg:ml-0",children:[Object(N.jsxs)("div",{className:"flex flex-row items-baseline justify-between w-full mt-3",children:[Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("div",{className:"font-extrabold text-3xl",children:"Candidate Placements"}),Object(N.jsxs)("div",{className:"text-base flex flex-row items-center bg-white mt-3 rounded-t-md overflow-hidden",children:[Object(N.jsx)("div",{onClick:function(){"PostRequests"!==e.state.documentType&&(null===e.state.posts_requests&&null!==e.state.selectedPosition&&e.GetDistrictsPostsRequests(e.state.selectedPosition.position_code),e.setState({documentType:"PostRequests"}))},className:"border-b-4 ".concat("PostRequests"===this.state.documentType?"border-blue-600 font-bold text-blue-600 cursor-not-allowed":"border-white cursor-pointer hover:border-blue-500 hover:text-blue-600"," text-center w-max px-4 py-2 pt-3"),children:"Posts Requests"}),Object(N.jsx)("div",{onClick:function(){"PlacementReport"!==e.state.documentType&&(e.setState({documentType:"PlacementReport"}),null===e.state.placementReport&&null!==e.state.selectedPosition&&null!==e.state.selectedPosition.position_code&&(!1===e.state.view_all?e.GetDistrictPlacementReport(e.state.selectedPosition.position_code,e.state.selected_district_code):e.GetPositionPlacementReport(e.state.selectedPosition.position_code)))},className:"border-b-4 ".concat("PlacementReport"===this.state.documentType?"border-blue-600 font-bold text-blue-600 cursor-not-allowed":"border-white cursor-pointer hover:border-blue-500 hover:text-blue-600"," text-center w-max px-4 py-2 pt-3"),children:"Placement Report"}),Object(N.jsx)("div",{onClick:function(){"GeneralReport"!==e.state.documentType&&e.setState({documentType:"GeneralReport"})},className:"border-b-4 ".concat("GeneralReport"===this.state.documentType?"border-blue-600 font-bold text-blue-600 cursor-not-allowed":"border-white cursor-pointer hover:border-blue-500 hover:text-blue-600"," text-center w-max px-4 py-2 pt-3"),children:"General Report"})]})]}),Object(N.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[!1===this.state.view_all?Object(N.jsxs)("div",{onClick:function(){null!==e.state.selectedPosition&&null!==e.state.selectedPosition.position_code&&(e.setState({view_all:!0,selected_district_code:""}),e.GetPositionPlacementReport(e.state.selectedPosition.position_code))},className:"px-3 py-2 flex flex-row items-center gap-2 \n                      bg-blue-500 animate__animated animate__zoomIn\n                  } rounded-md cursor-pointer hover:bg-blue-700 text-white h-full",children:[Object(N.jsx)("div",{children:Object(N.jsx)(x.Wb,{className:"text-3xl"})}),Object(N.jsx)("span",{children:"View all"})]}):Object(N.jsxs)("div",{onClick:function(){null!==e.state.selectedPosition&&null!==e.state.selectedPosition.position_code&&e.setState({placementReport:null,view_all:!1,selected_district_code:""})},className:"px-3 py-2 flex flex-row items-center gap-2 \n                    bg-gray-500 hover:bg-gray-600 animate__animated animate__zoomIn\n                } rounded-md cursor-pointer hover:bg-blue-700 text-white h-full",children:[Object(N.jsx)("div",{children:Object(N.jsx)(x.Wb,{className:"text-3xl"})}),Object(N.jsx)("span",{children:"Hide all"})]}),Object(N.jsxs)("div",{onClick:function(){return e.setState({choosePosition:!0})},className:"bg-blue-100 text-blue-800 px-3 pr-2 py-1 rounded border-2 border-white hover:border-blue-600 flex flex-row items-center gap-3 cursor-pointer group",children:[Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("div",{className:"font-light text-lg",children:"Selected position"}),Object(N.jsx)("div",{className:"text-light font-extrabold -mt-1",children:this.state.selectedPosition.position_title})]}),Object(N.jsx)("div",{children:Object(N.jsx)(x.s,{className:"text-4xl"})})]})]})]}),""!==this.state.error&&Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3 rounded px-3 py-2 w-full cursor-pointer my-2 bg-white border border-red-600",children:[Object(N.jsx)("div",{children:Object(N.jsx)(h.e,{className:"text-3xl text-red-600"})}),Object(N.jsx)("div",{className:"flex flex-col",children:Object(N.jsx)("span",{className:"font-bold text-lg text-red-600",children:this.state.error})})]}),""!==this.state.success&&Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3 rounded-lg px-3 py-2 w-full cursor-pointer my-2 bg-white border border-green-600",children:[Object(N.jsx)("div",{children:Object(N.jsx)(x.w,{className:"text-3xl text-green-600"})}),Object(N.jsx)("div",{className:"flex flex-col",children:Object(N.jsx)("span",{className:"font-bold text-lg text-green-600",children:this.state.success})})]}),"PostRequests"===this.state.documentType&&null!==this.state.posts_requests&&Object(N.jsx)(q,{postRequests:this.state.posts_requests,GetDistrictName:this.GetDistrictName}),"PlacementReport"===this.state.documentType&&Object(N.jsx)(G,{selectedDistrict:null===this.state.districts||void 0===this.state.districts.districts.find((function(t){return t.district_code===e.state.selected_district_code}))?null:this.state.districts.districts.find((function(t){return t.district_code===e.state.selected_district_code})),placementReport:this.state.placementReport,selectedPosition:this.state.selectedPosition,chooseDistrict:function(){return e.setState({select_district_modal:!0})},GetPlacementReport:function(t,s){!1===e.state.view_all&&""!==s?e.GetDistrictPlacementReport(t,s):(e.GetPositionPlacementReport(t),e.setState({view_all:!0}))},GetDistrictName:this.GetDistrictName,view_all:this.state.view_all})]}),!0===this.state.choosePosition&&null!==this.state.positions&&Object(N.jsx)(v.d,{backDrop:!0,theme:v.c.default,close:function(){e.setState({choosePosition:!1})},backDropClose:!0,widthSizeClass:v.b.large,displayClose:!0,padding:{title:!0,body:!0},title:Object(N.jsx)("div",{className:"text-2xl font-bold",children:"Choose position"}),children:Object(N.jsx)(M,{selectPosition:function(t){null!==t.position_code&&("PostRequests"===e.state.documentType&&e.GetDistrictsPostsRequests(t.position_code),!0===e.state.view_all?("PlacementReport"===e.state.documentType&&""!==e.state.selected_district_code&&e.GetDistrictPlacementReport(t.position_code,e.state.selected_district_code),e.setState({view_all:!1,selected_district_code:""})):"PlacementReport"===e.state.documentType&&""!==e.state.selected_district_code&&(e.setState({view_all:!0,selected_district_code:""}),e.GetPositionPlacementReport(t.position_code))),null!==t.position_code&&e.setState({selectedPosition:t,choosePosition:!1})},positions:this.state.positions,selected_position_code:null===this.state.selectedPosition?"":this.state.selectedPosition.position_code})}),!0===this.state.select_district_modal&&Object(N.jsx)(v.d,{backDrop:!0,theme:v.c.default,close:function(){return e.setState({select_district_modal:!1})},backDropClose:!0,widthSizeClass:v.b.medium,displayClose:!0,padding:{title:!0,body:!0},title:Object(N.jsx)("div",{className:"text-2xl",children:"Filter by district"}),children:null===this.state.districts?Object(N.jsx)("div",{children:"Loading..."}):null!==this.state.selectedPosition&&null!==this.state.selectedPosition.position_code&&Object(N.jsx)("div",{className:"-mt-5",children:Object(N.jsx)(_,{districts:this.state.districts,selected_district_code:this.state.selected_district_code,selectDistrict:function(t){e.setState({selected_district_code:t,select_district_modal:!1,view_all:!1}),e.GetDistrictPlacementReport(e.state.selectedPosition.position_code,t)}})})})]})}}]),s}(b.Component),I=Object(j.b)((function(e){return{auth:e.auth,periods:e.periods}}),{FC_GetPositionsByInstitution:f.a})(E)},685:function(e,t,s){"use strict";s.d(t,"f",(function(){return b})),s.d(t,"d",(function(){return h})),s.d(t,"b",(function(){return x})),s.d(t,"e",(function(){return j})),s.d(t,"c",(function(){return m})),s.d(t,"g",(function(){return f})),s.d(t,"a",(function(){return O}));var c=s(5),r=s.n(c),i=s(7),a=s(10),n=s.n(a),o=s(6),l=s(8),d=s(16),p=s(14),u="".concat(l.a.AUTH,"/auth/user/access"),b=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,n.a.get("".concat(l.a.AUTH,"/system/setting"));case 5:c=t.sent,console.log("=================getSystemSettings==================="),console.log(c),console.log("=================getSystemSettings==================="),s({type:o.a.GET_SYSTEM_SETTINGS,payload:c.data}),e(!1,""),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(p.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){var c,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,n.a.get("".concat(u,"/roleaccess"));case 5:c=t.sent,i=c.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),s({type:o.a.GET_TASK_ACCESS,payload:i}),e(!1,"",i),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(p.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,n.a.get("".concat(l.a.APPLICATION,"/position"));case 5:c=t.sent,s({type:o.a.GET_POSTIONS,payload:c.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(p.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return console.log({deletePosition:e}),function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({type:o.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e,t){return function(){var s=Object(i.a)(r.a.mark((function s(c){var i;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t(!0,""),s.prev=1,Object(d.b)(),s.next=5,n.a.get("".concat(l.a.APPLICATION,"/position/instituteposition/").concat(e));case 5:i=s.sent,c({type:o.a.GET_POSTIONS,payload:i.data}),t(!1,"",i.data),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log({code_error:s.t0}),t(!1,Object(p.a)(s.t0));case 14:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()}},711:function(e,t){},716:function(e,t){},717:function(e,t){}}]);
//# sourceMappingURL=35.73b88716.chunk.js.map