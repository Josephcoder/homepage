(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[24,5,11,31,51],{178:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));var s,c,r,a=n(9),i=n(1);!function(e){e.default="default",e.primary="primary",e.secondary="secondary",e.danger="danger",e.success="success",e.warning="warning"}(s||(s={})),function(e){e.none="top-0",e.small="top-28",e.medium="top-1/3",e.large="top-1/2",e.extra="top-2/3"}(c||(c={})),function(e){e.small="max-w-sm",e.medium="max-w-screen-sm",e.large="max-w-screen-md",e.extraLarge="max-w-screen-lg",e.maxWidth="max-w-screen h-full"}(r||(r={}));t.d=function(e){var t,n=e.title,o=e.backDrop,l=e.theme,d=e.close,u=e.backDropClose,b=e.widthSizeClass,f=e.displayClose,p=e.padding,m=void 0===p?{title:!0,body:!0,footer:!0}:p;switch(l){case s.primary:t="blue-500";break;case s.secondary:t="gray-300";break;case s.danger:t="red-500";break;case s.success:t="green-500";break;case s.warning:t="yellow-500";break;default:t="white"}return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{onClick:function(){return u&&d()},className:"animate__animated animate__fadeIn animate__faster modal fixed bg-black bg-opacity-".concat(!0===o?"60":"0")}),Object(i.jsxs)("div",{className:"fixed items-center justify-items-center ".concat(void 0===e.marginTop?c.none:e.marginTop," left-0 right-0 bottom-0 bg-white rounded shadow-xl self-center ").concat(b," animate__animated ").concat(void 0!==e.marginTop&&e.marginTop!==c.none?"animate__fadeInUp":"animate__zoomIn"," animate__faster"),style:{width:"100%",maxHeight:"99vh",height:"".concat(b===r.maxWidth?void 0===e.marginTop?"100%":"unset":"fit-content"),overflowY:"auto",margin:"auto",zIndex:99999999},children:[Object(i.jsxs)("div",{className:"flex justify-between bg-".concat(t," ").concat(!0===m.title?"py-4 px-4":""," rounded-t text-").concat(l===s.default||l===s.secondary?"black":"white"),children:[n&&""!==n?Object(i.jsx)("h4",{className:"text-lg font-bold ",children:n}):Object(i.jsx)("div",{}),!1===f?"":Object(i.jsx)("div",{className:"hover:text-red-600 hover:bg-red-100 rounded-full p-1 h-8 w-8",children:Object(i.jsx)(a.x,{className:"cursor-pointer font-extrabold text-2xl",onClick:function(){return d()}})})]}),Object(i.jsx)("div",{className:"space-x-3 ".concat(!0===m.body?"py-4 px-4":""),children:Object(i.jsx)("div",{children:""!==e.children?e.children:""})}),void 0!==e.footer&&""!==e.footer?Object(i.jsx)("div",{className:"flex float-right ".concat(!0===m.footer?"py-4 px-4":""),children:e.footer}):""]})]})}},179:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"j",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return p}));n(11);var s=n(2),c=function(e){var t;console.error(Object(s.a)({},e));var n=JSON.parse(null===e||void 0===e||null===(t=e.request)||void 0===t?void 0:t.response);return n.errors.length>=1?n.errors[0].message:"Something went wrong, please try again later"},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY",n=new Date(e);return"YYYY/MM/DD"===t?n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate():n.getDate()+"/"+("0"+(n.getMonth()+1)).slice(-2)+"/"+n.getFullYear()},a=function(e,t){var n=new Image;n.src=e,n.complete?t(!0):(n.onload=function(){t(!0)},n.onerror=function(){t(!1)})},i=function(e){var t=new Date(e),n=Date.now()-t.getTime(),s=new Date(n);return Math.abs(s.getUTCFullYear()-1970)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IN",n=document.getElementById(e);if(!n)return alert("Element with ID of ".concat(e," not found!"));var s=n.clientWidth;"IN"===t&&(500===s&&alert("Maximum Zoom in level reached"),n.style.width=s+40+"px"),"OUT"===t&&(40===s&&alert("Maximum Zoom out level reached"),n.style.width=s-40+"px")},l=function(e){var t=document.getElementById(e);if(!t)return alert("Element with ID of ".concat(e," not found!"));t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()},d=function(e,t){return function(n,s){return(n[e]<s[e]?-1:n[e]>s[e]?1:0)*t}},u=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ASC";if(e&&n.length>0){var c="ASC"===s?1:-1;return t.sort(d(n,c))}return t},b=function(e){var t=new Date(1e3*e),n=t.getHours(),s="0"+t.getMinutes(),c="0"+t.getSeconds(),a=n>=12?"pm":"am",i=n%12;return i=i||12,{date:r(t.toString()),timeFR:n+":"+s.substr(-2)+":"+c.substr(-2),timeAMPM:i+":"+s.substr(-2)+":"+c.substr(-2)+" "+a}},f=function(e){return["jpg","jpeg","jpe","jif","jfif","jfi","jp2","j2k","jpf","jpx","jpm","mj2","png","gif","webp","tiff","tif","psd","raw","bmp","svg","svgz"].includes(e.toLowerCase())},p=function(e){return e.substr(e.lastIndexOf(".")+1)}},180:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l}));var s=[{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"7322342684"},{school_id:"32762426329",school_title:"Rucee De Kigali",district_id:"234242",number_of_females:10,number_of_males:12},{school_id:"32762426329",school_title:"G.S. De Gitega",district_id:"73232432684",number_of_females:10,number_of_males:12}],c=function(e){return null===e||null!==e.match(/^ *$/)},r=function(e,t){return e.filter((function(e){return e.system_user_role_id===t}))[0]},a=function(e){var t=e-Math.floor(e);return("0"+(e-=t)).slice(-2)+t.toString().substr(1)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Array(t+1).join("0");return(n+e).slice(-t)},o=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},l=function(e){var t=new Date(e),n=new Date;return t.getTime()<n.getTime()}},181:function(e,t,n){"use strict";var s=n(25),c=n(4),r=n(182),a=n(9),i=n(1);t.a=function(e){var t,n,o=e.rows,l=e.columns,d=e.hideColumns,u=void 0!==d&&d,b=e.pagination,f=void 0!==b&&b,p=e.search,m=void 0!==p&&p,h=e.tableSize,j=void 0===h?"w-full":h,x=e.tableClass,g=e.tableId,O=void 0===g?"myTable":g,v=e.rounded,_=void 0!==v&&v,y=e.searchBG,N=void 0===y?"bg-gray-200":y,w=e.thColor,T=void 0===w?"blue":w,E=e.loading,S=void 0!==E&&E;O="myTable"===O?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=n.length,c=0;c<e;c++)t+=n.charAt(Math.floor(Math.random()*s));return t}():O;var P=Object(c.useState)(0),C=Object(s.a)(P,2),k=C[0],I=C[1],A=Object(c.useState)(1),D=Object(s.a)(A,2),L=D[0],R=D[1],q=Object(c.useState)(1),M=Object(s.a)(q,2),F=M[0],U=M[1],z=Object(c.useState)(),H=Object(s.a)(z,2),W=H[0],B=H[1],V=Object(c.useState)(10),Y=Object(s.a)(V,2),G=Y[0],J=Y[1],Z=Object(c.useState)(0),K=Object(s.a)(Z,2),Q=K[0],X=K[1],$=Object(c.useState)(0),ee=Object(s.a)($,2),te=ee[0],ne=ee[1];Object(c.useEffect)((function(){f&&se()}));var se=function(){t=document.getElementById(O),n=t.getElementsByTagName("tr"),I(n.length),R(Math.ceil(k/G)),X((F-1)*G),ne(Math.min(Q+G-1,k-1));var e=Array.from(Array(L+1-1).keys()).map((function(e){return 1+e}));W&&e.length===W.length||B(e);for(var s=0;s<n.length;s++)n[s].style.display=s>=Q&&s<=te?"":"none"};return Object(i.jsxs)("div",{className:"".concat(j),children:[m&&Object(i.jsx)("div",{className:"".concat(N," w-full mb-2"),children:m&&Object(i.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(i.jsx)(a.Ab,{className:"h-5 w-5 fill-current text-gray-400"}),Object(i.jsx)("input",{type:"search",placeholder:"search",onChange:function(e){return function(e,n){var s,c,r,a,i;for("field"===n&&"all"===e&&(e=""),s=e.toLowerCase(),c=(t=document.getElementById(O)).getElementsByTagName("tr"),a=0;a<c.length;a++)for(i=0;i<l.length;i++)if(r=c[a].getElementsByTagName("td")[i]){if((r.textContent||r.innerText).toLowerCase().indexOf(s)>-1){c[a].style.display="";break}c[a].style.display="none"}}(e.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-transparent",disabled:S}),f&&Object(i.jsx)("div",{className:"select",children:Object(i.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-transparent",onChange:function(e){return J(Number(e.target.value))},disabled:S,children:[Object(i.jsx)("option",{value:"10",children:"10"}),Object(i.jsx)("option",{value:"25",children:"25"}),Object(i.jsx)("option",{value:"50",children:"50"}),Object(i.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(i.jsxs)("table",{className:x||"w-full shadow ".concat(_&&"sm:rounded-lg"," table-auto order-table max-w-full"),id:O,children:[!u&&Object(i.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(i.jsx)("tr",{className:"text-left tracking-wide bg-".concat(T,"-100 border-b-2 border-").concat(T,"-500 text-").concat(T,"-600 overflow-hidden"),children:l.map((function(e,t){return Object(i.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,n,s,c,r,a,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(s=!0,t=document.getElementById(e))for(;s;){for(s=!1,n=t.rows,c=1;c<n.length-1;c++)if(i=!1,r=n[c].getElementsByTagName("TD")[o],a=n[c+1].getElementsByTagName("TD")[o],"asc"===l&&r&&a){if(r.innerHTML.toLowerCase()>a.innerHTML.toLowerCase()){i=!0;break}}else if("desc"===l&&r&&a&&r.innerHTML.toLowerCase()<a.innerHTML.toLowerCase()){i=!0;break}i&&n[c].parentNode?(n[c].parentNode.insertBefore(n[c+1],n[c]),s=!0,d++):0===d&&"asc"===l&&(l="desc",s=!0)}}(O,t)},children:Object(i.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(i.jsx)(r.h,{})]})},t)}))})}),Object(i.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:o()})]}),f&&Object(i.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(i.jsx)("div",{children:Object(i.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",G," of ",k-1," Entries"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==F&&"bg-white"),"aria-label":"Previous",disabled:1===F||S,onClick:function(){return U(F-1)},children:Object(i.jsx)(a.fb,{className:"h-5 w-5"})})}),Object(i.jsx)("div",{children:W&&W.map((function(e,t){return Object(i.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(e!==F?"bg-white":"bg-gray-100 cursor-default"),disabled:e===F||S,onClick:function(){return U(e)},children:e},t)}))}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(F!==L&&"bg-white"),"aria-label":"Next",disabled:F===L||S,onClick:function(){return U(F+1)},children:Object(i.jsx)(a.gb,{className:"h-5 w-5"})})})]})})]})]})}},191:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return j}));var s=n(20),c=n(21),r=n(23),a=n(22),i=n(4),o=n.n(i),l=n(19),d=n(3),u=n(9),b=n(1),f=function(e){Object(r.a)(n,e);var t=Object(a.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).componentDidMount=function(){return c.props.PageHasSubNav(!0)},c.componentWillUnmount=function(){return c.props.PageHasSubNav(!1)},c.state={loading:!1},c}return Object(c.a)(n,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(b.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),n}(o.a.Component),p=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.hb,PageHasSubNav:d.ib})(f),m=function(e){var t=e.title,n=void 0===t?"":t,s=e.icon,c=void 0===s?u.m:s,r=e.active,a=void 0!==r&&r,i=e.count,o=void 0===i?0:i,l=c;return Object(b.jsxs)("section",{className:"".concat(!0===a?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(b.jsxs)("section",{className:"flex-1",children:[Object(b.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(b.jsx)("span",{children:n})]}),o>0?Object(b.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:o}):null]})},h=function(e){var t=e.children;return Object(b.jsx)("div",{className:"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer",children:t})},j=function(e){var t=e.title,n=void 0===t?"":t,s=e.icon,c=void 0===s?u.m:s,r=e.active,a=void 0!==r&&r,i=e.count,o=void 0===i?0:i,l=c;return Object(b.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster ".concat(!0===a?"bg-blue-500 text-white font-bold":" text-blue-800"," text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold"),children:[Object(b.jsx)(l,{className:"inline-block mr-0.1 text-xs ".concat(!0===a?"text-white":"")}),Object(b.jsx)("span",{className:"inline-block pl-1 ".concat(!0===a?"text-white":""),children:n}),o>=1?Object(b.jsx)("span",{className:"text-sm fint-bold ".concat(!0===a?"text-white":""),children:o}):null]})}},213:function(e,t,n){"use strict";n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return x})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return O}));var s=n(5),c=n.n(s),r=n(7),a=n(8),i=n.n(a),o=n(6),l=n(10),d=n(12),u=n(13),b=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,i.a.get("".concat(l.a.AUTH,"/settings"));case 5:s=t.sent,n({type:o.a.GET_SYSTEM_SETTINGS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,i.a.get("".concat(l.a.APPLICATION,"/applicationsesion"));case 5:s=t.sent,n({type:o.a.GET_APPLICATION_SESSIONS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.CREATE_APPLICATION_SESSIONS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return console.log({check:e}),function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.UPDATE_APPLICATION_SESSIONS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DISABLE_APPLICATION_SESSION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,i.a.get("".concat(l.a.APPLICATION,"/position"));case 5:s=t.sent,n({type:o.a.GET_POSTIONS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return console.log({deletePosition:e}),function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},216:function(e,t,n){"use strict";var s,c,r;n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r})),function(e){e.INITIATED="initiated",e.CONFIRMED="confirmed",e.RECEIVED="received"}(s||(s={})),function(e){e.Title="title",e.Description="description",e.Files="files",e.email="email",e.names="names",e.phone_number="phone_number",e.position="position",e.relation="relation",e.src="src",e.year="year",e.company="company",e.category_subcategory_data="category_subcategory_data",e.others="others",e.start_year="start_year",e.end_year="end_year",e.School="School"}(c||(c={})),function(e){e.APPROVED="approved",e.REJECTED="rejected"}(r||(r={}))},221:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return j}));var s=n(5),c=n.n(s),r=n(7),a=n(8),i=n.n(a),o=n(6),l=n(10),d=n(13),u=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,i.a.get("".concat(l.a.APPLICATION,"/roomlocation"));case 4:s=t.sent,n({type:o.a.GET_ALL_ROOM,payload:s.data}),e(!1,""),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return console.log({data:e}),function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.CREATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return console.log({data:e}),function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.UPDATE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DELETE_CENTER,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return console.log({data:e}),function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.CREATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.UPDATE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return console.log({delete_room:e}),function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.a.DELETE_ROOM,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},258:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));var s=n(0);function c(e){return Object(s.a)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M1 12v-1h9v1H1zm0-5h14v1H1V7zm11-4v1H1V3h11z"}}]})(e)}function r(e){return Object(s.a)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M13.917 7A6.002 6.002 0 0 0 2.083 7H1.071a7.002 7.002 0 0 1 13.858 0h-1.012z"}}]})(e)}function a(e){return Object(s.a)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3 1h11l1 1v5.3a3.21 3.21 0 0 0-1-.3V2H9v10.88L7.88 14H3l-1-1V2l1-1zm0 12h5V2H3v11zm10.379-4.998a2.53 2.53 0 0 0-1.19.348h-.03a2.51 2.51 0 0 0-.799 3.53L9 14.23l.71.71 2.35-2.36c.325.22.7.358 1.09.4a2.47 2.47 0 0 0 1.14-.13 2.51 2.51 0 0 0 1-.63 2.46 2.46 0 0 0 .58-1 2.63 2.63 0 0 0 .07-1.15 2.53 2.53 0 0 0-1.35-1.81 2.53 2.53 0 0 0-1.211-.258zm.24 3.992a1.5 1.5 0 0 1-.979-.244 1.55 1.55 0 0 1-.56-.68 1.49 1.49 0 0 1-.08-.86 1.49 1.49 0 0 1 1.18-1.18 1.49 1.49 0 0 1 .86.08c.276.117.512.311.68.56a1.5 1.5 0 0 1-1.1 2.324z"}}]})(e)}},376:function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return j})),n.d(t,"d",(function(){return x}));var s=n(5),c=n.n(s),r=n(7),a=n(6),i=(n(180),n(12),n(8)),o=n.n(i),l=n(10),d=n(13),u=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,t.next=4,o.a.get("".concat(l.a.APPLICATION,"/schools"));case 4:s=t.sent,n({type:a.a.GET_SCHOOLS,payload:s.data}),e(!1,""),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Err: ",t.t0),e(!1,Object(d.a)(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return console.log({schools:e}),function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:a.a.CREATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:a.a.UPDATE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:a.a.DELETE_SCHOOL,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(r.a)(c.a.mark((function n(s){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(!0,""),n.prev=1,n.next=4,o.a.get("".concat(l.a.PLACEMENT,"/requestpost/school/").concat(e));case 4:r=n.sent,console.log({schoolPosts:r.data}),s({type:a.a.FETCH_SCHOOL_POSTS,payload:r.data}),t(!1,""),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("Err: ",n.t0),t(!1,Object(d.a)(n.t0));case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:a.a.CREATE_SCHOOL_POST,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return console.log({TYPE:e,data:t}),function(){var n=Object(r.a)(c.a.mark((function n(s){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s({type:a.a.UPDATE_SCHOOL_POST,payload:{TYPE:e,data:t}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(r.a)(c.a.mark((function n(s){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(!0,""),n.prev=1,n.next=4,o.a.get("".concat(l.a.PLACEMENT,"/requestpost/district/").concat(e));case 4:r=n.sent,console.log({districtPosts:r}),s({type:a.a.FETCH_DISTRICT_POSTS,payload:r.data}),t(!1,""),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("Err: ",n.t0),t(!1,Object(d.a)(n.t0));case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}},407:function(e,t,n){"use strict";n.r(t),n.d(t,"getSchoolById",(function(){return E})),n.d(t,"Schools",(function(){return S}));var s=n(11),c=n(5),r=n.n(c),a=n(7),i=n(25),o=n(8),l=n.n(o),d=n(4),u=n(214),b=n(182),f=n(188),p=n(9),m=n(19),h=n(3),j=n(221),x=n(376),g=n(178),O=n(191),v=n(181),_=n(47),y=n(180),N=n(10),w=n(13),T=n(1),E=function(e,t){return e.filter((function(e){return e._id===t}))[0]},S=Object(m.b)((function(e){var t=e.auth,n=e.schools,s=e.schoolLevels,c=e.locations;return{auth:t,schools:n.schools,education_categories:s.education_categories,allRoom:c.roomLocation}}),{createSchool:x.a,getSchools:x.f,updateSchool:x.g,getAllRoom:j.g,deleteSchool:x.c,loadEducationCategories:h.Hb,PushPopupAlert:h.jb})((function(e){e.auth;var t=e.education_categories,n=e.allRoom,c=e.schools,o=e.getSchools,m=e.loadEducationCategories,h=e.getAllRoom,j=e.updateSchool,E=e.deleteSchool,S=e.PushPopupAlert,P=Object(d.useState)(null),C=Object(i.a)(P,2),k=C[0],I=C[1],A=Object(d.useState)(!1),D=Object(i.a)(A,2),L=D[0],R=D[1],q=Object(d.useState)(null),M=Object(i.a)(q,2),F=M[0],U=M[1],z=Object(d.useState)(!1),H=Object(i.a)(z,2),W=H[0],B=H[1],V=Object(d.useState)(null),Y=Object(i.a)(V,2),G=Y[0],J=Y[1],Z=Object(d.useState)(!1),K=Object(i.a)(Z,2),Q=K[0],X=K[1],$=Object(d.useState)([]),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],se=Object(d.useState)(c),ce=Object(i.a)(se,2),re=ce[0],ae=ce[1],ie=Object(d.useState)(!1),oe=Object(i.a)(ie,2),le=oe[0],de=oe[1],ue=Object(d.useState)(""),be=Object(i.a)(ue,2),fe=be[0],pe=be[1],me=Object(d.useState)(!0),he=Object(i.a)(me,2),je=he[0],xe=he[1],ge=Object(d.useState)(null),Oe=Object(i.a)(ge,2),ve=Oe[0],_e=Oe[1],ye=Object(d.useState)(""),Ne=Object(i.a)(ye,2),we=Ne[0],Te=Ne[1],Ee=Object(d.useState)(null),Se=Object(i.a)(Ee,2),Pe=Se[0],Ce=Se[1],ke=Object(d.useState)(""),Ie=Object(i.a)(ke,2),Ae=Ie[0],De=Ie[1],Le=Object(d.useState)(""),Re=Object(i.a)(Le,2),qe=Re[0],Me=Re[1],Fe=Object(d.useState)(""),Ue=Object(i.a)(Fe,2),ze=Ue[0],He=Ue[1],We=function(){var e=Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(N.a.APPLICATION,"/district"));case 3:t=e.sent,ne(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error({code_error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){xe(!0),null===t||0===t.length?m(xe):n.length?c.length?te.length?c.length&&(ae(c),xe(!1)):We():o((function(e,t){console.log(e,t),xe(e),t.length>0&&console.error({loadingCandidatesError:t})})):h((function(e,t){!e&&t.length>0&&console.log(t)}))}),[n.length,t,h,te,m,o,c]);var Be=function(){var e=Object(a.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),we.length){e.next=3;break}return e.abrupt("return",_e({element:"school_name",msg:"School name is required"}));case 3:if(Ae.length){e.next=5;break}return e.abrupt("return",_e({element:"edication_id",msg:"Edication Institute is required"}));case 5:if(ze.length){e.next=7;break}return e.abrupt("return",_e({element:"districtId_id",msg:"District is required"}));case 7:if(de(!0),e.prev=8,"CREATE"!==fe){e.next=16;break}return e.next=12,l.a.post("".concat(N.a.APPLICATION,"/schools"),{school_name:we,district_id:ze,education_category_id:Ae});case 12:(n=e.sent).data&&(console.log({res:n}),ae([].concat(Object(s.a)(re),[{_id:n.data.data.shool_id,status:n.data.data.status,school_name:n.data.data.school_name,district_id:n.data.data.district_id,education_category_id:n.data.data.education_category_id}])),Object(x.a)({_id:n.data.data.shool_id,status:n.data.data.status,school_name:n.data.data.school_name,district_id:n.data.data.district_id,education_category_id:n.data.data.education_category_id}),S({title:"New School created successfully",theme:_.a.success}),de(!1),Te(""),He(""),De(""),Me("")),e.next=21;break;case 16:if(!Pe||"UPDATE"!==fe){e.next=21;break}return e.next=19,l.a.patch("".concat(N.a.APPLICATION,"/schools"),{school_id:Pe._id,school_name:we,district_id:ze,education_category_id:Ae});case 19:(n=e.sent).data&&(console.log({res:n}),j({_id:Pe._id,status:!0,school_name:we,district_id:ze,education_category_id:Ae}),S({title:"School updated successfully",theme:_.a.success}),de(!1),He(""),De(""),Me(""),Ce(null),pe(""));case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(8),console.log({doc_category_error:e.t0}),S({title:Object(w.a)(e.t0),theme:_.a.danger}),de(!1);case 28:case"end":return e.stop()}}),e,null,[[8,23]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(a.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure do you want to delete this room?")){e.next=14;break}return de(!0),e.prev=2,e.next=5,l.a.delete("".concat(N.a.APPLICATION,"/schools/").concat(t));case 5:(n=e.sent).data&&(console.log({res:n}),E(t),S({title:"School deleted successfully",theme:_.a.success})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log({province_error:e.t0}),S({title:Object(w.a)(e.t0),theme:_.a.danger});case 13:de(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=[];"INSTITUTE"===e&&(s=G&&!n?"ALL"===t?c.filter((function(e){return e.district_id===G.district_id})):c.filter((function(e){return e.education_category_id===t&&e.district_id===G.district_id})):"ALL"===t?c:c.filter((function(e){return e.education_category_id===t}))),"DISTRICT"===e&&(s=k?"ALL"===t?c.filter((function(e){return e.education_category_id===k.education_institute_id})):c.filter((function(e){return e.district_id===t&&e.education_category_id===k.education_institute_id})):"ALL"===t?c:c.filter((function(e){return e.district_id===t}))),ae(s)},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL",n=0;return"DEFAULT"===e?n=re.length:"EDUCATION"===e?n=re.filter((function(e){return e.education_category_id===t})).length:"DISTRICT"===e&&(n=re.filter((function(e){return e.district_id===t})).length),Object(y.g)(n)};return!0===je?Object(T.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading schools..."}):Object(T.jsxs)(d.Fragment,{children:[Object(T.jsx)(O.b,{children:je?Object(T.jsxs)("section",{className:"animate-pulse",children:[Object(T.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"}),Object(T.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"}),Object(T.jsx)("div",{className:"bg-gray-400 font-bold mb-2 h-7 px-2 rounded-md cursor-wait"})]}):Object(T.jsxs)(d.Fragment,{children:[Object(T.jsx)("span",{className:"font-semibold text-lg text-gray-500",children:"Filter by Institute"}),Object(T.jsx)("section",{className:"mt-2 ".concat(le&&"cursor-pointer"),onClick:function(){return!le&&R(!L)},children:Object(T.jsx)(O.a,{title:k?k.education_category_title:"Choose Education Institute",active:!(!L&&null===k)})}),L&&t&&t.length>0&&Object(T.jsx)(O.d,{children:t&&t.map((function(e,t){return Object(T.jsx)("section",{onClick:function(){return!le&&(I(e),R(!1),Ye("INSTITUTE",e.education_institute_id))},children:Object(T.jsx)(O.c,{title:e.education_category_title,icon:p.U,active:!!k&&e.education_institute_id===k.education_institute_id})},e.education_institute_id+t)}))}),Object(T.jsxs)("section",{children:[Object(T.jsx)("span",{className:"font-semibold text-lg text-gray-500",children:"Filter by District"}),Object(T.jsx)("section",{className:"mt-2",onClick:function(){return!le&&(R(!1),B(!W),X(!1))},children:Object(T.jsx)(O.a,{title:F?F.province_name:"Choose Province",active:!(!W&&null===F)})})]}),W&&n&&n.length>0&&Object(T.jsx)(O.d,{children:n&&n.map((function(e,t){return Object(T.jsx)("section",{onClick:function(){return!le&&(B(!1),U(e),J(null),k&&Ye("INSTITUTE",k.education_institute_id,!0))},children:Object(T.jsx)(O.c,{title:e.province_name,icon:p.U,active:!!F&&e.province_id===F.province_id})},e.province_id+t)}))}),F&&Object(T.jsx)("section",{className:"mt-2",onClick:function(){return!le&&(R(!1),B(!1),X(!Q))},children:Object(T.jsx)(O.a,{title:G?G.district_name:"Choose District",active:!(!Q&&null===G)})}),Q&&F&&F.districts.length>0&&Object(T.jsx)(O.d,{children:F&&F.districts.map((function(e,t){return Object(T.jsx)("section",{onClick:function(){return!le&&(J(e),X(!1),Ye("DISTRICT",e.district_id))},children:Object(T.jsx)(O.c,{title:e.district_name,icon:p.U,active:!!G&&e.district_id===G.district_id})},e.district_id+t)}))})]})}),Object(T.jsxs)("div",{className:"w-full my-5 px-1",children:[Object(T.jsx)("div",{className:"flex items-start justify-between",children:Object(T.jsxs)("div",{className:"flex flex-row items-center",children:[Object(T.jsx)(b.b,{className:"text-blue-500 w-28 h-28"}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("h1",{className:"text-3xl font-semibold",children:"Schools Management"}),Object(T.jsxs)("div",{className:"flex flex-row items-center mx-2 md:gap-3 gap-2",children:[Object(T.jsxs)("div",{className:"flex flex-col mt-1",children:[Object(T.jsx)("span",{className:"text-gray-600 text-base",children:"All School(s)"}),Object(T.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:Ge()})]}),t&&t.length>0&&t.map((function(e,t){return Object(T.jsxs)("div",{className:"flex flex-col mt-1",children:[Object(T.jsx)("span",{className:"text-gray-600 text-base",children:e.education_category_title}),Object(T.jsx)("span",{className:"text-gray-600 text-2xl font-bold",children:Ge("EDUCATION",e.education_institute_id)})]},t+e.education_institute_id)}))]})]})]})}),Object(T.jsxs)("div",{className:"md:w-98 bg-white mx-auto md:p-2",children:[Object(T.jsxs)("div",{className:"flex items-start justify-between",children:[Object(T.jsxs)("div",{children:[k&&Object(T.jsxs)("div",{className:"flex",children:[Object(T.jsxs)("div",{className:"flex items-center gap-1 mx-1",children:[Object(T.jsx)(p.J,{className:"text-gray-600"}),Object(T.jsx)("span",{className:"font-semibold text-gray-500",children:"Institute:"}),Object(T.jsx)("span",{className:"font-semibold text-blue-700",children:k.education_category_title})]}),Object(T.jsx)(f.b,{className:"cursor-pointer rounded-full hover:bg-red-500 hover:text-white",onClick:function(){return!je&&(I(null),Ye("INSTITUTE","ALL"))},title:"Clean Education Institute filter"})]}),F&&Object(T.jsxs)("div",{className:"flex",children:[Object(T.jsxs)("div",{className:"flex items-center gap-1 mx-1",children:[Object(T.jsx)(p.J,{className:"text-gray-600"}),Object(T.jsx)("span",{className:"font-semibold text-gray-500",children:"Location:"}),Object(T.jsx)("span",{className:"font-semibold ".concat(G?"text-black cursor-pointer":"text-blue-700"),children:F.province_name}),G&&Object(T.jsxs)("div",{className:"flex items-center",children:[Object(T.jsx)(u.d,{}),Object(T.jsx)("span",{className:"text-blue-700 font-semibold",children:G.district_name})]})]}),Object(T.jsx)(f.b,{className:"cursor-pointer rounded-full hover:bg-red-500 hover:text-white",onClick:function(){return!je&&(J(null),U(null),Ye("DISTRICT","ALL"))},title:"Clean location filter"})]})]}),Object(T.jsxs)("button",{type:"button",className:"px-4 py-3 bg-blue-600 rounded text-white focus:outline-none transform active:scale-x-75 transition-transform flex",onClick:function(){return pe("CREATE")},disabled:le,children:[Object(T.jsx)(p.yb,{className:"h-6 w-6"}),Object(T.jsx)("span",{className:"ml-2",children:"Add School"})]})]}),Object(T.jsx)(v.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"School",alignText:"left",padding:"p-3"},{columnTitle:"Institute",alignText:"left",padding:"p-3"},{columnTitle:"District",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){return re.length?re.map((function(e,s){return Object(T.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(T.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:s+1}),Object(T.jsx)("td",{className:"p-3 text-left",children:e.school_name}),Object(T.jsx)("td",{className:"py-3 px-5 text-left",children:t&&t.filter((function(t){return t.education_institute_id===e.education_category_id})).length>0?t.filter((function(t){return t.education_institute_id===e.education_category_id}))[0].education_category_title:"No Institute"}),Object(T.jsx)("td",{className:"py-3 px-5 text-left",children:te&&te.filter((function(t){return t.district_id===e.district_id})).length>0?te.filter((function(t){return t.district_id===e.district_id}))[0].district_name:"No district"}),Object(T.jsx)("td",{className:"px-3",children:Object(T.jsxs)("div",{className:"flex items-center gap-2 float-right",children:[Object(T.jsxs)("button",{className:"bg-blue-600 text-white font-bold py-1 px-2 flex items-center rounded focus:outline-none ".concat(le?"cursor-not-allowed":null),title:"Edit School",disabled:le,onClick:function(){pe("UPDATE"),Ce(e),Te(e.school_name),De(e.education_category_id),He(e.district_id),Me(n.filter((function(t){return t.districts.find((function(t){return t.district_id===e.district_id}))}))[0].province_id)},children:[Object(T.jsx)(p.db,{className:"w-4 h-4"}),"Edit"]}),Object(T.jsxs)("button",{className:"bg-red-700 text-white font-bold py-1 px-2 flex items-center rounded focus:outline-none ".concat(le?"cursor-not-allowed":null),title:"Delete",disabled:le,onClick:function(){return Ve(e._id)},children:[Object(T.jsx)(p.db,{className:"w-4 h-4"}),"Delete"]})]})})]},s+e._id)})):[Object(T.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(T.jsx)("td",{className:"p-3 text-center",colSpan:5,children:"No School Found"})},1)]},pagination:!0,search:!0,thColor:"gray"})]})]}),fe&&Object(T.jsx)(g.d,{backDrop:!0,theme:g.c.default,close:function(){pe(""),Ce(null),Te(""),De(""),He(""),Me("")},displayClose:!0,backDropClose:!1,title:Object(T.jsxs)("div",{className:"text-gray-600 font-bold text-3xl md:ml-4 inline-flex items-center gap-2",children:[Object(T.jsx)(b.b,{className:"w-11 h-11 text-gray-500 hover:bg-gray-500 hover:text-gray-50 rounded-full p-0 foucs:outline-none"}),"CREATE"===fe?"CREATE ":"UPDATE "," SCHOOL"]}),widthSizeClass:g.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(T.jsx)("div",{className:"mx-8 mb-8",children:Object(T.jsxs)("form",{onSubmit:function(e){return Be(e)},children:[Object(T.jsxs)("div",{className:"py-4 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"School name"}),Object(T.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block border-2 ".concat(ve&&"school_name"===ve.element?"border-red-700":"border-gray-500"),placeholder:"School name",value:we,onChange:function(e){_e(null),Te(e.target.value)},disabled:le}),ve&&"school_name"===ve.element&&Object(T.jsx)("span",{className:"text-red-700",children:ve.msg})]}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Institutes"}),Object(T.jsxs)("select",{className:"text-left input-white w-full block border-2 py-3 px-4 pr-8 ".concat(ve&&"edication_id"===ve.element?"border-red-700":"border-gray-500"),value:Ae,onChange:function(e){return De(e.target.value)},disabled:le,children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Choose Insitute"}),t&&t.map((function(e,t){return Object(T.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},t+e.education_institute_id)}))]}),ve&&"edication_id"===ve.element&&Object(T.jsx)("span",{className:"text-red-700",children:ve.msg})]}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Province"}),Object(T.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 border-gray-500",value:qe,onChange:function(e){return Me(e.target.value)},disabled:le,children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Choose province"}),n&&n.map((function(e,t){return Object(T.jsx)("option",{value:e.province_id,children:e.province_name},t+e.province_id)}))]})]}),qe&&Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"District"}),Object(T.jsxs)("select",{className:"text-left input-white w-20 inline-block border-2 ".concat(ve&&"districtId_id"===ve.element?"border-red-700":"border-gray-500"),value:ze,onChange:function(e){return He(e.target.value)},disabled:le,children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Choose district"}),n&&n.filter((function(e){return e.province_id===qe}))[0].districts.length>0?n.filter((function(e){return e.province_id===qe}))[0].districts.map((function(e,t){return Object(T.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)})):Object(T.jsx)("option",{disabled:!0,children:"No District Found"},702)]}),ve&&"districtId_id"===ve.element&&Object(T.jsx)("span",{className:"text-red-700",children:ve.msg})]})]}),Object(T.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(T.jsx)("button",{onClick:function(){pe(""),Ce(null),Te(""),De(""),He(""),Me("")},className:"btn bg-gray-400 text-white hover:bg-gray-600 focus:outline-none",type:"button",disabled:le,children:"Exit"}),Object(T.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600 focus:outline-none ".concat(le?"animate-pulse":null),type:"submit",disabled:le,children:le?"Loading...":"Save"})]})]})})})]})}))},429:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(0);function c(e){return Object(s.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M120.998 40.998v37.943C136.22 89.471 146 109.278 146 131.001c0 13.71-3.901 26.65-10.598 36.985 3.465 1.35 7.106 2.85 10.15 4.172l122.352-22.783 5.918 54.842-111.748 23.219c-.862 16.261-2.45 32.262-5.289 51.566h336.217V40.998zM96 88.998c-16.595 0-32.002 17.747-32.002 42.004 0 24.257 15.407 42.002 32.002 42.002 16.595 0 32.002-17.745 32.002-42.002S112.595 88.998 96 88.998zm156.096 81.629l-108.592 20.22c-14.24-5.602-4.956-3.035-21.469-8.517-7.476 5.469-16.33 8.672-26.035 8.672-8.6 0-16.53-2.523-23.428-6.9-8.59 3.564-17.655 8.09-25.736 12.654-12.992 7.338-23.722 13.211-27.838 16.033v130.213h20.004V232h17.996v263.002h30.004V326h17.996v169.002h26.004v-171.84l.154-.824c9.514-50.64 12.588-77.384 13.461-109.656l109.56-22.766zm-98.153 126.375c-.952 5.682-1.991 11.64-3.146 17.996H478v-17.996zM208 344.998c-16.595 0-32.002 17.747-32.002 42.004 0 18.198 8.67 32.73 20.01 38.855 3.599-1.662 7.482-2.706 11.68-2.851 4.633-.16 8.98.767 13.052 2.42 10.968-6.352 19.262-20.63 19.262-38.424 0-24.257-15.407-42.004-32.002-42.004zm112 0c-16.595 0-32.002 17.747-32.002 42.004 0 18.198 8.67 32.73 20.01 38.855 3.599-1.662 7.482-2.706 11.68-2.851 4.633-.16 8.98.767 13.052 2.42 10.968-6.352 19.262-20.63 19.262-38.424 0-24.257-15.407-42.004-32.002-42.004zm112 0c-16.595 0-32.002 17.747-32.002 42.004 0 18.198 8.67 32.73 20.01 38.855 3.599-1.662 7.482-2.706 11.68-2.851 4.633-.16 8.98.767 13.052 2.42 10.968-6.352 19.262-20.63 19.262-38.424 0-24.257-15.407-42.004-32.002-42.004zm-223.688 95.996c-3.844.133-8.907 2.93-14.3 8.785-5.394 5.855-10.696 14.25-15.125 22.76-4.226 8.12-7.609 16.16-10.06 22.463h85.339c-3.04-6.436-7.138-14.549-12.133-22.711-5.298-8.658-11.511-17.138-17.668-22.957-6.157-5.819-11.8-8.487-16.053-8.34zm112 0c-3.844.133-8.907 2.93-14.3 8.785-5.394 5.855-10.696 14.25-15.125 22.76-4.226 8.12-7.609 16.16-10.06 22.463h85.339c-3.04-6.436-7.138-14.549-12.133-22.711-5.298-8.658-11.511-17.138-17.668-22.957-6.157-5.819-11.8-8.487-16.052-8.34zm112 0c-3.844.133-8.907 2.93-14.3 8.785-5.394 5.855-10.696 14.25-15.125 22.76-4.226 8.12-7.609 16.16-10.06 22.463h85.339c-3.04-6.436-7.138-14.549-12.133-22.711-5.298-8.658-11.511-17.138-17.668-22.957-6.157-5.819-11.8-8.487-16.052-8.34z"}}]})(e)}},460:function(e,t,n){"use strict";var s=n(5),c=n.n(s),r=n(2),a=n(7),i=n(25),o=n(8),l=n.n(o),d=n(4),u=n(9),b=n(258),f=n(19),p=n(3),m=n(213),h=n(47),j=n(10),x=n(179),g=n(181),O=n(1),v=function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Document",alignText:"left",padding:"p-3"},{columnTitle:"Status",alignText:"left",padding:"p-3"}],rows:function(){var t=e.requirements;return 0===t.length?[Object(O.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(O.jsx)("td",{className:"p-3 text-center",colSpan:3,children:"No Data Found"})},153)]:t.map((function(t,n){return Object(O.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(O.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:n+1}),Object(O.jsx)("td",{className:"p-3 text-left",children:Object(O.jsxs)("span",{children:[e.DistinctSubCategories.filter((function(e){return e.subcategory_id===t.subcategory_id})).length>0&&e.DistinctSubCategories.filter((function(e){return e.subcategory_id===t.subcategory_id}))[0].subcategory_title," ","in ",t.field_title]})}),Object(O.jsx)("td",{className:"p-3 text-left text-lg italic",children:t.required?Object(O.jsx)("span",{className:"text-yellow-800",children:"Required"}):"Optional"})]},n+t.field_id)}))},pagination:!1,search:!1,thColor:"gray"})})};t.a=Object(f.b)(null,{publishPosition:m.h,PushPopupAlert:p.jb})((function(e){var t=Object(d.useState)(""),n=Object(i.a)(t,2),s=n[0],o=n[1],f=function(){var t=Object(a.a)(c.a.mark((function t(n,s,a){var i,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(n),t.prev=1,t.next=4,l.a.patch("".concat(j.a.APPLICATION,"/publishposition/").concat(n),{isPublished:s});case 4:i=t.sent,e.publishPosition({position_id:n,status:s}),e.PushPopupAlert({title:"".concat(a," ").concat(s?" published":" stopped on application"," successfully"),theme:h.a.info}),(d=Object(r.a)({},e.thisPosition)).isPublished=s,e.setThisPosition&&e.setThisPosition(d),console.log("Position publish: ",i),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.error("err: ",t.t0),e.PushPopupAlert({title:Object(x.d)(t.t0),theme:h.a.danger});case 17:o("");case 18:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,n,s){return t.apply(this,arguments)}}(),p=function(e){var t=[],n=[],s=[],c=[],r=[];for(var a in e){var i=e[a].requirements;for(var o in i){var l=i[o].position_requirement;for(var d in l)t.push({category_id:i[o].category.user_detail_category_id,category_title:i[o].category.title,subcategory_id:i[o].subcategory.user_detail_subcategory_id,subcategory_title:i[o].subcategory.title,field_title:l[d].title,field_id:l[d]._id,required:l[d].required}),s.includes(i[o].category.user_detail_category_id)||(s.push(i[o].category.user_detail_category_id),n.push({category_id:i[o].category.user_detail_category_id,category_title:i[o].category.title,subcategory_id:i[o].subcategory.user_detail_subcategory_id,subcategory_title:i[o].subcategory.title,field_title:l[d].title,field_id:l[d]._id,required:l[d].required})),r.includes(i[o].subcategory.user_detail_subcategory_id)||(r.push(i[o].subcategory.user_detail_subcategory_id),c.push({category_id:i[o].category.user_detail_category_id,category_title:i[o].category.title,subcategory_id:i[o].subcategory.user_detail_subcategory_id,subcategory_title:i[o].subcategory.title,field_title:l[d].title,field_id:l[d]._id,required:l[d].required}))}}return{PositionsTemp:t,DistinctCategoriesTemp:n,DistinctSubCategoriesTemp:c}};return Object(O.jsx)("div",{className:"w-full",children:Object(O.jsxs)("div",{className:"w-full bg-gray-100 px-4 py-1 animate__animated animate__fadeIn",children:[Object(O.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(O.jsx)("span",{className:"text-blue-600 font-bold text-2xl",children:e.thisPosition.position_title}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Desc:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.thisPosition.description})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"School level:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.thisPosition.school_level_id.school_level_name})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Institute:"}),Object(O.jsx)("span",{className:"font-semibold",children:e.thisPosition.education_institute_id.education_category_title})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Courses:"}),Object(O.jsx)("span",{className:"flex items-center gap-2",children:e.thisPosition.courses.map((function(t,n){return Object(O.jsxs)("div",{className:"flex items-center gap-1",children:[Object(O.jsx)("span",{className:"font-semibold",children:t.course_name}),Object(O.jsxs)("span",{className:"text-gray-600",children:["(",t.course_code,")"]}),n!==e.thisPosition.courses.length-1&&","]},n+t.course_id)}))})]}),Object(O.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(O.jsx)("span",{className:"italic",children:"Status:"}),Object(O.jsx)("div",{className:"flex flex-row items-center gap-2 mt-1",children:Object(O.jsxs)("div",{className:"relative ".concat(s.length>0?"cursor-not-allowed":"cursor-pointer"," flex items-center gap-1"),onClick:function(){return!s.length&&f(e.thisPosition.position_id,!e.thisPosition.isPublished,e.thisPosition.position_title)},children:[Object(O.jsx)("span",{className:"block w-14 h-8 bg-gray-100 hover:border-gray-100 rounded-full shadow-inner"}),Object(O.jsx)("span",{className:"absolute block w-6 h-6 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-500 ease-in-out ".concat(e.thisPosition.isPublished?"bg-green-500 transform translate-x-full":"bg-yellow-500")}),s===e.thisPosition.position_id?Object(O.jsx)(b.b,{className:"animate__animated animate__rotateIn animate__infinite"}):Object(O.jsx)("span",{className:"font-semibold",children:e.thisPosition.isPublished?"Published":"Not Published"})]})})]})]}),Object(O.jsxs)("div",{className:"bg-white w-full rounded p-2 mb-2",children:[Object(O.jsx)("div",{className:"text-blue-500 text-2xl font-bold my-2",children:"Position Requirements"}),e.thisPosition.requirements.length>0?p([e.thisPosition]).DistinctCategoriesTemp.map((function(t,n){return Object(O.jsxs)("div",{className:"bg-gray-100 rounded p-2",children:[Object(O.jsxs)("div",{className:"flex items-center gap-2 text-2xl text-gray-500 font-bold",children:[Object(O.jsx)(u.Eb,{}),Object(O.jsx)("span",{children:t.category_title})]}),Object(O.jsx)("div",{className:"border bg-white mt-1",children:Object(O.jsx)(v,{DistinctSubCategories:p([e.thisPosition]).DistinctSubCategoriesTemp,requirements:p([e.thisPosition]).PositionsTemp})})]},n+t.category_id)})):Object(O.jsx)("div",{children:"No Data"})]})]})})}))},799:function(e,t,n){"use strict";n.r(t),n.d(t,"PostRequest",(function(){return k}));var s=n(5),c=n.n(s),r=n(7),a=n(25),i=n(4),o=n.n(i),l=n(19),d=n(18),u=n(178),b=n(181),f=n(216),p=n(376),m=n(180),h=n(429),j=n(3),x=n(47),g=n(213),O=n(8),v=n.n(O),_=n(10),y=n(13),N=n(407),w=n(185),T=n(258),E=n(1),S=function(e){return Object(E.jsx)(i.Fragment,{children:Object(E.jsx)("div",{className:"p-5",children:Object(E.jsx)("div",{className:"mx-4 p-4",children:Object(E.jsxs)("div",{className:"flex items-center",children:[Object(E.jsxs)("div",{className:"flex items-center ".concat(1===e.currentStep?"text-white":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.ONE&&e.setFormSteps({ONE:!0,TWO:!1})},children:[Object(E.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(1===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.ONE?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(E.jsx)(w.j,{className:"feather feather-bookmark w-full h-full"})}),Object(E.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(1===e.currentStep?"text-blue-500":e.stepState.ONE?"text-blue-500 cursor-pointer":"text-gray-500"),children:"Position"})]}),Object(E.jsx)("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out ".concat(e.stepState.ONE?"border-blue-500":"border-gray-300")}),Object(E.jsxs)("div",{className:"flex items-center ".concat(4===e.currentStep?"text-white":e.stepState.TWO?"text-blue-500 cursor-pointer":"text-gray-500"," relative"),onClick:function(){return e.stepState.TWO&&e.setFormSteps({ONE:!1,TWO:!1})},children:[Object(E.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out h-12 w-12 py-3 border-2 ".concat(4===e.currentStep?"border-blue-500 bg-blue-500":e.stepState.TWO?"border-blue-500 cursor-pointer":"border-gray-500"),children:Object(E.jsx)(T.c,{className:"feather feather-database w-full h-full"})}),Object(E.jsx)("div",{className:"absolute top-0 -ml-10 text-center mt-16 w-32 text-xs font-semibold uppercase ".concat(4===e.currentStep||e.stepState.TWO?"text-blue-500":"text-gray-500"),children:"Description"})]})]})})})})},P=n(460),C=n(182),k=Object(l.b)((function(e){var t=e.auth,n=e.schools,s=e.system_settings;return{auth:t,schools:n.schools,schoolPosts:n.schoolPosts,systemPositions:s.systemPositions}}),{getPositions:g.f,getSchools:p.f,fetchSchoolPosts:p.e,createSchoolPost:p.b,updateSchoolPost:p.h,PushPopupAlert:j.jb})((function(e){var t=Object(i.useState)(!1),n=Object(a.a)(t,2),s=n[0],l=n[1],p=Object(i.useState)(!0),j=Object(a.a)(p,2),g=j[0],O=j[1],w=Object(i.useState)(null),T=Object(a.a)(w,2),k=T[0],I=T[1],A=Object(i.useState)("all"),D=Object(a.a)(A,2),L=D[0],R=D[1],q=Object(i.useState)(""),M=Object(a.a)(q,2),F=M[0],U=M[1],z=Object(i.useState)(0),H=Object(a.a)(z,2),W=H[0],B=H[1],V=Object(i.useState)(0),Y=Object(a.a)(V,2),G=Y[0],J=Y[1],Z=Object(i.useState)(0),K=Object(a.a)(Z,2),Q=K[0],X=K[1],$=Object(i.useState)(""),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],se=Object(i.useState)(!1),ce=Object(a.a)(se,2),re=ce[0],ae=ce[1],ie=Object(i.useState)(!0),oe=Object(a.a)(ie,2),le=oe[0],de=oe[1],ue=Object(i.useState)({ONE:!0,TWO:!1}),be=Object(a.a)(ue,2),fe=be[0],pe=be[1],me=Object(i.useState)({ONE:!1,TWO:!1}),he=Object(a.a)(me,2),je=he[0],xe=he[1],ge=Object(i.useState)(null),Oe=Object(a.a)(ge,2),ve=Oe[0],_e=Oe[1],ye=Object(i.useState)(!1),Ne=Object(a.a)(ye,2),we=Ne[0],Te=Ne[1],Ee=Object(i.useState)(""),Se=Object(a.a)(Ee,2),Pe=Se[0],Ce=Se[1],ke=Object(i.useState)(0),Ie=Object(a.a)(ke,2),Ae=Ie[0],De=Ie[1],Le=Object(i.useState)(null),Re=Object(a.a)(Le,2),qe=Re[0],Me=Re[1];Object(i.useEffect)((function(){e.schools.length?de(!1):e.getSchools((function(e,t){de(e),t.length>0&&console.error({loadingCandidatesError:t})})),null===e.systemPositions&&(l(!0),e.getPositions((function(t,n){l(t),console.log({status:t,msg:n}),n.length&&e.PushPopupAlert({title:n,theme:x.a.danger})}))),!e.schoolPosts.length&&g?e.fetchSchoolPosts(e.auth.user_access.school_id,(function(t,n){t||(n.length>0&&g&&(console.error("error loading school post: ",n),e.PushPopupAlert({title:n,theme:x.a.danger})),O(!1))})):O(!1)}),[g,e]);var Fe=function(e,t){return e.filter((function(e){return e.position_id===t}))[0]};if(e.auth.user_access.school_id.length<=0)return Object(E.jsx)(d.a,{to:"/"});if(!0===le)return Object(E.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."});var Ue=function(){var t=Object(r.a)(c.a.mark((function t(n){var s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!("RECEIVE"===k&&Ae<0)){t.next=5;break}return t.abrupt("return",Me({element:"received_posts",msg:"Invalid number of received post"}));case 5:if(!("RECEIVE"===k&&ve&&Ae>ve.needed_posts)){t.next=7;break}return t.abrupt("return",Me({element:"received_posts",msg:"Invalid number of received post"}));case 7:if(ae(!0),t.prev=8,"CREATE"!==k){t.next=16;break}return t.next=12,v.a.post("".concat(_.a.PLACEMENT,"/requestpost"),{school_id:e.auth.user_access.school_id,position_id:F,district_id:Object(N.getSchoolById)(e.schools,e.auth.user_access.school_id).district_id,needed_posts:W,male_number:Q,female_number:G,description:34,occupied_posts:Number(Q)+Number(G),requested_by:e.auth.user.user_id});case 12:(s=t.sent)&&(e.createSchoolPost(s.data.data),U(""),B(0),J(0),X(0),ne(""),pe({ONE:!0,TWO:!1}),xe({ONE:!1,TWO:!1}),e.PushPopupAlert({title:"Post(s) has been requested!",theme:x.a.success})),t.next=29;break;case 16:if("UPDATE"!==k){t.next=24;break}return console.log({district_id:Object(N.getSchoolById)(e.schools,e.auth.user_access.school_id).district_id}),t.next=20,v.a.patch("".concat(_.a.PLACEMENT,"/requestpost/").concat(Pe),{confirmed_posts:0,confirmed_by:null,received_posts:0,approval_date:null,school_id:e.auth.user_access.school_id,position_id:F,district_id:Object(N.getSchoolById)(e.schools,e.auth.user_access.school_id).district_id,needed_posts:W,male_number:Q,female_number:G,description:te,occupied_posts:Number(Q)+Number(G),requested_by:e.auth.user.user_id,requested_post_status:f.c.INITIATED});case 20:(r=t.sent)&&(e.fetchSchoolPosts(e.auth.user_access.school_id,(function(t,n){t||(n.length>0&&g&&(console.error("error loading school post: ",n),e.PushPopupAlert({title:n,theme:x.a.danger})),O(!1))})),ve&&_e(r.data.data),U(""),Ce(""),B(0),J(0),X(0),ne(""),I(null),pe({ONE:!0,TWO:!1}),xe({ONE:!1,TWO:!1}),e.PushPopupAlert({title:"Post(s) has been updated!",theme:x.a.info})),t.next=29;break;case 24:if("RECEIVE"!==k||!ve){t.next=29;break}return t.next=27,v.a.patch("".concat(_.a.PLACEMENT,"/requestpost/").concat(ve.requested_post_id),{confirmed_posts:ve.confirmed_posts,confirmed_by:e.auth.user.user_id,received_posts:Ae,approval_date:ve.approval_date,school_id:ve.school_id,position_id:ve.position_id,district_id:ve.district_id,needed_posts:ve.needed_posts,male_number:ve.male_number,female_number:ve.female_number,description:ve.description,occupied_posts:ve.occupied_posts,requested_by:e.auth.user.user_id,requested_post_status:f.c.RECEIVED});case 27:t.sent&&(e.fetchSchoolPosts(e.auth.user_access.school_id,(function(t,n){t||(n.length>0&&g&&(console.error("error loading school post: ",n),e.PushPopupAlert({title:n,theme:x.a.danger})),O(!1))})),!we&&_e(null),De(0),I(null),e.PushPopupAlert({title:"Post request has been received!",theme:x.a.info}));case 29:t.next=35;break;case 31:t.prev=31,t.t0=t.catch(8),console.error({role_error:t.t0}),e.PushPopupAlert({title:Object(y.a)(t.t0),theme:x.a.danger});case 35:ae(!1);case 36:case"end":return t.stop()}}),t,null,[[8,31]])})));return function(e){return t.apply(this,arguments)}}();return Object(E.jsxs)(o.a.Fragment,{children:[Object(E.jsxs)("div",{className:"flex flex-row items-start gap-4 my-2",children:[Object(E.jsx)(h.a,{className:"text-blue-700 w-12 h-12 md:block hidden"}),Object(E.jsx)("div",{className:"w-full",children:Object(E.jsx)("div",{className:"flex justify-between w-full",children:Object(E.jsxs)("div",{className:"flex flex-col gap-1 justify-between",children:[Object(E.jsx)("h1",{className:"md:text-4xl text-3xl font-semibold",children:"Teacher Request"}),Object(E.jsx)("div",{className:"flex-row items-center md:gap-3 gap-2 hidden",children:Object(E.jsx)("div",{className:"flex flex-row items-center mt-1 gap-1",children:Object(E.jsx)("span",{className:"text-gray-600 text-xl",children:"level:"})})})]})})})]}),Object(E.jsx)("div",{className:"grid md:grid-cols-5 gap-2 bg-white shadow-md p-2",children:Object(E.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(E.jsxs)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:[Object(E.jsx)("div",{className:"flex flex-col md:flex-row",children:Object(E.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none",onChange:function(e){return R(e.target.value)},children:[Object(E.jsx)("option",{value:"all",children:"All Position"}),e.systemPositions&&e.systemPositions.length>0?e.systemPositions.map((function(e,t){return Object(E.jsx)("option",{value:e.position_id,children:e.position_title},t+1)})):Object(E.jsx)("option",{value:"",children:"No Position found"})]})}),Object(E.jsx)("div",{className:"block relative",children:Object(E.jsx)("div",{className:"pt-6 md:pt-0 md:pl-6",children:Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",onClick:function(){return I("CREATE")},disabled:g||s||re,children:"Request Teacher"})})})]}),Object(E.jsx)(b.a,{columns:[{columnTitle:"POSITION",alignText:"left",padding:"p-3"},{columnTitle:"REQUEST",alignText:"left",padding:"p-3"},{columnTitle:"APPROVED",alignText:"left",padding:"p-3"},{columnTitle:"OCCUPIED",alignText:"left",padding:"p-3"},{columnTitle:"VACCANTS",alignText:"left",padding:"p-3"},{columnTitle:"STATUS",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){if(g)return[Object(E.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(E.jsx)("td",{className:"p-3 text-center",colSpan:7,children:"Loading post"})},1)];var t=e.schoolPosts;return 0===(t=""!==L&&"all"!==L?t.filter((function(e){return e.position_id===L})):t).length?[Object(E.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(E.jsx)("td",{className:"p-3 text-center",colSpan:7,children:"No Data Found"})},1)]:t.map((function(t,n){return Object(E.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[Object(E.jsx)("td",{className:"py-3 px-4 text-left font-medium",children:e.systemPositions&&Fe(e.systemPositions,t.position_id).position_title}),Object(E.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.needed_posts}),Object(E.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.requested_post_status===f.c.CONFIRMED?Object(E.jsxs)("div",{className:"flex items-center gap-1",children:[t.confirmed_posts,Object(E.jsx)(C.f,{className:"bg-yellow-600 w-5 h-5 text-white cursor-pointer",onClick:function(){I("RECEIVE"),_e(t)}})]}):"-"}),Object(E.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.occupied_posts?t.occupied_posts:"-"}),Object(E.jsx)("td",{className:"py-3 px-4 text-left text-base font-medium",children:t.requested_post_status===f.c.RECEIVED?t.received_posts:"-"}),Object(E.jsx)("td",{children:Object(E.jsx)("span",{className:"px-2 py-1 font-semibold rounded ".concat(t.requested_post_status===f.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":t.requested_post_status===f.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:t.requested_post_status===f.c.INITIATED?"Pending":Object(m.a)(t.requested_post_status)})}),Object(E.jsx)("td",{className:"py- text-left",children:Object(E.jsxs)("div",{className:"flex item-center justify-end gap-1",children:[Object(E.jsx)("button",{className:" btn btn-blue transition ease-out duration-500 flex items-center ",title:"View User Profile",onClick:function(){_e(t),Te(!0)},children:"Details"}),t.requested_post_status===f.c.INITIATED&&Object(E.jsx)("button",{className:"btn bg-gray-500 text-white hover:bg-gray-700",onClick:function(){I("UPDATE"),Ce(t.requested_post_id),U(t.position_id),B(t.needed_posts),ne(t.description),J(t.female_number),X(t.male_number),pe({ONE:!0,TWO:!1}),xe({ONE:!1,TWO:!1})},disabled:re,children:"Edit"})]})})]},n+1)}))},pagination:!0,search:!0,thColor:"gray"})]})}),("CREATE"===k||"UPDATE"===k)&&Object(E.jsxs)(u.d,{backDrop:!0,theme:u.c.default,close:function(){U(""),B(0),J(0),X(0),ne(""),I(null),pe({ONE:!0,TWO:!1}),xe({ONE:!1,TWO:!1})},displayClose:!0,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"You are applying for Requesting Teachers"})})}),widthSizeClass:u.b.extraLarge,padding:{title:!0,body:!1,footer:!1},children:[Object(E.jsx)(S,{currentStep:fe.TWO?2:1,stepState:je,setFormSteps:pe}),Object(E.jsxs)("div",{className:"px-4 mx-auto mb-4 mt-3",children:[fe.ONE&&Object(E.jsxs)("section",{children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Select Position"}),Object(E.jsxs)("select",{className:"border-2 border-gray-700 bg-white p-2 rounded focus:outline-none focus:bg-gray-100",value:F,onChange:function(e){U(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Choose Position"}),e.systemPositions&&e.systemPositions.length>0?function(t){if(e.systemPositions){if(e.schoolPosts.length>0){var n=[];for(var s in e.schoolPosts)Object.prototype.hasOwnProperty.call(e.schoolPosts,s)&&e.schoolPosts[s].requested_post_status!==f.c.RECEIVED&&(t&&t===e.schoolPosts[s].position_id||n.push(e.schoolPosts[s].position_id));return t&&(n=n.filter((function(e){return e!==t}))),e.systemPositions.filter((function(e){return!n.includes(e.position_id)}))}return e.systemPositions}return[]}(F).map((function(e,t){return Object(E.jsx)("option",{value:e.position_id,children:e.position_title},t+11)})):Object(E.jsx)("option",{children:"No position found"})]})]}),F.length>0&&e.systemPositions&&Object(E.jsx)("div",{className:"my-2 rounded border",children:Object(E.jsx)(P.a,{thisPosition:Fe(e.systemPositions,F)})}),Object(E.jsx)("div",{className:"bg-white w-full flex justify-end",children:F.length>0&&Object(E.jsx)("button",{className:"btn btn-blue m-1 mr-2 mb-2 animate__animated animate__fadeIn focus:outline-none",onClick:function(){pe({ONE:!1,TWO:!0}),xe({ONE:!0,TWO:!1})},children:"Continue"})})]}),Object(E.jsx)("form",{onSubmit:Ue,children:Object(E.jsxs)("div",{className:"bg-white",children:[fe.TWO&&Object(E.jsxs)("div",{className:"text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"mb-4 md:flex md:justify-between",children:[Object(E.jsxs)("div",{className:"mb-4 md:mr-2 md:mb-0 w-full",children:[Object(E.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"female",children:"Current number of Female on this position"}),Object(E.jsx)("input",{className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",id:"female",type:"number",min:0,value:G,onChange:function(e){return J(Number(e.target.value))},placeholder:"Current number of Female on this position"})]}),Object(E.jsxs)("div",{className:"md:ml-2 w-full",children:[Object(E.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"male",children:"Current number of Male on this position"}),Object(E.jsx)("input",{className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",id:"male",type:"number",min:0,value:Q,onChange:function(e){return X(Number(e.target.value))},placeholder:"Current number of Male on this post"})]})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Needed posts (number)"}),Object(E.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:W,onChange:function(e){return B(Number(e.target.value))},min:1,placeholder:"1",required:!0})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Explanation"}),Object(E.jsx)("textarea",{name:"description",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",id:"description",placeholder:"Explanation",value:te,onChange:function(e){return ne(e.target.value)},rows:2,required:!0})]})]}),Object(E.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(E.jsx)("button",{className:"btn bg-gray-400 text-white hover:bg-gray-600",onClick:function(){U(""),B(0),J(0),X(0),ne(""),I(null),pe({ONE:!0,TWO:!1}),xe({ONE:!1,TWO:!1})},children:"Exit"}),fe.TWO&&Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",disabled:re,children:re?"Loading...":"Request"})]})]})})]})]}),"RECEIVE"===k&&ve&&e.systemPositions&&Object(E.jsx)(u.d,{backDrop:!0,theme:u.c.default,close:function(){_e(null),I(null)},displayClose:!0,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Responding to Requesting Teachers"})})}),widthSizeClass:u.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(E.jsx)("div",{className:"px-4 mx-auto mb-4 mt-3",children:Object(E.jsx)("form",{onSubmit:Ue,children:Object(E.jsxs)("div",{className:"bg-white",children:[Object(E.jsxs)("div",{className:"text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Position"}),Object(E.jsx)("input",{type:"text",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:Fe(e.systemPositions,ve.position_id).position_title,placeholder:"position title",disabled:!0})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Needed posts (number)"}),Object(E.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:ve.needed_posts,min:1,placeholder:"1",disabled:!0})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Aproved posts"}),Object(E.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 border-gray-700 bg-white focus:outline-none focus:bg-gray-100",value:ve.confirmed_posts,placeholder:"number of aproved posts",disabled:!0})]}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Received posts (number)"}),Object(E.jsx)("input",{type:"number",className:"appearance-none rounded w-full py-1 px-4 border-2 bg-white focus:outline-none focus:bg-gray-100 ".concat(null!==qe&&"received_posts"===qe.element?"border-red-500":"border-gray-700"),value:Ae,onChange:function(e){De(Number(e.target.value))},min:0,max:ve.confirmed_posts,placeholder:"1",disabled:re}),null!==qe&&"received_posts"===qe.element&&Object(E.jsx)("span",{className:"text-red-600 font-bold text-xs",children:qe.msg})]})]}),Object(E.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(E.jsx)("button",{className:"btn bg-gray-400 text-white hover:bg-gray-600",onClick:function(){_e(null),De(0),I(null)},children:"Exit"}),Object(E.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",disabled:re,children:re?"Loading...":"Request"})]})]})})})}),we&&null===k&&ve&&e.systemPositions&&Object(E.jsx)(u.d,{backDrop:!0,theme:u.c.default,close:function(){_e(null),Te(!1)},displayClose:!0,backDropClose:!1,title:Object(E.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Viewing Post Request"})})}),widthSizeClass:u.b.large,padding:{title:!0,body:!1,footer:!1},children:Object(E.jsxs)("section",{className:"px-4 mx-auto mb-4 mt-3 flex items-start",children:[Object(E.jsxs)("section",{className:"w-full",children:[Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Position: "}),Object(E.jsx)("span",{className:"font-bold",children:Fe(e.systemPositions,ve.position_id).position_title})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Requested posts: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:ve.needed_posts})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Confirmed posts: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:ve.requested_post_status===f.c.CONFIRMED?Object(E.jsxs)("div",{className:"flex items-center gap-1",children:[ve.confirmed_posts,Object(E.jsx)(C.f,{className:"bg-yellow-600 w-5 h-5 text-white cursor-pointer"})]}):"-"})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Received posts: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:ve.requested_post_status===f.c.RECEIVED?ve.received_posts:"-"})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Number of female: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:ve.female_number})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Number of male: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:ve.male_number})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Request reason: "}),Object(E.jsx)("span",{className:"font-bold text-xl",children:ve.description})]}),Object(E.jsxs)("div",{className:"flex flex-row item-center justify-left gap-3 mb-2",children:[Object(E.jsx)("span",{className:"text-gray-500 italic",children:"Status: "}),Object(E.jsx)("span",{className:"px-2 py-1 mx-1 font-semibold rounded ".concat(ve.requested_post_status===f.c.INITIATED?"text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-100":ve.requested_post_status===f.c.CONFIRMED?"text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100":"text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100"),children:ve.requested_post_status===f.c.INITIATED?"Pending":Object(m.a)(ve.requested_post_status)})]})]}),Object(E.jsx)("div",{className:"mb-3 flex items-center justify-end gap-2",children:Object(E.jsx)("button",{className:"font-bold py-1 px-4 rounded bg-gray-500 text-white hover:bg-gray-700",onClick:function(){I("UPDATE"),Ce(ve.requested_post_id),U(ve.position_id),B(ve.needed_posts),ne(ve.description),J(ve.female_number),X(ve.male_number),pe({ONE:!0,TWO:!1}),xe({ONE:!1,TWO:!1})},disabled:ve.requested_post_status!==f.c.INITIATED,children:"Edit"})})]})})]})}))}}]);
//# sourceMappingURL=24.c2cd03d1.chunk.js.map