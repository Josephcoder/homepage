(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[25,32,35],{1331:function(e,t,a){"use strict";a.r(t),a.d(t,"ClaimDashboard",(function(){return D}));var s=a(25),i=a(24),n=a(27),l=a(26),c=a(4),r=a.n(c),o=a(55),d=a(23),u=a(3),m=a(82),p=a(203),b=a(686),x=a(9),h=a(21),j=a(32),g=a(28),f=a(875),O=a(927),y=a(683),_=a(725),v=a(724),C=a(701),N=a(1),w=function(e){var t=function(){var t=[],a=[],s=[],i=[];for(var n in e.ClaimTypes)"all"!==e.ClaimTypes[n].type&&(t.push(e.ClaimTypes[n].count.accepted),a.push(e.ClaimTypes[n].count.rejected),s.push(e.ClaimTypes[n].count.pending),i.push(e.ClaimTypes[n].type.replace(/_/g," ")));return{accepted:t,rejected:a,active:s,labels:i}};return Object(N.jsxs)("section",{className:"my-3 max-w-full bg-white",children:[Object(N.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(N.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Claim chart on country level"})}),Object(N.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(N.jsx)(C.a,{labels:t().labels,categoriesLabel:t().labels,dataLabels:!1,yaxisText:"(Applicants)",tooltipText:"Claims",series:[{name:"Pending Claim",data:t().active},{name:"Accepted Claim",data:t().accepted},{name:"Rejected Claim",data:t().rejected}],colors:["#4b5563","#469769","#d97724"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},stacked:!0})})]})},T=r.a.memo(w),A=a(124),P=a(12),S=function(e){return Object(N.jsxs)("div",{className:"mt-3 rounded flex flex-col md:flex-row md:justify-between items-start",children:[Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3 mb-2",children:[Object(N.jsx)(A.b,{className:"text-6xl text-blue-600 hidden md:block"}),Object(N.jsx)("div",{className:"flex flex-col",children:Object(N.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:e.reportTitle})})]}),Object(N.jsxs)("section",{className:"w-full md:w-auto my-2 md:my-0",children:[Object(N.jsx)("section",{children:e.education_categories&&e.education_categories.length>0&&Object(N.jsxs)("div",{className:"flex items-start md:items-center justify-start md:justify-end gap-2",children:[e.allEducation&&Object(N.jsx)("div",{className:"w-auto ".concat(e.loading||e.loadingApplications||e.loadingEducation||e.periodChanged?"cursor-not-allowed":"cursor-pointer"," ").concat(null===e.thisEducation?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.loading&&!e.loadingEducation&&e.setThisEducation(null)},children:Object(N.jsxs)("section",{className:"flex-1",children:[Object(N.jsx)(P.o,{className:"inline-block mr-1 text-xs"}),Object(N.jsx)("span",{children:"All"})]})}),e.education_categories.map((function(t,a){return Object(N.jsx)("div",{className:"w-auto ".concat(e.loading||e.loadingApplications||e.loadingEducation?"cursor-not-allowed":"cursor-pointer"," ").concat(e.thisEducation&&t.education_institute_id===e.thisEducation.education_institute_id?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.loading&&!e.loadingApplications&&!e.loadingEducation&&e.setThisEducation(t)},children:Object(N.jsxs)("div",{className:"flex-1",children:[Object(N.jsx)(P.o,{className:"inline-block mr-1 text-xs"}),Object(N.jsx)("span",{children:t.education_category_title})]})},t.education_institute_id+a)}))]})}),Object(N.jsx)("div",{children:Object(N.jsx)("select",{className:"bg-white text-gray-600 border border-gray-400 rounded p-2 focus:outline-none ".concat(e.loadingApplications&&"cursor-wait"),value:e.thisPeriod,disabled:e.loading||e.loadingApplications||e.loadingEducation||e.periodChanged,onChange:function(t){e.setThisPeriod(t.target.value),e.onPeriodChange(t.target.value)},children:e.application_sessions.map((function(e,t){return Object(N.jsx)("option",{value:e._id,children:e.session_plan_name},e._id+t)}))})})]})]})},E=r.a.memo(S),k=function(e){Object(n.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).setLoadingInstitutes=function(e){i.setState({loadingInstitutes:e})},i.setLoading=function(e){i.setState({loading:e})},i.setLoadingSession=function(e){i.setState({loadingSession:e})},i.setPeriodChanged=function(e){i.setState({periodChanged:e})},i.setLoadingPosition=function(e){i.setState({loadingPosition:e})},i.setLoadingApplications=function(e){i.setState({loadingApplications:e})},i.setLoadingClaims=function(e){i.setState({loadingClaims:e})},i.setLoadingDocuments=function(e){i.setState({loadingDocuments:e})},i.setLoadingClarifications=function(e){i.setState({loadingClarifications:e})},i.setLoadingFields=function(e){i.setState({loadingFields:e})},i.setThisEducation=function(e){i.setState({thisEducation:e})},i.setThisLabel=function(e){i.setState({thisLabel:e})},i.setThisPeriod=function(e){i.setState({thisPeriod:e})},i.componentDidMount=function(){if(null===i.props.schoolLevels.education_categories||0===i.props.schoolLevels.education_categories.length?i.props.loadEducationCategories(i.setLoadingInstitutes):i.setLoadingInstitutes(!1),null===i.props.application_sessions||0===i.props.application_sessions.length?i.props.GetAllSessionPlans((function(e,t,a){if(!e&&(i.setLoadingSession(!1),i.setLoading(!1),t.length&&i.props.PushPopupAlert({title:t,theme:h.a.danger}),a&&a.length>0)){var s=a.find((function(e){return!0===e.is_active}));i.setThisPeriod(s?s._id:a[a.length-1]._id),i.onPeriodChange(s?s._id:a[a.length-1]._id)}})):i.state.loadingSession&&(i.setLoading(!1),i.setLoadingSession(!1)),Object(j.f)(i.state.thisPeriod)&&!i.state.loadingSession&&i.props.application_sessions&&i.props.application_sessions.length>0){var e=i.props.application_sessions.find((function(e){return!0===e.is_active}));i.setThisPeriod(e?e._id:i.props.application_sessions[i.props.application_sessions.length-1]._id),i.onPeriodChange(e?e._id:i.props.application_sessions[i.props.application_sessions.length-1]._id)}!i.props.documentReducer.documentCategory&&i.state.loadingDocuments?(i.props.getDocumentCategory(),i.setLoadingDocuments(!1)):i.state.loadingDocuments&&i.setLoadingDocuments(!1),!i.props.documentReducer.documentSubCategory&&i.state.loadingClarifications?(i.props.getDocumentSubCategory(),i.setLoadingClarifications(!1)):i.state.loadingClarifications&&i.setLoadingClarifications(!1),!i.props.documentReducer.documentFields&&i.state.loadingFields?(i.props.getDocumentFields(),i.setLoadingFields(!1)):i.state.loadingFields&&i.setLoadingFields(!1),null===i.props.systemPositions&&i.props.auth.education_institution_id?i.props.FC_GetPositionsByInstitution(i.props.auth.education_institution_id,(function(e,t){i.setLoadingPosition(e),console.log({status:e,msg:t}),t.length&&i.props.PushPopupAlert({title:t,theme:h.a.danger})})):i.state.loadingPosition&&i.setLoadingPosition(!1)},i.onPeriodChange=function(e){i.setPeriodChanged(!0),i.props.getAllClaims(2,e,(function(e,t){!e&&i.setPeriodChanged(!1),!1===e&&t.length&&i.props.PushPopupAlert({title:t,theme:h.a.danger})})),i.props.getAllApplications(e,(function(e,t){!e&&i.setLoadingApplications(e),!1===e&&t.length&&i.props.PushPopupAlert({title:t,theme:h.a.danger})}))},i.getClaimInstitute=function(e){if(e.type_key===x.g.DOCUMENT_VALIDATION)return null;if(e.type_key===x.g.APPLICATION&&i.props.claiming.allApplications){var t=i.props.claiming.allApplications.find((function(t){return t._id===e.claiming_on_id}));if(t&&i.props.claiming.allApplications&&i.props.systemPositions){var a=i.props.systemPositions.find((function(e){return e.position_id===t.position}));if(a)return a.education_institute_id.education_institute_id}}return null},i.displayClaimTitle=function(e){var t=e.claiming_on_id;if(e.type_key===x.g.DOCUMENT_VALIDATION&&(t=e.user.details.filter((function(e){return"waiting"!==e.validation_status})).length>0?Object(O.adminDisplayClaimTitle)(i.props.documentReducer,e.user.details.filter((function(e){return"waiting"!==e.validation_status})),e):"Document not found"),e.type_key===x.g.APPLICATION&&i.props.claiming.allApplications){var a=i.props.claiming.allApplications.find((function(t){return t._id===e.claiming_on_id}));if(a&&i.props.claiming.allApplications&&i.props.systemPositions){var s=i.props.systemPositions.find((function(e){return e.position_id===a.position}));t=s?s.position_title:"Application not found"}}return t},i.ClaimTypes=function(e){var t=[{title:"All claim types",count:{all:e.length,accepted:e.filter((function(e){return e.decision===x.a.ACCEPTED})).length,rejected:e.filter((function(e){return e.decision===x.a.REJECTED})).length,pending:e.filter((function(e){return"PENDING"===e.decision})).length},type:"all"}];return Object.values(x.g).forEach((function(a){t.push({title:Object(j.a)(Object(f.reportClaimType)(a)),count:{all:e.filter((function(e){return e.claim_type===a})).length,accepted:e.filter((function(e){return e.claim_type===a&&e.decision===x.a.ACCEPTED})).length,rejected:e.filter((function(e){return e.claim_type===a&&e.decision===x.a.REJECTED})).length,pending:e.filter((function(e){return e.claim_type===a&&"PENDING"===e.decision})).length},type:a})})),t},i.FC_ClaimData=function(e){if(null===e||e.length<=0)return[];var t=[],a=1;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s))for(var n in e[s].claims)if(Object.prototype.hasOwnProperty.call(e[s].claims,n)){var l=e[s].claims[n],c={claim_id:a,names:e[s].user.user_info.fname+" "+e[s].user.user_info.lname,gender:e[s].user.user_info.sex?"Male":"Female",national_id:e[s].user.n_id,phone:e[s].user.phone_number,email:e[s].user.email,claim_type:e[s].type_key,claim_level:l.level,education_category:i.getClaimInstitute(e[s]),claim_session:i.state.thisPeriod,date:Object(g.a)(l.createdAt),decision:l.decision_taken_status?l.decision_taken_status:"PENDING",claim_title:i.displayClaimTitle(e[s])};t.push(c),a++}return t},i.getClaimDataByTitle=function(e){return e.find((function(e){return e.type===i.state.thisLabel}))},i.state={thisPeriod:"",loading:!0,loadingSession:!0,periodChanged:!1,loadingPosition:!0,loadingApplications:!0,loadingClaims:!0,loadingDocuments:!0,loadingInstitutes:!0,loadingClarifications:!0,loadingFields:!0,thisEducation:null,thisLabel:"all"},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.props.application_sessions&&0===this.props.application_sessions.length?Object(N.jsx)(y.a,{}):this.state.loading||null===this.props.application_sessions||null===this.props.claiming.allClaims?Object(N.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):Object(N.jsxs)("div",{children:[Object(N.jsx)(E,{education_categories:this.props.schoolLevels.education_categories,loading:this.state.loading,loadingApplications:this.state.loadingApplications,loadingEducation:this.state.loadingInstitutes,thisEducation:this.state.thisEducation,setThisEducation:this.setThisEducation,thisPeriod:this.state.thisPeriod,setThisPeriod:this.setThisPeriod,application_sessions:this.props.application_sessions,reportTitle:"Claim Dashboard",allEducation:!0,periodChanged:this.state.periodChanged,onPeriodChange:this.onPeriodChange}),Object(N.jsxs)("section",{className:"my-2",children:[Object(N.jsxs)("div",{className:"text-2xl font-semibold text-gray-600",children:["Claim type:",Object(N.jsx)("select",{className:"bg-white text-gray-600 border-2 border-blue-600 rounded-lg px-2 py-1 focus:outline-none",value:this.state.thisLabel,onChange:function(t){return e.setThisLabel(t.target.value)},children:this.ClaimTypes(this.FC_ClaimData(this.props.claiming.allClaims)).map((function(e,t){return Object(N.jsx)("option",{value:e.type,children:Object(j.a)(e.title.toLocaleLowerCase())},e.type+t)}))})]}),this.getClaimDataByTitle(this.ClaimTypes(this.FC_ClaimData(this.props.claiming.allClaims)))&&Object(N.jsx)(v.a,{dataLabels:[{title:"Total claim",icon:o.c,iconColor:"blue",count:this.getClaimDataByTitle(this.ClaimTypes(this.FC_ClaimData(this.props.claiming.allClaims))).count.all},{title:"Accepted Claim",icon:o.c,iconColor:"green",count:this.getClaimDataByTitle(this.ClaimTypes(this.FC_ClaimData(this.props.claiming.allClaims))).count.accepted},{title:"Rejected Claim",icon:o.c,iconColor:"yellow",count:this.getClaimDataByTitle(this.ClaimTypes(this.FC_ClaimData(this.props.claiming.allClaims))).count.rejected},{title:"Pending Claim",icon:o.c,iconColor:"gray",count:this.getClaimDataByTitle(this.ClaimTypes(this.FC_ClaimData(this.props.claiming.allClaims))).count.pending}],labelsOnRow:5,children:Object(N.jsx)("div",{className:"flex justify-center",children:Object(N.jsx)(_.a,{options:{labels:["Accepted","Rejected","Pending"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#d97724","#4b5563"]},series:[this.getClaimDataByTitle(this.ClaimTypes(this.FC_ClaimData(this.props.claiming.allClaims))).count.accepted,this.getClaimDataByTitle(this.ClaimTypes(this.FC_ClaimData(this.props.claiming.allClaims))).count.rejected,this.getClaimDataByTitle(this.ClaimTypes(this.FC_ClaimData(this.props.claiming.allClaims))).count.pending],width:210})})})]}),Object(N.jsx)(T,{ClaimTypes:this.ClaimTypes(this.FC_ClaimData(this.props.claiming.allClaims))})]})}}]),a}(c.Component),D=Object(d.b)((function(e){var t=e.auth,a=e.system_settings,s=e.sessionPlan,i=e.claiming,n=e.document,l=e.schoolLevels;return{auth:t,application_sessions:s.allSessionPlans,systemPositions:a.systemPositions,claiming:i,documentReducer:n,schoolLevels:l}}),{getAllClaims:u.rc,GetClaimingTypes:u.Kb,getAllApplications:u.qc,GetAllSessionPlans:p.d,loadEducationCategories:u.Jc,getDocumentCategory:m.i,getDocumentSubCategory:m.k,getDocumentFields:m.j,setSelectedClaimType:u.fd,FC_GetPositionsByInstitution:b.a,PushPopupAlert:u.Rb})(k)},683:function(e,t,a){"use strict";var s=a(4),i=a.n(s),n=a(50),l=a(1),c=function(e){e.title;var t=e.description,a=void 0===t?"Please Wait for the system to publish the sessions or contact the administrator":t,s=e.content,i=void 0===s?void 0:s;return Object(l.jsx)("div",{className:"w-full my-5",children:Object(l.jsxs)("section",{className:"py-10 flex flex-col items-center rounded border border-gray-300 bg-white text-2xl font-medium text-yellow-800 animate__animated animate__pulse",children:[Object(l.jsxs)("div",{className:"flex flex-col items-center",children:[Object(l.jsx)(n.r,{className:"w-32 h-32"}),a]}),i&&i,!1]})})};t.a=i.a.memo(c)},686:function(e,t,a){"use strict";a.d(t,"f",(function(){return p})),a.d(t,"d",(function(){return b})),a.d(t,"b",(function(){return x})),a.d(t,"e",(function(){return h})),a.d(t,"c",(function(){return j})),a.d(t,"g",(function(){return g})),a.d(t,"a",(function(){return f}));var s=a(5),i=a.n(s),n=a(7),l=a(10),c=a.n(l),r=a(6),o=a(8),d=a(16),u=a(14),m="".concat(o.a.AUTH,"/auth/user/access"),p=function(e){return function(){var t=Object(n.a)(i.a.mark((function t(a){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(o.a.AUTH,"/system/setting"));case 5:s=t.sent,console.log("=================getSystemSettings==================="),console.log(s),console.log("=================getSystemSettings==================="),a({type:r.a.GET_SYSTEM_SETTINGS,payload:s.data}),e(!1,""),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(n.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:r.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(n.a)(i.a.mark((function t(a){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(m,"/roleaccess"));case 5:s=t.sent,n=s.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),a({type:r.a.GET_TASK_ACCESS,payload:n}),e(!1,"",n),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(n.a)(i.a.mark((function t(a){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(o.a.APPLICATION,"/position"));case 5:s=t.sent,a({type:r.a.GET_POSTIONS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return console.log({deletePosition:e}),function(){var t=Object(n.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:r.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(n.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:r.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var a=Object(n.a)(i.a.mark((function a(s){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(!0,""),a.prev=1,Object(d.b)(),a.next=5,c.a.get("".concat(o.a.APPLICATION,"/position/instituteposition/").concat(e));case 5:n=a.sent,s({type:r.a.GET_POSTIONS,payload:n.data}),t(!1,"",n.data),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log({code_error:a.t0}),t(!1,Object(u.a)(a.t0));case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}},687:function(e,t,a){"use strict";a(4);var s=a(1);t.a=function(e){var t=function(){for(var t=[],a=0;a<e.cols;a++)t.push(a);return t.map((function(e){return Object(s.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(s.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()},Math.random()),Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()},Math.random()),Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()},Math.random())]})}},690:function(e,t,a){"use strict";a(4);var s=a(714),i=a(715),n=a(34),l=a(1);t.a=function(e){var t=e.fileData,a=e.fileName,c=e.btnName,r=void 0===c?"Excel":c,o=e.className,d=void 0===o?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":o,u=e.showIcon,m=void 0===u||u;return Object(l.jsxs)("button",{onClick:function(e){return function(e,t){var a={Sheets:{data:i.utils.json_to_sheet(e)},SheetNames:["data"]},n=i.write(a,{bookType:"xlsx",type:"array"}),l=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});s.saveAs(l,t+".xlsx")}(t,a)},className:d,children:[m&&Object(l.jsx)(n.j,{}),r]})}},693:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return l}));var s,i,n,l,c=a(30);!function(e){e.Physical="Physical",e.Virtual="Virtual",e.Default="Default"}(s||(s={})),function(e){e.INITIATED="initiated",e.CONFIRMED="confirmed",e.RECEIVED="received"}(i||(i={})),function(e){e.Title="title",e.Description="description",e.Files="files",e.email="email",e.names="names",e.phone_number="phone_number",e.position="position",e.relation="relation",e.src="src",e.year="year",e.company="company",e.category_subcategory_data="category_subcategory_data",e.others="others",e.start_year="start_year",e.end_year="end_year",e.School="School",e.expiration_date="expiration_date"}(n||(n={})),function(e){e.APPROVED="approved",e.REJECTED="rejected"}(l||(l={}));c.d.APPLICATION,c.d.DOCUMENT_VALIDATION,c.d.EXAMINATION,c.d.MARKS_PUBLICATION,c.d.PLACEMENT_TRANSFER},694:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var s=a(5),i=a.n(s),n=a(7),l=a(713),c=a(28),r=a.p+"static/media/mineduc.11a9ae1c.png";a(721);var o=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var a=1;a<=t;a++)e.setPage(a),e.text("Page "+String(a)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},d=function(){var e=Object(n.a)(i.a.mark((function e(t,a,s){var n,d,u,m,p,b,x,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s(!0),n=t.orientation?t.orientation:"p",d=20,20,185,(u=new l.default(n,"mm","a4")).setTextColor(95,95,95),u.setFontSize(28),u.addImage(r,"png",20,20,10,10),u.text("MINEDUC",32,28.5,void 0,"left"),u.setFontSize(26),u.text(t.title,u.internal.pageSize.getWidth()/2,42.7,void 0,"center"),u.setFontSize(20),u.text(t.institute,u.internal.pageSize.getWidth()/2,53.7,void 0,"center"),m=u.splitTextToSize(t.subject,145),u.setFontSize(16),p=63,u.setTextColor(95,95,95),u.text("".concat(t.subjectTitle,": "),d,p),b=u.getTextWidth("".concat(t.subjectTitle,": ")),u.setTextColor(38,38,38),x=0;x<m.length;x++)p>280&&(p=10,u.addPage()),u.text(m[x],d+b,p),p+=7;return u.setTextColor(95,95,95),u.text("Period: ",d,p+3),b=u.getTextWidth("Period: "),u.setTextColor(38,38,38),u.text(t.period,d+b,p+3),u.autoTable({html:a,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),u.setFontSize(12),h=u.lastAutoTable.finalY,u.text("Reported by: ".concat(t.doneBy),d,h+15),u.text("Report downloaded on "+Object(c.a)((new Date).toString()),d,h+23),o(u),e.next=35,u.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"),{returnPromise:!0}).then(s(!1));case 35:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}()},699:function(e,t,a){"use strict";var s=a(17),i=a(11),n=a(18),l=a(4),c=a.n(l),r=a(12),o=a(33),d=a(9),u=a(28),m=a(49),p=a(1),b=function(e){var t,a=new Date,s=[],l=Object(n.a)(e);try{for(l.s();!(t=l.n()).done;){var c=t.value,r=new Date(c.start_date),o=new Date(c.end_date);r.getTime()<=a.getTime()&&o.getTime()>=a.getTime()&&c.type_status===d.j.OPEN&&(s=[].concat(Object(i.a)(s),[c]))}}catch(u){l.e(u)}finally{l.f()}return s},x=function(e){var t,a,i=Object(l.useState)(null),n=Object(s.a)(i,2),c=n[0],d=n[1],x=Object(l.useState)(""),h=Object(s.a)(x,2),j=h[0],g=h[1];return Object(p.jsxs)("div",{className:"",children:[Object(p.jsx)("div",{className:"px-3",children:Object(p.jsx)("input",{onChange:function(e){return g(e.target.value)},type:"text",className:"py-3 px-4 w-full rounded border border-gray-400 mb-3",placeholder:"Search by year, name",disabled:null===e.allSession||0===e.allSession.length})}),Object(p.jsx)("div",{className:"bg-gray-100 px-3 pt-3 pb-2 rounded-b",children:null===e.allSession?Object(p.jsx)(o.a,{}):0===e.allSession.length?Object(p.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center mb-2 bg-white py-4",children:[Object(p.jsx)(r.Pb,{className:"text-6xl"}),Object(p.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(p.jsx)("span",{children:"No session found!"})})]}):Object(p.jsxs)("section",{children:[e.chooseAll&&Object(p.jsxs)("div",{className:"rounded border ".concat("all"===e.currentSelected?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2 flex flex-col md:flex-row items-start md:items-center md:justify-between"),children:[Object(p.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"===e.currentSelected?Object(p.jsx)(r.v,{className:"text-blue-500 text-4xl"}):Object(p.jsx)(r.Fb,{className:"text-gray-300 text-4xl"}),Object(p.jsx)("div",{className:"flex flex-col",children:Object(p.jsx)("div",{className:"text-gray-600 font-bold",children:"All session"})})]}),Object(p.jsx)("div",{onClick:function(){e.setSelectSession("all")},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"})]}),(t=e.allSession,a=j,Object(m.a)(t,a)).map((function(t,a){return Object(p.jsxs)("div",{className:"rounded border ".concat("all"!==e.currentSelected&&e.currentSelected._id===t._id?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2"),children:[Object(p.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between ",children:[Object(p.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"!==e.currentSelected&&e.currentSelected._id===t._id?Object(p.jsx)(r.v,{className:"text-blue-500 text-4xl"}):Object(p.jsx)(r.Fb,{className:"text-gray-300 text-4xl"}),Object(p.jsxs)("div",{className:"flex flex-col",children:[Object(p.jsx)("div",{className:"".concat("all"!==e.currentSelected&&e.currentSelected._id===t._id?"text-blue-600":"text-gray-600"," font-bold"),children:t.session_plan_name}),Object(p.jsxs)("div",{className:"text-sm text-gray-500",children:[Object(p.jsx)("span",{children:"Status: "}),Object(p.jsx)("span",{className:"".concat(!0===t.is_active?"text-gray-900 font-bold underline":"text-gray-500 italic"),children:!0===t.is_active?"Active":"Expired"})]})]})]}),Object(p.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(null===c||c._id!==t._id)&&Object(p.jsx)("div",{onClick:function(){return d(t)},className:"bg-gray-50 group-hover:bg-blue-100 font-semibold text-gray-400 group-hover:text-blue-600 rounded px-3 py-2 cursor-pointer",children:"Details"}),Object(p.jsx)("div",{onClick:function(){e.setSelectSession(t)},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"}),null!==c&&c._id===t._id&&Object(p.jsx)("div",{onClick:function(){return d(null)},className:"bg-red-100 group-hover:bg-red-200 font-semibold text-red-600 group-hover:text-red-800 rounded px-3 py-2 cursor-pointer",children:"Close"})]})]}),null!==c&&c._id===t._id&&Object(p.jsx)("div",{className:"bg-white rounded border border-blue-50 mt-2 animate__animated animate__fadeIn",children:Object(p.jsxs)("table",{className:"w-full",children:[Object(p.jsx)("thead",{className:"bg-blue-50",children:Object(p.jsxs)("tr",{className:"text-left",children:[Object(p.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(p.jsx)("th",{children:"Plan"}),Object(p.jsx)("th",{children:"Start date"}),Object(p.jsx)("th",{children:"Ending date"}),Object(p.jsx)("th",{children:"Status"})]})}),Object(p.jsx)("tbody",{className:"text-sm",children:null!==c&&c._id===t._id&&c.plans.length>0&&t.plans.map((function(e,a){return Object(p.jsxs)("tr",{className:"".concat(void 0!==b(t.plans).find((function(t){return t.type_key===e.type_key}))?"bg-blue-100 text-blue-600 font-bold":""," text-left border-b border-blue-50"),children:[Object(p.jsx)("td",{className:"px-3 py-1",children:a+1}),Object(p.jsx)("td",{children:e.type_title}),Object(p.jsx)("td",{children:Object(u.a)(e.start_date,"DD/MM/YYYY")}),Object(p.jsx)("td",{children:Object(u.a)(e.end_date,"DD/MM/YYYY")}),Object(p.jsx)("td",{children:e.type_status})]},a+1)}))})]})})]},a+1)}))]})})]})};t.a=c.a.memo(x)},701:function(e,t,a){"use strict";var s=a(17),i=a(4),n=a.n(i),l=a(707),c=a.n(l),r=a(1),o={borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},d=function(e){var t=Object(i.useState)(!0),a=Object(s.a)(t,2),n=a[0],l=a[1],d=Object(i.useState)({chart:{events:{dataPointSelection:function(t,a,s){console.log({labelClicked:s.w.config.labels[s.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(s.dataPointIndex,s.seriesIndex)}},stacked:!!e.stacked&&e.stacked},plotOptions:{bar:e.defaultBar?e.defaultBar:o},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"}}),u=Object(s.a)(d,2),m=u[0],p=u[1];return Object(i.useEffect)((function(){e.colors&&e.colors.length>0&&n?p({chart:{stacked:!!e.stacked&&e.stacked,events:{dataPointSelection:function(t,a,s){console.log({chartClicked:s.w.config.labels[s.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(s.dataPointIndex,s.seriesIndex)}},zoom:{enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:e.defaultBar?e.defaultBar:o},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"},colors:e.colors}):n&&p({chart:{stacked:!!e.stacked&&e.stacked,events:{dataPointSelection:function(t,a,s){console.log({labelClicked:s.w.config.labels[s.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(s.dataPointIndex,s.seriesIndex)}},zoom:{enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:e.defaultBar?e.defaultBar:o},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"}}),l(!1)}),[n,m,e]),n?Object(r.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):Object(r.jsx)("div",{className:"w-full",children:Object(r.jsx)(c.a,{options:m,series:e.series,type:"bar",width:"100%",height:e.chartHeight?e.chartHeight:void 0})})};t.a=n.a.memo(d)},711:function(e,t){},716:function(e,t){},717:function(e,t){},722:function(e,t,a){"use strict";var s=a(4),i=a.n(s),n=a(55),l=a(32),c=a(28),r=a(1),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",icon:n.r,iconColor:"indigo",count:0,countOver:void 0},t=e.icon;return Object(r.jsxs)("div",{className:"flex items-center px-6 py-4 bg-white w-full rounded-md space-x-2 mb-2 lg:mb-0 shadow-md",children:[Object(r.jsx)("div",{className:"p-3 rounded-full bg-".concat(e.iconColor,"-200 bg-opacity-75"),children:Object(r.jsx)(t,{className:"h-8 w-8 text-".concat(e.iconColor,"-600")})}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("h1",{className:"text-3xl font-semibold text-gray-700",children:[e.count<1e3?Object(l.g)(e.count):Object(c.h)(e.count)," ",e.countOver&&"/ "+Object(l.g)(e.countOver)]}),Object(r.jsx)("span",{className:"text-gray-500 text-lg",children:e.title})]})]})};t.a=i.a.memo(o)},724:function(e,t,a){"use strict";var s=a(4),i=a.n(s),n=a(722),l=a(1),c=function(e){var t=e.labelsOnRow&&e.labelsOnRow>4?e.labelsOnRow:4;return Object(l.jsxs)("div",{className:"grid 2xl:grid-cols-".concat(t," xl:grid-cols-").concat(t-1," lg:grid-cols-").concat(t-2," md:grid-cols-").concat(t-3," sm:grid-cols-2 grid-cols-1 gap-4 items-center mx-auto"),children:[e.children&&(e.childrenPosition&&"START"===e.childrenPosition||!e.childrenPosition)&&e.children,e.dataLabels.map((function(e,t){return Object(l.jsx)("section",{children:Object(l.jsx)(n.a,{title:e.title,icon:e.icon,iconColor:e.iconColor,count:e.count})},t+e.title)})),e.children&&e.childrenPosition&&"END"===e.childrenPosition&&e.children]})};t.a=i.a.memo(c)},725:function(e,t,a){"use strict";var s=a(4),i=a.n(s),n=a(707),l=a.n(n),c=a(1),r=function(e){return Object(c.jsx)("div",{className:"donut",children:Object(c.jsx)(l.a,{options:e.options,series:e.series,type:"donut",width:"".concat(e.width?e.width:"380")})})};t.a=i.a.memo(r)},875:function(e,t,a){"use strict";a.r(t),a.d(t,"reportClaimType",(function(){return A})),a.d(t,"ClaimingReport",(function(){return S}));var s=a(17),i=a(4),n=a(72),l=a(206),c=a(67),r=a(12),o=a(23),d=a(3),u=a(69),m=a(694),p=a(33),b=a(19),x=a(685),h=a(212),j=a(21),g=a(690),f=a(28),O=a(808),y=a(687),_=a(9),v=a(203),C=a(32),N=a(699),w=a(683),T=a(1),A=function(e){var t="all";switch(e){case _.g.APPLICATION:t=O.ClaimTypesEnum.application;break;case _.g.DOCUMENT_VALIDATION:t=O.ClaimTypesEnum.document;break;case _.g.EXAMINATION:t=O.ClaimTypesEnum.exam;break;case _.g.MARKS_PUBLICATION:t=O.ClaimTypesEnum.marks_publication;break;case _.g.PLACEMENT_TRANSFER:t=O.ClaimTypesEnum.placement;break;default:t="all"}return t},P=[{key:h.d.names,title:"Applicant Names",status:!0},{key:h.d.national_id,title:"National ID",status:!0},{key:h.d.gender,title:"Gender",status:!0},{key:h.d.phone,title:"Phone",status:!0},{key:h.d.claim_session,title:"Claim Session",status:!0},{key:h.d.education_category,title:"Education Institute",status:!0},{key:h.d.date,title:"Claim Date",status:!0},{key:h.d.decision,title:"Decision",status:!0},{key:h.d.claim_title,title:"Claim Title",status:!0},{key:h.d.claim_type,title:"Claim Type",status:!0},{key:h.d.claim_level,title:"Claim Level",status:!0}],S=Object(o.b)((function(e){var t=e.auth,a=e.sessionPlan,s=e.claiming,i=e.document,n=e.schoolLevels;return{auth:t,application_sessions:a.allSessionPlans,claiming:s,documentReducer:i,schoolLevels:n}}),{getAllClaims:u.g,GetClaimingTypes:u.a,getAllApplications:u.f,GetAllSessionPlans:v.d,loadEducationCategories:d.Jc,setSelectedClaimType:u.n,PushPopupAlert:d.Rb})((function(e){var t=Object(i.useState)(null),a=Object(s.a)(t,2),o=a[0],d=a[1],u=Object(i.useState)("all"),v=Object(s.a)(u,2),S=v[0],E=v[1],k=Object(i.useState)(!0),D=Object(s.a)(k,2),I=D[0],L=D[1],R=Object(i.useState)(!0),F=Object(s.a)(R,2),q=F[0],M=F[1],B=Object(i.useState)(!1),G=Object(s.a)(B,2),z=G[0],V=G[1],U=Object(i.useState)(!0),J=Object(s.a)(U,2),Y=J[0],H=J[1],W=Object(i.useState)(!0),X=Object(s.a)(W,2),K=X[0],Q=X[1],Z=Object(i.useState)(!1),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=Object(i.useState)(),se=Object(s.a)(ae,2),ie=se[0],ne=se[1],le=Object(i.useState)(""),ce=Object(s.a)(le,2),re=ce[0],oe=ce[1],de=Object(i.useState)(!1),ue=Object(s.a)(de,2),me=ue[0],pe=ue[1],be=Object(i.useState)("ASC"),xe=Object(s.a)(be,2),he=xe[0],je=xe[1],ge=Object(i.useState)(""),fe=Object(s.a)(ge,2),Oe=fe[0],ye=fe[1],_e=Object(i.useState)(null),ve=Object(s.a)(_e,2),Ce=ve[0],Ne=ve[1],we=Object(i.useState)(""),Te=Object(s.a)(we,2),Ae=Te[0],Pe=Te[1],Se=Object(i.useState)(P),Ee=Object(s.a)(Se,2),ke=Ee[0],De=Ee[1],Ie=Object(i.useState)(!0),Le=Object(s.a)(Ie,2),Re=Le[0],Fe=Le[1],qe=Object(i.useState)(null),Me=Object(s.a)(qe,2),Be=Me[0],Ge=Me[1],ze=Object(i.useState)(!1),Ve=Object(s.a)(ze,2),Ue=Ve[0],Je=Ve[1],Ye=Object(i.useState)("all"),He=Object(s.a)(Ye,2),We=He[0],Xe=He[1];if(Object(i.useEffect)((function(){if(null===e.schoolLevels.education_categories||0===e.schoolLevels.education_categories.length?e.loadEducationCategories(Q):Q(!1),null===e.claiming.claimTypes&&e.GetClaimingTypes((function(t,a){!1===t&&a.length>0&&e.PushPopupAlert({title:a,theme:j.a.danger})})),null===e.application_sessions?e.GetAllSessionPlans((function(t,a){t||(M(!1),L(!1),a.length&&e.PushPopupAlert({title:a,theme:j.a.danger}))})):q&&(L(!1),M(!1)),null===o&&!q&&e.application_sessions&&e.application_sessions.length>0){var t=e.application_sessions.find((function(e){return!0===e.is_active}));d(t||e.application_sessions[0])}null===e.claiming.allClaims&&null!==o?e.getAllClaims(2,o._id,(function(t,a){!t&&H(t),!1===t&&a.length&&e.PushPopupAlert({title:a,theme:j.a.danger})})):o&&Y&&H(!1)}),[Y,q,e,o]),!0===I)return Object(T.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."});if(e.application_sessions&&0===e.application_sessions.length)return Object(T.jsx)(w.a,{});var Ke,Qe,Ze=function(e){je(re===e&&"ASC"===he?"DESC":"ASC"),oe(e),pe(!0)},$e=function(){if(o){var t="Claim Report "+o.session_plan_name;Pe(t)}if(e.claiming.allClaims&&e.claiming.claimTypes){var a=[],s=1;for(var i in e.claiming.allClaims)if(Object.prototype.hasOwnProperty.call(e.claiming.allClaims,i))for(var n in e.claiming.allClaims[i].claims)if(Object.prototype.hasOwnProperty.call(e.claiming.allClaims[i].claims,n)){var l=e.claiming.allClaims[i].claims[n],c=Object(O.whichClaimType)(e.claiming.allClaims[i]),r={claim_id:s,names:e.claiming.allClaims[i].user.user_info.fname+" "+e.claiming.allClaims[i].user.user_info.lname,gender:e.claiming.allClaims[i].user.user_info.sex?"Male":"Female",national_id:e.claiming.allClaims[i].user.n_id,phone:e.claiming.allClaims[i].user.phone_number,email:e.claiming.allClaims[i].user.email,claim_type:c||"",claim_level:l.level,education_category:"",claim_session:o?o.session_plan_name:"",date:Object(f.a)(l.createdAt),decision:l.decision_taken_status?l.decision_taken_status:"PENDING",claim_title:e.claiming.allClaims[i].title};for(var d in ke)Object.prototype.hasOwnProperty.call(ke,d)&&(ke[d].status||delete r[ke[d].key]);a.push(r),s++}ne(a),a=[],s=1}},et=function(e){if(null===e)return null;var t=[],a=1;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s))for(var i in e[s].claims)if(Object.prototype.hasOwnProperty.call(e[s].claims,i)){var n=e[s].claims[i],l=Object(O.whichClaimType)(e[s]),c={claim_id:a,names:e[s].user.user_info.fname+" "+e[s].user.user_info.lname,gender:e[s].user.user_info.sex?"Male":"Female",national_id:e[s].user.n_id,phone:e[s].user.phone_number,email:e[s].user.email,claim_type:l||"",claim_level:n.level,education_category:e[s].institute_id&&!Object(C.f)(e[s].institute_id)?e[s].institute_id:null,claim_session:o?o.session_plan_name:"",date:Object(f.a)(n.createdAt),decision:n.decision_taken_status?n.decision_taken_status:"PENDING",claim_title:e[s].title?e[s].title:"Undefined"};t.push(c),a++}return t},tt=function(e){return e!==h.d.names&&e!==h.d.decision&&e!==h.d.claim_session&&e!==h.d.claim_type&&e!==h.d.date},at=function(e,t,a,s){var i=e;return"all"!==t&&(i=i.filter((function(e){return e.claim_type===t}))),"all"!==a&&(i=i.filter((function(e){return e.claim_level===a}))),"all"!==s&&(i=i.filter((function(e){return null===e.education_category||e.education_category===s.education_institute_id}))),i};return Object(T.jsxs)(i.Fragment,{children:[Object(T.jsxs)(x.b,{children:[Object(T.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(T.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===e.schoolLevels.education_categories||K?Object(T.jsx)(p.a,{}):0===e.schoolLevels.education_categories.length?Object(T.jsx)("span",{children:"No result found"}):Object(T.jsxs)(i.Fragment,{children:[Object(T.jsxs)("div",{onClick:function(){return Xe("all")},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"===We?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"===We?Object(T.jsx)(r.Eb,{}):Object(T.jsx)(r.Fb,{}),Object(T.jsx)("span",{children:"All"})]}),e.schoolLevels.education_categories.map((function(e,t){return Object(T.jsxs)("div",{onClick:function(){return Xe(e)},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat("all"!==We&&We.education_institute_id===e.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:["all"!==We&&We.education_institute_id===e.education_institute_id?Object(T.jsx)(r.Eb,{}):Object(T.jsx)(r.Fb,{}),Object(T.jsx)("span",{children:e.education_category_title})]},t+1)}))]})]}),Object(T.jsxs)("div",{className:"",children:[Object(T.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(T.jsxs)("div",{onClick:function(){return Je(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline  text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:[null!==o?"".concat(Object(C.b)(o.session_plan_name)," - ").concat(o.period):"Filter by period",Object(T.jsx)(l.e,{className:"text-3xl text-blue-600"})]})]}),Object(T.jsxs)("div",{className:"pt-1",children:[Object(T.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Claim types:"}),null===e.claiming.claimTypes||null===et(e.claiming.allClaims)?Object(T.jsx)(p.a,{}):function(e){var t=[{title:"All types",count:e.length,type:"all"}];return Object.values(_.g).forEach((function(a){a!==_.g.MARKS_PUBLICATION&&t.push({title:Object(C.a)(A(a)),count:e.length>0?e.filter((function(e){return e.claim_type===A(a)})).length:0,type:a})})),t}(et(e.claiming.allClaims)).map((function(t,a){return Object(T.jsx)("div",{onClick:function(){return e.setSelectedClaimType(A(t.type))},children:Object(T.jsx)(x.a,{title:t.title,count:t.count,active:(s=e.claiming.selectedClaimType,i=t.type,"all"===i&&"all"===s||"all"!==i&&"all"!==s&&i===s)})},t.title+a);var s,i}))]}),Object(T.jsxs)("div",{className:"pt-1",children:[Object(T.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Claim level:"}),null===e.claiming.claimTypes||null===et(e.claiming.allClaims)?Object(T.jsx)(p.a,{}):function(e){var t=[{title:"All levels",count:e.length,level:"all"}],a=[1,2],s=function(s){t.push({title:"Level "+a[s],count:e.filter((function(e){return e.claim_level===a[s]})).length,level:a[s]})};for(var i in a)s(i);return t}(et(e.claiming.allClaims)).map((function(e,t){return Object(T.jsx)("div",{onClick:function(){return E(e.level)},children:Object(T.jsx)(x.a,{title:e.title,count:e.count,active:e.level===S})},e.title+t)}))]})]}),Object(T.jsxs)("section",{children:[Object(T.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(T.jsx)("div",{className:"col-span-8",children:Object(T.jsx)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:Object(T.jsx)("span",{className:"text-3xl font-bold text-gray-700",children:"Claim report"})})}),Object(T.jsx)("div",{className:"col-span-4",children:Object(T.jsx)("div",{className:"float-right mt-2",children:e.claiming.allClaims&&e.claiming.allClaims.length>0&&Object(T.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(T.jsx)(n.e,{className:"text-2xl text-gray-500"}),Object(T.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(T.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200",disabled:I,onClick:function(){$e(),Ne({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(T.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 ".concat(ee&&"cursor-wait"),onClick:function(){return function(){if(document.querySelectorAll("#report_content tbody tr").length){if(o){var t=document.getElementById("report_content"),a={doneBy:e.auth.user.fname+" "+e.auth.user.lname,title:"Claim Report",subjectTitle:"Claim type",subject:"all"===e.claiming.selectedClaimType?"All Types":e.claiming.selectedClaimType,period:o.session_plan_name,footer:"Online Recruitment",institute:"all"===We?"All institute":We.education_category_title};t&&Object(m.a)(a,t,te)}}else e.PushPopupAlert({title:"Can't generate Report of empty Data",theme:j.a.warning})}()},disabled:I||ee,children:"PDF"})]})})})]}),Object(T.jsxs)("div",{className:"bg-white my-4",children:[Object(T.jsx)("div",{className:"w-full px-2 py-2",children:Object(T.jsx)("input",{onChange:function(e){return ye(e.target.value)},type:"text",value:Oe,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded focus:border-gray-800",disabled:null===e.claiming.allClaims||null===e.claiming.claimTypes||null===et(e.claiming.allClaims)||z})}),Object(T.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(T.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(T.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return Ze("names")},children:Object(T.jsxs)("div",{className:"flex items-center gap-1",children:["Applicant names ",Object(T.jsx)(n.j,{})]})}),Object(T.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(T.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return Ze("gender")},children:Object(T.jsxs)("div",{className:"flex items-center gap-1",children:["Gender ",Object(T.jsx)(n.j,{})]})}),Object(T.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(T.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return Ze("claim_title")},children:Object(T.jsxs)("div",{className:"flex items-center gap-1",children:["Claim Title ",Object(T.jsx)(n.j,{})]})}),Object(T.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return Ze("claim_type")},children:Object(T.jsxs)("div",{className:"flex items-center gap-1",children:["Claim Type ",Object(T.jsx)(n.j,{})]})}),Object(T.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return Ze("claim_level")},children:Object(T.jsxs)("div",{className:"flex items-center gap-1",children:["Claim Level ",Object(T.jsx)(n.j,{})]})}),Object(T.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return Ze("decision")},children:Object(T.jsxs)("div",{className:"flex items-center gap-1",children:["Status ",Object(T.jsx)(n.j,{})]})}),Object(T.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return Ze("date")},children:Object(T.jsxs)("div",{className:"flex items-center gap-1",children:["Date ",Object(T.jsx)(n.j,{})]})})]})}),Object(T.jsx)("tbody",{children:null===e.claiming.allClaims||null===e.claiming.claimTypes||z||null===et(e.claiming.allClaims)?Object(T.jsx)(y.a,{cols:10}):0===at(et(e.claiming.allClaims),e.claiming.selectedClaimType,S,We).length?Object(T.jsx)("tr",{children:Object(T.jsx)("td",{colSpan:10,className:"px-2 py-2",children:Object(T.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(T.jsx)(c.c,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(T.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"}),Object(T.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(T.jsxs)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:[Object(T.jsx)("li",{onClick:function(){return Je(!0)},className:"underline text-gray-500 cursor-pointer",children:"Filter by period"}),Object(T.jsx)("li",{className:"text-gray-400 italic",children:"or"}),Object(T.jsx)("li",{className:"text-gray-500",children:"Filter by Claim type"}),Object(T.jsx)("li",{className:"text-gray-400 italic",children:"or"}),Object(T.jsx)("li",{className:"text-gray-500",children:"Filter by Claim Level"})]})})]})})}):Object(f.r)(me,(Ke=at(et(e.claiming.allClaims),e.claiming.selectedClaimType,S,We),Qe=Oe,void 0===Qe||""===Qe?Ke:Ke.filter((function(e){var t;for(var a in e)if(t=!1,"names"!==a&&"gender"!==a&&"national_id"!==a&&"phone"!==a&&"email"!==a&&"claim_title"!==a&&"claim_type"!==a&&"claim_level"!==a&&"education_category"!==a&&"claim_session"!==a&&"date"!==a&&"decision"!==a||e[a]&&(t=e[a].toString().toLowerCase().indexOf(Qe.toLowerCase())>-1),t)break;return t}))),re,he).map((function(e,t){return Object(T.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(T.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(T.jsx)("td",{className:"px-2 py-2",children:e.names}),Object(T.jsx)("td",{className:"px-2 py-2",children:e.national_id}),Object(T.jsx)("td",{className:"px-2 py-2",children:e.gender}),Object(T.jsx)("td",{className:"px-2 py-2",children:e.phone}),Object(T.jsx)("td",{className:"px-2 py-2",children:e.claim_title}),Object(T.jsx)("td",{className:"px-2 py-2",children:e.claim_type}),Object(T.jsx)("td",{className:"px-2 py-2",children:"Level "+e.claim_level}),Object(T.jsx)("td",{className:"px-2 py-2",children:e.decision}),Object(T.jsx)("td",{className:"px-2 py-2",children:e.date})]},t+1)}))})]})]})]}),null!==Ce&&!0===Ce.status&&Object(T.jsx)(b.d,{title:Object(T.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(T.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",Ce.reportType," Report"]})]})}),backDrop:!0,theme:b.c.default,close:function(){return Ne(null)},backDropClose:!1,widthSizeClass:b.b.medium,displayClose:!0,padding:{title:!0},children:Object(T.jsxs)("div",{className:"px-6",children:[Object(T.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("label",{children:"Title"}),Object(T.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(Be&&"report_title"===Be.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:Ae,onChange:function(e){Ge(null),Pe(e.target.value)},disabled:I}),Be&&"report_title"===Be.element&&Object(T.jsx)("span",{className:"text-red-500",children:Be.msg})]}),Object(T.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(T.jsx)("label",{children:"Report content"}),Object(T.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:ke.map((function(e,t){return Object(T.jsxs)("div",{className:"flex items-center gap-1 ".concat(tt(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return tt(e.key)&&function(e){var t=ke.findIndex((function(t){return t.key===e})),a=ke;a[t].status=!a[t].status,De(a);var s=a.find((function(e){return!1===e.status}));Fe(!s),$e()}(e.key)},title:tt(e.key)?"":"Required for every report!",children:[e.status?Object(T.jsx)(r.t,{className:"w-6 h-6 text-blue-700"}):Object(T.jsx)(r.u,{className:"w-6 h-6"}),Object(T.jsx)("span",{children:e.title})]},t)}))}),Be&&"report_content"===Be.element&&Object(T.jsx)("span",{className:"text-red-500",children:Be.msg})]})]}),Object(T.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(T.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return function(e){var t=ke;for(var a in t)tt(t[a].key)&&(t[a].status=!e);De(t),Fe(!e),$e()}(Re)},children:[Re?Object(T.jsx)(r.t,{className:"w-6 h-6 text-blue-700"}):Object(T.jsx)(r.u,{className:"w-6 h-6"}),Object(T.jsx)("span",{children:"Select all"})]}),ie&&!I&&Object(T.jsx)(g.a,{fileData:ie,fileName:Ae,btnName:"Generate"})]})]})}),Ue&&Object(T.jsx)(b.d,{title:Object(T.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(T.jsx)(r.R,{className:"text-5xl text-blue-600"}),Object(T.jsx)("span",{className:"flex flex-col",children:"Choose a period"})]}),backDrop:!0,theme:b.c.default,close:function(){return null!==o&&Je(!1)},backDropClose:!0,widthSizeClass:b.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(T.jsx)(N.a,{allSession:e.application_sessions,setSelectSession:function(t){var a;"all"!==t&&d(t),"all"!==t&&(a=t._id,V(!0),e.getAllClaims(2,a,(function(t,a){!t&&V(!1),!1===t&&a.length&&e.PushPopupAlert({title:a,theme:j.a.danger})}))),"all"!==t&&Je(!1)},chooseAll:!1,currentSelected:o||"all"})})]})}))},927:function(e,t,a){"use strict";a.r(t),a.d(t,"adminDisplayClaimTitle",(function(){return ie})),a.d(t,"AdminClaimGetDocTitle",(function(){return ne})),a.d(t,"getApplicationById",(function(){return le})),a.d(t,"AdminClaim",(function(){return re}));var s,i=a(25),n=a(24),l=a(27),c=a(26),r=a(4),o=a.n(r),d=a(12),u=a(23),m=a(3),p=a(69),b=a(82),x=a(203),h=a(686),j=a(33),g=a(687),f=a(685),O=a(163),y=a(9),_=a(21),v=a(32),C=a(28),N=a(49),w=a(808),T=a(91),A=a(825),P=a(5),S=a.n(P),E=a(7),k=a(17),D=a(10),I=a.n(D),L=a(55),R=a(34),F=a(30),q=a(8),M=a(14),B=a(125),G=a(19),z=a(123),V=a(127),U=a(683),J=a(1),Y=function(e){var t=Object(r.useState)(null),a=Object(k.a)(t,2),s=a[0],i=a[1],n=Object(r.useState)(!1),l=Object(k.a)(n,2),c=l[0],o=l[1],d=Object(r.useState)(!1),u=Object(k.a)(d,2),m=u[0],p=u[1],b=Object(r.useState)(!1),x=Object(k.a)(b,2),h=x[0],g=x[1],f=function(t,a,s){if(!Object(v.f)(t)){var i=e.userDocs.filter((function(e){return e.category_id===t}));if(Object(v.f)(a)||(i=i.filter((function(e){return"approved"===e.validation_status&&e.category_id===t&&e.sub_category_id===a}))),!Object(v.f)(s))return i.find((function(e){return"approved"===e.validation_status&&e.category_id===t&&e.category_subcategory_data===s}))}};return Object(J.jsxs)("div",{children:[Object(J.jsx)(z.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Qualification",alignText:"left",padding:"p-3"},{columnTitle:"Status",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:function(){var t=e.requirements;return 0===t.length?[Object(J.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(J.jsx)("td",{className:"p-3 text-center",colSpan:3,children:"No Data Found"})},153)]:t.map((function(e,t){return Object(J.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 ".concat(!f(e.category_id,e.subcategory_id,e.field_id)&&"text-yellow-800"),children:[Object(J.jsxs)("td",{className:"p-3 text-left whitespace-nowrap",children:[t+1,")"]}),Object(J.jsx)("td",{className:"p-3 text-left",children:Object(J.jsx)("span",{children:Object(v.f)(e.field_id)?"Any "+e.subcategory_title:e.subcategory_title+" in "+e.field_title})}),Object(J.jsx)("td",{className:"p-3 text-left text-lg italic",children:f(e.category_id,e.subcategory_id,e.field_id)?"Found":"Not found"}),Object(J.jsx)("td",{className:"p-3 text-right text-lg italic",children:f(e.category_id,e.subcategory_id,e.field_id)&&Object(J.jsx)("button",{className:"bg-gray-200 hover:bg-gray-300 rounded font-medium px-2 py-1 focus:outline-none",onClick:function(){i(f(e.category_id,e.subcategory_id,e.field_id)),o(!0)},children:"View Doc"})})]},t+e.field_id)}))},pagination:!1,search:!1,thColor:"gray"}),s&&Object(J.jsxs)(G.d,{backDrop:!0,theme:G.c.default,close:function(){i(null),o(!1)},backDropClose:!1,widthSizeClass:G.b.extraLarge,displayClose:!0,padding:{title:!0,body:!1,footer:!1},title:"Doc view",children:[h&&Object(J.jsx)(U.a,{title:"Error",description:Object(C.m)(Object(C.k)(s.files))?"Failed to load image":"Failed to load pdf"}),c&&!h&&Object(J.jsx)(j.a,{}),s.files&&s.files.length>0?Object(C.m)(Object(C.k)(s.files))?Object(J.jsx)("div",{className:"relative",children:Object(J.jsx)("img",{src:q.a.AUTH_FILES+s.files,alt:"",className:"w-full md:w-auto h-auto md:max-h-screen mx-auto ".concat(c&&"hidden"),id:"doc-img",onLoad:function(){return o(!1)},onDoubleClick:function(){m?(Object(C.j)("doc-img","CLOSE"),p(!1)):(p(!0),Object(C.j)("doc-img","OPEN"))}})}):Object(J.jsx)(V.a,{file_url:q.a.AUTH_FILES+s.files,class_name:"w-full h-screen md:max-h-screen mx-auto ".concat(c&&"hidden"),frame_title:"application PDF file view",setLoadingFile:o,setLoadingError:g}):Object(J.jsxs)("div",{className:"text-center text-red-400 py-8 animate__animated animate__fadeIn",children:[Object(J.jsx)(B.g,{className:"mx-auto w-40 h-40"}),Object(J.jsx)("span",{className:"font-semibold text-4xl",children:"No Files Provided"})]})]})]})},H=o.a.memo(Y),W=a(739),X=a(208),K=function(e,t){var a=[],s=[],i=[],n=[],l=[],c=e.requirements,r=function(e){var r=c[e],o=t.documentCategory?t.documentCategory.find((function(e){return e.user_detail_category_id===r.category.user_detail_category_id}))&&{title:t.documentCategory.find((function(e){return e.user_detail_category_id===r.category.user_detail_category_id})).title,user_detail_category_id:t.documentCategory.find((function(e){return e.user_detail_category_id===r.category.user_detail_category_id})).user_detail_category_id}:{title:"",user_detail_category_id:r.category.user_detail_category_id},d=t.documentSubCategory&&t.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===r.subcategory.user_detail_subcategory_id}))?{title:t.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===r.subcategory.user_detail_subcategory_id})).title,user_detail_subcategory_id:t.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===r.subcategory.user_detail_subcategory_id})).user_detail_subcategory_id,category_id:t.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===r.subcategory.user_detail_subcategory_id})).category_id}:{title:"",user_detail_subcategory_id:r.subcategory.user_detail_subcategory_id,category_id:""};if(o){var u=function(e){var s=t.documentFields&&t.documentFields.find((function(t){return t._id===r.position_requirement[e]._id}))?{title:t.documentFields.find((function(t){return t._id===r.position_requirement[e]._id})).title,_id:t.documentFields.find((function(t){return t._id===r.position_requirement[e]._id}))._id,required:r.position_requirement[e].required}:{title:"",_id:r.position_requirement[e]._id,required:r.position_requirement[e].required};a.push({category_id:o.user_detail_category_id,category_title:o.title,subcategory_id:d.user_detail_subcategory_id,subcategory_title:d.title,subcategory_required:r.required,field_title:s.title,field_id:s._id,required:s.required})};for(var m in r.position_requirement)u(m);i.includes(o.user_detail_category_id)||(i.push(o.user_detail_category_id),s.push({category_id:o.user_detail_category_id,category_title:o.title,subcategory_id:"",subcategory_title:"",subcategory_required:r.required,field_title:"",field_id:"",required:!1})),l.includes(d.user_detail_subcategory_id)||(l.push(d.user_detail_subcategory_id),n.push({category_id:d.category_id,category_title:"",subcategory_id:d.user_detail_subcategory_id,subcategory_title:d.title,subcategory_required:r.required,field_title:"",field_id:"",required:!1}))}};for(var o in c)r(o);return{PositionsTemp:a,DistinctCategoriesTemp:s,DistinctSubCategoriesTemp:n}},Q=o.a.memo(Object(u.b)((function(e){return{auth:e.auth}}),{evaluateClaim:p.d,reAssessApplication:m.Sc,PushPopupAlert:m.Rb})((function(e){var t=Object(r.useState)(!0),a=Object(k.a)(t,2),s=(a[0],a[1],Object(r.useState)(!1)),i=Object(k.a)(s,2),n=i[0],l=i[1],c=Object(r.useState)(null),o=Object(k.a)(c,2),u=o[0],p=o[1],b=Object(r.useState)(null),x=Object(k.a)(b,2),h=x[0],j=x[1],g=Object(r.useState)(""),f=Object(k.a)(g,2),N=f[0],w=f[1],T=function(){var t=Object(E.a)(S.a.mark((function t(){var a,s,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u){t.next=3;break}return j({element:"action",msg:"Action is required!"}),t.abrupt("return",l(!1));case 3:if(!Object(v.f)(N)){t.next=6;break}return j({element:"comment",msg:"Reason of rejection is required"}),t.abrupt("return",l(!1));case 6:if(!(a=e.thisClaim.claims.find((function(t){return t.level===e.thisClaim.claim_level})))){t.next=35;break}return l(!0),s={sub_claim_id:a._id,evaluation_comment:N,evaluated_by:e.auth.user.user_id,decision_taken_status:u,evaluator_name:e.auth.user.fname+" "+e.auth.user.lname,evaluator_email:e.auth.user.email},console.log("=================claimResponseBody==================="),console.log({subClaim:a,api_body:s}),console.log("=================claimResponseBody==================="),t.prev=13,t.next=16,I.a.put("".concat(q.a.CLAIMING,"/user/evaluate/").concat(e.thisClaim._id),s);case 16:if(!(i=t.sent)){t.next=28;break}if(console.log("===================================="),console.log({evaluate_claim_res:i}),console.log("===================================="),e.evaluateClaim(i.data),u!==y.a.ACCEPTED){t.next=25;break}return t.next=25,P();case 25:e.PushPopupAlert({title:"Claim responded successfully!",theme:_.a.success}),w(""),p(null);case 28:t.next=34;break;case 30:t.prev=30,t.t0=t.catch(13),console.error(t.t0),e.PushPopupAlert({title:Object(M.a)(t.t0),theme:_.a.danger});case 34:l(!1);case 35:case"end":return t.stop()}}),t,null,[[13,30]])})));return function(){return t.apply(this,arguments)}}(),A=function(t){if(e.claimReasons)return e.claimReasons.find((function(e){return e.id===t}))},P=function(){var t=Object(E.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.patch("".concat(q.a.APPLICATION,"/apply/tolerateappl/").concat(e.thisClaim.claiming_on_id),{user_id:e.auth.user.user_id,email:e.thisClaim.user.email,phone_number:e.thisClaim.user.phone_number,comment:N,application_status:F.a.Shortlisted});case 3:t.sent.data&&e.reAssessApplication({application_id:e.thisClaim.claiming_on_id,application_status:F.a.Shortlisted}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error({code_error:t.t0}),Object(m.Rb)({title:Object(M.a)(t.t0),theme:_.a.danger});case 11:l(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),D=function(t){return e.systemPositions.find((function(e){return e.position_id===t}))};return Object(J.jsxs)("section",{children:[Object(J.jsxs)("div",{className:"w-full py-1 divide-y-2 space-y-4",children:[Object(J.jsxs)("section",{className:"flex flex-col",children:[Object(J.jsxs)("div",{className:"flex items-start mb-4 -mt-2 pb-3 px-4 bg-white",children:[Object(J.jsx)("div",{className:"w-auto",children:Object(J.jsx)("img",{src:Object(C.c)(e.thisClaim.user.user_info.photo),className:"w-auto object-center object-cover h-32 rounded-lg",alt:""})}),Object(J.jsxs)("section",{className:"w-full",children:[Object(J.jsxs)("div",{className:"flex items-center",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Applicant:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.user_info.fname+" "+e.thisClaim.user.user_info.lname})]}),!1]}),Object(J.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"NID:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.n_id})]}),Object(J.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Sex:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.user_info.sex})]}),Object(J.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Phone:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.phone_number})]}),Object(J.jsxs)("div",{className:"flex items-center gap-2 px-3",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Email:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.email})]})]})]}),Object(J.jsx)("section",{className:"w-full mb-4 bg-white px-4 py-2 rounded",children:Object(J.jsxs)("div",{className:"bg-white w-full",children:[Object(J.jsx)("div",{className:"text-gray-800 text-2xl font-bold",children:"Position Details"}),Object(J.jsx)("div",{className:"flex items-center",children:Object(J.jsxs)("div",{className:"flex items-center gap-2",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Name:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-2xl",children:D(e.thisApplication.position)?D(e.thisApplication.position).position_title:"Position not found"})]})}),Object(J.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"School level:"}),Object(J.jsx)("span",{className:"font-semibold",children:D(e.thisApplication.position)?D(e.thisApplication.position).school_level_id.school_level_name:""})]}),Object(J.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Institute:"}),Object(J.jsx)("span",{className:"font-semibold",children:D(e.thisApplication.position)?D(e.thisApplication.position).education_institute_id.education_category_title:""})]}),Object(J.jsxs)("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Exams:"}),Object(J.jsx)("span",{className:"flex items-center gap-2",children:D(e.thisApplication.position)?D(e.thisApplication.position).courses.map((function(t,a){return Object(J.jsxs)("div",{className:"flex items-center gap-1",children:[Object(J.jsx)("span",{className:"font-semibold",children:t.course_name}),Object(J.jsxs)("span",{className:"text-gray-600",children:["(",t.course_code,")"]}),a!==D(e.thisApplication.position).courses.length-1&&","]},a+t.course_id)})):Object(J.jsx)(O.b,{theme:O.a.Dark,value:"No courses found"})})]}),Object(J.jsx)("div",{className:"text-gray-800 text-2xl font-bold my-2",children:"Position competences"}),Object(J.jsx)("div",{className:"my-3",children:Object(J.jsx)(X.a,{competence:D(e.thisApplication.position)?D(e.thisApplication.position).description:""})}),Object(J.jsx)("div",{className:"text-gray-800 text-2xl font-bold my-2",children:"Position Requirements"}),D(e.thisApplication.position)&&D(e.thisApplication.position).requirements.length>0?K(D(e.thisApplication.position),e.documentCategories).DistinctCategoriesTemp.map((function(t,a){return Object(J.jsxs)("div",{className:"bg-gray-100props.thisApplication.position rounded p-2",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2 text-2xl text-gray-500 font-bold",children:[Object(J.jsx)(d.Zb,{}),Object(J.jsx)("span",{children:t.category_title})]}),Object(J.jsx)("div",{className:"border bg-white mt-1",children:Object(J.jsx)(H,{requirements:K(D(e.thisApplication.position),e.documentCategories).PositionsTemp.filter((function(e){return e.category_id===t.category_id})),userDocs:e.thisClaim.user.details})})]},a+t.category_id)})):Object(J.jsx)(O.b,{theme:O.a.Dark,value:"No requirements"})]})}),Object(J.jsxs)("section",{className:"px-4 py-2 bg-white rounded",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Status:"}),Object(J.jsx)("span",{className:"font-bold ".concat(e.thisClaim.previous?e.thisClaim.previous.status===F.a.Rejected:e.thisApplication.application_status===F.a.Rejected?"text-yellow-900":"text-blue-600"," rounded px-3 py-1"),children:e.thisClaim.previous?Object(v.a)(e.thisClaim.previous.status):Object(v.a)(e.thisApplication.application_status)})]}),!1,Object(J.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Date:"}),Object(J.jsx)("span",{className:"font-bold text-gray-900 py-1",children:Object(C.a)(e.thisApplication.createdAt)})]}),Object(J.jsxs)("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Reason:"}),Object(J.jsx)("span",{className:"font-normal",dangerouslySetInnerHTML:{__html:e.thisClaim.previous?e.thisClaim.previous.reason:e.thisApplication.override_by.comment}})]})]})]}),e.thisClaim.claims.length>0&&e.thisClaim.claims.map((function(t,a){return Object(J.jsxs)("section",{className:"flex flex-col px-4 pt-2 pb-3 rounded bg-white",children:[Object(J.jsxs)("div",{className:"text-gray-700 italic font-bold",children:["Claim Comment (level ",a+1,")"]}),Object(J.jsxs)("div",{className:"flex flex-col items-start gap-2 mt-1 border rounded px-4 py-1 bg-gray-50",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2 bg-blue-100 rounded py-1 px-2",children:[Object(J.jsx)(d.T,{}),A(e.thisClaim.default_claim_resaons)?A(e.thisClaim.default_claim_resaons).reason:""]}),Object(J.jsx)("p",{children:t.reason}),Object(J.jsx)("span",{className:"text-gray-600 text-xs",children:Object(C.q)(t.createdAt)})]}),Object(W.b)(e.thisClaim,t.level)&&Object(J.jsxs)("section",{className:"mt-4",children:[Object(J.jsxs)("span",{className:"text-gray-700 italic font-semibold",children:["Response (level ",a+1,")"]}),Object(J.jsxs)("div",{className:"border-t-2",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Status:"}),Object(J.jsx)("span",{className:"font-bold ".concat(t.decision_taken_status===y.a.REJECTED?"text-yellow-900":"text-blue-600"," rounded px-3 py-1"),children:Object(v.a)(t.decision_taken_status.toLocaleLowerCase())})]}),Object(J.jsxs)("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Reason:"}),Object(J.jsx)("span",{className:"font-normal",dangerouslySetInnerHTML:{__html:t.evaluation_comment}})]})]})]})]},a+t._id)}))]}),!u&&Object(J.jsxs)("section",{className:"flex items-center justify-between bg-gray-50 rounded mt-3",children:[Object(J.jsx)("div",{className:"mx-4 my-4",children:Object(J.jsx)("span",{className:"".concat(e.thisClaim.last_claim_status===y.b.PENDING?"text-yellow-700":e.thisClaim.last_claim_status===y.b.DELETED?"text-red-700":"text-green-700"," italic font-semibold"),children:Object(v.a)(e.thisClaim.last_claim_status.toLocaleLowerCase())})}),e.thisClaim.last_claim_status===y.b.PENDING&&Object(J.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[Object(J.jsxs)("button",{className:"px-4 py-2 font-semibold text-red-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-red-700 hover:bg-red-800",onClick:function(){p(y.a.REJECTED)},children:[Object(J.jsx)(d.p,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Reject"})]}),Object(J.jsxs)("button",{className:"px-4 py-2 font-semibold text-blue-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-blue-700 hover:bg-blue-800",onClick:function(){p(y.a.ACCEPTED)},children:[Object(J.jsx)(L.i,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Accept"})]})]})]}),u&&Object(J.jsxs)("section",{className:"my-5 overflow-x-auto",children:[Object(J.jsxs)("div",{className:"italic text-gray-700 text-base my-1 mx-2",children:["Selected decision:"," ",Object(J.jsx)("span",{className:"font-semibold text-lg ".concat(u===y.a.ACCEPTED?"text-blue-700":"text-yellow-800"),children:u===y.a.ACCEPTED?"Approved":"Rejected"})]}),Object(J.jsxs)("div",{className:"flex flex-col md:flex-row items-end md:items-start gap-1 w-full",children:[Object(J.jsxs)("div",{className:"w-full px-2",children:[Object(J.jsx)("textarea",{placeholder:"Reason of your decision...",cols:50,rows:3,className:"border border-".concat(h&&"comment"===h.element?"red":"gray","-400 rounded px-3 py-1 w-full focus:outline-none"),style:{resize:"none"},value:N,onChange:function(e){w(e.target.value),j(null)},disabled:n}),h&&"comment"===h.element&&Object(J.jsx)("p",{className:"text-red-800",children:h.msg})]}),Object(J.jsxs)("div",{className:"flex flex-row md:flex-col gap-1 max-w-full px-2",children:[Object(J.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",onClick:function(){w(""),p(null),j(null)},disabled:n,children:[Object(J.jsx)(R.b,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Back"})]}),Object(J.jsx)("button",{className:"bg-blue-700 hover:bg-blue-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",disabled:n,onClick:function(){return window.confirm("Are you sure you want to ".concat(u===y.a.ACCEPTED?"approve":"rejected"," this document?"))&&T()},children:n?Object(J.jsx)("div",{className:"",children:"Loading..."}):Object(J.jsxs)("div",{className:"inline-flex items-center space-x-2 gap-1",children:[Object(J.jsx)(L.i,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Confirm"})]})})]})]})]})]})}))),Z=a(693),$=o.a.memo(Object(u.b)((function(e){return{auth:e.auth}}),{evaluateClaim:p.d,verifyDocument:b.o,PushPopupAlert:m.Rb})((function(e){var t=function(){var t=Object(E.a)(S.a.mark((function t(){var s,i,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.actionTaken){t.next=3;break}return e.setFormError({element:"action",msg:"Action is required!"}),t.abrupt("return",e.setLoadingRequest(!1));case 3:if(!Object(v.f)(e.responseMsg)){t.next=6;break}return e.setFormError({element:"comment",msg:"Reason of rejection is required"}),t.abrupt("return",e.setLoadingRequest(!1));case 6:if(!(s=e.thisClaim.claims.find((function(t){return t.level===e.thisClaim.claim_level})))){t.next=30;break}return e.setLoadingRequest(!0),i={sub_claim_id:s._id,evaluation_comment:e.responseMsg,evaluated_by:e.auth.user.user_id,decision_taken_status:e.actionTaken,evaluator_name:e.auth.user.fname+" "+e.auth.user.lname,evaluator_email:e.auth.user.email},t.prev=10,t.next=13,I.a.put("".concat(q.a.CLAIMING,"/user/evaluate/").concat(e.thisClaim._id),i);case 13:if(!(n=t.sent)){t.next=23;break}if(console.log({evaluate_claim_res:n}),e.evaluateClaim(n.data),e.actionTaken!==y.a.ACCEPTED){t.next=20;break}return t.next=20,a();case 20:e.PushPopupAlert({title:"Claim responded successfully!",theme:_.a.success}),e.setResponseMsg(""),e.setActionTaken(null);case 23:t.next=29;break;case 25:t.prev=25,t.t0=t.catch(10),console.error(t.t0),e.PushPopupAlert({title:Object(M.a)(t.t0),theme:_.a.danger});case 29:e.setLoadingRequest(!1);case 30:case"end":return t.stop()}}),t,null,[[10,25]])})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(E.a)(S.a.mark((function t(){var a,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={user_id:e.thisClaim.user.user_id,doc_id:e.thisClaim.claiming_on_id,validation_status:e.actionTaken===y.a.ACCEPTED?Z.a.APPROVED:Z.a.REJECTED,validated_by:{user_id:e.auth.user.user_id,comment:e.responseMsg,validation_status:e.actionTaken===y.a.ACCEPTED?Z.a.APPROVED:Z.a.REJECTED},in_education:!1,disability:!1,expiration_date:"this.state.expiration_date"},i={user_id:e.thisClaim.user.user_id,doc_id:e.thisClaim.claiming_on_id,validation_status:e.actionTaken===y.a.ACCEPTED?Z.a.APPROVED:Z.a.REJECTED,validated_by:{user_id:e.auth.user.user_id,comment:e.responseMsg,validation_status:e.actionTaken===y.a.ACCEPTED?Z.a.APPROVED:Z.a.REJECTED,date:""},in_education:!1,disability:!1,expiration_date:"this.state.expiration_date"},t.prev=2,t.next=5,I.a.post("".concat(q.a.USER,"/docs/validateuserdoc"),a);case 5:if(!t.sent){t.next=10;break}return e.verifyDocument(i),t.next=10,s(e.thisClaim.user.user_id);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0),e.PushPopupAlert({title:Object(M.a)(t.t0),theme:_.a.danger});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(E.a)(S.a.mark((function t(a){var s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.patch("".concat(q.a.APPLICATION,"/apply/doccheckshortlist/").concat(a));case 3:s=t.sent,console.log({res:s}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error({error:t.t0}),e.PushPopupAlert({title:Object(M.a)(t.t0),theme:_.a.danger});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),i=function(t){if(e.claimReasons)return e.claimReasons.find((function(e){return e.id===t}))};return Object(J.jsxs)("section",{className:"",children:[Object(J.jsxs)("div",{className:"w-full bg-white px-4 py-1 divide-y-2 space-y-2",children:[Object(J.jsxs)("section",{className:"flex flex-col",children:[Object(J.jsxs)("div",{className:"flex items-center justify-between",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Names:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.user_info.fname+" "+e.thisClaim.user.user_info.lname})]}),Object(J.jsx)("button",{type:"button",className:"bg-blue-200 hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 py-1 px-2 mr-1 rounded text-sm",onClick:function(){return e.setViewImage(!e.viewImage)},children:e.viewImage?"Hide":"View"})]}),Object(J.jsxs)("div",{className:"flex items-center gap-2",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Title:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-2xl",children:e.thisClaim.user.details.filter((function(e){return"waiting"!==e.validation_status})).length>0?ie(e.documentCategories,e.thisClaim.user.details.filter((function(e){return"waiting"!==e.validation_status})),e.thisClaim):"-"})]}),Object(J.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Status:"}),Object(J.jsx)("span",{className:"font-bold text-yellow-900 rounded px-3 py-1",children:e.thisClaim.previous?Object(v.a)(e.thisClaim.previous.status):Object(v.a)(e.thisDoc.validation_status)})]}),Object(J.jsxs)("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Reason:"}),Object(J.jsx)("span",{className:"font-normal",children:e.thisClaim.previous?e.thisClaim.previous.reason:e.thisDoc.validated_by.commet})]}),e.viewImage&&Object(J.jsx)("div",{className:"w-full my-1 animate__animated animate__fadeIn",children:Object(J.jsx)("img",{src:"".concat(q.a.AUTH_FILES,"/").concat(e.thisDoc.files),alt:"doc file",className:"w-full animate__animated animate__fadeIn"})})]}),e.thisClaim.claims.length>0&&e.thisClaim.claims.map((function(t,a){return Object(J.jsxs)("section",{className:"flex flex-col px-2 pt-3",children:[Object(J.jsxs)("div",{className:"text-gray-700 italic font-bold",children:["Claim Comment (level ",a+1,")"]}),Object(J.jsxs)("div",{className:"flex flex-col items-start gap-2 mt-1 border rounded px-4 py-1 bg-gray-50",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2 bg-blue-100 rounded py-1 px-2",children:[Object(J.jsx)(d.T,{}),i(e.thisClaim.default_claim_resaons)?i(e.thisClaim.default_claim_resaons).reason:""]}),Object(J.jsx)("p",{children:t.reason}),Object(J.jsx)("span",{className:"text-gray-500 text-xs",children:Object(C.q)(t.createdAt)})]}),Object(W.b)(e.thisClaim,t.level)&&Object(J.jsxs)("section",{className:"mt-4",children:[Object(J.jsxs)("span",{className:"text-gray-700 italic font-semibold",children:["Response (level ",a+1,")"]}),Object(J.jsxs)("div",{className:"border-t-2",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Status:"}),Object(J.jsx)("span",{className:"font-bold ".concat(t.decision_taken_status===y.a.REJECTED?"text-yellow-900":"text-blue-600"," rounded px-3 py-1"),children:Object(v.a)(t.decision_taken_status.toLocaleLowerCase())})]}),Object(J.jsxs)("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Reason:"}),Object(J.jsx)("span",{className:"font-normal",children:t.evaluation_comment})]})]})]})]},a+t._id)}))]}),!e.actionTaken&&Object(J.jsxs)("section",{className:"flex items-center justify-between bg-gray-50 rounded mt-3",children:[Object(J.jsx)("div",{className:"mx-4",children:Object(J.jsx)("span",{className:"".concat(e.thisClaim.last_claim_status===y.b.PENDING?"text-yellow-700":e.thisClaim.last_claim_status===y.b.DELETED?"text-red-700":"text-green-700"," italic font-semibold"),children:Object(v.a)(e.thisClaim.last_claim_status.toLocaleLowerCase())})}),e.thisClaim.last_claim_status===y.b.PENDING&&Object(J.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[Object(J.jsxs)("button",{className:"px-4 py-2 font-semibold text-red-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-red-700 hover:bg-red-800",onClick:function(){e.setActionTaken(y.a.REJECTED)},children:[Object(J.jsx)(d.p,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Reject"})]}),Object(J.jsxs)("button",{className:"px-4 py-2 font-semibold text-blue-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-blue-700 hover:bg-blue-800",onClick:function(){e.setActionTaken(y.a.ACCEPTED)},children:[Object(J.jsx)(L.i,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Accept"})]})]})]}),e.actionTaken&&Object(J.jsxs)("section",{className:"my-5 overflow-x-auto",children:[Object(J.jsxs)("div",{className:"italic text-gray-700 text-base my-1 mx-2",children:["Selected decision:"," ",Object(J.jsx)("span",{className:"font-semibold text-lg ".concat(e.actionTaken===y.a.ACCEPTED?"text-blue-700":"text-yellow-800"),children:e.actionTaken===y.a.ACCEPTED?"Approved":"Rejected"})]}),Object(J.jsxs)("div",{className:"flex flex-col md:flex-row items-end md:items-start gap-1 w-full",children:[Object(J.jsxs)("div",{className:"w-full px-2",children:[Object(J.jsx)("textarea",{placeholder:"Reason of your decision...",cols:50,rows:3,className:"border border-".concat(e.formError&&"comment"===e.formError.element?"red":"gray","-400 rounded px-3 py-1 w-full focus:outline-none"),style:{resize:"none"},value:e.responseMsg,onChange:function(t){e.setResponseMsg(t.target.value),e.setFormError(null)},disabled:e.loadingRequest}),e.formError&&"comment"===e.formError.element&&Object(J.jsx)("p",{className:"text-red-800",children:e.formError.msg})]}),Object(J.jsxs)("div",{className:"flex flex-row md:flex-col gap-1 max-w-full px-2",children:[Object(J.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",onClick:function(){e.setResponseMsg(""),e.setActionTaken(null),e.setFormError(null)},disabled:e.loadingRequest,children:[Object(J.jsx)(R.b,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Back"})]}),Object(J.jsx)("button",{className:"bg-blue-700 hover:bg-blue-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",disabled:e.loadingRequest,onClick:function(){return window.confirm("Are you sure you want to ".concat(e.actionTaken===y.a.ACCEPTED?"approve":"rejected"," this document?"))&&t()},children:e.loadingRequest?Object(J.jsx)("div",{className:"",children:"Loading..."}):Object(J.jsxs)("div",{className:"inline-flex items-center space-x-2 gap-1",children:[Object(J.jsx)(L.i,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Confirm"})]})})]})]})]})]})}))),ee=a(143),te=a(213);!function(e){e.profile="Applicant Profile",e.exam="Exam Details"}(s||(s={}));var ae=o.a.memo(Object(u.b)((function(e){return{auth:e.auth,questionTypes:e.questionTypes}}),{loadQuestionTypes:m.Qc,evaluateClaim:p.d,PushPopupAlert:m.Rb})((function(e){var t=Object(r.useState)(!1),a=Object(k.a)(t,2),i=a[0],n=a[1],l=Object(r.useState)(!0),c=Object(k.a)(l,2),o=c[0],u=c[1],m=Object(r.useState)(null),p=Object(k.a)(m,2),b=p[0],x=p[1],h=Object(r.useState)(null),g=Object(k.a)(h,2),f=g[0],O=g[1],N=Object(r.useState)(""),w=Object(k.a)(N,2),T=w[0],A=w[1],P=Object(r.useState)(0),D=Object(k.a)(P,2),F=D[0],B=D[1],G=Object(r.useState)(s.profile),z=Object(k.a)(G,2),V=z[0],U=z[1];if(Object(r.useEffect)((function(){null===e.questionTypes.questionTypes||0===e.questionTypes.questionTypes.length&&o?e.loadQuestionTypes(u):o&&u(!1)}),[o,e]),o||null===e.questionTypes.questionTypes)return Object(J.jsx)(j.a,{});var Y=function(){var t=Object(E.a)(S.a.mark((function t(){var a,s,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b){t.next=3;break}return O({element:"action",msg:"Action is required!"}),t.abrupt("return",n(!1));case 3:if(b!==y.a.ACCEPTED||!(F<=0||F>100)){t.next=6;break}return O({element:"marks",msg:"Invalid marks, marks must be between 1 and 10"}),t.abrupt("return",n(!1));case 6:if(!Object(v.f)(T)){t.next=9;break}return O({element:"comment",msg:"Reason of rejection is required"}),t.abrupt("return",n(!1));case 9:if(!(a=e.thisClaim.claims.find((function(t){return t.level===e.thisClaim.claim_level})))){t.next=33;break}return n(!0),s={sub_claim_id:a._id,evaluation_comment:T,evaluated_by:e.auth.user.user_id,decision_taken_status:b,evaluator_name:e.auth.user.fname+" "+e.auth.user.lname,evaluator_email:e.auth.user.email},t.prev=13,t.next=16,I.a.put("".concat(q.a.CLAIMING,"/user/evaluate/").concat(e.thisClaim._id),s);case 16:if(!(i=t.sent)){t.next=26;break}if(console.log({evaluate_claim_res:i}),e.evaluateClaim(i.data),b!==y.a.ACCEPTED){t.next=23;break}return t.next=23,H();case 23:e.PushPopupAlert({title:"Claim responded successfully!",theme:_.a.success}),A(""),x(null);case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(13),console.error(t.t0),e.PushPopupAlert({title:Object(M.a)(t.t0),theme:_.a.danger});case 32:n(!1);case 33:case"end":return t.stop()}}),t,null,[[13,28]])})));return function(){return t.apply(this,arguments)}}(),H=function(){var t=Object(E.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.put("".concat(q.a.DO_EXAM,"/answersheet/user/marks/update"),{answer_sheet_id:e.thisClaim.claiming_on_id,marks:F});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0),e.PushPopupAlert({title:Object(M.a)(t.t0),theme:_.a.danger});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),X=function(t){if(e.claimReasons)return e.claimReasons.find((function(e){return e.id===t}))};return Object(J.jsxs)("section",{className:"",children:[Object(J.jsx)("div",{className:"flex flex-row items-center mx-4",children:Object.values(s).map((function(e,t){return Object(J.jsx)("div",{onClick:function(){return U(e)},className:"animate__animated ".concat(V===e?"bg-blue-100 border-blue-600 text-blue-600 animate__zoomIn":"bg-white border-white text-gray-600"," hover:bg-blue-100 px-4 py-2 cursor-pointer font-bold border-b-4 hover:border-blue-600 hover:text-blue-600 rounded-t mt-1 mr-1"),children:e},t)}))}),Object(J.jsxs)("div",{className:"w-full bg-white px-4 py-1 divide-y-2 space-y-2",children:[Object(J.jsxs)("section",{className:"flex flex-col",children:[V===s.exam&&Object(J.jsx)("section",{className:"w-full my-1 animate__animated animate__fadeIn rounded",children:Object(J.jsx)("div",{className:"bg-white w-full rounded p-2 mb-2",children:Object(J.jsx)(ee.a,{showAnswers:!0,exam_id:Object(te.a)(e.thisExamSheet,e.thisExam.course_name),allAnswers:[{exam_location:e.thisExamSheet.exam_location,questions:e.thisExamSheet.questions,user_answers:e.thisExamSheet.user_answers,user:e.thisExamSheet.user,period:e.thisExamSheet.period,course:e.thisExamSheet.course,exam_paper:e.thisExamSheet.exam_paper,user_status:e.thisExamSheet.user_status,used_duration:e.thisExamSheet.used_duration,total_marks:e.thisExamSheet.total_marks,number_of_question_answered:e.thisExamSheet.number_of_question_answered,exam_total_marks:e.thisExamSheet.exam_total_marks,exam_start_time:e.thisExamSheet.exam_start_time,exam_end_time:e.thisExamSheet.exam_end_time,exam_date:e.thisExamSheet.exam_date,status:e.thisExamSheet.status,createdAt:e.thisExamSheet.createdAt,updatedAt:e.thisExamSheet.updatedAt,disability:!1,gender:"",in_education:!1,position:"",answer_sheet_id:e.thisExamSheet.answer_sheet_id}],user_id:e.thisExamSheet.user})})}),V===s.profile&&Object(J.jsx)("section",{className:"w-full my-2 animate__animated animate__fadeIn rounded",children:Object(J.jsx)("div",{className:"flex items-center justify-between",children:Object(J.jsxs)("div",{className:"flex items-center gap-2",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Names:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-xl",children:e.thisClaim.user.user_info.fname+" "+e.thisClaim.user.user_info.lname})]})})}),V===s.profile&&Object(J.jsxs)("div",{className:"",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Email:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-lg",children:e.thisClaim.user.email})]}),Object(J.jsxs)("div",{className:"flex items-center gap-2",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Phone:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-lg",children:e.thisClaim.user.phone_number})]}),Object(J.jsxs)("div",{className:"flex items-center gap-2",children:[Object(J.jsx)("span",{className:"italic text-gray-600",children:"Gender:"}),Object(J.jsx)("span",{className:"text-gray-800 font-bold text-lg",children:"M"===e.thisClaim.user.user_info.sex?"Male":"Female"})]})]})]}),e.thisClaim.claims.length>0&&e.thisClaim.claims.map((function(t,a){return Object(J.jsxs)("section",{className:"flex flex-col px-2 pt-3",children:[Object(J.jsxs)("div",{className:"text-gray-700 italic font-bold",children:["Claim Comment (level ",a+1,")"]}),Object(J.jsxs)("div",{className:"flex flex-col items-start gap-2 mt-1 border rounded px-2 py-1 bg-gray-50",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2 bg-blue-100 rounded py-1 px-2",children:[Object(J.jsx)(d.T,{}),X(e.thisClaim.default_claim_resaons)?X(e.thisClaim.default_claim_resaons).reason:""]}),Object(J.jsx)("p",{children:t.reason}),Object(J.jsx)("span",{className:"text-gray-600 text-xs",children:Object(C.q)(t.createdAt)})]}),Object(W.b)(e.thisClaim,t.level)&&Object(J.jsxs)("section",{className:"mt-4",children:[Object(J.jsxs)("span",{className:"text-gray-700 italic font-semibold",children:["Response (level ",a+1,")"]}),Object(J.jsxs)("div",{className:"border-t-2",children:[Object(J.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Status:"}),Object(J.jsx)("span",{className:"font-bold ".concat(t.decision_taken_status===y.a.REJECTED?"text-yellow-900":"text-blue-600"," rounded px-3 py-1"),children:Object(v.a)(t.decision_taken_status.toLocaleLowerCase())})]}),Object(J.jsxs)("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[Object(J.jsx)("span",{className:"italic",children:"Reason:"}),Object(J.jsx)("span",{className:"font-normal",children:t.evaluation_comment})]})]})]})]},a+t._id)}))]}),!b&&Object(J.jsxs)("section",{className:"flex items-center justify-between bg-gray-50 rounded mt-3",children:[Object(J.jsx)("div",{className:"mx-4 my-4",children:Object(J.jsx)("span",{className:"".concat(e.thisClaim.last_claim_status===y.b.PENDING?"text-yellow-700":e.thisClaim.last_claim_status===y.b.DELETED?"text-red-700":"text-green-700"," italic font-semibold"),children:Object(v.a)(e.thisClaim.last_claim_status.toLocaleLowerCase())})}),e.thisClaim.last_claim_status===y.b.PENDING&&Object(J.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[Object(J.jsxs)("button",{className:"px-4 py-2 font-semibold text-red-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-red-700 hover:bg-red-800",onClick:function(){x(y.a.REJECTED)},children:[Object(J.jsx)(d.p,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Reject"})]}),Object(J.jsxs)("button",{className:"px-4 py-2 font-semibold text-blue-50 rounded inline-flex items-center space-x-2 focus:outline-none bg-blue-700 hover:bg-blue-800",onClick:function(){x(y.a.ACCEPTED)},children:[Object(J.jsx)(L.i,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Accept"})]})]})]}),b&&Object(J.jsxs)("section",{className:"my-5 overflow-x-auto",children:[Object(J.jsxs)("div",{className:"italic text-gray-700 text-base my-1 mx-2",children:["Selected decision:"," ",Object(J.jsx)("span",{className:"font-semibold text-lg ".concat(b===y.a.ACCEPTED?"text-blue-700":"text-yellow-800"),children:b===y.a.ACCEPTED?"Approved":"Rejected"})]}),Object(J.jsxs)("div",{className:"flex flex-col md:flex-row items-end md:items-start gap-1 w-full",children:[Object(J.jsxs)("div",{className:"w-full space-y-1",children:[b===y.a.ACCEPTED&&Object(J.jsxs)("div",{className:"flex items-center justify-end w-full gap-2",children:[Object(J.jsx)("span",{className:"font-semibold",children:"Addition marks"}),Object(J.jsxs)("div",{className:"px-2",children:[Object(J.jsx)("input",{placeholder:"Addition marks",className:"border border-".concat(f&&"marks"===f.element?"red":"gray","-400 rounded px-3 py-1 w-auto focus:outline-none"),value:F,onChange:function(e){B(Number(e.target.value)),O(null)},disabled:i}),f&&"marks"===f.element&&Object(J.jsx)("p",{className:"text-red-800",children:f.msg})]})]}),Object(J.jsxs)("div",{className:"w-full px-2",children:[Object(J.jsx)("textarea",{placeholder:"Reason of your decision...",cols:50,rows:b===y.a.ACCEPTED?2:3,className:"border border-".concat(f&&"comment"===f.element?"red":"gray","-400 rounded px-3 py-1 w-full focus:outline-none"),style:{resize:"none"},value:T,onChange:function(e){A(e.target.value),O(null)},disabled:i}),f&&"comment"===f.element&&Object(J.jsx)("p",{className:"text-red-800",children:f.msg})]})]}),Object(J.jsxs)("div",{className:"flex flex-row md:flex-col gap-1 max-w-full px-2",children:[Object(J.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",onClick:function(){A(""),x(null),O(null)},disabled:i,children:[Object(J.jsx)(R.b,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Back"})]}),Object(J.jsx)("button",{className:"bg-blue-700 hover:bg-blue-800 px-4 py-2 font-semibold rounded text-white inline-flex items-center space-x-2 focus:outline-none",disabled:i,onClick:function(){return window.confirm("Are you sure you want to ".concat(b===y.a.ACCEPTED?"approve":"rejected"," this document?"))&&Y()},children:i?Object(J.jsx)("div",{className:"",children:"Loading..."}):Object(J.jsxs)("div",{className:"inline-flex items-center space-x-2 gap-1",children:[Object(J.jsx)(L.i,{className:"w-5 h-5"}),Object(J.jsx)("span",{children:"Confirm"})]})})]})]})]})]})}))),se=a(824),ie=function(e,t,a){var s="";if(a.type_key===y.g.DOCUMENT_VALIDATION){var i=t.find((function(e){return e.doc_id===a.claiming_on_id}));s=i?ne(e,i).main:"Document not found"}return s},ne=function(e,t){var a="",s="",i="",n="";return t.sub_category_id&&t.sub_category_id.length>0&&e.documentSubCategory?s=n=e.documentSubCategory.filter((function(e){return e.user_detail_subcategory_id===t.sub_category_id}))[0].title:t.category_id.length>0&&e.documentCategory&&(a=n=e.documentCategory.filter((function(e){return e.user_detail_category_id===t.category_id}))[0].title),t.category_subcategory_data.length>0&&e.documentFields&&(n+=" in "+(i=e.documentFields.filter((function(e){return e._id===t.category_subcategory_data}))[0].title)),{category:a,sub_category:s,field:i,main:n}},le=function(e,t,a){if(e){var s=e.find((function(e){return e._id===a}));if(s&&t){var i=t.find((function(e){return e.position_id===s.position}));if(i)return{application:s,position:i}}}return null},ce=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).setLoading=function(e){s.setState({loading:e})},s.setLoadingData=function(e){s.setState({loadingData:e})},s.setPeriodChanged=function(e){s.setState({periodChanged:e})},s.setThisPeriod=function(e){s.setState({thisPeriod:e})},s.setViewClaim=function(e){s.setState({viewClaim:e})},s.setClaimId=function(e){s.setState({claimId:e})},s.setClaimType=function(e){s.setState({claimType:e})},s.setCandidateId=function(e){s.setState({candidateId:e})},s.setViewImage=function(e){s.setState({viewImage:e})},s.setLoadingRequest=function(e){s.setState({loadingRequest:e})},s.setActionTaken=function(e){s.setState({actionTaken:e})},s.setResponseMsg=function(e){s.setState({responseMsg:e})},s.setFormError=function(e){s.setState({formError:e})},s.setDefaultSession=function(e){if(null===s.state.thisPeriod){var t=e.find((function(e){return!0===e.is_active}));s.setThisPeriod(t||e[0]),s.loadsAllClaims(t||e[0])}},s.setSearchClaim=function(e){s.setState({searchClaim:e})},s.loadsAllClaims=function(e){null===s.props.claiming.allClaims&&s.props.getAllClaims(2,e._id,(function(e,t){s.setLoading(e),!e&&t.length&&s.props.PushPopupAlert({title:t,theme:_.a.danger})}))},s.loadsApplications=function(e){s.props.claiming.allApplications.find((function(t){return t._id===e}))||s.props.getAllApplications(e,(function(e,t){s.setLoading(e),!e&&t.length&&s.props.PushPopupAlert({title:t,theme:_.a.danger})}))},s.loadsController=function(e,t){t===y.g.APPLICATION&&s.loadsApplications(e),t===y.g.EXAMINATION&&s.loadsAlAnswers(e)},s.loadsAlAnswers=function(e){s.props.claiming.allAnswer.find((function(t){return t.answer_sheet_id===e}))||s.props.getAllAnswers(e,(function(e,t){s.setLoading(e),!e&&t.length&&s.props.PushPopupAlert({title:t,theme:_.a.danger})}))},s.componentDidMount=function(){null===s.props.application_sessions?s.props.GetAllSessionPlans((function(e,t,a){s.setLoading(e),e||(t.length&&s.props.PushPopupAlert({title:t,theme:_.a.danger}),a&&a.length>0&&s.setDefaultSession(a))})):s.props.application_sessions.length>0&&s.setDefaultSession(s.props.application_sessions),s.props.documentReducer.documentCategory||(s.props.getDocumentCategory(),s.setLoading(!1)),s.props.documentReducer.documentSubCategory||(s.props.getDocumentSubCategory(),s.setLoading(!1)),s.props.documentReducer.documentFields||(s.props.getDocumentFields(),s.setLoading(!1)),null===s.props.systemPositions?s.props.getPositions((function(e,t){s.setLoading(e),console.log({status:e,msg:t}),t.length&&s.props.PushPopupAlert({title:t,theme:_.a.danger})})):s.state.loading&&s.setLoading(!1),null===s.props.claiming.claimReasons&&s.props.getClaimReasons((function(e,t){s.setLoading(e),e||t.length>0&&s.props.PushPopupAlert({title:t,theme:_.a.danger})})),null===s.props.courses||0===s.props.courses.length&&s.state.loading?(s.props.loadCourses(s.setLoading),s.setLoading(!1)):s.setLoading(!1)},s.displayClaimTitle=function(e){var t=e.claiming_on_id;if(e.type_key===y.g.DOCUMENT_VALIDATION){var a=e.user.details.filter((function(e){return"waiting"!==e.validation_status}));t=a.length>0?ie(s.props.documentReducer,a,e):"Document not found"}if(e.type_key===y.g.APPLICATION&&s.props.claiming.allApplications){var i=s.props.claiming.allApplications.find((function(t){return t._id===e.claiming_on_id}));if(i&&s.props.claiming.allApplications&&s.props.systemPositions){var n=s.props.systemPositions.find((function(e){return e.position_id===i.position}));t=n?n.position_title:"Application not found"}}if(e.type_key===y.g.EXAMINATION&&s.props.courses&&s.props.claiming.allAnswer){var l=Object(T.c)(s.props.claiming.allAnswer,e.claiming_on_id);t=l&&Object(T.b)(s.props.courses,l.course)?"Exam of "+Object(T.b)(s.props.courses,l.course).course_name:"Unknown exam"}return t},s.onPeriodChange=function(e){s.setPeriodChanged(!0),s.props.getAllClaims(2,e,(function(e,t){!e&&s.setPeriodChanged(!1),s.setLoadingData(e),!1===e&&t.length&&s.props.PushPopupAlert({title:t,theme:_.a.danger})}))},s.getLastClaimDate=function(e){Object(C.a)(e.createdAt);var t=e.claims.length;return Object(C.a)(e.claims[t-1].createdAt)},s.state={loading:!0,loadingData:!1,thisPeriod:null,viewClaim:!1,periodChanged:!1,claimId:null,claimType:null,candidateId:null,searchClaim:"",viewImage:!1,loadingRequest:!1,actionTaken:null,responseMsg:"",formError:null},s}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return null===this.props.application_sessions?Object(J.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):0===this.props.application_sessions.length?Object(J.jsxs)("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center p-6 my-8 text-yellow-900 border border-yellow-900",children:[Object(J.jsx)(d.T,{className:"text-6xl md:text-9xl"}),Object(J.jsxs)("div",{className:"text-center flex flex-col",children:[Object(J.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:"No active session"}),Object(J.jsx)("span",{className:"text-lg",children:"Please Wait for the system to publish the sessions or contact the administrator"})]})]}):null===this.props.claiming.allClaims?Object(J.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):(console.log("=================viewClaim==================="),console.log({allClaims:this.props.claiming.allClaims,viewClaim:this.state.viewClaim,candidateId:this.state.candidateId,claimId:this.state.claimId,claimTypes:this.props.claiming.claimTypes}),console.log("==================viewClaim=================="),Object(J.jsxs)("div",{children:[!this.state.viewClaim&&Object(J.jsx)(f.b,{children:Object(J.jsx)(se.a,{loadingClaims:this.state.loadingData})}),!this.state.viewClaim&&Object(J.jsx)(A.a,{headerTitle:"".concat("all"===this.props.claiming.selectedClaimType?"All":this.props.claiming.selectedClaimType===y.g.DOCUMENT_VALIDATION?"Documents":this.props.claiming.selectedClaimType===y.g.APPLICATION?"Applications":this.props.claiming.selectedClaimType===y.g.EXAMINATION?"Exam":this.props.claiming.selectedClaimType===y.g.MARKS_PUBLICATION?"Marks publication":this.props.claiming.selectedClaimType===y.g.PLACEMENT_TRANSFER?"Placements":""," Claiming"),loading:this.state.loadingData,loadingSession:this.state.loading,thisPeriod:this.state.thisPeriod,setThisPeriod:this.setThisPeriod,setLoadingSession:this.setLoadingData,application_sessions:this.props.application_sessions,onPeriodChange:this.onPeriodChange,periodChanged:this.state.periodChanged}),!this.state.viewClaim&&Object(J.jsxs)("section",{className:"bg-white w-full p-1",children:[Object(J.jsx)("section",{className:"flex flex-col-reverse sm:flex-row items-center gap-2 w-full my-2",children:Object(J.jsx)("div",{className:"w-full",children:Object(J.jsx)("input",{onChange:function(t){return e.setSearchClaim(t.target.value)},type:"text",className:"input-white h-10 text-sm border-2 border-gray-400 focus:border-gray-500 w-full",placeholder:"Search claim by title or type",value:this.state.searchClaim,disabled:!(Object(se.b)(this.props.claiming.allClaims,this.props.claiming.selectedClaimType).length>0)})})}),Object(J.jsx)("div",{className:"w-full overflow-x-auto",children:Object(J.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(J.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(J.jsx)("td",{className:"px-2 py-2",children:"Applicant names"}),Object(J.jsx)("td",{className:"px-2 py-2",children:"Claim title"}),Object(J.jsx)("td",{className:"px-2 py-2",children:"Claim date"}),"all"===this.props.claiming.selectedClaimType&&Object(J.jsx)("td",{className:"px-2 py-2",children:"Claim type"}),Object(J.jsx)("td",{className:"px-2 py-2",children:"Claim level"}),Object(J.jsx)("td",{className:"px-2 py-2",children:"Claim status"}),Object(J.jsx)("td",{className:"px-2 py-2"})]})}),Object(J.jsx)("tbody",{children:this.props.claiming.allClaims&&this.props.claiming.claimTypes&&this.props.systemPositions&&!this.state.loadingData?Object(N.a)(Object(se.b)(this.props.claiming.allClaims,this.props.claiming.selectedClaimType),this.state.searchClaim).length<=0?Object(J.jsx)("tr",{className:"border-b border-gray-200 group hover:bg-gray-50 cursor-pointer",children:Object(J.jsx)("td",{className:"px-3 py-1",colSpan:8,children:Object(J.jsx)(O.b,{theme:O.a.Light,value:"No claim found!"})})},Math.random()):Object(N.a)(Object(se.b)(this.props.claiming.allClaims,this.props.claiming.selectedClaimType),this.state.searchClaim).map((function(t,a){return Object(J.jsxs)("tr",{className:"border-b border-gray-200 group hover:bg-gray-50 cursor-pointer",onClick:function(){e.setViewClaim(!0),e.setClaimId(t._id),e.setCandidateId(t.user.user_id),e.setClaimType(Object(w.whichClaimType)(t)?Object(w.whichClaimType)(t):null),e.loadsController(t.claiming_on_id,t.type_key)},children:[Object(J.jsx)("td",{className:"px-3 py-1",children:a+1}),Object(J.jsx)("td",{className:"px-3 py-1 whitespace-nowrap",children:t.user.user_info.fname+" "+t.user.user_info.lname}),Object(J.jsx)("td",{className:"px-3 py-1 whitespace-nowrap",children:t.title}),Object(J.jsx)("td",{className:"px-3 py-1 whitespace-nowrap",children:e.getLastClaimDate(t)}),"all"===e.props.claiming.selectedClaimType&&Object(J.jsx)("td",{className:"px-3 py-1 whitespace-nowrap",children:Object(w.whichClaimType)(t)?Object(v.a)(Object(w.whichClaimType)(t)):"-"}),Object(J.jsxs)("td",{className:"px-3 py-1 whitespace-nowrap italic",children:["Level ",t.claim_level]}),Object(J.jsx)("td",{className:"px-3 py-1 whitespace-nowrap",children:Object(J.jsx)("span",{className:"inline-block rounded-full duration-300 text-xs font-semibold px-3 py-1 ".concat(Object(w.whichClaimStatus)(t).classes),children:Object(w.whichClaimStatus)(t).status})}),Object(J.jsx)("td",{className:"px-3 py-1 text-center whitespace-nowrap",children:Object(J.jsx)("button",{className:"btn bg-blue-500 text-white group-hover:bg-blue-600",children:"View"})})]},a+t._id)})):Object(J.jsx)(g.a,{cols:"all"===this.props.claiming.selectedClaimType?8:7})})]})})]}),this.state.viewClaim&&this.state.candidateId&&this.props.claiming.allClaims&&this.state.claimId&&Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId)&&this.props.claiming.claimTypes&&Object(J.jsxs)("section",{className:"bg-white w-full my-4",children:[Object(J.jsxs)("section",{className:"flex items-center gap-2 py-2 border-b",children:[Object(J.jsx)("button",{className:"ml-3 bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 focus:outline-none ".concat(this.state.loadingRequest?"cursor-not-allowed":"cursor-pointer"," animate__animated animate__fadeIn"),disabled:this.state.loadingRequest,onClick:function(){e.setViewClaim(!1),e.setViewImage(!0),e.setLoadingRequest(!1),e.setActionTaken(null),e.setResponseMsg(""),e.setFormError(null)},children:Object(J.jsx)(d.f,{className:"w-7 h-7"})}),Object(J.jsx)("div",{className:"text-gray-600 font-extrabold text-2xl px-2",children:"Viewing claim"})]}),this.state.loading&&Object(J.jsx)("div",{className:"my-4",children:Object(J.jsx)(j.a,{})}),!this.state.loading&&Object(J.jsxs)("section",{className:"bg-gray-200",children:[this.state.claimType&&this.state.claimType.toLocaleLowerCase()===y.c.DOCUMENT.toLocaleLowerCase()&&Object(J.jsx)("div",{children:Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId).user.details.find((function(t){return t.doc_id===Object(w.getClaimById)(e.props.claiming.allClaims,e.state.claimId).claiming_on_id}))?Object(J.jsx)($,{thisDoc:Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId).user.details.find((function(t){return t.doc_id===Object(w.getClaimById)(e.props.claiming.allClaims,e.state.claimId).claiming_on_id})),documentCategories:this.props.documentReducer,thisClaim:Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId),claimTypes:this.props.claiming.claimTypes,viewImage:this.state.viewImage,setViewImage:this.setViewImage,loadingRequest:this.state.loadingRequest,setLoadingRequest:this.setLoadingRequest,actionTaken:this.state.actionTaken,setActionTaken:this.setActionTaken,responseMsg:this.state.responseMsg,setResponseMsg:this.setResponseMsg,formError:this.state.formError,setFormError:this.setFormError,candidateId:this.state.candidateId,claimReasons:this.props.claiming.claimReasons}):Object(J.jsx)(O.b,{theme:O.a.Dark,value:"Document not found"})}),this.state.claimType&&this.state.claimType.toLocaleLowerCase()===y.c.APPLICATION.toLocaleLowerCase()&&Object(J.jsx)("div",{children:le(this.props.claiming.allApplications,this.props.systemPositions,Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id)?this.props.systemPositions&&Object(J.jsx)(Q,{thisApplication:le(this.props.claiming.allApplications,this.props.systemPositions,Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id).application,thisPosition:le(this.props.claiming.allApplications,this.props.systemPositions,Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id).position,documentCategories:this.props.documentReducer,thisClaim:Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId),claimTypes:this.props.claiming.claimTypes,systemPositions:this.props.systemPositions,claimReasons:this.props.claiming.claimReasons}):Object(J.jsx)(O.b,{theme:O.a.Dark,value:"Application not found"})}),this.state.claimType&&this.state.claimType.toLocaleLowerCase()===y.c.EXAMINATION.toLocaleLowerCase()&&Object(J.jsx)("div",{children:this.props.claiming.allAnswer&&this.props.courses&&Object(T.c)(this.props.claiming.allAnswer,Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id)&&Object(T.b)(this.props.courses,Object(T.c)(this.props.claiming.allAnswer,Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id).course)?Object(J.jsx)(ae,{thisExamSheet:Object(T.c)(this.props.claiming.allAnswer,Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id),thisExam:Object(T.b)(this.props.courses,Object(T.c)(this.props.claiming.allAnswer,Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId).claiming_on_id).course),thisClaim:Object(w.getClaimById)(this.props.claiming.allClaims,this.state.claimId),claimTypes:this.props.claiming.claimTypes,claimReasons:this.props.claiming.claimReasons}):Object(J.jsx)(O.b,{theme:O.a.Dark,value:"Exam not found"})})]})]})]}))}}]),a}(r.Component),re=Object(u.b)((function(e){var t=e.auth,a=e.system_settings,s=e.sessionPlan,i=e.claiming,n=e.document,l=e.course;return{auth:t,application_sessions:s.allSessionPlans,systemPositions:a.systemPositions,claiming:i,documentReducer:n,courses:l.courses}}),{getAllClaims:p.g,loadCourses:m.Hc,getAllAnswers:p.e,getClaimReasons:p.h,getAllApplications:p.f,GetAllSessionPlans:x.d,getDocumentCategory:b.i,getDocumentSubCategory:b.k,getDocumentFields:b.j,getPositions:h.e,PushPopupAlert:m.Rb})(ce)}}]);
//# sourceMappingURL=25.21629236.chunk.js.map