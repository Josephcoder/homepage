(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[44],{199:function(e,t,a){"use strict";var s=a(14),n=a(4),i=a(87),r=a(10),c=a(1);t.a=function(e){var t,a,o=e.tableId&&"myTable"!==e.tableId?e.tableId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length,n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*s));return t}(),l=Object(n.useState)(0),d=Object(s.a)(l,2),u=d[0],p=d[1],b=Object(n.useState)(1),m=Object(s.a)(b,2),f=m[0],h=m[1],x=Object(n.useState)(1),j=Object(s.a)(x,2),g=j[0],y=j[1],O=Object(n.useState)(),_=Object(s.a)(O,2),v=_[0],N=_[1],w=Object(n.useState)(10),C=Object(s.a)(w,2),S=C[0],T=C[1],A=Object(n.useState)(0),D=Object(s.a)(A,2),k=D[0],E=D[1],P=Object(n.useState)(0),I=Object(s.a)(P,2),L=I[0],R=I[1];Object(n.useEffect)((function(){e.pagination&&M()}));var M=function(){t=document.getElementById(o),a=t.getElementsByTagName("tr"),p(a.length),h(Math.ceil(u/S)),E((g-1)*S),R(Math.min(k+S-1,u-1));var e=Array.from(Array(f+1-1).keys()).map((function(e){return 1+e}));v&&e.length===v.length||N(e);for(var s=0;s<a.length;s++)a[s].style.display=s>=k&&s<=L?"":"none"};return Object(c.jsxs)("div",{className:"".concat(e.tableSize," overflow-x-auto"),children:[e.search&&Object(c.jsx)("div",{className:"".concat(e.searchBG," w-full mb-2"),children:e.search&&Object(c.jsxs)("div",{className:"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500",children:[Object(c.jsx)(r.Ab,{className:"h-5 w-5 fill-current text-gray-400"}),Object(c.jsx)("input",{type:"search",placeholder:"search",onChange:function(a){return function(a,s){var n,i,r,c,l;for("field"===s&&"all"===a&&(a=""),n=a.toLowerCase(),i=(t=document.getElementById(o)).getElementsByTagName("tr"),c=0;c<i.length;c++)for(l=0;l<e.columns.length;l++)if(r=i[c].getElementsByTagName("td")[l]){if((r.textContent||r.innerText).toLowerCase().indexOf(n)>-1){i[c].style.display="";break}i[c].style.display="none"}}(a.target.value)},className:"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white",disabled:e.loading}),e.pagination&&Object(c.jsx)("div",{className:"select",children:Object(c.jsxs)("select",{className:"text-base outline-none focus:outline-none bg-white",onChange:function(e){return T(Number(e.target.value))},disabled:e.loading,children:[Object(c.jsx)("option",{value:"10",children:"10"}),Object(c.jsx)("option",{value:"25",children:"25"}),Object(c.jsx)("option",{value:"50",children:"50"}),Object(c.jsx)("option",{value:"100",children:"100"})]})})]})}),Object(c.jsxs)("div",{className:"overflow-x-auto w-full",children:[Object(c.jsxs)("table",{className:e.tableClass?e.tableClass:"w-full shadow ".concat(e.rounded&&"sm:rounded-lg"," table-auto order-table"),id:o,children:[!e.hideColumns&&Object(c.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base",children:Object(c.jsx)("tr",{className:"text-left tracking-wide bg-".concat(e.thColor,"-100 border-b-2 border-").concat(e.thColor,"-500 text-").concat(e.thColor,"-600"),children:e.columns.map((function(e,t){return Object(c.jsx)("th",{className:"".concat(e.padding," text-").concat(e.alignText," px-3 py-2 ").concat(e.isSortAllowed&&"cursor-pointer"),onClick:function(){return e.isSortAllowed&&function(e){var t,a,s,n,i,r,c,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",d=0;if(s=!0,t=document.getElementById(e))for(;s;){for(s=!1,a=t.rows,n=1;n<a.length-1;n++)if(c=!1,i=a[n].getElementsByTagName("TD")[o],r=a[n+1].getElementsByTagName("TD")[o],"asc"===l&&i&&r){if(i.innerHTML.toLowerCase()>r.innerHTML.toLowerCase()){c=!0;break}}else if("desc"===l&&i&&r&&i.innerHTML.toLowerCase()<r.innerHTML.toLowerCase()){c=!0;break}c&&a[n].parentNode?(a[n].parentNode.insertBefore(a[n+1],a[n]),s=!0,d++):0===d&&"asc"===l&&(l="desc",s=!0)}}(o,t)},children:Object(c.jsxs)("div",{className:"flex items-center gap-1",children:[e.columnTitle,e.isSortAllowed&&Object(c.jsx)(i.i,{})]})},t)}))})}),Object(c.jsx)("tbody",{id:"table-data",className:"bg-white text-black text-base",children:e.rows()})]}),e.pagination&&Object(c.jsxs)("div",{className:"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("span",{className:"text-xs xs:text-sm text-gray-900",children:["Showing 1 to ",S," of ",u-1," Entries"]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("nav",{className:"inline-flex shadow-sm",children:[Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ".concat(1!==g&&"bg-white"),"aria-label":"Previous",disabled:1===g||e.loading,onClick:function(){return y(g-1)},children:Object(c.jsx)(r.fb,{className:"h-5 w-5"})})}),Object(c.jsx)("div",{children:v&&v.map((function(t,a){return Object(c.jsx)("button",{className:"-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ".concat(t!==g?"bg-white":"bg-gray-100 cursor-default"),disabled:t===g||e.loading,onClick:function(){return y(t)},children:t},a)}))}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ".concat(g!==f&&"bg-white"),"aria-label":"Next",disabled:g===f||e.loading,onClick:function(){return y(g+1)},children:Object(c.jsx)(r.gb,{className:"h-5 w-5"})})})]})})]})]})]})}},200:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return f}));var s=a(21),n=a(20),i=a(23),r=a(22),c=a(4),o=a.n(c),l=a(17),d=a(3),u=a(10),p=a(1),b=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){return n.props.PageHasSubNav(!0)},n.componentWillUnmount=function(){return n.props.PageHasSubNav(!1)},n.state={loading:!1},n}return Object(n.a)(a,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(p.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),a}(o.a.Component),m=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.rb,PageHasSubNav:d.sb})(b),f=function(e){var t=e.title,a=void 0===t?"":t,s=e.icon,n=void 0===s?u.m:s,i=e.active,r=void 0!==i&&i,c=e.count,o=void 0===c?0:c,l=n;return Object(p.jsxs)("section",{className:"".concat(!0===r?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(p.jsxs)("section",{className:"flex-1",children:[Object(p.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(p.jsx)("span",{children:a})]}),o>0?Object(p.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:o}):null]})}},204:function(e,t,a){"use strict";a.d(t,"h",(function(){return p})),a.d(t,"a",(function(){return b})),a.d(t,"k",(function(){return m})),a.d(t,"d",(function(){return f})),a.d(t,"j",(function(){return h})),a.d(t,"c",(function(){return x})),a.d(t,"m",(function(){return j})),a.d(t,"f",(function(){return g})),a.d(t,"i",(function(){return y})),a.d(t,"b",(function(){return O})),a.d(t,"l",(function(){return _})),a.d(t,"e",(function(){return v})),a.d(t,"g",(function(){return N})),a.d(t,"n",(function(){return w}));var s=a(5),n=a.n(s),i=a(7),r=a(8),c=a.n(r),o=a(6),l=a(9),d=a(13),u=a(12),p=function(){return function(){var e=Object(i.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,c.a.get("".concat(l.a.AUTH,"/detailcategory"));case 4:a=e.sent,console.log({docCategory:a}),t({type:o.a.GET_DOCUMENT_CATEGORY,payload:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error({error:Object(u.a)(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.CREATE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.UPDATE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.DELETE_DOCUMENT_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(){var e=Object(i.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,c.a.get("".concat(l.a.AUTH,"/detailsubcategory"));case 4:a=e.sent,console.log({docSubCategory:a}),t({type:o.a.GET_DOCUMENT_SUB_CATEGORY,payload:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({doc_SUB_category_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.CREATE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.UPDATE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.DELETE_DOCUMENT_SUB_CATEGORY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(){return function(){var e=Object(i.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(d.b)(),e.next=4,c.a.get("".concat(l.a.AUTH,"/categorysubcatedata"));case 4:a=e.sent,console.log({docFields:a}),t({type:o.a.GET_DOCUMENT_FIELDS,payload:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log({doc_SUB_category_error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.CREATE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return console.log({reducer:e}),function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.UPDATE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.DELETE_DOCUMENT_FIELDS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e,t,a){return function(){var s=Object(i.a)(n.a.mark((function s(i){var r,p;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a(!0,"",null),s.prev=1,Object(d.b)(),s.next=5,c.a.get("".concat(l.a.APPLICATION,"/educationtypeuserdocs/").concat(e,"/").concat(t));case 5:r=s.sent,p=r.data.filter((function(e){return null!==e&&void 0!==e})),console.log("===================================="),console.log({getCandidatesInInstitute:r,newArray:p}),console.log("===================================="),i({type:o.a.GET_CANDIDATE_IN_INSTITUTE,payload:p}),a(!1,"",p),s.next=18;break;case 14:s.prev=14,s.t0=s.catch(1),console.log({getCandidatesInInstitute:s.t0}),a(!1,Object(u.a)(s.t0),null);case 18:case"end":return s.stop()}}),s,null,[[1,14]])})));return function(e){return s.apply(this,arguments)}}()},w=function(e){return console.log({action_verify:e}),function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.VERIFY_DOCUMENT,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},206:function(e,t,a){"use strict";a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return m})),a.d(t,"d",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"f",(function(){return x}));var s=a(5),n=a.n(s),i=a(7),r=a(8),c=a.n(r),o=a(6),l=a(9),d=a(13),u=a(12),p=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){var s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(l.a.AUTH,"/settings"));case 5:s=t.sent,a({type:o.a.GET_SYSTEM_SETTINGS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.DISABLE_SYSTEM_SETTINGS,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){var s,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(l.a.AUTH,"/allroleaccess"));case 5:s=t.sent,i=s.data.map((function(e){return{id:e.id,task:e.title,key:e.key,permitted:e.permitted}})),a({type:o.a.GET_TASK_ACCESS,payload:i}),e(!1,"",i),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){var s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0,""),t.prev=1,Object(d.b)(),t.next=5,c.a.get("".concat(l.a.APPLICATION,"/position"));case 5:s=t.sent,a({type:o.a.GET_POSTIONS,payload:s.data}),e(!1,""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({code_error:t.t0}),e(!1,Object(u.a)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return console.log({deletePosition:e}),function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.DELETE_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.a.PUBLISH_POSITION,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},259:function(e,t,a){"use strict";a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"k",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return p})),a.d(t,"i",(function(){return b})),a.d(t,"f",(function(){return m})),a.d(t,"j",(function(){return f})),a.d(t,"h",(function(){return h})),a.d(t,"g",(function(){return x}));var s=a(92),n=a.n(s),i=a(197),r=a(26),c=function(e,t){var a="",s="",n="",i="";if(t.sub_category_id&&t.sub_category_id.length>0&&e.documentSubCategory?s=i=e.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t.sub_category_id}))?e.documentSubCategory.find((function(e){return e.user_detail_subcategory_id===t.sub_category_id})).title:"Unknown qualification":t.category_id.length>0&&e.documentCategory&&(a=i=e.documentCategory.find((function(e){return e.user_detail_category_id===t.category_id}))?e.documentCategory.find((function(e){return e.user_detail_category_id===t.category_id})).title:"Unknown category"),t.category_subcategory_data.length>0&&e.documentFields){var r=e.documentFields.find((function(e){return e._id===t.category_subcategory_data}));i+=" in "+(n=r?r.title:"Unknown filed")}return{category:a,sub_category:s,field:n,main:i}},o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",s=[];for(var n in t){var i=t[n].details;for(var r in i){var o=t[n].details[r];null!==o.files&&o.files.length>0&&"default"===a&&"waiting"===o.validation_status?s.push({user_id:t[n].user_id,n_id:t[n].n_id,fname:t[n].fname,lname:t[n].lname,phone_number:t[n].phone_number,district:t[n].district,email:t[n].email,main_doc_title:c(e,o).main,category_id:o.category_id,sub_category_id:o.sub_category_id,category_subcategory_data:o.category_subcategory_data,title:o.title,description:o.description,files:o.files,start_year:o.start_year,end_year:o.end_year,school:o.school,details_email:o.email,names:o.names,details_phone_number:o.phone_number,company:o.company,year:o.year,doc_id:o.doc_id,validation_status:o.validation_status,validated_by:o.validated_by,doc_history_status:o.doc_history_status,get_in_date:o.get_in_date,approved:o.approved,exams:t[n].exams}):null!==o.files&&o.files.length>0&&"all"===a&&s.push({user_id:t[n].user_id,names:t[n].fname+" "+t[n].lname,n_id:t[n].n_id,fname:t[n].fname,lname:t[n].lname,phone_number:t[n].phone_number,district:t[n].district,email:t[n].email,main_doc_title:c(e,o).main,category_id:o.category_id,sub_category_id:o.sub_category_id,category_subcategory_data:o.category_subcategory_data,title:o.title,description:o.description,files:o.files,start_year:o.start_year,end_year:o.end_year,school:o.school,details_email:o.email,details_phone_number:o.phone_number,company:o.company,year:o.year,doc_id:o.doc_id,validation_status:o.validation_status,validated_by:o.validated_by,doc_history_status:o.doc_history_status,get_in_date:o.get_in_date,approved:o.approved,exams:t[n].exams})}}return s},l=function(e){if(e&&e.plans){var t=e.plans.find((function(e){return e.type_key===r.c.DOCUMENT_VALIDATION}));if(t){var a=n()(),s=n()(t.start_date),i=n()(t.end_date);if(s.diff(a,"days")<=0&&i.diff(a,"days")>=0&&t.type_status===r.d.OPEN)return!0}}return!1},d=function(e,t,a){var s,n=[],i="all"===a?t:t.filter((function(e){return e.district_id===a})),r=i.length;for(s=0;s<r;s++)n.includes(i[s].center_id)||n.push(i[s].center_id);for(var c=[],o=(e?e.filter((function(e){return e.details.length>0})):[]).filter((function(e){return e.details.filter((function(e){return""!==e.files}))})),l=[],d=[],u=0;u<o.length;u++)l.includes(o[u].email)||(l.push(o[u].email),d.push(o[u]));for(var p=c,b=0;b<d.length;b++)for(var m=0;m<d[b].exams.length;m++){n.includes(d[b].exams[m].center_id)&&c.push(d[b]);for(var f=[],h=[],x=0;x<c.length;x++)f.includes(c[x].email)||(f.push(c[x].email),h.push(c[x]));p=h}return p},u=function(e,t){if("all"===t)return e;for(var a=[],s=e,n=0;n<s.length;n++)for(var i=0;i<s[n].exams.length;i++)if(s[n].exams[i].center_id===t){a.push(s[n]);for(var r=[],c=[],o=0;o<a.length;o++)r.includes(a[o].email)||(r.push(a[o].email),c.push(a[o]));a=c}return a},p=function(e,t){if("all"===t)return e;var a=[];console.log({generalResult:e});for(var s=e,n=0;n<s.length;n++)for(var i=0;i<s[n].exams.length;i++)if(s[n].exams[i].room_id===t){a.push(s[n]);for(var r=[],c=[],o=0;o<a.length;o++)r.includes(a[o].email)||(r.push(a[o].email),c.push(a[o]));a=c}return a},b=function(e,t,a){var s,n=e.find((function(e){return e.user_id===t}));return n&&(s=n.details.find((function(e){return e.doc_id===a}))),{user:n,doc:s}},m=function(e,t){return e.filter((function(e){return e.validation_status===t&&e.files})).length},f=function(e,t,a,s,n,r,c){var o,l=0;if(e.length<=0)return a(!1),s(""),n(""),r(null),c(!1),!1;if(e.length-1<t){for(l=0,o=!1;!o&&e.length-1>=l;)void 0===e[l]||Object(i.f)(e[l].files)||o||(a(!0),s(e[l].doc_id),n(e[l].user_id),r(l),c(!0),o=!0),l++;return o||(a(!1),s(""),n(""),r(null),c(!1)),!0}if(void 0===e[t]||Object(i.f)(e[t].files)){for(l=0,o=!1;!o&&e.length-1>=l;)void 0===e[l]||Object(i.f)(e[l].files)||o||(a(!0),s(e[l].doc_id),n(e[l].user_id),r(l),c(!0),o=!0),l++;return o||(a(!1),s(""),n(""),r(null),c(!1)),!0}return a(!0),s(e[t].doc_id),n(e[t].user_id),r(t),c(!0),!0},h=function(e,t,a,s,n,i,r){if(e.details.length<=0)return a(!1),s(""),n(""),i(null),r(!1),!1;var c=e.details.filter((function(e){return"waiting"===e.validation_status&&e.files}));return c.length<=0?(a(!1),s(""),n(""),i(null),r(!1),!1):c.length-1<t?(a(!0),s(c[0].doc_id),n(e.user_id),i(0),r(!0),!0):(a(!0),s(c[t].doc_id),n(e.user_id),i(t),r(!0),!0)},x=function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"waiting",n=e;return"docCategory"===t?n=e.filter((function(e){return e.category_id===a&&e.files&&e.files.length>0&&e.validation_status===s})):"docSubCategory"===t&&(n=e.filter((function(e){return e.sub_category_id===a&&e.files&&e.files.length>0&&e.validation_status===s}))),n.length}},491:function(e,t,a){"use strict";a(4);var s=a(1);t.a=function(){return Object(s.jsxs)("section",{children:[Object(s.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start animate__animated animate-pulse",children:[Object(s.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(s.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(s.jsx)("div",{className:"h-5 w-28 bg-gray-300 rounded"})}),Object(s.jsxs)("div",{className:"flex items-center gap-2",children:[Object(s.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"}),Object(s.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded"})]})]}),Object(s.jsx)("div",{className:"h-10 w-28  bg-gray-300 rounded"})]}),Object(s.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start animate__animated animate-pulse",children:[Object(s.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(s.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(s.jsx)("div",{className:"h-5 w-28 bg-gray-300 rounded"})}),Object(s.jsxs)("div",{className:"flex items-center gap-2",children:[Object(s.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"}),Object(s.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded"})]})]}),Object(s.jsx)("div",{className:"h-10 w-28  bg-gray-300 rounded"})]}),Object(s.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start animate__animated animate-pulse",children:[Object(s.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(s.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(s.jsx)("div",{className:"h-5 w-28 bg-gray-300 rounded"})}),Object(s.jsxs)("div",{className:"flex items-center gap-2",children:[Object(s.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"}),Object(s.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded"})]})]}),Object(s.jsx)("div",{className:"h-10 w-28  bg-gray-300 rounded"})]})]})}},869:function(e,t,a){"use strict";a.r(t),a.d(t,"ApplicationAssessment",(function(){return $}));var s=a(21),n=a(20),i=a(23),r=a(22),c=a(92),o=a.n(c),l=a(4),d=a(89),u=a(87),p=a(299),b=a(38),m=a(51),f=a(10),h=a(17),x=a(3),j=a(204),g=a(206),y=a(27),O=a(45),_=a(19),v=a(200),N=a(199),w=a(26),C=a(29),S=a(197),T=a(36),A=a(33),D=a(14),k=a(91),E=a(259),P=a(9),I=a(1),L=function(e){var t=e.docTitle,a=e.docSubTitle,s=e.docStatus;return Object(I.jsx)("div",{className:"w-full flex md:flex-col flex-col justify-between items-start px-5 pt-4 pb-8 gap-2",children:Object(I.jsx)("div",{className:"flex items-center gap-4",children:Object(I.jsxs)("section",{children:[Object(I.jsx)("h2",{className:"text-blue-600 font-semibold text-2xl",children:t}),Object(I.jsx)("h2",{className:"text-blue-600 font-semibold text-xl",children:a}),Object(I.jsxs)("div",{className:"flex items-center gap-1",children:[Object(I.jsx)("span",{className:"text-italic text-gray-800",children:"Status:"}),Object(I.jsx)("span",{className:"text-".concat("waiting"===s?"yellow":"approved"===s?"blue":"gray","-700"),children:"waiting"===s?"Pending":"approved"===s?"Approved":"Rejected"})]})]})})})},R=function(e){var t=e.doc,a=e.docStatus,s=e.setDoc,n=e.documentCategories;return Object(I.jsxs)("div",{className:"w-full flex md:flex-col flex-col justify-between items-start gap-2",children:[Object(I.jsx)("div",{className:"flex items-center gap-4",children:Object(I.jsxs)("section",{className:"p-3",children:[Object(I.jsx)("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:Object(I.jsx)("h2",{className:"text-gray-600 font-semibold text-xl",children:Object(E.e)(n,t).main})}),Object(I.jsxs)("div",{className:"flex items-center gap-1",children:[Object(I.jsx)("span",{className:"text-italic text-gray-800",children:"Status:"}),Object(I.jsx)("span",{className:"text-".concat("waiting"===a?"yellow":"approved"===a?"blue":"gray","-700"),children:"waiting"===a?"Pending":"approved"===a?"Approved":"Rejected"})]})]})}),Object(I.jsx)("div",{className:"flex flex-row md:flex-row justify-end px-3 w-full items-center gap-2 overflow-x-auto",children:Object(I.jsxs)("button",{className:"bg-gray-700 px-4 py-2 font-semibold text-white inline-flex items-center space-x-2 focus:outline-none",onClick:function(){return s(null)},children:[Object(I.jsx)(f.y,{className:"w-5 h-5"}),Object(I.jsx)("span",{children:"Close"})]})})]})},M=Object(h.b)((function(e){return{documentCategories:e.document}}),{})((function(e){var t=e.doc,a=e.docTitle,s=e.docSubTitle,n=e.setDoc,i=e.documentCategories,r=Object(l.useState)(!0),c=Object(D.a)(r,2),o=c[0],d=c[1],u=Object(l.useState)(null),p=Object(D.a)(u,2),b=p[0],m=p[1];return Object(l.useEffect)((function(){null===b?(d(!0),Object(T.e)(P.a.AUTH_FILES+t.files,(function(e){return m(e)}))):d(!1)}),[t.files,b]),o?Object(I.jsx)(y.a,{}):Object(I.jsxs)("div",{className:"bg-gray-50 grid grid-cols-1 md:grid-cols-3",children:[t.files?Object(I.jsx)("div",{className:"col-span-2 max-h-full md:max-h-screen overflow-y-auto",children:b?Object(I.jsx)("img",{src:P.a.AUTH_FILES+t.files,alt:"",className:"w-full animate__animated animate__zoomIn"}):Object(I.jsxs)("div",{className:"text-center text-red-400 py-8 animate__animated animate__zoomIn",children:[Object(I.jsx)(k.e,{className:"mx-auto w-40 h-40"}),Object(I.jsx)("span",{className:"font-semibold text-4xl",children:"Invalid Image"})]})}):"No Files Provided",Object(I.jsx)("div",{children:t.files?Object(I.jsx)(R,{doc:t,docStatus:t.validation_status,setDoc:n,documentCategories:i}):Object(I.jsx)(L,{docTitle:a,docSubTitle:s,docStatus:t.validation_status})})]})})),U=a(5),F=a.n(U),B=a(7),q=a(8),Y=a.n(q),G=a(78),H=a(205),z=a(61),V=a(30),J=a(12),K=a(491),Q=function(e,t){return e.filter((function(e){return e.validation_status===t&&e.files})).length},W=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).setLoading=function(e){n.setState({loading:e})},n.setLoadingRequest=function(e){n.setState({loadingRequest:e})},n.setTabsController=function(e){n.setState({tabsController:e})},n.setTabsCategory=function(e){n.setState({tabsCategory:e})},n.setOverride=function(e){n.setState({override:e})},n.setFormError=function(e){n.setState({formError:e})},n.setReason=function(e){n.setState({reason:e})},n.componentDidMount=function(){!n.props.documentCategories.documentFields&&n.state.loading&&(Object(j.i)(),n.setLoading(!1)),n.props.documentCategories.documentFields&&n.state.loading&&n.setLoading(!1)},n.isRequired=function(e,t){return e.filter((function(e){return e.user_detail_category_id===t})).length>0},n.countById=function(e,t,a){var s=e;return"docCategory"===t?s=e.filter((function(e){return e.category_id===a&&e.files&&e.files.length>0})):"docSubCategory"===t&&(s=e.filter((function(e){return e.sub_category_id===a&&e.files&&e.files.length>0}))),s.length},n.overrideDecision=Object(B.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.state.reason){e.next=2;break}return e.abrupt("return",n.setFormError({element:"comment",msg:"Please fill the reason of override"}));case 2:return n.setLoadingRequest(!0),e.prev=3,e.next=6,Y.a.patch("".concat(P.a.APPLICATION,"/tolerateappl/").concat(n.props.thisApplication.application_id),{user_id:n.props.auth.user.user_id,email:n.props.auth.user.email,phone_number:n.props.auth.user.phone_number,comment:n.state.reason,application_status:n.state.override});case 6:e.sent.data&&(n.props.reAssessApplication({application_id:n.props.thisApplication.application_id,application_status:n.state.override}),n.setOverride(""),n.setReason(""),n.props.setDoc(null),n.props.setModalState(!1),n.props.setApplication(null),n.props.setDocTitle(""),n.props.setDocSubTitle(""),n.props.PushPopupAlert({title:"Overriding application done successfully",theme:C.a.success})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error({code_error:e.t0}),n.props.PushPopupAlert({title:Object(J.a)(e.t0),theme:C.a.danger});case 14:n.setLoadingRequest(!1);case 15:case"end":return e.stop()}}),e,null,[[3,10]])}))),n.state={loading:!0,tabsController:"approved",tabsCategory:"requirements",override:"",loadingRequest:!1,formError:null,reason:""},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{className:"bg-gray-100 py-2 px-4",children:[Object(I.jsx)("div",{className:"w-full mx-auto mt-1 bg-white flex items-center justify-evenly border border-gray-200 rounded",children:Object(I.jsx)("section",{className:"cursor-pointer",onClick:function(){return e.setTabsCategory("requirements")},children:Object(I.jsxs)("div",{className:"flex items-center py-4 px-2 text-gray-700 gap-1 ".concat("requirements"===this.state.tabsCategory&&"border-b-4 border-gray-700"),children:[Object(I.jsx)(V.o,{className:"w-6 h-6"}),Object(I.jsx)("span",{children:"Position Requirements"})]})})}),Object(I.jsxs)("div",{className:"h-full overflow-y-auto",children:[Object(I.jsxs)("div",{className:"w-full flex flex-col md:items-start overflow-y-auto",children:["requirements"===this.state.tabsCategory&&Object(I.jsxs)("section",{className:"h-full w-full mx-auto pt-2",children:[Object(I.jsxs)("div",{className:"flex items-center font-semibold uppercase text-xl",children:[Object(I.jsx)(H.i,{className:"font-semibold w-6 h-6 mr-1"}),"Position Description"]}),Object(I.jsx)("div",{className:"bg-white border border-gray-200 rounded my-3",children:Object(I.jsxs)("section",{className:"border-gray-200 -mt-1 pt-2 mb-5",children:[Object(I.jsxs)("div",{className:"flex flex-col mx-2 gap-1 my-1",children:[Object(I.jsx)("span",{className:"text-sm text-gray-500 uppercase whitespace-no-wrap",children:"Title:"}),Object(I.jsx)("p",{className:"font-semibold",children:this.props.thisApplication.position.position_title})]}),Object(I.jsxs)("div",{className:"flex flex-col mx-2 gap-1 my-1",children:[Object(I.jsx)("span",{className:"text-sm text-gray-500 uppercase whitespace-no-wrap",children:"Description:"}),Object(I.jsx)("p",{className:"font-medium",children:this.props.thisApplication.position.description})]})]})}),Object(I.jsxs)("div",{className:"my-3",children:[Object(I.jsxs)("div",{className:"flex items-center font-semibold uppercase text-xl",children:[Object(I.jsx)(u.c,{className:"font-semibold w-6 h-6 mr-1"}),"Position Requirements"]}),Object(I.jsx)("section",{className:"bg-white border rounde border-gray-200 mt-2 pt-2 mb-2",children:this.props.documentCategories.documentCategory&&this.props.documentCategories.documentCategory.length>0?this.props.documentCategories.documentCategory.map((function(t,a){return Object(I.jsx)(l.Fragment,{children:e.isRequired(e.props.thisApplication.position.requirements,t.user_detail_category_id)&&e.countById(e.props.thisApplication.details,"docCategory",t.user_detail_category_id)>0&&Object(I.jsxs)("section",{className:"px-3",children:[Object(I.jsxs)("section",{className:"bg-blue-100 text-blue-800 mb-1 hover:font-bold py-2 --font-bold px-2 text-2xl rounded-md flex items-center",children:[Object(I.jsx)("section",{className:"flex-1",children:Object(I.jsx)("span",{children:t.title})}),Object(I.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:e.countById(e.props.thisApplication.details,"docCategory",t.user_detail_category_id)})]}),Object(I.jsx)("section",{className:"w-full h-full my-3",children:e.props.thisApplication.details.filter((function(e){return e.files.length>0})).length>0?Object(I.jsx)("section",{className:"animate__animated animate__fadeIn animate__faster",children:e.state.loading?Object(I.jsx)(K.a,{}):e.props.thisApplication.details.filter((function(e){return e.files.length>0})).map((function(t,a){return Object(I.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"text-balck font-semibold text-xl",children:Object(E.e)(e.props.documentCategories,t).main}),Object(I.jsxs)("div",{className:"flex items-center gap-2",children:[Object(I.jsx)("span",{className:"text-gray-500 italic",children:"Status:"}),Object(I.jsx)("span",{className:"text-".concat("waiting"===t.validation_status?"yellow":"approved"===t.validation_status?"blue":"gray","-800"),children:"waiting"===t.validation_status?"Pending":"approved"===t.validation_status?"Approved":"Rejected"})]})]}),Object(I.jsxs)("button",{className:"bg-blue-600 p-2 text-white flex rounded items-center space-x-2 h-max focus:outline-none",onClick:function(){e.props.setDoc(t),e.props.setDocTitle(t.category_id?e.props.documentCategories.documentCategory?e.props.documentCategories.documentCategory.filter((function(e){return e.user_detail_category_id===t.category_id}))[0].title:t.title?t.title:"No Category or Title Available":"No Category or Title Available"),e.props.setDocSubTitle(t.sub_category_id&&e.props.documentCategories.documentSubCategory?e.props.documentCategories.documentSubCategory.filter((function(e){return e.user_detail_subcategory_id===t.sub_category_id}))[0].title:"")},children:[Object(I.jsx)(m.e,{className:"w-5 h-5"}),"View doc"]})]},a+t.doc_id)}))}):Object(I.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 text-gray-400 text-center",children:[Object(I.jsx)(z.c,{className:"w-28 h-28 mx-auto mb-3"}),Object(I.jsx)("span",{className:"text-2xl font-mono font-semibold tracking-tighter",children:"No Data Found"})]})})]})},a+t.user_detail_category_id)})):Object(I.jsxs)("div",{className:"text-gray-400 px-6 py-4 rounded border mt-4 text-xl font-extrabold flex flex-col items-center justify-center bg-gray-100",children:[Object(I.jsx)(H.h,{className:"text-7xl text-gray-400 animate__animated animate__shakeX"}),Object(I.jsx)("span",{children:"No position requirements"})]})})]})]}),"profile"===this.state.tabsCategory&&Object(I.jsxs)("section",{className:"w-full h-full my-3 mx-auto",children:[Object(I.jsxs)("div",{className:"w-full bg-white flex items-center justify-evenly border border-gray-200 rounded",children:[Object(I.jsx)("section",{className:"cursor-pointer",onClick:function(){return e.setTabsController("approved")},children:Object(I.jsxs)("div",{className:"flex items-center py-4 px-2 text-blue-700 gap-1 ".concat("approved"===this.state.tabsController&&" border-b-4 border-blue-700"),children:[Object(I.jsx)(G.i,{className:"w-6 h-6"}),Object(I.jsx)("span",{children:"Approved"}),Object(I.jsxs)("span",{children:["(",Q(this.props.thisApplication.details,"approved"),")"]})]})}),Object(I.jsx)("section",{className:"cursor-pointer",onClick:function(){return e.setTabsController("rejected")},children:Object(I.jsxs)("div",{className:"flex items-center py-4 px-2 text-gray-700 gap-1 ".concat("rejected"===this.state.tabsController&&"border-b-4 border-gray-700"),children:[Object(I.jsx)(f.tb,{className:"w-6 h-6"}),Object(I.jsx)("span",{children:"Rejected"}),Object(I.jsxs)("span",{children:["(",Q(this.props.thisApplication.details,"rejected"),")"]})]})}),Object(I.jsx)("section",{className:"cursor-pointer",onClick:function(){return e.setTabsController("waiting")},children:Object(I.jsxs)("div",{className:"flex items-center py-4 px-2 text-yellow-800 gap-1 ".concat("waiting"===this.state.tabsController&&"border-b-4 border-yellow-800"),children:[Object(I.jsx)(f.Q,{className:"w-6 h-6"}),Object(I.jsx)("span",{children:"Pending"}),Object(I.jsxs)("span",{children:["(",Q(this.props.thisApplication.details,"waiting"),")"]})]})})]}),Object(I.jsx)("section",{className:"w-full h-full my-3",children:this.props.thisApplication.details.filter((function(t){return t.validation_status===e.state.tabsController&&t.files.length>0})).length>0?this.props.thisApplication.details.filter((function(t){return t.validation_status===e.state.tabsController&&t.files.length>0})).map((function(t,a){return Object(I.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 flex justify-between items-start",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"text-balck font-semibold text-xl",children:t.sub_category_id?e.props.documentCategories.documentSubCategory&&e.props.documentCategories.documentSubCategory.filter((function(e){return e.user_detail_subcategory_id===t.sub_category_id}))[0].title:t.category_id?e.props.documentCategories.documentCategory&&e.props.documentCategories.documentCategory.filter((function(e){return e.user_detail_category_id===t.category_id}))[0].title:t.title?t.title:"No Category or Title Available"}),Object(I.jsxs)("div",{className:"flex items-center gap-2",children:[Object(I.jsx)("span",{className:"text-gray-500 italic",children:"Status:"}),Object(I.jsx)("span",{className:"text-".concat("waiting"===t.validation_status?"yellow":"approved"===t.validation_status?"blue":"gray","-800"),children:"waiting"===t.validation_status?"Pending":"approved"===t.validation_status?"Approved":"Rejected"})]})]}),Object(I.jsxs)("button",{className:"bg-blue-600 p-2 text-white flex rounded items-center space-x-2 h-max focus:outline-none",onClick:function(){},children:[Object(I.jsx)(m.e,{className:"w-5 h-5"}),"View doc"]})]},a+t.doc_id)})):Object(I.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-3 p-4 text-gray-400 text-center",children:[Object(I.jsx)(z.c,{className:"w-28 h-28 mx-auto mb-3"}),Object(I.jsx)("span",{className:"text-2xl font-mono font-semibold tracking-tighter",children:"No Data Found"})]})})]})]}),Object(I.jsxs)("div",{className:"w-full mx-auto mt-1 py-3 bg-white flex items-center justify-between border border-gray-200 rounded",children:[Object(I.jsxs)("div",{className:"flex items-center px-3",children:[Object(I.jsx)("span",{className:"mr-1 text-gray-600",children:"Status:"}),Object(I.jsx)("span",{className:"text-xl ".concat("rejected"===this.props.thisApplication.application_status?"text-red-700":"initiated"===this.props.thisApplication.application_status?"text-gray-700":"text-blue-700"),children:Object(S.a)(this.props.thisApplication.application_status)})]}),Object(I.jsx)("div",{className:"mr-3",children:this.state.override?Object(I.jsx)("div",{className:"flex items-center",children:Object(I.jsxs)("div",{className:"max-w-sm mx-auto p-1 pr-0 flex items-start",children:[Object(I.jsx)("div",{children:Object(I.jsx)("textarea",{placeholder:"Reason of your decision",className:"flex-1 appearance-none rounded border-2 px-3 py-1 text-grey-dark mr-2 focus:outline-none focus:bg-gray-50 ".concat(null!==this.state.formError&&"name"===this.state.formError.element?"border-red-500":"border-gray-700"),onChange:function(t){return e.setReason(t.target.value)},value:this.state.reason,style:{resize:"none"}})}),Object(I.jsx)("button",{type:"button",className:"appearance-none btn btn-blue text-white text-base font-semibold tracking-wide p-3 rounded shadow hover:bg-indigo-light focus:outline-none",onClick:function(){return!e.state.loadingRequest&&e.overrideDecision()},children:this.state.loadingRequest?"Loading...":"Confirm"})]})}):Object(I.jsx)("div",{className:"flex items-center",children:"rejected"===this.props.thisApplication.application_status?Object(I.jsx)("button",{className:"btn btn-blue focus:outline-none",onClick:function(){return!e.state.loadingRequest&&e.setOverride(w.a.Shortlisted)},children:"Short List"}):Object(I.jsx)("button",{className:"btn bg-red-700 text-white focus:outline-none",onClick:function(){return!e.state.loadingRequest&&e.setOverride(w.a.Rejected)},children:"Reject"})})})]})]})]})}}]),a}(l.Component),X=Object(h.b)((function(e){return{auth:e.auth,documentCategories:e.document}}),{getDocumentCategory:j.h,getDocumentSubCategory:j.j,reAssessApplication:x.oc,getDocumentFields:j.i,PushPopupAlert:x.tb})(W),Z=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).setLoading=function(e){n.setState({loading:e})},n.setLoadingData=function(e){n.setState({loadingData:e})},n.setLoadingApplication=function(e){n.setState({loadingApplication:e})},n.isApplicationOpen=function(e){if(e){var t=e.plans.find((function(e){return e.type_key===w.c.APPLICATION}));if(t){var a=o()(),s=o()(t.start_date),n=o()(t.end_date);if(s.diff(a,"days")<=0&&n.diff(a,"days")>=0&&t.type_status===w.d.OPEN)return!0}}return!1},n.setModalState=function(e){n.setState({modalState:e})},n.setApplication=function(e){n.setState({application:e})},n.setDoc=function(e){n.setState({doc:e})},n.setDocTitle=function(e){n.setState({docTitle:e})},n.setDocSubTitle=function(e){n.setState({docSubTitle:e})},n.componentDidMount=function(){null===n.props.positions&&(n.setLoading(!0),n.props.getPositions((function(e,t){n.setLoading(e),console.log({status:e,msg:t}),t.length&&n.props.PushPopupAlert({title:t,theme:C.a.danger})})),n.setLoading(!1)),n.isApplicationOpen(n.props.auth.application_session)&&null===n.props.documentCategories.documentCategory&&(n.setLoading(!0),n.props.getDocumentCategory(),n.setLoading(!1)),n.isApplicationOpen(n.props.auth.application_session)&&null===n.props.documentCategories.documentSubCategory&&(n.setLoading(!0),n.props.getDocumentSubCategory(),n.setLoading(!1))},n.loadApplications=function(e,t,a){n.props.getAllApplicationToAssess(e,t,a,n.setLoadingData)},n.tableData=function(){return n.state.loadingData&&n.isApplicationOpen(n.props.auth.application_session)?[Object(I.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(I.jsx)("td",{className:"p-3 text-center",colSpan:10,children:Object(I.jsx)(y.a,{})})},134)]:n.state.thisPosition?null===n.props.applicationToAssess&&n.isApplicationOpen(n.props.auth.application_session)?[Object(I.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(I.jsx)("td",{className:"p-3 text-center",colSpan:10,children:Object(I.jsxs)("div",{className:"flex flex-col items-center text-2xl font-medium text-gray-500 animate__animated animate__pulse",children:[Object(I.jsx)(d.d,{className:"w-32 h-32"}),"Choose Application Position to get data"]})})},134)]:n.props.applicationToAssess&&!n.props.applicationToAssess.length?[Object(I.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(I.jsx)("td",{className:"p-3 text-center",colSpan:10,children:Object(I.jsxs)("div",{className:"flex flex-col items-center text-2xl font-medium text-yellow-800 animate__animated animate__pulse",children:[Object(I.jsx)(d.d,{className:"w-32 h-32"}),"No Data Found! You can change Position or status"]})})},1)]:n.isApplicationOpen(n.props.auth.application_session)&&n.props.applicationToAssess?n.props.applicationToAssess.filter((function(e){return e.application_status===n.state.applicationStatus})).map((function(e,t){return Object(I.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group ".concat(n.state.loadingData?"cursor-not-allowed":"cursor-pointer"),onClick:function(){return!n.state.loadingData&&n.setState({application:e,doc:null,modalState:!0})},children:[Object(I.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+1}),Object(I.jsx)("td",{className:"p-3 text-left",children:e.district}),Object(I.jsx)("td",{className:"p-3 text-left",children:e.fname+" "+e.lname}),Object(I.jsx)("td",{className:"p-3 text-left",children:"M"===e.sex?"Male":"Female"}),Object(I.jsx)("td",{className:"p-3 text-left",children:e.phone_number}),Object(I.jsx)("td",{className:"p-3 text-left",children:e.position.position_title}),Object(I.jsx)("td",{className:"p-3 text-left",children:Object(I.jsx)("span",{className:"".concat("rejected"===e.application_status?"bg-red-600 text-red-50 font-medium group-hover:font-normal group-hover:bg-red-700":"bg-green-600 text-green-50 font-medium group-hover:font-normal group-hover:bg-green-700"," rounded-md py-1 px-2"),children:Object(S.a)(e.application_status)})}),Object(I.jsx)("td",{className:"px-3 text-right",children:Object(I.jsxs)("button",{className:"bg-blue-500 group-hover:bg-blue-600 text-white font-bold py-1 px-1 flex items-center rounded focus:outline-none float-right",title:"View documents",disabled:n.state.loadingData,children:[Object(I.jsx)(m.e,{className:"w-4 h-4"}),"View docs"]})})]},t)})):[]:[Object(I.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(I.jsx)("td",{className:"p-3 text-center",colSpan:10,children:Object(I.jsxs)("div",{className:"flex flex-col items-center text-2xl font-medium text-yellow-800 animate__animated animate__pulse",children:[Object(I.jsx)(d.d,{className:"w-32 h-32"}),"No Position selected! Choose position to get data"]})})},1)]},n.state={loading:!0,loadingData:!1,loadingApplication:!1,positionFilterStatus:!0,searchPositionInput:"",modalState:!1,thisPeriod:null,thisPosition:null,applicationStatus:w.a.Rejected,application:null,doc:null,docTitle:"",docSubTitle:""},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return null!==this.props.positions&&null!==this.props.documentCategories.documentCategory&&null!==this.props.documentCategories.documentSubCategory||!this.isApplicationOpen(this.props.auth.application_session)?Object(I.jsxs)("div",{children:[this.isApplicationOpen(this.props.auth.application_session)&&Object(I.jsxs)(v.b,{children:[this.props.auth.application_session&&Object(I.jsxs)("button",{className:"btn mb-3 border-2 border-blue-500 hover:bg-blue-500 hover:text-white flex items-center flex-1 font-bold w-full focus:outline-none",onClick:function(){return e.setState({positionFilterStatus:!0})},disabled:this.state.loadingData,children:[Object(I.jsx)(u.d,{className:"inline-block mr-1 text-xl font-bold"}),Object(I.jsx)("span",{children:"Position"})]}),this.state.thisPosition&&Object(I.jsxs)("section",{children:[Object(I.jsx)("span",{className:"text-gray-600 font-semibold",children:"Application Status"}),Object(I.jsx)("section",{className:"mt-2",onClick:function(){!e.state.loadingData&&e.setState({positionFilterStatus:!1,applicationStatus:w.a.Rejected}),!e.state.loadingData&&e.state.thisPosition&&e.props.auth.application_session&&e.loadApplications(w.a.Rejected,e.state.thisPosition.position_id,e.props.auth.application_session.session_plan_id)},children:Object(I.jsx)(v.a,{title:"Rejected",active:this.state.applicationStatus===w.a.Rejected})}),Object(I.jsx)("section",{className:"mt-2",onClick:function(){!e.state.loadingData&&e.setState({positionFilterStatus:!1,applicationStatus:w.a.Shortlisted}),!e.state.loadingData&&e.state.thisPosition&&e.props.auth.application_session&&e.loadApplications(w.a.Shortlisted,e.state.thisPosition.position_id,e.props.auth.application_session.session_plan_id)},children:Object(I.jsx)(v.a,{title:"Shortlisted",active:this.state.applicationStatus===w.a.Shortlisted})})]})]}),Object(I.jsxs)("div",{className:"w-full my-5",children:[Object(I.jsxs)("div",{className:"flex flex-row gap-2 items-start",children:[Object(I.jsx)(p.b,{className:"text-blue-700 ".concat(this.isApplicationOpen(this.props.auth.application_session)?"w-24 h-24":"w-16 h-16")}),Object(I.jsx)("div",{className:"flex justify-between w-full mt-2",children:Object(I.jsxs)("div",{className:"flex flex-col",children:[Object(I.jsx)("h1",{className:"text-4xl font-semibold",children:"Application Re-Evaluation"}),this.props.auth.application_session&&Object(I.jsx)("div",{className:"flex flex-row items-center md:gap-3 gap-2 mt-1",children:Object(I.jsxs)("div",{className:"flex flex-row items-center mt-1 gap-1",children:[Object(I.jsx)("span",{className:"text-gray-600 text-lg",children:this.props.auth.application_session.session_plan_name}),this.state.thisPosition&&Object(I.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(I.jsx)("span",{className:"text-gray-600 text-lg font-bold",children:this.state.thisPosition&&": "+Object(S.a)(this.state.thisPosition.position_title)}),Object(I.jsx)(f.T,{className:"w-5 h-5"}),Object(I.jsx)("span",{className:"text-blue-600 text-lg font-bold",children:this.state.applicationStatus&&Object(S.a)(this.state.applicationStatus)})]})]})})]})})]}),Object(I.jsxs)("div",{className:"md:w-98 bg-white mx-auto md:p-2",children:[!this.isApplicationOpen(this.props.auth.application_session)&&Object(I.jsxs)("section",{className:"py-10 flex flex-col items-center rounded text-2xl font-medium text-yellow-800 animate__animated animate__pulse",children:[Object(I.jsxs)("div",{className:"flex flex-col items-center",children:[Object(I.jsx)(m.n,{className:"w-32 h-32"}),"Application session is closed!"]}),this.props.auth.application_session&&this.props.auth.application_session.plans&&this.props.auth.application_session.plans.find((function(e){return e.type_key===w.c.APPLICATION}))&&Object(I.jsxs)("div",{className:"flex flex-row items-center justify-center gap-4 mt-5",children:[Object(I.jsxs)("span",{className:"font-bold text-gray-900 bg-blue-50 rounded-full px-3 py-1",children:["Start date:"," ",Object(T.a)(this.props.auth.application_session.plans.find((function(e){return e.type_key===w.c.APPLICATION})).start_date,"DD/MM/YYYY")]}),Object(I.jsxs)("span",{className:"font-bold text-gray-900 bg-blue-50 rounded-full px-3 py-1",children:["Ending date:"," ",Object(T.a)(this.props.auth.application_session.plans.find((function(e){return e.type_key===w.c.APPLICATION})).end_date,"DD/MM/YYYY")]})]})]}),this.isApplicationOpen(this.props.auth.application_session)&&Object(I.jsx)(N.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"District",alignText:"left",padding:"p-3"},{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"Gender",alignText:"left",padding:"p-3"},{columnTitle:"Phone",alignText:"left",padding:"p-3"},{columnTitle:"Post applied for",alignText:"left",padding:"p-3"},{columnTitle:"Decision",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:this.tableData,pagination:!0,search:!0,thColor:"gray"})]})]}),this.isApplicationOpen(this.props.auth.application_session)&&this.state.positionFilterStatus&&this.props.auth.application_session&&Object(I.jsx)(_.d,{title:Object(I.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(I.jsx)(m.h,{className:"text-5xl text-blue-600"}),Object(I.jsx)("div",{className:"flex flex-col",children:Object(I.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Filter by a position"})})]}),backDrop:!0,theme:_.c.default,close:function(){return e.setState({positionFilterStatus:!1,searchPositionInput:""})},backDropClose:!0,widthSizeClass:_.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(I.jsx)("div",{className:"px-2 pb-2",children:null===this.props.positions?Object(I.jsx)(O.b,{type:O.a.dark}):0===this.props.positions.length?Object(I.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center",children:[Object(I.jsx)(f.Ab,{className:"text-6xl"}),Object(I.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(I.jsx)("span",{children:"No positions found! Please go back!"})})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"flex flex-col",children:[Object(I.jsx)("span",{className:"text-gray-600 text-xs font-bold",children:"Filter by position name"}),Object(I.jsx)("input",{onChange:function(t){return e.setState({searchPositionInput:t.target.value})},type:"text",className:"mb-4 bg-gray-100 px-3 py-2 rounded",placeholder:"Keyword..."})]}),Object(A.a)(this.props.positions,this.state.searchPositionInput).map((function(t,a){return Object(I.jsx)("div",{onClick:function(){e.loadApplications(e.state.applicationStatus,t.position_id,e.props.auth.application_session.session_plan_id),e.setState({thisPosition:t,positionFilterStatus:!1,searchPositionInput:""})},className:"bg-white cursor-pointer rounded  px-3 py-2 border border-gray-200 hover:border-blue-500 hover:bg-blue-100 mb-2",children:Object(I.jsxs)("div",{className:"grid lg:grid-cols-12",children:[Object(I.jsx)("div",{className:"col-span-12 lg:col-span-10",children:Object(I.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(I.jsx)("div",{children:Object(I.jsx)(b.a,{className:"text-4xl md:text-5xl text-blue-600"})}),Object(I.jsxs)("div",{className:"flex flex-col",children:[Object(I.jsx)("span",{className:"text-xs lg:text-sm font-bold text-gray-700",children:t.position_title}),Object(I.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["School level:"," ",Object(I.jsx)("span",{className:"text-gray-800 font-light",style:{fontStyle:"normal"},children:t.school_level_id.school_level_name})]}),Object(I.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 w-max px-3 py-1 rounded-full",children:t.education_institute_id.education_category_title})]})]})}),Object(I.jsx)("div",{className:"col-span-12 lg:col-span-2 hidden lg:block",children:Object(I.jsx)("div",{className:"h-full flex items-center justify-end",children:Object(I.jsx)("div",{className:"btn bg-blue-600 text-white float-right",children:"Choose"})})})]})},a+1)}))]})})}),this.isApplicationOpen(this.props.auth.application_session)&&this.state.modalState&&this.state.application&&Object(I.jsx)(_.d,{backDrop:!0,theme:_.c.default,close:function(){!e.state.loadingData&&!e.state.doc&&e.setModalState(!1),!e.state.loadingData&&!e.state.doc&&e.setApplication(null),!e.state.loadingData&&e.state.doc&&e.setDoc(null),!e.state.loadingData&&e.state.doc&&e.setDocTitle(""),!e.state.loadingData&&e.state.doc&&e.setDocSubTitle("")},displayClose:!0,backDropClose:!1,title:Object(I.jsxs)("div",{className:"text-gray-600 md:ml-4",children:[Object(I.jsxs)("span",{className:"text-3xl font-bold text-blue-600",children:[this.state.application.fname+" "+this.state.application.lname,"'s application re-evaluating"]}),Object(I.jsxs)("div",{className:"felx items-center",children:[Object(I.jsx)("span",{children:"Applied to:"}),Object(I.jsx)("span",{className:"ml-2",children:"Teaching mathematics"})]})]}),widthSizeClass:_.b.extraLarge,padding:{title:!0,body:!1,footer:!1},children:this.state.doc?Object(I.jsx)(M,{doc:this.state.doc,docTitle:this.state.docTitle,docSubTitle:this.state.docSubTitle,setDoc:this.setDoc}):Object(I.jsx)(X,{thisApplication:this.state.application,setDoc:this.setDoc,setDocTitle:this.setDocTitle,setDocSubTitle:this.setDocSubTitle,setThisApplication:this.setApplication,setModalState:this.setModalState,setApplication:this.setApplication})})]}):Object(I.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading..."})}}]),a}(l.Component),$=Object(h.b)((function(e){var t=e.auth,a=e.applicationToAssess,s=e.system_settings,n=e.document;return{auth:t,applicationToAssess:a,positions:s.systemPositions,documentCategories:n}}),{getPositions:g.d,getAllApplicationToAssess:x.Sb,getDocumentCategory:j.h,getDocumentSubCategory:j.j,PushPopupAlert:x.tb})(Z)}}]);
//# sourceMappingURL=44.b063f2e9.chunk.js.map