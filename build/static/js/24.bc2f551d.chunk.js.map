{"version":3,"sources":["interfaces/user_by_type.ts","containers/AdminDashboard/CenteDashboard/CenterDashboardTitle.tsx","containers/AdminDashboard/CenteDashboard/RoomChart.tsx","containers/AdminDashboard/CenteDashboard/CenterDashboard.tsx","containers/SessionSettings/NoSession.tsx","components/Navigation/SideNavigation.tsx","containers/Admin/ExamReport/DoneExamList.tsx","actions/users.ts","containers/Admin/ExamReport/ExamReport.tsx","containers/Admin/ExamReport/CandiadtePerformancePerDistrict.tsx","containers/Admin/ExamReport/ExamPerformancePerDistrict.tsx","containers/Admin/ExamReport/ExamReportFilters.tsx","containers/Admin/ExamReport/ExamReportTitle.tsx","utils/ExportToExcel.tsx","utils/mineduc.png","components/DownloadPDF/rest.tsx","containers/SessionSettings/ChooseSession.tsx","containers/Admin/ExamReport/CandidatePerformance.tsx","containers/AdminDashboard/ChartComponents/VBarChart.tsx","containers/Admin/ExamReport/ExamList.tsx","containers/Admin/ExamReport/ExamReportModals.tsx","containers/UserManagement/UserList.tsx","containers/UserManagement/RoleList.tsx","containers/UserManagement/UserRole.tsx","shared/blank_profile.png","containers/AdminDashboard/DashboardLabelItem.tsx","containers/Admin/ExamReport/ExamPerformance.tsx","containers/AdminDashboard/ExamDashboard/ExamDashboardLabels.tsx","containers/AdminDashboard/ChartComponents/PieChart.tsx","containers/UserManagement/UserAccess.tsx","containers/AdminDashboard/ExamDashboard/ExamDashboardTitle.tsx","containers/AdminDashboard/ExamDashboard/ExamPreparationChart.tsx","containers/AdminDashboard/ExamDashboard/ExamProgressChart.tsx","containers/AdminDashboard/ExamDashboard/ExamPerformanceChart.tsx","containers/AdminDashboard/ExamDashboard/ExamDashboard.tsx","interfaces/center_report.ts","containers/Admin/CenterReport/DistrictList.tsx"],"names":["UserByTypeKeys","invigilatorReportContentKeyInterface","CenterDashboardTitle","props","useState","searchInput","setSearchInput","className","loading","value","thisPeriod","disabled","onChange","e","setThisPeriod","application_sessions","target","map","session","item","_id","session_plan_name","onClick","setChooseDistrict","selectedDistrict","district_name","setChooseExam","selectedExam","course_name","chooseDistrict","Modal","title","backDrop","theme","Themes","default","close","backDropClose","widthSizeClass","ModalSize","small","displayClose","padding","DistrictList","districtList","getDistrictInRoom","reportMainData","setSelectedDistrict","loadindRequest","isModal","chooseExam","extraLarge","courses","examsList","Loading","type","placeholder","FC_reportExamList","length","setSelectedExam","searchExamList","i","course_id","course_code","React","memo","RoomChart","distinctDistricts","district_ids","key","allData","includes","district_id","push","generateChartData","categories","labels","occupied","remaining","thisOccupation","thisRemaining","thisDefaultOccupation","thisDefaultRemaining","districtName","forEach","district","thisDistrict","filter","room_number","course_in_room","find","itemCourse","capacity","series","name","data","VBarChart","this","categoriesLabel","dataLabels","yaxisText","tooltipText","colors","defaultBar","borderRadius","horizontal","columnWidth","endingShape","stacked","Component","filterRoom","dataList","result","defaultValue","all","room_type","full","remain","invigilator","isEmptyOrSpaces","_CenterDashboard","setLoading","status","setState","setSelectSession","selectSession","setSelectedSession","thisSession","selectedSession","allSession","sessionId","auth","education_institution_id","loadReportMainData","institution_id","a","axios","get","API","APPLICATION","res","console","log","error","reportMainData_error","PushPopupAlert","errorToText","PopupAlertTheme","danger","loadInvigilator","callback","AUTH","INVIGILATOR","invigilatorData","invigilatorData_error","loadExamData","loadCourses","loadingExam","loadExamsList","componentDidMount","state","sessionPlan","allSessionPlans","GetAllSessionPlans","errorMsg","sessionData","warning","activeSession","is_active","roomDataFilter","element","formError","NoSession","ExamDashboardLabels","icon","FaLaptopHouse","iconColor","count","roomWithOccupation","labelsOnRow","PieChart","options","legend","show","position","horizontalAlign","fontSize","itemMargin","vertical","plotOptions","pie","donut","color","offsetY","fontFamily","formatter","val","total","label","w","globals","seriesTotals","reduce","b","width","CenterDashboard","connect","course","prepareExam","description","_SideNavigation","PageHasSubNav","componentWillUnmount","isAuthenticated","navActive","system","navigation","children","SideNavigation","NavToogle","MainItem","MdBrightness1","active","IconDefined","ExaminationProgressReportContentKeyInterface","examinationProgressIsChangeAllowed","COURSER_NAME","COURSE_CODE","PERIOD","STATUS","defaultExaminationProgressContent","SCHOOL_LEVEL","DATE","TIME","DURATION","displayStatus","FC_reportDoneExamList","allCourses","allExams","doneExams","ids","Object","prototype","hasOwnProperty","call","id","courser","doneExam","period","school_levels","exam","preparation_status","exam_status","FC_reportDoneExamListFilter","thisList","thisValue","searchExamData","objList","text","undefined","product","flag","prop","toString","toLowerCase","indexOf","DoneExamList","isSorted","setIsSorted","sortProperty","setSortProperty","sortOrder","setSortOrder","setSort","thisProperty","courseListData","examsListData","doneExamsData","filterExamProgress","colSpan","sortThisArray","capitalizeFirstLetter","exam_date","start_time","duration","getPeriodById","documentValidationStatus","userPageLimit","fetchUserAccess","page","dispatch","setAxiosToken","USER","ActionTypes","FETCH_USERS_ACCESS","payload","users","next","previous","total_users","user_error","blockUserToSystem","user_id","BLOCK_USER_TO_SYSTEM","unBlockUserToSystem","UNBLOCK_USER_TO_SYSTEM","assignRoleToUserAccess","ASSIGN_ROLE_TO_USER","customizeUserAccess","CUSTOMIZE_USER_ACCESS","resetUserAccess","RESET_USER_ACCESS","FC_GetUserBySearch","search_value","reportTitleType","FC_CandiadtePerformancePerDistrictFilter","swap","exam_stastus","exam_location","j","user_total_marks","adminExamReport","candidatePerformanceData","FC_reportCandidatePerformanceData","reportCourseId","reportDistrictId","filterApplicantPerformance","searchCandidatePerformanceData","slice","controlRowsByStatus","user_name","national_id","user_email","user_phone","timestampToDate","timeAMPM","end_time","ReportUserExamStatus","Editing","Number","toFixed","FC_ExamPerformancePerDistrictPropsData","examsData","pass","failed","exam_ids","toLocaleLowerCase","_marks","candidatesByExam","_key","user","total_marks","user_status","pass_applicant","failed_applicant","applicants","NoResult","NoResultThemes","Dark","search","ExamReportFilters","reportTitle","EXAM_PERFORMANCE","EXAM_DISTRICT_PERFORMANCE","EXAM_PREPARATION","setFilterPreparation","filterPreparation","EXAMINATION_PROGRESS","setFilterExamProgress","APPLICANTS_PERFORMANCE","APPLICANTS_DISTRICT_PERFORMANCE","setFilterApplicantPerformance","values","index","schoolLevels","SetReportDistrictId","changeReport","setChangeReport","districtModal","setDistrictModal","excelModal","setExcelModal","courseModal","setCourseModal","useEffect","dataToPrint","updateExamToPrint","setGenerateReportModal","reportType","downloading","downlaodPDF","ExamReportModals","modalFor","ModalForTypes","generateReportModal","modalState","changeModalState","excelReportTitle","setExcelReportTitle","examsToPrint","examPreparationReportContent","setExamPreparationReportContent","examPerformanceToPrint","examPerformanceReportContent","setExamPerformanceReportContent","exam30PerformanceToPrint","exam30PerformanceReportContent","setExam30PerformanceReportContent","examinationProgressToPrint","examinationProgressReportContent","setExaminationProgressExamPerformanceReportContent","candidateExamPerformanceToPrint","candidateExamPerformanceReportContent","setCandidateExamPerformanceReportContent","candidate30ExamPerformanceToPrint","candidate30ExamPerformanceReportContent","setCandidate30ExamPerformanceReportContent","setReportTitle","choose_district","districtId","loadExaminationProgress","DoneExam","selectedEducationCategory","choose_exam","AllExamData","finished","thisExam","getExamByCourseId","periods","period_id","loadAllExams","selected_period","_ExamReport","setLoadingCourses","loadingCourses","setLoadingExams","loadingExams","setDownloading","setLoadingDoneExam","loadingDoneExam","setLoadingCandidatesExamPerformance","loadingCandidatesExamPerformance","setLoadingExamPerformance","loadingExamPerformance","setLoadingSettings","loadingSettings","setSelectPeriod","selectPeriod","setSelectedPeriod","setExamsToPrint","setExamPerformanceToPrint","setExam30PerformanceToPrint","setExaminationProgressToPrint","setCandidateExamPerformanceToPrint","setCandidate30ExamPerformanceToPrint","selectDefaultSession","active_period","onPeriodChange","FD_GetSessions","FC_GetAllSessionByInstitution","msg","FC_HasInstitute","education_categories","loadEducationCategories","setSelectedEducationCategory","education_institute_id","thisEducation","loadSchoolLevels","loadDoneExam","loadPerfomranceExam","loadCandidatesExamPerformance","order","sortBy","ReportGetCandidatePerformanceSortTypes","getLevelbyId","level_id","school_level_id","getCourses","search_all","level","levelDetail","education_institute","arrayNew","n","school_level","findLevel","school_level_name","dataArray","exam_period","exam_time","exam_duration","ExamPerformance","FC_reportExamPerformanceData","exam_performance","CandidatesExamPerformance","applicant_id","exam_start_time","exam_end_time","performance_status","applicant_name","email","phone","marks","addToTitle","document","querySelectorAll","table","getElementById","reportSettings","doneBy","fname","lname","subjectTitle","subject","footer","institute","education_category_title","orientation","generatePDF","defaultExamPreparationReportContent","defaultExamPerformanceContent","defaultCandidateExamPerformanceContent","capitalizeFirstWord","ExamList","examsPerformanceData","Light","component","CandidatePerformance","applicationPeriods","ExamReport","ExportToExcel","fileData","fileName","btnName","showIcon","apiData","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","Blob","FileSaver","exportToCSV","require","addFooters","doc","pageCount","internal","getNumberOfPages","setFont","setFontSize","setPage","String","pageSize","align","callBack","lMargin","jsPDF","setTextColor","addImage","Logo","getWidth","lines","splitTextToSize","pdfInMM","y","getTextWidth","addPage","autoTable","html","startY","margin","cellPadding","rowHeight","bodyStyles","valign","columnStyles","cellWidth","tableWidth","finalY","lastAutoTable","Date","save","returnPromise","then","isPlansActive","plans","today","activePlans","plan","startDate","start_date","endDate","end_date","getTime","type_status","SessionPlanTypeStatus","OPEN","ChooseSession","searched","selectedPlan","setSelectedPlan","setSearch","chooseAll","currentSelected","searchData","itm","type_key","type_title","CandidateExamPerformanceReportContentKeyInterface","candidateExamPerformanceIsChangeAllowed","APPLICANT","N_ID","EMAIL","PHONE","MARKS","START_TIME","END_TIME","user_info","n_id","phone_number","FC_reportCandidatePerformanceDataFilter","chart","events","dataPointSelection","event","chartContext","config","labelClicked","dataPointIndex","FC_LoadSelected","seriesIndex","bar","enabled","xaxis","rotate","tickPlacement","yaxis","fill","opacity","tooltip","grid","left","right","noData","verticalAlign","setOptions","chartClicked","zoom","autoScaleYaxis","height","chartHeight","examPreparationReportContentKeyInterface","examPreparationIsChangeAllowed","FC_reportExamListFilter","thisStatus","createdAt","FC_DistinctDistrict","locations","flags","output","l","roomLocation","getAllRoom","SetReportCourseId","setFormError","selectAll","setSelectAll","loadingLocation","setLoadingLocation","setError","setDistrictId","isChangeAllowed","examPerformanceIsChangeAllowed","updateExamPerformanceReportContent","findIndex","newArray","isSelectAllNeeded","updateCandidateExamPerformanceReportContent","showGenerateBtn","medium","updateExamPreparationReportContent","updateExaminationProgressReportContent","currentState","resetReportContent","isAllDistrictAllowed","LocationsInArray","selectDistrict","ModalState","RoleList","roleList","setChooseRole","role","handleSelectRole","system_user_role_id","url","UserRole","setRoleId","roleId","setSelectedRole","selectedRole","setProvinceId","provinceId","setCenterId","centerId","setRoomId","roomId","setLoadingForm","loadingForm","setInstituteId","instituteId","setLoadingRequest","loadingRequest","chooseRole","setDefaultState","default_access","LOAD_province","LOAD_district","district_required","roomList","distinctDistrict","province_id","room_required","room_id","center_id","userInfo","vvvvv","role_id","TYPE","tableData","access","task","permitted","create","view","update","delete","Math","random","assignRoleToUser","preventDefault","window","confirm","education_institution_required","formData","school_id","post","currentPage","setChangeRole","success","role_error","location","districts","keyDistrict","distinctCenter","rooms","distinctRoom","onSubmit","province","province_name","center","center_name","room","room_name","Table","columns","columnTitle","alignText","rows","pagination","searchBG","thColor","tableId","getUserById","userId","LocationData","locationTemp","p","d","centers","c","r","UserList","setLoadingRequestType","loadingRequestType","setRoomList","setRoomTables","roomTable","setCurrentAccess","currentAccess","setUserAccess","userAccess","allRoom","setLoadingUser","loadingUser","pageNumber","setManageUser","setManageUserId","sex","getRoleById","blockUser","actionType","patch","info","blockUser_ERROR","restUserAccess","resetedAccess","searchFind","manageUser","reseting_user_access","DATA_GetUser","manageUserId","DATA_GetRoleById","DATA_ThisRoom","src","photo","FC_GetBase64Img","profile","alt","getInstituteById","custome_access","changeRole","UserAccess","DashboardLabelItem","FaUsers","countOver","toAnyDigit","displayNumbers","examPerformanceReportContentKeyInterface","PERFORMANCE","examPerformance","answer_sheet_id","Fragment","numCols","childrenPosition","_UserAccess","setViewPermission","viewPermission","setLoadindRequest","setCreatePermission","createPermission","setUpdatePermission","updatePermission","setDeletePermission","deletePermission","setLoadind","overrideUserAccess","overideAccess","findCustom","custom","handleCustomization","custome_user_access_id","customize_access","to","checked","ExamDashboardTitle","education","loadingEducation","setThisEducation","ExamPreparationChart","examPreparationProgress","ExamProgressChart","progressData","ExamPerformanceChart","loadCoursesByInstitute","courseList","completeExams","remainingExams","dataFound","loadExamPreparationProgress","isDatePast","dateParam","date","moment","format","todayDate","pastDate","diff","loadExamAttendance","applicantList","_ExamDashboard","setChangingPeriod","changingPeriod","loadByPeriods","sessions","action","FaBookOpen","ExamDashboard","centerReportContentKeyInterface","invigilators","thisRoom","getRoomOccupation","roles_to_users","isUsed","bgWhite"],"mappings":"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","file":"static/js/24.bc2f551d.chunk.js","sourcesContent":["export enum UserByTypeKeys {\n  INVIGILATOR = \"room_id\",\n  HEAD_TEACHER = \"school_id\",\n  DIRECTOR_OF_EDUCATION = \"district_id\",\n  INSTITUTE = \"education_institution_id\",\n}\n\nexport interface UserByTypeInterfaceAPI {\n  _id: string;\n  roles_to_users: {\n    key: string;\n    system_user_role_id: string;\n    district_id: string;\n    school_id: string;\n    room_id: string;\n    status: number;\n    access: boolean;\n    assigned_date: string;\n    education_institution_id?: string;\n  };\n  n_id: string;\n  phone_number: string;\n  email: string;\n  user_info: {\n    document_type: string;\n    issue_number: string;\n    date_of_issue: string;\n    date_of_expiry: string;\n    place_of_issue: string;\n    application_number: string;\n    fname: string;\n    lname: string;\n    father_names: string;\n    mother_names: string;\n    sex: string;\n    date_of_birth: string;\n    place_of_birth: string;\n    country_of_birth: string;\n    village_id: string;\n    village: string;\n    cell: string;\n    sector: string;\n    district: string;\n    province: string;\n    civil_status: string;\n    spouse: null;\n    status: string;\n    photo: string;\n  };\n}\n\nexport interface UserByTypeInterface {\n  _id: string; // CAN BE ROOM ID + SCHOOL ID, DISTRICT ID\n  role_id: string | null;\n  role_name: string | null;\n  role_key: UserByTypeKeys;\n  national_id: string | null;\n  phone_number: string | null;\n  email: string | null;\n  first_name: string | null;\n  last_name: string | null;\n  gender: string | null;\n  photo: string | null;\n  province_id: string;\n  province_name: string;\n  district_id: string;\n  district_name: string;\n  center_id: string;\n  center_name: string;\n  room_id: string;\n  room_name: string;\n  school_id: string;\n  school_name: string;\n}\n\n// EXPORT INTERFACES ====================\nexport interface invigilatorToPrintInterface {\n  no: number;\n  province_name: string;\n  district_name: string;\n  center_name: string;\n  room_name: string;\n  national_id: string;\n  email: string;\n  first_name: string;\n  last_name: string;\n  phone_number: string;\n  gender: string;\n}\n\nexport enum invigilatorReportContentKeyInterface {\n  // USER INFO =====================\n  first_name = \"first_name\",\n  last_name = \"last_name\",\n  email = \"email\",\n  phone_number = \"phone_number\",\n  gender = \"gender\",\n  national_id = \"national_id\",\n  // ROOM INFO =====================\n  province_name = \"province_name\",\n  district_name = \"district_name\",\n  center_name = \"center_name\",\n  room_name = \"room_name\",\n}\n\nexport interface invigilatorReportContentInterface {\n  key: invigilatorReportContentKeyInterface;\n  title: string;\n  status: boolean;\n}\n","import React, { Fragment, useState } from \"react\";\nimport { AiFillDashboard } from \"react-icons/ai\";\nimport { CgFileDocument } from \"react-icons/cg\";\nimport { FiEdit } from \"react-icons/fi\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport Modal, { ModalSize, Themes } from \"../../../components/Modal/Modal\";\nimport { course, SessionPlanInterface } from \"../../../interfaces\";\nimport {\n  centerReportInterface,\n  getDistrictInRoom,\n  roomDistrictInterface,\n} from \"../../../interfaces/center_report\";\nimport { ExamItemResponse } from \"../../../interfaces/prepare_exam\";\nimport DistrictList from \"../../Admin/CenterReport/DistrictList\";\nimport {\n  examPreparationStateInterface,\n  FC_reportExamList,\n  searchExamList,\n} from \"../../Admin/ExamReport/ExamList\";\n\ntype CenterReportTitleProps = {\n  // FOR SETTINGS ==============================\n  loading: boolean;\n\n  //   FOR APPLICATION SESSION ============================\n  thisPeriod: string;\n  setThisPeriod: (\n    allSession: SessionPlanInterface[],\n    sessionId: string\n  ) => void;\n  application_sessions: SessionPlanInterface[];\n  chooseDistrict: boolean;\n  setChooseDistrict: (status: boolean) => void;\n  selectedDistrict: roomDistrictInterface | \"all\";\n  setSelectedDistrict: (data: roomDistrictInterface | \"all\") => void;\n  chooseExam: boolean;\n  setChooseExam: (status: boolean) => void;\n  selectedExam: examPreparationStateInterface | \"all\";\n  setSelectedExam: (data: examPreparationStateInterface | \"all\") => void;\n  reportMainData: centerReportInterface[];\n  examsList: ExamItemResponse[] | null;\n  courses: course[] | null;\n};\n\nconst CenterDashboardTitle: React.FC<CenterReportTitleProps> = (props) => {\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n\n  return (\n    <Fragment>\n      <div className=\"mt-3 rounded flex flex-col md:flex-row md:justify-between items-start\">\n        <div className=\"flex flex-row items-center gap-3 mb-2\">\n          <AiFillDashboard className=\"text-7xl text-blue-600 hidden md:block\" />\n          <div className=\"flex flex-col\">\n            <span className=\"text-blue-600 text-3xl font-bold\">\n              Center Dashboard\n            </span>\n          </div>\n        </div>\n\n        {/* FILTER SECTION PERIOD && EDUCATION */}\n        <section className=\"w-full flex flex-col items-end md:w-auto my-2 md:my-0\">\n          <div>\n            <select\n              className={`bg-white text-gray-600 border border-gray-400 rounded p-2 focus:outline-none ${\n                props.loading && \"cursor-wait\"\n              }`}\n              value={props.thisPeriod}\n              disabled={props.loading}\n              onChange={(e) => {\n                props.setThisPeriod(props.application_sessions, e.target.value);\n              }}\n            >\n              {props.application_sessions.map((session, item) => (\n                <option key={session._id + item} value={session._id}>\n                  {session.session_plan_name}\n                </option>\n              ))}\n            </select>\n          </div>\n          {/* DISTRICT sections */}\n          <div className=\"mt-1 w-full\">\n            <div\n              onClick={() => props.setChooseDistrict(true)}\n              className=\"font-bold bg-gray-50 border border-gray-400 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-gray-600 w-full flex flex-row items-center animate__animated animate__zoomIn\"\n            >\n              {props.selectedDistrict !== \"all\"\n                ? `${props.selectedDistrict.district_name}`\n                : \"All district\"}\n              <FiEdit className=\"text-lg text-gray-600\" />\n            </div>\n          </div>\n          {/* end DISTRICT sections */}\n\n          {/* DISTRICT sections */}\n          <div className=\"mt-1 w-full\">\n            <div\n              onClick={() => props.setChooseExam(true)}\n              className=\"font-bold bg-gray-50 border border-gray-400 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-gray-600 w-full flex flex-row items-center animate__animated animate__zoomIn\"\n            >\n              {props.selectedExam !== \"all\"\n                ? `${props.selectedExam.course_name}`\n                : \"All exam\"}\n              <FiEdit className=\"text-lg text-gray-600\" />\n            </div>\n          </div>\n          {/* end DISTRICT sections */}\n        </section>\n        {/* END FILTER SECTION PERIOD && EDUCATION */}\n      </div>\n\n      {props.chooseDistrict && (\n        <Modal\n          title={\n            <div className=\"flex flex-row gap-4 items-center\">\n              <CgFileDocument className=\"text-3xl text-blue-600\" />\n              <div className=\"flex flex-col\">\n                <span className=\"font-bold text-xl text-blue-600\">\n                  Choose district\n                </span>\n              </div>\n            </div>\n          }\n          backDrop={true}\n          theme={Themes.default}\n          close={() => props.setChooseDistrict(false)}\n          backDropClose={true}\n          widthSizeClass={ModalSize.small}\n          displayClose={true}\n          padding={{ title: true }}\n        >\n          <DistrictList\n            setChooseDistrict={props.setChooseDistrict}\n            districtList={getDistrictInRoom(props.reportMainData)}\n            setSelectedDistrict={props.setSelectedDistrict}\n            loadindRequest={props.loading}\n            isModal={true}\n            selectedDistrict={props.selectedDistrict}\n          />\n        </Modal>\n      )}\n\n      {props.chooseExam && (\n        <Modal\n          title={\n            <div className=\"flex flex-row gap-4 items-center\">\n              <CgFileDocument className=\"text-5xl text-blue-600\" />\n              <div className=\"flex flex-col\">\n                <span className=\"font-bold text-xl text-blue-600\">\n                  Choose exam\n                </span>\n              </div>\n            </div>\n          }\n          backDrop={true}\n          theme={Themes.default}\n          close={() => props.setChooseExam(false)}\n          backDropClose={true}\n          widthSizeClass={ModalSize.extraLarge}\n          displayClose={true}\n          padding={{ title: true }}\n        >\n          {props.courses === null || props.examsList === null ? (\n            <Loading />\n          ) : (\n            <div className=\"px-2 pb-2\">\n              <div className=\"w-full py-2\">\n                <input\n                  onChange={(e) => setSearchInput(e.target.value)}\n                  type=\"text\"\n                  value={searchInput}\n                  placeholder=\"Search...\"\n                  className=\"w-full bg-white py-2 px-3 rounded border border-gray-400\"\n                  disabled={\n                    FC_reportExamList(props.courses, props.examsList).length <=\n                    0\n                      ? true\n                      : false\n                  }\n                />\n              </div>\n              <div\n                onClick={() => {\n                  props.setSelectedExam(\"all\");\n                  props.setChooseExam(false);\n                }}\n                className={`flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ${\n                  props.selectedExam === \"all\"\n                    ? \"bg-blue-50 border-blue-400\"\n                    : \"bg-white border-gray-200\"\n                }`}\n              >\n                <div>\n                  <div className=\"text-sm font-medium italic\">\n                    code: <span className=\"text-blue-500\">-</span>\n                  </div>\n                  <div className=\"font-bold text-lg\">All exams</div>\n                </div>\n                <div className=\"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2\">\n                  Choose\n                </div>\n              </div>\n              {searchExamList(\n                FC_reportExamList(props.courses, props.examsList),\n                searchInput\n              ).map((item, i) => (\n                <div\n                  onClick={() => {\n                    props.setSelectedExam(item);\n                    props.setChooseExam(false);\n                  }}\n                  key={i + 1}\n                  className={`flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ${\n                    props.selectedExam !== \"all\" &&\n                    props.selectedExam.course_id === item.course_id\n                      ? \"bg-blue-50 border-blue-400\"\n                      : \"bg-white border-gray-200\"\n                  }`}\n                >\n                  <div>\n                    <div className=\"text-sm font-medium italic\">\n                      code:{\" \"}\n                      <span className=\"text-blue-500\">{item.course_code}</span>\n                    </div>\n                    <div className=\"font-bold text-lg\">{item.course_name}</div>\n                  </div>\n                  <div className=\"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2\">\n                    Choose\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </Modal>\n      )}\n    </Fragment>\n  );\n};\n\nexport default React.memo(CenterDashboardTitle);\n","import React, { Component, Fragment } from \"react\";\nimport { centerReportInterface } from \"../../../interfaces/center_report\";\nimport { examPreparationStateInterface } from \"../../Admin/ExamReport/ExamList\";\nimport VBarChart from \"../ChartComponents/VBarChart\";\n\ntype RoomChartProps = {\n  allData: centerReportInterface[];\n  // selectedDistrict: roomDistrictInterface | \"all\";\n  // selectedSession: SessionPlanInterface | null;\n  selectedExam: examPreparationStateInterface | \"all\";\n};\n\nexport class RoomChart extends Component<RoomChartProps> {\n  // generateChartData = (): {\n  //   series: {\n  //     name: string;\n  //     data: number[];\n  //   }[];\n  //   categories: (string | string[])[];\n  //   labels: string[];\n  // } => {\n  //   let categories: (string | string[])[] = [],\n  //     labels: string[] = [],\n  //     occupied: number[] = [],\n  //     remaining: number[] = [],\n  //     district_ids: string[] = [];\n  //   for (const key in this.props.allData) {\n  //     if (\n  //       !district_ids.includes(this.props.allData[key]._id) &&\n  //       this.props.allData[key].room_number !== 0\n  //     ) {\n  //       district_ids.push(this.props.allData[key]._id);\n  //       occupied.push(this.props.allData[key].occupied);\n  //       remaining.push(\n  //         this.props.allData[key].capacity - this.props.allData[key].occupied\n  //       );\n  //       categories.push([\n  //         this.props.allData[key].district_name,\n  //         this.props.allData[key].center_name,\n  //         this.props.allData[key].room_number.toString(),\n  //       ]);\n  //       labels.push(\n  //         this.props.allData[key].district_name +\n  //           \" \" +\n  //           this.props.allData[key].center_name +\n  //           \" \" +\n  //           this.props.allData[key].room_number.toString()\n  //       );\n  //     }\n  //   }\n  //   return {\n  //     series: [\n  //       {\n  //         name: \"Occupied room\",\n  //         data: occupied,\n  //       },\n  //       {\n  //         name: \"Remaining room\",\n  //         data: remaining,\n  //       },\n  //     ],\n  //     categories,\n  //     labels,\n  //   };\n  // };\n\n  distinctDistricts = (): string[] => {\n    let district_ids: string[] = [];\n    for (const key in this.props.allData) {\n      if (!district_ids.includes(this.props.allData[key].district_id)) {\n        district_ids.push(this.props.allData[key].district_id);\n      }\n    }\n    return district_ids;\n  };\n\n  generateChartData = (): {\n    series: {\n      name: string;\n      data: number[];\n    }[];\n    categories: (string | string[])[];\n    labels: string[];\n  } => {\n    let categories: (string | string[])[] = [],\n      labels: string[] = [],\n      occupied: number[] = [],\n      remaining: number[] = [],\n      district_ids: string[] = [];\n    let thisOccupation: number = 0,\n      thisRemaining: number = 0,\n      thisDefaultOccupation: number = 0,\n      thisDefaultRemaining: number = 0,\n      districtName: string = \"\";\n    this.distinctDistricts().forEach((district) => {\n      const thisDistrict = this.props.allData.filter(\n        (item) => item.district_id === district\n      );\n\n      for (const key in thisDistrict) {\n        if (thisDistrict[key].room_number !== 0) {\n          districtName = thisDistrict[key].district_name;\n          const selectedExam = this.props.selectedExam;\n          if (selectedExam !== \"all\") {\n            thisDefaultOccupation = thisDistrict[key].course_in_room.find(\n              (itemCourse) => itemCourse.course_id === selectedExam.course_id\n            )\n              ? thisDistrict[key].course_in_room.find(\n                  (itemCourse) =>\n                    itemCourse.course_id === selectedExam.course_id\n                )!.occupied\n              : 0;\n            thisDefaultRemaining =\n              thisDistrict[key].capacity -\n              (thisDistrict[key].course_in_room.find(\n                (itemCourse) => itemCourse.course_id === selectedExam.course_id\n              )\n                ? thisDistrict[key].course_in_room.find(\n                    (itemCourse) =>\n                      itemCourse.course_id === selectedExam.course_id\n                  )!.occupied\n                : 0);\n          } else {\n            thisDefaultOccupation = thisDistrict[key].occupied;\n            thisDefaultRemaining =\n              thisDistrict[key].capacity - thisDistrict[key].occupied;\n          }\n          thisOccupation += thisDefaultOccupation;\n          thisRemaining += thisDefaultRemaining;\n        }\n      }\n      if (!district_ids.includes(district)) {\n        district_ids.push(district);\n        occupied.push(thisOccupation);\n        remaining.push(thisRemaining);\n        categories.push([districtName]);\n        labels.push(districtName);\n      }\n      districtName = \"\";\n      thisRemaining = 0;\n      thisOccupation = 0;\n    });\n\n    return {\n      series: [\n        {\n          name: \"Occupied room\",\n          data: occupied,\n        },\n        {\n          name: \"Remaining room\",\n          data: remaining,\n        },\n      ],\n      categories,\n      labels,\n    };\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"w-full\">\n          <VBarChart\n            labels={this.generateChartData().labels}\n            categoriesLabel={this.generateChartData().categories}\n            dataLabels={true}\n            yaxisText=\" sit(s)\"\n            tooltipText=\" sit(s)\"\n            series={this.generateChartData().series}\n            colors={[\"#059669\", \"#374151\"]}\n            defaultBar={{\n              borderRadius: 4,\n              horizontal: true,\n              columnWidth: \"95%\",\n              endingShape: \"rounded\",\n            }}\n            // chartHeight={\n            //   this.generateChartData().series.length <= 10 ? 550 : 1000\n            // }\n            stacked={true}\n          />\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default React.memo(RoomChart);\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { FaLaptopHouse } from \"react-icons/fa\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  loadCourses,\n  loadExamsList,\n  PushPopupAlert,\n} from \"../../../actions\";\nimport { GetAllSessionPlans } from \"../../../actions/session\";\nimport { PopupAlertData } from \"../../../components/Alert/Popup\";\nimport { SessionPlanInterface, course } from \"../../../interfaces\";\nimport {\n  centerReportInterface,\n  centerReportInterface_NEW,\n  roomDistrictInterface,\n  roomWithOccupation,\n} from \"../../../interfaces/center_report\";\nimport { PopupAlertTheme } from \"../../../interfaces/popupAlert\";\nimport { ExamItemResponse } from \"../../../interfaces/prepare_exam\";\nimport {\n  UserByTypeInterfaceAPI,\n  UserByTypeKeys,\n} from \"../../../interfaces/user_by_type\";\nimport { StoreState } from \"../../../reducers\";\nimport { SessionPlanReducerInterface } from \"../../../reducers/session\";\nimport { isEmptyOrSpaces } from \"../../../shared/dataTest\";\nimport { API } from \"../../../utils/api\";\nimport { errorToText } from \"../../../utils/errors\";\nimport { examPreparationStateInterface } from \"../../Admin/ExamReport/ExamList\";\nimport NoSession from \"../../SessionSettings/NoSession\";\nimport PieChart from \"../ChartComponents/PieChart\";\nimport ExamDashboardLabels from \"../ExamDashboard/ExamDashboardLabels\";\nimport CenterDashboardTitle from \"./CenterDashboardTitle\";\nimport RoomChart from \"./RoomChart\";\n\nexport const filterRoom = (\n  dataList: centerReportInterface_NEW[],\n  thisDistrict: roomDistrictInterface | \"all\"\n): {\n  all: centerReportInterface_NEW[];\n  full: centerReportInterface_NEW[];\n  remain: centerReportInterface_NEW[];\n  invigilator: centerReportInterface_NEW[];\n} => {\n  let result: centerReportInterface_NEW[] = dataList,\n    defaultValue: boolean = false;\n  if (thisDistrict !== \"all\") {\n    // roomWithOccupation;\n    result = result.filter(\n      (item) => item.district_id === thisDistrict.district_id\n    );\n  }\n  // RETURN DEFAULT VALUES ====================\n  else {\n    defaultValue = true;\n  }\n  return defaultValue\n    ? {\n        all: dataList.filter((item) => item.room_type !== \"Default\"),\n        full: dataList.filter(\n          (item) =>\n            item.room_type !== \"Default\" && item.occupied >= item.capacity\n        ),\n        remain: dataList.filter(\n          (item) =>\n            item.room_type !== \"Default\" && item.occupied < item.capacity\n        ),\n        invigilator: dataList.filter(\n          (item) =>\n            item.room_type !== \"Default\" && !isEmptyOrSpaces(item.invigilator)\n        ),\n      }\n    : {\n        all: result,\n        full: result.filter((item) => item.occupied >= item.capacity),\n        remain: result.filter((item) => item.occupied < item.capacity),\n        invigilator: dataList.filter(\n          (item) => !isEmptyOrSpaces(item.invigilator)\n        ),\n      };\n};\n\ninterface CenterDashboardProps {\n  //   REDUX ############################\n  auth: Auth;\n  sessionPlan: SessionPlanReducerInterface;\n  courses: course[] | null;\n  examsList: ExamItemResponse[] | null;\n  GetAllSessionPlans: Function;\n  loadCourses: Function;\n  loadExamsList: Function;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n}\n\ninterface CenterDashboardState {\n  loading: boolean;\n  loadingExam: boolean;\n  selectSession: boolean;\n  selectedSession: SessionPlanInterface | null;\n  reportMainData: centerReportInterface[] | null;\n  formError: {\n    element: string;\n    msg: string;\n  } | null;\n  selectedDistrict: roomDistrictInterface | \"all\";\n  chooseDistrict: boolean;\n  invigilatorData: UserByTypeInterfaceAPI[] | null;\n  selectedExam: examPreparationStateInterface | \"all\";\n  chooseExam: boolean;\n}\n\nclass _CenterDashboard extends Component<\n  CenterDashboardProps,\n  CenterDashboardState\n> {\n  constructor(props: CenterDashboardProps) {\n    super(props);\n    this.state = {\n      loading: true,\n      loadingExam: true,\n      selectSession: false,\n      selectedSession: null,\n      reportMainData: null,\n      formError: null,\n      selectedDistrict: \"all\",\n      chooseDistrict: false,\n      invigilatorData: null,\n      chooseExam: false,\n      selectedExam: \"all\",\n    };\n  }\n\n  setLoading = (status: boolean) => {\n    this.setState({ loading: status });\n  };\n\n  setSelectSession = (status: boolean) => {\n    this.setState({ selectSession: status });\n  };\n\n  setSelectedSession = (thisSession: SessionPlanInterface) => {\n    this.setState({ selectedSession: thisSession });\n  };\n\n  setThisPeriod = (allSession: SessionPlanInterface[], sessionId: string) => {\n    let thisSession: SessionPlanInterface | undefined = allSession.find(\n      (item) => item._id === sessionId\n    );\n    if (thisSession && this.props.auth.education_institution_id) {\n      this.setState({ selectedSession: thisSession });\n      this.loadReportMainData(\n        this.props.auth.education_institution_id,\n        thisSession\n      );\n    }\n  };\n\n  loadReportMainData = async (\n    institution_id: string,\n    thisSession: SessionPlanInterface\n  ) => {\n    try {\n      const res = await axios.get<centerReportInterface[]>(\n        `${API.APPLICATION}/room/currentroomoccupation/${institution_id}/${thisSession._id}`\n      );\n      console.log(\"====================================\");\n      console.log({ reportMainData: res.data });\n      console.log(\"====================================\");\n      this.setState({ reportMainData: res.data });\n    } catch (error) {\n      console.error({ reportMainData_error: error });\n      // callback(false, errorToText(error));\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n  };\n\n  loadInvigilator = async (callback: Function) => {\n    callback(true);\n    try {\n      const res = await axios.get<UserByTypeInterfaceAPI[]>(\n        `${API.AUTH}/userbytype/${UserByTypeKeys.INVIGILATOR}`\n      );\n      console.log(\"====================================\");\n      console.log({ invigilatorData: res.data });\n      console.log(\"====================================\");\n      this.setState({ invigilatorData: res.data });\n      callback(false);\n    } catch (error) {\n      console.error({ invigilatorData_error: error });\n      // callback(false, errorToText(error));\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n  };\n\n  loadExamData = () => {\n    if (this.props.courses === null || this.props.courses.length === 0) {\n      this.props.loadCourses((status: boolean) => {\n        this.setState({ loadingExam: status });\n      });\n    } else {\n      this.setState({ loadingExam: false });\n    }\n\n    if (this.props.examsList === null || this.props.examsList.length === 0) {\n      this.props.loadExamsList((status: boolean) => {\n        this.setState({ loadingExam: status });\n      });\n    } else {\n      this.setState({ loadingExam: false });\n    }\n  };\n\n  componentDidMount = () => {\n    if (this.props.auth.education_institution_id) {\n      if (this.state.invigilatorData === null) {\n        this.loadInvigilator(this.setLoading);\n      }\n\n      if (\n        this.props.sessionPlan.allSessionPlans === null ||\n        this.props.sessionPlan.allSessionPlans.length === 0\n      ) {\n        this.props.GetAllSessionPlans(\n          (\n            status: boolean,\n            errorMsg: string,\n            sessionData: SessionPlanInterface[]\n          ) => {\n            this.setLoading(status);\n            if (!status) {\n              if (!isEmptyOrSpaces(errorMsg)) {\n                this.props.PushPopupAlert({\n                  title: errorMsg,\n                  theme: PopupAlertTheme.warning,\n                });\n              }\n\n              if (sessionData && sessionData.length > 0) {\n                let activeSession = sessionData.find((item) => item.is_active);\n                if (activeSession) {\n                  this.setSelectedSession(activeSession);\n                  if (\n                    this.state.reportMainData === null &&\n                    this.props.auth.education_institution_id\n                  ) {\n                    this.loadReportMainData(\n                      this.props.auth.education_institution_id,\n                      activeSession\n                    );\n                  }\n                } else {\n                  this.setSelectedSession(sessionData[sessionData.length - 1]);\n                  if (\n                    this.state.reportMainData === null &&\n                    this.props.auth.education_institution_id\n                  ) {\n                    this.loadReportMainData(\n                      this.props.auth.education_institution_id,\n                      sessionData[sessionData.length - 1]\n                    );\n                  }\n                }\n              }\n            }\n          }\n        );\n      } else {\n        if (this.props.sessionPlan.allSessionPlans.length > 0) {\n          let activeSession = this.props.sessionPlan.allSessionPlans.find(\n            (item) => item.is_active\n          );\n          if (activeSession) {\n            this.setSelectedSession(activeSession);\n            if (\n              this.state.reportMainData === null &&\n              this.props.auth.education_institution_id\n            ) {\n              this.loadReportMainData(\n                this.props.auth.education_institution_id,\n                activeSession\n              );\n            }\n          } else {\n            this.setSelectedSession(\n              this.props.sessionPlan.allSessionPlans[\n                this.props.sessionPlan.allSessionPlans.length - 1\n              ]\n            );\n            if (\n              this.state.reportMainData === null &&\n              this.props.auth.education_institution_id\n            ) {\n              this.loadReportMainData(\n                this.props.auth.education_institution_id,\n                this.props.sessionPlan.allSessionPlans[\n                  this.props.sessionPlan.allSessionPlans.length - 1\n                ]\n              );\n            }\n          }\n          this.setLoading(false);\n        }\n      }\n\n      if (this.props.courses === null || this.props.courses.length === 0) {\n        this.props.loadCourses((status: boolean) => {\n          this.setState({ loadingExam: status });\n        });\n      } else {\n        this.setState({ loadingExam: false });\n      }\n\n      if (this.props.examsList === null || this.props.examsList.length === 0) {\n        this.props.loadExamsList((status: boolean) => {\n          this.setState({ loadingExam: status });\n        });\n      } else {\n        this.setState({ loadingExam: false });\n      }\n    }\n  };\n\n  setChooseDistrict = (status: boolean) => {\n    this.setState({ chooseDistrict: status });\n  };\n\n  setSelectedDistrict = (data: roomDistrictInterface | \"all\") => {\n    this.setState({ selectedDistrict: data });\n  };\n\n  setChooseExam = (status: boolean) => {\n    this.setState({ chooseExam: status });\n  };\n\n  setSelectedExam = (data: examPreparationStateInterface | \"all\") => {\n    this.setState({ selectedExam: data });\n  };\n\n  roomDataFilter = (\n    allData: centerReportInterface[],\n    selectedExam: examPreparationStateInterface | \"all\"\n  ): centerReportInterface[] => {\n    if (selectedExam !== \"all\") {\n      return allData.filter((item) =>\n        item.course_in_room.filter(\n          (element) => element.course_id === selectedExam.course_id\n        )\n      );\n    }\n    return allData;\n  };\n\n  render() {\n    if (\n      this.props.sessionPlan.allSessionPlans &&\n      this.props.sessionPlan.allSessionPlans.length === 0\n    ) {\n      return <NoSession />;\n    }\n\n    if (\n      this.state.selectedSession === null ||\n      this.props.sessionPlan.allSessionPlans === null ||\n      this.state.reportMainData === null ||\n      this.state.invigilatorData === null\n    ) {\n      return (\n        <div className=\"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse\">\n          Loading Data...\n        </div>\n      );\n    }\n\n    return (\n      <section>\n        <CenterDashboardTitle\n          loading={this.state.loading}\n          thisPeriod={this.state.selectedSession._id}\n          setThisPeriod={this.setThisPeriod}\n          application_sessions={this.props.sessionPlan.allSessionPlans}\n          chooseDistrict={this.state.chooseDistrict}\n          setChooseDistrict={this.setChooseDistrict}\n          selectedDistrict={this.state.selectedDistrict}\n          setSelectedDistrict={this.setSelectedDistrict}\n          reportMainData={this.state.reportMainData}\n          chooseExam={this.state.chooseExam}\n          setChooseExam={this.setChooseExam}\n          selectedExam={this.state.selectedExam}\n          setSelectedExam={this.setSelectedExam}\n          examsList={this.props.examsList}\n          courses={this.props.courses}\n        />\n\n        {this.state.reportMainData && (\n          <section className=\"my-2\">\n            <div className=\"text-2xl font-semibold text-gray-600\">\n              Room occupation status\n            </div>\n            <ExamDashboardLabels\n              dataLabels={[\n                {\n                  title: \"Total room\",\n                  icon: FaLaptopHouse,\n                  iconColor: \"blue\",\n                  count: filterRoom(\n                    roomWithOccupation(\n                      this.state.reportMainData,\n                      this.state.invigilatorData\n                    ),\n                    this.state.selectedDistrict\n                  ).all.length,\n                },\n                {\n                  title: \"Full room\",\n                  icon: FaLaptopHouse,\n                  iconColor: \"green\",\n                  count: filterRoom(\n                    roomWithOccupation(\n                      this.state.reportMainData,\n                      this.state.invigilatorData\n                    ),\n                    this.state.selectedDistrict\n                  ).full.length,\n                },\n                {\n                  title: \"Available room\",\n                  icon: FaLaptopHouse,\n                  iconColor: \"gray\",\n                  count: filterRoom(\n                    roomWithOccupation(\n                      this.state.reportMainData,\n                      this.state.invigilatorData\n                    ),\n                    this.state.selectedDistrict\n                  ).remain.length,\n                },\n                {\n                  title: \"Room with invigilator\",\n                  icon: FaLaptopHouse,\n                  iconColor: \"gray\",\n                  count: filterRoom(\n                    roomWithOccupation(\n                      this.state.reportMainData,\n                      this.state.invigilatorData\n                    ),\n                    this.state.selectedDistrict\n                  ).invigilator.length,\n                },\n              ]}\n              labelsOnRow={5}\n            >\n              <div className=\"flex justify-center\">\n                <PieChart\n                  options={{\n                    labels: [\"Prepared\", \"Remaining\"],\n                    legend: {\n                      show: false,\n                      position: \"bottom\",\n                      horizontalAlign: \"center\",\n                      fontSize: \"16px\",\n                      itemMargin: {\n                        horizontal: 3,\n                        vertical: 0,\n                      },\n                    },\n                    plotOptions: {\n                      pie: {\n                        donut: {\n                          labels: {\n                            show: true,\n                            name: {\n                              show: true,\n                              fontSize: \"16px\",\n                              //   fontFamily: \"Rubik\",\n                              color: \"#2564eb\",\n                              offsetY: -10,\n                            },\n                            value: {\n                              show: true,\n                              fontSize: \"20px\",\n                              fontFamily: \"Helvetica, Arial, sans-serif\",\n                              color: \"#2564eb\",\n                              offsetY: 10,\n                              formatter: function (val) {\n                                return val;\n                              },\n                            },\n                            total: {\n                              show: true,\n                              label: \"Total\",\n                              color: \"#2564eb\",\n                              formatter: function (w) {\n                                return w.globals.seriesTotals.reduce(\n                                  (a: number, b: number) => {\n                                    return a + b;\n                                  },\n                                  0\n                                );\n                              },\n                            },\n                          },\n                        },\n                      },\n                    },\n                    colors: [\"#469769\", \"#4b5563\"],\n                  }}\n                  series={[\n                    filterRoom(\n                      roomWithOccupation(\n                        this.state.reportMainData,\n                        this.state.invigilatorData\n                      ),\n                      this.state.selectedDistrict\n                    ).full.length,\n                    filterRoom(\n                      roomWithOccupation(\n                        this.state.reportMainData,\n                        this.state.invigilatorData\n                      ),\n                      this.state.selectedDistrict\n                    ).remain.length,\n                  ]}\n                  width={210}\n                />\n              </div>\n            </ExamDashboardLabels>\n          </section>\n        )}\n\n        <section className=\"my-3 max-w-full bg-white\">\n          <div className=\"flex items-center justify-between px-3\">\n            <span className=\"text-gray-600 font-semibold text-xl py-4 px-0\">\n              Room availability{\" \"}\n              {this.state.selectedDistrict === \"all\"\n                ? \"on country level\"\n                : \"in \" +\n                  this.state.selectedDistrict.district_name +\n                  \" district\"}\n            </span>\n          </div>\n          <div className=\"mb-4 pb-2 px-3\">\n            <RoomChart\n              allData={this.roomDataFilter(\n                roomWithOccupation(\n                  this.state.reportMainData,\n                  this.state.invigilatorData\n                ),\n                this.state.selectedExam\n              )}\n              selectedExam={this.state.selectedExam}\n            />\n          </div>\n        </section>\n      </section>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  sessionPlan,\n  course,\n  prepareExam,\n}: StoreState): {\n  auth: Auth;\n  sessionPlan: SessionPlanReducerInterface;\n  courses: course[] | null;\n  examsList: ExamItemResponse[] | null;\n} => {\n  return {\n    auth: auth,\n    sessionPlan,\n    courses: course.courses,\n    examsList: prepareExam.examsList,\n  };\n};\n\nexport const CenterDashboard = connect(mapStateToProps, {\n  GetAllSessionPlans,\n  loadCourses,\n  loadExamsList,\n  PushPopupAlert,\n})(_CenterDashboard);\n","import React from \"react\";\nimport { IoWarning } from \"react-icons/io5\";\n// import { MdInfoOutline } from \"react-icons/md\";\nimport { NavLink } from \"react-router-dom\";\n\ntype NoSessionProps = {\n  title?: string;\n  description?: string;\n};\n\nconst NoSession: React.FC<NoSessionProps> = ({\n  title = \"No session available\",\n  description = \"Please Wait for the system to publish the sessions or contact the administrator\",\n}) => {\n  return (\n    <div className=\"w-full my-5\">\n      <section className=\"py-10 flex flex-col items-center rounded border border-gray-300 bg-white text-2xl font-medium text-yellow-800 animate__animated animate__pulse\">\n        <div className=\"flex flex-col items-center\">\n          <IoWarning className=\"w-32 h-32\" />\n          {description}\n        </div>\n        {false && (\n          <div className=\"text-center group text-sm -mb-3 mt-5\">\n            <NavLink\n              to=\"/apps-page\"\n              className=\"border border-rounded-md bg-gray-100 text-gray-900 rounded border-gray-100 group-hover:bg-gray-50 group-hover:border-gray-400 px-2 py-1\"\n            >\n              Back to App\n            </NavLink>\n          </div>\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default React.memo(NoSession);\n","import React, { FC, ReactElement, ReactNode } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Auth, System } from \"../../actions\";\nimport { StoreState } from \"../../reducers\";\nimport { NavToogle, PageHasSubNav } from \"../../actions\";\nimport { MdBrightness1, MdSearch } from \"react-icons/md\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n  system: System;\n  PageHasSubNav: Function;\n  NavToogle: Function;\n  children: ReactNode;\n}\n//\ninterface AppState {\n  loading: boolean;\n}\n\nclass _SideNavigation extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n  componentDidMount = () => this.props.PageHasSubNav(true);\n  componentWillUnmount = () => this.props.PageHasSubNav(false);\n\n  render() {\n    const isAuthenticated = this.props.auth.isAuthenticated;\n\n    if (isAuthenticated === false) {\n      return null;\n    }\n\n    const navActive = this.props.system.navigation;\n    return (\n      <div\n        className={`fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ${\n          navActive === true ? \"lg:left-16  left-16\" : \" -left-72 lg:left-16\"\n        }  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto`}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  system,\n}: StoreState): { auth: Auth; system: System } => {\n  return { auth: auth, system: system };\n};\n\nexport const SideNavigation = connect(mapStateToProps, {\n  NavToogle,\n  PageHasSubNav,\n})(_SideNavigation);\n\n//************************************ FORM SEARCH **************************************** */\n\ntype SearchComponentInterface = {\n  data: any[];\n};\n\nexport const Search: FC<SearchComponentInterface> = ({\n  data,\n}): ReactElement => {\n  return (\n    <div className=\"m-1 rounded-md shadow-md border border-blue-400 bg-white p-1 flex \">\n      <label htmlFor=\"search-text\" className=\"inline-block text-2xl\">\n        <MdSearch className=\"inline-block text-blue-400\" />\n      </label>\n      <input\n        type=\"search\"\n        className=\"outline-none bg-transparent flex-1 pl-1\"\n        placeholder=\"Search\"\n        id=\"search-text\"\n      />\n    </div>\n  );\n};\n\n//************************************ FORM SEARCH **************************************** */\n\ntype MainItemComponentInterface = {\n  title: string;\n  icon?: any;\n  active?: boolean;\n  count?: number;\n};\n\n/**\n *\n * @param param0\n * @returns\n */\nexport const MainItem: FC<MainItemComponentInterface> = ({\n  title = \"\",\n  icon = MdBrightness1,\n  active = false,\n  count = 0,\n}): ReactElement => {\n  const IconDefined = icon;\n  return (\n    <section\n      className={`${\n        active === true\n          ? \"bg-blue-500 text-white font-bold\"\n          : \"bg-blue-100 text-blue-800\"\n      } mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center`}\n    >\n      <section className=\"flex-1\">\n        <IconDefined className=\"inline-block mr-1 text-xs\" />\n        <span>{title}</span>\n      </section>\n\n      {count > 0 ? (\n        <span className=\"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full\">\n          {count}\n        </span>\n      ) : null}\n    </section>\n  );\n};\n\n//************************************ FORM SEARCH **************************************** */\n\ntype SubItemContainerComponentInterface = {\n  children: ReactNode;\n};\n\n/**\n *\n * @param param0\n * @returns\n */\nexport const SubItemContainer: FC<SubItemContainerComponentInterface> = ({\n  children,\n}): ReactElement => {\n  return (\n    <div className=\"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer\">\n      {children}\n    </div>\n  );\n};\n\n//************************************ FORM SEARCH **************************************** */\n\ntype SubItemComponentInterface = {\n  title: string;\n  icon?: any;\n  active?: boolean;\n  count?: number;\n};\n\n/**\n *\n * @param param0\n * @returns\n * @important Remenber to use these components inside the <SubItemContainer>...</SubItemContainer>\n */\nexport const SubItem: FC<SubItemComponentInterface> = ({\n  title = \"\",\n  icon = MdBrightness1,\n  active = false,\n  count = 0,\n}): ReactElement => {\n  const IconDefined = icon;\n\n  return (\n    <div\n      className={`animate__animated animate__zoomIn animate__faster ${\n        active === true ? \"bg-blue-500 text-white font-bold\" : \" text-blue-800\"\n      } text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold`}\n    >\n      <IconDefined\n        className={`inline-block mr-0.1 text-xs ${\n          active === true ? \"text-white\" : \"\"\n        }`}\n      />\n      <span\n        className={`inline-block pl-1 ${active === true ? \"text-white\" : \"\"}`}\n      >\n        {title}\n      </span>\n      {count >= 1 ? (\n        <span\n          className={`text-sm fint-bold ${active === true ? \"text-white\" : \"\"}`}\n        >\n          {count}\n        </span>\n      ) : null}\n    </div>\n  );\n};\n","import React, { Fragment, useState } from \"react\";\nimport { BiSort } from \"react-icons/bi\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport { SessionPlanInterface } from \"../../../interfaces\";\nimport { course } from \"../../../interfaces/course\";\nimport { ExamItemResponse } from \"../../../interfaces/prepare_exam\";\nimport { ExamDoneAndRemainingByPeriodInterface } from \"../../../interfaces/reports\";\nimport { capitalizeFirstLetter } from \"../../../shared/dataTest\";\nimport { DATE, sortThisArray } from \"../../../utils/functions\";\n// import searchExamData from \"../../../utils/search\";\nimport { getPeriodById } from \"./ExamReport\";\n\n// EXCEL FILE FUNCTIONS ================================\nexport interface ExaminationProgressToPrintInterface {\n  course_id: number;\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string;\n  exam_period: string;\n  exam_date: string;\n  exam_time: string;\n  exam_duration: string;\n  exam_status: string;\n}\n\nexport enum ExaminationProgressReportContentKeyInterface {\n  COURSER_NAME = \"course_name\",\n  COURSE_CODE = \"course_code\",\n  SCHOOL_LEVEL = \"school_levels\",\n  PERIOD = \"exam_period\",\n  DATE = \"exam_date\",\n  TIME = \"exam_time\",\n  DURATION = \"exam_duration\",\n  STATUS = \"exam_status\",\n}\n\nexport interface ExaminationProgressReportContentInterface {\n  key: ExaminationProgressReportContentKeyInterface;\n  title: string;\n  status: boolean;\n}\n\nexport const examinationProgressIsChangeAllowed = (\n  key: ExaminationProgressReportContentKeyInterface\n): boolean => {\n  if (\n    key === ExaminationProgressReportContentKeyInterface.COURSER_NAME ||\n    key === ExaminationProgressReportContentKeyInterface.COURSE_CODE ||\n    key === ExaminationProgressReportContentKeyInterface.PERIOD ||\n    key === ExaminationProgressReportContentKeyInterface.STATUS\n  ) {\n    return false;\n  }\n  return true;\n};\n\nexport const defaultExaminationProgressContent: ExaminationProgressReportContentInterface[] =\n  [\n    {\n      key: ExaminationProgressReportContentKeyInterface.COURSER_NAME,\n      title: \"Course names\",\n      status: true,\n    },\n    {\n      key: ExaminationProgressReportContentKeyInterface.COURSE_CODE,\n      title: \"Course code\",\n      status: true,\n    },\n    {\n      key: ExaminationProgressReportContentKeyInterface.SCHOOL_LEVEL,\n      title: \"School levels\",\n      status: true,\n    },\n    {\n      key: ExaminationProgressReportContentKeyInterface.PERIOD,\n      title: \"Exam period\",\n      status: true,\n    },\n    {\n      key: ExaminationProgressReportContentKeyInterface.DATE,\n      title: \"Exam date\",\n      status: true,\n    },\n    {\n      key: ExaminationProgressReportContentKeyInterface.TIME,\n      title: \"Exam time\",\n      status: true,\n    },\n    {\n      key: ExaminationProgressReportContentKeyInterface.DURATION,\n      title: \"Exam duration\",\n      status: true,\n    },\n    {\n      key: ExaminationProgressReportContentKeyInterface.STATUS,\n      title: \"Exam Status\",\n      status: true,\n    },\n  ];\n\n// END EXCEL FILE FUNCTIONS ================================\n\nexport const displayStatus = (status: string): string => {\n  if (status === \"Done\") {\n    return \"Completed\";\n  }\n  if (status === \"Editing\") {\n    return \"In exam\";\n  }\n  return status;\n};\n\nexport interface examProgressStateInterface {\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string[];\n  course_id: string;\n  exam: ExamItemResponse | null;\n  preparation_status: string;\n}\n\nexport const FC_reportDoneExamList = (\n  allCourses: course[],\n  allExams: ExamItemResponse[],\n  doneExams: ExamDoneAndRemainingByPeriodInterface[]\n): examProgressStateInterface[] => {\n  let result: examProgressStateInterface[] = [],\n    ids: string[] = [];\n  for (const key in allExams) {\n    if (Object.prototype.hasOwnProperty.call(allExams, key)) {\n      if (ids.includes(allExams[key].id)) continue;\n      ids.push(allExams[key].id);\n      let courser = allCourses.find(\n        (item) => item.course_id === allExams[key].course\n      );\n      if (courser) {\n        let doneExam = doneExams.find(\n          (item) =>\n            item.course === allExams[key].course &&\n            item.period === allExams[key].period\n        );\n        result.push({\n          course_name: courser.course_name,\n          course_code: courser.course_code,\n          description: courser.description,\n          school_levels: courser.school_levels,\n          course_id: courser.course_id,\n          exam: allExams[key],\n          preparation_status: doneExam ? doneExam.exam_status : \"remaining\",\n        });\n      }\n    }\n  }\n  return result;\n};\n\nexport const FC_reportDoneExamListFilter = (\n  thisList: examProgressStateInterface[],\n  thisValue: \"all\" | \"Done\" | \"Active\"\n): examProgressStateInterface[] => {\n  if (thisValue === \"all\") {\n    return thisList;\n  } else {\n    return thisList.filter((item) => item.preparation_status === thisValue);\n  }\n};\n\nexport const searchExamData = (\n  objList: examProgressStateInterface[],\n  text: string\n): examProgressStateInterface[] => {\n  if (undefined === text || text === \"\") return objList;\n  return objList.filter((product) => {\n    let flag;\n    // let dataKeys = product;\n\n    for (let prop in product) {\n      flag = false;\n      if (\n        prop === \"course_name\" ||\n        prop === \"course_code\" ||\n        prop === \"preparation_status\"\n      ) {\n        flag =\n          product[prop].toString().toLowerCase().indexOf(text.toLowerCase()) >\n          -1;\n      }\n      if (flag) break;\n    }\n    return flag;\n  });\n};\n\ntype DoneExamListProps = {\n  loading: boolean;\n  examsListData: ExamItemResponse[] | null;\n  courseListData: course[] | null;\n  thisPeriod: SessionPlanInterface[];\n  doneExamsData: ExamDoneAndRemainingByPeriodInterface[] | null;\n\n  // for filter purpose =============================\n  filterExamProgress: \"all\" | \"Done\" | \"Active\";\n};\n\nconst DoneExamList: React.FC<DoneExamListProps> = (props) => {\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n  const [isSorted, setIsSorted] = useState<boolean>(false);\n  const [sortProperty, setSortProperty] = useState<string>(\"\");\n  const [sortOrder, setSortOrder] = useState<\"ASC\" | \"DESC\">(\"ASC\");\n\n  const setSort = (thisProperty: string) => {\n    if (sortProperty === thisProperty && sortOrder === \"ASC\") {\n      setSortOrder(\"DESC\");\n      setSortProperty(thisProperty);\n      setIsSorted(true);\n    } else {\n      setSortOrder(\"ASC\");\n      setSortProperty(thisProperty);\n      setIsSorted(true);\n    }\n  };\n\n  return (\n    <Fragment>\n      <div className=\"bg-white my-4\">\n        <div className=\"w-full px-2 py-2\">\n          <input\n            onChange={(e) => setSearchInput(e.target.value)}\n            type=\"text\"\n            value={searchInput}\n            placeholder=\"Search...\"\n            className=\"w-full bg-gray-100 py-2 px-3 rounded\"\n            disabled={\n              props.courseListData &&\n              props.examsListData &&\n              props.doneExamsData &&\n              FC_reportDoneExamListFilter(\n                FC_reportDoneExamList(\n                  props.courseListData,\n                  props.examsListData,\n                  props.doneExamsData\n                ),\n                props.filterExamProgress\n              ).length <= 0\n                ? true\n                : false\n            }\n          />\n        </div>\n        <table className=\"w-full shadow\" id=\"report_content\">\n          <thead className=\"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm\">\n            <tr>\n              <td className=\"px-2 py-2\">#</td>\n              <td\n                className=\"px-2 py-2 cursor-pointer\"\n                onClick={() => setSort(\"course_name\")}\n              >\n                <div className=\"flex items-center gap-1\">\n                  Course <BiSort />\n                </div>\n              </td>\n              <td className=\"px-2 py-2\">Exam date</td>\n              <td className=\"px-2 py-2\">Exam time</td>\n              <td className=\"px-2 py-2\">Exam duration</td>\n              <td className=\"px-2 py-2\">Exam Period</td>\n              <td\n                className=\"px-2 py-2 cursor-pointer\"\n                onClick={() => setSort(\"preparation_status\")}\n              >\n                <div className=\"flex items-center gap-1\">\n                  Exam Status <BiSort />\n                </div>\n              </td>\n            </tr>\n          </thead>\n          <tbody>\n            {props.courseListData === null || props.loading ? (\n              <tr>\n                <td colSpan={7} className=\"px-2 py-2\">\n                  <Loading />\n                </td>\n              </tr>\n            ) : props.examsListData &&\n              props.doneExamsData &&\n              FC_reportDoneExamListFilter(\n                FC_reportDoneExamList(\n                  props.courseListData,\n                  props.examsListData,\n                  props.doneExamsData\n                ),\n                props.filterExamProgress\n              ).length <= 0 ? (\n              <tr>\n                <td colSpan={7} className=\"px-2 py-2 text-center\">\n                  No Exam list available!\n                </td>\n              </tr>\n            ) : (\n              props.examsListData &&\n              props.doneExamsData &&\n              sortThisArray(\n                isSorted,\n                searchExamData(\n                  FC_reportDoneExamListFilter(\n                    FC_reportDoneExamList(\n                      props.courseListData,\n                      props.examsListData,\n                      props.doneExamsData\n                    ),\n                    props.filterExamProgress\n                  ),\n                  searchInput\n                ),\n                sortProperty,\n                sortOrder\n              ).map((item, i) => (\n                <tr\n                  key={i + 1}\n                  className={`${\n                    item.preparation_status === \"Done\"\n                      ? \"bg-blue-50\"\n                      : \"bg-white\"\n                  } text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm`}\n                >\n                  <td className=\"px-2 py-2\">{i + 1}</td>\n                  <td className=\"px-2 py-2\">\n                    {capitalizeFirstLetter(item.course_name)} (\n                    <span className=\"font-semibold\">{item.course_code}</span>)\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {item.exam ? DATE(item.exam.exam_date) : \"-\"}\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {item.exam ? item.exam.start_time : \"-\"}\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {item.exam ? item.exam!.duration + \" min\" : \"-\"}\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {item.exam\n                      ? getPeriodById(props.thisPeriod, item.exam.period)\n                        ? getPeriodById(props.thisPeriod, item.exam.period)!\n                            .session_plan_name\n                        : \"-\"\n                      : \"-\"}\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {capitalizeFirstLetter(\n                      displayStatus(item.preparation_status)\n                    )}\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default React.memo(DoneExamList);\n","import axios from \"axios\";\nimport { Dispatch } from \"redux\";\nimport { ActionTypes } from \"./types\";\nimport {\n  AssignRoleToUserActionInterface,\n  CustomeAccessInterface,\n  UserInterface,\n} from \"../shared/interfaces\";\nimport { API } from \"../utils/api\";\nimport { setAxiosToken } from \"../utils/AxiosToken\";\nimport { errorToText } from \"../utils/errors\";\n\nexport const userPageLimit: number = 30;\n\n/**\n * * ****************************** INTERFACES *****************************\n */\n\nexport interface FetchUsersAction {\n  type: ActionTypes.FETCH_USERS_ACCESS;\n  payload: UserAccessInterface;\n}\n\nexport interface BlockUserToSystem {\n  type: ActionTypes.BLOCK_USER_TO_SYSTEM | ActionTypes.UNBLOCK_USER_TO_SYSTEM;\n  payload: { id: string; page: number };\n}\n\nexport interface AssignRoleToUserAction {\n  type: ActionTypes.ASSIGN_ROLE_TO_USER;\n  payload: { data: AssignRoleToUserActionInterface; page: number };\n}\n\nexport interface CustomizeUserAccessAction {\n  type: ActionTypes.CUSTOMIZE_USER_ACCESS;\n  payload: { data: CustomeAccessInterface; page: number };\n}\n\nexport interface ResetUserAccessAction {\n  type: ActionTypes.RESET_USER_ACCESS;\n  payload: { user_id: string; page: number };\n}\n\nexport type fetchUserAccessInterface = {\n  users: UserInterface[] | null;\n  next: {\n    page: number;\n    limit: number;\n  } | null;\n  previous: {\n    page: number;\n    limit: number;\n  } | null;\n  total_users: number;\n};\n\nexport type UserAccessInterface = {\n  users: { data: UserInterface[]; page: number }[] | null;\n  next: {\n    page: number;\n    limit: number;\n  } | null;\n  previous: {\n    page: number;\n    limit: number;\n  } | null;\n  total_users: number;\n};\n\nexport enum documentValidationStatus {\n  waiting = \"waiting\",\n  approved = \"approved\",\n  rejected = \"rejected\",\n}\n\nexport interface VerifyDocumentInterface {\n  user_id: string;\n  doc_id: string;\n  validation_status: \"waiting\" | \"approved\" | \"rejected\";\n  validated_by: {\n    user_id: string;\n    comment: string;\n    validation_status: \"waiting\" | \"approved\" | \"rejected\";\n    date?: string;\n  };\n  in_education: boolean;\n  disability: boolean;\n  expiration_date: string;\n}\n\nexport type AccessUserActionType =\n  | FetchUsersAction\n  | BlockUserToSystem\n  | AssignRoleToUserAction\n  | CustomizeUserAccessAction\n  | ResetUserAccessAction;\n\n/**\n * * ****************************** ACTIONS *****************************\n */\n\nexport type FT_FetchUserAccess = (\n  page: number,\n  callBack?: (\n    status: boolean,\n    msg: string,\n    data: UserInterface[] | null\n  ) => void\n) => void;\nexport const fetchUserAccess = (\n  page: number,\n  callback?: (\n    status: boolean,\n    msg: string,\n    data: UserInterface[] | null\n  ) => void\n) => {\n  callback && callback(true, \"\", null);\n  return async (dispatch: Dispatch) => {\n    try {\n      setAxiosToken();\n      const res = await axios.get<fetchUserAccessInterface>(\n        `${API.USER}/?page=${page}&limit=${userPageLimit}`\n      );\n      console.log(\"====================================\");\n      console.log({ fetchUserAccess: res });\n      console.log(\"====================================\");\n      dispatch<FetchUsersAction>({\n        type: ActionTypes.FETCH_USERS_ACCESS,\n        payload: {\n          users: [{ data: res.data.users!, page: page }],\n          next: res.data.next,\n          previous: res.data.previous,\n          total_users: res.data.total_users,\n        },\n      });\n      callback && callback(false, \"\", res.data.users);\n    } catch (error) {\n      console.error({ user_error: error });\n      callback && callback(false, errorToText(error), null);\n    }\n  };\n};\n\nexport const blockUserToSystem = (user_id: string, page: number) => {\n  return async (dispatch: Dispatch) => {\n    dispatch<BlockUserToSystem>({\n      type: ActionTypes.BLOCK_USER_TO_SYSTEM,\n      payload: { id: user_id, page },\n    });\n  };\n};\n\nexport const unBlockUserToSystem = (user_id: string, page: number) => {\n  return async (dispatch: Dispatch) => {\n    dispatch<BlockUserToSystem>({\n      type: ActionTypes.UNBLOCK_USER_TO_SYSTEM,\n      payload: { id: user_id, page },\n    });\n  };\n};\n\nexport const assignRoleToUserAccess = (\n  data: AssignRoleToUserActionInterface,\n  page: number\n) => {\n  return async (dispatch: Dispatch) => {\n    dispatch<AssignRoleToUserAction>({\n      type: ActionTypes.ASSIGN_ROLE_TO_USER,\n      payload: { data, page },\n    });\n  };\n};\n\nexport const customizeUserAccess = (\n  data: CustomeAccessInterface,\n  page: number\n) => {\n  return async (dispatch: Dispatch) => {\n    dispatch<CustomizeUserAccessAction>({\n      type: ActionTypes.CUSTOMIZE_USER_ACCESS,\n      payload: { data, page },\n    });\n  };\n};\n\nexport const resetUserAccess = (data: string, page: number) => {\n  return async (dispatch: Dispatch) => {\n    dispatch<ResetUserAccessAction>({\n      type: ActionTypes.RESET_USER_ACCESS,\n      payload: { user_id: data, page },\n    });\n  };\n};\n\nexport const FC_GetUserBySearch = async (\n  search_value: string,\n  callback: (\n    status: boolean,\n    msg: string,\n    data: UserInterface | null | \"\"\n  ) => void\n) => {\n  callback(true, \"\", null);\n  try {\n    setAxiosToken();\n    const res = await axios.get<UserInterface | null | \"\">(\n      `${API.USER}/check/${search_value}`\n    );\n    console.log(\"=================FC_GetUserBySearch===================\");\n    console.log({ FC_GetUserBySearch: res });\n    console.log(\"=================FC_GetUserBySearch===================\");\n    callback(false, \"\", res.data);\n  } catch (error) {\n    console.error({ user_error: error });\n    callback(false, errorToText(error), null);\n  }\n};\n","import React, { Component } from \"react\";\nimport { BiFilterAlt } from \"react-icons/bi\";\nimport { FiEdit } from \"react-icons/fi\";\nimport { MdRadioButtonChecked, MdRadioButtonUnchecked } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  schoolLevelsStoreInterface,\n  setSelectedPeriod,\n  loadCourses,\n  loadExamsList,\n  loadEducationCategories,\n  loadDoneExam,\n  loadSchoolLevels,\n  loadPerfomranceExam,\n  loadCandidatesExamPerformance,\n  setSelectedEducationCategory,\n  PushPopupAlert,\n  FilterParamType,\n  ReportGetCandidatePerformanceSortTypes,\n} from \"../../../actions\";\nimport { FC_GetAllSessionByInstitution } from \"../../../actions/session\";\nimport { PopupAlertData } from \"../../../components/Alert/Popup\";\nimport {\n  generatePDF,\n  reportSettingsInterface,\n} from \"../../../components/DownloadPDF/rest\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport { SideNavigation } from \"../../../components/Navigation/SideNavigation\";\nimport NoResult, {\n  NoResultThemes,\n} from \"../../../components/NoResult/NoResult\";\nimport {\n  course,\n  education_category,\n  ReportUserExamStatus,\n  school_level,\n  SessionPlanInterface,\n} from \"../../../interfaces\";\nimport { PopupAlertTheme } from \"../../../interfaces/popupAlert\";\nimport {\n  ExamItemResponse,\n  PrepareExamStatus,\n  QuestionNumberFormat,\n} from \"../../../interfaces/prepare_exam\";\nimport { StoreState } from \"../../../reducers\";\nimport { ExamReportReducerType } from \"../../../reducers/exam_report\";\nimport { SessionPlanReducerInterface } from \"../../../reducers/session\";\nimport {\n  capitalizeFirstLetter,\n  capitalizeFirstWord,\n  isEmptyOrSpaces,\n} from \"../../../shared/dataTest\";\nimport {\n  DATE,\n  FC_HasInstitute,\n  timestampToDate,\n} from \"../../../utils/functions\";\nimport NoSession from \"../../SessionSettings/NoSession\";\nimport CandiadtePerformancePerDistrict, {\n  FC_CandiadtePerformancePerDistrictFilter,\n} from \"./CandiadtePerformancePerDistrict\";\nimport CandidatePerformance, {\n  CandidateExamPerformanceToPrintInterface,\n  CandidateExamPerformanceReportContentInterface,\n  defaultCandidateExamPerformanceContent,\n  candidatePerfomranceStateInterface,\n  FC_reportCandidatePerformanceData,\n} from \"./CandidatePerformance\";\nimport DoneExamList, {\n  ExaminationProgressToPrintInterface,\n  ExaminationProgressReportContentInterface,\n  defaultExaminationProgressContent,\n  displayStatus,\n  examProgressStateInterface,\n  FC_reportDoneExamList,\n} from \"./DoneExamList\";\nimport ExamList, {\n  ExamPreparationToPrintInterface,\n  examPreparationReportContentInterface,\n  defaultExamPreparationReportContent,\n  examPreparationStateInterface,\n  FC_reportExamList,\n} from \"./ExamList\";\nimport ExamPerformance, {\n  ExamPerformanceToPrintInterface,\n  examPerformanceReportContentInterface,\n  defaultExamPerformanceContent,\n  examPerformanceStateInterface,\n  FC_reportExamPerformanceData,\n} from \"./ExamPerformance\";\nimport ExamPerformancePerDistrict, {\n  FC_ExamPerformancePerDistrictPropsData,\n} from \"./ExamPerformancePerDistrict\";\nimport ExamReportFilters from \"./ExamReportFilters\";\nimport ExamReportModals, { ModalForTypes } from \"./ExamReportModals\";\nimport ExamReportTitle from \"./ExamReportTitle\";\n\nexport interface reportCourseInterface {\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string[];\n  course_id: string;\n  exam: {\n    questions: string[];\n    status: number;\n    period: string;\n    course: string;\n    exam_status: PrepareExamStatus;\n    termes: string;\n    questions_per_page: number;\n    exam_date: string;\n    start_time: string;\n    duration: number;\n    number_format: QuestionNumberFormat;\n    discription: string;\n    createdAt: string;\n    updatedAt: string;\n    id: string;\n  };\n}\n\nexport const getExamByCourseId = (\n  allExams: ExamItemResponse[],\n  course_id: string\n): ExamItemResponse | undefined => {\n  return allExams.find((item) => item.course === course_id);\n};\n\nexport const getPeriodById = (\n  periods: SessionPlanInterface[],\n  period_id: string\n): SessionPlanInterface | undefined => {\n  return periods.find((item) => item._id === period_id);\n};\n\nexport const loadAllExams = (\n  examsList: ExamItemResponse[] | null,\n  selected_period: SessionPlanInterface | null\n): ExamItemResponse[] | null => {\n  let result: ExamItemResponse[] | null = examsList;\n  if (result && selected_period) {\n    result = result.filter((item) => item.period === selected_period?._id);\n  } else {\n    result = examsList;\n  }\n  return result;\n};\n\n// TYPES OF REPORTS ======================================\nexport enum reportTitleType {\n  APPLICANTS_PERFORMANCE = \"Exam report\",\n  EXAM_PREPARATION = \"List of prepared and not prepared exams\",\n  EXAM_PERFORMANCE = \"Exam performance\",\n  EXAMINATION_PROGRESS = \"List of complete & remaining exams\",\n  EXAM_DISTRICT_PERFORMANCE = \"Top 30 exams passed in\", // ADD DISTRICT NAME EX: Muhanga District\n  APPLICANTS_DISTRICT_PERFORMANCE = \"Top 30 applicants performance\", // ADD DISTRICT NAME EX: Muhanga District && EXAM NAME EX: Physics\n}\n\ninterface ExamReportProps {\n  auth: Auth;\n  periods: SessionPlanReducerInterface;\n  schoolLevels: schoolLevelsStoreInterface;\n  courses: course[] | null;\n  examsList: ExamItemResponse[] | null;\n  adminExamReport: ExamReportReducerType;\n  FC_GetAllSessionByInstitution: Function;\n  loadEducationCategories: Function;\n  setSelectedEducationCategory: (\n    education_category: education_category\n  ) => void;\n  loadCourses: (callback: (loading: boolean) => void) => void;\n  loadExamsList: (callback: (loading: boolean) => void) => void;\n  loadDoneExam: (period_id: string, callback: Function) => void;\n  loadPerfomranceExam: (period_id: string, callback: Function) => void;\n  loadSchoolLevels: (callback: (loading: boolean) => void) => void;\n  loadCandidatesExamPerformance: (\n    dataBody: FilterParamType | null,\n    callback: Function\n  ) => void;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n}\n\ninterface ExamReportState {\n  loading: boolean;\n  loadingCourses: boolean;\n  loadingExams: boolean;\n  downloading: boolean;\n  loadingDoneExam: boolean;\n  loadingCandidatesExamPerformance: boolean;\n  loadingExamPerformance: boolean;\n  loadingSettings: boolean;\n\n  // FILTER STATES =======================================\n  filterPreparation: \"prepared\" | \"not prepared\" | \"all\";\n  filterExamProgress: \"Done\" | \"Active\" | \"all\";\n  filterApplicantPerformance: ReportUserExamStatus | \"all\";\n  // END FILTER STATES =======================================\n\n  selectPeriod: boolean;\n  generateReportModal: {\n    reportType: \"EXCEL\" | \"PDF\";\n    status: boolean;\n  } | null;\n  districtModal: boolean;\n  selected_period: SessionPlanInterface | null;\n\n  // GENERATE EXCEL REPORT =======================================\n  // WHAT TO PRINT ########################################\n  reportTitle: reportTitleType;\n  // WHAT TITLE TO PRINT ########################################\n  excelReportTitle: string;\n  // SET DEFAULT CONTENT ########################################\n  // ############### EXAM PREPARATION ######################\n  examsToPrint: ExamPreparationToPrintInterface[] | null;\n  examPreparationReportContent: examPreparationReportContentInterface[];\n  // ############### EXAM PERFORMANCE ######################\n  examPerformanceToPrint: ExamPerformanceToPrintInterface[] | null;\n  examPerformanceReportContent: examPerformanceReportContentInterface[];\n  // ############### TOP 30 EXAM PERFORMANCE ######################\n  exam30PerformanceToPrint: ExamPerformanceToPrintInterface[] | null;\n  exam30PerformanceReportContent: examPerformanceReportContentInterface[];\n  // ############### EXAMINATION PROGRESS ######################\n  examinationProgressToPrint: ExaminationProgressToPrintInterface[] | null;\n  examinationProgressReportContent: ExaminationProgressReportContentInterface[];\n  // ############### CANDIDATE EXAM PERFORMANCE ######################\n  candidateExamPerformanceToPrint:\n    | CandidateExamPerformanceToPrintInterface[]\n    | null;\n\n  candidateExamPerformanceReportContent: CandidateExamPerformanceReportContentInterface[];\n  // ############### CANDIDATE EXAM PERFORMANCE ######################\n\n  candidate30ExamPerformanceToPrint:\n    | CandidateExamPerformanceToPrintInterface[]\n    | null;\n\n  candidate30ExamPerformanceReportContent: CandidateExamPerformanceReportContentInterface[];\n  // END GENERATE EXCEL REPORT =======================================\n}\n\nclass _ExamReport extends Component<ExamReportProps, ExamReportState> {\n  constructor(props: ExamReportProps) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      loadingCourses: true,\n      loadingExams: true,\n      downloading: false,\n      loadingDoneExam: true,\n      loadingCandidatesExamPerformance: true,\n      loadingExamPerformance: true,\n      loadingSettings: true,\n      selectPeriod: false,\n      districtModal: false,\n\n      // FILTER STATES =======================================\n      filterPreparation: \"all\",\n      filterExamProgress: \"all\",\n      filterApplicantPerformance: \"all\",\n      // END FILTER STATES =======================================\n\n      generateReportModal: null,\n      selected_period: null,\n\n      // GENERATE EXCEL REPORT =======================================\n      // WHAT TO PRINT ########################################\n      reportTitle: reportTitleType.APPLICANTS_PERFORMANCE,\n      // WHAT TITLE TO PRINT ########################################\n      excelReportTitle: reportTitleType.APPLICANTS_PERFORMANCE,\n      // SET DEFAULT CONTENT ########################################\n      // ############### EXAM PREPARATION ######################\n      examsToPrint: null,\n      examPreparationReportContent: defaultExamPreparationReportContent,\n      // ############### EXAM PERFORMANCE ######################\n      examPerformanceToPrint: null,\n      examPerformanceReportContent: defaultExamPerformanceContent,\n      // ############### TOP 30 EXAM PERFORMANCE ######################\n      exam30PerformanceToPrint: null,\n      exam30PerformanceReportContent: defaultExamPerformanceContent,\n      // ############### EXAMINATION PROGRESS ######################\n      examinationProgressToPrint: null,\n      examinationProgressReportContent: defaultExaminationProgressContent,\n      // ############### CANDIDATE EXAM PERFORMANCE ######################\n      candidateExamPerformanceToPrint: null,\n\n      candidateExamPerformanceReportContent:\n        defaultCandidateExamPerformanceContent,\n      // ############### CANDIDATE EXAM PERFORMANCE ######################\n\n      candidate30ExamPerformanceToPrint: null,\n\n      candidate30ExamPerformanceReportContent:\n        defaultCandidateExamPerformanceContent,\n      // END GENERATE EXCEL REPORT =======================================\n    };\n  }\n\n  setLoading = (value: boolean) => {\n    this.setState({ loading: value });\n  };\n\n  setLoadingCourses = (value: boolean) => {\n    this.setState({ loadingCourses: value });\n  };\n\n  setLoadingExams = (value: boolean) => {\n    this.setState({ loadingExams: value });\n  };\n\n  setDownloading = (value: boolean) => {\n    this.setState({ downloading: value });\n  };\n\n  setLoadingDoneExam = (value: boolean) => {\n    this.setState({ loadingDoneExam: value });\n  };\n\n  setLoadingCandidatesExamPerformance = (value: boolean) => {\n    this.setState({ loadingCandidatesExamPerformance: value });\n  };\n\n  setLoadingExamPerformance = (value: boolean) => {\n    this.setState({ loadingExamPerformance: value });\n  };\n\n  setLoadingSettings = (value: boolean) => {\n    this.setState({ loadingSettings: value });\n  };\n\n  setSelectPeriod = (value: boolean) => {\n    this.setState({ selectPeriod: value });\n  };\n\n  setDistrictModal = (value: boolean) => {\n    this.setState({ districtModal: value });\n  };\n\n  setFilterPreparation = (value: \"prepared\" | \"not prepared\" | \"all\") => {\n    this.setState({ filterPreparation: value });\n  };\n\n  setFilterExamProgress = (value: \"Done\" | \"Active\" | \"all\") => {\n    this.setState({ filterExamProgress: value });\n  };\n\n  setFilterApplicantPerformance = (value: ReportUserExamStatus | \"all\") => {\n    this.setState({ filterApplicantPerformance: value });\n  };\n\n  setGenerateReportModal = (\n    value: {\n      reportType: \"EXCEL\" | \"PDF\";\n      status: boolean;\n    } | null\n  ) => {\n    this.setState({ generateReportModal: value });\n  };\n\n  setSelectedPeriod = (value: SessionPlanInterface | null) => {\n    this.setState({ selected_period: value });\n  };\n\n  setReportTitle = (value: reportTitleType) => {\n    this.setState({ reportTitle: value });\n  };\n\n  setExcelReportTitle = (value: string) => {\n    this.setState({ excelReportTitle: value });\n  };\n\n  setExamsToPrint = (value: ExamPreparationToPrintInterface[] | null) => {\n    this.setState({ examsToPrint: value });\n  };\n\n  setExamPreparationReportContent = (\n    value: examPreparationReportContentInterface[]\n  ) => {\n    this.setState({ examPreparationReportContent: value });\n  };\n  setExamPerformanceToPrint = (\n    value: ExamPerformanceToPrintInterface[] | null\n  ) => {\n    this.setState({ examPerformanceToPrint: value });\n  };\n  setExamPerformanceReportContent = (\n    value: examPerformanceReportContentInterface[]\n  ) => {\n    this.setState({ examPerformanceReportContent: value });\n  };\n\n  setExam30PerformanceToPrint = (\n    value: ExamPerformanceToPrintInterface[] | null\n  ) => {\n    this.setState({ exam30PerformanceToPrint: value });\n  };\n  setExam30PerformanceReportContent = (\n    value: examPerformanceReportContentInterface[]\n  ) => {\n    this.setState({ exam30PerformanceReportContent: value });\n  };\n  setExaminationProgressToPrint = (\n    value: ExaminationProgressToPrintInterface[] | null\n  ) => {\n    this.setState({ examinationProgressToPrint: value });\n  };\n  setExaminationProgressExamPerformanceReportContent = (\n    value: ExaminationProgressReportContentInterface[]\n  ) => {\n    this.setState({ examinationProgressReportContent: value });\n  };\n\n  setCandidateExamPerformanceToPrint = (\n    value: CandidateExamPerformanceToPrintInterface[] | null\n  ) => {\n    this.setState({ candidateExamPerformanceToPrint: value });\n  };\n\n  setCandidateExamPerformanceReportContent = (\n    value: CandidateExamPerformanceReportContentInterface[]\n  ) => {\n    this.setState({ candidateExamPerformanceReportContent: value });\n  };\n\n  setCandidate30ExamPerformanceToPrint = (\n    value: CandidateExamPerformanceToPrintInterface[] | null\n  ) => {\n    this.setState({ candidate30ExamPerformanceToPrint: value });\n  };\n\n  setCandidate30ExamPerformanceReportContent = (\n    value: CandidateExamPerformanceReportContentInterface[]\n  ) => {\n    this.setState({ candidate30ExamPerformanceReportContent: value });\n  };\n\n  selectDefaultSession = (allSession: SessionPlanInterface[]) => {\n    if (allSession.length > 0) {\n      let active_period = allSession.find((item) => item.is_active);\n      this.setSelectedPeriod(active_period ? active_period : allSession[0]);\n      this.onPeriodChange(\n        active_period ? active_period._id : allSession[0]._id\n      );\n    }\n    this.setSelectPeriod(false);\n  };\n\n  // onInstitutionChanged = (institution_id: string) => {\n  //   if (\n  //     this.props.schoolLevels.education_categories &&\n  //     this.props.schoolLevels.education_categories.length > 0\n  //   ) {\n\n  //   }\n  // };\n\n  FD_GetSessions = (institution_id: string) => {\n    this.setSelectedPeriod(null);\n    this.props.FC_GetAllSessionByInstitution(\n      institution_id,\n      (status: boolean, msg: string, data?: SessionPlanInterface[]) => {\n        this.setLoadingSettings(status);\n        if (!status) {\n          if (!isEmptyOrSpaces(msg)) {\n            this.props.PushPopupAlert({\n              title: msg,\n              theme: PopupAlertTheme.danger,\n            });\n          }\n          if (data && data.length > 0) {\n            this.selectDefaultSession(data);\n          }\n        }\n      }\n    );\n  };\n\n  componentDidMount = () => {\n    if (FC_HasInstitute(this.props.auth.education_institution_id)) {\n      this.FD_GetSessions(this.props.auth.education_institution_id!);\n    }\n\n    if (\n      this.props.schoolLevels.education_categories === null ||\n      this.props.schoolLevels.education_categories.length\n    ) {\n      this.props.loadEducationCategories(\n        (status: boolean, data?: education_category[]) => {\n          this.setLoadingSettings(status);\n          if (!status && data && data.length > 0) {\n            // if (!isEmptyOrSpaces(msg)) {\n            //   this.props.PushPopupAlert({\n            //     title: msg,\n            //     theme: PopupAlertTheme.danger,\n            //   });\n            // }\n\n            if (\n              FC_HasInstitute(this.props.auth.education_institution_id) ===\n              false\n            ) {\n              this.props.setSelectedEducationCategory(data[0]);\n              this.FD_GetSessions(data[0].education_institute_id);\n            } else {\n              const thisEducation = data.find(\n                (item) =>\n                  item.education_institute_id ===\n                  this.props.auth.education_institution_id\n              );\n              this.props.setSelectedEducationCategory(\n                thisEducation ? thisEducation : data[0]\n              );\n            }\n            // if (data && data.length > 0) {\n            // }\n          }\n        }\n      );\n    } else if (!this.props.schoolLevels.selectedEducationCategory) {\n      if (FC_HasInstitute(this.props.auth.education_institution_id) === false) {\n        this.props.setSelectedEducationCategory(\n          this.props.schoolLevels.education_categories[0]\n        );\n        this.FD_GetSessions(\n          this.props.schoolLevels.education_categories[0].education_institute_id\n        );\n      } else {\n        const thisEducation = this.props.schoolLevels.education_categories.find(\n          (item) =>\n            item.education_institute_id ===\n            this.props.auth.education_institution_id\n        );\n        this.props.setSelectedEducationCategory(\n          thisEducation\n            ? thisEducation\n            : this.props.schoolLevels.education_categories[0]\n        );\n      }\n    }\n\n    if (\n      this.props.schoolLevels.school_levels === null ||\n      this.props.schoolLevels.school_levels.length <= 0\n    ) {\n      this.props.loadSchoolLevels(this.setLoadingSettings);\n    }\n\n    if (\n      this.props.courses === null ||\n      (this.props.courses.length === 0 && this.state.loadingCourses)\n    ) {\n      this.props.loadCourses(this.setLoadingCourses);\n    } else if (this.state.loadingCourses) {\n      this.setLoadingCourses(false);\n    }\n\n    if (\n      this.props.examsList === null ||\n      (this.props.examsList.length === 0 && this.state.loadingExams)\n    ) {\n      this.props.loadExamsList(this.setLoadingExams);\n    } else if (this.state.loadingExams) {\n      this.setLoadingExams(false);\n    }\n\n    // if (\n    //   this.props.auth.application_session &&\n    //   this.props.auth.application_session._id &&\n    //   (this.props.adminExamReport.DoneExam === null ||\n    //     (this.props.adminExamReport.DoneExam.length === 0 &&\n    //       this.state.loadingDoneExam))\n    // ) {\n    //   this.props.loadDoneExam(\n    //     this.props.auth.application_session._id,\n    //     (status: boolean, msg: string) => {\n    //       if (!status) {\n    //         if (msg.length > 0) {\n    //           this.props.PushPopupAlert({\n    //             title: msg,\n    //             theme: PopupAlertTheme.danger,\n    //           });\n    //         }\n    //         this.setLoadingDoneExam(false);\n    //       }\n    //     }\n    //   );\n    // } else if (this.state.loadingDoneExam) {\n    //   this.setLoadingDoneExam(false);\n    // }\n\n    // if (\n    //   this.props.auth.application_session &&\n    //   this.props.auth.application_session._id &&\n    //   (this.props.adminExamReport.CandidatesExamPerformance === null ||\n    //     (this.props.adminExamReport.CandidatesExamPerformance.length === 0 &&\n    //       this.state.loadingCandidatesExamPerformance))\n    // ) {\n    //   this.props.loadCandidatesExamPerformance(\n    //     {\n    //       order: \"desc\",\n    //       sortBy: ReportGetCandidatePerformanceSortTypes.DATE,\n    //       filter: {\n    //         period: this.props.auth.application_session._id,\n    //       },\n    //     },\n    //     (status: boolean, msg: string) => {\n    //       if (!status) {\n    //         if (msg.length > 0) {\n    //           this.props.PushPopupAlert({\n    //             title: msg,\n    //             theme: PopupAlertTheme.danger,\n    //           });\n    //         }\n    //         this.setLoadingCandidatesExamPerformance(false);\n    //       }\n    //     }\n    //   );\n    // } else if (this.state.loadingCandidatesExamPerformance) {\n    //   this.setLoadingCandidatesExamPerformance(false);\n    // }\n\n    // if (\n    //   this.props.auth.application_session &&\n    //   this.props.auth.application_session._id &&\n    //   (this.props.adminExamReport.ExamPerformance === null ||\n    //     (this.props.adminExamReport.ExamPerformance.length === 0 &&\n    //       this.state.loadingExamPerformance))\n    // ) {\n    //   this.props.loadPerfomranceExam(\n    //     this.props.auth.application_session._id,\n    //     (status: boolean, msg: string) => {\n    //       if (!status) {\n    //         if (msg.length > 0) {\n    //           this.props.PushPopupAlert({\n    //             title: msg,\n    //             theme: PopupAlertTheme.danger,\n    //           });\n    //         }\n    //         this.setLoadingExamPerformance(false);\n    //       }\n    //     }\n    //   );\n    // } else if (this.state.loadingExamPerformance) {\n    //   this.setLoadingExamPerformance(false);\n    // }\n\n    if (this.state.excelReportTitle === this.state.reportTitle) {\n      let result: string = \"\";\n      if (\n        this.state.excelReportTitle ===\n          reportTitleType.EXAM_DISTRICT_PERFORMANCE &&\n        this.props.adminExamReport.reportDistrictId\n      ) {\n        result += ` ${this.props.adminExamReport.reportDistrictId.district_name} district`;\n      } else if (\n        this.state.excelReportTitle ===\n        reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE\n      ) {\n        if (this.props.adminExamReport.reportDistrictId) {\n          result += ` in ${this.props.adminExamReport.reportDistrictId.district_name} district`;\n        }\n        if (this.props.adminExamReport.reportCourseId) {\n          result += ` in exam of ${this.props.adminExamReport.reportCourseId.course_name}(${this.props.adminExamReport.reportCourseId.course_code})`;\n        }\n      } else {\n        result = \"\";\n      }\n      this.setExcelReportTitle(this.state.excelReportTitle + result);\n      this.setLoading(false);\n    }\n  };\n\n  onPeriodChange = (period_id: string) => {\n    this.props.loadDoneExam(period_id, (status: boolean, msg: string) => {\n      this.setLoadingDoneExam(status);\n      if (!status) {\n        if (msg.length > 0) {\n          this.props.PushPopupAlert({\n            title: msg,\n            theme: PopupAlertTheme.danger,\n          });\n        }\n        this.setLoadingDoneExam(false);\n      }\n    });\n\n    this.props.loadPerfomranceExam(\n      period_id,\n      (status: boolean, msg: string) => {\n        this.setLoadingExamPerformance(status);\n        if (!status) {\n          if (msg.length > 0) {\n            this.props.PushPopupAlert({\n              title: msg,\n              theme: PopupAlertTheme.danger,\n            });\n          }\n          this.setLoadingExamPerformance(false);\n        }\n      }\n    );\n\n    this.props.loadCandidatesExamPerformance(\n      {\n        order: \"desc\",\n        sortBy: ReportGetCandidatePerformanceSortTypes.DATE,\n        filter: {\n          period: period_id,\n        },\n      },\n      (status: boolean, msg: string) => {\n        if (!status) {\n          if (msg.length > 0) {\n            this.props.PushPopupAlert({\n              title: msg,\n              theme: PopupAlertTheme.danger,\n            });\n          }\n          this.setLoadingCandidatesExamPerformance(false);\n        }\n      }\n    );\n  };\n\n  getLevelbyId = (level_id: string): school_level | undefined => {\n    if (this.props.schoolLevels.school_levels) {\n      return this.props.schoolLevels.school_levels.find(\n        (item) => item.school_level_id === level_id\n      );\n    }\n  };\n\n  getCourses = (): course[] | null => {\n    let result: course[] | null = [],\n      search_all: boolean = true;\n    if (this.props.courses) {\n      // FILTER BY EDICATION CATEGORY ====================\n      if (this.props.schoolLevels.selectedEducationCategory) {\n        for (const key in this.props.courses) {\n          if (Object.prototype.hasOwnProperty.call(this.props.courses, key)) {\n            if (this.props.courses[key].school_levels.length > 0) {\n              this.props.courses[key].school_levels.forEach((level) => {\n                let levelDetail = this.getLevelbyId(level);\n                if (\n                  levelDetail &&\n                  (levelDetail.education_institute.includes(\n                    this.props.schoolLevels.selectedEducationCategory!\n                      .education_institute_id\n                  ) ||\n                    levelDetail.education_institute.length <= 0)\n                ) {\n                  result && result.push(this.props.courses![key]);\n                }\n              });\n            } else {\n              result && result.push(this.props.courses![key]);\n            }\n          }\n        }\n      }\n      // RETURN DEFAULT VALUES ====================\n      else {\n        search_all = false;\n      }\n    }\n    return !search_all ? this.props.courses : result;\n  };\n\n  updateExamToPrint = () => {\n    // EXAM PREPARATION ######################\n    if (this.state.reportTitle === reportTitleType.EXAM_PREPARATION) {\n      if (\n        loadAllExams(this.props.examsList, this.state.selected_period) &&\n        this.getCourses() &&\n        this.props.periods.allSessionPlans\n      ) {\n        let data: examPreparationStateInterface[] = FC_reportExamList(\n          this.getCourses()!,\n          loadAllExams(this.props.examsList, this.state.selected_period)!\n        );\n        let arrayNew: ExamPreparationToPrintInterface[] = [];\n        let n: number = 1;\n        for (const key in data) {\n          if (Object.prototype.hasOwnProperty.call(data, key)) {\n            let school_level: string = \"\";\n            if (data[key].school_levels.length) {\n              data[key].school_levels.forEach((element, index) => {\n                let findLevel = this.getLevelbyId(element);\n                if (index === 0) {\n                  school_level = findLevel ? findLevel.school_level_name : \"\";\n                } else {\n                  school_level += findLevel\n                    ? \", \" + findLevel.school_level_name\n                    : \"\";\n                }\n              });\n            } else {\n              school_level = \"Any level\";\n            }\n            let dataArray: ExamPreparationToPrintInterface = {\n              course_id: n,\n              course_name: data[key].course_name,\n              course_code: data[key].course_code,\n              description: data[key].description,\n              school_levels: data[key].school_levels.length\n                ? school_level\n                : \"Any\",\n              exam_period: data[key].exam\n                ? getPeriodById(\n                    this.props.periods.allSessionPlans,\n                    data[key].exam!.period\n                  )\n                  ? getPeriodById(\n                      this.props.periods.allSessionPlans,\n                      data[key].exam!.period\n                    )!.session_plan_name\n                  : \"-\"\n                : \"-\",\n              exam_date: data[key].exam ? DATE(data[key].exam!.exam_date) : \"-\",\n              exam_time: data[key].exam ? data[key].exam!.start_time : \"-\",\n              exam_duration: data[key].exam\n                ? data[key].exam!.duration.toString()\n                : \"-\",\n              preparation_status: data[key].exam ? \"Prepared\" : \"Not prepared\",\n            };\n\n            for (const key in this.state.examPreparationReportContent) {\n              if (\n                Object.prototype.hasOwnProperty.call(\n                  this.state.examPreparationReportContent,\n                  key\n                )\n              ) {\n                if (!this.state.examPreparationReportContent[key].status) {\n                  delete dataArray[\n                    this.state.examPreparationReportContent[key].key\n                  ];\n                }\n              }\n            }\n            arrayNew.push(dataArray);\n            n++;\n          }\n        }\n        this.setExamsToPrint(arrayNew);\n        arrayNew = [];\n        n = 1;\n        // props.applicationsToPrint=;\n      }\n    }\n    // EXAM PERFORMANCE ######################\n    if (this.state.reportTitle === reportTitleType.EXAM_PERFORMANCE) {\n      if (\n        loadAllExams(this.props.examsList, this.state.selected_period) &&\n        this.getCourses() &&\n        this.props.adminExamReport.ExamPerformance &&\n        this.props.periods.allSessionPlans\n      ) {\n        let data: examPerformanceStateInterface[] =\n          FC_reportExamPerformanceData(\n            this.getCourses()!,\n            loadAllExams(this.props.examsList, this.state.selected_period)!,\n            this.props.adminExamReport.ExamPerformance\n          );\n        let arrayNew: ExamPerformanceToPrintInterface[] = [];\n        let n: number = 1;\n        for (const key in data) {\n          if (Object.prototype.hasOwnProperty.call(data, key)) {\n            let school_level: string = \"\";\n            if (data[key].school_levels.length) {\n              data[key].school_levels.forEach((element, index) => {\n                let findLevel = this.getLevelbyId(element);\n                if (index === 0) {\n                  school_level = findLevel ? findLevel.school_level_name : \"\";\n                } else {\n                  school_level += findLevel\n                    ? \", \" + findLevel.school_level_name\n                    : \"\";\n                }\n              });\n            } else {\n              school_level = \"Any level\";\n            }\n            let dataArray: ExamPerformanceToPrintInterface = {\n              course_id: n,\n              course_name: data[key].course_name,\n              course_code: data[key].course_code,\n              description: data[key].description,\n              school_levels: data[key].school_levels.length\n                ? school_level\n                : \"Any\",\n              exam_period: data[key].exam\n                ? getPeriodById(\n                    this.props.periods.allSessionPlans,\n                    data[key].exam!.period\n                  )\n                  ? getPeriodById(\n                      this.props.periods.allSessionPlans,\n                      data[key].exam!.period\n                    )!.session_plan_name\n                  : \"-\"\n                : \"-\",\n              exam_date: data[key].exam ? DATE(data[key].exam!.exam_date) : \"-\",\n              exam_time: data[key].exam ? data[key].exam!.start_time : \"-\",\n              exam_duration: data[key].exam\n                ? data[key].exam!.duration.toString()\n                : \"-\",\n              exam_performance: Number(data[key].exam_performance.toFixed(1)),\n            };\n\n            for (const key in this.state.examPerformanceReportContent) {\n              if (\n                Object.prototype.hasOwnProperty.call(\n                  this.state.examPerformanceReportContent,\n                  key\n                )\n              ) {\n                if (!this.state.examPerformanceReportContent[key].status) {\n                  delete dataArray[\n                    this.state.examPerformanceReportContent[key].key\n                  ];\n                }\n              }\n            }\n            arrayNew.push(dataArray);\n            n++;\n          }\n        }\n        this.setExamPerformanceToPrint(arrayNew);\n        arrayNew = [];\n        n = 1;\n        // props.applicationsToPrint=;\n      }\n    }\n    // TOP 30 EXAM PERFORMANCE ######################\n    if (this.state.reportTitle === reportTitleType.EXAM_DISTRICT_PERFORMANCE) {\n      if (\n        loadAllExams(this.props.examsList, this.state.selected_period) &&\n        this.getCourses() &&\n        this.props.adminExamReport.DoneExam &&\n        this.props.adminExamReport.CandidatesExamPerformance &&\n        this.props.adminExamReport.reportDistrictId &&\n        this.props.periods.allSessionPlans\n      ) {\n        let data = FC_ExamPerformancePerDistrictPropsData(\n          this.getCourses()!,\n          loadAllExams(this.props.examsList, this.state.selected_period)!,\n          this.props.adminExamReport.DoneExam,\n          this.props.adminExamReport.CandidatesExamPerformance,\n          this.props.adminExamReport.reportDistrictId.district_id\n        ).slice(0, 30);\n        let arrayNew: ExamPerformanceToPrintInterface[] = [];\n        let n: number = 1;\n        for (const key in data) {\n          if (Object.prototype.hasOwnProperty.call(data, key)) {\n            let school_level: string = \"\";\n            if (data[key].school_levels.length) {\n              data[key].school_levels.forEach((element, index) => {\n                let findLevel = this.getLevelbyId(element);\n                if (index === 0) {\n                  school_level = findLevel ? findLevel.school_level_name : \"\";\n                } else {\n                  school_level += findLevel\n                    ? \", \" + findLevel.school_level_name\n                    : \"\";\n                }\n              });\n            } else {\n              school_level = \"Any level\";\n            }\n            let dataArray: ExamPerformanceToPrintInterface = {\n              course_id: n,\n              course_name: data[key].course_name,\n              course_code: data[key].course_code,\n              description: data[key].description,\n              school_levels: data[key].school_levels.length\n                ? school_level\n                : \"Any\",\n              exam_period: data[key].exam\n                ? getPeriodById(\n                    this.props.periods.allSessionPlans,\n                    data[key].exam!.period\n                  )\n                  ? getPeriodById(\n                      this.props.periods.allSessionPlans,\n                      data[key].exam!.period\n                    )!.session_plan_name\n                  : \"-\"\n                : \"-\",\n              exam_date: data[key].exam ? DATE(data[key].exam!.exam_date) : \"-\",\n              exam_time: data[key].exam ? data[key].exam!.start_time : \"-\",\n              exam_duration: data[key].exam\n                ? data[key].exam!.duration.toString()\n                : \"-\",\n              exam_performance: 0,\n            };\n\n            for (const key in this.state.exam30PerformanceReportContent) {\n              if (\n                Object.prototype.hasOwnProperty.call(\n                  this.state.exam30PerformanceReportContent,\n                  key\n                )\n              ) {\n                if (!this.state.exam30PerformanceReportContent[key].status) {\n                  delete dataArray[\n                    this.state.exam30PerformanceReportContent[key].key\n                  ];\n                }\n              }\n            }\n            arrayNew.push(dataArray);\n            n++;\n          }\n        }\n        this.setExam30PerformanceToPrint(arrayNew);\n        arrayNew = [];\n        n = 1;\n      }\n    }\n    // EXAMINATION PROGRESS ######################\n    if (this.state.reportTitle === reportTitleType.EXAMINATION_PROGRESS) {\n      if (\n        loadAllExams(this.props.examsList, this.state.selected_period) &&\n        this.getCourses() &&\n        this.props.adminExamReport.DoneExam &&\n        this.props.periods.allSessionPlans\n      ) {\n        let data: examProgressStateInterface[] = FC_reportDoneExamList(\n          this.getCourses()!,\n          loadAllExams(this.props.examsList, this.state.selected_period)!,\n          this.props.adminExamReport.DoneExam\n        );\n        let arrayNew: ExaminationProgressToPrintInterface[] = [];\n        let n: number = 1;\n        for (const key in data) {\n          if (Object.prototype.hasOwnProperty.call(data, key)) {\n            let school_level: string = \"\";\n            if (data[key].school_levels.length) {\n              data[key].school_levels.forEach((element, index) => {\n                let findLevel = this.getLevelbyId(element);\n                if (index === 0) {\n                  school_level = findLevel ? findLevel.school_level_name : \"\";\n                } else {\n                  school_level += findLevel\n                    ? \", \" + findLevel.school_level_name\n                    : \"\";\n                }\n              });\n            } else {\n              school_level = \"Any level\";\n            }\n            let dataArray: ExaminationProgressToPrintInterface = {\n              course_id: n,\n              course_name: data[key].course_name,\n              course_code: data[key].course_code,\n              description: data[key].description,\n              school_levels: data[key].school_levels.length\n                ? school_level\n                : \"Any\",\n              exam_period: data[key].exam\n                ? getPeriodById(\n                    this.props.periods.allSessionPlans,\n                    data[key].exam!.period\n                  )\n                  ? getPeriodById(\n                      this.props.periods.allSessionPlans,\n                      data[key].exam!.period\n                    )!.session_plan_name\n                  : \"-\"\n                : \"-\",\n              exam_date: data[key].exam ? DATE(data[key].exam!.exam_date) : \"-\",\n              exam_time: data[key].exam ? data[key].exam!.start_time : \"-\",\n              exam_duration: data[key].exam\n                ? data[key].exam!.duration.toString()\n                : \"-\",\n              exam_status:\n                data[key].preparation_status === \"Done\"\n                  ? \"Completed\"\n                  : data[key].preparation_status,\n            };\n\n            for (const key in this.state.examinationProgressReportContent) {\n              if (\n                Object.prototype.hasOwnProperty.call(\n                  this.state.examinationProgressReportContent,\n                  key\n                )\n              ) {\n                if (!this.state.examinationProgressReportContent[key].status) {\n                  delete dataArray[\n                    this.state.examinationProgressReportContent[key].key\n                  ];\n                }\n              }\n            }\n            arrayNew.push(dataArray);\n            n++;\n          }\n        }\n        this.setExaminationProgressToPrint(arrayNew);\n        arrayNew = [];\n        n = 1;\n        // props.applicationsToPrint=;\n      }\n    }\n    // CANDIDATE EXAM PERFORMANCE ######################\n    if (this.state.reportTitle === reportTitleType.APPLICANTS_PERFORMANCE) {\n      if (\n        this.getCourses() &&\n        this.props.adminExamReport.CandidatesExamPerformance &&\n        this.props.periods.allSessionPlans\n      ) {\n        let data: candidatePerfomranceStateInterface[] =\n          FC_reportCandidatePerformanceData(\n            this.getCourses()!,\n            this.props.adminExamReport.CandidatesExamPerformance,\n            this.props.adminExamReport.reportCourseId\n              ? this.props.adminExamReport.reportCourseId.course_id\n              : \"all\"\n          );\n        let arrayNew: CandidateExamPerformanceToPrintInterface[] = [];\n        let n: number = 1;\n        for (const key in data) {\n          if (Object.prototype.hasOwnProperty.call(data, key)) {\n            let school_level: string = \"\";\n            if (data[key].school_levels.length) {\n              data[key].school_levels.forEach((element, index) => {\n                let findLevel = this.getLevelbyId(element);\n                if (index === 0) {\n                  school_level = findLevel ? findLevel.school_level_name : \"\";\n                } else {\n                  school_level += findLevel\n                    ? \", \" + findLevel.school_level_name\n                    : \"\";\n                }\n              });\n            } else {\n              school_level = \"Any level\";\n            }\n            let dataArray: CandidateExamPerformanceToPrintInterface = {\n              applicant_id: n,\n              course_name: data[key].course_name,\n              course_code: data[key].course_code,\n              description: data[key].description,\n              school_levels: data[key].school_levels.length\n                ? school_level\n                : \"Any\",\n              exam_period: getPeriodById(\n                this.props.periods.allSessionPlans,\n                data[key].exam.period\n              )\n                ? getPeriodById(\n                    this.props.periods.allSessionPlans,\n                    data[key].exam.period\n                  )!.session_plan_name\n                : \"-\",\n              exam_date: DATE(data[key].exam.exam_date),\n              exam_start_time: timestampToDate(\n                Number(data[key].exam.start_time)\n              ).timeAMPM,\n              exam_end_time: timestampToDate(Number(data[key].exam.end_time))\n                .timeAMPM,\n              performance_status: capitalizeFirstLetter(\n                displayStatus(data[key].exam_stastus)\n              ),\n              applicant_name: capitalizeFirstLetter(data[key].user_name),\n              national_id: data[key].national_id,\n              email: data[key].user_email,\n              phone: data[key].user_phone,\n              marks:\n                data[key].exam_stastus !== ReportUserExamStatus.Editing\n                  ? Number(data[key].user_total_marks.toFixed(1)) + \"%\"\n                  : \"-\",\n            };\n\n            for (const key in this.state\n              .candidateExamPerformanceReportContent) {\n              if (\n                Object.prototype.hasOwnProperty.call(\n                  this.state.candidateExamPerformanceReportContent,\n                  key\n                )\n              ) {\n                if (\n                  !this.state.candidateExamPerformanceReportContent[key].status\n                ) {\n                  delete dataArray[\n                    this.state.candidateExamPerformanceReportContent[key].key\n                  ];\n                }\n              }\n            }\n            arrayNew.push(dataArray);\n            n++;\n          }\n        }\n        this.setCandidateExamPerformanceToPrint(arrayNew);\n        arrayNew = [];\n        n = 1;\n        // props.applicationsToPrint=;\n      }\n    }\n    // 30 CANDIDATE EXAM PERFORMANCE ######################\n    if (\n      this.state.reportTitle === reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE\n    ) {\n      if (\n        this.getCourses() &&\n        this.props.adminExamReport.CandidatesExamPerformance &&\n        this.props.periods.allSessionPlans\n      ) {\n        let data: candidatePerfomranceStateInterface[] =\n          FC_CandiadtePerformancePerDistrictFilter(\n            FC_reportCandidatePerformanceData(\n              this.getCourses()!,\n              this.props.adminExamReport.CandidatesExamPerformance,\n              this.props.adminExamReport.reportCourseId\n                ? this.props.adminExamReport.reportCourseId.course_id\n                : \"all\"\n            ),\n            this.props.adminExamReport.reportDistrictId\n              ? this.props.adminExamReport.reportDistrictId.district_id\n              : null,\n            this.props.adminExamReport.reportCourseId\n              ? this.props.adminExamReport.reportCourseId.course_id\n              : null,\n            this.state.filterApplicantPerformance\n          ).slice(0, 30);\n        let arrayNew: CandidateExamPerformanceToPrintInterface[] = [];\n        let n: number = 1;\n        for (const key in data) {\n          if (Object.prototype.hasOwnProperty.call(data, key)) {\n            let school_level: string = \"\";\n            if (data[key].school_levels.length) {\n              data[key].school_levels.forEach((element, index) => {\n                let findLevel = this.getLevelbyId(element);\n                if (index === 0) {\n                  school_level = findLevel ? findLevel.school_level_name : \"\";\n                } else {\n                  school_level += findLevel\n                    ? \", \" + findLevel.school_level_name\n                    : \"\";\n                }\n              });\n            } else {\n              school_level = \"Any level\";\n            }\n            let dataArray: CandidateExamPerformanceToPrintInterface = {\n              applicant_id: n,\n              course_name: data[key].course_name,\n              course_code: data[key].course_code,\n              description: data[key].description,\n              school_levels: data[key].school_levels.length\n                ? school_level\n                : \"Any\",\n              exam_period: getPeriodById(\n                this.props.periods.allSessionPlans,\n                data[key].exam.period\n              )\n                ? getPeriodById(\n                    this.props.periods.allSessionPlans,\n                    data[key].exam.period\n                  )!.session_plan_name\n                : \"-\",\n              exam_date: DATE(data[key].exam.exam_date),\n              exam_start_time: timestampToDate(\n                Number(data[key].exam.start_time)\n              ).timeAMPM,\n              exam_end_time: timestampToDate(Number(data[key].exam.end_time))\n                .timeAMPM,\n              performance_status: capitalizeFirstLetter(\n                displayStatus(data[key].exam_stastus)\n              ),\n              applicant_name: capitalizeFirstLetter(data[key].user_name),\n              national_id: data[key].national_id,\n              email: data[key].user_email,\n              phone: data[key].user_phone,\n              marks:\n                data[key].exam_stastus !== ReportUserExamStatus.Editing\n                  ? Number(data[key].user_total_marks.toFixed(1)) + \"%\"\n                  : \"-\",\n            };\n\n            for (const key in this.state\n              .candidate30ExamPerformanceReportContent) {\n              if (\n                Object.prototype.hasOwnProperty.call(\n                  this.state.candidate30ExamPerformanceReportContent,\n                  key\n                )\n              ) {\n                if (\n                  !this.state.candidate30ExamPerformanceReportContent[key]\n                    .status\n                ) {\n                  delete dataArray[\n                    this.state.candidate30ExamPerformanceReportContent[key].key\n                  ];\n                }\n              }\n            }\n            arrayNew.push(dataArray);\n            n++;\n          }\n        }\n        this.setCandidate30ExamPerformanceToPrint(arrayNew);\n        arrayNew = [];\n        n = 1;\n        // props.applicationsToPrint=;\n      }\n    }\n  };\n\n  addToTitle = (): string => {\n    let result: string = \"\";\n\n    if (\n      this.state.reportTitle === reportTitleType.EXAM_DISTRICT_PERFORMANCE &&\n      this.props.adminExamReport.reportDistrictId\n    ) {\n      result += ` ${this.props.adminExamReport.reportDistrictId.district_name} district`;\n    } else if (\n      this.state.reportTitle === reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE\n    ) {\n      if (this.props.adminExamReport.reportDistrictId) {\n        result += ` in ${this.props.adminExamReport.reportDistrictId.district_name} district`;\n      }\n      if (this.props.adminExamReport.reportCourseId) {\n        result += ` in exam of ${this.props.adminExamReport.reportCourseId.course_name}(${this.props.adminExamReport.reportCourseId.course_code})`;\n      }\n    } else {\n      result = \"\";\n    }\n    return result;\n  };\n\n  downlaodPDF = async () => {\n    if (!document.querySelectorAll(\"#report_content tbody tr\").length) {\n      this.props.PushPopupAlert({\n        title: `Can't generate Report of empty Data`,\n        theme: PopupAlertTheme.warning,\n      });\n      return false;\n    }\n\n    if (this.state.selected_period) {\n      const table: HTMLElement | null =\n        document.getElementById(\"report_content\");\n      const reportSettings: reportSettingsInterface = {\n        doneBy: this.props.auth.user.fname + \" \" + this.props.auth.user.lname,\n        title: \"Exam Report\",\n        subjectTitle: \"Subject\",\n        subject: `${this.state.reportTitle} ${this.addToTitle()}`,\n        period: this.state.selected_period.session_plan_name,\n        footer: \"Online Teacher Recruitment\",\n        institute: this.props.schoolLevels.selectedEducationCategory\n          ? this.props.schoolLevels.selectedEducationCategory\n              .education_category_title\n          : \"All institute\",\n        orientation:\n          this.state.reportTitle === reportTitleType.APPLICANTS_PERFORMANCE ||\n          this.state.reportTitle ===\n            reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE\n            ? \"l\"\n            : \"p\",\n      };\n      table && (await generatePDF(reportSettings, table, this.setDownloading));\n    }\n  };\n\n  render() {\n    if (this.state.loading || this.props.periods.allSessionPlans === null) {\n      return (\n        <div className=\"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse\">\n          Loading data...\n        </div>\n      );\n    }\n\n    if (this.props.periods.allSessionPlans.length === 0) {\n      return <NoSession />;\n    }\n\n    return (\n      <div>\n        <SideNavigation>\n          {FC_HasInstitute(this.props.auth.education_institution_id) ===\n            false && (\n            <div className=\"flex flex-col mb-4\">\n              <span className=\"text-sm text-gray-600 mb-2\">\n                Education categories:\n              </span>\n              {this.props.schoolLevels.education_categories === null ? (\n                <Loading />\n              ) : this.props.schoolLevels.education_categories.length === 0 ? (\n                <span>No result found</span>\n              ) : (\n                this.props.schoolLevels.education_categories.map((item, i) => (\n                  <div\n                    onClick={() => {\n                      this.props.setSelectedEducationCategory(item);\n                      this.FD_GetSessions(item.education_institute_id);\n                      this.updateExamToPrint();\n                    }}\n                    key={i + 1}\n                    className={`border rounded px-2 py-2 mb-2 cursor-pointer ${\n                      this.props.schoolLevels.selectedEducationCategory !==\n                        null &&\n                      this.props.schoolLevels.selectedEducationCategory\n                        .education_institute_id === item.education_institute_id\n                        ? \"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500\"\n                        : \"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500\"\n                    } font-bold flex flex-row items-center gap-2`}\n                  >\n                    {this.props.schoolLevels.selectedEducationCategory !==\n                      null &&\n                    this.props.schoolLevels.selectedEducationCategory\n                      .education_institute_id ===\n                      item.education_institute_id ? (\n                      <MdRadioButtonChecked />\n                    ) : (\n                      <MdRadioButtonUnchecked />\n                    )}\n                    <span>{item.education_category_title}</span>\n                  </div>\n                ))\n              )}\n            </div>\n          )}\n          <div className=\"\">\n            <div className=\"text-gray-600 text-sm mb-2\">Selected period:</div>\n            <div\n              onClick={() => this.setSelectPeriod(true)}\n              className=\"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn\"\n            >\n              {this.state.selected_period !== null\n                ? `${capitalizeFirstWord(\n                    this.state.selected_period.session_plan_name\n                  )}`\n                : \"Filter by period\"}\n              <FiEdit className=\"text-lg text-blue-600\" />\n            </div>\n          </div>\n          <ExamReportFilters\n            reportTitle={this.state.reportTitle}\n            filterPreparation={this.state.filterPreparation}\n            setFilterPreparation={this.setFilterPreparation}\n            filterExamProgress={this.state.filterExamProgress}\n            setFilterExamProgress={this.setFilterExamProgress}\n            filterApplicantPerformance={this.state.filterApplicantPerformance}\n            setFilterApplicantPerformance={this.setFilterApplicantPerformance}\n          />\n        </SideNavigation>\n\n        {/* --------------------------------------------------------------------- */}\n\n        {/* REPORT TITLE CONTROLLERS ============================================ */}\n        <ExamReportTitle\n          downloading={this.state.downloading}\n          dataToPrint={loadAllExams(\n            this.props.examsList,\n            this.state.selected_period\n          )}\n          downlaodPDF={this.downlaodPDF}\n          reportTitle={this.state.reportTitle}\n          setReportTitle={this.setReportTitle}\n          setGenerateReportModal={this.setGenerateReportModal}\n          generateReportModal={this.state.generateReportModal}\n          excelReportTitle={this.state.excelReportTitle}\n          setExcelReportTitle={this.setExcelReportTitle}\n          updateExamToPrint={this.updateExamToPrint}\n          // EXAM PREPARATION ######################\n          examsToPrint={this.state.examsToPrint}\n          examPreparationReportContent={this.state.examPreparationReportContent}\n          setExamPreparationReportContent={this.setExamPreparationReportContent}\n          // EXAM PERFORMANCE ######################\n          examPerformanceToPrint={this.state.examPerformanceToPrint}\n          examPerformanceReportContent={this.state.examPerformanceReportContent}\n          setExamPerformanceReportContent={this.setExamPerformanceReportContent}\n          // TOP 30 EXAM PERFORMANCE ######################\n          exam30PerformanceToPrint={this.state.exam30PerformanceToPrint}\n          exam30PerformanceReportContent={\n            this.state.exam30PerformanceReportContent\n          }\n          setExam30PerformanceReportContent={\n            this.setExam30PerformanceReportContent\n          }\n          // EXAMINATION PROGRESS ######################\n          examinationProgressToPrint={this.state.examinationProgressToPrint}\n          examinationProgressReportContent={\n            this.state.examinationProgressReportContent\n          }\n          setExaminationProgressExamPerformanceReportContent={\n            this.setExaminationProgressExamPerformanceReportContent\n          }\n          // CANDIDATE EXAM PERFORMANCE ######################\n          candidateExamPerformanceToPrint={\n            this.state.candidateExamPerformanceToPrint\n          }\n          candidateExamPerformanceReportContent={\n            this.state.candidateExamPerformanceReportContent\n          }\n          setCandidateExamPerformanceReportContent={\n            this.setCandidateExamPerformanceReportContent\n          }\n          // CANDIDATE EXAM PERFORMANCE ######################\n          candidate30ExamPerformanceToPrint={\n            this.state.candidate30ExamPerformanceToPrint\n          }\n          candidate30ExamPerformanceReportContent={\n            this.state.candidate30ExamPerformanceReportContent\n          }\n          setCandidate30ExamPerformanceReportContent={\n            this.setCandidate30ExamPerformanceReportContent\n          }\n          thisPeriod={\n            this.state.selected_period ? this.state.selected_period._id : \"\"\n          }\n        />\n\n        {/* --------------------------------------------------------------------- */}\n\n        {/* EXAM LIST CONTROLLERS ============================================ */}\n        {this.state.reportTitle === reportTitleType.EXAM_PREPARATION &&\n          this.props.periods.allSessionPlans && (\n            <ExamList\n              loading={\n                this.state.loadingExams ||\n                this.state.loadingCourses ||\n                this.state.loadingDoneExam\n              }\n              examsListData={loadAllExams(\n                this.props.examsList,\n                this.state.selected_period\n              )}\n              courseListData={this.getCourses()}\n              thisPeriod={this.props.periods.allSessionPlans}\n              filterPreparation={this.state.filterPreparation}\n            />\n          )}\n        {/* EXAM LIST CONTROLLERS ============================================ */}\n\n        {/* --------------------------------------------------------------------- */}\n\n        {/* DONE & REMAING EXAM LIST CONTROLLERS ============================================ */}\n        {this.state.reportTitle === reportTitleType.EXAMINATION_PROGRESS &&\n          this.props.periods.allSessionPlans && (\n            <DoneExamList\n              loading={\n                this.state.loadingExams\n                  ? true\n                  : this.state.loadingCourses\n                  ? true\n                  : this.state.loadingDoneExam\n                  ? true\n                  : false\n              }\n              examsListData={loadAllExams(\n                this.props.examsList,\n                this.state.selected_period\n              )}\n              courseListData={this.getCourses()}\n              thisPeriod={this.props.periods.allSessionPlans}\n              doneExamsData={this.props.adminExamReport.DoneExam}\n              filterExamProgress={this.state.filterExamProgress}\n            />\n          )}\n        {/* DONE & REMAING EXAM LIST CONTROLLERS ============================================ */}\n\n        {/* --------------------------------------------------------------------- */}\n\n        {/* EXAM PERFORMANCE CONTROLLERS ============================================ */}\n        {this.state.reportTitle === reportTitleType.EXAM_PERFORMANCE &&\n          this.props.periods.allSessionPlans && (\n            <ExamPerformance\n              loading={\n                this.state.loadingExams\n                  ? true\n                  : this.state.loadingCourses\n                  ? true\n                  : this.state.loadingExamPerformance\n                  ? true\n                  : false\n              }\n              examsListData={loadAllExams(\n                this.props.examsList,\n                this.state.selected_period\n              )}\n              courseListData={this.getCourses()}\n              thisPeriod={this.props.periods.allSessionPlans}\n              examsPerformanceData={this.props.adminExamReport.ExamPerformance} // doneExamsData={props.adminExamReport.DoneExam}\n            />\n          )}\n        {/* END EXAM PERFORMANCE CONTROLLERS ============================================ */}\n\n        {/* --------------------------------------------------------------------- */}\n\n        {/* EXAM PERFORMANCE PER DISTRICT LIST CONTROLLERS ============================================ */}\n        {this.state.reportTitle === reportTitleType.EXAM_DISTRICT_PERFORMANCE &&\n        this.props.periods.allSessionPlans &&\n        this.props.adminExamReport.reportDistrictId ? (\n          <ExamPerformancePerDistrict\n            loading={\n              this.state.loadingExams\n                ? true\n                : this.state.loadingCourses\n                ? true\n                : this.state.loadingCandidatesExamPerformance\n                ? true\n                : false\n            }\n            examsListData={loadAllExams(\n              this.props.examsList,\n              this.state.selected_period\n            )}\n            doneExamsData={this.props.adminExamReport.DoneExam}\n            courseListData={this.getCourses()}\n            thisPeriod={this.props.periods.allSessionPlans}\n            candidatePerformanceData={\n              this.props.adminExamReport.CandidatesExamPerformance\n            }\n            thisDistrict={this.props.adminExamReport.reportDistrictId}\n          />\n        ) : (\n          this.state.reportTitle ===\n            reportTitleType.EXAM_DISTRICT_PERFORMANCE && (\n            <NoResult\n              theme={NoResultThemes.Light}\n              value={\"Select district to view data\"}\n              component={\n                <div\n                  onClick={() => this.setDistrictModal(true)}\n                  className=\"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm \"\n                >\n                  <BiFilterAlt className=\"text-xl\" />\n                  Filter by district\n                </div>\n              }\n            />\n          )\n        )}\n        {/* EXAM PERFORMANCE PER DISTRICT LIST CONTROLLERS ============================================  */}\n\n        {/* --------------------------------------------------------------------- */}\n\n        {/* APPLICANTS PERFORMANCE EXAM LIST CONTROLLERS ============================================ */}\n        {this.state.reportTitle === reportTitleType.APPLICANTS_PERFORMANCE &&\n          this.props.periods.allSessionPlans && (\n            <CandidatePerformance\n              loading={\n                this.state.loadingExams\n                  ? true\n                  : this.state.loadingCourses\n                  ? true\n                  : this.state.loadingCandidatesExamPerformance\n                  ? true\n                  : false\n              }\n              examsListData={loadAllExams(\n                this.props.examsList,\n                this.state.selected_period\n              )}\n              courseListData={this.getCourses()}\n              thisPeriod={this.props.periods.allSessionPlans}\n              candidatePerformanceData={\n                this.props.adminExamReport.CandidatesExamPerformance\n              }\n              filterApplicantPerformance={this.state.filterApplicantPerformance}\n            />\n          )}\n        {/* APPLICANTS PERFORMANCE EXAM LIST CONTROLLERS ============================================  */}\n\n        {/* --------------------------------------------------------------------- */}\n\n        {/* APPLICANTS PERFORMANCE EXAM PER DISTRICT LIST CONTROLLERS ============================================ */}\n        {this.state.reportTitle ===\n          reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE &&\n          this.props.periods.allSessionPlans && (\n            <CandiadtePerformancePerDistrict\n              loading={\n                this.state.loadingExams\n                  ? true\n                  : this.state.loadingCourses\n                  ? true\n                  : this.state.loadingCandidatesExamPerformance\n                  ? true\n                  : false\n              }\n              examsListData={loadAllExams(\n                this.props.examsList,\n                this.state.selected_period\n              )}\n              courseListData={this.getCourses()}\n              thisPeriod={this.props.periods.allSessionPlans}\n              candidatePerformanceData={\n                this.props.adminExamReport.CandidatesExamPerformance\n              }\n              filterApplicantPerformance={this.state.filterApplicantPerformance}\n            />\n          )}\n        {/* APPLICANTS PERFORMANCE EXAM PER DISTRICT LIST CONTROLLERS ============================================  */}\n\n        {/* --------------------------------------------------------------------- */}\n\n        {/* CHANGE DISTRICT FILTER MODAL CONTROLLERS ============================================ */}\n        {this.state.districtModal && (\n          <ExamReportModals\n            modalFor={ModalForTypes.choose_district}\n            modalState={this.state.districtModal}\n            changeModalState={this.setDistrictModal}\n            districtId={\n              this.props.adminExamReport.reportDistrictId\n                ? this.props.adminExamReport.reportDistrictId.district_id\n                : \"all\"\n            }\n            reportTitle={this.state.reportTitle}\n          />\n        )}\n        {/* END CHANGE DISTRICT FILTER MODAL CONTROLLERS ============================================ */}\n\n        {/* --------------------------------------------------------------------- */}\n\n        {/* MODAL CONTROLLERS ============================================ */}\n        <ExamReportModals\n          modalState={this.state.selectPeriod}\n          changeModalState={this.setSelectPeriod}\n          applicationPeriods={this.props.periods.allSessionPlans}\n          selected_period={this.state.selected_period}\n          setSelectedPeriod={this.setSelectedPeriod}\n          onPeriodChange={this.onPeriodChange}\n          modalFor={ModalForTypes.period}\n        />\n        {/* END MODAL CONTROLLERS ============================================ */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  sessionPlan,\n  schoolLevels,\n  course,\n  prepareExam,\n  adminExamReport,\n}: StoreState): {\n  auth: Auth;\n  periods: SessionPlanReducerInterface;\n  schoolLevels: schoolLevelsStoreInterface;\n  courses: course[] | null;\n  examsList: ExamItemResponse[] | null;\n  adminExamReport: ExamReportReducerType;\n} => {\n  return {\n    auth,\n    periods: sessionPlan,\n    schoolLevels,\n    courses: course.courses,\n    examsList: prepareExam.examsList,\n    adminExamReport,\n  };\n};\n\nexport const ExamReport = connect(mapStateToProps, {\n  setSelectedPeriod,\n  loadCourses,\n  loadExamsList,\n  FC_GetAllSessionByInstitution,\n  loadEducationCategories,\n  loadDoneExam,\n  loadSchoolLevels,\n  loadPerfomranceExam,\n  loadCandidatesExamPerformance,\n  setSelectedEducationCategory,\n  PushPopupAlert,\n})(_ExamReport);\n","import React, { Fragment, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport {\n  course,\n  CandidatesFailedSucceeded,\n  ReportUserExamStatus,\n  SessionPlanInterface,\n} from \"../../../interfaces\";\nimport { ExamItemResponse } from \"../../../interfaces/prepare_exam\";\nimport { StoreState } from \"../../../reducers\";\nimport { ExamReportReducerType } from \"../../../reducers/exam_report\";\nimport { capitalizeFirstLetter } from \"../../../shared/dataTest\";\nimport { DATE, timestampToDate } from \"../../../utils/functions\";\nimport {\n  candidatePerfomranceStateInterface,\n  controlRowsByStatus,\n  FC_reportCandidatePerformanceData,\n  searchCandidatePerformanceData,\n} from \"./CandidatePerformance\";\nimport { displayStatus } from \"./DoneExamList\";\nimport { getPeriodById } from \"./ExamReport\";\n\nexport const FC_CandiadtePerformancePerDistrictFilter = (\n  dataList: candidatePerfomranceStateInterface[],\n  district_id: string | null = null,\n  course_id: string | null = null,\n  thisValue: ReportUserExamStatus | \"all\" = \"all\"\n): candidatePerfomranceStateInterface[] => {\n  let result: candidatePerfomranceStateInterface[] = [];\n  if (thisValue === \"all\") {\n    result = dataList;\n  } else {\n    result = dataList.filter((item) => item.exam_stastus === thisValue);\n  }\n\n  if (district_id) {\n    result = result.filter(\n      (item) =>\n        item.exam.exam_location &&\n        item.exam.exam_location.district_id === district_id\n    );\n  }\n  if (course_id) {\n    result = result.filter((item) => item.course_id === course_id);\n  }\n\n  // SORTING ARRAY FROM MAX TO MIN ==========================\n  let swap: candidatePerfomranceStateInterface;\n  for (let i = 0; i < result.length; i++) {\n    for (let j = i; j < result.length; j++) {\n      if (result[j].user_total_marks > result[i].user_total_marks) {\n        swap = result[j];\n        result[j] = result[i];\n        result[i] = swap;\n      }\n    }\n  }\n  return result;\n};\n\ntype CandiadtePerformancePerDistrictProps = {\n  loading: boolean;\n  examsListData: ExamItemResponse[] | null;\n  courseListData: course[] | null;\n  thisPeriod: SessionPlanInterface[];\n  candidatePerformanceData: CandidatesFailedSucceeded[] | null;\n\n  // redux props ============\n  adminExamReport: ExamReportReducerType;\n  // FOR APPLICANT PERFORMANCE PROPS\n  filterApplicantPerformance: ReportUserExamStatus | \"all\";\n};\n\nconst CandiadtePerformancePerDistrict: React.FC<\n  CandiadtePerformancePerDistrictProps\n> = (props) => {\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n\n  return (\n    <Fragment>\n      <div className=\"bg-white my-4\">\n        <div className=\"w-full px-2 py-2\">\n          <input\n            onChange={(e) => setSearchInput(e.target.value)}\n            type=\"text\"\n            value={searchInput}\n            placeholder=\"Search...\"\n            className=\"w-full bg-gray-100 py-2 px-3 rounded\"\n            disabled={\n              props.courseListData &&\n              props.candidatePerformanceData &&\n              FC_CandiadtePerformancePerDistrictFilter(\n                FC_reportCandidatePerformanceData(\n                  props.courseListData,\n                  props.candidatePerformanceData,\n                  props.adminExamReport.reportCourseId\n                    ? props.adminExamReport.reportCourseId.course_id\n                    : \"all\"\n                ),\n                props.adminExamReport.reportDistrictId\n                  ? props.adminExamReport.reportDistrictId.district_id\n                  : null,\n                props.adminExamReport.reportCourseId\n                  ? props.adminExamReport.reportCourseId.course_id\n                  : null,\n                props.filterApplicantPerformance\n              ).length <= 0\n                ? true\n                : false\n            }\n          />\n        </div>\n        <div className=\"w-full overflow-x-auto\">\n          <table className=\"w-full shadow\" id=\"report_content\">\n            <thead className=\"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm\">\n              <tr>\n                <td className=\"px-2 py-2\">#</td>\n                <td className=\"px-2 py-2\">Applicants</td>\n                <td className=\"px-2 py-2\">National ID</td>\n                <td className=\"px-2 py-2\">Email</td>\n                <td className=\"px-2 py-2\">Phone</td>\n                <td className=\"px-2 py-2\">\n                  <div className=\"flex items-center gap-1\">Exam</div>\n                </td>\n                <td className=\"px-2 py-2\">Exam period</td>\n                <td className=\"px-2 py-2\">Exam date</td>\n                <td className=\"px-2 py-2\">Exam start time</td>\n                <td className=\"px-2 py-2\">Exam end time</td>\n                <td className=\"px-2 py-2\">\n                  <div className=\"flex items-center gap-1\">Marks</div>\n                </td>\n                <td className=\"px-2 py-2\">Status</td>\n              </tr>\n            </thead>\n            <tbody>\n              {props.courseListData === null || props.loading ? (\n                <tr>\n                  <td colSpan={12} className=\"px-2 py-2\">\n                    <Loading />\n                  </td>\n                </tr>\n              ) : props.candidatePerformanceData &&\n                FC_CandiadtePerformancePerDistrictFilter(\n                  FC_reportCandidatePerformanceData(\n                    props.courseListData,\n                    props.candidatePerformanceData,\n                    props.adminExamReport.reportCourseId\n                      ? props.adminExamReport.reportCourseId.course_id\n                      : \"all\"\n                  ),\n                  props.adminExamReport.reportDistrictId\n                    ? props.adminExamReport.reportDistrictId.district_id\n                    : null,\n                  props.adminExamReport.reportCourseId\n                    ? props.adminExamReport.reportCourseId.course_id\n                    : null,\n                  props.filterApplicantPerformance\n                ).length <= 0 ? (\n                <tr>\n                  <td colSpan={12} className=\"px-2 py-2 text-center\">\n                    No applicant list available!\n                  </td>\n                </tr>\n              ) : (\n                props.candidatePerformanceData &&\n                searchCandidatePerformanceData(\n                  FC_CandiadtePerformancePerDistrictFilter(\n                    FC_reportCandidatePerformanceData(\n                      props.courseListData,\n                      props.candidatePerformanceData,\n                      props.adminExamReport.reportCourseId\n                        ? props.adminExamReport.reportCourseId.course_id\n                        : \"all\"\n                    ),\n                    props.adminExamReport.reportDistrictId\n                      ? props.adminExamReport.reportDistrictId.district_id\n                      : null,\n                    props.adminExamReport.reportCourseId\n                      ? props.adminExamReport.reportCourseId.course_id\n                      : null,\n                    props.filterApplicantPerformance\n                  ).slice(0, 30),\n                  searchInput\n                ).map((item, i) => (\n                  <tr\n                    key={i + 1}\n                    className={`${controlRowsByStatus(\n                      item.exam_stastus\n                    )} text-gray-600 hover:bg-blue-100 hover:text-blue-700 text-sm`}\n                  >\n                    <td className=\"px-2 py-2\">{i + 1}</td>\n                    <td className=\"px-2 py-2\">\n                      {capitalizeFirstLetter(item.user_name)}\n                    </td>\n                    <td className=\"px-2 py-2\">{item.national_id}</td>\n                    <td className=\"px-2 py-2\">{item.user_email}</td>\n                    <td className=\"px-2 py-2\">{item.user_phone}</td>\n                    <td className=\"px-2 py-2\">\n                      {capitalizeFirstLetter(item.course_name)} (\n                      <span className=\"font-semibold\">{item.course_code}</span>)\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam\n                        ? getPeriodById(props.thisPeriod, item.exam.period)\n                          ? getPeriodById(props.thisPeriod, item.exam.period)!\n                              .session_plan_name\n                          : \"-\"\n                        : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam.exam_date ? DATE(item.exam.exam_date) : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam.start_time\n                        ? timestampToDate(item.exam.start_time).timeAMPM\n                        : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam.end_time\n                        ? timestampToDate(item.exam.end_time).timeAMPM\n                        : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam_stastus !== ReportUserExamStatus.Editing\n                        ? Number(item.user_total_marks.toFixed(1)) + \"%\"\n                        : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {capitalizeFirstLetter(displayStatus(item.exam_stastus))}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = ({\n  adminExamReport,\n}: StoreState): {\n  adminExamReport: ExamReportReducerType;\n} => {\n  return {\n    adminExamReport,\n  };\n};\n\nexport default React.memo(\n  connect(mapStateToProps, {})(CandiadtePerformancePerDistrict)\n);\n","import React, { Fragment, useState } from \"react\";\nimport { connect } from \"react-redux\";\n// import { BiSort } from \"react-icons/bi\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport NoResult, {\n  NoResultThemes,\n} from \"../../../components/NoResult/NoResult\";\nimport {\n  course,\n  CandidatesFailedSucceeded,\n  ExamDoneAndRemainingByPeriodInterface,\n  ReportUserExamStatus,\n  SessionPlanInterface,\n} from \"../../../interfaces\";\nimport { ExamItemResponse } from \"../../../interfaces/prepare_exam\";\nimport { StoreState } from \"../../../reducers\";\nimport { ExamReportReducerType } from \"../../../reducers/exam_report\";\nimport { capitalizeFirstLetter } from \"../../../shared/dataTest\";\nimport { DATE } from \"../../../utils/functions\";\nimport search from \"../../../utils/search\";\nimport { getPeriodById } from \"./ExamReport\";\n\nexport interface examPerformanceStateInterface {\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string[];\n  applicants: number;\n  course_id: string;\n  pass_applicant: number;\n  failed_applicant: number;\n  exam: ExamItemResponse;\n  user_total_marks: number;\n}\n\nexport const FC_ExamPerformancePerDistrictPropsData = (\n  allCourses: course[],\n  allExams: ExamItemResponse[],\n  examsData: ExamDoneAndRemainingByPeriodInterface[],\n  candidatePerformanceData: CandidatesFailedSucceeded[],\n  district_id: string\n): examPerformanceStateInterface[] => {\n  let pass: number = 0,\n    failed: number = 0,\n    result: examPerformanceStateInterface[] = [],\n    ids: string[] = [],\n    exam_ids: string[] = [],\n    doneExamsData: ExamDoneAndRemainingByPeriodInterface[] = examsData.filter(\n      (item) => item.exam_status.toLocaleLowerCase() === \"done\"\n    );\n\n  for (const key in doneExamsData) {\n    if (Object.prototype.hasOwnProperty.call(doneExamsData, key)) {\n      if (exam_ids.includes(doneExamsData[key].id)) continue;\n      exam_ids.push(doneExamsData[key].id);\n      let courser = allCourses.find(\n        (item) => item.course_id === doneExamsData[key].course\n      );\n      let _marks: number = 0;\n\n      if (courser) {\n        // CALCURATING SUM OF ALL CANDIDATES MARKS BY EXAM ID=================================\n        let candidatesByExam: CandidatesFailedSucceeded[] =\n          candidatePerformanceData.filter(\n            (item) =>\n              item.course === doneExamsData[key].course &&\n              item.exam_location &&\n              item.exam_location.district_id === district_id\n          );\n        for (const _key in candidatesByExam) {\n          if (Object.prototype.hasOwnProperty.call(candidatesByExam, _key)) {\n            if (ids.includes(candidatesByExam[_key].user.user_id)) continue;\n            ids.push(candidatesByExam[_key].user.user_id);\n            _marks += candidatesByExam[_key].total_marks;\n            if (\n              candidatesByExam[_key].user_status !==\n                ReportUserExamStatus.Editing &&\n              candidatesByExam[_key].total_marks >= 50\n            ) {\n              pass += 1;\n            } else if (\n              candidatesByExam[_key].user_status !==\n              ReportUserExamStatus.Editing\n            ) {\n              failed += 1;\n            }\n          }\n        }\n        let exam = allExams.find(\n          (item) =>\n            item.course === doneExamsData[key].course &&\n            item.period === doneExamsData[key].period\n        );\n        if (exam) {\n          result.push({\n            course_name: courser.course_name,\n            course_code: courser.course_code,\n            description: courser.description,\n            school_levels: courser.school_levels,\n            course_id: courser.course_id,\n            exam: exam,\n            pass_applicant: pass,\n            failed_applicant: failed,\n            applicants: ids.length,\n            user_total_marks: _marks ? _marks / ids.length : _marks, //candidatesByExam.length\n          });\n        }\n        _marks = 0;\n        ids = [];\n      }\n    }\n    exam_ids = [];\n  }\n\n  // SORTING ARRAY FROM MAX TO MIN ==========================\n  let swap: examPerformanceStateInterface;\n  for (let i = 0; i < result.length; i++) {\n    for (let j = i; j < result.length; j++) {\n      if (result[j].user_total_marks > result[i].user_total_marks) {\n        swap = result[j];\n        result[j] = result[i];\n        result[i] = swap;\n      }\n    }\n  }\n  return result;\n};\n\ntype ExamPerformancePerDistrictProps = {\n  loading: boolean;\n  examsListData: ExamItemResponse[] | null;\n  doneExamsData: ExamDoneAndRemainingByPeriodInterface[] | null;\n  courseListData: course[] | null;\n  thisPeriod: SessionPlanInterface[];\n  candidatePerformanceData: CandidatesFailedSucceeded[] | null;\n  thisDistrict: { district_id: string; district_name: string };\n  adminExamReport: ExamReportReducerType;\n};\n\nconst ExamPerformancePerDistrict: React.FC<ExamPerformancePerDistrictProps> = (\n  props\n) => {\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n\n  return (\n    <Fragment>\n      <div className=\"bg-white my-4 max-w-full overflow-x-auto\">\n        <div className=\"w-full px-2 py-2\">\n          <input\n            onChange={(e) => setSearchInput(e.target.value)}\n            type=\"text\"\n            value={searchInput}\n            placeholder=\"Search...\"\n            className=\"w-full bg-gray-100 py-2 px-3 rounded\"\n            disabled={\n              props.courseListData &&\n              props.examsListData &&\n              props.doneExamsData &&\n              props.candidatePerformanceData &&\n              props.adminExamReport.reportDistrictId &&\n              FC_ExamPerformancePerDistrictPropsData(\n                props.courseListData,\n                props.examsListData,\n                props.doneExamsData,\n                props.candidatePerformanceData,\n                props.adminExamReport.reportDistrictId.district_id\n              ).slice(0, 30).length <= 0\n                ? true\n                : false\n            }\n          />\n        </div>\n        <table className=\"w-full shadow\" id=\"report_content\">\n          <thead className=\"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm\">\n            <tr>\n              <td className=\"px-2 py-2\">#</td>\n              <td\n                className=\"px-2 py-2 cursor-pointer\"\n                // onClick={() => setSort(\"course_name\")}\n              >\n                <div className=\"flex items-center gap-1\">\n                  Course\n                  {/* <BiSort /> */}\n                </div>\n              </td>\n              <td className=\"px-2 py-2\">Exam date</td>\n              <td className=\"px-2 py-2\">Exam time</td>\n              <td className=\"px-2 py-2\">Exam duration</td>\n              <td className=\"px-2 py-2\">Exam Period</td>\n              <td className=\"px-2 py-2\">Pass Applicants</td>\n              <td className=\"px-2 py-2\">Failed Applicants</td>\n              <td\n                className=\"px-2 py-2 cursor-pointer\"\n                // onClick={() => setSort(\"user_total_marks\")}\n              >\n                <div className=\"flex items-center gap-1\">\n                  Percentage\n                  {/* <BiSort /> */}\n                </div>\n              </td>\n            </tr>\n          </thead>\n          <tbody>\n            {props.courseListData === null || props.loading ? (\n              <tr>\n                <td colSpan={9} className=\"px-2 py-2\">\n                  <Loading />\n                </td>\n              </tr>\n            ) : props.examsListData &&\n              props.doneExamsData &&\n              props.candidatePerformanceData &&\n              props.adminExamReport.reportDistrictId &&\n              FC_ExamPerformancePerDistrictPropsData(\n                props.courseListData,\n                props.examsListData,\n                props.doneExamsData,\n                props.candidatePerformanceData,\n                props.adminExamReport.reportDistrictId.district_id\n              ).length <= 0 ? (\n              <tr>\n                <td colSpan={9} className=\"px-2 py-2 text-center\">\n                  <NoResult\n                    theme={NoResultThemes.Dark}\n                    value={\"No Exam list available!ss\"}\n                  />\n                </td>\n              </tr>\n            ) : (\n              props.examsListData &&\n              props.doneExamsData &&\n              props.candidatePerformanceData &&\n              props.adminExamReport.reportDistrictId &&\n              search(\n                FC_ExamPerformancePerDistrictPropsData(\n                  props.courseListData,\n                  props.examsListData,\n                  props.doneExamsData,\n                  props.candidatePerformanceData,\n                  props.adminExamReport.reportDistrictId.district_id\n                ).slice(0, 30),\n                searchInput\n              ).map((item: examPerformanceStateInterface, i) => (\n                <tr\n                  key={i + 1}\n                  className={`bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm`}\n                >\n                  <td className=\"px-2 py-2\">{i + 1}</td>\n                  <td className=\"px-2 py-2\">\n                    {capitalizeFirstLetter(item.course_name)} (\n                    <span className=\"font-semibold\">{item.course_code}</span>)\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {item.exam ? DATE(item.exam.exam_date) : \"-\"}\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {item.exam ? item.exam.start_time : \"-\"}\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {item.exam ? item.exam!.duration + \" min\" : \"-\"}\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {item.exam\n                      ? getPeriodById(props.thisPeriod, item.exam.period)\n                        ? getPeriodById(props.thisPeriod, item.exam.period)!\n                            .session_plan_name\n                        : \"-\"\n                      : \"-\"}\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {item.pass_applicant !== undefined\n                      ? item.pass_applicant\n                      : \"-\"}\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {item.failed_applicant !== undefined\n                      ? item.failed_applicant\n                      : \"-\"}\n                  </td>\n                  <td className=\"px-2 py-2\">\n                    {Number(item.user_total_marks.toFixed(1)) + \"%\"}\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = ({\n  adminExamReport,\n}: StoreState): {\n  adminExamReport: ExamReportReducerType;\n} => {\n  return {\n    adminExamReport,\n  };\n};\n\nexport default React.memo(\n  connect(mapStateToProps, {})(ExamPerformancePerDistrict)\n);\n","import React, { Fragment } from \"react\";\nimport { MainItem } from \"../../../components/Navigation/SideNavigation\";\nimport { ReportUserExamStatus } from \"../../../interfaces\";\nimport { displayStatus } from \"./DoneExamList\";\nimport { reportTitleType } from \"./ExamReport\";\n\ntype ExamReportFiltersProps = {\n  reportTitle: reportTitleType;\n\n  // FOR EXAM PREPARATION PROPS =========================================\n  filterPreparation: \"prepared\" | \"not prepared\" | \"all\";\n  setFilterPreparation: (value: \"prepared\" | \"not prepared\" | \"all\") => void;\n\n  // FOR EXAMINATION PROGRESS PROPS ========================================\n  filterExamProgress: \"all\" | \"Done\" | \"Active\";\n  setFilterExamProgress: (value: \"all\" | \"Done\" | \"Active\") => void;\n\n  // FOR APPLICANT PERFORMANCE PROPS\n  filterApplicantPerformance: ReportUserExamStatus | \"all\";\n  setFilterApplicantPerformance: (value: \"all\" | ReportUserExamStatus) => void;\n};\nconst ExamReportFilters: React.FC<ExamReportFiltersProps> = (props) => {\n  return (\n    <Fragment>\n      {props.reportTitle !== reportTitleType.EXAM_PERFORMANCE &&\n        props.reportTitle !== reportTitleType.EXAM_DISTRICT_PERFORMANCE && (\n          <div className=\"pt-1\">\n            <div className=\"text-sm text-gray-700 pb-2 pt-2\">\n              Filter by statuses:\n            </div>\n            {/* FILTER OF EXAM PREPARATION ================================ */}\n            {props.reportTitle === reportTitleType.EXAM_PREPARATION && (\n              <section>\n                <div onClick={() => props.setFilterPreparation(\"all\")}>\n                  <MainItem\n                    title=\"All\"\n                    count={0}\n                    active={props.filterPreparation === \"all\"}\n                  />\n                </div>\n                <div onClick={() => props.setFilterPreparation(\"prepared\")}>\n                  <MainItem\n                    title=\"Prepared\"\n                    count={0}\n                    active={props.filterPreparation === \"prepared\"}\n                  />\n                </div>\n                <div onClick={() => props.setFilterPreparation(\"not prepared\")}>\n                  <MainItem\n                    title=\"Not Prepared\"\n                    count={0}\n                    active={props.filterPreparation === \"not prepared\"}\n                  />\n                </div>\n              </section>\n            )}\n            {/* END FILTER OF EXAM PREPARATION ================================ */}\n\n            {/* FILTER OF EXAMINATION PROGRESS ================================ */}\n            {props.reportTitle === reportTitleType.EXAMINATION_PROGRESS && (\n              <section>\n                <div onClick={() => props.setFilterExamProgress(\"all\")}>\n                  <MainItem\n                    title=\"All\"\n                    count={0}\n                    active={props.filterExamProgress === \"all\"}\n                  />\n                </div>\n                <div onClick={() => props.setFilterExamProgress(\"Done\")}>\n                  <MainItem\n                    title=\"Completed exam\"\n                    count={0}\n                    active={props.filterExamProgress === \"Done\"}\n                  />\n                </div>\n                <div onClick={() => props.setFilterExamProgress(\"Active\")}>\n                  <MainItem\n                    title=\"Remaining Exam\"\n                    count={0}\n                    active={props.filterExamProgress === \"Active\"}\n                  />\n                </div>\n              </section>\n            )}\n            {/* END FILTER OF EXAMINATION PROGRESS ================================ */}\n\n            {/* FILTER OF APPLICANTS PERFORMANCE ================================ */}\n            {(props.reportTitle === reportTitleType.APPLICANTS_PERFORMANCE ||\n              props.reportTitle ===\n                reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE) && (\n              <section>\n                <div onClick={() => props.setFilterApplicantPerformance(\"all\")}>\n                  <MainItem\n                    title=\"All\"\n                    count={0}\n                    active={props.filterApplicantPerformance === \"all\"}\n                  />\n                </div>\n\n                {Object.values(ReportUserExamStatus).map((item, index) => (\n                  <div\n                    onClick={() => props.setFilterApplicantPerformance(item)}\n                    key={index + item}\n                  >\n                    <MainItem\n                      title={displayStatus(item)}\n                      count={0}\n                      active={props.filterApplicantPerformance === item}\n                    />\n                  </div>\n                ))}\n              </section>\n            )}\n            {/* END FILTER OF APPLICANTS PERFORMANCE ================================ */}\n          </div>\n        )}\n    </Fragment>\n  );\n};\n\nexport default React.memo(ExamReportFilters);\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { BiExport, BiFilterAlt } from \"react-icons/bi\";\nimport { FaEdit } from \"react-icons/fa\";\nimport { connect } from \"react-redux\";\nimport {\n  schoolLevelsStoreInterface,\n  SetReportDistrictId,\n  SetReportDistrictIdAction,\n} from \"../../../actions\";\nimport { course } from \"../../../interfaces/index\";\nimport { ExamItemResponse } from \"../../../interfaces/prepare_exam\";\nimport { StoreState } from \"../../../reducers\";\nimport { ExamReportReducerType } from \"../../../reducers/exam_report\";\nimport { loadExaminationProgress } from \"../../AdminDashboard/ExamDashboard/ExamDashboard\";\nimport {\n  CandidateExamPerformanceReportContentInterface,\n  CandidateExamPerformanceToPrintInterface,\n} from \"./CandidatePerformance\";\nimport {\n  ExaminationProgressReportContentInterface,\n  ExaminationProgressToPrintInterface,\n} from \"./DoneExamList\";\nimport {\n  examPreparationReportContentInterface,\n  ExamPreparationToPrintInterface,\n} from \"./ExamList\";\nimport {\n  ExamPerformanceToPrintInterface,\n  examPerformanceReportContentInterface,\n} from \"./ExamPerformance\";\nimport { reportTitleType } from \"./ExamReport\";\nimport ExamReportModals, { ModalForTypes } from \"./ExamReportModals\";\n\ntype ExamReportTitleProps = {\n  thisPeriod: string;\n  // FOR PRINT PDF =========================\n  downloading: boolean;\n  dataToPrint: any[] | null;\n  downlaodPDF: () => Promise<false | undefined>;\n  // FOR REPORT TYPE =========================\n  reportTitle: reportTitleType;\n  setReportTitle: (title: reportTitleType) => void;\n  // FOR GENERATE EXCEL =========================\n  generateReportModal: {\n    reportType: \"EXCEL\" | \"PDF\";\n    status: boolean;\n  } | null;\n  setGenerateReportModal: (\n    reportData: {\n      reportType: \"EXCEL\" | \"PDF\";\n      status: boolean;\n    } | null\n  ) => void;\n  excelReportTitle: string;\n  setExcelReportTitle: (title: string) => void;\n  updateExamToPrint: () => void;\n  // FOR EXCEL EXAM PREPARATION REPORT CONTENT ===============================\n  examPreparationReportContent: examPreparationReportContentInterface[];\n  setExamPreparationReportContent: (\n    content: examPreparationReportContentInterface[]\n  ) => void;\n  examsToPrint:\n    | ExamPreparationToPrintInterface[]\n    | ExamPerformanceToPrintInterface[]\n    | null;\n  // FOR EXCEL EXAM PERFORMANCE REPORT CONTENT ===============================\n  examPerformanceToPrint: ExamPerformanceToPrintInterface[] | null;\n  examPerformanceReportContent: examPerformanceReportContentInterface[];\n  setExamPerformanceReportContent: (\n    value: examPerformanceReportContentInterface[]\n  ) => void;\n\n  // FOR EXCEL TOP 30 EXAM PERFORMANCE REPORT CONTENT ===============================\n  exam30PerformanceToPrint: ExamPerformanceToPrintInterface[] | null;\n  exam30PerformanceReportContent: examPerformanceReportContentInterface[];\n  setExam30PerformanceReportContent: (\n    value: examPerformanceReportContentInterface[]\n  ) => void;\n\n  // FOR EXCEL EXAMINATION PROGRESS REPORT CONTENT ===============================\n  examinationProgressToPrint: ExaminationProgressToPrintInterface[] | null;\n  examinationProgressReportContent: ExaminationProgressReportContentInterface[];\n  setExaminationProgressExamPerformanceReportContent: (\n    value: ExaminationProgressReportContentInterface[]\n  ) => void;\n\n  // FOR EXCEL CANDIDATE EXAM PERFORMANCE REPORT CONTENT ===============================\n  candidateExamPerformanceToPrint:\n    | CandidateExamPerformanceToPrintInterface[]\n    | null;\n  candidateExamPerformanceReportContent: CandidateExamPerformanceReportContentInterface[];\n  setCandidateExamPerformanceReportContent: (\n    value: CandidateExamPerformanceReportContentInterface[]\n  ) => void;\n\n  // FOR EXCEL TOP 30 CANDIDATE EXAM PERFORMANCE REPORT CONTENT ===============================\n  candidate30ExamPerformanceToPrint:\n    | CandidateExamPerformanceToPrintInterface[]\n    | null;\n  candidate30ExamPerformanceReportContent: CandidateExamPerformanceReportContentInterface[];\n  setCandidate30ExamPerformanceReportContent: (\n    value: CandidateExamPerformanceReportContentInterface[]\n  ) => void;\n\n  // FOR CHOOSING LOCATION ===========================\n  adminExamReport: ExamReportReducerType;\n  SetReportDistrictId: (\n    data: {\n      district_id: string;\n      district_name: string;\n    } | null\n  ) => SetReportDistrictIdAction;\n\n  // FROM REDUX =================\n  schoolLevels: schoolLevelsStoreInterface;\n  courses: course[] | null;\n  examsList: ExamItemResponse[] | null;\n};\n\nconst ExamReportTitle: React.FC<ExamReportTitleProps> = (props) => {\n  const [changeReport, setChangeReport] = useState<boolean>(false);\n  const [districtModal, setDistrictModal] = useState<boolean>(false);\n  const [excelModal, setExcelModal] = useState<boolean>(false);\n  const [courseModal, setCourseModal] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (\n      props.reportTitle === reportTitleType.EXAM_DISTRICT_PERFORMANCE &&\n      props.adminExamReport.reportDistrictId === null\n    ) {\n      setDistrictModal(true);\n    }\n    if (\n      props.reportTitle === reportTitleType.EXAM_DISTRICT_PERFORMANCE &&\n      props.adminExamReport.reportDistrictId !== null\n    ) {\n      setDistrictModal(false);\n    }\n  }, [props.adminExamReport.reportDistrictId, props.reportTitle]);\n\n  return (\n    <Fragment>\n      <div className=\"grid md:grid-cols-12 items-center\">\n        <div className=\"col-span-1 md:col-span-8\">\n          <div className=\"mt-4 mx-4 flex flex-col gap-1\">\n            <span className=\"text-xl font-bold text-gray-700\">Exam Report</span>\n            <div\n              className=\"flex flex-row gap-2 items-end cursor-pointer\"\n              onClick={() => setChangeReport(true)}\n            >\n              <span className=\"text-gray-500 text-xl\">Report type: </span>\n              <span className=\"text-blue-600 text-3xl font-bold underline\">\n                {props.reportTitle}{\" \"}\n                {props.reportTitle ===\n                  reportTitleType.EXAM_DISTRICT_PERFORMANCE &&\n                props.adminExamReport.reportDistrictId\n                  ? props.adminExamReport.reportDistrictId.district_name\n                  : \"\"}\n              </span>\n            </div>\n            {(props.reportTitle === reportTitleType.EXAM_DISTRICT_PERFORMANCE ||\n              props.reportTitle ===\n                reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE ||\n              props.reportTitle === reportTitleType.APPLICANTS_PERFORMANCE) && (\n              <div className=\"flex flex-wrap justify-starts items-center text-xs text-gray-800 font-medium gap-1 my-1\">\n                <span className=\"text-gray-500\">Filter result: </span>\n                {props.adminExamReport.reportDistrictId &&\n                (props.reportTitle ===\n                  reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE ||\n                  props.reportTitle ===\n                    reportTitleType.EXAM_DISTRICT_PERFORMANCE) ? (\n                  <span className=\"px-2 py-1 rounded bg-gray-300\">\n                    # {props.adminExamReport.reportDistrictId.district_name}\n                  </span>\n                ) : (\n                  <span className=\"px-2 py-1 rounded bg-gray-300\">\n                    # All district\n                  </span>\n                )}\n                {props.adminExamReport.reportCourseId ? (\n                  props.reportTitle ===\n                    reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE && (\n                    <span className=\"px-2 py-1 rounded bg-gray-300\">\n                      #\n                      {props.adminExamReport.reportCourseId.course_name +\n                        \" (\" +\n                        props.adminExamReport.reportCourseId.course_code +\n                        \")\"}\n                    </span>\n                  )\n                ) : (\n                  <span className=\"px-2 py-1 rounded bg-gray-300\">\n                    # All exams\n                  </span>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n        <div className=\"col-span-1 md:col-span-4\">\n          <div className=\"float-right mt-3\">\n            {props.dataToPrint && props.dataToPrint.length > 0 && (\n              <div className=\"flex flex-row items-center justify-end font-bold mb-2\">\n                <BiExport className=\"text-2xl text-gray-500\" />\n                <span className=\"text-gray-500\">Export as</span>\n                <button\n                  className={`px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 focus:outline-none`}\n                  // disabled={\n                  //   props.examsToPrint && props.examsToPrint.length <= 0\n                  //     ? true\n                  //     : false\n                  // }\n                  onClick={() => {\n                    props.updateExamToPrint();\n                    setExcelModal(true);\n                    props.setGenerateReportModal({\n                      reportType: \"EXCEL\",\n                      status: true,\n                    });\n                  }}\n                >\n                  EXCEL\n                </button>\n                <button\n                  className={`px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 focus:outline-none ${\n                    props.downloading && \"cursor-wait\"\n                  }`}\n                  onClick={() => props.downlaodPDF()}\n                  disabled={props.downloading}\n                >\n                  PDF\n                </button>\n              </div>\n            )}\n\n            <div>\n              <div\n                onClick={() => setChangeReport(true)}\n                className=\"bg-blue-50 py-2 px-2 border border-blue-300 text-blue-600 font-medium hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm float-right\"\n              >\n                <FaEdit className=\"text-xl\" />\n                Change Report\n              </div>\n            </div>\n\n            <section className=\"flex items-center gap-1 float-right mt-1\">\n              {(props.reportTitle ===\n                reportTitleType.EXAM_DISTRICT_PERFORMANCE ||\n                props.reportTitle ===\n                  reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE) && (\n                <div\n                  onClick={() => setDistrictModal(true)}\n                  className=\"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm \"\n                >\n                  <BiFilterAlt className=\"text-xl\" />\n                  Filter by district\n                </div>\n              )}\n              {(props.reportTitle === reportTitleType.APPLICANTS_PERFORMANCE ||\n                props.reportTitle ===\n                  reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE) && (\n                <div\n                  onClick={() => setCourseModal(true)}\n                  className=\"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm \"\n                >\n                  <BiFilterAlt className=\"text-xl\" />\n                  Filter by exam\n                </div>\n              )}\n            </section>\n          </div>\n        </div>\n      </div>\n\n      {/* GENERATE EXCEL MODAL CONTROLLERS ============================================ */}\n      {excelModal && (\n        <ExamReportModals\n          modalFor={ModalForTypes.generateReportModal}\n          modalState={excelModal}\n          changeModalState={setExcelModal}\n          reportTitle={props.reportTitle}\n          setGenerateReportModal={props.setGenerateReportModal}\n          excelReportTitle={props.excelReportTitle}\n          setExcelReportTitle={props.setExcelReportTitle}\n          updateExamToPrint={props.updateExamToPrint}\n          generateReportModal={props.generateReportModal}\n          // EXAM PREPARATION ######################\n          examsToPrint={props.examsToPrint}\n          examPreparationReportContent={props.examPreparationReportContent}\n          setExamPreparationReportContent={\n            props.setExamPreparationReportContent\n          }\n          // EXAM PERFORMANCE ######################\n          examPerformanceToPrint={props.examPerformanceToPrint}\n          examPerformanceReportContent={props.examPerformanceReportContent}\n          setExamPerformanceReportContent={\n            props.setExamPerformanceReportContent\n          }\n          // TOP 30 EXAM PERFORMANCE ######################\n          exam30PerformanceToPrint={props.exam30PerformanceToPrint}\n          exam30PerformanceReportContent={props.exam30PerformanceReportContent}\n          setExam30PerformanceReportContent={\n            props.setExam30PerformanceReportContent\n          }\n          // EXAMINATION PROGRESS ######################\n          examinationProgressToPrint={props.examinationProgressToPrint}\n          examinationProgressReportContent={\n            props.examinationProgressReportContent\n          }\n          setExaminationProgressExamPerformanceReportContent={\n            props.setExaminationProgressExamPerformanceReportContent\n          }\n          // CANDIDATE EXAM PERFORMANCE ######################\n          candidateExamPerformanceToPrint={\n            props.candidateExamPerformanceToPrint\n          }\n          candidateExamPerformanceReportContent={\n            props.candidateExamPerformanceReportContent\n          }\n          setCandidateExamPerformanceReportContent={\n            props.setCandidateExamPerformanceReportContent\n          }\n          candidate30ExamPerformanceToPrint={\n            props.candidate30ExamPerformanceToPrint\n          }\n          candidate30ExamPerformanceReportContent={\n            props.candidate30ExamPerformanceReportContent\n          }\n          setCandidate30ExamPerformanceReportContent={\n            props.setCandidate30ExamPerformanceReportContent\n          }\n        />\n      )}\n      {/* END GENERATE EXCEL MODAL CONTROLLERS ============================================ */}\n\n      {/* CHANGE REPORT TYPE MODAL CONTROLLERS ============================================ */}\n      {changeReport && (\n        <ExamReportModals\n          modalFor={ModalForTypes.title}\n          modalState={changeReport}\n          reportTitle={props.reportTitle}\n          changeModalState={setChangeReport}\n          setReportTitle={props.setReportTitle}\n          setExcelReportTitle={props.setExcelReportTitle}\n        />\n      )}\n      {/* END CHANGE REPORT TYPE MODAL CONTROLLERS ============================================ */}\n\n      {/* CHANGE DISTRICT FILTER MODAL CONTROLLERS ============================================ */}\n      {districtModal && (\n        <ExamReportModals\n          modalFor={ModalForTypes.choose_district}\n          modalState={districtModal}\n          changeModalState={setDistrictModal}\n          districtId={\n            props.adminExamReport.reportDistrictId\n              ? props.adminExamReport.reportDistrictId.district_id\n              : \"all\"\n          }\n          reportTitle={props.reportTitle}\n        />\n      )}\n      {/* END CHANGE DISTRICT FILTER MODAL CONTROLLERS ============================================ */}\n\n      {/* CHANGE COURSE FILTER MODAL CONTROLLERS ============================================ */}\n      {courseModal &&\n        loadExaminationProgress(\n          props.adminExamReport.DoneExam,\n          props.examsList,\n          props.schoolLevels.selectedEducationCategory,\n          props.courses,\n          props.schoolLevels.school_levels,\n          props.thisPeriod\n        ) && (\n          <ExamReportModals\n            modalFor={ModalForTypes.choose_exam}\n            modalState={courseModal}\n            AllExamData={\n              loadExaminationProgress(\n                props.adminExamReport.DoneExam,\n                props.examsList,\n                props.schoolLevels.selectedEducationCategory,\n                props.courses,\n                props.schoolLevels.school_levels,\n                props.thisPeriod\n              )!.finished\n            }\n            changeModalState={setCourseModal}\n            thisExam={props.adminExamReport.reportCourseId}\n          />\n        )}\n      {/* END CHANGE COURSE FILTER MODAL CONTROLLERS ============================================ */}\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = ({\n  adminExamReport,\n  schoolLevels,\n  course,\n  prepareExam,\n}: StoreState): {\n  schoolLevels: schoolLevelsStoreInterface;\n  courses: course[] | null;\n  examsList: ExamItemResponse[] | null;\n  adminExamReport: ExamReportReducerType;\n} => {\n  return {\n    schoolLevels,\n    courses: course.courses,\n    examsList: prepareExam.examsList,\n    adminExamReport,\n  };\n};\n\nexport default React.memo(\n  connect(mapStateToProps, { SetReportDistrictId })(ExamReportTitle)\n);\n","import React from \"react\";\nimport * as FileSaver from \"file-saver\";\nimport * as XLSX from \"xlsx\";\nimport { RiFileExcel2Fill } from \"react-icons/ri\";\n\ninterface ExportToExcelProps {\n  fileData: any[];\n  fileName: string;\n  btnName?: string;\n  className?: string;\n  showIcon?: boolean;\n}\n\nconst ExportToExcel: React.FC<ExportToExcelProps> = ({\n  fileData,\n  fileName,\n  btnName = \"Excel\",\n  className = \"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold\",\n  showIcon = true,\n}) => {\n  const fileType =\n    \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\n  const fileExtension = \".xlsx\";\n\n  const exportToCSV = (apiData: any[], fileName: string) => {\n    const ws = XLSX.utils.json_to_sheet(apiData);\n    const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\n    const excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\n    const data = new Blob([excelBuffer], { type: fileType });\n    FileSaver.saveAs(data, fileName + fileExtension);\n  };\n\n  return (\n    <button\n      onClick={(e) => exportToCSV(fileData, fileName)}\n      className={className}\n    >\n      {showIcon && <RiFileExcel2Fill />}\n      {btnName}\n    </button>\n  );\n};\n\nexport default ExportToExcel;\n","export default __webpack_public_path__ + \"static/media/mineduc.11a9ae1c.png\";","import jsPDF from \"jspdf\";\nimport { DATE } from \"../../utils/functions\";\nimport Logo from \"../../utils/mineduc.png\";\nrequire(\"jspdf-autotable\");\n\nexport const addFooters = (doc: any) => {\n  const pageCount = doc.internal.getNumberOfPages();\n\n  doc.setFont(\"helvetica\", \"italic\");\n  doc.setFontSize(8);\n  for (var i = 1; i <= pageCount; i++) {\n    doc.setPage(i);\n    doc.text(\n      \"Page \" + String(i) + \" of \" + String(pageCount),\n      doc.internal.pageSize.width / 2,\n      297,\n      {\n        align: \"center\",\n      }\n    );\n  }\n};\n\nexport type reportSettingsInterface = {\n  doneBy: string;\n  title: string;\n  subjectTitle: string;\n  subject: string;\n  institute: string;\n  period: string;\n  footer: string;\n  orientation?: \"p\" | \"l\";\n};\n\nexport const generatePDF = async (\n  reportSettings: reportSettingsInterface,\n  table: HTMLElement,\n  callBack: (status: boolean) => void\n) => {\n  callBack(true);\n  const orientation: \"p\" | \"l\" = reportSettings.orientation\n    ? reportSettings.orientation\n    : \"p\";\n  var lMargin: number = 20; //left margin in mm\n  var rMargin: number = 20; //right margin in mm\n  var pdfInMM: number = 185; // width of A4 in mm\n\n  //   var doc = new jsPDF(\"p\", \"mm\", \"a4\");\n  var doc: any = new jsPDF(orientation, \"mm\", \"a4\");\n\n  doc.setTextColor(95, 95, 95);\n  doc.setFontSize(28);\n  // doc.text(\n  //   this.props.reportTitle,\n  //   doc.internal.pageSize.getWidth() / 2,\n  //   30,\n  //   undefined,\n  //   \"center\"\n  // );\n  doc.addImage(Logo, \"png\", 20, 20, 10, 10);\n  doc.text(\"MINEDUC\", 32, 28.5, undefined, \"left\");\n  //   doc.setTextColor(19, 90, 152);\n  doc.setFontSize(26);\n  doc.text(\n    reportSettings.title,\n    doc.internal.pageSize.getWidth() / 2,\n    42.7,\n    undefined,\n    \"center\"\n  );\n\n  doc.setFontSize(20);\n  doc.text(\n    reportSettings.institute,\n    doc.internal.pageSize.getWidth() / 2,\n    53.7,\n    undefined,\n    \"center\"\n  );\n\n  var lines;\n  lines = doc.splitTextToSize(\n    reportSettings.subject,\n    pdfInMM - lMargin - rMargin\n  );\n  // if (reportSettings.position) {\n  // } else if (reportSettings.subject) {\n  //   lines = doc.splitTextToSize(\n  //     reportSettings.subject,\n  //     pdfInMM - lMargin - rMargin\n  //   );\n  // }\n\n  //   doc.setTextColor(0, 123, 255);\n  doc.setFontSize(16);\n  //   doc.text(lines, doc.internal.pageSize.getWidth() / 2, 45, {\n  //     maxWidth: 85,\n  //     align: \"center\",\n  //   });\n\n  var y = 63,\n    width;\n  doc.setTextColor(95, 95, 95);\n  doc.text(`${reportSettings.subjectTitle}: `, lMargin, y);\n  width = doc.getTextWidth(`${reportSettings.subjectTitle}: `);\n  // if (reportSettings.position) {\n  // } else if (reportSettings.position) {\n  //   doc.text(`Subject: `, lMargin, y);\n  //   width = doc.getTextWidth(\"Subject: \");\n  // }\n  // doc.setFontType(\"bold\");\n  doc.setTextColor(38, 38, 38);\n  for (var i = 0; i < lines.length; i++) {\n    if (y > 280) {\n      y = 10;\n      doc.addPage();\n    }\n    // doc.text(15, y, lines[i]);\n    doc.text(lines[i], lMargin + width, y);\n    y = y + 7;\n  }\n  doc.setTextColor(95, 95, 95);\n  doc.text(\"Period: \", lMargin, y + 3);\n  width = doc.getTextWidth(\"Period: \");\n  doc.setTextColor(38, 38, 38);\n  doc.text(reportSettings.period, lMargin + width, y + 3);\n\n  doc.autoTable({\n    html: table,\n    startY: 85,\n    margin: { horizontal: 20 },\n    cellPadding: 3, // Horizontal cell padding\n    // fontSize: 12,\n    rowHeight: 20,\n    // styles: { overflow: \"linebreak\" },\n    bodyStyles: { valign: \"top\" },\n    columnStyles: { email: { cellWidth: \"wrap\" } },\n    theme: \"striped\",\n    tableWidth: true,\n  });\n\n  doc.setFontSize(12);\n  let finalY = doc.lastAutoTable.finalY; // The y position on the page\n  doc.text(`Reported by: ${reportSettings.doneBy}`, lMargin, finalY + 15);\n  doc.text(\n    \"Report downloaded on \" + DATE(new Date().toString()),\n    lMargin,\n    finalY + 23\n  );\n\n  addFooters(doc);\n  await doc\n    .save(\n      `${\n        reportSettings.title +\n        \": \" +\n        reportSettings.subject +\n        \": \" +\n        reportSettings.period\n      }.pdf`,\n      { returnPromise: true }\n    )\n    .then(callBack(false));\n};\n","import React, { useState } from \"react\";\nimport {\n  MdCheckCircle,\n  MdRadioButtonUnchecked,\n  MdSearch,\n} from \"react-icons/md\";\nimport Loading from \"../../components/Loading/Loading\";\nimport {\n  PlansInterface,\n  SessionPlanInterface,\n  SessionPlanTypeStatus,\n} from \"../../interfaces\";\nimport { DATE } from \"../../utils/functions\";\nimport searchData from \"../../utils/search\";\n\nexport const isPlansActive = (plans: PlansInterface[]): PlansInterface[] => {\n  let today = new Date();\n  let activePlans: PlansInterface[] = [];\n  for (let plan of plans) {\n    let startDate = new Date(plan.start_date);\n    let endDate = new Date(plan.end_date);\n    if (\n      startDate.getTime() <= today.getTime() &&\n      endDate.getTime() >= today.getTime() &&\n      plan.type_status === SessionPlanTypeStatus.OPEN\n    ) {\n      activePlans = [...activePlans, plan];\n    }\n  }\n  return activePlans;\n};\n\ninterface ChooseSessionProps {\n  allSession: SessionPlanInterface[] | null;\n  setSelectSession: (period: SessionPlanInterface | \"all\") => void;\n  currentSelected: SessionPlanInterface | \"all\";\n  chooseAll: boolean;\n}\n\nconst ChooseSession = (props: ChooseSessionProps) => {\n  const [selectedPlan, setSelectedPlan] = useState<SessionPlanInterface | null>(\n    null\n  );\n  const [search, setSearch] = useState<string>(\"\");\n  const getSearch = (\n    period: SessionPlanInterface[],\n    searched: string\n  ): SessionPlanInterface[] => {\n    return searchData(period, searched) as SessionPlanInterface[];\n  };\n\n  return (\n    <div className=\"\">\n      <div className=\"px-3\">\n        <input\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n            setSearch(e.target.value)\n          }\n          type=\"text\"\n          className=\"py-3 px-4 w-full rounded border border-gray-400 mb-3\"\n          placeholder=\"Search by year, name\"\n          disabled={props.allSession === null || props.allSession.length === 0}\n        />\n      </div>\n\n      <div className=\"bg-gray-100 px-3 pt-3 pb-2 rounded-b\">\n        {props.allSession === null ? (\n          <Loading />\n        ) : props.allSession.length === 0 ? (\n          <div className=\"flex flex-col text-gray-400 items-center justify-center mb-2 bg-white py-4\">\n            <MdSearch className=\"text-6xl\" />\n            <div className=\"flex flex-col items-center justify-center\">\n              <span>No session found!</span>\n            </div>\n          </div>\n        ) : (\n          <section>\n            {props.chooseAll && (\n              <div\n                className={`rounded border ${\n                  props.currentSelected === \"all\"\n                    ? \"bg-blue-50 border-blue-300\"\n                    : \"bg-white border-white \"\n                } group hover:border-blue-500 px-2 py-2 mb-2 flex flex-col md:flex-row items-start md:items-center md:justify-between`}\n              >\n                <div className=\"flex flex-row items-center gap-3\">\n                  {props.currentSelected === \"all\" ? (\n                    <MdCheckCircle className={`text-blue-500 text-4xl`} />\n                  ) : (\n                    <MdRadioButtonUnchecked\n                      className={`text-gray-300 text-4xl`}\n                    />\n                  )}\n                  <div className=\"flex flex-col\">\n                    <div className={`text-gray-600 font-bold`}>All session</div>\n                  </div>\n                </div>\n                <div\n                  onClick={() => {\n                    props.setSelectSession(\"all\");\n                  }}\n                  className=\"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer\"\n                >\n                  Select\n                </div>\n              </div>\n            )}\n            {getSearch(props.allSession, search).map((item, i) => (\n              <div\n                key={i + 1}\n                className={`rounded border ${\n                  props.currentSelected !== \"all\" &&\n                  props.currentSelected._id === item._id\n                    ? \"bg-blue-50 border-blue-300\"\n                    : \"bg-white border-white \"\n                } group hover:border-blue-500 px-2 py-2 mb-2`}\n              >\n                <div className=\"flex flex-col md:flex-row items-start md:items-center md:justify-between \">\n                  <div className=\"flex flex-row items-center gap-3\">\n                    {props.currentSelected !== \"all\" &&\n                    props.currentSelected._id === item._id ? (\n                      <MdCheckCircle className={`text-blue-500 text-4xl`} />\n                    ) : (\n                      <MdRadioButtonUnchecked\n                        className={`text-gray-300 text-4xl`}\n                      />\n                    )}\n                    <div className=\"flex flex-col\">\n                      <div\n                        className={`${\n                          props.currentSelected !== \"all\" &&\n                          props.currentSelected._id === item._id\n                            ? \"text-blue-600\"\n                            : \"text-gray-600\"\n                        } font-bold`}\n                      >\n                        {item.session_plan_name}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        <span>Status: </span>\n                        <span\n                          className={`${\n                            item.is_active === true\n                              ? \"text-gray-900 font-bold underline\"\n                              : \"text-gray-500 italic\"\n                          }`}\n                        >\n                          {item.is_active === true ? \"Active\" : \"Expired\"}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex flex-row items-center gap-2\">\n                    {(selectedPlan === null ||\n                      selectedPlan._id !== item._id) && (\n                      <div\n                        onClick={() => setSelectedPlan(item)}\n                        className=\"bg-gray-50 group-hover:bg-blue-100 font-semibold text-gray-400 group-hover:text-blue-600 rounded px-3 py-2 cursor-pointer\"\n                      >\n                        Details\n                      </div>\n                    )}\n                    <div\n                      onClick={() => {\n                        props.setSelectSession(item);\n                      }}\n                      className=\"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer\"\n                    >\n                      Select\n                    </div>\n                    {selectedPlan !== null && selectedPlan._id === item._id && (\n                      <div\n                        onClick={() => setSelectedPlan(null)}\n                        className=\"bg-red-100 group-hover:bg-red-200 font-semibold text-red-600 group-hover:text-red-800 rounded px-3 py-2 cursor-pointer\"\n                      >\n                        Close\n                      </div>\n                    )}\n                  </div>\n                </div>\n                {selectedPlan !== null && selectedPlan._id === item._id && (\n                  <div className=\"bg-white rounded border border-blue-50 mt-2 animate__animated animate__fadeIn\">\n                    <table className=\"w-full\">\n                      <thead className=\"bg-blue-50\">\n                        <tr className=\"text-left\">\n                          <th className=\"px-3 py-3\">#</th>\n                          <th>Plan</th>\n                          <th>Start date</th>\n                          <th>Ending date</th>\n                          <th>Status</th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"text-sm\">\n                        {selectedPlan !== null &&\n                          selectedPlan._id === item._id &&\n                          selectedPlan.plans.length > 0 &&\n                          item.plans.map((plan, i) => (\n                            <tr\n                              key={i + 1}\n                              className={`${\n                                isPlansActive(item.plans).find(\n                                  (itm) => itm.type_key === plan.type_key\n                                ) !== undefined\n                                  ? \"bg-blue-100 text-blue-600 font-bold\"\n                                  : \"\"\n                              } text-left border-b border-blue-50`}\n                            >\n                              <td className=\"px-3 py-1\">{i + 1}</td>\n                              <td>{plan.type_title}</td>\n                              <td>{DATE(plan.start_date, \"DD/MM/YYYY\")}</td>\n                              <td>{DATE(plan.end_date, \"DD/MM/YYYY\")}</td>\n                              <td>{plan.type_status}</td>\n                            </tr>\n                          ))}\n                      </tbody>\n                    </table>\n                  </div>\n                )}\n              </div>\n            ))}\n          </section>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(ChooseSession);\n","import React, { Fragment, useState } from \"react\";\nimport { BiSort } from \"react-icons/bi\";\nimport { connect } from \"react-redux\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport { SessionPlanInterface } from \"../../../interfaces\";\nimport { course } from \"../../../interfaces/course\";\nimport { ExamItemResponse } from \"../../../interfaces/prepare_exam\";\nimport {\n  CandidatesFailedSucceeded,\n  ReportUserExamStatus,\n} from \"../../../interfaces/reports\";\nimport { StoreState } from \"../../../reducers\";\nimport { ExamReportReducerType } from \"../../../reducers/exam_report\";\nimport { capitalizeFirstLetter } from \"../../../shared/dataTest\";\nimport { DATE, sortThisArray, timestampToDate } from \"../../../utils/functions\";\nimport { displayStatus } from \"./DoneExamList\";\nimport { getPeriodById } from \"./ExamReport\";\n\n// EXCEL FILE FUNCTIONS ================================\nexport interface CandidateExamPerformanceToPrintInterface {\n  applicant_id: number;\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string;\n  exam_period: string;\n  exam_date: string;\n  exam_start_time: string;\n  exam_end_time: string;\n  applicant_name: string;\n  national_id: string;\n  email: string;\n  phone: string;\n  marks: string;\n  performance_status: string;\n}\n\nexport enum CandidateExamPerformanceReportContentKeyInterface {\n  APPLICANT = \"applicant_name\",\n  N_ID = \"national_id\",\n  EMAIL = \"email\",\n  PHONE = \"phone\",\n  MARKS = \"marks\",\n  STATUS = \"performance_status\",\n  COURSER_NAME = \"course_name\",\n  COURSE_CODE = \"course_code\",\n  SCHOOL_LEVEL = \"school_levels\",\n  PERIOD = \"exam_period\",\n  DATE = \"exam_date\",\n  START_TIME = \"exam_start_time\",\n  END_TIME = \"exam_end_time\",\n}\n\nexport interface CandidateExamPerformanceReportContentInterface {\n  key: CandidateExamPerformanceReportContentKeyInterface;\n  title: string;\n  status: boolean;\n}\n\nexport const candidateExamPerformanceIsChangeAllowed = (\n  key: CandidateExamPerformanceReportContentKeyInterface\n): boolean => {\n  if (\n    key === CandidateExamPerformanceReportContentKeyInterface.COURSER_NAME ||\n    key === CandidateExamPerformanceReportContentKeyInterface.COURSE_CODE ||\n    key === CandidateExamPerformanceReportContentKeyInterface.PERIOD ||\n    key === CandidateExamPerformanceReportContentKeyInterface.APPLICANT ||\n    key === CandidateExamPerformanceReportContentKeyInterface.N_ID\n  ) {\n    return false;\n  }\n  return true;\n};\n\nexport const defaultCandidateExamPerformanceContent: CandidateExamPerformanceReportContentInterface[] =\n  [\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.APPLICANT,\n      title: \"Applicant names\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.N_ID,\n      title: \"National ID\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.EMAIL,\n      title: \"Email\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.PHONE,\n      title: \"Phone\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.MARKS,\n      title: \"Marks\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.COURSER_NAME,\n      title: \"Course names\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.COURSE_CODE,\n      title: \"Course code\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.SCHOOL_LEVEL,\n      title: \"School levels\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.PERIOD,\n      title: \"Exam period\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.DATE,\n      title: \"Exam date\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.START_TIME,\n      title: \"Exam start time\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.END_TIME,\n      title: \"Exam end time\",\n      status: true,\n    },\n    {\n      key: CandidateExamPerformanceReportContentKeyInterface.STATUS,\n      title: \"Status\",\n      status: true,\n    },\n  ];\n// END EXCEL FILE FUNCTIONS ================================\n\nexport interface candidatePerfomranceStateInterface {\n  user_id: string;\n  user_name: string;\n  national_id: string;\n  user_email: string;\n  user_phone: string;\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string[];\n  course_id: string;\n  exam: CandidatesFailedSucceeded;\n  user_total_marks: number;\n  exam_stastus: ReportUserExamStatus;\n}\n\nexport const FC_reportCandidatePerformanceData = (\n  allCourses: course[],\n  data: CandidatesFailedSucceeded[],\n  course_id: string\n): candidatePerfomranceStateInterface[] => {\n  let result: candidatePerfomranceStateInterface[] = [],\n    ids: string[] = [];\n  for (const key in data) {\n    if (Object.prototype.hasOwnProperty.call(data, key)) {\n      if (!ids.includes(data[key]._id)) {\n        ids.push(data[key]._id);\n        let courser = allCourses.find(\n          (item) => item.course_id === data[key].course\n        );\n        if (courser) {\n          result.push({\n            user_id: data[key].user.user_id,\n            user_name:\n              capitalizeFirstLetter(data[key].user.user_info.lname) +\n              \" \" +\n              capitalizeFirstLetter(data[key].user.user_info.fname),\n            national_id: data[key].user.n_id ? data[key].user.n_id : \"\",\n            user_email: data[key].user.email,\n            user_phone: data[key].user.phone_number,\n            course_name: courser.course_name,\n            course_code: courser.course_code,\n            description: courser.description,\n            school_levels: courser.school_levels,\n            course_id: courser.course_id,\n            exam: data[key],\n            user_total_marks: data[key].total_marks,\n            exam_stastus: data[key].user_status,\n          });\n        }\n      }\n    }\n  }\n\n  if (course_id !== \"all\") {\n    result = result.filter((item) => item.course_id === course_id);\n  }\n  return result;\n};\n\nexport const FC_reportCandidatePerformanceDataFilter = (\n  thisList: candidatePerfomranceStateInterface[],\n  thisValue: ReportUserExamStatus | \"all\"\n): candidatePerfomranceStateInterface[] => {\n  if (thisValue === \"all\") {\n    return thisList;\n  } else {\n    return thisList.filter((item) => item.exam_stastus === thisValue);\n  }\n};\n\nexport const searchCandidatePerformanceData = (\n  objList: candidatePerfomranceStateInterface[],\n  text: string\n): candidatePerfomranceStateInterface[] => {\n  if (undefined === text || text === \"\") return objList;\n  return objList.filter((product) => {\n    let flag;\n    // let dataKeys = product;\n\n    for (let prop in product) {\n      flag = false;\n      if (\n        prop === \"course_name\" ||\n        prop === \"course_code\" ||\n        prop === \"user_total_marks\" ||\n        prop === \"exam_stastus\" ||\n        prop === \"description\" ||\n        prop === \"user_name\" ||\n        prop === \"user_phone\" ||\n        prop === \"user_email\" ||\n        prop === \"national_id\"\n      ) {\n        flag =\n          product[prop].toString().toLowerCase().indexOf(text.toLowerCase()) >\n          -1;\n      }\n      if (flag) break;\n    }\n    return flag;\n  });\n};\n\nexport const controlRowsByStatus = (status: string): string => {\n  if (status === \"Done\") {\n    return \"bg-blue-50 border-gray-300 hover:border-blue-500 border-t border-b\";\n  }\n  if (status === \"Removed\") {\n    return \"bg-white border-red-300 hover:border-red-500 border-t border-b\";\n  }\n  if (status === \"Paused\") {\n    return \"bg-white border-yellow-300 hover:border-yellow-500 border-t border-b\";\n  }\n  return \"bg-white border-gray-300 hover:border-blue-500 border-t border-b\";\n};\n\ntype CandidatePerformanceProps = {\n  loading: boolean;\n  examsListData: ExamItemResponse[] | null;\n  courseListData: course[] | null;\n  thisPeriod: SessionPlanInterface[];\n  candidatePerformanceData: CandidatesFailedSucceeded[] | null;\n\n  // redux props ============\n  adminExamReport: ExamReportReducerType;\n  // FOR APPLICANT PERFORMANCE PROPS\n  filterApplicantPerformance: ReportUserExamStatus | \"all\";\n};\n\nconst CandidatePerformance: React.FC<CandidatePerformanceProps> = (props) => {\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n  const [isSorted, setIsSorted] = useState<boolean>(false);\n  const [sortProperty, setSortProperty] = useState<string>(\"\");\n  const [sortOrder, setSortOrder] = useState<\"ASC\" | \"DESC\">(\"ASC\");\n\n  const setSort = (thisProperty: string) => {\n    if (sortProperty === thisProperty && sortOrder === \"ASC\") {\n      setSortOrder(\"DESC\");\n      setSortProperty(thisProperty);\n      setIsSorted(true);\n    } else {\n      setSortOrder(\"ASC\");\n      setSortProperty(thisProperty);\n      setIsSorted(true);\n    }\n  };\n\n  return (\n    <Fragment>\n      <div className=\"bg-white my-4\">\n        <div className=\"w-full px-2 py-2\">\n          <input\n            onChange={(e) => setSearchInput(e.target.value)}\n            type=\"text\"\n            value={searchInput}\n            placeholder=\"Search...\"\n            className=\"w-full bg-gray-100 py-2 px-3 rounded\"\n            disabled={\n              props.courseListData &&\n              props.candidatePerformanceData &&\n              FC_reportCandidatePerformanceDataFilter(\n                FC_reportCandidatePerformanceData(\n                  props.courseListData,\n                  props.candidatePerformanceData,\n                  props.adminExamReport.reportCourseId\n                    ? props.adminExamReport.reportCourseId.course_id\n                    : \"all\"\n                ),\n                props.filterApplicantPerformance\n              ).length <= 0\n                ? true\n                : false\n            }\n          />\n        </div>\n        <div className=\"w-full overflow-x-auto\">\n          <table className=\"w-full shadow\" id=\"report_content\">\n            <thead className=\"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm\">\n              <tr>\n                <td className=\"px-2 py-2\">#</td>\n                <td className=\"px-2 py-2\" onClick={() => setSort(\"user_name\")}>\n                  Applicants\n                </td>\n                <td className=\"px-2 py-2\">National ID</td>\n                <td className=\"px-2 py-2\">Email</td>\n                <td className=\"px-2 py-2\">Phone</td>\n                <td\n                  className=\"px-2 py-2 cursor-pointer\"\n                  onClick={() => setSort(\"course_name\")}\n                >\n                  <div className=\"flex items-center gap-1\">\n                    Exam <BiSort />\n                  </div>\n                </td>\n                <td className=\"px-2 py-2\">Exam period</td>\n                <td className=\"px-2 py-2\">Exam date</td>\n                <td className=\"px-2 py-2\">Exam start time</td>\n                <td className=\"px-2 py-2\">Exam end time</td>\n                <td\n                  className=\"px-2 py-2 cursor-pointer\"\n                  onClick={() => setSort(\"user_total_marks\")}\n                >\n                  <div className=\"flex items-center gap-1\">\n                    Marks <BiSort />\n                  </div>\n                </td>\n                <td className=\"px-2 py-2\">Status</td>\n              </tr>\n            </thead>\n            <tbody>\n              {props.courseListData === null || props.loading ? (\n                <tr>\n                  <td colSpan={12} className=\"px-2 py-2\">\n                    <Loading />\n                  </td>\n                </tr>\n              ) : props.candidatePerformanceData &&\n                FC_reportCandidatePerformanceDataFilter(\n                  FC_reportCandidatePerformanceData(\n                    props.courseListData,\n                    props.candidatePerformanceData,\n                    props.adminExamReport.reportCourseId\n                      ? props.adminExamReport.reportCourseId.course_id\n                      : \"all\"\n                  ),\n                  props.filterApplicantPerformance\n                ).length <= 0 ? (\n                <tr>\n                  <td colSpan={12} className=\"px-2 py-2 text-center\">\n                    No applicant list available!\n                  </td>\n                </tr>\n              ) : (\n                props.candidatePerformanceData &&\n                sortThisArray(\n                  isSorted,\n                  searchCandidatePerformanceData(\n                    FC_reportCandidatePerformanceDataFilter(\n                      FC_reportCandidatePerformanceData(\n                        props.courseListData,\n                        props.candidatePerformanceData,\n                        props.adminExamReport.reportCourseId\n                          ? props.adminExamReport.reportCourseId.course_id\n                          : \"all\"\n                      ),\n                      props.filterApplicantPerformance\n                    ),\n                    searchInput\n                  ),\n                  sortProperty,\n                  sortOrder\n                ).map((item: candidatePerfomranceStateInterface, i) => (\n                  <tr\n                    key={i + 1}\n                    className={`${controlRowsByStatus(\n                      item.exam_stastus\n                    )} text-gray-600 hover:bg-blue-100 hover:text-blue-700 text-sm`}\n                  >\n                    <td className=\"px-2 py-2\">{i + 1}</td>\n                    <td className=\"px-2 py-2\">\n                      {capitalizeFirstLetter(item.user_name)}\n                    </td>\n                    <td className=\"px-2 py-2\">{item.national_id}</td>\n                    <td className=\"px-2 py-2\">{item.user_email}</td>\n                    <td className=\"px-2 py-2\">{item.user_phone}</td>\n                    <td className=\"px-2 py-2\">\n                      {capitalizeFirstLetter(item.course_name)} (\n                      <span className=\"font-semibold\">{item.course_code}</span>)\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam\n                        ? getPeriodById(props.thisPeriod, item.exam.period)\n                          ? getPeriodById(props.thisPeriod, item.exam.period)!\n                              .session_plan_name\n                          : \"-\"\n                        : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam.exam_date ? DATE(item.exam.exam_date) : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam.start_time\n                        ? timestampToDate(item.exam.start_time).timeAMPM\n                        : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam.end_time\n                        ? timestampToDate(item.exam.end_time).timeAMPM\n                        : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam_stastus !== ReportUserExamStatus.Editing\n                        ? Number(item.user_total_marks.toFixed(1)) + \"%\"\n                        : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {capitalizeFirstLetter(displayStatus(item.exam_stastus))}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = ({\n  adminExamReport,\n}: StoreState): {\n  adminExamReport: ExamReportReducerType;\n} => {\n  return {\n    adminExamReport,\n  };\n};\n\nexport default React.memo(connect(mapStateToProps, {})(CandidatePerformance));\n","import { ApexOptions } from \"apexcharts\";\nimport React, { useEffect, useState } from \"react\";\nimport Chart from \"react-apexcharts\";\n\ntype VBarCharPropstInterface = {\n  labels: string[];\n  categoriesLabel: any;\n  bar?: {\n    borderRadius: number;\n    horizontal: boolean;\n    columnWidth: string;\n    endingShape: string;\n  };\n  dataLabels: boolean;\n  yaxisText: string;\n  tooltipText: string;\n  series: {\n    name: string;\n    data: number[];\n  }[];\n  defaultBar?: {\n    borderRadius: number;\n    horizontal: boolean;\n    columnWidth: string;\n    endingShape: string;\n  };\n  colors?: any[];\n  title?: {\n    text: string;\n    align: string;\n    margin: number;\n    offestY: number;\n    style: {\n      fontSize: string;\n    };\n  };\n  stacked?: boolean;\n  FC_LoadSelected?: (labelIndex: number, seriesIndex: number) => void;\n  chartHeight?: number;\n};\n\nconst defaultBar = {\n  borderRadius: 4,\n  horizontal: false,\n  columnWidth: \"95%\",\n  endingShape: \"rounded\",\n};\n\nconst VBarChart: React.FC<VBarCharPropstInterface> = (props) => {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [options, setOptions] = useState<ApexOptions>({\n    chart: {\n      events: {\n        dataPointSelection: (event, chartContext, config) => {\n          console.log({\n            labelClicked: config.w.config.labels[config.dataPointIndex],\n            // seriesClicked: config.w.config.series[config.dataPointIndex],\n          });\n          if (props.FC_LoadSelected) {\n            props.FC_LoadSelected(config.dataPointIndex, config.seriesIndex);\n          }\n          // console.log(config.seriesIndex);\n          // console.log(config.dataPointIndex);\n        },\n      },\n      stacked: props.stacked ? props.stacked : false,\n    },\n    plotOptions: {\n      bar: props.defaultBar ? props.defaultBar : defaultBar,\n    },\n    labels: props.labels,\n    dataLabels: {\n      enabled: true,\n    },\n    xaxis: {\n      labels: {\n        rotate: -45,\n      },\n      categories: props.categoriesLabel,\n      tickPlacement: \"on\",\n    },\n    yaxis: {\n      title: {\n        text: props.yaxisText,\n      },\n    },\n    fill: {\n      opacity: 1,\n    },\n    tooltip: {\n      y: {\n        formatter: function (val: number) {\n          return val + \" \" + props.tooltipText;\n        },\n      },\n    },\n    grid: {\n      padding: {\n        left: 30, // or whatever value that works\n        right: 30, // or whatever value that works\n      },\n    },\n    noData: {\n      text: \"No data found\",\n      align: \"center\",\n      verticalAlign: \"middle\",\n    },\n  });\n\n  useEffect(() => {\n    if (props.colors && props.colors.length > 0 && loading) {\n      setOptions({\n        chart: {\n          stacked: props.stacked ? props.stacked : false,\n          events: {\n            dataPointSelection: (event, chartContext, config) => {\n              console.log({\n                chartClicked: config.w.config.labels[config.dataPointIndex],\n              });\n              if (props.FC_LoadSelected) {\n                props.FC_LoadSelected(\n                  config.dataPointIndex,\n                  config.seriesIndex\n                );\n              }\n            },\n          },\n          zoom: {\n            enabled: true,\n            autoScaleYaxis: true,\n          },\n        },\n        plotOptions: {\n          bar: props.defaultBar ? props.defaultBar : defaultBar,\n        },\n        labels: props.labels,\n        dataLabels: {\n          enabled: true,\n        },\n        xaxis: {\n          labels: {\n            rotate: -45,\n          },\n          categories: props.categoriesLabel,\n          tickPlacement: \"on\",\n        },\n        yaxis: {\n          title: {\n            text: props.yaxisText,\n          },\n        },\n        fill: {\n          opacity: 1,\n        },\n        tooltip: {\n          y: {\n            formatter: function (val: number) {\n              return val + \" \" + props.tooltipText;\n            },\n          },\n        },\n        grid: {\n          padding: {\n            left: 30, // or whatever value that works\n            right: 30, // or whatever value that works\n          },\n        },\n        noData: {\n          text: \"No data found\",\n          align: \"center\",\n          verticalAlign: \"middle\",\n        },\n        colors: props.colors,\n      });\n    } else if (loading) {\n      setOptions({\n        chart: {\n          stacked: props.stacked ? props.stacked : false,\n          events: {\n            dataPointSelection: (event, chartContext, config) => {\n              console.log({\n                labelClicked: config.w.config.labels[config.dataPointIndex],\n                // seriesClicked: config.w.config.series[config.dataPointIndex],\n              });\n              if (props.FC_LoadSelected) {\n                props.FC_LoadSelected(\n                  config.dataPointIndex,\n                  config.seriesIndex\n                );\n              }\n              // console.log(config.seriesIndex);\n              // console.log(config.dataPointIndex);\n            },\n          },\n          zoom: {\n            enabled: true,\n            autoScaleYaxis: true,\n          },\n        },\n        plotOptions: {\n          bar: props.defaultBar ? props.defaultBar : defaultBar,\n        },\n        labels: props.labels,\n        dataLabels: {\n          enabled: true,\n        },\n        xaxis: {\n          labels: {\n            rotate: -45,\n          },\n          categories: props.categoriesLabel,\n          tickPlacement: \"on\",\n        },\n        yaxis: {\n          title: {\n            text: props.yaxisText,\n          },\n        },\n        fill: {\n          opacity: 1,\n        },\n        tooltip: {\n          y: {\n            formatter: function (val: number) {\n              return val + \" \" + props.tooltipText;\n            },\n          },\n        },\n        grid: {\n          padding: {\n            left: 30, // or whatever value that works\n            right: 30, // or whatever value that works\n          },\n        },\n        noData: {\n          text: \"No data found\",\n          align: \"center\",\n          verticalAlign: \"middle\",\n        },\n      });\n    }\n    setLoading(false);\n  }, [loading, options, props]);\n\n  if (loading) {\n    return (\n      <div className=\"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse\">\n        Loading Data...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full\">\n      <Chart\n        options={options}\n        series={props.series}\n        type=\"bar\"\n        width=\"100%\"\n        height={props.chartHeight ? props.chartHeight : undefined}\n      />\n    </div>\n  );\n};\n\nexport default React.memo(VBarChart);\n","import React, { Fragment, useState } from \"react\";\nimport { BiSort } from \"react-icons/bi\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport { SessionPlanInterface } from \"../../../interfaces\";\nimport { course } from \"../../../interfaces/course\";\nimport { ExamItemResponse } from \"../../../interfaces/prepare_exam\";\nimport {\n  capitalizeFirstLetter,\n  isEmptyOrSpaces,\n} from \"../../../shared/dataTest\";\nimport { DATE, sortThisArray } from \"../../../utils/functions\";\n// import searchData from \"../../../utils/search\";\nimport { getPeriodById } from \"./ExamReport\";\n\n// EXCEL INTERFACES ======================================\nexport interface ExamPreparationToPrintInterface {\n  course_id: number;\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string;\n  exam_period: string;\n  exam_date: string;\n  exam_time: string;\n  exam_duration: string;\n  // exam: ExamItemResponse | null;\n  preparation_status: string;\n}\n\nexport enum examPreparationReportContentKeyInterface {\n  \"course_name\" = \"course_name\",\n  \"course_code\" = \"course_code\",\n  SCHOOL_LEVEL = \"school_levels\",\n  PERIOD = \"exam_period\",\n  DATE = \"exam_date\",\n  TIME = \"exam_time\",\n  DURATION = \"exam_duration\",\n  STATUS = \"preparation_status\",\n}\n\nexport interface examPreparationReportContentInterface {\n  key: examPreparationReportContentKeyInterface;\n  title: string;\n  status: boolean;\n}\n\nexport const defaultExamPreparationReportContent: examPreparationReportContentInterface[] =\n  [\n    {\n      key: examPreparationReportContentKeyInterface.course_name,\n      title: \"Course names\",\n      status: true,\n    },\n    {\n      key: examPreparationReportContentKeyInterface.course_code,\n      title: \"Course code\",\n      status: true,\n    },\n    {\n      key: examPreparationReportContentKeyInterface.SCHOOL_LEVEL,\n      title: \"School levels\",\n      status: true,\n    },\n    {\n      key: examPreparationReportContentKeyInterface.PERIOD,\n      title: \"Exam period\",\n      status: true,\n    },\n    {\n      key: examPreparationReportContentKeyInterface.DATE,\n      title: \"Exam date\",\n      status: true,\n    },\n    {\n      key: examPreparationReportContentKeyInterface.TIME,\n      title: \"Exam time\",\n      status: true,\n    },\n    {\n      key: examPreparationReportContentKeyInterface.DURATION,\n      title: \"Exam duration\",\n      status: true,\n    },\n    {\n      key: examPreparationReportContentKeyInterface.STATUS,\n      title: \"Exam status\",\n      status: true,\n    },\n  ];\n\nexport const examPreparationIsChangeAllowed = (\n  key: examPreparationReportContentKeyInterface\n): boolean => {\n  if (\n    key === examPreparationReportContentKeyInterface.course_name ||\n    key === examPreparationReportContentKeyInterface.course_code\n  ) {\n    return false;\n  }\n  return true;\n};\n// END EXCEL INTERFACES ======================================\n\nexport interface examPreparationStateInterface {\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string[];\n  course_id: string;\n  exam: ExamItemResponse | null;\n  preparation_status: \"prepared\" | \"not prepared\";\n}\n\nexport const FC_reportExamList = (\n  allCourses: course[],\n  allExams: ExamItemResponse[],\n  period: string = \"\"\n): examPreparationStateInterface[] => {\n  let result: examPreparationStateInterface[] = [],\n    ids: string[] = [];\n  for (const key in allCourses) {\n    if (Object.prototype.hasOwnProperty.call(allCourses, key)) {\n      if (ids.includes(allCourses[key].course_id)) continue;\n      ids.push(allCourses[key].course_id);\n      let exam = !isEmptyOrSpaces(period)\n        ? allExams.find(\n            (item) =>\n              item.course === allCourses[key].course_id &&\n              item.period === period\n          )\n        : allExams.find((item) => item.course === allCourses[key].course_id);\n      if (exam) {\n        result.push({\n          course_name: allCourses[key].course_name,\n          course_code: allCourses[key].course_code,\n          description: allCourses[key].description,\n          school_levels: allCourses[key].school_levels,\n          course_id: allCourses[key].course_id,\n          exam: exam,\n          preparation_status: \"prepared\",\n        });\n      } else {\n        result.push({\n          course_name: allCourses[key].course_name,\n          course_code: allCourses[key].course_code,\n          description: allCourses[key].description,\n          school_levels: allCourses[key].school_levels,\n          course_id: allCourses[key].course_id,\n          exam: null,\n          preparation_status: \"not prepared\",\n        });\n      }\n    }\n  }\n  return result;\n};\n\nexport const FC_reportExamListFilter = (\n  thisList: examPreparationStateInterface[],\n  thisStatus: \"all\" | \"prepared\" | \"not prepared\"\n): examPreparationStateInterface[] => {\n  if (thisStatus === \"all\") {\n    return thisList;\n  } else {\n    return thisList.filter((item) => item.preparation_status === thisStatus);\n  }\n};\n\nexport const searchExamList = (\n  objList: examPreparationStateInterface[],\n  text: string\n): examPreparationStateInterface[] => {\n  if (undefined === text || text === \"\") return objList;\n  return objList.filter((product) => {\n    let flag;\n    // let dataKeys = product;\n\n    for (let prop in product) {\n      flag = false;\n      if (\n        prop === \"course_name\" ||\n        prop === \"course_code\" ||\n        prop === \"preparation_status\"\n      ) {\n        flag =\n          product[prop].toString().toLowerCase().indexOf(text.toLowerCase()) >\n          -1;\n      }\n      if (flag) break;\n    }\n    return flag;\n  });\n};\n\ntype ExamListProps = {\n  loading: boolean;\n  examsListData: ExamItemResponse[] | null;\n  courseListData: course[] | null;\n  thisPeriod: SessionPlanInterface[];\n  // FOR EXAM PREPARATION PROPS =========================================\n  filterPreparation: \"prepared\" | \"not prepared\" | \"all\";\n};\n\nconst ExamList: React.FC<ExamListProps> = (props) => {\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n  const [isSorted, setIsSorted] = useState<boolean>(false);\n  const [sortProperty, setSortProperty] = useState<string>(\"\");\n  const [sortOrder, setSortOrder] = useState<\"ASC\" | \"DESC\">(\"ASC\");\n\n  const setSort = (thisProperty: string) => {\n    if (sortProperty === thisProperty && sortOrder === \"ASC\") {\n      setSortOrder(\"DESC\");\n      setSortProperty(thisProperty);\n      setIsSorted(true);\n    } else {\n      setSortOrder(\"ASC\");\n      setSortProperty(thisProperty);\n      setIsSorted(true);\n    }\n  };\n\n  return (\n    <Fragment>\n      <div className=\"bg-white my-4\">\n        <div className=\"w-full px-2 py-2\">\n          {props.courseListData && props.examsListData && (\n            <input\n              onChange={(e) => setSearchInput(e.target.value)}\n              type=\"text\"\n              value={searchInput}\n              placeholder=\"Search...\"\n              className=\"w-full bg-gray-100 py-2 px-3 rounded\"\n              disabled={\n                FC_reportExamListFilter(\n                  FC_reportExamList(props.courseListData, props.examsListData),\n                  props.filterPreparation\n                ).length <= 0\n              }\n            />\n          )}\n        </div>\n        <div className=\"w-full overflow-x-auto\">\n          <table className=\"w-full shadow\" id=\"report_content\">\n            <thead className=\"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm\">\n              <tr>\n                <td className=\"px-2 py-2\">#</td>\n                <td\n                  className=\"px-2 py-2 cursor-pointer\"\n                  onClick={() => setSort(\"course_name\")}\n                >\n                  <div className=\"flex items-center gap-1\">\n                    Course <BiSort />\n                  </div>\n                </td>\n                <td className=\"px-2 py-2\">Exam date</td>\n                <td className=\"px-2 py-2\">Exam time</td>\n                <td className=\"px-2 py-2\">Exam duration</td>\n                <td className=\"px-2 py-2\">Exam Period</td>\n                <td className=\"px-2 py-2\">Created at</td>\n                <td\n                  className=\"px-2 py-2 cursor-pointer\"\n                  onClick={() => setSort(\"preparation_status\")}\n                >\n                  <div className=\"flex items-center gap-1\">\n                    Exam Status <BiSort />\n                  </div>\n                </td>\n              </tr>\n            </thead>\n            <tbody>\n              {props.courseListData === null || props.loading ? (\n                <tr>\n                  <td colSpan={8} className=\"px-2 py-2\">\n                    <Loading />\n                  </td>\n                </tr>\n              ) : props.courseListData &&\n                props.examsListData &&\n                FC_reportExamListFilter(\n                  FC_reportExamList(props.courseListData, props.examsListData),\n                  props.filterPreparation\n                ).length <= 0 ? (\n                <tr>\n                  <td colSpan={8} className=\"px-2 py-2 text-center\">\n                    No course for exam found\n                  </td>\n                </tr>\n              ) : (\n                props.examsListData &&\n                sortThisArray(\n                  isSorted,\n                  searchExamList(\n                    FC_reportExamListFilter(\n                      FC_reportExamList(\n                        props.courseListData,\n                        props.examsListData\n                      ),\n                      props.filterPreparation\n                    ),\n                    searchInput\n                  ),\n                  sortProperty,\n                  sortOrder\n                ).map((item, i) => (\n                  <tr\n                    key={i + 1}\n                    className={`${\n                      item.exam ? \"bg-blue-50\" : \"bg-white\"\n                    } text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm`}\n                  >\n                    <td className=\"px-2 py-2\">{i + 1}</td>\n                    <td className=\"px-2 py-2\">\n                      {capitalizeFirstLetter(item.course_name)} (\n                      <span className=\"font-semibold\">{item.course_code}</span>)\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam ? DATE(item.exam.exam_date) : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam ? item.exam.start_time : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam ? item.exam!.duration + \" min\" : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam\n                        ? getPeriodById(props.thisPeriod, item.exam.period)\n                          ? getPeriodById(props.thisPeriod, item.exam.period)!\n                              .session_plan_name\n                          : \"-\"\n                        : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam ? DATE(item.exam.createdAt) : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {capitalizeFirstLetter(\n                        item.exam ? \"Prepared\" : \"Not prepared\"\n                      )}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default React.memo(ExamList);\n","import React, { useEffect, useState } from \"react\";\nimport { CgFileDocument } from \"react-icons/cg\";\nimport { MdCheckBox, MdCheckBoxOutlineBlank, MdHistory } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\nimport {\n  SetReportCourseId,\n  SetReportCourseIdAction,\n  SetReportDistrictId,\n  SetReportDistrictIdAction,\n} from \"../../../actions\";\nimport { getAllRoom } from \"../../../actions/location\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport Modal, { ModalSize, Themes } from \"../../../components/Modal/Modal\";\nimport { SessionPlanInterface } from \"../../../interfaces\";\nimport { StoreState } from \"../../../reducers\";\nimport { isEmptyOrSpaces } from \"../../../shared/dataTest\";\nimport {\n  LocationRoomTableInterface,\n  RoomLocationInterface,\n} from \"../../../shared/interfaces\";\nimport ExportToExcel from \"../../../utils/ExportToExcel\";\nimport ChooseSession from \"../../SessionSettings/ChooseSession\";\nimport { LocationsInArray } from \"../../UserManagement/UserList\";\nimport {\n  CandidateExamPerformanceToPrintInterface,\n  CandidateExamPerformanceReportContentInterface,\n  CandidateExamPerformanceReportContentKeyInterface,\n  candidateExamPerformanceIsChangeAllowed,\n} from \"./CandidatePerformance\";\nimport {\n  examinationProgressIsChangeAllowed,\n  ExaminationProgressReportContentInterface,\n  ExaminationProgressReportContentKeyInterface,\n  ExaminationProgressToPrintInterface,\n  examProgressStateInterface,\n  searchExamData,\n} from \"./DoneExamList\";\nimport {\n  examPreparationReportContentInterface,\n  ExamPreparationToPrintInterface,\n  examPreparationReportContentKeyInterface,\n  examPreparationIsChangeAllowed,\n} from \"./ExamList\";\nimport {\n  ExamPerformanceToPrintInterface,\n  examPerformanceReportContentInterface,\n  examPerformanceReportContentKeyInterface,\n  examPerformanceIsChangeAllowed,\n} from \"./ExamPerformance\";\nimport { reportTitleType } from \"./ExamReport\";\n\nexport const FC_DistinctDistrict = (\n  locations: LocationRoomTableInterface[]\n): LocationRoomTableInterface[] => {\n  var flags: string[] = [],\n    output: LocationRoomTableInterface[] = [],\n    l: number = locations.length,\n    i: number;\n  for (i = 0; i < l; i++) {\n    if (flags.includes(locations[i].district_id)) continue;\n    flags.push(locations[i].district_id);\n    output.push(locations[i]);\n  }\n\n  return output;\n};\n\nexport enum ModalForTypes {\n  title = \"TITLE\",\n  period = \"PERIOD\",\n  generateReportModal = \"GENERATE REPORT\",\n  choose_exam = \"Choosing Exam\",\n  choose_district = \"Choosing District\",\n}\n\ntype ExamReportModalsProps = {\n  modalFor: ModalForTypes;\n  modalState: boolean;\n  changeModalState: (state: boolean) => void;\n\n  // FOR CHANGING PERIOD =========================\n  applicationPeriods?: SessionPlanInterface[] | null;\n  selected_period?: SessionPlanInterface | null;\n  setSelectedPeriod?: (period: SessionPlanInterface) => void;\n  onPeriodChange?: (period_id: string) => void;\n\n  // FOR CHOOSING EXAM =========================\n  AllExamData?: examProgressStateInterface[];\n  // thisExam?: examProgressStateInterface | null;\n  // setSelectedExam?: (selectedExam: examProgressStateInterface | null) => void;\n  SetReportCourseId: (\n    data: examProgressStateInterface | null\n  ) => SetReportCourseIdAction;\n  thisExam?: examProgressStateInterface | null;\n\n  // FOR REPORT TYPE =========================\n  reportTitle?: reportTitleType;\n  setReportTitle?: (title: reportTitleType) => void;\n\n  // FOR EXCEL GENERATION =========================\n  generateReportModal?: {\n    reportType: \"EXCEL\" | \"PDF\";\n    status: boolean;\n  } | null;\n  setGenerateReportModal?: (\n    reportData: {\n      reportType: \"EXCEL\" | \"PDF\";\n      status: boolean;\n    } | null\n  ) => void;\n  excelReportTitle?: string;\n  setExcelReportTitle?: (title: string) => void;\n  examPreparationReportContent?: examPreparationReportContentInterface[];\n  setExamPreparationReportContent?: (\n    content: examPreparationReportContentInterface[]\n  ) => void;\n  updateExamToPrint?: () => void;\n  examsToPrint?:\n    | ExamPreparationToPrintInterface[]\n    | ExamPerformanceToPrintInterface[]\n    | null;\n  // FOR EXAM PERFORMANCE REPORT ================================\n  examPerformanceToPrint?: ExamPerformanceToPrintInterface[] | null;\n  examPerformanceReportContent?: examPerformanceReportContentInterface[];\n  setExamPerformanceReportContent?: (\n    value: examPerformanceReportContentInterface[]\n  ) => void;\n  // FOR EXCEL TOP 30 EXAM PERFORMANCE REPORT CONTENT ===============================\n  exam30PerformanceToPrint?: ExamPerformanceToPrintInterface[] | null;\n  exam30PerformanceReportContent?: examPerformanceReportContentInterface[];\n  setExam30PerformanceReportContent?: (\n    value: examPerformanceReportContentInterface[]\n  ) => void;\n  // FOR EXCEL EXAMINATION PROGRESS REPORT CONTENT ===============================\n  examinationProgressToPrint?: ExaminationProgressToPrintInterface[] | null;\n  examinationProgressReportContent?: ExaminationProgressReportContentInterface[];\n  setExaminationProgressExamPerformanceReportContent?: (\n    value: ExaminationProgressReportContentInterface[]\n  ) => void;\n  // FOR EXCEL CANDIDATE EXAM PERFORMANCE REPORT CONTENT ===============================\n  candidateExamPerformanceToPrint?:\n    | CandidateExamPerformanceToPrintInterface[]\n    | null;\n  candidateExamPerformanceReportContent?: CandidateExamPerformanceReportContentInterface[];\n  setCandidateExamPerformanceReportContent?: (\n    value: CandidateExamPerformanceReportContentInterface[]\n  ) => void;\n  // FOR EXCEL TOP 30 CANDIDATE EXAM PERFORMANCE REPORT CONTENT ===============================\n  candidate30ExamPerformanceToPrint?:\n    | CandidateExamPerformanceToPrintInterface[]\n    | null;\n  candidate30ExamPerformanceReportContent?: CandidateExamPerformanceReportContentInterface[];\n  setCandidate30ExamPerformanceReportContent?: (\n    value: CandidateExamPerformanceReportContentInterface[]\n  ) => void;\n  // FOR LOCATIONS PROVINCE, DISTRICT, CENTERS, ROOM ================================\n  locations: RoomLocationInterface[];\n  getAllRoom: Function;\n  SetReportDistrictId?: (\n    data: {\n      district_id: string;\n      district_name: string;\n    } | null\n  ) => SetReportDistrictIdAction;\n  districtId?: string;\n  isAllDistrictAllowed?: boolean;\n};\n\nconst ExamReportModals: React.FC<ExamReportModalsProps> = (props) => {\n  const [formError, setFormError] = useState<{\n    element: string;\n    msg: string;\n  } | null>(null);\n  const [selectAll, setSelectAll] = useState<boolean>(true);\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n  const [loadingLocation, setLoadingLocation] = useState<boolean>(true);\n  const [error, setError] = useState<{ element: String; msg: string } | null>(\n    null\n  );\n  const [districtId, setDistrictId] = useState<string>(\n    props.districtId ? props.districtId : \"all\"\n  );\n\n  const isChangeAllowed = (key: any): boolean => {\n    // EXAM PREPARATION ######################\n    if (\n      props.reportTitle &&\n      props.reportTitle === reportTitleType.EXAM_PREPARATION\n    ) {\n      return examPreparationIsChangeAllowed(key);\n    }\n    // EXAM PERFORMANCE ######################\n    if (\n      props.reportTitle &&\n      (props.reportTitle === reportTitleType.EXAM_PERFORMANCE ||\n        props.reportTitle === reportTitleType.EXAM_DISTRICT_PERFORMANCE)\n    ) {\n      return examPerformanceIsChangeAllowed(key);\n    }\n    // EXAMINATION PROGRESS ######################\n    if (\n      props.reportTitle &&\n      props.reportTitle === reportTitleType.EXAMINATION_PROGRESS\n    ) {\n      return examinationProgressIsChangeAllowed(key);\n    }\n    // CANDIDATE EXAM PERFORMANCE && TOP 30 CANDIDATE EXAM PERFORMANCE ######################\n    if (\n      props.reportTitle &&\n      (props.reportTitle === reportTitleType.APPLICANTS_PERFORMANCE ||\n        props.reportTitle === reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE)\n    ) {\n      return candidateExamPerformanceIsChangeAllowed(key);\n    }\n    return false;\n  };\n\n  const updateExamPreparationReportContent = (\n    key: examPreparationReportContentKeyInterface\n  ) => {\n    if (props.examPreparationReportContent) {\n      let index: number = props.examPreparationReportContent.findIndex(\n        (item) => item.key === key\n      );\n      let newArray: examPreparationReportContentInterface[] =\n        props.examPreparationReportContent;\n      newArray[index].status = !newArray[index].status;\n      props.setExamPreparationReportContent &&\n        props.setExamPreparationReportContent(newArray);\n      let isSelectAllNeeded = newArray.find((item) => item.status === false);\n      if (isSelectAllNeeded) {\n        setSelectAll(false);\n      } else {\n        setSelectAll(true);\n      }\n\n      // UPDATE APPLICATION LIST FOR UPDATE ==============================\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n  };\n\n  const resetReportContent = (currentState: boolean) => {\n    if (props.reportTitle) {\n      // EXAM PREPARATION =======================================\n      if (\n        props.reportTitle === reportTitleType.EXAM_PREPARATION &&\n        props.examPreparationReportContent\n      ) {\n        let newArray: examPreparationReportContentInterface[] =\n          props.examPreparationReportContent;\n        for (const key in newArray) {\n          if (isChangeAllowed(newArray[key].key)) {\n            newArray[key].status = !currentState;\n          }\n        }\n\n        props.setExamPreparationReportContent &&\n          props.setExamPreparationReportContent(newArray);\n        setSelectAll(!currentState);\n\n        props.updateExamToPrint && props.updateExamToPrint();\n      }\n    }\n\n    // EXAM PERFORMANCE =======================================\n    if (\n      props.reportTitle === reportTitleType.EXAM_PERFORMANCE &&\n      props.examPerformanceReportContent\n    ) {\n      let newArray: examPerformanceReportContentInterface[] =\n        props.examPerformanceReportContent;\n      for (const key in newArray) {\n        if (isChangeAllowed(newArray[key].key)) {\n          newArray[key].status = !currentState;\n        }\n      }\n\n      props.setExamPerformanceReportContent &&\n        props.setExamPerformanceReportContent(newArray);\n      setSelectAll(!currentState);\n\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n\n    // TOP 30 EXAM PERFORMANCE =======================================\n    if (\n      props.reportTitle === reportTitleType.EXAM_DISTRICT_PERFORMANCE &&\n      props.exam30PerformanceReportContent\n    ) {\n      let newArray: examPerformanceReportContentInterface[] =\n        props.exam30PerformanceReportContent;\n      for (const key in newArray) {\n        if (isChangeAllowed(newArray[key].key)) {\n          newArray[key].status = !currentState;\n        }\n      }\n\n      props.setExam30PerformanceReportContent &&\n        props.setExam30PerformanceReportContent(newArray);\n      setSelectAll(!currentState);\n\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n\n    // EXAMINATION PROGRESS =======================================\n    if (\n      props.reportTitle === reportTitleType.EXAMINATION_PROGRESS &&\n      props.examinationProgressReportContent\n    ) {\n      let newArray: ExaminationProgressReportContentInterface[] =\n        props.examinationProgressReportContent;\n      for (const key in newArray) {\n        if (isChangeAllowed(newArray[key].key)) {\n          newArray[key].status = !currentState;\n        }\n      }\n\n      props.setExaminationProgressExamPerformanceReportContent &&\n        props.setExaminationProgressExamPerformanceReportContent(newArray);\n      setSelectAll(!currentState);\n\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n\n    // CANDIDATE EXAM PERFORMANCE =======================================\n    if (\n      props.reportTitle === reportTitleType.APPLICANTS_PERFORMANCE &&\n      props.candidateExamPerformanceReportContent\n    ) {\n      let newArray: CandidateExamPerformanceReportContentInterface[] =\n        props.candidateExamPerformanceReportContent;\n      for (const key in newArray) {\n        if (isChangeAllowed(newArray[key].key)) {\n          newArray[key].status = !currentState;\n        }\n      }\n\n      props.setCandidateExamPerformanceReportContent &&\n        props.setCandidateExamPerformanceReportContent(newArray);\n      setSelectAll(!currentState);\n\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n\n    // TOP 30 CANDIDATE EXAM PERFORMANCE =======================================\n    if (\n      props.reportTitle === reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE &&\n      props.candidate30ExamPerformanceReportContent\n    ) {\n      let newArray: CandidateExamPerformanceReportContentInterface[] =\n        props.candidate30ExamPerformanceReportContent;\n      for (const key in newArray) {\n        if (isChangeAllowed(newArray[key].key)) {\n          newArray[key].status = !currentState;\n        }\n      }\n\n      props.setCandidate30ExamPerformanceReportContent &&\n        props.setCandidate30ExamPerformanceReportContent(newArray);\n      setSelectAll(!currentState);\n\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n  };\n\n  const updateExamPerformanceReportContent = (\n    key: examPerformanceReportContentKeyInterface\n  ) => {\n    if (\n      props.reportTitle &&\n      props.reportTitle === reportTitleType.EXAM_PERFORMANCE &&\n      props.examPerformanceReportContent\n    ) {\n      let index: number = props.examPerformanceReportContent.findIndex(\n        (item) => item.key === key\n      );\n      let newArray: examPerformanceReportContentInterface[] =\n        props.examPerformanceReportContent;\n      newArray[index].status = !newArray[index].status;\n      props.setExamPerformanceReportContent &&\n        props.setExamPerformanceReportContent(newArray);\n      let isSelectAllNeeded = newArray.find((item) => item.status === false);\n      if (isSelectAllNeeded) {\n        setSelectAll(false);\n      } else {\n        setSelectAll(true);\n      }\n\n      // UPDATE APPLICATION LIST FOR UPDATE ==============================\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n    if (\n      props.reportTitle &&\n      props.reportTitle === reportTitleType.EXAM_DISTRICT_PERFORMANCE &&\n      props.exam30PerformanceReportContent\n    ) {\n      let index: number = props.exam30PerformanceReportContent.findIndex(\n        (item) => item.key === key\n      );\n      let newArray: examPerformanceReportContentInterface[] =\n        props.exam30PerformanceReportContent;\n      newArray[index].status = !newArray[index].status;\n      props.setExam30PerformanceReportContent &&\n        props.setExam30PerformanceReportContent(newArray);\n      let isSelectAllNeeded = newArray.find((item) => item.status === false);\n      if (isSelectAllNeeded) {\n        setSelectAll(false);\n      } else {\n        setSelectAll(true);\n      }\n\n      // UPDATE APPLICATION LIST FOR UPDATE ==============================\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n  };\n\n  const updateExaminationProgressReportContent = (\n    key: ExaminationProgressReportContentKeyInterface\n  ) => {\n    if (props.examinationProgressReportContent) {\n      let index: number = props.examinationProgressReportContent.findIndex(\n        (item) => item.key === key\n      );\n      let newArray: ExaminationProgressReportContentInterface[] =\n        props.examinationProgressReportContent;\n      newArray[index].status = !newArray[index].status;\n      props.setExaminationProgressExamPerformanceReportContent &&\n        props.setExaminationProgressExamPerformanceReportContent(newArray);\n      let isSelectAllNeeded = newArray.find((item) => item.status === false);\n      if (isSelectAllNeeded) {\n        setSelectAll(false);\n      } else {\n        setSelectAll(true);\n      }\n\n      // UPDATE APPLICATION LIST FOR UPDATE ==============================\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n  };\n\n  const updateCandidateExamPerformanceReportContent = (\n    key: CandidateExamPerformanceReportContentKeyInterface\n  ) => {\n    if (\n      props.reportTitle &&\n      props.reportTitle === reportTitleType.APPLICANTS_PERFORMANCE &&\n      props.candidateExamPerformanceReportContent\n    ) {\n      let index: number = props.candidateExamPerformanceReportContent.findIndex(\n        (item) => item.key === key\n      );\n      let newArray: CandidateExamPerformanceReportContentInterface[] =\n        props.candidateExamPerformanceReportContent;\n      newArray[index].status = !newArray[index].status;\n      props.setCandidateExamPerformanceReportContent &&\n        props.setCandidateExamPerformanceReportContent(newArray);\n      let isSelectAllNeeded = newArray.find((item) => item.status === false);\n      if (isSelectAllNeeded) {\n        setSelectAll(false);\n      } else {\n        setSelectAll(true);\n      }\n\n      // UPDATE APPLICATION LIST FOR UPDATE ==============================\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n\n    if (\n      props.reportTitle &&\n      props.reportTitle === reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE &&\n      props.candidate30ExamPerformanceReportContent\n    ) {\n      let index: number =\n        props.candidate30ExamPerformanceReportContent.findIndex(\n          (item) => item.key === key\n        );\n      let newArray: CandidateExamPerformanceReportContentInterface[] =\n        props.candidate30ExamPerformanceReportContent;\n      newArray[index].status = !newArray[index].status;\n      props.setCandidate30ExamPerformanceReportContent &&\n        props.setCandidate30ExamPerformanceReportContent(newArray);\n      let isSelectAllNeeded = newArray.find((item) => item.status === false);\n      if (isSelectAllNeeded) {\n        setSelectAll(false);\n      } else {\n        setSelectAll(true);\n      }\n\n      // UPDATE APPLICATION LIST FOR UPDATE ==============================\n      props.updateExamToPrint && props.updateExamToPrint();\n    }\n  };\n\n  useEffect(() => {\n    if (\n      !props.locations.length &&\n      props.modalFor === ModalForTypes.choose_district\n    ) {\n      props.getAllRoom((status: boolean, msg: string) => {\n        if (!status && msg.length > 0) console.error(msg);\n        setLoadingLocation(status);\n      });\n    } else {\n      setLoadingLocation(false);\n    }\n  }, [props]);\n\n  const selectDistrict = (district_id: string) => {\n    setError(null);\n    if (district_id === \"all\") {\n      if (\n        ((props.reportTitle &&\n          props.reportTitle ===\n            reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE) ||\n          (props.isAllDistrictAllowed &&\n            props.isAllDistrictAllowed === true)) &&\n        props.SetReportDistrictId\n      ) {\n        props.SetReportDistrictId(null);\n        props.changeModalState(false);\n      } else {\n        setError({ element: \"district\", msg: \"District is required\" });\n      }\n    } else {\n      if (props.SetReportDistrictId) {\n        let thisDistrict = LocationsInArray(props.locations).find(\n          (item) => item.district_id === district_id\n        );\n        if (!thisDistrict) {\n          return setError({ element: \"district\", msg: \"Invalid district id\" });\n        } else {\n          props.SetReportDistrictId({\n            district_id: thisDistrict.district_id,\n            district_name: thisDistrict.district_name,\n          });\n          props.changeModalState(false);\n        }\n      }\n    }\n  };\n\n  const showGenerateBtn = (): { status: boolean; data: any[] } => {\n    if (props.reportTitle) {\n      // EXAM PREPARATION ######################\n      if (\n        props.reportTitle === reportTitleType.EXAM_PREPARATION &&\n        props.excelReportTitle &&\n        props.examsToPrint\n      ) {\n        return { status: true, data: props.examsToPrint };\n      }\n      // EXAM PERFORMANCE ######################\n      if (\n        props.reportTitle === reportTitleType.EXAM_PERFORMANCE &&\n        props.excelReportTitle &&\n        props.examPerformanceToPrint\n      ) {\n        return { status: true, data: props.examPerformanceToPrint };\n      }\n      // TOP 30 EXAM PERFORMANCE ######################\n      if (\n        props.reportTitle === reportTitleType.EXAM_DISTRICT_PERFORMANCE &&\n        props.excelReportTitle &&\n        props.exam30PerformanceToPrint\n      ) {\n        return { status: true, data: props.exam30PerformanceToPrint };\n      }\n      // EXAMINATION PROGRESS ######################\n      if (\n        props.reportTitle === reportTitleType.EXAMINATION_PROGRESS &&\n        props.excelReportTitle &&\n        props.examinationProgressToPrint\n      ) {\n        return { status: true, data: props.examinationProgressToPrint };\n      }\n      // CANDIDATE EXAM PERFORMANCE ######################\n      if (\n        props.reportTitle === reportTitleType.APPLICANTS_PERFORMANCE &&\n        props.excelReportTitle &&\n        props.candidateExamPerformanceToPrint\n      ) {\n        return { status: true, data: props.candidateExamPerformanceToPrint };\n      }\n      // TOP 30 CANDIDATE EXAM PERFORMANCE ######################\n      if (\n        props.reportTitle === reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE &&\n        props.excelReportTitle &&\n        props.candidate30ExamPerformanceToPrint\n      ) {\n        return { status: true, data: props.candidate30ExamPerformanceToPrint };\n      }\n    }\n    return { status: false, data: [] };\n  };\n\n  return (\n    <div>\n      {/* LOAD MODAL FOR PERIOD ================================== */}\n      {props.modalFor === ModalForTypes.period &&\n        props.applicationPeriods &&\n        props.modalState && (\n          <Modal\n            title={\n              <div className=\"flex flex-row gap-4 items-center\">\n                <MdHistory className=\"text-5xl text-blue-600\" />\n                <div className=\"flex flex-col\">\n                  <span className=\"font-bold text-xl text-blue-600\">\n                    Choose a period\n                  </span>\n                </div>\n              </div>\n            }\n            backDrop={true}\n            theme={Themes.default}\n            close={() => props.selected_period && props.changeModalState(false)}\n            backDropClose={true}\n            widthSizeClass={ModalSize.extraLarge}\n            displayClose={true}\n            padding={{ title: true }}\n          >\n            <ChooseSession\n              allSession={props.applicationPeriods}\n              setSelectSession={(value: SessionPlanInterface | \"all\") => {\n                if (value !== \"all\") {\n                  props.setSelectedPeriod && props.setSelectedPeriod(value);\n                  props.onPeriodChange && props.onPeriodChange(value._id);\n                  props.changeModalState(false);\n                }\n              }}\n              chooseAll={false}\n              currentSelected={\n                props.selected_period ? props.selected_period : \"all\"\n              }\n            />\n          </Modal>\n        )}\n      {/* END LOAD MODAL FOR PERIOD ================================== */}\n\n      {/* LOAD MODAL FOR REPORT TYPES ================================== */}\n      {props.modalFor === ModalForTypes.title && props.modalState && (\n        <Modal\n          title={\n            <div className=\"flex flex-row gap-4 items-center\">\n              <CgFileDocument className=\"text-5xl text-blue-600\" />\n              <div className=\"flex flex-col\">\n                <span className=\"font-bold text-xl text-blue-600\">\n                  Choose exam report type\n                </span>\n              </div>\n            </div>\n          }\n          backDrop={true}\n          theme={Themes.default}\n          close={() => props.changeModalState(false)}\n          backDropClose={true}\n          widthSizeClass={ModalSize.extraLarge}\n          displayClose={true}\n          padding={{ title: true }}\n        >\n          <div className=\"px-2 pb-2\">\n            {Object.values(reportTitleType).map((item, i) => (\n              <div\n                onClick={() => {\n                  props.setReportTitle && props.setReportTitle(item);\n                  props.setExcelReportTitle && props.setExcelReportTitle(item);\n                  props.changeModalState(false);\n                }}\n                key={i + 1}\n                className={`flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ${\n                  props.reportTitle && props.reportTitle === item\n                    ? \"bg-blue-50 border-blue-400\"\n                    : \"bg-white border-gray-200\"\n                }`}\n              >\n                <div>\n                  <div className=\"text-blue-500 text-sm font-medium italic\">\n                    Report type\n                  </div>\n                  <div className=\"font-bold\">\n                    {item}\n                    {item === reportTitleType.EXAM_DISTRICT_PERFORMANCE &&\n                      \" district\"}\n                  </div>\n                </div>\n                <div className=\"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2\">\n                  Choose\n                </div>\n              </div>\n            ))}\n          </div>\n        </Modal>\n      )}\n      {/* END LOAD MODAL FOR REPORT TYPES ================================== */}\n\n      {/* GENERATE DYNAMIC REPORT CONTENT MODAL */}\n      {props.generateReportModal &&\n        props.modalFor === ModalForTypes.generateReportModal &&\n        props.modalState && (\n          <Modal\n            title={\n              <div className=\"flex flex-row gap-4 items-center\">\n                {/* <IoBriefcase className=\"text-5xl text-gray-500\" /> */}\n                <div className=\"flex flex-col\">\n                  <span className=\"font-bold text-2xl text-gray-500\">\n                    Generating Report contents\n                  </span>\n                  <span className=\"text-sm text-blue-600 font-normal\">\n                    Generating {props.generateReportModal.reportType} Report\n                  </span>\n                </div>\n              </div>\n            }\n            backDrop={true}\n            theme={Themes.default}\n            close={() =>\n              props.setGenerateReportModal && props.setGenerateReportModal(null)\n            }\n            backDropClose={false}\n            widthSizeClass={ModalSize.medium}\n            displayClose={true}\n            padding={{ title: true }}\n          >\n            <div className=\"px-6\">\n              <div className=\"my-2 text-base text-gray-700 sm:text-lg\">\n                <div className=\"flex flex-col\">\n                  <label>Title</label>\n                  <input\n                    type=\"text\"\n                    className={`text-left input-white w-20 inline-block ${\n                      formError && formError.element === \"report_title\"\n                        ? \"border-red-500\"\n                        : \"border-gray-500\"\n                    } border-2`}\n                    placeholder=\"Sub Category Title\"\n                    value={props.excelReportTitle ? props.excelReportTitle : \"\"}\n                    onChange={(e) => {\n                      props.setExcelReportTitle &&\n                        props.setExcelReportTitle(e.target.value);\n                      setFormError(null);\n                    }}\n                    // disabled={props.loading}\n                  />\n                  {formError && formError.element === \"report_title\" && (\n                    <span className=\"text-red-500\">{formError.msg}</span>\n                  )}\n                </div>\n                <div className=\"flex flex-col mt-2\">\n                  <label>Report content</label>\n                  {/* // EXAM PREPARATION ###################### */}\n                  {props.reportTitle &&\n                    props.reportTitle === reportTitleType.EXAM_PREPARATION && (\n                      <div className=\"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2\">\n                        {props.examPreparationReportContent &&\n                          props.examPreparationReportContent.map(\n                            (item, index) => (\n                              <div\n                                key={index}\n                                className={`flex items-center gap-1 ${\n                                  isChangeAllowed(item.key)\n                                    ? \"cursor-pointer\"\n                                    : \"cursor-not-allowed\"\n                                }`}\n                                onClick={() =>\n                                  isChangeAllowed(item.key) &&\n                                  updateExamPreparationReportContent(item.key)\n                                }\n                                title={\n                                  !isChangeAllowed(item.key)\n                                    ? \"Required for every report!\"\n                                    : \"\"\n                                }\n                              >\n                                {item.status ? (\n                                  <MdCheckBox className=\"w-6 h-6 text-blue-700\" />\n                                ) : (\n                                  <MdCheckBoxOutlineBlank className=\"w-6 h-6\" />\n                                )}\n                                <span>{item.title}</span>\n                              </div>\n                            )\n                          )}\n                      </div>\n                    )}\n                  {/* // EXAM PERFORMANCE ###################### */}\n                  {props.reportTitle &&\n                    props.reportTitle === reportTitleType.EXAM_PERFORMANCE && (\n                      <div className=\"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2\">\n                        {props.examPerformanceReportContent &&\n                          props.examPerformanceReportContent.map(\n                            (item, index) => (\n                              <div\n                                key={index}\n                                className={`flex items-center gap-1 ${\n                                  isChangeAllowed(item.key)\n                                    ? \"cursor-pointer\"\n                                    : \"cursor-not-allowed\"\n                                }`}\n                                onClick={() =>\n                                  isChangeAllowed(item.key) &&\n                                  updateExamPerformanceReportContent(item.key)\n                                }\n                                title={\n                                  !isChangeAllowed(item.key)\n                                    ? \"Required for every report!\"\n                                    : \"\"\n                                }\n                              >\n                                {item.status ? (\n                                  <MdCheckBox className=\"w-6 h-6 text-blue-700\" />\n                                ) : (\n                                  <MdCheckBoxOutlineBlank className=\"w-6 h-6\" />\n                                )}\n                                <span>{item.title}</span>\n                              </div>\n                            )\n                          )}\n                      </div>\n                    )}\n                  {/* // TOP 30 EXAM PERFORMANCE ###################### */}\n                  {props.reportTitle &&\n                    props.reportTitle ===\n                      reportTitleType.EXAM_DISTRICT_PERFORMANCE && (\n                      <div className=\"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2\">\n                        {props.exam30PerformanceReportContent &&\n                          props.exam30PerformanceReportContent.map(\n                            (item, index) => (\n                              <div\n                                key={index}\n                                className={`flex items-center gap-1 ${\n                                  isChangeAllowed(item.key)\n                                    ? \"cursor-pointer\"\n                                    : \"cursor-not-allowed\"\n                                }`}\n                                onClick={() =>\n                                  isChangeAllowed(item.key) &&\n                                  updateExamPerformanceReportContent(item.key)\n                                }\n                                title={\n                                  !isChangeAllowed(item.key)\n                                    ? \"Required for every report!\"\n                                    : \"\"\n                                }\n                              >\n                                {item.status ? (\n                                  <MdCheckBox className=\"w-6 h-6 text-blue-700\" />\n                                ) : (\n                                  <MdCheckBoxOutlineBlank className=\"w-6 h-6\" />\n                                )}\n                                <span>{item.title}</span>\n                              </div>\n                            )\n                          )}\n                      </div>\n                    )}\n                  {/* // EXAMINATION PROGRESS ###################### */}\n                  {props.reportTitle &&\n                    props.reportTitle ===\n                      reportTitleType.EXAMINATION_PROGRESS && (\n                      <div className=\"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2\">\n                        {props.examinationProgressReportContent &&\n                          props.examinationProgressReportContent.map(\n                            (item, index) => (\n                              <div\n                                key={index}\n                                className={`flex items-center gap-1 ${\n                                  isChangeAllowed(item.key)\n                                    ? \"cursor-pointer\"\n                                    : \"cursor-not-allowed\"\n                                }`}\n                                onClick={() =>\n                                  isChangeAllowed(item.key) &&\n                                  updateExaminationProgressReportContent(\n                                    item.key\n                                  )\n                                }\n                                title={\n                                  !isChangeAllowed(item.key)\n                                    ? \"Required for every report!\"\n                                    : \"\"\n                                }\n                              >\n                                {item.status ? (\n                                  <MdCheckBox className=\"w-6 h-6 text-blue-700\" />\n                                ) : (\n                                  <MdCheckBoxOutlineBlank className=\"w-6 h-6\" />\n                                )}\n                                <span>{item.title}</span>\n                              </div>\n                            )\n                          )}\n                      </div>\n                    )}\n                  {/* // EXAMINATION PROGRESS ###################### */}\n                  {/* // CANDIDATE EXAM PERFORMANCE ###################### */}\n                  {props.reportTitle &&\n                    props.reportTitle ===\n                      reportTitleType.APPLICANTS_PERFORMANCE && (\n                      <div className=\"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2\">\n                        {props.candidateExamPerformanceReportContent &&\n                          props.candidateExamPerformanceReportContent.map(\n                            (item, index) => (\n                              <div\n                                key={index}\n                                className={`flex items-center gap-1 ${\n                                  isChangeAllowed(item.key)\n                                    ? \"cursor-pointer\"\n                                    : \"cursor-not-allowed\"\n                                }`}\n                                onClick={() =>\n                                  isChangeAllowed(item.key) &&\n                                  updateCandidateExamPerformanceReportContent(\n                                    item.key\n                                  )\n                                }\n                                title={\n                                  !isChangeAllowed(item.key)\n                                    ? \"Required for every report!\"\n                                    : \"\"\n                                }\n                              >\n                                {item.status ? (\n                                  <MdCheckBox className=\"w-6 h-6 text-blue-700\" />\n                                ) : (\n                                  <MdCheckBoxOutlineBlank className=\"w-6 h-6\" />\n                                )}\n                                <span>{item.title}</span>\n                              </div>\n                            )\n                          )}\n                      </div>\n                    )}\n                  {/* // END EXAMINATION PROGRESS ###################### */}\n                  {/* // TOP 30 CANDIDATE EXAM PERFORMANCE ###################### */}\n                  {props.reportTitle &&\n                    props.reportTitle ===\n                      reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE && (\n                      <div className=\"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2\">\n                        {props.candidate30ExamPerformanceReportContent &&\n                          props.candidate30ExamPerformanceReportContent.map(\n                            (item, index) => (\n                              <div\n                                key={index}\n                                className={`flex items-center gap-1 ${\n                                  isChangeAllowed(item.key)\n                                    ? \"cursor-pointer\"\n                                    : \"cursor-not-allowed\"\n                                }`}\n                                onClick={() =>\n                                  isChangeAllowed(item.key) &&\n                                  updateCandidateExamPerformanceReportContent(\n                                    item.key\n                                  )\n                                }\n                                title={\n                                  !isChangeAllowed(item.key)\n                                    ? \"Required for every report!\"\n                                    : \"\"\n                                }\n                              >\n                                {item.status ? (\n                                  <MdCheckBox className=\"w-6 h-6 text-blue-700\" />\n                                ) : (\n                                  <MdCheckBoxOutlineBlank className=\"w-6 h-6\" />\n                                )}\n                                <span>{item.title}</span>\n                              </div>\n                            )\n                          )}\n                      </div>\n                    )}\n                  {/* // END TOP 30 CANDIDATE EXAM PERFORMANCE ###################### */}\n                  {formError && formError.element === \"report_content\" && (\n                    <span className=\"text-red-500\">{formError.msg}</span>\n                  )}\n                </div>\n              </div>\n              <div className=\"flex justify-between mb-2 mt-4\">\n                <div\n                  className={`flex items-center gap-1 cursor-pointer`}\n                  onClick={() => resetReportContent(selectAll)}\n                >\n                  {selectAll ? (\n                    <MdCheckBox className=\"w-6 h-6 text-blue-700\" />\n                  ) : (\n                    <MdCheckBoxOutlineBlank className=\"w-6 h-6\" />\n                  )}\n                  <span>Select all</span>\n                </div>\n\n                {showGenerateBtn().status && (\n                  <ExportToExcel\n                    fileData={showGenerateBtn().data}\n                    fileName={props.excelReportTitle!}\n                    btnName=\"Generate\"\n                  />\n                )}\n              </div>\n            </div>\n          </Modal>\n        )}\n      {/* END GENERATE DYNAMIC REPORT CONTENT MODAL */}\n\n      {/* LOAD MODAL FOR CHOOSING EXAM ================================== */}\n      {props.modalFor === ModalForTypes.choose_exam &&\n        props.modalState &&\n        props.AllExamData && (\n          <Modal\n            title={\n              <div className=\"flex flex-row gap-4 items-center\">\n                <CgFileDocument className=\"text-5xl text-blue-600\" />\n                <div className=\"flex flex-col\">\n                  <span className=\"font-bold text-xl text-blue-600\">\n                    Choose exam\n                  </span>\n                </div>\n              </div>\n            }\n            backDrop={true}\n            theme={Themes.default}\n            close={() => props.changeModalState(false)}\n            backDropClose={true}\n            widthSizeClass={ModalSize.extraLarge}\n            displayClose={true}\n            padding={{ title: true }}\n          >\n            <div className=\"px-2 pb-2\">\n              <div className=\"w-full py-2\">\n                <input\n                  onChange={(e) => setSearchInput(e.target.value)}\n                  type=\"text\"\n                  value={searchInput}\n                  placeholder=\"Search...\"\n                  className=\"w-full bg-white py-2 px-3 rounded border border-gray-400\"\n                  disabled={props.AllExamData.length <= 0 ? true : false}\n                />\n              </div>\n              <div\n                onClick={() => {\n                  props.SetReportCourseId(null);\n                  props.changeModalState(false);\n                }}\n                className={`flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ${\n                  props.thisExam === null\n                    ? \"bg-blue-50 border-blue-400\"\n                    : \"bg-white border-gray-200\"\n                }`}\n              >\n                <div>\n                  <div className=\"text-sm font-medium italic\">\n                    code: <span className=\"text-blue-500\">-</span>\n                  </div>\n                  <div className=\"font-bold text-lg\">All exams</div>\n                </div>\n                <div className=\"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2\">\n                  Choose\n                </div>\n              </div>\n              {searchExamData(props.AllExamData, searchInput).map((item, i) => (\n                <div\n                  onClick={() => {\n                    props.SetReportCourseId(item);\n                    props.changeModalState(false);\n                  }}\n                  key={i + 1}\n                  className={`flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ${\n                    props.thisExam &&\n                    props.thisExam.course_id === item.course_id\n                      ? \"bg-blue-50 border-blue-400\"\n                      : \"bg-white border-gray-200\"\n                  }`}\n                >\n                  <div>\n                    <div className=\"text-sm font-medium italic\">\n                      code:{\" \"}\n                      <span className=\"text-blue-500\">{item.course_code}</span>\n                    </div>\n                    <div className=\"font-bold text-lg\">{item.course_name}</div>\n                  </div>\n                  <div className=\"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2\">\n                    Choose\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Modal>\n        )}\n      {/* END LOAD MODAL FOR CHOOSING EXAM ================================== */}\n\n      {/* LOAD MODAL FOR CHOOSING DISTRICT ================================== */}\n      {props.modalFor === ModalForTypes.choose_district && props.modalState && (\n        <Modal\n          title={\n            <div className=\"flex flex-row gap-4 items-center\">\n              <CgFileDocument className=\"text-5xl text-blue-600\" />\n              <div className=\"flex flex-col\">\n                <span className=\"font-bold text-xl text-blue-600\">\n                  Choose district\n                </span>\n              </div>\n            </div>\n          }\n          backDrop={true}\n          theme={Themes.default}\n          close={() =>\n            !isEmptyOrSpaces(districtId) && props.changeModalState(false)\n          }\n          backDropClose={true}\n          widthSizeClass={ModalSize.medium}\n          displayClose={true}\n          padding={{ title: true }}\n        >\n          <div className=\"px-2 pb-2 \">\n            {loadingLocation ? (\n              <Loading />\n            ) : (\n              <section className=\"pb-8 px-7 \">\n                {/* <div className=\"grid grid-cols-1 \"> */}\n                <label className=\"uppercase md:text-sm text-xs text-gray-500 text-light font-semibold\">\n                  District\n                </label>\n                {props.locations.length > 0 ? (\n                  <div className=\"\">\n                    <select\n                      className={`py-3 px-3 w-full rounded border-2 bg-white mt-1 focus:outline-none ${\n                        error && error.element === \"district\"\n                          ? \"border-red-400 focus:border-red-800\"\n                          : \"border-gray-400 focus:border-gray-800\"\n                      }`}\n                      value={districtId}\n                      onChange={(e) => {\n                        setDistrictId(e.target.value);\n                        selectDistrict(e.target.value);\n                      }}\n                    >\n                      <option value=\"all\">Select district</option>\n                      {FC_DistinctDistrict(\n                        LocationsInArray(props.locations)\n                      ).map((item, index) => (\n                        <option\n                          key={index + item.district_id}\n                          value={item.district_id}\n                        >\n                          {item.district_name}\n                        </option>\n                      ))}\n                    </select>\n                    {error && error.element === \"district\" && (\n                      <p className=\"text-xs italic text-red-500 mt-3\">\n                        {error.msg}\n                      </p>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"alert-info\">No district found</div>\n                )}\n                {/* </div> */}\n              </section>\n            )}\n          </div>\n        </Modal>\n      )}\n      {/* END LOAD MODAL FOR CHOOSING DISTRICT ================================== */}\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  locations,\n}: StoreState): {\n  locations: RoomLocationInterface[];\n} => {\n  return {\n    locations: locations.roomLocation,\n  };\n};\n\nexport default React.memo(\n  connect(mapStateToProps, {\n    getAllRoom,\n    SetReportDistrictId,\n    SetReportCourseId,\n  })(ExamReportModals)\n);\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { MdLock, MdLocationOn } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\nimport { PushPopupAlert, schoolLevelsStoreInterface } from \"../../actions\";\nimport { getAllRoom } from \"../../actions/location\";\nimport {\n  blockUserToSystem,\n  unBlockUserToSystem,\n  resetUserAccess,\n} from \"../../actions/users\";\nimport { PopupAlertData } from \"../../components/Alert/Popup\";\nimport Loading from \"../../components/Loading/Loading\";\nimport NoResult, { NoResultThemes } from \"../../components/NoResult/NoResult\";\nimport Table from \"../../components/Table/Table\";\nimport { PopupAlertTheme } from \"../../interfaces/popupAlert\";\nimport { StoreState } from \"../../reducers\";\nimport {\n  getRoleById,\n  capitalizeFirstLetter,\n  getInstituteById,\n  isEmptyOrSpaces,\n} from \"../../shared/dataTest\";\nimport {\n  RoomLocationInterface,\n  LocationRoomTableInterface,\n  DistrictInterface,\n  SystemUserRoleInterface,\n  UserInterface,\n  AccessTaskInterface,\n} from \"../../shared/interfaces\";\nimport { API } from \"../../utils/api\";\nimport { errorToText } from \"../../utils/errors\";\nimport { UserAccess } from \"./UserAccess\";\nimport UserRole from \"./UserRole\";\nimport profile from \"../../shared/blank_profile.png\"; // with im\nimport { FC_GetBase64Img } from \"../../utils/functions\";\n\nexport const getUserById = (users: UserInterface[], userId: string) => {\n  return users.find((item) => item.user_id === userId);\n};\n\nexport enum ModalState {\n  View_User = \"View User Info\",\n  Add_Access = \"Add Access To User\",\n  Update_Access = \"Update User Access\",\n  Close_Modal = \"Close Modal\",\n}\n\n// Table replaced with Emmy's function\nexport const LocationsInArray = (\n  LocationData: RoomLocationInterface[]\n): LocationRoomTableInterface[] | [] => {\n  let locationTemp: LocationRoomTableInterface[] = [];\n  for (let p in LocationData) {\n    let districts = LocationData[p].districts;\n    for (let d in districts) {\n      let centers = districts[d].centers;\n      for (let c in centers) {\n        let rooms = centers[c].rooms;\n        for (let r in rooms) {\n          locationTemp.push({\n            province_id: LocationData[p]._id,\n            province_name: LocationData[p].province_name,\n            district_id: districts[d]._id,\n            district_name: districts[d].district_name,\n            center_id: centers[c]._id,\n            center_name: centers[c].center_name,\n            room_id: rooms[r]._id,\n            room_name: rooms[r].room_number.toString(),\n            capacity: rooms[r].capacity,\n            occupied: rooms[r].occupied,\n          });\n        }\n      }\n    }\n  }\n  return locationTemp;\n};\n\ninterface AppProps {\n  users: UserInterface[];\n  roleList: SystemUserRoleInterface[];\n  userTypes: \"all\" | \"active\" | \"blocked\";\n  loadingUser: boolean;\n  schoolLevels: schoolLevelsStoreInterface;\n  setLoadingUser: (value: boolean) => void;\n  manageUser: UserInterface | null;\n  setManageUser: (value: UserInterface | null) => void;\n  changeRole: boolean;\n  setChangeRole: (value: boolean) => void;\n  currentPage: number;\n  manageUserId: string;\n  setManageUserId: (value: string) => void;\n  searchFind: string;\n\n  // REDUX =================\n  allRoom: RoomLocationInterface[];\n  getAllRoom: Function;\n  blockUserToSystem: Function;\n  unBlockUserToSystem: Function;\n  resetUserAccess: Function;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n}\n\ninterface AppStates {\n  loadingRequest: boolean;\n  loading: boolean;\n  loadingRequestType: \"RESET\" | \"STATUS\" | \"CHANGE_ROLE\" | null;\n  roomList: RoomLocationInterface[] | null;\n  roomTable: LocationRoomTableInterface[] | null;\n  userAccess: AccessTaskInterface[] | null;\n  currentAccess: AccessTaskInterface | null;\n}\n\nclass UserList extends Component<AppProps, AppStates> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loadingRequest: false,\n      loading: true,\n      loadingRequestType: null,\n      roomList: null,\n      roomTable: null,\n      userAccess: null,\n      currentAccess: null,\n    };\n  }\n\n  setLoadingRequest = (value: boolean) => {\n    this.setState({ loadingRequest: value });\n  };\n\n  setLoading = (value: boolean) => {\n    this.setState({ loading: value });\n  };\n\n  setLoadingRequestType = (\n    value: \"RESET\" | \"STATUS\" | \"CHANGE_ROLE\" | null\n  ) => {\n    this.setState({ loadingRequestType: value });\n  };\n\n  setRoomList = (value: RoomLocationInterface[] | null) => {\n    this.setState({ roomList: value });\n  };\n\n  setRoomTables = (value: LocationRoomTableInterface[] | null) => {\n    this.setState({ roomTable: value });\n  };\n\n  setCurrentAccess = (value: AccessTaskInterface | null) => {\n    this.setState({ currentAccess: value });\n  };\n\n  setUserAccess = (value: AccessTaskInterface[] | null) => {\n    this.setState({ userAccess: value });\n  };\n\n  componentDidMount = () => {\n    if (this.props.allRoom.length === 0) {\n      this.props.getAllRoom(\n        (status: boolean, msg: string, data?: RoomLocationInterface[]) => {\n          this.setLoading(status);\n          this.props.setLoadingUser(status);\n          if (!status && msg.length > 0) {\n            this.props.PushPopupAlert({\n              title: msg,\n              theme: PopupAlertTheme.danger,\n            });\n          }\n          if (data && data.length > 0) {\n            this.setRoomList(data);\n            this.setRoomTables(LocationsInArray(data));\n          }\n        }\n      );\n    } else if (this.state.loading) {\n      this.setRoomList(this.props.allRoom);\n      this.setRoomTables(LocationsInArray(this.props.allRoom));\n      this.props.setLoadingUser(false);\n      this.setLoading(false);\n    }\n  };\n\n  tableData = (): JSX.Element[] => {\n    if (this.props.loadingUser || this.state.loading) {\n      return [\n        <tr\n          key={Math.random()}\n          className=\"border-b border-gray-200 hover:bg-gray-100\"\n        >\n          <td className=\"p-3 text-center\" colSpan={8}>\n            <Loading />\n          </td>\n        </tr>,\n      ];\n    }\n\n    let data: UserInterface[] = this.props.users;\n    if (data.length <= 0) {\n      return [\n        <tr\n          key={Math.random()}\n          className=\"border-b border-gray-200 hover:bg-gray-100\"\n        >\n          <td className=\"p-3 text-center\" colSpan={8}>\n            No Data Found\n          </td>\n        </tr>,\n      ];\n    }\n\n    const pageNumber: number =\n      this.props.currentPage > 1 ? (this.props.currentPage - 1) * 30 : 0;\n\n    return data.map((user: UserInterface, index: number) => (\n      <tr\n        key={index + Math.random()}\n        className=\"border-b border-gray-200 hover:bg-gray-100 group cursor-pointer\"\n        onClick={() => {\n          this.props.setManageUser(user);\n          this.props.setManageUserId(user.user_id);\n        }}\n      >\n        <td className=\"p-3 text-left whitespace-nowrap\">\n          {pageNumber + index + 1}\n        </td>\n        <td className=\"p-3 text-left\">\n          <span>\n            {user.user_info &&\n              user.user_info.fname + \" \" + user.user_info.lname}\n          </span>\n        </td>\n        <td className=\"p-3 text-left\">{user.email}</td>\n        {/* <td className=\"p-3 text-left\">{user.phone_number}</td> */}\n        <td className=\"p-3 text-left\">\n          {user.user_info && user.user_info.sex === \"M\" ? \"Male\" : \"Female\"}\n        </td>\n        <td className=\"p-3 text-left text-blue-700 text-base font-medium\">\n          {user.default_access &&\n            user.default_access.system_user_role_id &&\n            user.default_access.system_user_role_id && (\n              <span\n                className={`px-2 py-1 font-semibold rounded text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100`}\n              >\n                {getRoleById(\n                  this.props.roleList,\n                  user.default_access.system_user_role_id\n                )?.role &&\n                  capitalizeFirstLetter(\n                    getRoleById(\n                      this.props.roleList,\n                      user.default_access.system_user_role_id\n                    )?.role\n                  )}\n              </span>\n            )}\n        </td>\n        {/* {userTypes === \"all\" && (\n          <td>\n            {user.is_active ? (\n              <span className={`px-2 py-1 font-semibold text-green-700`}>\n                Active\n              </span>\n            ) : (\n              <span className={`px-2 py-1 font-semibold text-red-700`}>\n                Blocked\n              </span>\n            )}\n          </td>\n        )} */}\n        <td className=\"px-3 text-center\">\n          <button\n            className=\"btn bg-gray-200 group-hover:bg-blue-700 group-hover:text-white focus:outline-none\"\n            title=\"Manage User Access\"\n            onClick={() => {\n              this.props.setManageUser(user);\n              this.props.setManageUserId(user.user_id);\n            }}\n          >\n            Manage\n          </button>\n        </td>\n      </tr>\n    ));\n  };\n\n  blockUser = async (user_id: string, actionType: boolean) => {\n    if (!user_id) {\n      this.props.PushPopupAlert({\n        title: \"User Access is required doesn't exist\",\n        theme: PopupAlertTheme.danger,\n      });\n    }\n\n    this.setLoadingRequest(true);\n\n    if (\n      !window.confirm(\n        `Are sure you want to ${actionType ? \"block\" : \"activate\"} this user?`\n      )\n    ) {\n      return this.setLoadingRequest(false);\n    }\n\n    try {\n      const res = await axios.patch(\n        `${API.AUTH}/auth/user/disactive/${user_id}`,\n        {\n          is_active: !actionType,\n        }\n      );\n      if (res) {\n        console.log(\"====================================\");\n        console.log({ blockUserToSystem: res });\n        console.log(\"====================================\");\n        actionType\n          ? this.props.blockUserToSystem(user_id, this.props.currentPage)\n          : this.props.unBlockUserToSystem(user_id, this.props.currentPage);\n\n        this.props.PushPopupAlert({\n          title: `User has been ${actionType ? \"blocked\" : \"activated\"}!`,\n          theme: PopupAlertTheme.info,\n        });\n      }\n    } catch (error) {\n      console.error({ blockUser_ERROR: error });\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n\n    this.setLoadingRequest(false);\n    user_id = \"\";\n  };\n\n  restUserAccess = async (user_id: string) => {\n    if (!user_id) {\n      this.props.PushPopupAlert({\n        title: \"User Access is required doesn't exist\",\n        theme: PopupAlertTheme.warning,\n      });\n    }\n\n    if (!window.confirm(`Are sure you want to reset to default access?`)) {\n      return this.setLoadingRequest(false);\n    }\n\n    this.setLoadingRequest(true);\n    this.setLoadingRequestType(\"RESET\");\n\n    try {\n      const res = await axios.delete(\n        `${API.USER}/access/custom/user/${user_id}`\n      );\n      res && this.props.resetUserAccess(user_id, this.props.currentPage);\n      let resetedAccess: UserInterface | undefined | null = isEmptyOrSpaces(\n        this.props.searchFind\n      )\n        ? this.props.users.find((user) => user.user_id === user_id)\n        : this.props.manageUser;\n      if (resetedAccess) {\n        resetedAccess.default_access &&\n          this.setUserAccess(resetedAccess.default_access.access);\n        this.props.PushPopupAlert({\n          title: `Resetting User Access complete successfully`,\n          theme: PopupAlertTheme.info,\n        });\n        this.setCurrentAccess(null);\n      }\n    } catch (error) {\n      console.error({ reseting_user_access: error });\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n\n    this.setLoadingRequest(false);\n    this.setLoadingRequestType(null);\n    user_id = \"\";\n  };\n\n  distinctDistrict = (\n    location: RoomLocationInterface[],\n    province_id?: string\n  ): DistrictInterface[] => {\n    let ids: string[] = [],\n      result: DistrictInterface[] = [];\n\n    if (province_id) {\n      result = location.find((item) => item._id === province_id)\n        ? location.find((item) => item._id === province_id)!.districts\n          ? location.find((item) => item._id === province_id)!.districts\n          : []\n        : [];\n    } else {\n      for (const key in location) {\n        if (Object.prototype.hasOwnProperty.call(location, key)) {\n          for (const keyDistrict in location[key].districts) {\n            if (\n              Object.prototype.hasOwnProperty.call(\n                location[key].districts,\n                keyDistrict\n              )\n            ) {\n              if (!ids.includes(location[key].districts[keyDistrict]._id)) {\n                ids.push(location[key].districts[keyDistrict]._id);\n                result.push(location[key].districts[keyDistrict]);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return result;\n  };\n\n  render() {\n    const DATA_GetUser = isEmptyOrSpaces(this.props.searchFind)\n      ? this.props.users.find(\n          (user) => user.user_id === this.props.manageUserId\n        )\n      : this.props.manageUser\n      ? this.props.manageUser\n      : undefined;\n    const DATA_GetRoleById =\n      DATA_GetUser && DATA_GetUser!.default_access\n        ? getRoleById(\n            this.props.roleList,\n            DATA_GetUser!.default_access!.system_user_role_id\n          )\n        : undefined;\n\n    const DATA_ThisRoom =\n      this.state.roomTable && DATA_GetUser\n        ? this.state.roomTable.find(\n            (room) => room.room_id === DATA_GetUser!.default_access?.room_id\n          )\n        : undefined;\n\n    return (\n      <div>\n        {!this.props.manageUser && (\n          <div className=\"grid md:grid-cols-5 gap-2 mb-5\">\n            <div className={`md:col-span-5 rounded`}>\n              <div className=\"my-2 flex sm:flex-row flex-col justify-between\">\n                <div className=\"flex flex-col md:flex-row gap-1 items-center mx-1.5\">\n                  {/* <span className=\"text-lg\">All User</span>\n                  <MdChevronRight className=\"w-7 h-7\" />\n                  <span className=\"text-lg underline\">All User</span> */}\n                </div>\n              </div>\n              {this.props.users && (\n                <Table\n                  columns={[\n                    { columnTitle: \"#\", alignText: \"left\", padding: \"p-3\" },\n                    { columnTitle: \"Names\", alignText: \"left\", padding: \"p-3\" },\n                    { columnTitle: \"Email\", alignText: \"left\", padding: \"p-3\" },\n                    {\n                      columnTitle: \"Gender\",\n                      alignText: \"left\",\n                      padding: \"p-3\",\n                    },\n                    { columnTitle: \"Role\", alignText: \"left\", padding: \"p-3\" },\n                    // { columnTitle: \"Status\", alignText: \"left\", padding: \"p-3\" },\n                    { columnTitle: \"\", alignText: \"left\", padding: \"p-3\" },\n                  ]}\n                  rows={this.tableData}\n                  pagination={false}\n                  search={true}\n                  thColor=\"gray\"\n                  loading={this.props.loadingUser || this.state.loading}\n                />\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* -------------------------------------------------------- */}\n\n        {this.props.manageUser && (\n          <div className=\"bg-gray-100 h-100\">\n            {/* header */}\n            <div className=\"bg-white border-b border-t px-4 py-2 flex flex-col md:flex-row items-center gap-x-14\">\n              {DATA_GetUser ? (\n                <div\n                  key={DATA_GetUser!.user_id + Math.random()}\n                  className=\"flex flex-col md:flex-row md:items-start items-center w-full gap-3\"\n                >\n                  <img\n                    src={\n                      DATA_GetUser!.user_info.photo !== \"pic\" &&\n                      DATA_GetUser!.user_info.photo !== undefined\n                        ? FC_GetBase64Img(DATA_GetUser!.user_info.photo)\n                        : profile\n                    }\n                    alt=\"\"\n                    className=\"rounded-full w-32 h-32 object-contain\"\n                  />\n                  <div className=\"flex flex-col gap-1 items-start w-full\">\n                    <span className=\"text-2xl font-semibold\">\n                      {DATA_GetUser!.user_info.fname +\n                        \" \" +\n                        DATA_GetUser!.user_info.lname}\n                    </span>\n                    <div className=\"flex items-center\">\n                      <MdLock className=\"w-5 h-5\" />\n                      <span className=\"text-lg font-medium\">\n                        {DATA_GetRoleById && DATA_GetRoleById.role}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <span className=\"text-gray-500\">Level:</span>\n                      <span className=\"text-base font-medium\">\n                        {DATA_GetRoleById && DATA_GetRoleById.room_required\n                          ? \"Room\"\n                          : DATA_GetRoleById &&\n                            DATA_GetRoleById.education_institution_required\n                          ? \"Institute\"\n                          : \"-\"}\n                      </span>\n                    </div>\n                    {DATA_GetRoleById &&\n                    DATA_GetRoleById.education_institution_required ? (\n                      <div className=\"flex items-center gap-1\">\n                        <span className=\"text-gray-500\">Institute:</span>\n                        <span className=\"text-base font-medium\">\n                          {DATA_GetUser!.default_access &&\n                          this.props.schoolLevels.education_categories &&\n                          getInstituteById(\n                            this.props.schoolLevels.education_categories,\n                            DATA_GetUser!.default_access!\n                              .education_institution_id\n                          )\n                            ? getInstituteById(\n                                this.props.schoolLevels.education_categories,\n                                DATA_GetUser!.default_access!\n                                  .education_institution_id\n                              )!.education_category_title\n                            : \"Unknown Institute\"}\n                        </span>\n                      </div>\n                    ) : (\n                      DATA_GetRoleById &&\n                      DATA_GetRoleById.room_required && (\n                        <div className=\"flex items-center gap-1\">\n                          {/* <span className=\"text-gray-500\">Room:</span> */}\n                          <MdLocationOn className=\"text-gray-500\" />\n                          {DATA_ThisRoom && (\n                            <span className=\"text-base font-medium\">\n                              {DATA_ThisRoom?.district_name +\n                                \" - \" +\n                                DATA_ThisRoom?.center_name +\n                                \" - Room \" +\n                                DATA_ThisRoom?.room_name}\n                            </span>\n                          )}\n                        </div>\n                      )\n                    )}\n                  </div>\n                </div>\n              ) : (\n                <div className=\"w-full\">\n                  <NoResult\n                    theme={NoResultThemes.Dark}\n                    value={\"User info not found\"}\n                  />\n                </div>\n              )}\n              {DATA_GetUser && (\n                <div\n                  key={DATA_GetUser!.user_id + Math.random()}\n                  className=\"flex flex-col w-full\"\n                >\n                  <div className=\"flex items-center gap-1\">\n                    <span className=\"text-gray-500\">NID:</span>\n                    <span className=\"text-base font-medium\">\n                      {DATA_GetUser!.n_id}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <span className=\"text-gray-500\">Email:</span>\n                    <span className=\"text-base font-medium\">\n                      {DATA_GetUser!.email}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <span className=\"text-gray-500\">Phone:</span>\n                    <span className=\"text-base font-medium\">\n                      {DATA_GetUser!.phone_number}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <span className=\"text-gray-500\">Status:</span>\n                    <span className=\"text-base font-medium\">\n                      {DATA_GetUser!.is_active === false ? \"Blocked\" : \"Active\"}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    {DATA_GetUser!.custome_access && (\n                      <button\n                        className={`px-2 py-1 font-semibold text-gray-50 inline-flex items-center rounded ${\n                          this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"RESET\"\n                            ? \"cursor-wait bg-gray-400\"\n                            : \"bg-gray-600\"\n                        }`}\n                        onClick={() =>\n                          this.restUserAccess(DATA_GetUser!.user_id)\n                        }\n                        disabled={this.state.loadingRequest}\n                      >\n                        <MdLock className=\"w-4 h-4 fill-current\" />\n                        <span>\n                          {this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"RESET\"\n                            ? \"Resetting...\"\n                            : \"Reset Access\"}\n                        </span>\n                      </button>\n                    )}\n                    {!this.props.changeRole && (\n                      <button\n                        className=\"bg-yellow-300 hover:bg-yellow-400 px-2 py-1 font-semibold text-black inline-flex items-center rounded\"\n                        onClick={() => this.props.setChangeRole(true)}\n                      >\n                        <MdLock className=\"w-4 h-4 fill-current\" />\n                        <span>Change Role</span>\n                      </button>\n                    )}\n                    {DATA_GetUser!.is_active ? (\n                      <button\n                        className={`px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ${\n                          this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"STATUS\"\n                            ? \"cursor-wait bg-red-500\"\n                            : \"bg-red-700\"\n                        }`}\n                        onClick={() =>\n                          !this.state.loadingRequest &&\n                          this.props.manageUser &&\n                          this.blockUser(\n                            DATA_GetUser!.user_id,\n                            DATA_GetUser!.is_active\n                          )\n                        }\n                        disabled={this.state.loadingRequest}\n                      >\n                        <MdLock className=\"w-4 h-4 fill-current\" />\n                        <span>\n                          {this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"RESET\"\n                            ? \"Loading...\"\n                            : \"Block user\"}\n                        </span>\n                      </button>\n                    ) : (\n                      <button\n                        className={`px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ${\n                          this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"STATUS\"\n                            ? \"cursor-wait bg-yellow-500\"\n                            : \"bg-yellow-700\"\n                        }`}\n                        onClick={() =>\n                          !this.state.loadingRequest &&\n                          this.props.manageUser &&\n                          this.blockUser(\n                            DATA_GetUser!.user_id,\n                            DATA_GetUser!.is_active\n                          )\n                        }\n                        disabled={this.state.loadingRequest}\n                      >\n                        <MdLock className=\"w-4 h-4 fill-current\" />\n                        <span>\n                          {this.state.loadingRequestType &&\n                          this.state.loadingRequestType === \"RESET\"\n                            ? \"Loading...\"\n                            : \"Re-Activate\"}\n                        </span>\n                      </button>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n            {/* end header */}\n\n            {/* content */}\n            {this.props.manageUser &&\n            this.state.roomList &&\n            this.props.changeRole ? (\n              <UserRole\n                userInfo={this.props.manageUser}\n                roleList={this.props.roleList}\n                district={this.distinctDistrict(this.state.roomList)}\n                roomList={this.state.roomList}\n                setChangeRole={this.props.setChangeRole}\n                currentPage={this.props.currentPage}\n              />\n            ) : (\n              <UserAccess\n                userInfo={DATA_GetUser}\n                manageUserId={this.props.manageUserId}\n                setUserAccess={this.setUserAccess}\n                userAccess={this.state.userAccess}\n                setCurrentAccess={this.setCurrentAccess}\n                currentAccess={this.state.currentAccess}\n                currentPage={this.props.currentPage}\n              />\n            )}\n            {/* end content */}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  schoolLevels,\n  locations,\n}: StoreState): {\n  schoolLevels: schoolLevelsStoreInterface;\n  allRoom: RoomLocationInterface[];\n} => {\n  return {\n    schoolLevels,\n    allRoom: locations.roomLocation,\n  };\n};\n\nexport default React.memo(\n  connect(mapStateToProps, {\n    blockUserToSystem,\n    unBlockUserToSystem,\n    resetUserAccess,\n    getAllRoom,\n    PushPopupAlert,\n  })(UserList)\n);\n","import React, { useState } from \"react\";\nimport { MdSearch } from \"react-icons/md\";\nimport { capitalizeFirstLetter } from \"../../shared/dataTest\";\nimport { SystemUserRoleInterface } from \"../../shared/interfaces\";\nimport search from \"../../utils/search\";\n\n// const searchRole = (\n//   objList: SystemUserRoleInterface[],\n//   text: string\n// ): SystemUserRoleInterface[] => {\n//   return objList.filter(\n//     (product) => product.role.toLocaleLowerCase() === text.toLocaleLowerCase()\n//   );\n// };\n\ntype RoleListProps = {\n  setChooseRole: (value: boolean) => void;\n  roleList: SystemUserRoleInterface[];\n  handleSelectRole: (role_id: string, TYPE?: \"SELECT\" | \"DEFAULT\") => void;\n  loadindRequest: boolean;\n};\n\nconst RoleList: React.FC<RoleListProps> = (props) => {\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n  return (\n    <section className=\"border-2 rounded border-gray-400\">\n      {/* SEARCH PART */}\n      <div className=\"flex items-center w-full my-1\">\n        <MdSearch className=\"w-6 h-6 absolute ml-2\" />\n        <input\n          type=\"text\"\n          placeholder=\"Search\"\n          className=\"focus:border-2 h-7 ml-1 pl-9 mr-2 bg-gray-100 focus:border-gray-700 w-full rounded\"\n          onChange={(e) => setSearchInput(e.target.value)}\n          value={searchInput}\n          disabled={props.roleList.length > 0 ? false : true}\n        />\n        <button\n          className=\"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none\"\n          type=\"button\"\n          onClick={() => {\n            props.setChooseRole(false);\n          }}\n        >\n          Close\n        </button>\n      </div>\n      {/* END SEARCH PART ///////////////// */}\n\n      <div className=\"w-full h-52 mt-2 overflow-y-auto divide-y divide-gray-300\">\n        {search(props.roleList, searchInput).length > 0 ? (\n          search(props.roleList, searchInput).map((role, index) => (\n            <section key={index + role.role}>\n              <div className=\"group flex items-center justify-between my-1 hover:bg-gray-100\">\n                <div\n                  className=\"p-1 w-full mr-2 cursor-pointer\"\n                  onClick={() => {\n                    props.setChooseRole(false);\n                    !props.loadindRequest &&\n                      props.handleSelectRole(role.system_user_role_id);\n                  }}\n                >\n                  <p className=\"text-sm font-medium text-black\">\n                    {capitalizeFirstLetter(role.role)}\n                  </p>\n                </div>\n                <button\n                  type=\"button\"\n                  className=\"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 py-1 px-2 mr-1 rounded text-sm\"\n                >\n                  Choose\n                </button>\n              </div>\n            </section>\n          ))\n        ) : (\n          <div className=\"text-center p-3\">\n            <p className=\"text-base font-medium text-black\">\n              No role available\n            </p>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default React.memo(RoleList);\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { MdHighlightOff } from \"react-icons/md\";\nimport { TiInputChecked } from \"react-icons/ti\";\nimport { connect } from \"react-redux\";\nimport { schoolLevelsStoreInterface, PushPopupAlert } from \"../../actions\";\nimport { assignRoleToUserAccess } from \"../../actions/users\";\nimport { PopupAlertData } from \"../../components/Alert/Popup\";\nimport Loading from \"../../components/Loading/Loading\";\nimport Table from \"../../components/Table/Table\";\nimport { PopupAlertTheme } from \"../../interfaces/popupAlert\";\nimport { StoreState } from \"../../reducers\";\nimport { isEmptyOrSpaces } from \"../../shared/dataTest\";\nimport {\n  UserInterface,\n  SystemUserRoleInterface,\n  DistrictInterface,\n  RoomLocationInterface,\n  AssignRoleToUserActionInterface,\n  LocationRoomTableInterface,\n  RoleToUserInterface,\n} from \"../../shared/interfaces\";\nimport { API } from \"../../utils/api\";\nimport { errorToText } from \"../../utils/errors\";\nimport RoleList from \"./RoleList\";\nimport { LocationsInArray } from \"./UserList\";\nconst url = `${API.AUTH}/auth/user/access`;\n\ninterface AppProps {\n  currentPage: number;\n  userInfo: UserInterface;\n  roleList: SystemUserRoleInterface[];\n  district: DistrictInterface[];\n  assignRoleToUserAccess: Function;\n  roomList: RoomLocationInterface[] | null;\n  schoolLevels: schoolLevelsStoreInterface;\n  setChangeRole: (value: boolean) => void;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n}\n\ninterface AppState {\n  loading: boolean;\n  loadingForm: boolean;\n  loadingRequest: boolean;\n  roleId: string;\n  provinceId: string;\n  districtId: string;\n  roomId: string;\n  instituteId: string;\n  centerId: string;\n  selectedRole: SystemUserRoleInterface | null;\n  formError: {\n    element: string;\n    msg: string;\n  } | null;\n  chooseRole: boolean;\n}\n\nclass UserRole extends Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      loadingForm: true,\n      loadingRequest: false,\n      roleId: \"\",\n      provinceId: \"\",\n      districtId: \"\",\n      roomId: \"\",\n      instituteId: \"\",\n      centerId: \"\",\n      selectedRole: null,\n      formError: null,\n      chooseRole: false,\n    };\n  }\n\n  setRoleId = (value: string) => {\n    this.setState({ roleId: value });\n  };\n\n  setSelectedRole = (value: SystemUserRoleInterface | null) => {\n    this.setState({ selectedRole: value });\n  };\n\n  setProvinceId = (value: string) => {\n    this.setState({ provinceId: value });\n  };\n\n  setDistrictId = (value: string) => {\n    this.setState({ districtId: value });\n  };\n\n  setCenterId = (value: string) => {\n    this.setState({ centerId: value });\n  };\n\n  setRoomId = (value: string) => {\n    this.setState({ roomId: value });\n  };\n\n  setLoadingForm = (value: boolean) => {\n    this.setState({ loadingForm: value });\n  };\n\n  setLoading = (value: boolean) => {\n    this.setState({ loading: value });\n  };\n\n  setInstituteId = (value: string) => {\n    this.setState({ instituteId: value });\n  };\n\n  setFormError = (\n    value: {\n      element: string;\n      msg: string;\n    } | null\n  ) => {\n    this.setState({ formError: value });\n  };\n  setLoadingRequest = (value: boolean) => {\n    this.setState({ loadingRequest: value });\n  };\n  setChooseRole = (value: boolean) => {\n    this.setState({ chooseRole: value });\n  };\n\n  setDefaultState = (\n    default_access: RoleToUserInterface,\n    role: SystemUserRoleInterface\n  ) => {\n    // SET DEFAULT PROVINCE && DISTRICT ID =======================\n    let LOAD_province: LocationRoomTableInterface | undefined;\n    let LOAD_district: DistrictInterface | undefined;\n    if (role.district_required && this.props.roomList) {\n      LOAD_district = this.distinctDistrict(this.props.roomList).find(\n        (item) => item._id === default_access!.district_id\n      );\n      LOAD_district && this.setProvinceId(LOAD_district.province_id);\n      LOAD_district && this.setDistrictId(default_access!.district_id);\n      this.setLoadingForm(false);\n    } else if (role.room_required && this.props.roomList) {\n      // SET DEFAULT PROVINCE && DISTRICT && ROOM ID =======================\n\n      LOAD_province = LocationsInArray(this.props.roomList).find(\n        (item) => item.room_id === default_access!.room_id\n      );\n      LOAD_province && this.setProvinceId(LOAD_province.province_id);\n      LOAD_province && this.setDistrictId(LOAD_province.district_id);\n      LOAD_province && this.setCenterId(LOAD_province.center_id);\n      this.setRoomId(default_access.room_id);\n      this.setLoadingForm(false);\n    } else {\n      this.setLoadingForm(false);\n    }\n  };\n\n  componentDidMount = () => {\n    if (this.props.roleList.length) {\n      if (this.props.userInfo.default_access && this.state.loadingForm) {\n        // SET DEFAULT ROLE ID =======================\n        if (!this.state.roleId.length) {\n          let result = this.props.roleList.find(\n            (role) =>\n              role.system_user_role_id ===\n              this.props.userInfo.default_access!.system_user_role_id\n          );\n          if (result) {\n            this.setRoleId(\n              this.props.userInfo.default_access.system_user_role_id\n            );\n            this.setSelectedRole(result);\n            this.setDefaultState(this.props.userInfo.default_access, result);\n          }\n        }\n\n        console.log(\"====================================\");\n        console.log({ vvvvv: this.props.userInfo.default_access });\n        console.log(\"====================================\");\n      }\n\n      if (this.state.selectedRole && this.props.userInfo.default_access) {\n        this.setDefaultState(\n          this.props.userInfo.default_access,\n          this.state.selectedRole\n        );\n      }\n\n      this.setLoading(false);\n    }\n  };\n\n  handleSelectRole = (\n    role_id: string,\n    TYPE: \"SELECT\" | \"DEFAULT\" = \"SELECT\"\n  ) => {\n    if (this.props.roleList) {\n      let result = this.props.roleList.find(\n        (role) => role.system_user_role_id === role_id\n      );\n      if (result) {\n        this.setRoleId(role_id);\n        this.setSelectedRole(result);\n        this.state.formError &&\n          this.state.formError.element === \"role_id\" &&\n          this.setFormError(null);\n\n        if (TYPE === \"SELECT\") {\n          this.setProvinceId(\"\");\n          this.setDistrictId(\"\");\n          this.setCenterId(\"\");\n          this.setRoomId(\"\");\n          this.setInstituteId(\"\");\n        }\n      }\n    }\n  };\n\n  tableData = (): JSX.Element[] => {\n    if (\n      this.state.roleId.length > 0 &&\n      this.state.selectedRole === null &&\n      this.props.roleList\n    ) {\n      this.handleSelectRole(this.state.roleId, \"DEFAULT\");\n    }\n    if (this.state.selectedRole) {\n      return this.state.selectedRole.access.map((access, i) => (\n        <tr\n          key={i + access.id + Math.random()}\n          className={`text-left border-b border-gray-200 hover:bg-gray-100`}\n        >\n          <td className=\"px-2 py-1\">\n            <label className=\"inline-flex items-center\">\n              <span className=\"text-gray-900 capitalize text-xl font-normal cursor-pointer\">\n                {access.task}\n              </span>\n            </label>\n          </td>\n          <td>\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.create ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.create ? (\n                <TiInputChecked />\n              ) : (\n                <MdHighlightOff />\n              )}\n              {access.permitted.create ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n          <td>\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.view ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.view ? <TiInputChecked /> : <MdHighlightOff />}\n              {access.permitted.view ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n          <td>\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.update ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.update ? (\n                <TiInputChecked />\n              ) : (\n                <MdHighlightOff />\n              )}\n              {access.permitted.update ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n          <td>\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.delete ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.delete ? (\n                <TiInputChecked />\n              ) : (\n                <MdHighlightOff />\n              )}\n              {access.permitted.delete ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n        </tr>\n      ));\n    }\n    const optionB = [\n      <tr key=\"55re\">\n        <td colSpan={5} className=\"text-center px-2 py-2\">\n          No Default Access Available on this Role.\n        </td>\n      </tr>,\n    ];\n    return optionB;\n  };\n\n  assignRoleToUser = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!window.confirm(`Are sure you want to change user role?`)) {\n      return false;\n    }\n\n    if (!this.state.selectedRole) {\n      return this.setFormError({\n        element: \"role_id\",\n        msg: \"User role is required!\",\n      });\n    }\n\n    if (\n      this.state.selectedRole.room_required === true &&\n      isEmptyOrSpaces(this.state.provinceId)\n    ) {\n      return this.setFormError({\n        element: \"province_id\",\n        msg: \"Province is required!\",\n      });\n    }\n\n    if (\n      this.state.selectedRole.education_institution_required === true &&\n      isEmptyOrSpaces(this.state.instituteId)\n    ) {\n      return this.setFormError({\n        element: \"institute_id\",\n        msg: \"Institute is required on this role!\",\n      });\n    }\n\n    if (\n      (this.state.selectedRole.room_required === true ||\n        this.state.selectedRole.district_required === true) &&\n      isEmptyOrSpaces(this.state.districtId)\n    ) {\n      return this.setFormError({\n        element: \"district_id\",\n        msg: \"District is required!\",\n      });\n    }\n\n    if (\n      this.state.selectedRole.room_required === true &&\n      isEmptyOrSpaces(this.state.centerId)\n    ) {\n      return this.setFormError({\n        element: \"center_id\",\n        msg: \"Center is required!\",\n      });\n    }\n\n    if (\n      this.state.selectedRole.room_required === true &&\n      isEmptyOrSpaces(this.state.roomId)\n    ) {\n      return this.setFormError({\n        element: \"room_id\",\n        msg: \"Room is required!\",\n      });\n    }\n    this.setLoadingRequest(true);\n    let formData: AssignRoleToUserActionInterface = {\n      user_id: this.props.userInfo.user_id,\n      data: {\n        system_user_role_id: this.state.roleId,\n        status: 1,\n        role: this.state.selectedRole.role,\n        access: this.state.selectedRole.access,\n        school_id: \"\",\n        district_id: \"\",\n        room_id: this.state.selectedRole.room_required ? this.state.roomId : \"\",\n        education_institution_id: this.state.selectedRole\n          .education_institution_required\n          ? this.state.instituteId\n          : \"\",\n      },\n    };\n\n    try {\n      const res = await axios.post(`${url}/addroletouser`, {\n        user_id: this.props.userInfo.user_id,\n        system_user_role_id: this.state.roleId,\n        status: 1,\n        role: this.state.selectedRole.role,\n        access: true,\n        school_id: \"\",\n        district_id:\n          this.state.selectedRole.district_required === true\n            ? this.state.districtId\n            : \"\",\n        room_id:\n          this.state.selectedRole.room_required === true\n            ? this.state.roomId\n            : \"\",\n        education_institution_id: this.state.selectedRole\n          .education_institution_required\n          ? this.state.instituteId\n          : \"\",\n      });\n      if (res) {\n        console.log(\"====================================\");\n        console.log({ assignRoleToUser: res });\n        console.log(\"====================================\");\n        this.props.assignRoleToUserAccess(formData, this.props.currentPage);\n        this.setLoadingRequest(false);\n        this.props.setChangeRole(false);\n        this.props.PushPopupAlert({\n          title: \"Assigning Role to User completed successfully\",\n          theme: PopupAlertTheme.success,\n        });\n      }\n    } catch (error) {\n      console.log({ role_error: error });\n      this.props.PushPopupAlert({\n        title: errorToText(error),\n        theme: PopupAlertTheme.danger,\n      });\n    }\n  };\n\n  distinctDistrict = (\n    location: RoomLocationInterface[],\n    province_id?: string\n  ): DistrictInterface[] => {\n    let ids: string[] = [],\n      result: DistrictInterface[] = [];\n\n    if (province_id) {\n      result = location.find((item) => item._id === province_id)\n        ? location.find((item) => item._id === province_id)!.districts\n          ? location.find((item) => item._id === province_id)!.districts\n          : []\n        : [];\n    } else {\n      for (const key in location) {\n        if (Object.prototype.hasOwnProperty.call(location, key)) {\n          for (const keyDistrict in location[key].districts) {\n            if (\n              Object.prototype.hasOwnProperty.call(\n                location[key].districts,\n                keyDistrict\n              )\n            ) {\n              if (!ids.includes(location[key].districts[keyDistrict]._id)) {\n                ids.push(location[key].districts[keyDistrict]._id);\n                result.push(location[key].districts[keyDistrict]);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return result;\n  };\n\n  distinctCenter = (\n    rooms: RoomLocationInterface[],\n    district_id: string\n  ): LocationRoomTableInterface[] => {\n    let ids: string[] = [],\n      result: LocationRoomTableInterface[] = [];\n\n    LocationsInArray(rooms).forEach((element) => {\n      if (\n        !ids.includes(element.center_id) &&\n        element.district_id === district_id\n      ) {\n        ids.push(element.center_id);\n        result.push(element);\n      }\n    });\n    return result;\n  };\n\n  distinctRoom = (\n    rooms: RoomLocationInterface[],\n    center_id: string\n  ): LocationRoomTableInterface[] => {\n    let ids: string[] = [],\n      result: LocationRoomTableInterface[] = [];\n\n    LocationsInArray(rooms).forEach((element) => {\n      if (!ids.includes(element.room_id) && element.center_id === center_id) {\n        ids.push(element.room_id);\n        result.push(element);\n      }\n    });\n    return result;\n  };\n\n  render() {\n    if (\n      this.state.loading === true ||\n      this.state.loadingForm ||\n      this.props.userInfo.default_access === null ||\n      this.state.roleId.length === 0 ||\n      this.state.selectedRole === null\n    ) {\n      return (\n        <div className=\"text-center py-7 font-bold text-3xl text-gray-400 animate-pulse\">\n          Loading...\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 py-2 md:py-4 px-2 md:px-0\">\n        {/* left panel */}\n        <div className=\"col-span-1 bg-white w-full overflow-x-auto border rounded\">\n          <div className=\"px-6 md:px-12 py-5 bg-white mx-auto rounded-2xl w-100\">\n            <h3 className=\"font-semibold text-2xl text-gray-800 mb-4\">\n              Change User Role\n            </h3>\n            {this.state.loadingForm ? (\n              <Loading />\n            ) : (\n              <form onSubmit={(e) => this.assignRoleToUser(e)}>\n                <div className=\"space-y-5\">\n                  <div className=\"space-y-2\">\n                    <label className=\"text-sm font-medium text-gray-700 tracking-wide\">\n                      User Role\n                    </label>\n\n                    {!this.state.chooseRole && (\n                      <div\n                        className={`w-full text-base bg-white text-grey-darker cursor-pointer border-2 px-4 py-3 rounded focus:outline-none focus:bg-gray-100 ${\n                          this.state.formError &&\n                          this.state.formError.element === \"role_id\"\n                            ? \"border-red-500\"\n                            : \"border-gray-400\"\n                        }`}\n                        onClick={() => {\n                          !this.state.loadingRequest &&\n                            this.setChooseRole(true);\n                          !this.state.loadingRequest && this.setFormError(null);\n                        }}\n                      >\n                        {this.state.selectedRole\n                          ? this.state.selectedRole.role\n                          : \"Select role\"}\n                      </div>\n                    )}\n\n                    {this.state.chooseRole && (\n                      <RoleList\n                        setChooseRole={this.setChooseRole}\n                        handleSelectRole={this.handleSelectRole}\n                        roleList={this.props.roleList}\n                        loadindRequest={this.state.loadingRequest}\n                      />\n                    )}\n\n                    {this.state.formError &&\n                      this.state.formError.element === \"role_id\" && (\n                        <span className=\"text-red-500\">\n                          {this.state.formError.msg}\n                        </span>\n                      )}\n                  </div>\n\n                  {this.state.selectedRole &&\n                    this.state.selectedRole.education_institution_required && (\n                      <div className=\"space-y-2\">\n                        <label className=\"mb-5 text-sm font-medium text-gray-700 tracking-wide\">\n                          Institute\n                        </label>\n                        <select\n                          className={`block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ${\n                            this.state.formError &&\n                            this.state.formError.element === \"institute_id\"\n                              ? \"border-red-500\"\n                              : \"border-gray-400\"\n                          }`}\n                          onChange={(e) => {\n                            this.setInstituteId(e.target.value);\n                            this.setProvinceId(\"\");\n                            this.setDistrictId(\"\");\n                            this.setCenterId(\"\");\n                            this.setRoomId(\"\");\n                            this.state.formError &&\n                              this.state.formError.element === \"institute_id\" &&\n                              this.setFormError(null);\n                          }}\n                          disabled={this.state.loadingRequest}\n                          value={this.state.instituteId}\n                        >\n                          <option value=\"\">Select institute</option>\n                          {this.props.schoolLevels.education_categories &&\n                          this.props.schoolLevels.education_categories.length >\n                            0 ? (\n                            this.props.schoolLevels.education_categories.map(\n                              (institute) => (\n                                <option\n                                  value={institute.education_institute_id}\n                                  key={\n                                    institute.education_institute_id +\n                                    Math.random()\n                                  }\n                                >\n                                  {institute.education_category_title}\n                                </option>\n                              )\n                            )\n                          ) : (\n                            <option value=\"\" disabled>\n                              No institute available\n                            </option>\n                          )}\n                        </select>\n                        {this.state.formError &&\n                          this.state.formError.element === \"institute_id\" && (\n                            <span className=\"text-red-500\">\n                              {this.state.formError.msg}\n                            </span>\n                          )}\n                      </div>\n                    )}\n\n                  {this.state.selectedRole &&\n                    this.state.selectedRole.room_required && (\n                      <div className=\"space-y-2\">\n                        <label className=\"mb-5 text-sm font-medium text-gray-700 tracking-wide\">\n                          Province\n                        </label>\n                        <select\n                          className={`block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ${\n                            this.state.formError &&\n                            this.state.formError.element === \"province_id\"\n                              ? \"border-red-500\"\n                              : \"border-gray-400\"\n                          }`}\n                          onChange={(e) => {\n                            this.setProvinceId(e.target.value);\n                            this.state.formError &&\n                              this.state.formError.element === \"province_id\" &&\n                              this.setFormError(null);\n                            this.setDistrictId(\"\");\n                            this.setCenterId(\"\");\n                            this.setRoomId(\"\");\n                          }}\n                          value={this.state.provinceId}\n                          disabled={this.state.loadingRequest}\n                        >\n                          <option value=\"\">Select province</option>\n                          {this.props.roomList &&\n                            this.props.roomList.map((province) => (\n                              <option\n                                key={province._id + Math.random()}\n                                value={province._id}\n                              >\n                                {province.province_name}\n                              </option>\n                            ))}\n                        </select>\n                        {this.state.formError &&\n                          this.state.formError.element === \"province_id\" && (\n                            <span className=\"text-red-500\">\n                              {this.state.formError.msg}\n                            </span>\n                          )}\n                      </div>\n                    )}\n                  {this.state.selectedRole &&\n                    (this.state.selectedRole.district_required ||\n                      this.state.selectedRole.room_required) && (\n                      <div className=\"space-y-2\">\n                        <label className=\"mb-5 text-sm font-medium text-gray-700 tracking-wide\">\n                          District\n                        </label>\n                        <select\n                          className={`block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ${\n                            this.state.formError &&\n                            this.state.formError.element === \"district_id\"\n                              ? \"border-red-500\"\n                              : \"border-gray-400\"\n                          }`}\n                          onChange={(e) => {\n                            this.setDistrictId(e.target.value);\n                            this.state.formError &&\n                              this.state.formError.element === \"district_id\" &&\n                              this.setFormError(null);\n                            this.setCenterId(\"\");\n                            this.setRoomId(\"\");\n                          }}\n                          value={this.state.districtId}\n                          disabled={this.state.loadingRequest}\n                        >\n                          <option value=\"\">Select district</option>\n                          {this.props.roomList &&\n                          this.distinctDistrict(\n                            this.props.roomList,\n                            !isEmptyOrSpaces(this.state.provinceId)\n                              ? this.state.provinceId\n                              : undefined\n                          ).length > 0 ? (\n                            this.distinctDistrict(\n                              this.props.roomList,\n                              !isEmptyOrSpaces(this.state.provinceId)\n                                ? this.state.provinceId\n                                : undefined\n                            ).map((district) => (\n                              <option\n                                key={district._id + Math.random()}\n                                value={district._id}\n                              >\n                                {district.district_name}\n                              </option>\n                            ))\n                          ) : (\n                            <option value=\"\" disabled>\n                              No district found\n                            </option>\n                          )}\n                        </select>\n                        {this.state.formError &&\n                          this.state.formError.element === \"district_id\" && (\n                            <span className=\"text-red-500\">\n                              {this.state.formError.msg}\n                            </span>\n                          )}\n                      </div>\n                    )}\n\n                  {this.state.selectedRole &&\n                    this.state.selectedRole.room_required && (\n                      <div className=\"space-y-2\">\n                        <label className=\"mb-5 text-sm font-medium text-gray-700 tracking-wide\">\n                          Center\n                        </label>\n                        <select\n                          className={`block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ${\n                            this.state.formError &&\n                            this.state.formError.element === \"center_id\"\n                              ? \"border-red-500\"\n                              : \"border-gray-400\"\n                          }`}\n                          onChange={(e) => {\n                            this.setCenterId(e.target.value);\n                            this.state.formError &&\n                              this.state.formError.element === \"center_id\" &&\n                              this.setFormError(null);\n                            this.setRoomId(\"\");\n                          }}\n                          disabled={this.state.loadingRequest}\n                          value={this.state.centerId}\n                        >\n                          <option value=\"\">Select center</option>\n                          {this.state.districtId &&\n                          this.state.districtId.length > 0 &&\n                          this.props.roomList &&\n                          this.distinctCenter(\n                            this.props.roomList,\n                            this.state.districtId\n                          ).length > 0 ? (\n                            this.distinctCenter(\n                              this.props.roomList,\n                              this.state.districtId\n                            ).map((center, index) => (\n                              <option\n                                value={center.center_id}\n                                key={center.center_id + index + Math.random()}\n                              >\n                                {center.center_name}\n                              </option>\n                            ))\n                          ) : (\n                            <option value=\"\" disabled>\n                              No center found\n                            </option>\n                          )}\n                        </select>\n                        {this.state.formError &&\n                          this.state.formError.element === \"center_id\" && (\n                            <span className=\"text-red-500\">\n                              {this.state.formError.msg}\n                            </span>\n                          )}\n                      </div>\n                    )}\n\n                  {this.state.selectedRole &&\n                    this.state.selectedRole.room_required && (\n                      <div className=\"space-y-2\">\n                        <label className=\"mb-5 text-sm font-medium text-gray-700 tracking-wide\">\n                          Room\n                        </label>\n                        <select\n                          className={`block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ${\n                            this.state.formError &&\n                            this.state.formError.element === \"room_id\"\n                              ? \"border-red-500\"\n                              : \"border-gray-400\"\n                          }`}\n                          onChange={(e) => {\n                            this.setRoomId(e.target.value);\n                            this.state.formError &&\n                              this.state.formError.element === \"room_id\" &&\n                              this.setFormError(null);\n                          }}\n                          disabled={this.state.loadingRequest}\n                          value={this.state.roomId}\n                        >\n                          <option value=\"\">Select room</option>\n                          {!isEmptyOrSpaces(this.state.centerId) &&\n                          this.props.roomList &&\n                          this.distinctRoom(\n                            this.props.roomList,\n                            this.state.centerId\n                          ).length > 0 ? (\n                            this.distinctRoom(\n                              this.props.roomList,\n                              this.state.centerId\n                            ).map((room, index) => (\n                              <option\n                                value={room.room_id}\n                                key={room.room_id + index + Math.random()}\n                                className={`${\n                                  room.room_name === \"0\" ? \"hidden\" : \"block\"\n                                }`}\n                              >\n                                {room.room_name}\n                              </option>\n                            ))\n                          ) : (\n                            <option value=\"\" disabled>\n                              No room found\n                            </option>\n                          )}\n                        </select>\n                        {this.state.formError &&\n                          this.state.formError.element === \"room_id\" && (\n                            <span className=\"text-red-500\">\n                              {this.state.formError.msg}\n                            </span>\n                          )}\n                      </div>\n                    )}\n\n                  <div className=\"flex justify-between 2xl:justify-start gap-2\">\n                    <button\n                      className=\"btn bg-gray-500 text-gray-50 focus:outline-none\"\n                      onClick={() => {\n                        this.props.setChangeRole(false);\n                        this.setFormError(null);\n                        this.setProvinceId(\"\");\n                        this.setDistrictId(\"\");\n                        this.setCenterId(\"\");\n                        this.setRoomId(\"\");\n                      }}\n                      disabled={this.state.loadingRequest}\n                    >\n                      Back\n                    </button>\n                    <button\n                      className=\"btn btn-blue focus:outline-none\"\n                      // onClick={() => assignRoleToUser()}\n                      disabled={this.state.loadingRequest}\n                    >\n                      {this.state.loadingRequest ? \"Loading...\" : \"Save Change\"}\n                    </button>\n                  </div>\n                </div>\n              </form>\n            )}\n          </div>\n        </div>\n        {/* end left panel */}\n\n        {/* ------------------------------------------------------------ */}\n\n        {/* right panel */}\n        <div className=\"cols-span-1 md:col-span-2 bg-white w-full border rounded text-center p-2 hidden md:block\">\n          <div className=\"my-4\">\n            <span className=\"text-gray-600 font-semibold text-2xl\">\n              {this.state.selectedRole?.role}'s Default Access\n            </span>\n          </div>\n          {!this.state.loading && (\n            <div className=\"overflow-x-auto w-full\">\n              <Table\n                columns={[\n                  {\n                    columnTitle: \"Access Name\",\n                    alignText: \"left\",\n                    padding: \"p-3\",\n                  },\n                  { columnTitle: \"Create\", alignText: \"left\" },\n                  { columnTitle: \"View\", alignText: \"left\" },\n                  { columnTitle: \"Update\", alignText: \"left\" },\n                  { columnTitle: \"Delete\", alignText: \"left\" },\n                ]}\n                rows={this.tableData}\n                pagination={false}\n                search={false}\n                searchBG=\"bg-gray-50\"\n                thColor=\"gray\"\n                tableId=\"defaultAccess\"\n              />\n            </div>\n          )}\n        </div>\n        {/* end right panel */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  schoolLevels,\n}: StoreState): {\n  schoolLevels: schoolLevelsStoreInterface;\n} => {\n  return { schoolLevels };\n};\n\nexport default React.memo(\n  connect(mapStateToProps, {\n    assignRoleToUserAccess,\n    PushPopupAlert,\n  })(UserRole)\n);\n","export default __webpack_public_path__ + \"static/media/blank_profile.c3f94521.png\";","import React, { FC } from \"react\";\nimport { IconType } from \"react-icons\";\nimport { FaUsers } from \"react-icons/fa\";\nimport { toAnyDigit } from \"../../shared/dataTest\";\nimport { displayNumbers } from \"../../utils/functions\";\n\nexport type DashboardLabelItemInterface = {\n  // TITLE: Application or Exam or Shortlisted ....\n  title: string;\n  // ICON: FaExpand ....\n  icon: IconType;\n  // ICON COLOR: blue, indigo, gray ....\n  iconColor: string;\n  // COUNT: 0,1,2,3,5,23,563 ....\n  count: number;\n  // COUNT: 0,1,2,3,5,23,563 ....\n  countOver?: number;\n};\n\nconst DashboardLabelItem: FC<DashboardLabelItemInterface> = (\n  props = {\n    title: \"\",\n    icon: FaUsers,\n    iconColor: \"indigo\",\n    count: 0,\n    countOver: undefined,\n  }\n) => {\n  const IconDefined = props.icon;\n  return (\n    <div className=\"flex items-center px-6 py-4 bg-white w-full rounded-md space-x-2 mb-2 lg:mb-0 shadow-md\">\n      <div\n        className={`p-3 rounded-full bg-${props.iconColor}-200 bg-opacity-75`}\n      >\n        <IconDefined className={`h-8 w-8 text-${props.iconColor}-600`} />\n      </div>\n      <div>\n        <h1 className=\"text-3xl font-semibold text-gray-700\">\n          {props.count < 1000\n            ? toAnyDigit(props.count)\n            : displayNumbers(props.count)}{\" \"}\n          {props.countOver && \"/ \" + toAnyDigit(props.countOver)}\n        </h1>\n        <span className=\"text-gray-500 text-lg\">{props.title}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(DashboardLabelItem);\n","import React, { useState } from \"react\";\nimport { BiSort } from \"react-icons/bi\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport { SessionPlanInterface } from \"../../../interfaces\";\nimport { course } from \"../../../interfaces/course\";\nimport { ExamItemResponse } from \"../../../interfaces/prepare_exam\";\nimport { ExamsParcentageSuccessFailedRateByPeriodInterface } from \"../../../interfaces/reports\";\nimport { capitalizeFirstLetter } from \"../../../shared/dataTest\";\nimport { DATE, sortThisArray } from \"../../../utils/functions\";\n\nexport interface ExamPerformanceToPrintInterface {\n  course_id: number;\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string;\n  exam_period: string;\n  exam_date: string;\n  exam_time: string;\n  exam_duration: string;\n  exam_performance: number;\n}\n\nexport enum examPerformanceReportContentKeyInterface {\n  COURSER_NAME = \"course_name\",\n  COURSE_CODE = \"course_code\",\n  SCHOOL_LEVEL = \"school_levels\",\n  PERIOD = \"exam_period\",\n  DATE = \"exam_date\",\n  TIME = \"exam_time\",\n  DURATION = \"exam_duration\",\n  PERFORMANCE = \"exam_performance\",\n}\n\nexport interface examPerformanceReportContentInterface {\n  key: examPerformanceReportContentKeyInterface;\n  title: string;\n  status: boolean;\n}\n\nexport const examPerformanceIsChangeAllowed = (\n  key: examPerformanceReportContentKeyInterface\n): boolean => {\n  if (\n    key === examPerformanceReportContentKeyInterface.COURSER_NAME ||\n    key === examPerformanceReportContentKeyInterface.COURSE_CODE ||\n    key === examPerformanceReportContentKeyInterface.PERIOD ||\n    key === examPerformanceReportContentKeyInterface.PERFORMANCE\n  ) {\n    return false;\n  }\n  return true;\n};\n\nexport const defaultExamPerformanceContent: examPerformanceReportContentInterface[] =\n  [\n    {\n      key: examPerformanceReportContentKeyInterface.COURSER_NAME,\n      title: \"Course names\",\n      status: true,\n    },\n    {\n      key: examPerformanceReportContentKeyInterface.COURSE_CODE,\n      title: \"Course code\",\n      status: true,\n    },\n    {\n      key: examPerformanceReportContentKeyInterface.SCHOOL_LEVEL,\n      title: \"School levels\",\n      status: true,\n    },\n    {\n      key: examPerformanceReportContentKeyInterface.PERIOD,\n      title: \"Exam period\",\n      status: true,\n    },\n    {\n      key: examPerformanceReportContentKeyInterface.DATE,\n      title: \"Exam date\",\n      status: true,\n    },\n    {\n      key: examPerformanceReportContentKeyInterface.TIME,\n      title: \"Exam time\",\n      status: true,\n    },\n    {\n      key: examPerformanceReportContentKeyInterface.DURATION,\n      title: \"Exam duration\",\n      status: true,\n    },\n    {\n      key: examPerformanceReportContentKeyInterface.PERFORMANCE,\n      title: \"Exam performance\",\n      status: true,\n    },\n  ];\n\nexport interface examPerformanceStateInterface {\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string[];\n  course_id: string;\n  exam: ExamItemResponse | null;\n  exam_performance: number;\n}\n\nexport const FC_reportExamPerformanceData = (\n  allCourses: course[],\n  allExams: ExamItemResponse[],\n  examPerformance: ExamsParcentageSuccessFailedRateByPeriodInterface[]\n): examPerformanceStateInterface[] => {\n  let result: examPerformanceStateInterface[] = [],\n    ids: string[] = [];\n  for (const key in examPerformance) {\n    if (Object.prototype.hasOwnProperty.call(examPerformance, key)) {\n      if (ids.includes(examPerformance[key].answer_sheet_id)) continue;\n      ids.push(examPerformance[key].answer_sheet_id);\n      let courser = allCourses.find(\n        (item) => item.course_id === examPerformance[key].course\n      );\n      if (courser) {\n        let exam = allExams.find(\n          (item) =>\n            item.course === examPerformance[key].course &&\n            item.period === examPerformance[key].period\n        );\n        result.push({\n          course_name: courser.course_name,\n          course_code: courser.course_code,\n          description: courser.description,\n          school_levels: courser.school_levels,\n          course_id: courser.course_id,\n          exam: exam ? exam : null,\n          exam_performance: examPerformance[key].total_marks,\n        });\n      }\n    }\n  }\n  console.log(\"===============-----------------=====================\");\n  console.log({ result });\n  console.log(\"===============-----------------=====================\");\n  return result;\n};\n\nexport const searchExamPerformanceData = (\n  objList: examPerformanceStateInterface[],\n  text: string\n): examPerformanceStateInterface[] => {\n  if (undefined === text || text === \"\") return objList;\n  return objList.filter((product) => {\n    let flag;\n    // let dataKeys = product;\n\n    for (let prop in product) {\n      flag = false;\n      if (\n        prop === \"course_name\" ||\n        prop === \"course_code\" ||\n        prop === \"exam_performance\"\n      ) {\n        flag =\n          product[prop].toString().toLowerCase().indexOf(text.toLowerCase()) >\n          -1;\n      }\n      if (flag) break;\n    }\n    return flag;\n  });\n};\n\ntype ExamPerformanceProps = {\n  loading: boolean;\n  examsListData: ExamItemResponse[] | null;\n  courseListData: course[] | null;\n  thisPeriod: SessionPlanInterface[];\n  examsPerformanceData:\n    | ExamsParcentageSuccessFailedRateByPeriodInterface[]\n    | null;\n};\n\nconst ExamPerformance: React.FC<ExamPerformanceProps> = (props) => {\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n  const [isSorted, setIsSorted] = useState<boolean>(false);\n  const [sortProperty, setSortProperty] = useState<string>(\"\");\n  const [sortOrder, setSortOrder] = useState<\"ASC\" | \"DESC\">(\"ASC\");\n\n  const setSort = (thisProperty: string) => {\n    if (sortProperty === thisProperty && sortOrder === \"ASC\") {\n      setSortOrder(\"DESC\");\n      setSortProperty(thisProperty);\n      setIsSorted(true);\n    } else {\n      setSortOrder(\"ASC\");\n      setSortProperty(thisProperty);\n      setIsSorted(true);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <div className=\"bg-white my-4\">\n        <div className=\"w-full px-2 py-2\">\n          <input\n            onChange={(e) => setSearchInput(e.target.value)}\n            type=\"text\"\n            value={searchInput}\n            placeholder=\"Search...\"\n            className=\"w-full bg-gray-100 py-2 px-3 rounded\"\n            disabled={\n              props.courseListData &&\n              props.examsListData &&\n              props.examsPerformanceData &&\n              FC_reportExamPerformanceData(\n                props.courseListData,\n                props.examsListData,\n                props.examsPerformanceData\n              ).length <= 0\n                ? true\n                : false\n            }\n          />\n        </div>\n        <div className=\"w-full overflow-x-auto\">\n          <table className=\"w-full shadow\" id=\"report_content\">\n            <thead className=\"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm\">\n              <tr>\n                <td className=\"px-2 py-2\">#</td>\n                <td\n                  className=\"px-2 py-2 cursor-pointer\"\n                  onClick={() => setSort(\"course_name\")}\n                >\n                  <div className=\"flex items-center gap-1\">\n                    Course <BiSort />\n                  </div>\n                </td>\n                <td className=\"px-2 py-2\">Exam date</td>\n                <td className=\"px-2 py-2\">Exam time</td>\n                <td className=\"px-2 py-2\">Exam duration</td>\n                <td\n                  className=\"px-2 py-2 cursor-pointer\"\n                  onClick={() => setSort(\"exam_performance\")}\n                >\n                  <div className=\"flex items-center gap-1\">\n                    Exam performance <BiSort />\n                  </div>\n                </td>\n              </tr>\n            </thead>\n            <tbody>\n              {props.courseListData === null || props.loading ? (\n                <tr>\n                  <td colSpan={6} className=\"px-2 py-2\">\n                    <Loading />\n                  </td>\n                </tr>\n              ) : props.examsListData &&\n                props.examsPerformanceData &&\n                FC_reportExamPerformanceData(\n                  props.courseListData,\n                  props.examsListData,\n                  props.examsPerformanceData\n                ).length <= 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-2 py-2 text-center\">\n                    No Exam list available!\n                  </td>\n                </tr>\n              ) : (\n                props.examsListData &&\n                props.examsPerformanceData &&\n                sortThisArray(\n                  isSorted,\n                  searchExamPerformanceData(\n                    FC_reportExamPerformanceData(\n                      props.courseListData,\n                      props.examsListData,\n                      props.examsPerformanceData\n                    ),\n                    searchInput\n                  ),\n                  sortProperty,\n                  sortOrder\n                ).map((item: examPerformanceStateInterface, i) => (\n                  <tr\n                    key={i + 1}\n                    className={`bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm`}\n                  >\n                    <td className=\"px-2 py-2\">{i + 1}</td>\n                    <td className=\"px-2 py-2\">\n                      {capitalizeFirstLetter(item.course_name)} (\n                      <span className=\"font-semibold\">{item.course_code}</span>)\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam ? DATE(item.exam.exam_date) : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam ? item.exam.start_time : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {item.exam ? item.exam!.duration + \" min\" : \"-\"}\n                    </td>\n                    <td className=\"px-2 py-2\">\n                      {Number(item.exam_performance.toFixed(1)) + \"%\"}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default React.memo(ExamPerformance);\n","import React from \"react\";\nimport DashboardLabelItem, {\n  DashboardLabelItemInterface,\n} from \"../DashboardLabelItem\";\n\ntype DashboardLabelProps = {\n  dataLabels: DashboardLabelItemInterface[];\n  labelsOnRow?: number;\n  childrenPosition?: \"START\" | \"END\";\n  children?: JSX.Element;\n};\n\nconst ExamDashboardLabels: React.FC<DashboardLabelProps> = (props) => {\n  const numCols: number = props.labelsOnRow\n    ? props.labelsOnRow > 4\n      ? props.labelsOnRow\n      : 4\n    : 4;\n  return (\n    <div\n      className={`grid 2xl:grid-cols-${numCols} xl:grid-cols-${\n        numCols - 1\n      } lg:grid-cols-${numCols - 2} md:grid-cols-${\n        numCols - 3\n      } sm:grid-cols-2 grid-cols-1 gap-4 items-center mx-auto`}\n    >\n      {props.children &&\n        ((props.childrenPosition && props.childrenPosition === \"START\") ||\n          !props.childrenPosition) &&\n        props.children}\n      {props.dataLabels.map((item, index) => (\n        <section key={index + item.title}>\n          <DashboardLabelItem\n            title={item.title}\n            icon={item.icon}\n            iconColor={item.iconColor}\n            count={item.count}\n          />\n        </section>\n      ))}\n      {props.children &&\n        props.childrenPosition &&\n        props.childrenPosition === \"END\" &&\n        props.children}\n    </div>\n  );\n};\n\nexport default React.memo(ExamDashboardLabels);\n","import React from \"react\";\nimport Chart from \"react-apexcharts\";\n\ntype chartType = {\n  options: {\n    labels: string[];\n    legend?: ApexLegend;\n    plotOptions?: ApexPlotOptions;\n    colors?: any[];\n  };\n  series: number[];\n  width?: number;\n};\n\nconst PieChart: React.FC<chartType> = (props) => {\n  return (\n    <div className=\"donut\">\n      <Chart\n        options={props.options}\n        series={props.series}\n        type=\"donut\"\n        width={`${props.width ? props.width : \"380\"}`}\n      />\n    </div>\n  );\n};\n\nexport default React.memo(PieChart);\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { BiRightArrowAlt } from \"react-icons/bi\";\nimport {\n  MdDelete,\n  MdEdit,\n  MdHighlightOff,\n  MdRemoveRedEye,\n  MdSettings,\n} from \"react-icons/md\";\nimport { SiAddthis } from \"react-icons/si\";\nimport { TiInputChecked } from \"react-icons/ti\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { PushPopupAlert } from \"../../actions\";\nimport { customizeUserAccess } from \"../../actions/users\";\nimport { PopupAlertData } from \"../../components/Alert/Popup\";\nimport Table from \"../../components/Table/Table\";\nimport { PopupAlertTheme } from \"../../interfaces/popupAlert\";\nimport {\n  UserInterface,\n  AccessTaskInterface,\n  CustomeAccessInterface,\n} from \"../../shared/interfaces\";\nimport { API } from \"../../utils/api\";\nimport { errorToText } from \"../../utils/errors\";\n\ninterface AppProps {\n  userInfo: UserInterface | undefined;\n  manageUserId: string;\n  setUserAccess: (value: AccessTaskInterface[] | null) => void;\n  userAccess: AccessTaskInterface[] | null;\n  setCurrentAccess: (value: AccessTaskInterface | null) => void;\n  currentAccess: AccessTaskInterface | null;\n  currentPage: number;\n\n  // REDUX ==============\n  PushPopupAlert: (alert: PopupAlertData) => void;\n  customizeUserAccess: Function;\n}\n\ninterface AppStates {\n  loading: boolean;\n  loadindRequest: boolean;\n  // currentAccess:AccessTaskInterface | null;\n  // userAccess:AccessTaskInterface[] | null;\n  createPermission: boolean;\n  viewPermission: boolean;\n  updatePermission: boolean;\n  deletePermission: boolean;\n}\n\nclass _UserAccess extends Component<AppProps, AppStates> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      loadindRequest: false,\n      // currentAccess:null,\n      // userAccess:null,\n      createPermission: false,\n      viewPermission: false,\n      updatePermission: false,\n      deletePermission: false,\n    };\n  }\n\n  setViewPermission = (value: boolean) => {\n    this.setState({ viewPermission: value });\n  };\n\n  setLoadindRequest = (value: boolean) => {\n    this.setState({ loadindRequest: value });\n  };\n\n  setCreatePermission = (value: boolean) => {\n    this.setState({ createPermission: value });\n  };\n\n  setUpdatePermission = (value: boolean) => {\n    this.setState({ updatePermission: value });\n  };\n\n  setDeletePermission = (value: boolean) => {\n    this.setState({ deletePermission: value });\n  };\n\n  setLoadind = (value: boolean) => {\n    this.setState({ loading: value });\n  };\n\n  overrideUserAccess = (\n    default_access: AccessTaskInterface[],\n    custome_access: AccessTaskInterface[]\n  ) => {\n    if (default_access && custome_access && custome_access.length > 0) {\n      let overideAccess: AccessTaskInterface[] = [];\n      for (const key in default_access) {\n        if (Object.prototype.hasOwnProperty.call(default_access, key)) {\n          const findCustom = custome_access.find(\n            (custom) => custom.id === default_access[key].id\n          );\n          if (findCustom) {\n            overideAccess.push(findCustom);\n          } else {\n            overideAccess.push(default_access[key]);\n          }\n        }\n      }\n      this.props.setUserAccess(overideAccess);\n    }\n  };\n\n  componentDidMount = () => {\n    if (this.props.userInfo && this.props.userInfo.custome_access) {\n      this.props.userInfo.default_access &&\n        this.overrideUserAccess(\n          this.props.userInfo.default_access.access,\n          this.props.userInfo.custome_access.access\n        );\n      this.setLoadind(false);\n    } else {\n      this.props.userInfo &&\n        this.props.userInfo.default_access &&\n        this.props.setUserAccess(this.props.userInfo.default_access.access);\n      this.setLoadind(false);\n    }\n  };\n\n  tableData = (): JSX.Element[] => {\n    if (!this.props.userAccess)\n      return [\n        <tr key={Math.random()}>\n          <td>No data</td>\n        </tr>,\n      ];\n    return this.props.userAccess.map((access: AccessTaskInterface, i) => (\n      <tr\n        key={i + access.id + Math.random()}\n        className={`text-left border-b border-gray-200 cursor-pointer hover:bg-gray-100 ${\n          this.props.currentAccess &&\n          this.props.currentAccess.id === access.id &&\n          \"bg-gray-200 border my-3 hover:bg-gray-100\"\n        }`}\n        onClick={() =>\n          this.props.currentAccess && this.props.currentAccess.id === access.id\n            ? (this.props.setCurrentAccess(null),\n              this.setCreatePermission(false),\n              this.setViewPermission(false),\n              this.setUpdatePermission(false),\n              this.setDeletePermission(false))\n            : (this.props.setCurrentAccess(access),\n              this.setCreatePermission(access.permitted.create),\n              this.setViewPermission(access.permitted.view),\n              this.setUpdatePermission(access.permitted.update),\n              this.setDeletePermission(access.permitted.delete))\n        }\n      >\n        <td className=\"px-2 py-1\">\n          <label className=\"inline-flex items-center\">\n            {/* <input\n              type=\"radio\"\n              name=\"taskAccess\"\n              value={access.id}\n              className=\"form-radio h-4 w-4 text-gray-600\"\n              onChange={() => {\n                currentAccess\n                  ? this.setState({ currentAccess: null })\n                  : this.setState({ currentAccess: access });\n              }}\n              checked={currentAccess ? true : false}\n            /> */}\n            <span className=\"text-gray-900 capitalize text-xl font-normal cursor-pointer\">\n              {access.task}\n            </span>\n          </label>\n        </td>\n        <td>\n          <div\n            className={`inline-flex items-center text-xl ${\n              access.permitted.create ? \"text-green-700\" : \"text-red-700\"\n            }`}\n          >\n            {access.permitted.create ? <TiInputChecked /> : <MdHighlightOff />}\n            {access.permitted.create ? \" Yes\" : \"No\"}\n          </div>\n        </td>\n        <td>\n          <div\n            className={`inline-flex items-center text-xl ${\n              access.permitted.view ? \"text-green-700\" : \"text-red-700\"\n            }`}\n          >\n            {access.permitted.view ? <TiInputChecked /> : <MdHighlightOff />}\n            {access.permitted.view ? \" Yes\" : \"No\"}\n          </div>\n        </td>\n        <td>\n          <div\n            className={`inline-flex items-center text-xl ${\n              access.permitted.update ? \"text-green-700\" : \"text-red-700\"\n            }`}\n          >\n            {access.permitted.update ? <TiInputChecked /> : <MdHighlightOff />}\n            {access.permitted.update ? \" Yes\" : \"No\"}\n          </div>\n        </td>\n        <td>\n          <div\n            className={`inline-flex items-center text-xl ${\n              access.permitted.delete ? \"text-green-700\" : \"text-red-700\"\n            }`}\n          >\n            {access.permitted.delete ? <TiInputChecked /> : <MdHighlightOff />}\n            {access.permitted.delete ? \" Yes\" : \"No\"}\n          </div>\n        </td>\n      </tr>\n    ));\n  };\n\n  handleCustomization = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (this.props.userInfo) {\n      this.setLoadindRequest(true);\n      let task: [] | CustomeAccessInterface | null = null;\n      task = this.props.userInfo.custome_access;\n      let index = -1;\n\n      try {\n        if (task && this.props.currentAccess) {\n          index = task.access.findIndex(\n            (access) => access.id === this.props.currentAccess!.id\n          );\n          if (index >= 0) {\n            task.access[index].permitted.create = this.state.createPermission;\n            task.access[index].permitted.view = this.state.viewPermission;\n            task.access[index].permitted.update = this.state.updatePermission;\n            task.access[index].permitted.delete = this.state.deletePermission;\n          } else {\n            task.access.push({\n              id: this.props.currentAccess.id,\n              task: this.props.currentAccess.task,\n              key: this.props.currentAccess.key,\n              permitted: {\n                create: this.state.createPermission,\n                view: this.state.viewPermission,\n                update: this.state.updatePermission,\n                delete: this.state.deletePermission,\n              },\n            });\n          }\n        } else if (this.props.currentAccess) {\n          task = {\n            access: [\n              {\n                id: this.props.currentAccess.id,\n                task: this.props.currentAccess.task,\n                key: this.props.currentAccess.key,\n                permitted: {\n                  create: this.state.createPermission,\n                  view: this.state.viewPermission,\n                  update: this.state.updatePermission,\n                  delete: this.state.deletePermission,\n                },\n              },\n            ],\n            user_id: this.props.userInfo.user_id,\n            custome_user_access_id: \"\",\n          };\n        }\n\n        if (task) {\n          let res;\n          if (this.props.userInfo.custome_access !== null) {\n            res = await axios.patch<{ data: CustomeAccessInterface }>(\n              `${API.USER}/access/custom`,\n              {\n                access: task.access,\n                user_id: this.props.userInfo.user_id,\n              }\n            );\n          } else {\n            res = await axios.post<{ data: CustomeAccessInterface }>(\n              `${API.USER}/access/custom`,\n              {\n                access: task.access,\n                user_id: this.props.userInfo.user_id,\n              }\n            );\n          }\n\n          if (res) {\n            task.custome_user_access_id = res.data.data.custome_user_access_id;\n\n            this.props.customizeUserAccess(task, this.props.currentPage);\n            task &&\n              this.props.userInfo.default_access &&\n              this.overrideUserAccess(\n                this.props.userInfo.default_access.access,\n                task.access\n              );\n            this.props.PushPopupAlert({\n              title: `Resetting User Access complete successfully`,\n              theme: PopupAlertTheme.info,\n            });\n\n            task = null;\n            this.props.setCurrentAccess(null);\n            this.setCreatePermission(false);\n            this.setViewPermission(false);\n            this.setUpdatePermission(false);\n            this.setDeletePermission(false);\n          }\n        }\n      } catch (error) {\n        console.error({ customize_access: error });\n        this.props.PushPopupAlert({\n          title: errorToText(error),\n          theme: PopupAlertTheme.danger,\n        });\n      }\n      this.setLoadindRequest(false);\n    }\n  };\n\n  render() {\n    if (this.props.userInfo === undefined) {\n      return <Redirect to=\"/users\" />;\n    }\n\n    if (this.state.loading || this.props.userInfo === null) {\n      return (\n        <div className=\"text-center py-7 font-bold text-4xl text-gray-400 animate-pulse\">\n          Loading User Access...\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mx-1 my-2\">\n          <div\n            className={`col-span-1 md:col-span-3 bg-white w-full overflow-x-auto border rounded text-center p-2 ${\n              this.props.currentAccess ? \"hidden md:block\" : \"\"\n            }`}\n          >\n            <span className=\"text-gray-600 mt-2 font-semibold text-2xl\">\n              Settings\n            </span>\n            {!this.state.loading && (\n              <div className=\"overflow-x-auto w-full\">\n                <Table\n                  columns={[\n                    {\n                      columnTitle: \"Access Name\",\n                      alignText: \"left\",\n                      padding: \"p-3\",\n                    },\n                    { columnTitle: \"Create\", alignText: \"left\" },\n                    { columnTitle: \"View\", alignText: \"left\" },\n                    { columnTitle: \"Update\", alignText: \"left\" },\n                    { columnTitle: \"Delete\", alignText: \"left\" },\n                  ]}\n                  rows={this.tableData}\n                  pagination={false}\n                  search={true}\n                  searchBG=\"bg-gray-50\"\n                  thColor=\"gray\"\n                />\n              </div>\n            )}\n          </div>\n          <div className={`col-span-1 md:col-span-2`}>\n            {!this.props.currentAccess ? (\n              <div className=\"w-full hidden md:flex flex-col items-center text-gray-600 gap-1 py-3\">\n                <MdSettings className=\"w-20 h-20\" />\n                <span className=\"text-8 md:text-12\">\n                  Choose Access to Customize\n                </span>\n              </div>\n            ) : (\n              <div className={``}>\n                <h1 className=\"text-2xl md:text-3xl font-semibold text-center my-2 text-gray-900\">\n                  Customize User Access\n                </h1>\n                <div className=\"flex justify-center mb-3\">\n                  <h2 className=\"text-2xl font-semibold text-center text-gray-600 flex flex-row items-center\">\n                    <BiRightArrowAlt className=\"w-7 h-7\" />\n                    {this.props.currentAccess.task}\n                  </h2>\n                </div>\n\n                <div className=\"flex flex-col px-2 md:px-1\">\n                  <form\n                    className=\"flex flex-col items-center\"\n                    onSubmit={(e) => this.handleCustomization(e)}\n                  >\n                    <div className=\"inline-flex gap-2 items-center\">\n                      <SiAddthis className=\"w-7 h-7 text-gray-600\" />\n                      <div className=\"flex flex-col\">\n                        <h3 className=\"font-semibold text-xl\">Create</h3>\n                        <span className=\"text-gray-600 text-sm md:pr-1\">\n                          This permission gives the user the ability to create\n                        </span>\n                      </div>\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-checkbox h-7 w-7 text-teal-600\"\n                        onChange={() =>\n                          this.setCreatePermission(!this.state.createPermission)\n                        }\n                        checked={this.state.createPermission}\n                        disabled={this.state.loadindRequest}\n                      />\n                    </div>\n                    <div className=\"inline-flex gap-2 items-center\">\n                      <MdRemoveRedEye className=\"w-7 h-7 text-gray-600\" />\n                      <div className=\"flex flex-col\">\n                        <h3 className=\"font-semibold text-xl\">View</h3>\n                        <span className=\"text-gray-600 text-sm md:pr-4\">\n                          This permission gives the user the ability to view\n                        </span>\n                      </div>\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-checkbox h-7 w-7 text-teal-600\"\n                        onChange={() =>\n                          this.setViewPermission(!this.state.viewPermission)\n                        }\n                        checked={this.state.viewPermission}\n                        disabled={this.state.loadindRequest}\n                      />\n                    </div>\n                    <div className=\"inline-flex gap-2 items-center\">\n                      <MdEdit className=\"w-7 h-7 text-gray-600\" />\n                      <div className=\"flex flex-col\">\n                        <h3 className=\"font-semibold text-xl\">Update</h3>\n                        <span className=\"text-gray-600 text-sm\">\n                          This permission gives the user the ability to update\n                        </span>\n                      </div>\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-checkbox h-7 w-7 text-teal-600\"\n                        onChange={() =>\n                          this.setUpdatePermission(!this.state.updatePermission)\n                        }\n                        checked={this.state.updatePermission}\n                        disabled={this.state.loadindRequest}\n                      />\n                    </div>\n                    <div className=\"inline-flex gap-2 items-center\">\n                      <MdDelete className=\"w-7 h-7 text-gray-600\" />\n                      <div className=\"flex flex-col\">\n                        <h3 className=\"font-semibold text-xl\">Delete</h3>\n                        <span className=\"text-gray-600 text-sm md:pr-1\">\n                          This permission gives the user the ability to delete\n                        </span>\n                      </div>\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-checkbox h-7 w-7 text-teal-600\"\n                        onChange={() =>\n                          this.setDeletePermission(!this.state.deletePermission)\n                        }\n                        checked={this.state.deletePermission}\n                        disabled={this.state.loadindRequest}\n                      />\n                    </div>\n\n                    <div className=\"flex items-center justify-center w-full py-3 gap-2\">\n                      {/* <button className=\"btn btn-secondary bg-red-600\">Back</button> */}\n                      <button\n                        className=\"btn bg-gray-500 hover:bg-gray-700 focus:outline-none text-white\"\n                        disabled={this.state.loadindRequest}\n                        onClick={() => {\n                          this.props.setCurrentAccess(null);\n                          this.setCreatePermission(false);\n                          this.setViewPermission(false);\n                          this.setUpdatePermission(false);\n                          this.setDeletePermission(false);\n                        }}\n                      >\n                        Cancel\n                      </button>\n                      <button\n                        className=\"btn btn-blue\"\n                        disabled={this.state.loadindRequest}\n                      >\n                        {!this.state.loadindRequest\n                          ? \"Save Change\"\n                          : \"Processing..\"}\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport const UserAccess = React.memo(\n  connect(null, {\n    customizeUserAccess,\n    PushPopupAlert,\n  })(_UserAccess)\n);\n","import React, { Fragment, useState } from \"react\";\nimport { AiFillDashboard } from \"react-icons/ai\";\nimport { MdBrightness1 } from \"react-icons/md\";\nimport { SessionPlanInterface } from \"../../../interfaces\";\nimport { education_category } from \"../../../interfaces/education_category\";\nimport { reportTitleType } from \"../../Admin/ExamReport/ExamReport\";\nimport ExamReportModals, {\n  ModalForTypes,\n} from \"../../Admin/ExamReport/ExamReportModals\";\n\ntype ExamReportTitleProps = {\n  // FOR SETTINGS ==============================\n  loading: boolean;\n\n  // FOR REPORT TYPE =========================\n  reportTitle: reportTitleType;\n  setReportTitle: (title: reportTitleType) => void;\n\n  //   FOR EDUCATION CATEGORY & PERIOD =====================\n  education_categories: education_category[] | null;\n  loadingEducation: boolean;\n  thisEducation: education_category | null;\n  setThisEducation: (value: education_category | null) => void;\n\n  //   FOR APPLICATION SESSION ============================\n  thisPeriod: string;\n  setThisPeriod: (value: string) => void;\n  application_sessions: SessionPlanInterface[];\n  onPeriodChange?: (period_id: string) => void;\n};\n\nconst ExamDashboardTitle: React.FC<ExamReportTitleProps> = (props) => {\n  const [changeReport, setChangeReport] = useState<boolean>(false);\n\n  return (\n    <Fragment>\n      <div className=\"mt-3 rounded flex flex-col md:flex-row md:justify-between items-start\">\n        <div className=\"flex flex-row items-center gap-3 mb-2\">\n          <AiFillDashboard className=\"text-7xl text-blue-600 hidden md:block\" />\n          <div className=\"flex flex-col\">\n            <span className=\"text-blue-600 text-3xl font-bold\">\n              Exam Dashboard\n            </span>\n            {false && (\n              <div\n                onClick={() => setChangeReport(true)}\n                className=\"flex flex-row gap-2\"\n              >\n                <span className=\"text-gray-500\">Report type: </span>\n                <span className=\"text-gray-600 font-bold underline cursor-pointer\">\n                  {props.reportTitle}\n                </span>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* FILTER SECTION PERIOD && EDUCATION */}\n        <section className=\"w-full md:w-auto my-2 md:my-0\">\n          {/* EDUCATION CATEGORY sections */}\n          <section className=\"flex items-start md:items-center justify-start md:justify-end gap-2\">\n            {props.education_categories &&\n              props.education_categories.length > 0 &&\n              props.education_categories.map((education, index) => (\n                <section\n                  key={education.education_institute_id + index}\n                  className={`w-auto ${\n                    props.loading || props.loadingEducation\n                      ? \"cursor-not-allowed\"\n                      : \"cursor-pointer\"\n                  } ${\n                    props.thisEducation &&\n                    education.education_institute_id ===\n                      props.thisEducation.education_institute_id\n                      ? \"bg-blue-500 text-white font-bold\"\n                      : \"bg-gray-100 text-blue-800\"\n                  } mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn`}\n                  onClick={() =>\n                    !props.loading &&\n                    !props.loadingEducation &&\n                    props.setThisEducation(education)\n                  }\n                >\n                  <section className=\"flex-1\">\n                    <MdBrightness1 className=\"inline-block mr-1 text-xs\" />\n                    <span>{education.education_category_title}</span>\n                  </section>\n\n                  {/* {count > 0 ? ( */}\n                  {/* <span className=\"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full\">\n              12\n            </span> */}\n                  {/* ) : null} */}\n                </section>\n              ))}\n          </section>\n          {/* end EDUCATION CATEGORY sections */}\n          <div>\n            <select\n              className={`bg-white text-gray-600 border border-gray-400 rounded p-2 focus:outline-none ${\n                props.loading && \"cursor-wait\"\n              }`}\n              value={props.thisPeriod}\n              disabled={props.loading || props.loadingEducation}\n              onChange={(e) => {\n                props.setThisPeriod(e.target.value);\n                props.onPeriodChange && props.onPeriodChange(e.target.value);\n                // props.setLoadingApplications(true);\n                // props.GetApplicationPerPeriod(\n                //   e.target.value,\n                //   (status: boolean, msg: string) => {\n                //     props.setLoadingApplications(status);\n                //     if (!status && msg.length > 0) {\n                //       props.PushPopupAlert({\n                //         title: errorToText(msg),\n                //         theme: PopupAlertTheme.danger,\n                //       });\n                //     }\n                //   }\n                // );\n              }}\n            >\n              {props.application_sessions.map((session, item) => (\n                <option key={session._id + item} value={session._id}>\n                  {session.session_plan_name}\n                </option>\n              ))}\n            </select>\n          </div>\n        </section>\n        {/* END FILTER SECTION PERIOD && EDUCATION */}\n      </div>\n      {/* CHANGE REPORT TYPE MODAL CONTROLLERS ============================================ */}\n      {changeReport && (\n        <ExamReportModals\n          modalFor={ModalForTypes.title}\n          modalState={changeReport}\n          reportTitle={props.reportTitle}\n          changeModalState={setChangeReport}\n          setReportTitle={props.setReportTitle}\n        />\n      )}\n      {/* END CHANGE REPORT TYPE MODAL CONTROLLERS ============================================ */}\n    </Fragment>\n  );\n};\n\nexport default React.memo(ExamDashboardTitle);\n","import React, { Component } from \"react\";\nimport { examPreparationStateInterface } from \"../../Admin/ExamReport/ExamList\";\nimport VBarChart from \"../ChartComponents/VBarChart\";\n\ntype ExamPreparationChartProps = {\n  examPreparationProgress: {\n    all: examPreparationStateInterface[];\n    finished: examPreparationStateInterface[];\n    remaining: examPreparationStateInterface[];\n  };\n};\n\nclass ExamPreparationChart extends Component<ExamPreparationChartProps> {\n  render() {\n    return (\n      <div className=\"my-3 max-w-full bg-white\">\n        <div className=\"flex items-center justify-between px-3\">\n          <span className=\"text-gray-600 font-semibold text-xl py-4 px-0\">\n            Exams preparation chart\n          </span>\n        </div>\n\n        <div className=\"mb-4 pb-2 px-3\">\n          <VBarChart\n            labels={[\"Remaining exams\", \"Prepared exams\"]}\n            categoriesLabel={[\"Exam preparation progress\"]}\n            dataLabels={true}\n            yaxisText=\"Exam preparation progress\"\n            tooltipText=\"(Exams)\"\n            series={[\n              {\n                name: \"Remaining exams\",\n                data: [this.props.examPreparationProgress.remaining.length],\n              },\n              {\n                name: \"Prepared exams\",\n                data: [this.props.examPreparationProgress.finished.length],\n              },\n            ]}\n            colors={[\"#4b5563\", \"#469769\"]}\n            defaultBar={{\n              borderRadius: 4,\n              horizontal: false,\n              columnWidth: \"95%\",\n              endingShape: \"rounded\",\n            }}\n            chartHeight={550}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default React.memo(ExamPreparationChart);\n","import React, { Component } from \"react\";\nimport { examProgressStateInterface } from \"../../Admin/ExamReport/DoneExamList\";\nimport VBarChart from \"../ChartComponents/VBarChart\";\n\ntype ExamProgressChartProps = {\n  progressData: {\n    all: examProgressStateInterface[];\n    finished: examProgressStateInterface[];\n    remaining: examProgressStateInterface[];\n  };\n};\n\nclass ExamProgressChart extends Component<ExamProgressChartProps> {\n  render() {\n    return (\n      <div className=\"my-3 max-w-full bg-white\">\n        <div className=\"flex items-center justify-between px-3\">\n          <span className=\"text-gray-600 font-semibold text-xl py-4 px-0\">\n            Examination progress chart\n          </span>\n        </div>\n\n        <div className=\"mb-4 pb-2 px-3\">\n          <VBarChart\n            labels={[\"Remaining exams\", \"Prepared exams\"]}\n            categoriesLabel={[\"Examinations progress\"]}\n            dataLabels={true}\n            yaxisText=\"Examination progress\"\n            tooltipText=\"(Exams)\"\n            series={[\n              {\n                name: \"Remaining exams\",\n                data: [this.props.progressData.remaining.length],\n              },\n              {\n                name: \"Done exams\",\n                data: [this.props.progressData.finished.length],\n              },\n            ]}\n            colors={[\"#4b5563\", \"#469769\"]}\n            defaultBar={{\n              borderRadius: 4,\n              horizontal: false,\n              columnWidth: \"95%\",\n              endingShape: \"rounded\",\n            }}\n            chartHeight={550}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default React.memo(ExamProgressChart);\n","import React, { Component } from \"react\";\nimport { candidatePerfomranceStateInterface } from \"../../Admin/ExamReport/CandidatePerformance\";\nimport VBarChart from \"../ChartComponents/VBarChart\";\n\ntype ExamPerformanceChartProps = {\n  examPerformance: {\n    all: candidatePerfomranceStateInterface[];\n    pass: candidatePerfomranceStateInterface[];\n    failed: candidatePerfomranceStateInterface[];\n    active: candidatePerfomranceStateInterface[];\n  };\n};\n\nclass ExamPerformanceChart extends Component<ExamPerformanceChartProps> {\n  render() {\n    return (\n      <div className=\"my-3 max-w-full bg-white\">\n        <div className=\"flex items-center justify-between px-3\">\n          <span className=\"text-gray-600 font-semibold text-xl py-4 px-0\">\n            Examination performance chart\n          </span>\n        </div>\n\n        <div className=\"mb-4 pb-2 px-3\">\n          <VBarChart\n            labels={[\"Pass applicant(s)\", \"Failed applicant(s)\"]}\n            categoriesLabel={[\"Exam preparation progress\"]}\n            dataLabels={true}\n            yaxisText=\"Exam performance\"\n            tooltipText=\"(Applicants)\"\n            series={[\n              {\n                name: \"Pass applicant(s)\",\n                data: [this.props.examPerformance.pass.length],\n              },\n              {\n                name: \"Failed applicant(s)\",\n                data: [this.props.examPerformance.failed.length],\n              },\n            ]}\n            colors={[\"#469769\", \"#d97724\"]}\n            defaultBar={{\n              borderRadius: 4,\n              horizontal: false,\n              columnWidth: \"95%\",\n              endingShape: \"rounded\",\n            }}\n            chartHeight={550}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default React.memo(ExamPerformanceChart);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  schoolLevelsStoreInterface,\n  loadCourses,\n  loadExamsList,\n  loadEducationCategories,\n  loadDoneExam,\n  loadSchoolLevels,\n  loadPerfomranceExam,\n  loadCandidatesExamPerformance,\n  PushPopupAlert,\n  FilterParamType,\n} from \"../../../actions\";\nimport { StoreState } from \"../../../reducers\";\nimport { GetAllSessionPlans } from \"../../../actions/session\";\nimport {\n  SessionPlanInterface,\n  course,\n  education_category,\n  ExamDoneAndRemainingByPeriodInterface,\n  school_level,\n} from \"../../../interfaces\";\nimport { ExamItemResponse } from \"../../../interfaces/prepare_exam\";\nimport { ExamReportReducerType } from \"../../../reducers/exam_report\";\nimport moment from \"moment\";\nimport { PopupAlertData } from \"../../../components/Alert/Popup\";\nimport {\n  candidatePerfomranceStateInterface,\n  FC_reportCandidatePerformanceData,\n  FC_reportCandidatePerformanceDataFilter,\n} from \"../../Admin/ExamReport/CandidatePerformance\";\nimport {\n  examProgressStateInterface,\n  FC_reportDoneExamList,\n} from \"../../Admin/ExamReport/DoneExamList\";\nimport {\n  examPreparationStateInterface,\n  FC_reportExamList,\n} from \"../../Admin/ExamReport/ExamList\";\nimport { reportTitleType } from \"../../Admin/ExamReport/ExamReport\";\nimport { PopupAlertTheme } from \"../../../interfaces/popupAlert\";\nimport NoSession from \"../../SessionSettings/NoSession\";\nimport ExamDashboardTitle from \"./ExamDashboardTitle\";\nimport ExamDashboardLabels from \"./ExamDashboardLabels\";\nimport { FaBookOpen } from \"react-icons/fa\";\nimport PieChart from \"../ChartComponents/PieChart\";\nimport ExamPreparationChart from \"./ExamPreparationChart\";\nimport ExamProgressChart from \"./ExamProgressChart\";\nimport ExamPerformanceChart from \"./ExamPerformanceChart\";\n\nexport const getLevelbyId = (\n  school_levels: school_level[] | null,\n  level_id: string\n): school_level | undefined => {\n  if (school_levels) {\n    return school_levels.find((item) => item.school_level_id === level_id);\n  }\n};\n\nexport const loadCoursesByInstitute = (\n  thisEducation: education_category | null,\n  courseList: course[] | null,\n  school_levels: school_level[] | null\n): course[] | null => {\n  let result: course[] | null = [],\n    defaultValue: boolean = false;\n  if (courseList && thisEducation) {\n    for (const key in courseList) {\n      if (Object.prototype.hasOwnProperty.call(courseList, key)) {\n        if (courseList[key].school_levels.length > 0) {\n          courseList[key].school_levels.forEach((level) => {\n            let levelDetail = getLevelbyId(school_levels, level);\n            if (\n              levelDetail &&\n              (levelDetail.education_institute.includes(\n                thisEducation.education_institute_id\n              ) ||\n                levelDetail.education_institute.length <= 0)\n            ) {\n              result && result.push(courseList![key]);\n            }\n          });\n        } else {\n          result && result.push(courseList![key]);\n        }\n      }\n    }\n  }\n  // RETURN DEFAULT VALUES ====================\n  else {\n    defaultValue = true;\n  }\n  return defaultValue ? courseList : result;\n};\n\nexport const loadExaminationProgress = (\n  DoneExamList: ExamDoneAndRemainingByPeriodInterface[] | null,\n  examsList: ExamItemResponse[] | null,\n  thisEducation: education_category | null,\n  courseList: course[] | null,\n  school_levels: school_level[] | null,\n  period: string\n): {\n  all: examProgressStateInterface[];\n  finished: examProgressStateInterface[];\n  remaining: examProgressStateInterface[];\n} | null => {\n  let allData: examProgressStateInterface[] = [],\n    completeExams: examProgressStateInterface[] = [],\n    remainingExams: examProgressStateInterface[] = [],\n    dataFound: boolean = false;\n  if (\n    DoneExamList &&\n    loadCoursesByInstitute(thisEducation, courseList, school_levels) &&\n    examsList\n  ) {\n    dataFound = true;\n    allData = FC_reportDoneExamList(\n      loadCoursesByInstitute(thisEducation, courseList, school_levels)!,\n      examsList,\n      DoneExamList\n    ).filter((item) => item.exam && item.exam.period === period);\n    completeExams = allData.filter(\n      (item) => item.preparation_status.toLocaleLowerCase() === \"done\"\n    );\n    remainingExams = allData.filter(\n      (item) => item.preparation_status.toLocaleLowerCase() === \"active\"\n    );\n  }\n  console.log(\"====================================\");\n  console.log({ loadExaminationProgress: DoneExamList });\n  console.log(\"====================================\");\n  return dataFound\n    ? { all: allData, finished: completeExams, remaining: remainingExams }\n    : null;\n};\n\nexport const loadExamPreparationProgress = (\n  dataList: examPreparationStateInterface[]\n): {\n  all: examPreparationStateInterface[];\n  finished: examPreparationStateInterface[];\n  remaining: examPreparationStateInterface[];\n} => {\n  let allData: examPreparationStateInterface[] = dataList,\n    preparedExams: examPreparationStateInterface[] = dataList.filter(\n      (item) => item.preparation_status === \"prepared\"\n    ),\n    remainingExams: examPreparationStateInterface[] = dataList.filter(\n      (item) => item.preparation_status === \"not prepared\"\n    );\n  return { all: allData, finished: preparedExams, remaining: remainingExams };\n};\n\nexport const isDatePast = (dateParam: string): boolean => {\n  const date = moment().format(\"DD-MM-YYYY\");\n  const todayDate = moment(date, \"DD-MM-YYYY\");\n  const pastDate = moment(dateParam, \"DD-MM-YYYY\");\n\n  const dDiff = todayDate.diff(pastDate);\n\n  if (dDiff > 0) {\n    return false;\n  } else {\n    return true;\n  }\n};\n\nexport const loadExamAttendance = (\n  applicantList: candidatePerfomranceStateInterface[],\n  period: string\n): {\n  all: candidatePerfomranceStateInterface[];\n  pass: candidatePerfomranceStateInterface[];\n  failed: candidatePerfomranceStateInterface[];\n  active: candidatePerfomranceStateInterface[];\n} => {\n  return {\n    all: applicantList.filter((item) => item.exam.period === period),\n    pass: applicantList.filter(\n      (item) =>\n        item.exam.period === period &&\n        (item.exam_stastus !== \"Editing\" || isDatePast(item.exam.exam_date)) &&\n        item.user_total_marks >= 50\n    ),\n    failed: applicantList.filter(\n      (item) =>\n        item.exam.period === period &&\n        (item.exam_stastus !== \"Editing\" || isDatePast(item.exam.exam_date)) &&\n        item.user_total_marks < 50\n    ),\n    active: applicantList.filter(\n      (item) =>\n        item.exam.period === period &&\n        item.exam_stastus === \"Editing\" &&\n        !isDatePast(item.exam.exam_date)\n    ),\n  };\n};\n\ninterface ExamDashboardProps {\n  auth: Auth;\n  application_sessions: SessionPlanInterface[] | null;\n  schoolLevels: schoolLevelsStoreInterface;\n  courses: course[] | null;\n  examsList: ExamItemResponse[] | null;\n  adminExamReport: ExamReportReducerType;\n  GetAllSessionPlans: Function;\n  loadEducationCategories: (callback: (loading: boolean) => void) => void;\n  loadCourses: (callback: (loading: boolean) => void) => void;\n  loadExamsList: (callback: (loading: boolean) => void) => void;\n  loadDoneExam: (period_id: string, callback: Function) => void;\n  loadPerfomranceExam: (period_id: string, callback: Function) => void;\n  loadSchoolLevels: (callback: (loading: boolean) => void) => void;\n  loadCandidatesExamPerformance: (\n    dataBody: FilterParamType | null,\n    callback: Function\n  ) => void;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n}\n\ninterface ExamDashboardStates {\n  loading: boolean;\n  loadingCourses: boolean;\n  loadingExams: boolean;\n  loadingDoneExam: boolean;\n  loadingCandidatesExamPerformance: boolean;\n  loadingExamPerformance: boolean;\n  loadingSettings: boolean;\n  changingPeriod: boolean;\n  reportTitle: reportTitleType;\n  thisEducation: education_category | null;\n  thisPeriod: string;\n}\n\nclass _ExamDashboard extends Component<\n  ExamDashboardProps,\n  ExamDashboardStates\n> {\n  constructor(props: ExamDashboardProps) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      loadingCourses: true,\n      loadingExams: true,\n      loadingDoneExam: true,\n      loadingCandidatesExamPerformance: true,\n      loadingExamPerformance: true,\n      loadingSettings: true,\n      changingPeriod: false,\n      reportTitle: reportTitleType.EXAM_PREPARATION,\n      thisEducation: null,\n      thisPeriod: \"\",\n    };\n  }\n\n  setLoading = (value: boolean) => {\n    this.setState({ loading: value });\n  };\n\n  setLoadingCourses = (value: boolean) => {\n    this.setState({ loadingCourses: value });\n  };\n\n  setLoadingExams = (value: boolean) => {\n    this.setState({ loadingExams: value });\n  };\n\n  setLoadingDoneExam = (value: boolean) => {\n    this.setState({ loadingDoneExam: value });\n  };\n\n  setLoadingCandidatesExamPerformance = (value: boolean) => {\n    this.setState({ loadingCandidatesExamPerformance: value });\n  };\n\n  setLoadingExamPerformance = (value: boolean) => {\n    this.setState({ loadingExamPerformance: value });\n  };\n\n  setLoadingSettings = (value: boolean) => {\n    this.setState({ loadingSettings: value });\n  };\n\n  setChangingPeriod = (value: boolean) => {\n    this.setState({ changingPeriod: value });\n  };\n\n  setReportTitle = (value: reportTitleType) => {\n    this.setState({ reportTitle: value });\n  };\n\n  setThisEducation = (value: education_category | null) => {\n    this.setState({ thisEducation: value });\n  };\n\n  setThisPeriod = (value: string) => {\n    this.setState({ thisPeriod: value });\n  };\n\n  loadByPeriods = (session: SessionPlanInterface) => {\n    this.props.loadDoneExam(session._id, (status: boolean, msg: string) => {\n      if (!status) {\n        if (msg.length > 0) {\n          this.props.PushPopupAlert({\n            title: msg,\n            theme: PopupAlertTheme.danger,\n          });\n        }\n        this.setLoadingDoneExam(false);\n      }\n    });\n\n    // --------------------------------------------\n    this.props.loadPerfomranceExam(\n      session._id,\n      (status: boolean, msg: string) => {\n        if (!status) {\n          if (msg.length > 0) {\n            this.props.PushPopupAlert({\n              title: msg,\n              theme: PopupAlertTheme.danger,\n            });\n          }\n          this.setLoadingExamPerformance(false);\n        }\n      }\n    );\n  };\n\n  componentDidMount = () => {\n    if (\n      this.props.schoolLevels.education_categories === null ||\n      this.props.schoolLevels.education_categories.length === 0\n    ) {\n      this.props.loadEducationCategories(this.setLoadingSettings);\n    } else if (\n      this.props.schoolLevels.education_categories.length > 0 &&\n      !this.state.thisEducation\n    ) {\n      this.setThisEducation(this.props.schoolLevels.education_categories[0]);\n      this.setLoadingSettings(false);\n    }\n\n    if (this.props.application_sessions === null) {\n      this.props.GetAllSessionPlans(\n        (status: boolean, msg: string, sessions?: SessionPlanInterface[]) => {\n          this.setLoadingSettings(status);\n          this.setLoading(status);\n          if (!status && msg.length) {\n            this.props.PushPopupAlert({\n              title: msg,\n              theme: PopupAlertTheme.danger,\n            });\n          }\n          if (!status && sessions && sessions.length > 0) {\n            let active_period: SessionPlanInterface | undefined;\n            active_period = sessions.find((item) => item.is_active);\n            if (active_period) {\n              this.setThisPeriod(active_period._id);\n            } else {\n              this.setThisPeriod(sessions[sessions.length - 1]._id);\n            }\n          }\n        }\n      );\n    } else if (\n      this.props.application_sessions.length > 0 &&\n      !this.state.thisPeriod.length\n    ) {\n      let active_period: SessionPlanInterface | undefined;\n      active_period = this.props.application_sessions.find(\n        (item) => item.is_active\n      );\n      if (active_period) {\n        this.setThisPeriod(active_period._id);\n        this.loadByPeriods(active_period);\n      } else {\n        this.setThisPeriod(\n          this.props.application_sessions[\n            this.props.application_sessions.length - 1\n          ]._id\n        );\n        this.loadByPeriods(\n          this.props.application_sessions[\n            this.props.application_sessions.length - 1\n          ]\n        );\n      }\n      this.setLoadingSettings(false);\n      this.setLoading(false);\n    }\n\n    if (\n      this.props.schoolLevels.school_levels === null ||\n      this.props.schoolLevels.school_levels.length <= 0\n    ) {\n      this.props.loadSchoolLevels(this.setLoadingSettings);\n    } else {\n      this.setLoadingSettings(false);\n    }\n\n    // if (this.state.thisPeriod.length > 0 && this.state.loadingDoneExam) {\n    //   this.props.loadDoneExam(\n    //     this.state.thisPeriod,\n    //     (status: boolean, msg: string) => {\n    //       if (!status) {\n    //         if (msg.length > 0) {\n    //           this.props.PushPopupAlert({\n    //             title: msg,\n    //             theme: PopupAlertTheme.danger,\n    //           });\n    //         }\n    //         this.setLoadingDoneExam(false);\n    //       }\n    //     }\n    //   );\n    // }\n    // if (this.state.thisPeriod.length > 0 && this.state.loadingExamPerformance) {\n    //   this.props.loadPerfomranceExam(\n    //     this.state.thisPeriod,\n    //     (status: boolean, msg: string) => {\n    //       if (!status) {\n    //         if (msg.length > 0) {\n    //           this.props.PushPopupAlert({\n    //             title: msg,\n    //             theme: PopupAlertTheme.danger,\n    //           });\n    //         }\n    //         this.setLoadingExamPerformance(false);\n    //       }\n    //     }\n    //   );\n    // }\n\n    if (\n      this.props.adminExamReport.CandidatesExamPerformance === null ||\n      (this.props.adminExamReport.CandidatesExamPerformance.length === 0 &&\n        this.state.loadingCandidatesExamPerformance)\n    ) {\n      this.props.loadCandidatesExamPerformance(\n        null,\n        (status: boolean, msg: string) => {\n          if (!status) {\n            if (msg.length > 0) {\n              this.props.PushPopupAlert({\n                title: msg,\n                theme: PopupAlertTheme.danger,\n              });\n            }\n            this.setLoadingCandidatesExamPerformance(false);\n          }\n        }\n      );\n    }\n  };\n\n  onPeriodChange = (period_id: string) => {\n    this.setLoadingDoneExam(true);\n    this.setLoadingExamPerformance(true);\n    this.setChangingPeriod(true);\n    this.props.loadDoneExam(period_id, (status: boolean, msg: string) => {\n      if (!status) {\n        let action: boolean = true;\n        if (msg.length > 0 && action) {\n          this.props.PushPopupAlert({\n            title: msg,\n            theme: PopupAlertTheme.danger,\n          });\n          action = false;\n        }\n        this.setLoadingDoneExam(false);\n      }\n    });\n\n    this.props.loadPerfomranceExam(\n      period_id,\n      (status: boolean, msg: string) => {\n        if (!status) {\n          let action: boolean = true;\n          if (msg.length > 0 && action) {\n            this.props.PushPopupAlert({\n              title: msg,\n              theme: PopupAlertTheme.danger,\n            });\n            action = false;\n          }\n          this.setLoadingExamPerformance(false);\n        }\n      }\n    );\n\n    if (!this.state.loadingDoneExam && !this.state.loadingExamPerformance) {\n      this.setChangingPeriod(false);\n    }\n  };\n\n  render() {\n    if (this.state.loading || this.props.application_sessions === null) {\n      return (\n        <div className=\"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse\">\n          Loading Data...\n        </div>\n      );\n    }\n\n    if (this.props.application_sessions.length === 0) {\n      return <NoSession />;\n    }\n\n    return (\n      <div>\n        {/* HEADER TITLE */}\n        <ExamDashboardTitle\n          reportTitle={this.state.reportTitle}\n          setReportTitle={this.setReportTitle}\n          loading={this.state.changingPeriod}\n          education_categories={this.props.schoolLevels.education_categories}\n          loadingEducation={false}\n          thisEducation={this.state.thisEducation}\n          setThisEducation={this.setThisEducation}\n          thisPeriod={this.state.thisPeriod}\n          setThisPeriod={this.setThisPeriod}\n          application_sessions={this.props.application_sessions}\n          onPeriodChange={this.onPeriodChange}\n        />\n        {/* END HEADER TITLE */}\n\n        {/* ----------------------------------------------------------- */}\n\n        {/* EXAMS PREPARATION PROGRESS LABELS ======================================= */}\n        {this.props.examsList &&\n          loadCoursesByInstitute(\n            this.state.thisEducation,\n            this.props.courses,\n            this.props.schoolLevels.school_levels\n          ) && (\n            <section className=\"my-2\">\n              <div className=\"text-2xl font-semibold text-gray-600\">\n                Exams preparation status\n              </div>\n              <ExamDashboardLabels\n                dataLabels={[\n                  {\n                    title: \"Total exams\",\n                    icon: FaBookOpen,\n                    iconColor: \"blue\",\n                    count: loadExamPreparationProgress(\n                      FC_reportExamList(\n                        loadCoursesByInstitute(\n                          this.state.thisEducation,\n                          this.props.courses,\n                          this.props.schoolLevels.school_levels\n                        )!,\n                        this.props.examsList,\n                        this.state.thisPeriod\n                      )\n                    ).all.length,\n                  },\n                  {\n                    title: \"Prepared exams\",\n                    icon: FaBookOpen,\n                    iconColor: \"green\",\n                    count: loadExamPreparationProgress(\n                      FC_reportExamList(\n                        loadCoursesByInstitute(\n                          this.state.thisEducation,\n                          this.props.courses,\n                          this.props.schoolLevels.school_levels\n                        )!,\n                        this.props.examsList,\n                        this.state.thisPeriod\n                      )\n                    ).finished.length,\n                  },\n                  {\n                    title: \"Remaining exams\",\n                    icon: FaBookOpen,\n                    iconColor: \"gray\",\n                    count: loadExamPreparationProgress(\n                      FC_reportExamList(\n                        loadCoursesByInstitute(\n                          this.state.thisEducation,\n                          this.props.courses,\n                          this.props.schoolLevels.school_levels\n                        )!,\n                        this.props.examsList,\n                        this.state.thisPeriod\n                      )\n                    ).remaining.length,\n                  },\n                ]}\n                labelsOnRow={5}\n              >\n                <div className=\"flex justify-center\">\n                  <PieChart\n                    options={{\n                      labels: [\"Prepared\", \"Remaining\"],\n                      legend: {\n                        show: false,\n                        position: \"bottom\",\n                        horizontalAlign: \"center\",\n                        fontSize: \"16px\",\n                        itemMargin: {\n                          horizontal: 3,\n                          vertical: 0,\n                        },\n                      },\n                      plotOptions: {\n                        pie: {\n                          donut: {\n                            labels: {\n                              show: true,\n                              name: {\n                                show: true,\n                                fontSize: \"16px\",\n                                //   fontFamily: \"Rubik\",\n                                color: \"#2564eb\",\n                                offsetY: -10,\n                              },\n                              value: {\n                                show: true,\n                                fontSize: \"20px\",\n                                fontFamily: \"Helvetica, Arial, sans-serif\",\n                                color: \"#2564eb\",\n                                offsetY: 10,\n                                formatter: function (val) {\n                                  return val;\n                                },\n                              },\n                              total: {\n                                show: true,\n                                label: \"Total\",\n                                color: \"#2564eb\",\n                                formatter: function (w) {\n                                  return w.globals.seriesTotals.reduce(\n                                    (a: number, b: number) => {\n                                      return a + b;\n                                    },\n                                    0\n                                  );\n                                },\n                              },\n                            },\n                          },\n                        },\n                      },\n                      colors: [\"#469769\", \"#4b5563\"],\n                    }}\n                    series={[\n                      loadExamPreparationProgress(\n                        FC_reportExamList(\n                          loadCoursesByInstitute(\n                            this.state.thisEducation,\n                            this.props.courses,\n                            this.props.schoolLevels.school_levels\n                          )!,\n                          this.props.examsList,\n                          this.state.thisPeriod\n                        )\n                      ).finished.length,\n                      loadExamPreparationProgress(\n                        FC_reportExamList(\n                          loadCoursesByInstitute(\n                            this.state.thisEducation,\n                            this.props.courses,\n                            this.props.schoolLevels.school_levels\n                          )!,\n                          this.props.examsList,\n                          this.state.thisPeriod\n                        )\n                      ).remaining.length,\n                    ]}\n                    width={210}\n                  />\n                </div>\n              </ExamDashboardLabels>\n            </section>\n          )}\n        {/* EXAMS PREPARATION PROGRESS LABELS ======================================= */}\n\n        {/* ===================================================================================== */}\n\n        {/* EXAMS PROGRESS LABELS ======================================= */}\n        {loadExaminationProgress(\n          this.props.adminExamReport.DoneExam,\n          this.props.examsList,\n          this.state.thisEducation,\n          this.props.courses,\n          this.props.schoolLevels.school_levels,\n          this.state.thisPeriod\n        ) && (\n          <section className=\"my-2\">\n            <div className=\"text-2xl font-semibold text-gray-600\">\n              Examination progress status\n            </div>\n            <ExamDashboardLabels\n              dataLabels={[\n                {\n                  title: \"Total exams\",\n                  icon: FaBookOpen,\n                  iconColor: \"blue\",\n                  count: loadExaminationProgress(\n                    this.props.adminExamReport.DoneExam,\n                    this.props.examsList,\n                    this.state.thisEducation,\n                    this.props.courses,\n                    this.props.schoolLevels.school_levels,\n                    this.state.thisPeriod\n                  )!.all.length,\n                },\n                {\n                  title: \"Done exams\",\n                  icon: FaBookOpen,\n                  iconColor: \"green\",\n                  count: loadExaminationProgress(\n                    this.props.adminExamReport.DoneExam,\n                    this.props.examsList,\n                    this.state.thisEducation,\n                    this.props.courses,\n                    this.props.schoolLevels.school_levels,\n                    this.state.thisPeriod\n                  )!.finished.length,\n                },\n                {\n                  title: \"Remaining exams\",\n                  icon: FaBookOpen,\n                  iconColor: \"gray\",\n                  count: loadExaminationProgress(\n                    this.props.adminExamReport.DoneExam,\n                    this.props.examsList,\n                    this.state.thisEducation,\n                    this.props.courses,\n                    this.props.schoolLevels.school_levels,\n                    this.state.thisPeriod\n                  )!.remaining.length,\n                },\n              ]}\n              labelsOnRow={5}\n            >\n              <div className=\"flex justify-center\">\n                <PieChart\n                  options={{\n                    labels: [\"Done\", \"Remaining\"],\n                    legend: {\n                      show: false,\n                      position: \"bottom\",\n                      horizontalAlign: \"center\",\n                      fontSize: \"16px\",\n                      itemMargin: {\n                        horizontal: 3,\n                        vertical: 0,\n                      },\n                    },\n                    plotOptions: {\n                      pie: {\n                        donut: {\n                          labels: {\n                            show: true,\n                            name: {\n                              show: true,\n                              fontSize: \"16px\",\n                              //   fontFamily: \"Rubik\",\n                              color: \"#2564eb\",\n                              offsetY: -10,\n                            },\n                            value: {\n                              show: true,\n                              fontSize: \"20px\",\n                              fontFamily: \"Helvetica, Arial, sans-serif\",\n                              color: \"#2564eb\",\n                              offsetY: 10,\n                              formatter: function (val) {\n                                return val;\n                              },\n                            },\n                            total: {\n                              show: true,\n                              label: \"Total\",\n                              color: \"#2564eb\",\n                              formatter: function (w) {\n                                return w.globals.seriesTotals.reduce(\n                                  (a: number, b: number) => {\n                                    return a + b;\n                                  },\n                                  0\n                                );\n                              },\n                            },\n                          },\n                        },\n                      },\n                    },\n                    colors: [\"#469769\", \"#4b5563\"],\n                  }}\n                  series={[\n                    loadExaminationProgress(\n                      this.props.adminExamReport.DoneExam,\n                      this.props.examsList,\n                      this.state.thisEducation,\n                      this.props.courses,\n                      this.props.schoolLevels.school_levels,\n                      this.state.thisPeriod\n                    )!.finished.length,\n                    loadExaminationProgress(\n                      this.props.adminExamReport.DoneExam,\n                      this.props.examsList,\n                      this.state.thisEducation,\n                      this.props.courses,\n                      this.props.schoolLevels.school_levels,\n                      this.state.thisPeriod\n                    )!.remaining.length,\n                  ]}\n                  width={210}\n                />\n              </div>\n            </ExamDashboardLabels>\n          </section>\n        )}\n        {/* EXAMS PROGRESS LABELS ======================================= */}\n\n        {/* ===================================================================================== */}\n\n        {/* EXAMS PERFORMANCE LABELS ======================================= */}\n        {this.props.adminExamReport.CandidatesExamPerformance &&\n          loadCoursesByInstitute(\n            this.state.thisEducation,\n            this.props.courses,\n            this.props.schoolLevels.school_levels\n          ) && (\n            <section className=\"my-2\">\n              <div className=\"text-2xl font-semibold text-gray-600\">\n                Examination performance status\n              </div>\n              <ExamDashboardLabels\n                dataLabels={[\n                  {\n                    title: \"Total attendance\",\n                    icon: FaBookOpen,\n                    iconColor: \"blue\",\n                    count: loadExamAttendance(\n                      FC_reportCandidatePerformanceDataFilter(\n                        FC_reportCandidatePerformanceData(\n                          loadCoursesByInstitute(\n                            this.state.thisEducation,\n                            this.props.courses,\n                            this.props.schoolLevels.school_levels\n                          )!,\n                          this.props.adminExamReport.CandidatesExamPerformance,\n                          \"all\"\n                        ),\n                        \"all\"\n                      ),\n                      this.state.thisPeriod\n                    ).all.length,\n                  },\n                  {\n                    title: \"Pass applicant(s)\",\n                    icon: FaBookOpen,\n                    iconColor: \"green\",\n                    count: loadExamAttendance(\n                      FC_reportCandidatePerformanceDataFilter(\n                        FC_reportCandidatePerformanceData(\n                          loadCoursesByInstitute(\n                            this.state.thisEducation,\n                            this.props.courses,\n                            this.props.schoolLevels.school_levels\n                          )!,\n                          this.props.adminExamReport.CandidatesExamPerformance,\n                          \"all\"\n                        ),\n                        \"all\"\n                      ),\n                      this.state.thisPeriod\n                    ).pass.length,\n                  },\n                  {\n                    title: \"Failed applicant(s)\",\n                    icon: FaBookOpen,\n                    iconColor: \"yellow\",\n                    count: loadExamAttendance(\n                      FC_reportCandidatePerformanceDataFilter(\n                        FC_reportCandidatePerformanceData(\n                          loadCoursesByInstitute(\n                            this.state.thisEducation,\n                            this.props.courses,\n                            this.props.schoolLevels.school_levels\n                          )!,\n                          this.props.adminExamReport.CandidatesExamPerformance,\n                          \"all\"\n                        ),\n                        \"all\"\n                      ),\n                      this.state.thisPeriod\n                    ).failed.length,\n                  },\n                  // {\n                  //   title: \"Doing exam\",\n                  //   icon: FaBookOpen,\n                  //   iconColor: \"gray\",\n                  //   count: loadExamAttendance(\n                  //     FC_reportCandidatePerformanceDataFilter(\n                  //       FC_reportCandidatePerformanceData(\n                  //         loadCoursesByInstitute(\n                  //           thisEducation,\n                  //           props.courses,\n                  //           props.schoolLevels.school_levels\n                  //         )!,\n                  //         props.adminExamReport.CandidatesExamPerformance,\n                  //         \"all\"\n                  //       ),\n                  //       \"all\"\n                  //     ),\n                  //     thisPeriod\n                  //   ).active.length,\n                  // },\n                ]}\n                labelsOnRow={5}\n              >\n                <div className=\"flex justify-center\">\n                  <PieChart\n                    options={{\n                      labels: [\"Pass\", \"Failed\"],\n                      // labels: [\"Pass\", \"Failed\", \"Doing Exam\"],\n                      legend: {\n                        show: false,\n                        position: \"bottom\",\n                        horizontalAlign: \"center\",\n                        fontSize: \"16px\",\n                        itemMargin: {\n                          horizontal: 3,\n                          vertical: 0,\n                        },\n                      },\n                      plotOptions: {\n                        pie: {\n                          donut: {\n                            labels: {\n                              show: true,\n                              name: {\n                                show: true,\n                                fontSize: \"16px\",\n                                //   fontFamily: \"Rubik\",\n                                color: \"#2564eb\",\n                                offsetY: -10,\n                              },\n                              value: {\n                                show: true,\n                                fontSize: \"20px\",\n                                fontFamily: \"Helvetica, Arial, sans-serif\",\n                                color: \"#2564eb\",\n                                offsetY: 10,\n                                formatter: function (val) {\n                                  return val;\n                                },\n                              },\n                              total: {\n                                show: true,\n                                label: \"Total\",\n                                color: \"#2564eb\",\n                                formatter: function (w) {\n                                  return w.globals.seriesTotals.reduce(\n                                    (a: number, b: number) => {\n                                      return a + b;\n                                    },\n                                    0\n                                  );\n                                },\n                              },\n                            },\n                          },\n                        },\n                      },\n                      colors: [\"#469769\", \"#d97724\"],\n                      // colors: [\"#469769\", \"#d97724\", \"#4b5563\"],\n                    }}\n                    series={[\n                      loadExamAttendance(\n                        FC_reportCandidatePerformanceDataFilter(\n                          FC_reportCandidatePerformanceData(\n                            loadCoursesByInstitute(\n                              this.state.thisEducation,\n                              this.props.courses,\n                              this.props.schoolLevels.school_levels\n                            )!,\n                            this.props.adminExamReport\n                              .CandidatesExamPerformance,\n                            \"all\"\n                          ),\n                          \"all\"\n                        ),\n                        this.state.thisPeriod\n                      ).pass.length,\n                      loadExamAttendance(\n                        FC_reportCandidatePerformanceDataFilter(\n                          FC_reportCandidatePerformanceData(\n                            loadCoursesByInstitute(\n                              this.state.thisEducation,\n                              this.props.courses,\n                              this.props.schoolLevels.school_levels\n                            )!,\n                            this.props.adminExamReport\n                              .CandidatesExamPerformance,\n                            \"all\"\n                          ),\n                          \"all\"\n                        ),\n                        this.state.thisPeriod\n                      ).failed.length,\n                      // loadExamAttendance(\n                      //   FC_reportCandidatePerformanceDataFilter(\n                      //     FC_reportCandidatePerformanceData(\n                      //       loadCoursesByInstitute(\n                      //         thisEducation,\n                      //         props.courses,\n                      //         props.schoolLevels.school_levels\n                      //       )!,\n                      //       props.adminExamReport.CandidatesExamPerformance,\n                      //       \"all\"\n                      //     ),\n                      //     \"all\"\n                      //   ),\n                      //   thisPeriod\n                      // ).active.length,\n                    ]}\n                    width={210}\n                  />\n                </div>\n              </ExamDashboardLabels>\n            </section>\n          )}\n        {/* EXAMS PERFORMANCE LABELS ======================================= */}\n\n        {/* ------------------------------------------------------------------------------- */}\n\n        {/* ===================================================================================== */}\n\n        {/* EXAMS PREPARATION PROGRESS CHART ======================================= */}\n        {this.props.examsList &&\n          loadCoursesByInstitute(\n            this.state.thisEducation,\n            this.props.courses,\n            this.props.schoolLevels.school_levels\n          ) && (\n            <ExamPreparationChart\n              examPreparationProgress={loadExamPreparationProgress(\n                FC_reportExamList(\n                  loadCoursesByInstitute(\n                    this.state.thisEducation,\n                    this.props.courses,\n                    this.props.schoolLevels.school_levels\n                  )!,\n                  this.props.examsList,\n                  this.state.thisPeriod\n                )\n              )}\n            />\n          )}\n        {/* EXAMS PREPARATION PROGRESS CHART ======================================= */}\n\n        {/* ===================================================================================== */}\n\n        {/* EXAMINATION PROGRESS CHART ======================================= */}\n        {loadExaminationProgress(\n          this.props.adminExamReport.DoneExam,\n          this.props.examsList,\n          this.state.thisEducation,\n          this.props.courses,\n          this.props.schoolLevels.school_levels,\n          this.state.thisPeriod\n        ) && (\n          <ExamProgressChart\n            progressData={\n              loadExaminationProgress(\n                this.props.adminExamReport.DoneExam,\n                this.props.examsList,\n                this.state.thisEducation,\n                this.props.courses,\n                this.props.schoolLevels.school_levels,\n                this.state.thisPeriod\n              )!\n            }\n          />\n        )}\n        {/* EXAMINATION PROGRESS CHART ======================================= */}\n\n        {/* ===================================================================================== */}\n\n        {/* EXAM PERFORMANCE ON COUNTRY CHART ======================================= */}\n        {this.props.adminExamReport.CandidatesExamPerformance &&\n          loadCoursesByInstitute(\n            this.state.thisEducation,\n            this.props.courses,\n            this.props.schoolLevels.school_levels\n          ) && (\n            <ExamPerformanceChart\n              examPerformance={loadExamAttendance(\n                FC_reportCandidatePerformanceDataFilter(\n                  FC_reportCandidatePerformanceData(\n                    loadCoursesByInstitute(\n                      this.state.thisEducation,\n                      this.props.courses,\n                      this.props.schoolLevels.school_levels\n                    )!,\n                    this.props.adminExamReport.CandidatesExamPerformance,\n                    \"all\"\n                  ),\n                  \"all\"\n                ),\n                this.state.thisPeriod\n              )}\n            />\n          )}\n        {/* END EXAM PERFORMANCE ON COUNTRY CHART ======================================= */}\n\n        {/* ------------------------------------------------------------------------------- */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  sessionPlan,\n  schoolLevels,\n  course,\n  prepareExam,\n  adminExamReport,\n}: StoreState): {\n  auth: Auth;\n  application_sessions: SessionPlanInterface[] | null;\n  schoolLevels: schoolLevelsStoreInterface;\n  courses: course[] | null;\n  examsList: ExamItemResponse[] | null;\n  adminExamReport: ExamReportReducerType;\n} => {\n  return {\n    auth,\n    application_sessions: sessionPlan.allSessionPlans,\n    schoolLevels,\n    courses: course.courses,\n    examsList: prepareExam.examsList,\n    adminExamReport,\n  };\n};\n\nexport const ExamDashboard = connect(mapStateToProps, {\n  loadCourses,\n  loadExamsList,\n  loadEducationCategories,\n  loadDoneExam,\n  loadSchoolLevels,\n  loadPerfomranceExam,\n  loadCandidatesExamPerformance,\n  GetAllSessionPlans,\n  PushPopupAlert,\n})(_ExamDashboard);\n","import { UserByTypeInterfaceAPI } from \"./user_by_type\";\n\nexport interface centerReportInterface {\n  _id: string;\n  occupied: number;\n  isUsed: boolean;\n  center_id: string;\n  room_type: string;\n  room_number: number;\n  capacity: number;\n  center_name: string;\n  district_id: string;\n  district_name: string;\n  course_in_room: courseInRoomInterface[];\n}\n\nexport interface centerReportInterface_NEW {\n  _id: string;\n  occupied: number;\n  isUsed: boolean;\n  center_id: string;\n  room_type: string;\n  room_number: number;\n  capacity: number;\n  center_name: string;\n  district_id: string;\n  district_name: string;\n  invigilator: string;\n  course_in_room: courseInRoomInterface[];\n}\n\nexport interface courseInRoomInterface {\n  course_id: string;\n  course_name: string;\n  course_code: string;\n  occupied: number;\n}\n\nexport interface CenterToPrintInterface {\n  no: number;\n  district_name: string;\n  center_name: string;\n  room_number: number;\n  room_type: string;\n  room_capacity: number | \"-\";\n  room_occupation: number;\n  invigilator: string;\n}\n\nexport enum centerReportContentKeyInterface {\n  district_name = \"district_name\",\n  center_name = \"center_name\",\n  room_number = \"room_number\",\n  room_type = \"room_type\",\n  room_capacity = \"room_capacity\",\n  room_occupation = \"room_occupation\",\n  invigilator = \"invigilator\",\n}\n\nexport interface centerReportContentInterface {\n  key: centerReportContentKeyInterface;\n  title: string;\n  status: boolean;\n}\n\nexport interface roomDistrictInterface {\n  district_id: string;\n  district_name: string;\n}\n\nexport const getDistrictInRoom = (\n  allData: centerReportInterface[]\n): roomDistrictInterface[] => {\n  let result: roomDistrictInterface[] = [],\n    ids: string[] = [];\n  for (const key in allData) {\n    if (Object.prototype.hasOwnProperty.call(allData, key)) {\n      if (!ids.includes(allData[key].district_id)) {\n        ids.push(allData[key].district_id);\n        result.push({\n          district_id: allData[key].district_id,\n          district_name: allData[key].district_name,\n        });\n      }\n    }\n  }\n\n  return result;\n};\n\nexport const getRoomOccupation = (thisRoom: centerReportInterface): number => {\n  let result: number = 0;\n  for (const key in thisRoom.course_in_room) {\n    if (Object.prototype.hasOwnProperty.call(thisRoom.course_in_room, key)) {\n      const element = thisRoom.course_in_room[key];\n      if (result < element.occupied) {\n        result = element.occupied;\n      }\n    }\n  }\n  return result;\n};\n\nexport const roomWithOccupation = (\n  allRoom: centerReportInterface[],\n  invigilators: UserByTypeInterfaceAPI[]\n): centerReportInterface_NEW[] => {\n  let result: centerReportInterface_NEW[] = [];\n  for (const key in allRoom) {\n    if (Object.prototype.hasOwnProperty.call(allRoom, key)) {\n      let data: centerReportInterface = allRoom[key];\n      data.occupied = getRoomOccupation(allRoom[key]);\n      const invigilator = invigilators.find(\n        (item) => item.roles_to_users.room_id === allRoom[key]._id\n      );\n      result.push({\n        _id: data._id,\n        occupied: data.occupied,\n        isUsed: data.isUsed,\n        center_id: data.center_id,\n        room_type: data.room_type,\n        room_number: data.room_number,\n        capacity: data.capacity,\n        center_name: data.center_name,\n        district_id: data.district_id,\n        district_name: data.district_name,\n        invigilator: invigilator\n          ? invigilator.user_info.fname + \" \" + invigilator.user_info.lname\n          : \"\",\n        course_in_room: data.course_in_room,\n      });\n    }\n  }\n  return result;\n};\n\nexport const center_report_data: centerReportInterface[] = [\n  {\n    _id: \"61af5367558d345d93dea4397a3\",\n    occupied: 0,\n    isUsed: true,\n    center_id: \"61af534c558dd93dea43979f\",\n    room_type: \"Default\",\n    room_number: 0,\n    capacity: 1000000,\n    center_name: \"Gasabo district center\",\n    district_id: \"61af5338558dd93dea43979b\",\n    district_name: \"Kicukiro\",\n    course_in_room: [],\n  },\n  {\n    _id: \"61af5367558dd93defea4397a6\",\n    occupied: 0,\n    isUsed: true,\n    center_id: \"61af534c558dd93dea43979f\",\n    room_type: \" physical room\",\n    room_number: 112,\n    capacity: 100,\n    center_name: \"Center A\",\n    district_id: \"61af5338558dd93dea43979b\",\n    district_name: \"Kicukiro\",\n    course_in_room: [\n      {\n        course_id: \"61546609eeda150485905a32\",\n        course_name: \"Civisme\",\n        course_code: \"C001\",\n        occupied: 12,\n      },\n      {\n        course_id: \"61546684eeda150485905a3d\",\n        course_name: \"IPTC 1\",\n        course_code: \"ipop\",\n        occupied: 21,\n      },\n      {\n        course_id: \"615465faeeda150485905a2e\",\n        course_name: \"ICT2 for Me\",\n        course_code: \"ICT\",\n        occupied: 100,\n      },\n      {\n        course_id: \"61546401eeda1504859059cc\",\n        course_name: \"ICT in Life\",\n        course_code: \"ICT001\",\n        occupied: 1,\n      },\n    ],\n  },\n  {\n    _id: \"61af536755835dd93defea4397a6\",\n    occupied: 0,\n    isUsed: true,\n    center_id: \"61af534c558dd93dea43979f\",\n    room_type: \" physical room\",\n    room_number: 112,\n    capacity: 120,\n    center_name: \"Gasabo district center\",\n    district_id: \"61af5338558dd93dea43979b\",\n    district_name: \"Kicukiro\",\n    course_in_room: [\n      {\n        course_id: \"61546609eeda150485905a32\",\n        course_name: \"Civisme\",\n        course_code: \"C001\",\n        occupied: 100,\n      },\n      {\n        course_id: \"61546684eeda150485905a3d\",\n        course_name: \"IPTC 1\",\n        course_code: \"ipop\",\n        occupied: 1,\n      },\n      {\n        course_id: \"615465faeeda150485905a2e\",\n        course_name: \"ICT2 for Me\",\n        course_code: \"ICT\",\n        occupied: 10,\n      },\n      {\n        course_id: \"61546401eeda1504859059cc\",\n        course_name: \"ICT in Life\",\n        course_code: \"ICT001\",\n        occupied: 1,\n      },\n    ],\n  },\n];\n","import React, { useState } from \"react\";\nimport { MdSearch } from \"react-icons/md\";\nimport { roomDistrictInterface } from \"../../../interfaces/center_report\";\nimport { capitalizeFirstLetter } from \"../../../shared/dataTest\";\nimport search from \"../../../utils/search\";\n\ntype RoleListProps = {\n  setChooseDistrict: (value: boolean) => void;\n  districtList: roomDistrictInterface[];\n  setSelectedDistrict: (data: roomDistrictInterface | \"all\") => void;\n  selectedDistrict: roomDistrictInterface | \"all\";\n  loadindRequest: boolean;\n  bgWhite?: boolean;\n  isModal?: boolean;\n};\n\nconst DistrictList: React.FC<RoleListProps> = (props) => {\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n  return (\n    <section\n      className={`${\n        props.isModal ? \"\" : \"border-2 rounded border-gray-400 shadow-md\"\n      }`}\n    >\n      {/* SEARCH PART */}\n      <div className=\"flex items-center w-full my-1\">\n        <MdSearch className=\"w-6 h-6 absolute ml-2\" />\n        <input\n          type=\"text\"\n          placeholder=\"Search\"\n          className={`focus:border-2 h-7 ml-1 pl-9 ${\n            props.isModal ? \"mr-1\" : \"mr-2\"\n          } bg-gray-100 focus:border-gray-700 w-full rounded`}\n          onChange={(e) => setSearchInput(e.target.value)}\n          value={searchInput}\n          disabled={props.districtList.length > 0 ? false : true}\n        />\n        {!props.isModal && (\n          <button\n            className=\"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none\"\n            type=\"button\"\n            onClick={() => {\n              props.setChooseDistrict(false);\n            }}\n          >\n            Close\n          </button>\n        )}\n      </div>\n      {/* END SEARCH PART ///////////////// */}\n\n      <div\n        className={`w-full h-52 mt-2 ${\n          props.isModal ? \"px-2\" : \"\"\n        } overflow-y-auto divide-y divide-gray-300 ${\n          props.bgWhite && \"bg-white\"\n        }`}\n      >\n        <section>\n          <div\n            className={`group flex items-center justify-between my-1 ${\n              props.selectedDistrict === \"all\"\n                ? \"cursor-default bg-blue-50 hover:bg-blue-100\"\n                : \"hover:bg-blue-100\"\n            }`}\n          >\n            <div\n              className={`p-1 w-full mr-2 ${\n                props.selectedDistrict === \"all\"\n                  ? \"cursor-default\"\n                  : \"cursor-pointer\"\n              }`}\n              onClick={() => {\n                props.setChooseDistrict(false);\n                !props.loadindRequest &&\n                  props.selectedDistrict !== \"all\" &&\n                  props.setSelectedDistrict(\"all\");\n              }}\n            >\n              <p className=\"text-sm font-medium text-black\">All district</p>\n            </div>\n            <button\n              type=\"button\"\n              className=\"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 p-1 mr-1 rounded text-sm\"\n            >\n              Choose\n            </button>\n          </div>\n        </section>\n        {search(props.districtList, searchInput).length > 0 ? (\n          search(props.districtList, searchInput).map((district, index) => (\n            <section key={index + district.district_id}>\n              <div className=\"group flex items-center justify-between my-1 hover:bg-gray-100\">\n                <div\n                  className=\"p-1 w-full mr-2 cursor-pointer\"\n                  onClick={() => {\n                    props.setChooseDistrict(false);\n                    !props.loadindRequest &&\n                      props.setSelectedDistrict(district);\n                  }}\n                >\n                  <p className=\"text-sm font-medium text-black\">\n                    {capitalizeFirstLetter(district.district_name)}\n                  </p>\n                </div>\n                <button\n                  type=\"button\"\n                  className=\"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 p-1 mr-1 rounded text-sm\"\n                >\n                  Choose\n                </button>\n              </div>\n            </section>\n          ))\n        ) : (\n          <div className=\"text-center p-3\">\n            <p className=\"text-base font-medium text-black\">\n              No district available\n            </p>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default React.memo(DistrictList);\n"],"sourceRoot":""}