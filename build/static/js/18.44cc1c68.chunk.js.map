{"version":3,"sources":["interfaces/candidatesInterfaces.ts","interfaces/events.ts","interfaces/position.ts","containers/QuestionBank/AddQuestion/UploadQuestion/UploadedQuestions/UploadedQuestions.tsx","containers/QuestionBank/AddQuestion/UploadQuestion/Upload.tsx","containers/QuestionBank/AddQuestion/UploadQuestion/UploadQuestion.tsx"],"names":["DocumentStatus","Events","ExamEvents","ExamEventTypes","validateDocCategory","requirement","userDocuments","undefined","find","item","category_id","category","user_detail_category_id","validateDocSubcategory","result","position_requirement","length","i","filterData","category_subcategory_data","category_subcategory_Data_id","_id","required","push","category_subcat_id","user_detail_subcategory_id","subcategory","validateDocSubcategoryOptional","returnValidatePosition","requirements","documents","status","UploadedQuestions","connect","auth","course","schoolLevels","questionBank","prepareExam","loadCourses","loadSchoolLevels","loadEducationCategories","setSelectedEducationCategory","setSelectedSchoolLevel","setUploadedQuestions","setSelectedCourse","addExamQuestion","IncrementQuestionBank","props","useState","loading","setLoading","redirect","setRedirect","setExam","setSetExam","useEffect","questionTypes","loadQuestionTypes","to","className","uploadedQuestions","insertedData","selectedCourse","course_id","courses","itm","course_name","onClick","selected","returnToCourse","insertedCount","window","confirm","selected_course","questions","x","addToExam","selectedQuestion","clearUploadedQuestionsStore","Loading","map","selectQuestion","id","type","title","question","description","Upload","loadQuestionBank","setQuestions","formError","setFormError","upload_percentage","set_upload_percentage","showQuestionEdit","setShowQuestionEdit","validateExcelFile","file","a","element","msg","submitQuestion","e","preventDefault","size","setUploadingStatus","formData","FormData","append","axios","post","API","QBank","onUploadProgress","progressEvent","number_percentage","loaded","total","res","data","console","log","response","errors","message","course_code","onSubmit","onChange","target","files","name","Math","round","Alert","theme","AlertInterface","danger","style","width","EditQuestion","questionsList","unSelectQuestion","_UploadQuestion","setState","setSearchLevel","educationCategory","schoolLevel","searchLevel","showFilter","setSchoolLevelFilterFn","filteredCourses","searched","filtered","filter","school_levels","itm1","school_level_id","item2","uploadingStatus","componentDidMount","state","searchCourseInput","this","Courses","selected_course_id","Modal","backDrop","Themes","default","close","backDropClose","widthSizeClass","ModalSize","medium","displayClose","padding","SchoolLevelsFilter","educationCategories","education_categories","Component","UploadQuestion"],"mappings":"0dAqJYA,ECrJAC,EAOAC,EAmCAC,EC+BCC,EAAsB,SACjCC,EACAC,GACI,IAAD,EACH,YAIqBC,KAHnB,UAAAD,EAAcE,MACZ,SAACC,GAAD,OACEA,EAAKC,cAAgBL,EAAYM,SAASC,kCAF9C,eAGGF,aAEIL,EAAYM,SAASC,wBAErB,MAyBEC,EAAyB,SACpCR,EACAC,GAEA,IAAIQ,EAIE,GACN,GAAIT,EAAYU,qBAAqBC,OAAS,EAAG,CAAC,IAAD,WACtCC,GADsC,MAEzCC,EAAU,UAAGZ,EAAcE,MAAK,SAACC,GAAD,OAAUA,EAAKU,2BACjDV,EAAKU,0BAA0BC,+BAAiCf,EAAYU,qBAAqBE,GAAGI,cADxF,aAAG,EAEZF,+BACeZ,IAAfW,GAA2C,OAAfA,IACqB,IAAjDb,EAAYU,qBAAqBE,GAAGK,UAEvCR,EAAOS,KAAK,CACVC,mBAAoBnB,EAAYU,qBAAqBE,GAAGI,IACxDX,YAAaL,EAAYM,SAASC,wBAClCa,2BACEpB,EAAYqB,YAAYD,8BAXhC,IAAK,IAAIR,KAAKZ,EAAYU,qBAAuB,EAAxCE,GAgBX,OAAOH,GAIIa,EAAiC,SAC5CtB,EACAC,GAEA,IAAIQ,EAIE,GACN,GAAIT,EAAYU,qBAAqBC,OAAS,EAAG,CAAC,IAAD,WACtCC,GADsC,MAEzCC,EAAU,UAAGZ,EAAcE,MAAK,SAACC,GAAD,OAAUA,EAAKU,2BACjDV,EAAKU,0BAA0BC,+BAAiCf,EAAYU,qBAAqBE,GAAGI,cADxF,aAAG,EAEZF,+BACeZ,IAAfW,GAA2C,OAAfA,IACqB,IAAjDb,EAAYU,qBAAqBE,GAAGK,UAEvCR,EAAOS,KAAK,CACVC,mBAAoBnB,EAAYU,qBAAqBE,GAAGI,IACxDX,YAAaL,EAAYM,SAASC,wBAClCa,2BACEpB,EAAYqB,YAAYD,8BAXhC,IAAK,IAAIR,KAAKZ,EAAYU,qBAAuB,EAAxCE,GAgBX,OAAOH,GAGIc,EAAyB,SACpCC,EACAC,GAEA,IAAIC,GAAS,EACb,IAAK,IAAId,KAAKY,EACwC,IAAhDA,EAAaZ,GAAGF,qBAAqBC,OAEjB,OAApBa,EAAaZ,IACC,OAAda,GACoD,OAApD1B,EAAoByB,EAAaZ,GAAIa,SACevB,IAApDH,EAAoByB,EAAaZ,GAAIa,KAErCC,GAAS,GAGuD,IAA9DlB,EAAuBgB,EAAaZ,GAAIa,GAAWd,SACrDe,GAAS,GAIf,OAAOA,G,kBFzCG/B,K,kBAAAA,E,oBAAAA,E,qBAAAA,M,cCrJAC,K,gCAAAA,E,sCAAAA,E,sBAAAA,E,uCAAAA,M,cAOAC,K,sCAAAA,E,sCAAAA,E,oCAAAA,E,oCAAAA,E,sCAAAA,E,sCAAAA,E,sDAAAA,E,sDAAAA,E,8CAAAA,E,8CAAAA,E,oDAAAA,E,oDAAAA,E,4DAAAA,E,4DAAAA,E,oDAAAA,E,oDAAAA,E,oDAAAA,E,oDAAAA,E,kDAAAA,E,kDAAAA,E,gDAAAA,E,iDAAAA,M,cAmCAC,K,4BAAAA,E,wCAAAA,M,+TEsHG6B,EAZWC,aAVF,SAAC,GAOvB,MAAO,CAAEC,KADmL,EAL5LA,KAMqBC,OADuK,EAJ5LA,OAKqCC,aADuJ,EAH5LA,aAIiEC,aAD2H,EAF5LA,aAG6FC,YAD+F,EAD5LA,eAKiD,CACjDC,iBACAC,sBACAC,6BACAC,kCACAC,4BACAC,0BACAC,uBACAC,qBACAC,2BATwBd,EA5GC,SAACe,GAAmC,IAAD,IAC5D,EAA8BC,oBAAkB,GAAhD,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAgCF,oBAAkB,GAAlD,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA8BJ,oBAAkB,GAAhD,mBAAOK,EAAP,KAAgBC,EAAhB,KAiDA,OALAC,qBAAU,WACkC,OAAtCR,EAAMS,cAAcA,eAAuE,IAA7CT,EAAMS,cAAcA,cAAczC,QAClFgC,EAAMU,kBAAkBP,KAEzB,CAACH,KACY,IAAZM,EACK,cAAC,IAAD,CAAUK,GAAG,mBAEL,IAAbP,EACK,cAAC,IAAD,CAAUO,GAAG,mBAGpB,qBAAKC,UAAU,iGAAf,SAC4C,OAAzCZ,EAAMX,aAAawB,mBAA8Bb,EAAMX,aAAawB,kBAAkBC,aAAa,GAAG3B,SAAWa,EAAMe,eAAeC,UACvI,sBAAKJ,UAAU,qFAAf,sCAC2B,uBACzB,qBAAKA,UAAU,sIAAf,SAA+K,OAAzBZ,EAAMb,OAAO8B,UAAb,UAAiCjB,EAAMb,OAAO8B,QAAQzD,MAAK,SAAA0D,GAAG,aAAIA,EAAIF,aAAJ,UAAkBhB,EAAMX,aAAawB,yBAArC,aAAkB,EAAsCC,aAAa,GAAG3B,kBAA1I,aAAiC,EAAkHgC,eACzS,qBAAKC,QAAS,kBA5DG,WACrB,GAA6C,OAAzCpB,EAAMX,aAAawB,mBAA8Bb,EAAMX,aAAawB,kBAAkBC,aAAa,GAAG3B,SAAWa,EAAMe,eAAeC,WACpIhB,EAAMb,OAAO8B,QAAS,CACxB,IAAII,EAAWrB,EAAMb,OAAO8B,QAAQzD,MAAK,SAAA0D,GAAG,OAAIlB,EAAMX,aAAawB,mBAAqBK,EAAIF,YAAchB,EAAMX,aAAawB,kBAAkBC,aAAa,GAAG3B,eAC9I5B,IAAb8D,GACFrB,EAAMH,kBAAkBwB,IAuDNC,IAAkBV,UAAU,4CAAhD,6BAEF,qCACA,sBAAKA,UAAU,6CAAf,UACE,sBAAKA,UAAU,wEAAf,UACE,cAAC,IAAD,CAAkBA,UAAU,aAC5B,uEAAgCZ,EAAMX,aAAawB,yBAAnD,aAAgC,EAAsCU,cAAtE,UAEF,sBAAKX,UAAU,mCAAf,UACE,qBAAKQ,QAAS,kBAhDJ,WAChB,IAAmE,IAA/DI,OAAOC,QAAQ,6CAC4B,OAAzCzB,EAAMX,aAAawB,mBAA8Bb,EAAMX,aAAawB,kBAAkBC,aAAa9C,OAAS,GACzE,OAAjCgC,EAAMb,OAAOuC,gBAA0B,CAAC,IAAD,gBAC3B1B,EAAMV,YAAYqC,WADS,IACzC,2BAA2C,CAAC,IAAnCC,EAAkC,QACzC5B,EAAMF,gBAAgB8B,IAFiB,8BAIzC,GAA2C,IAAvC5B,EAAMV,YAAYqC,UAAU3D,OAAc,CAAC,IAAD,gBAC5BgC,EAAMX,aAAawB,kBAAkBC,cADT,IAC5C,2BAAmE,CAAC,IAA3DI,EAA0D,QACjElB,EAAMF,gBAAgBoB,GACtBlB,EAAMD,sBAAsBmB,IAHc,+BAMmB,IAA7DlB,EAAMX,aAAawB,kBAAkBC,aAAa9C,SACpDgC,EAAMJ,qBAAqB,MAC3BW,GAAW,KAiCOsB,IAAajB,UAAU,6GAA3C,6BACA,qBAAKQ,QAAS,kBA5Dc,WAClC,GAAII,OAAOC,QAAQ,2CAA4C,CAC7D,GAA6C,OAAzCzB,EAAMX,aAAawB,mBAA8Bb,EAAMX,aAAawB,kBAAkBC,aAAa9C,OAAS,EAAG,CAAC,IAAD,gBACpFgC,EAAMX,aAAawB,kBAAkBC,cAD+C,IACjH,2BAAgF,CAAC,IAAxEgB,EAAuE,QAC9E9B,EAAMD,sBAAsB+B,IAFmF,8BAIjH9B,EAAMJ,qBAAqB,MAE7BS,GAAY,IAoDY0B,IAA+BnB,UAAU,iDAA7D,6BAGS,IAAZV,EAAmB,cAAC8B,EAAA,EAAD,IACqB,OAAzChC,EAAMX,aAAawB,kBAA6B,0DAA2F,OAAtDb,EAAMX,aAAawB,kBAAkBC,aAAwB,cAACkB,EAAA,EAAD,IACrF,IAA7DhC,EAAMX,aAAawB,kBAAkBC,aAAa9C,OAAe,yDACjEgC,EAAMX,aAAawB,kBAAkBC,aAAamB,KAAI,SAACxE,EAAMQ,GAAP,aACpD,qBAAKmD,QAAS,kBAAMpB,EAAMkC,eAAezE,IAAkBmD,UAAU,yMAArE,SACE,sBAAKA,UAAU,mCAAf,UACE,qBAAKA,UAAU,oGAAf,SAAoH3C,EAAI,IACxH,sBAAK2C,UAAU,yBAAf,UACE,sBAAMA,UAAU,wCAAhB,SAAyDZ,EAAMS,cAAcA,gBAApB,UAAqCT,EAAMS,cAAcA,cAAcjD,MAAK,SAAA0D,GAAG,OAAIA,EAAIiB,IAAMjB,EAAIiB,KAAO1E,EAAK2E,eAA7G,aAAqC,EAA+EC,SAC7K,sBAAMzB,UAAU,YAAhB,SAA6BnD,EAAK6E,SAAS,GAAGD,QAC9C,sBAAMzB,UAAU,mBAAhB,SAAoCnD,EAAK6E,SAAS,GAAGC,qBANNtE,EAAI,c,SCiHlDuE,EAXAvD,aAVS,SAAC,GAOvB,MAAO,CAAEC,KADsL,EAL/LA,KAMqBC,OAD0K,EAJ/LA,OAKqCC,aAD0J,EAH/LA,aAIiEC,aAD8H,EAF/LA,aAG6FoB,cADkG,EAD/LA,iBAKsC,CACtClB,iBACAC,sBACAC,6BACAC,kCACAC,4BACAC,0BACAc,uBACA+B,uBARaxD,EAtLC,SAACe,GAA4B,IAAD,EAC1C,EAAkCC,mBAAsB,MAAxD,mBAAO0B,EAAP,KAAkBe,EAAlB,KACA,EAAkCzC,mBAAoC,MAAtE,mBAAO0C,EAAP,KAAkBC,EAAlB,KACA,EAA8B3C,oBAAkB,GAAhD,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAmDF,mBAAiB,GAApE,mBAAO4C,EAAP,KAA0BC,EAA1B,KACA,EAAgD7C,mBAAyE,MAAzH,mBAAO8C,EAAP,KAAyBC,EAAzB,KAEMC,EAAiB,uCAAG,WAAOC,GAAP,SAAAC,EAAA,yDACN,sEAAdD,EAAKd,MAA8F,6BAAdc,EAAKd,MAAqD,aAAdc,EAAKd,KADlH,yCAEfQ,EAAa,CAClBQ,QAAS,YACTC,IAAK,wDAJe,gCAOf,MAPe,2CAAH,sDAWjBC,EAAc,uCAAG,WAAOC,GAAP,iBAAAJ,EAAA,yDACrBI,EAAEC,iBAEFZ,EAAa,MACK,OAAdjB,EAJiB,yCAKZiB,EAAa,CAClBQ,QAAS,YACTC,IAAK,0BAPY,UASS,IAAnB1B,EAAU8B,KATA,0CAUZb,EAAa,CAClBQ,QAAS,YACTC,IAAK,6CAZY,WAcS,sEAAnB1B,EAAUS,MAAmG,6BAAnBT,EAAUS,MAA0D,aAAnBT,EAAUS,KAd3I,0CAeZQ,EAAa,CAClBQ,QAAS,YACTC,IAAK,wDAjBY,eAoBnBlD,GAAW,GACXH,EAAM0D,oBAAmB,GArBN,WAuBXC,EAAW,IAAIC,UACZC,OAAO,SAAU7D,EAAMe,eAAeC,WAC/C2C,EAASE,OAAO,OAAQlC,GAzBP,UA0BCmC,IAAMC,KAAN,UAAcC,IAAIC,MAAlB,aAAoCN,EAAU,CAC9DO,iBAAkB,SAACC,GACjB,IAAIC,IAAqB,OAACD,QAAD,IAACA,OAAD,EAACA,EAAeE,SAAUF,EAAcG,MAAS,IAC1ExB,EAAsBsB,MA7BT,QAgCE,OANbG,EA1BW,QAgCTxF,QACNiB,EAAMJ,qBAAqB2E,EAAIC,MAEjCC,QAAQC,IAAI,cAAeH,GAnCV,mDAqCjBE,QAAQC,IAAI,QAAZ,sBACI,KAAMC,UACJ,KAAMA,SAASH,MACb,KAAMG,SAASH,KAAKI,QACtBhC,EAAa,CACXQ,QAAS,YACTC,IAAK,KAAMsB,SAASH,KAAKI,OAAO,GAAGC,UA3C1B,QAiDnB1E,GAAW,GACXH,EAAM0D,oBAAmB,GAlDN,2DAAH,sDA4EpB,OARAlD,qBAAU,WAC6B,OAAjCR,EAAMX,aAAasC,WACgB,OAAjC3B,EAAMb,OAAOuC,iBACf1B,EAAMyC,iBAAiBzC,EAAMb,OAAOuC,gBAAgBV,UAAWb,KAGlE,CAACH,IAGF,cAAC,WAAD,UAC4C,OAAzCA,EAAMX,aAAawB,kBACpB,sBAAKD,UAAU,OAAf,UACE,sBAAKA,UAAU,iHAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,sBAAMA,UAAU,2CAAhB,SAA6F,OAAjCZ,EAAMb,OAAOuC,iBAA4B1B,EAAMb,OAAOuC,gBAAgBP,cAClI,uBAAMP,UAAU,2CAAhB,0BAAyEZ,EAAMb,OAAOuC,iBAAmB1B,EAAMb,OAAOuC,gBAAgBoD,kBAExI,qBAAKlE,UAAU,qFAAf,kCAEF,uBAAMmE,SAAUzB,EAAhB,UACE,qBAAK1C,UAAS,OAAd,SACE,wBAAOA,UAAS,6GAAmH,IAAZV,EAAmB,iEAAmE,0FAA7M,UACE,cAAC,IAAD,CAAiBU,UAAU,aAC3B,sBAAMA,UAAU,gCAAhB,UAA6D,IAAZV,EAAmB,0BAA4B,4BACnF,IAAZA,GACD,uBAAO8E,SAAU,SAACzB,GAChBX,EAAa,MACTW,EAAE0B,OAAOC,OAAS3B,EAAE0B,OAAOC,MAAMlH,OAAS,IAAiB,IAAZkC,IAC/CwC,EAAaa,EAAE0B,OAAOC,MAAM,IAC5BjC,EAAkBM,EAAE0B,OAAOC,MAAM,MAEpC9C,KAAK,OAAOxB,UAAU,gBAGd,OAAde,GACD,sBAAKf,UAAU,uGAAf,UACE,sBAAKA,UAAU,mCAAf,UACE,cAAC,IAAD,CAAYA,UAAU,2BACtB,sBAAKA,UAAU,gBAAf,UACE,uBAAMA,UAAU,mCAAhB,mBAA0De,EAAUwD,QACpE,uBAAMvE,UAAU,iCAAhB,wBAA6De,EAAUS,QACvE,uBAAMxB,UAAU,wBAAhB,mBAA+CwE,KAAKC,MAAM1D,EAAU8B,KAAK,MAAzE,iBAGS,IAAZvD,GAAqB,qBAAKkB,QAAS,WAAOsB,EAAa,MAAOE,EAAa,OAAQhC,UAAU,2FAAxE,uBAET,OAAd+B,GAA4C,cAAtBA,EAAUS,SACjC,qBAAKhC,QAAS,kBAAMwB,EAAa,OAAOhC,UAAU,OAAlD,SACE,cAAC0E,EAAA,EAAD,CACEjD,MAAM,UACNE,YAAaI,EAAUU,IACvBkC,MAAOC,IAAeC,YAGb,IAAZvF,GAAkC,OAAdyB,GACrB,qBAAKf,UAAU,sCAAf,SACE,sBAAKA,UAAU,uJAAuJ8E,MAAO,CAACC,MAAM,GAAD,OAAK9C,EAAL,MAAnL,UACE,sBAAMjC,UAAU,SAAhB,uCACA,iCAAOiC,EAAP,aAGS,IAAZ3C,EAAmB,qBAAKU,UAAU,OAAf,SAAsB,cAACoB,EAAA,EAAD,MAC1C,sBAAKpB,UAAU,kDAAf,UACE,qBAAKQ,QAAS,kBAAMpB,EAAMH,kBAAkB,OAAOe,UAAU,iCAA7D,kBACA,wBAAQwB,KAAK,SAASxB,UAAU,4CAAhC,qCAIe,OAArBmC,IAAyD,IAA5BA,EAAiBhE,QAAiD,OAA9BgE,EAAiBT,WAAlF,UAAuGtC,EAAMX,aAAawB,yBAA1H,aAAuG,EAAsCC,cAC7I,cAAC8E,EAAA,EAAD,CACE9D,iBAAkBiB,EAAiBT,SACnCuD,cAAe7F,EAAMX,aAAawB,kBAAkBC,aACpDgF,iBA/EmB,WACvB9C,EAAoB,CAClBjE,QAAQ,EACRuD,SAAU,UA8EV,cAAC,EAAD,CACEvB,eAAgBf,EAAMe,eACtBmB,eA1FiB,SAACI,GACtBU,EAAoB,CAClBjE,QAAQ,EACRuD,SAAUA,KAwFR7B,cAAeT,EAAMS,cACrBC,kBAAmBV,EAAMU,yB,QCzJ3BqF,E,kDACJ,WAAY/F,GAA6B,IAAD,8BACxC,cAAMA,IAWNG,WAAa,SAACpB,GACZ,EAAKiH,SAAS,CAAE9F,QAASnB,KAba,EAgBxCkH,eAAiB,SACfC,EACAC,GAEA,EAAKH,SAAS,CACZI,YAAa,CACXF,kBAAmBA,EACnBC,YAAaA,KAGbD,GACF,EAAKlG,MAAMN,6BAA6BwG,GAEtCC,IACF,EAAKnG,MAAML,uBAAuBwG,GAClC,EAAKH,SAAS,CAAEK,YAAY,MA/BQ,EAmCxCC,uBAAyB,SAACvH,GACxB,EAAKiH,SAAS,CAAEK,WAAYtH,KApCU,EAuCxCwH,gBAAkB,SAACtF,EAAmBuF,GACpC,IAAIC,EAAqBxF,EA4BzB,OA3BiB,OAAbuF,IAC2B,OAAzBA,EAASL,YACXM,EAAWxF,EAAQyF,QAAO,SAACxF,GACzB,GAAIA,EAAIyF,cAAcnJ,MAAK,SAAAoJ,GAAI,aAAIA,KAAI,UAAKJ,EAASL,mBAAd,aAAK,EAAsBU,oBAAkB,CAClF,IADkF,EAC9E9H,GAAS,EADqE,cAEhEmC,EAAIyF,eAF4D,2BAEzEG,EAFyE,SAGhF,UAAIN,EAASN,yBAAb,aAAI,EAA4BS,cAAcnJ,MAAK,SAAAS,GAAC,OAAIA,IAAM6I,QAC5D/H,GAAS,IAFb,2BAAsC,IAF4C,8BAOlF,OAAkB,IAAXA,EAAkBmC,EAAM,KAE/B,OAAO,QAG6B,OAA/BsF,EAASN,oBAClBO,EAAWxF,EAAQyF,QAAO,SAACxF,GACzB,IADiC,EAC7BnC,GAAS,EADoB,cAEfmC,EAAIyF,eAFW,2BAExBG,EAFwB,SAG/B,UAAIN,EAASN,yBAAb,aAAI,EAA4BS,cAAcnJ,MAAK,SAAAS,GAAC,OAAIA,IAAM6I,QAC5D/H,GAAS,IAFb,2BAAsC,IAFL,8BAOjC,OAAkB,IAAXA,EAAkBmC,EAAM,UAI9BuF,GApE+B,EAuExC/C,mBAAqB,SAAC3E,GACpB,EAAKiH,SAAS,CAAEe,gBAAiBhI,KAxEK,EA2ExCiI,kBAAoB,WACgB,OAA9B,EAAKhH,MAAMb,OAAO8B,SAAyD,IAArC,EAAKjB,MAAMb,OAAO8B,QAAQjD,QAClE,EAAKgC,MAAMT,YAAY,EAAKY,aA1EhC,EAAK8G,MAAQ,CACT/G,SAAS,EACTkG,YAAa,KACbC,YAAY,EACZU,iBAAiB,EACjBG,kBAAmB,IARiB,E,0CAiFxC,WAAU,IAAD,OACP,OACE,eAAC,WAAD,WACE,sBAAKtG,UAAU,GAAf,UACE,sBAAKA,UAAU,kDAAf,UACE,sBAAKA,UAAU,mCAAf,UACE,cAAC,IAAD,CAAiBA,UAAU,2BAC3B,sBAAKA,UAAU,gBAAf,UACE,sBAAMA,UAAU,wCAAhB,8BACA,qBAAKA,UAAU,gBAAf,SACyC,OAAtCuG,KAAKnH,MAAMb,OAAOuC,gBACnB,sBAAKd,UAAU,OAAf,UACE,uBAAMA,UAAU,oCAAhB,UAAqDuG,KAAKnH,MAAMb,OAAOuC,gBAAgBoD,YAAvF,QACA,sBAAMlE,UAAU,oCAAhB,SAAqDuG,KAAKnH,MAAMb,OAAOuC,gBAAgBP,iBAEzF,sBAAKP,UAAU,UAAf,sGAAkH,kCAIxH,qBAAKA,UAAU,gBAAf,SACE,eAAC,IAAD,CAAMD,GAAG,iBAAiBC,UAAU,mEAApC,UACE,cAAC,IAAD,CAAgBA,UAAU,aAC1B,yDAIN,qBAAKA,UAAU,WAAf,SACE,sBAAKA,UAAU,4BAAf,UACiD,OAA9CuG,KAAKnH,MAAMX,aAAawB,mBACzB,qBAAKD,UAAS,4BAA6D,OAAtCuG,KAAKnH,MAAMb,OAAOuC,gBAA2B,gBAAkB,wDAAtF,mCAAd,SACE,cAAC0F,EAAA,EAAD,CACEvH,kBAAmBsH,KAAKnH,MAAMH,kBAC9BwH,mBAAoBF,KAAKnH,MAAMb,OAAOuC,iBAAmByF,KAAKnH,MAAMb,OAAOuC,gBAAgBV,cAExD,OAAtCmG,KAAKnH,MAAMb,OAAOuC,iBACnB,qBAAKd,UAAS,UAAmD,OAA9CuG,KAAKnH,MAAMX,aAAawB,kBAA6B,gBAAkB,gBAA5E,wCAAd,SACE,cAAC,EAAD,CAAQE,eAAgBoG,KAAKnH,MAAMb,OAAOuC,gBAAiBgC,mBAAoByD,KAAKzD,mBAAoB7D,kBAAmBsH,KAAKnH,MAAMH,+BAKnH,IAA1BsH,KAAKF,MAAMZ,YACZ,cAACiB,EAAA,EAAD,CACEjF,MAAM,kCACNkF,UAAU,EACVhC,MAAOiC,IAAOC,QACdC,MAAO,kBAAM,EAAK1B,SAAS,CAAEK,YAAY,KACzCsB,eAAe,EACfC,eAAgBC,IAAUC,OAC1BC,cAAc,EACdC,QAAS,CAAC3F,OAAO,GARnB,SAUE,cAAC4F,EAAA,EAAD,CACEC,oBAAqBf,KAAKnH,MAAMZ,aAAa+I,qBAC7C/I,aAAc+H,KAAKnH,MAAMZ,aAAauH,cACtCP,YAAae,KAAKF,MAAMb,YACxBH,eAAgBkB,KAAKlB,eACrBK,uBAAwBa,KAAKb,kC,GA3IX8B,aA4JjBC,EAAiBpJ,aATN,SAAC,GAMvB,MAAO,CAAEC,KAD0I,EAJnJA,KAKqBC,OAD8H,EAHnJA,OAIqCC,aAD8G,EAFnJA,aAGiEC,aADkF,EADnJA,gBAKqD,CACrDE,iBACAM,uBACAL,sBACAC,6BACAC,kCACAC,6BAN4BV,CAO3B8G","file":"static/js/18.44cc1c68.chunk.js","sourcesContent":["export interface CandidateInterface {\n  n_id: string;\n  fname: string;\n  lname: string;\n  date_of_birth: string;\n  district: string;\n  email: string;\n  phone_number: string;\n  stopped: boolean;\n  user_id: string;\n  // more details\n  application_number: string;\n  cell: string;\n  civil_status: string;\n  country_of_birth: string;\n  date_of_expiry: string;\n  date_of_issue: string;\n  document_type: string;\n  father_names: string;\n  issue_number: string;\n  mother_names: string;\n  photo: string;\n  place_of_birth: string;\n  place_of_issue: string;\n  province: string;\n  sector: string;\n  sex: string;\n  spouse?: any;\n  status: string;\n  village: string;\n  village_id: string;\n  // temporary details\n  active?: boolean;\n  ref?: any;\n  muted?: boolean;\n  room_id?: string;\n  video?: boolean;\n  stream?: any;\n  peer?: any;\n  peer_id?: any;\n  type?: any;\n  id?: string;\n}\n\nexport interface DocumentsCategories {\n  description: string;\n  fields: string[];\n  title: string;\n  user_detail_category_id: string;\n}\n\nexport interface DocumentsCategoriesWithCount {\n  description: string;\n  fields: string[];\n  title: string;\n  user_detail_category_id: string;\n  count: number;\n}\n\nexport interface DocumentSubCategories {\n  category_id: string;\n  description: string;\n  title: string;\n  user_detail_subcategory_id: string;\n}\n// export interface CategorySubcategoryData {\n//   category_id: string;\n//   category_subcategory_id: string;\n//   description: string;\n//   others: {\n//     key: string;\n//     value: string;\n//   }[];\n//   subcategory_id: string;\n//   title: string;\n// }\n\nexport interface CategorySubcategoryData {\n  category_id: string;\n  subcategory_id: string;\n  title: string;\n  description: string;\n  others: {\n    key: string;\n    value: string;\n  }[];\n  category_subcategory_Data_id: string;\n}\n\nexport interface DocumentUser_API {\n  category_id: string;\n  company: string;\n  description: string;\n  email: string;\n  end_year: string;\n  files: string;\n  names: string;\n  phone_number: string;\n  school: string;\n  school_id: string;\n  start_year: string;\n  sub_category_id: string;\n  title: string;\n  year: string;\n  validation_status: string;\n  doc_id: string;\n  category_subcategory_data: string;\n}\n\nexport interface DocumentUser {\n  category_id: string;\n  company: string;\n  description: string;\n  email: string;\n  end_year: string;\n  files: string;\n  names: string;\n  phone_number: string;\n  school: {\n    school_name: string;\n    _id: string;\n    status: boolean;\n    education_category_id?: {\n      education_category_title: string;\n      _id: string;\n    };\n    district_id?: {\n      district_name: string;\n      _id: string;\n    };\n  } | null;\n  school_id: string;\n  start_year: string;\n  sub_category_id: string;\n  title: string;\n  year: string;\n  validation_status: string;\n  doc_id: string;\n  category_subcategory_data: CategorySubcategoryData | null;\n}\n\nexport interface SchoolInterface {\n  district_id: string;\n  education_category_id: string;\n  school_name: string;\n  status: boolean;\n  _id: string;\n}\n\nexport enum DocumentStatus {\n  Waiting = \"waiting\",\n  Rejected = \"rejected\",\n  Approved = \"approved\",\n}\n\nexport interface CandidateProctoringInterfaceAPI {\n  course_code: string;\n  course_id: string;\n  course_name: string;\n  district: string;\n  education_institute_id: string;\n  email: string;\n  fname: string;\n  lname: string;\n  n_id: string;\n  phone_number: string;\n  position_id: string;\n  position_title: string;\n  school_level_id: string;\n  user_id: string;\n}\n\nexport interface CandidateProctoringInterface\n  extends CandidateProctoringInterfaceAPI {\n  active: boolean;\n  stopped: boolean;\n  ref?: any;\n  muted?: boolean;\n  peer?: any;\n  peer_id?: any;\n}\n","export enum Events {\n  USER_CONNECTED = \"user-connected\",\n  USER_DISCONNECTED = \"user-disconnected\",\n  JOIN_ROOM = \"join-room\",\n  UPDATED_ROOM_LIST = \"UPDATED_ROOM_LIST\",\n}\n\nexport enum ExamEvents {\n  START_EXAM_CLIENT = \"START_EXAM_CLIENT\",\n  START_EXAM_SERVER = \"START_EXAM_SERVER\",\n\n  STOP_EXAM_CLIENT = \"STOP_EXAM_CLIENT\",\n  STOP_EXAM_SERVER = \"STOP_EXAM_SERVER\",\n\n  CAND_EVENT_CLIENT = \"CAND_EVENT_CLIENT\",\n  CAND_EVENT_SERVER = \"CAND_EVENT_SERVER\",\n\n  CAND_CONTINUE_EXAM_SERVER = \"CAND_CONTINUE_EXAM_SERVER\",\n  CAND_CONTINUE_EXAM_CLIENT = \"CAND_CONTINUE_EXAM_CLIENT\",\n\n  CAND_STOP_EXAM_CLIENT = \"CAND_STOP_EXAM_CLIENT\",\n  CAND_STOP_EXAM_SERVER = \"CAND_STOP_EXAM_SERVER\",\n\n  CAND_RESTART_EXAM_CLIENT = \"CAND_RESTART_EXAM_CLIENT\",\n  CAND_RESTART_EXAM_SERVER = \"CAND_RESTART_EXAM_SERVER\",\n\n  ALL_CAND_RESTART_EXAM_CLIENT = \"ALL_CAND_RESTART_EXAM_CLIENT\",\n  ALL_CAND_RESTART_EXAM_SERVER = \"ALL_CAND_RESTART_EXAM_SERVER\",\n\n  CAND_WARNING_EXAM_CLIENT = \"CAND_WARNING_EXAM_CLIENT\",\n  CAND_WARNING_EXAM_SERVER = \"CAND_WARNING_EXAM_SERVER\",\n\n  CAND_BRODCAST_MSG_CLIENT = \"CAND_BRODCAST_MSG_CLIENT\",\n  CAND_BRODCAST_MSG_SERVER = \"CAND_BRODCAST_MSG_SERVER\",\n\n  CAND_PRIVATE_MSG_CLIENT = \"CAND_PRIVATE_MSG_CLIENT\",\n  CAND_PRIVATE_MSG_SERVER = \"CAND_PRIVATE_MSG_SERVER\",\n\n  CAND_EXAM_EVENT_CLIENT = \"CAND_EXAM_EVENT_CLIENT\",\n  CAND_EXAM_EVENT_SERVER = \"CAND_EXAM_EVENT_SERVER\",\n}\n\nexport enum ExamEventTypes {\n  PASTE_A_TEXT = \"PASTE A TEXT\",\n  MOVE_MOUSE_OUT = \"MOVE MOUSE OUT WINDOW\",\n}\n\nexport interface EventInterface {\n  event_id: string;\n  user_id: string;\n  event_type: string;\n  description: string;\n  room_id: string;\n  done_by?: string;\n  time: string;\n}\n","import { DocumentUser } from \".\";\n\nexport interface PositionAPICourse {\n  course_name: string;\n  course_code: string;\n  description: string;\n  school_levels: string[];\n  course_id: string;\n}\n\nexport interface PositionAPI {\n  courses: PositionAPICourse[];\n  position_title: string;\n  description: string;\n  school_level_id: {\n    school_level_name: string;\n    description: string;\n    education_institute: string[];\n    courses: [];\n    school_level_id: string;\n  };\n  education_institute_id: {\n    education_category_title: string;\n    school_levels: [];\n    description: string;\n    education_institute_id: string;\n  };\n  requirements: PositionRequirements[];\n  isDeleted: boolean;\n  position_id: string;\n}\n\nexport interface PositionRequirementsOld {\n  user_detail_category_id: string;\n  title: string;\n  description: string;\n  fields: string[];\n  user_required_docs: {\n    category_id: string;\n    description: string;\n    title: string;\n    user_detail_subcategory_id: string;\n  }[];\n}\n\nexport interface PositionRequirements {\n  category: {\n    description: string;\n    fields: string[];\n    title: string;\n    user_detail_category_id: string;\n  };\n  subcategory: {\n    category_id: string;\n    description: string;\n    title: string;\n    user_detail_subcategory_id: string;\n  };\n  position_requirement: PositionSubcategoryData[];\n  required: boolean;\n}\n\nexport interface PositionSubcategoryData {\n  category_id: string;\n  subcategory_id: string;\n  description: string;\n  required: boolean;\n  title: string;\n  others: { key: string; value: string }[];\n  _id: string;\n  __v?: string;\n}\n\nexport const validateDocCategory = (\n  requirement: PositionRequirements,\n  userDocuments: DocumentUser[]\n) => {\n  if (\n    userDocuments.find(\n      (item) =>\n        item.category_id === requirement.category.user_detail_category_id\n    )?.category_id === undefined\n  ) {\n    return requirement.category.user_detail_category_id;\n  } else {\n    return null;\n  }\n};\n\n// If true, should return null\nexport const validateDocSubcategoryData = (\n  requirement: PositionSubcategoryData,\n  UserData: DocumentUser[]\n): string | null => {\n  let result: string | null = null;\n  // for (let requirement of requirements) {\n  if (\n    UserData.find(\n      (itm) =>\n        itm.category_subcategory_data &&\n        itm.category_subcategory_data.category_subcategory_Data_id ===\n          requirement._id\n    ) === undefined\n  ) {\n    result = requirement.subcategory_id;\n  }\n  // }\n  return result;\n};\n\nexport const validateDocSubcategory = (\n  requirement: PositionRequirements,\n  userDocuments: DocumentUser[]\n) => {\n  let result: {\n    category_subcat_id: string | null;\n    category_id: string | null;\n    user_detail_subcategory_id: string | null;\n  }[] = [];\n  if (requirement.position_requirement.length > 0) {\n    for (let i in requirement.position_requirement) {\n      let filterData = userDocuments.find((item) => item.category_subcategory_data &&\n        item.category_subcategory_data.category_subcategory_Data_id === requirement.position_requirement[i]._id\n        )?.category_subcategory_data;\n      if ((filterData === undefined || filterData === null) \n        && requirement.position_requirement[i].required === true\n      ) {\n        result.push({\n          category_subcat_id: requirement.position_requirement[i]._id,\n          category_id: requirement.category.user_detail_category_id,\n          user_detail_subcategory_id:\n            requirement.subcategory.user_detail_subcategory_id,\n        });\n      }\n    }\n  }\n  return result;\n};\n\n\nexport const validateDocSubcategoryOptional = (\n  requirement: PositionRequirements,\n  userDocuments: DocumentUser[]\n) => {\n  let result: {\n    category_subcat_id: string | null;\n    category_id: string | null;\n    user_detail_subcategory_id: string | null;\n  }[] = [];\n  if (requirement.position_requirement.length > 0) {\n    for (let i in requirement.position_requirement) {\n      let filterData = userDocuments.find((item) => item.category_subcategory_data &&\n        item.category_subcategory_data.category_subcategory_Data_id === requirement.position_requirement[i]._id\n        )?.category_subcategory_data;\n      if ((filterData === undefined || filterData === null) \n        && requirement.position_requirement[i].required === false\n      ) {\n        result.push({\n          category_subcat_id: requirement.position_requirement[i]._id,\n          category_id: requirement.category.user_detail_category_id,\n          user_detail_subcategory_id:\n            requirement.subcategory.user_detail_subcategory_id,\n        });\n      }\n    }\n  }\n  return result;\n};\n\nexport const returnValidatePosition = (\n  requirements: PositionRequirements[],\n  documents: DocumentUser[]\n) => {\n  let status = true;\n  for (let i in requirements) {\n    if (requirements[i].position_requirement.length === 0) {\n      if (\n        requirements[i] !== null &&\n        documents !== null &&\n        validateDocCategory(requirements[i], documents) !== null &&\n        validateDocCategory(requirements[i], documents) !== undefined\n      ) {\n        status = false;\n      }\n    } else {\n      if (validateDocSubcategory(requirements[i], documents).length !== 0) {\n        status = false;\n      }\n    }\n  }\n  return status;\n};\n","import React, { useEffect, useState } from 'react'\nimport Loading from '../../../../../components/Loading/Loading'\nimport { connect } from \"react-redux\";\nimport {\n  Auth, \n  courseStoreInterface,\n  loadCourses,\n  schoolLevelsStoreInterface,\n  loadSchoolLevels,\n  loadEducationCategories,\n  setSelectedEducationCategory,\n  setSelectedSchoolLevel,\n  QuestionBankStoreInterface,\n  setUploadedQuestions,\n  questionTypesStoreInterface,\n  setSelectedCourse,\n  PrepareExamsStoreInterface,\n  addExamQuestion,\n  IncrementQuestionBank,\n} from \"../../../../../actions\";\nimport { StoreState } from \"../../../../../reducers\";\nimport { course } from '../../../../../interfaces/course';\nimport { QuestionInterface, uploadQuestionsResponse } from '../../../../../interfaces/question';\nimport { VscListSelection } from 'react-icons/vsc';\nimport { Redirect } from 'react-router-dom';\n\ninterface UploadedQuestionsProps {\n  questionBank: QuestionBankStoreInterface;\n  setUploadedQuestions: (questions: uploadQuestionsResponse | null) => void;\n  selectedCourse: course;\n  course: courseStoreInterface;\n  selectQuestion: (question: QuestionInterface) => void;\n  questionTypes: questionTypesStoreInterface;\n  loadQuestionTypes: (callback: (loading: boolean) => void) => void;\n  setSelectedCourse: (course: course | null) => void;\n  prepareExam: PrepareExamsStoreInterface;\n  addExamQuestion: (question: QuestionInterface) => void;\n  IncrementQuestionBank: (question: QuestionInterface) => void;\n}\n\nconst _UploadedQuestions = (props: UploadedQuestionsProps) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [redirect, setRedirect] = useState<boolean>(false);\n  const [setExam, setSetExam] = useState<boolean>(false);\n  const returnToCourse = () => {\n    if (props.questionBank.uploadedQuestions !== null && props.questionBank.uploadedQuestions.insertedData[0].course !== props.selectedCourse.course_id) {\n      if (props.course.courses) {\n        let selected = props.course.courses.find(itm => props.questionBank.uploadedQuestions && itm.course_id === props.questionBank.uploadedQuestions.insertedData[0].course);\n        if (selected !== undefined) {\n          props.setSelectedCourse(selected);\n        }\n      }\n    }\n  }\n  const clearUploadedQuestionsStore = () => {\n    if (window.confirm(\"Have you completed to modify questions?\")) {\n      if (props.questionBank.uploadedQuestions !== null && props.questionBank.uploadedQuestions.insertedData.length > 0) {\n        for (let selectedQuestion of props.questionBank.uploadedQuestions.insertedData) {\n          props.IncrementQuestionBank(selectedQuestion);\n        }\n        props.setUploadedQuestions(null);\n      }\n      setRedirect(true);\n    }\n  }\n  const addToExam = () => {\n    if (window.confirm(\"Are you sure do you want to add to exam?\") === true) {\n      if (props.questionBank.uploadedQuestions !== null && props.questionBank.uploadedQuestions.insertedData.length > 0) {\n        if (props.course.selected_course !== null) {\n          for (let x of props.prepareExam.questions) {\n            props.addExamQuestion(x);\n          }\n          if (props.prepareExam.questions.length === 0) {\n            for (let itm of props.questionBank.uploadedQuestions.insertedData) {\n              props.addExamQuestion(itm);\n              props.IncrementQuestionBank(itm);\n            }\n          }\n          if (props.questionBank.uploadedQuestions.insertedData.length !== 0) {\n            props.setUploadedQuestions(null);\n            setSetExam(true);\n          }\n        }\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (props.questionTypes.questionTypes === null || props.questionTypes.questionTypes.length === 0) {\n      props.loadQuestionTypes(setLoading);\n    }\n  }, [props]);\n  if (setExam === true) {\n    return <Redirect to=\"/prepare-exam\" />\n  }\n  if (redirect === true) {\n    return <Redirect to=\"/question-bank\" />\n  }\n  return (\n    <div className=\"bg-white animate__animated animate__fadeInLeft animate__fast px-2 py-2 gap-3 mb-2 my-4 rounded\">\n      {props.questionBank.uploadedQuestions !== null && props.questionBank.uploadedQuestions.insertedData[0].course !== props.selectedCourse.course_id ? \n      <div className=\"text-center flex flex-col items-center text-gray-500 py-6 rounded bg-gray-100 mt-5\">\n        You have changed course! <br />\n        <div className=\"bg-blue-50 text-blue-600 font-bold rounded-full text-center w-max px-3 border border-blue-200 flex items-center justify-center mb-3\">{props.course.courses !== null && props.course.courses.find(itm => itm.course_id === props.questionBank.uploadedQuestions?.insertedData[0].course)?.course_name}</div>\n        <div onClick={() => returnToCourse()} className=\"btn bg-blue-600 text-white cursor-pointer\">Back to list</div>\n      </div> :\n      <>\n      <div className=\"flex flex-row items-center justify-between\">\n        <div className=\"text-blue-600 font-bold mb-2 flex flex-row items-center gap-2 text-xl\">\n          <VscListSelection className=\"text-2xl\" />\n          <span>Uploaded questions list ({props.questionBank.uploadedQuestions?.insertedCount})</span>\n        </div>\n        <div className=\"flex flex-row items-center gap-2\">\n          <div onClick={() => addToExam()} className=\"btn border bg-blue-50 hover:bg-blue-600 border-blue-600 text-blue-600 hover:text-white mb-2 cursor-pointer\">Make it an exam</div>\n          <div onClick={() => clearUploadedQuestionsStore()} className=\"btn bg-blue-600 text-white mb-2 cursor-pointer\">Continue</div>\n        </div>\n      </div>\n      {loading === true ? <Loading /> :\n      props.questionBank.uploadedQuestions === null ? <div>Please upload questions</div> : props.questionBank.uploadedQuestions.insertedData === null ? <Loading /> :\n      props.questionBank.uploadedQuestions.insertedData.length === 0 ? <div>No questions uploaded!</div> :\n      props.questionBank.uploadedQuestions.insertedData.map((item, i) => (\n        <div onClick={() => props.selectQuestion(item)} key={i + 1}className=\"bg-gray-50 cursor-pointer rounded border border-gray-200 px-3 py-2 hover:bg-blue-50 text-gray-700 hover:text-blue-600 flex flex-row items-center justify-between mb-2 gap-4 hover:border-blue-600 mb-3\">\n          <div className=\"flex flex-row items-center gap-3\">\n            <div className=\"rounded-full bg-blue-100 text-blue-600 h-8 w-8 flex items-center justify-center text-xl font-bold\">{i + 1}</div>\n            <div className=\"flex flex-col truncate\">\n              <span className=\"text-xs text-blue-600 font-bold w-max\">{props.questionTypes.questionTypes && props.questionTypes.questionTypes.find(itm => itm.id && itm.id === item.type)?.title}</span>\n              <span className=\"font-bold\">{item.question[0].title}</span>\n              <span className=\"truncate text-xs\">{item.question[0].description}</span>\n            </div>\n          </div>\n        </div>\n      ))}\n      </>}\n    </div>\n  )\n}\n\n\nconst mapStateToProps = ({\n  auth,\n  course,\n  schoolLevels,\n  questionBank,\n  prepareExam,\n}: StoreState): { auth: Auth; course: courseStoreInterface; schoolLevels: schoolLevelsStoreInterface; questionBank: QuestionBankStoreInterface; prepareExam: PrepareExamsStoreInterface; } => {\n  return { auth: auth, course: course, schoolLevels: schoolLevels, questionBank: questionBank, prepareExam: prepareExam };\n};\n\nconst UploadedQuestions = connect(mapStateToProps, {\n  loadCourses,\n  loadSchoolLevels,\n  loadEducationCategories,\n  setSelectedEducationCategory,\n  setSelectedSchoolLevel,\n  setUploadedQuestions,\n  setSelectedCourse,\n  addExamQuestion,\n  IncrementQuestionBank,\n})(_UploadedQuestions);\n\nexport default UploadedQuestions;\n","import axios from 'axios';\nimport React, { Fragment, useEffect, useState } from 'react'\nimport { FiFileText } from 'react-icons/fi';\nimport { IoMdCloudUpload } from 'react-icons/io'\nimport Alert, { AlertInterface } from '../../../../components/Alert/Alert';\nimport Loading from '../../../../components/Loading/Loading';\nimport { course, QuestionInterface, uploadQuestionsResponse } from '../../../../interfaces'\nimport { formErrorInterface } from '../../../../interfaces/form';\nimport { API } from '../../../../utils/api';\nimport { connect } from \"react-redux\";\nimport {\n  Auth, \n  courseStoreInterface,\n  loadCourses,\n  schoolLevelsStoreInterface,\n  loadSchoolLevels,\n  loadEducationCategories,\n  setSelectedEducationCategory,\n  setSelectedSchoolLevel,\n  QuestionBankStoreInterface,\n  setUploadedQuestions,\n  questionTypesStoreInterface,\n  loadQuestionTypes,\n  loadQuestionBank,\n} from \"../../../../actions\";\nimport { StoreState } from \"../../../../reducers\";\nimport UploadedQuestions from './UploadedQuestions/UploadedQuestions';\nimport EditQuestion from './EditQuestion/EditQuestion';\n\ninterface UploadInterface {\n  selectedCourse: course;\n  questionBank: QuestionBankStoreInterface;\n  course: courseStoreInterface;\n  questionTypes: questionTypesStoreInterface;\n  setUploadingStatus: (status: boolean) => void;\n  setSelectedCourse: (course: course | null) => void;\n  setUploadedQuestions: (questions: uploadQuestionsResponse | null) => void;\n  loadQuestionTypes: (callback: (loading: boolean) => void) => void;\n  loadQuestionBank: (course_id: string, callback: (loading: boolean) => void) => void;\n}\n\nconst _Upload = (props: UploadInterface) => {\n  const [questions, setQuestions] = useState<File | null>(null);\n  const [formError, setFormError] = useState<formErrorInterface | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [upload_percentage, set_upload_percentage] = useState<number>(0);\n  const [showQuestionEdit, setShowQuestionEdit] = useState<{ status: boolean, question: QuestionInterface | null } | null>(null)\n\n  const validateExcelFile = async (file: File) => {\n    if (file.type !== \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" && file.type !== \"application/vnd.ms-excel\" && file.type !== \"text/csv\") {\n      return setFormError({\n        element: \"questions\",\n        msg: \"Invalid file, Please choose excel file or svg file\"\n      });\n    } else {\n      return null;\n    }\n  }\n\n  const submitQuestion = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    // Validation\n    setFormError(null);\n    if (questions === null) {\n      return setFormError({\n        element: \"questions\",\n        msg: \"Please select a file\"\n      })\n    } else if (questions.size === 0) {\n      return setFormError({\n        element: \"questions\",\n        msg: \"Invalid file, Please choose a real file\"\n      })\n    } else if (questions.type !== \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" && questions.type !== \"application/vnd.ms-excel\" && questions.type !== \"text/csv\") {\n      return setFormError({\n        element: \"questions\",\n        msg: \"Invalid file, Please choose excel file or svg file\"\n      });\n    } else {\n      setLoading(true);\n      props.setUploadingStatus(true);\n      try {\n        const formData = new FormData();\n        formData.append(\"course\", props.selectedCourse.course_id);\n        formData.append(\"file\", questions);\n        const res = await axios.post(`${API.QBank}/question`, formData, {\n          onUploadProgress: (progressEvent: any) => {\n            let number_percentage = (+progressEvent?.loaded / +progressEvent.total) * 100;\n            set_upload_percentage(number_percentage)\n          },\n        });\n        if (res.status === 201) {\n          props.setUploadedQuestions(res.data);\n        }\n        console.log(\"Questions: \", res);\n      } catch (error: any) {\n        console.log(\"Err: \", {...error});\n        if (error.response) {\n          if (error.response.data) {\n            if (error.response.data.errors) {\n              setFormError({\n                element: \"questions\",\n                msg: error.response.data.errors[0].message\n              });\n            }\n          }\n        }\n      }\n      setLoading(false);\n      props.setUploadingStatus(false);\n    }\n  }\n\n  const selectQuestion = (question: QuestionInterface) => {\n    setShowQuestionEdit({\n      status: true,\n      question: question\n    })\n  }\n\n  const unSelectQuestion = () => {\n    setShowQuestionEdit({\n      status: false,\n      question: null\n    })\n  }\n\n  useEffect(() => {\n    if (props.questionBank.questions === null) {\n      if (props.course.selected_course !== null) {\n        props.loadQuestionBank(props.course.selected_course.course_id, setLoading);\n      }\n    }\n  }, [props])\n  \n  return (\n    <Fragment>\n      {props.questionBank.uploadedQuestions === null ?\n      <div className=\"my-4\">\n        <div className=\"flex flex-row justify-between items-center rounded px-3 py-2 bg-white animate__animated animate__fadeIn shadow\">\n          <div className=\"flex flex-col\">\n            <span className=\"font-bold text-blue-600 text-lg truncate\">{props.course.selected_course !== null && props.course.selected_course.course_name}</span>\n            <span className=\"text-xs font-bold text-gray-500 truncate\">Course code: {props.course.selected_course && props.course.selected_course.course_code}</span>\n          </div>\n          <div className=\"btn bg-blue-50 text-blue-500 hover:bg-blue-100 hover:text-blue-700  cursor-pointer\">Download template</div>\n        </div>\n        <form onSubmit={submitQuestion}>\n          <div className={`my-2`}>\n            <label className={`w-full flex flex-col items-center px-4 py-6 tracking-wide rounded border border-gray-400 bg-white ${loading === true ? \"cursor-not-allowed hover:bg-gray-100 bg-gray-100 text-gray-400\" : \"cursor-pointer hover:border-blue-600 border-gray-100 text-blue-600 hover:text-blue-700\"}`}>\n              <IoMdCloudUpload className=\"text-4xl\" />\n              <span className=\"mt-2 text-base leading-normal\">{loading === true ? \"Loading, Please wait...\" : \"Click to select a file\"}</span>\n              {loading === false &&\n              <input onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                setFormError(null);\n                if (e.target.files && e.target.files.length > 0 && loading === false) {\n                    setQuestions(e.target.files[0]);\n                    validateExcelFile(e.target.files[0]);\n                }\n              }} type='file' className=\"hidden\" />}\n            </label>\n          </div>\n          {questions !== null && \n          <div className=\"rounded bg-blue-50 px-3 py-2 flex flex-row items-center justify-between gap-2 border border-blue-500\">\n            <div className=\"flex flex-row gap-2 items-center\">\n              <FiFileText className=\"text-5xl text-blue-600\" />\n              <div className=\"flex flex-col\">\n                <span className=\"font-bold text-blue-600 truncate\">File: {questions.name}</span>\n                <span className=\"text-gray-500 text-xs truncate\">File type: {questions.type}</span>\n                <span className=\"text-gray-500 text-xs\">Size: {Math.round(questions.size/1024)} Kbs</span>\n              </div>\n            </div>\n            {loading === false && <div onClick={() => {setQuestions(null); setFormError(null)}} className=\"btn text-sm bg-red-50 text-red-600 border border-red-200 cursor-pointer hover:bg-red-100\">Delete</div>}\n          </div>}\n          {formError !== null && formError.element === \"questions\" && \n          <div onClick={() => setFormError(null)} className=\"mt-2\">\n            <Alert \n              title=\"Invalid\"\n              description={formError.msg}\n              theme={AlertInterface.danger}\n            />\n          </div>}\n          {loading === true && questions !== null &&\n          <div className=\"bg-blue-200 h-6 w-full rounded mt-2\">\n            <div className=\"h-full rounded bg-blue-500 flex flex-row items-center justify-between px-2 truncate text-xs text-white font-bold animate__animated animate__delay-1s\" style={{width: `${upload_percentage}%`}}>\n              <span className=\"italic\">Uploading, Please wait...</span>\n              <span>{upload_percentage}%</span>\n            </div>\n          </div>}\n          {loading === true ? <div className=\"mt-5\"><Loading /></div> :\n          <div className=\"flex flex-row items-center justify-between my-2\">\n            <div onClick={() => props.setSelectedCourse(null)} className=\"btn cursor-pointer bg-gray-100\">Back</div>\n            <button type=\"submit\" className=\"btn cursor-pointer bg-blue-600 text-white\">Save questions</button>\n          </div>}\n        </form>\n      </div> : \n      showQuestionEdit !== null && showQuestionEdit.status === true && showQuestionEdit.question !== null && props.questionBank.uploadedQuestions?.insertedData ?\n      <EditQuestion \n        selectedQuestion={showQuestionEdit.question} \n        questionsList={props.questionBank.uploadedQuestions.insertedData}\n        unSelectQuestion={unSelectQuestion} \n      /> :\n      <UploadedQuestions \n        selectedCourse={props.selectedCourse} \n        selectQuestion={selectQuestion} \n        questionTypes={props.questionTypes}\n        loadQuestionTypes={props.loadQuestionTypes}\n      />\n      }\n    </Fragment>\n  );\n}\n\n\nconst mapStateToProps = ({\n  auth,\n  course,\n  schoolLevels,\n  questionBank,\n  questionTypes,\n}: StoreState): { auth: Auth; course: courseStoreInterface; schoolLevels: schoolLevelsStoreInterface; questionBank: QuestionBankStoreInterface; questionTypes: questionTypesStoreInterface; } => {\n  return { auth: auth, course: course, schoolLevels: schoolLevels, questionBank: questionBank, questionTypes: questionTypes };\n};\n\nconst Upload = connect(mapStateToProps, {\n  loadCourses,\n  loadSchoolLevels,\n  loadEducationCategories,\n  setSelectedEducationCategory,\n  setSelectedSchoolLevel,\n  setUploadedQuestions,\n  loadQuestionTypes,\n  loadQuestionBank,\n})(_Upload);\n\nexport default Upload;\n","import React, { Component, Fragment } from 'react'\nimport { FiExternalLink, FiFilter } from 'react-icons/fi';\nimport { IoMdCloudUpload } from 'react-icons/io';\nimport { Link } from \"react-router-dom\";\nimport * as Interfaces from \"../../../../interfaces/index\";\nimport searchData from \"../../../../utils/search\";\n\nimport { connect } from \"react-redux\";\nimport {\n  Auth, \n  courseStoreInterface,\n  loadCourses,\n  schoolLevelsStoreInterface,\n  setSelectedCourse,\n  loadSchoolLevels,\n  loadEducationCategories,\n  setSelectedEducationCategory,\n  setSelectedSchoolLevel,\n  QuestionBankStoreInterface,\n} from \"../../../../actions\";\nimport { StoreState } from \"../../../../reducers\";\nimport { course } from '../../../../interfaces/course';\nimport Loading from '../../../../components/Loading/Loading';\nimport Modal, { ModalSize, Themes } from '../../../../components/Modal/Modal';\nimport SchoolLevelsFilter from '../../../Application/ApplicationPositions/SchoolLevelsFilter/SchoolLevelsFilter';\nimport { searchItem } from '../../../Application/ApplicationPositions/ApplicationPositions';\nimport { FaAngleRight } from 'react-icons/fa';\nimport Upload from './Upload';\nimport Courses from '../../../../components/Courses/Courses';\n\ninterface UploadQuestionState {\n  loading: boolean;\n  searchLevel: searchItem | null;\n  showFilter: boolean;\n  uploadingStatus: boolean;\n  searchCourseInput: string;\n}\ninterface UploadQuestionProps {\n  auth: Auth;\n  course: courseStoreInterface;\n  schoolLevels: schoolLevelsStoreInterface;\n  questionBank: QuestionBankStoreInterface;\n  loadEducationCategories: (callback: (loading: boolean) => void) => void;\n  loadSchoolLevels: (callback: (loading: boolean) => void) => void;\n  setSelectedEducationCategory: (\n    education_category: Interfaces.education_category\n  ) => void;\n  setSelectedSchoolLevel: (education_category: Interfaces.school_level) => void;\n  loadCourses: (callback: (loading: boolean) => void) => void;\n  setSelectedCourse: (course: course | null) => void;\n}\n\nclass _UploadQuestion extends Component<UploadQuestionProps, UploadQuestionState> {\n  constructor(props: UploadQuestionProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n      loading: false,\n      searchLevel: null,\n      showFilter: false,\n      uploadingStatus: false,\n      searchCourseInput: \"\",\n\t\t};\n\t}\n\n  setLoading = (status: boolean) => {\n    this.setState({ loading: status });\n  }\n\n  setSearchLevel = (\n    educationCategory: Interfaces.education_category | null,\n    schoolLevel: Interfaces.school_level | null\n  ) => {\n    this.setState({\n      searchLevel: {\n        educationCategory: educationCategory,\n        schoolLevel: schoolLevel,\n      },\n    });\n    if (educationCategory) {\n      this.props.setSelectedEducationCategory(educationCategory);\n    }\n    if (schoolLevel) {\n      this.props.setSelectedSchoolLevel(schoolLevel);\n      this.setState({ showFilter: false });\n    }\n  };\n\n  setSchoolLevelFilterFn = (status: boolean) => {\n    this.setState({ showFilter: status });\n  };\n\n  filteredCourses = (courses: course[], searched: searchItem | null): course[] => {\n    let filtered: course[] = courses;\n    if (searched !== null) {\n      if (searched.schoolLevel !== null) {\n        filtered = courses.filter((itm) => {\n          if (itm.school_levels.find(itm1 => itm1 === searched.schoolLevel?.school_level_id)) {\n            let status = false;\n            for (let item2 of itm.school_levels) {\n              if (searched.educationCategory?.school_levels.find(i => i === item2)) {\n                status = true;\n              }\n            }\n            return status === true ? itm : null;\n          } else {\n            return null;\n          }\n        })\n      } else if (searched.educationCategory !== null) {\n        filtered = courses.filter((itm) => {\n          let status = false;\n          for (let item2 of itm.school_levels) {\n            if (searched.educationCategory?.school_levels.find(i => i === item2)) {\n              status = true;\n            }\n          }\n          return status === true ? itm : null;\n        })\n      }\n    }\n    return filtered;\n  }\n\n  setUploadingStatus = (status: boolean) => {\n    this.setState({ uploadingStatus: status});\n  }\n\n  componentDidMount = () => {\n    if (this.props.course.courses === null || this.props.course.courses.length === 0) {\n      this.props.loadCourses(this.setLoading);\n    }\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"\">\n          <div className=\"mt-3 flex flex-row justify-between items-center\">\n            <div className=\"flex flex-row items-center gap-3\">\n              <IoMdCloudUpload className=\"text-gray-600 text-6xl\" />\n              <div className=\"flex flex-col\">\n                <span className=\"text-gray-700 text-3xl font-extrabold\">Upload questions</span>\n                <div className=\"text-gray-600\">\n                  {this.props.course.selected_course !== null ?\n                  <div className=\"mt-1\">\n                    <span className=\"text-blue-600 font-bold underline\">{this.props.course.selected_course.course_code} -</span>\n                    <span className=\"font-bold text-blue-600 underline\">{this.props.course.selected_course.course_name}</span>\n                  </div>: \n                  <div className=\"text-sm\">Please make sure you have downloaded the format template before writing list of questions<br/></div>}\n                </div>\n              </div>\n            </div>\n            <div className=\"flex flex-row\">\n              <Link to=\"/question-bank\" className=\"btn bg-white text-blue-600 mr-1 flex flex-row items-center gap-2\">\n                <FiExternalLink className=\"text-2xl\" />\n                <span>Question bank</span>\n              </Link>\n            </div>\n          </div>\n          <div className=\"flex-col\">\n            <div className=\"grid md:grid-cols-5 gap-2\">\n              {this.props.questionBank.uploadedQuestions === null &&\n              <div className={`animate__animated ${this.props.course.selected_course === null ? \"md:col-span-5\" : \"md:col-span-2 transition-all duration-500 ease-in-out\"} md:flex md:flex-col min-h-full`}>\n                <Courses \n                  setSelectedCourse={this.props.setSelectedCourse} \n                  selected_course_id={this.props.course.selected_course && this.props.course.selected_course.course_id} />\n              </div>}\n              {this.props.course.selected_course !== null &&\n              <div className={`${this.props.questionBank.uploadedQuestions === null ? \"md:col-span-3\" : \"md:col-span-5\"} md:flex flex-col min-h-full rounded`}>\n                <Upload selectedCourse={this.props.course.selected_course} setUploadingStatus={this.setUploadingStatus} setSelectedCourse={this.props.setSelectedCourse} />\n              </div>}\n            </div>\n          </div>\n        </div>\n        {this.state.showFilter === true &&\n        <Modal\n          title=\"Filter courses by school levels\"\n          backDrop={true}\n          theme={Themes.default}\n          close={() => this.setState({ showFilter: false })}\n          backDropClose={true}\n          widthSizeClass={ModalSize.medium}\n          displayClose={true}\n          padding={{title: true,}}\n        >\n          <SchoolLevelsFilter \n            educationCategories={this.props.schoolLevels.education_categories}\n            schoolLevels={this.props.schoolLevels.school_levels}\n            searchLevel={this.state.searchLevel}\n            setSearchLevel={this.setSearchLevel}\n            setSchoolLevelFilterFn={this.setSchoolLevelFilterFn}\n          />\n        </Modal>}\n      </Fragment>\n    )\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  course,\n  schoolLevels,\n  questionBank,\n}: StoreState): { auth: Auth; course: courseStoreInterface; schoolLevels: schoolLevelsStoreInterface; questionBank: QuestionBankStoreInterface; } => {\n  return { auth: auth, course: course, schoolLevels: schoolLevels, questionBank: questionBank };\n};\n\nexport const UploadQuestion = connect(mapStateToProps, {\n  loadCourses,\n  setSelectedCourse,\n  loadSchoolLevels,\n  loadEducationCategories,\n  setSelectedEducationCategory,\n  setSelectedSchoolLevel,\n})(_UploadQuestion);\n"],"sourceRoot":""}