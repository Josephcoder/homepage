{"version":3,"sources":["components/Table/Table.tsx","components/Navigation/SideNavigation.tsx","actions/settings.ts","containers/AccessManagement/AccessRole.tsx","containers/AccessManagement/StepOne.tsx","containers/AccessManagement/StepTwo.tsx","containers/AccessManagement/index.tsx"],"names":["Table","props","table","tr","tableId","length","result","characters","charactersLength","i","charAt","Math","floor","random","FC_makeID","useState","totalItems","setTotalItems","totalPages","setTotalPages","currentPage","setCurrentPage","pages","setPages","pageSize","setPageSize","startIndex","setStartIndex","endIndex","setEndIndex","useEffect","pagination","tablePagination","document","getElementById","getElementsByTagName","ceil","min","_pages","Array","from","keys","map","style","display","className","tableSize","search","searchBG","type","placeholder","onChange","e","data","filterType","filter","td","rows","cols","toLowerCase","columns","textContent","innerText","indexOf","filterTable","target","value","disabled","loading","Number","tableClass","rounded","id","hideColumns","thColor","column","index","padding","alignText","isSortAllowed","onClick","switching","x","y","shouldSwitch","colIndex","dir","switchcount","innerHTML","parentNode","insertBefore","sortThisColumn","columnTitle","aria-label","page","pageIndex","_SideNavigation","componentDidMount","PageHasSubNav","componentWillUnmount","state","this","auth","isAuthenticated","navActive","system","navigation","children","React","Component","SideNavigation","connect","NavToogle","MainItem","title","icon","MdBrightness1","active","count","IconDefined","getSystemSettings","callback","dispatch","a","setAxiosToken","axios","get","API","AUTH","res","ActionTypes","GET_SYSTEM_SETTINGS","payload","console","log","code_error","errorToText","disableSystemSetting","DISABLE_SYSTEM_SETTINGS","GetTaskAccess","response","task","key","permitted","GET_TASK_ACCESS","getPositions","APPLICATION","GET_POSTIONS","deletePosition","DELETE_POSITION","publishPosition","PUBLISH_POSITION","ModalStateRole","StepOne","handleSubmit","setRoleTitle","roleTitle","roleRequirement","setRequirement","error","setError","onSubmit","htmlFor","element","msg","name","checked","StepTwo","UserAccessList","do_exam","APPLICATION_OVERRIDE","CLAIM_VALIDATION","DOCUMENT_CHECKING","LOCATION_MANAGEMENT","POST_APPROVAL","POST_REQUEST","PREPARE_EXAM","PROCTORING_ROOM","QUESTION_BANK","SCHOOL_MANAGEMENT","SYSTEM_SETTINGS","USER_MANAGEMENT","admin","updateFieldChanged","newArr","accessToRole","create","view","update","delete","setAccessToRole","access","loadingRequest","TabTypes","AccessRole","setViewRole","setState","viewRole","setLoadingRequest","setLoading","setRoleId","roleId","setStepStatus","stepsStatus","setOpenModal","openModal","setFeedBack","feedBack","setRoleSelected","roleSelected","whichLevel","row","district_required","room_required","school_required","education_institution_required","userRows","loadCurrentRoles","accessRoles","system_user_role_id","role","CustomizeAccess","message","Update_Role_Access","Close_Modal","colSpan","typeRows","roleDetails","userAccess","accessTasks","oneAccess","newArray","forEach","find","item","push","status","isEmptyOrSpaces","PushPopupAlert","theme","PopupAlertTheme","danger","handleSteps","step","stepOne","stepTwo","preventDefault","some","Add_Role_Access","post","createAccessRoles","cleanAndCloseModal","patch","updateAccessRoles","role_error","filterStatus","changeViewRole","role_id","assignAccess","Loading","Modal","backDrop","Themes","default","close","displayClose","backDropClose","widthSizeClass","ModalSize","extraLarge","body","footer","__fff","___jjj","large","system_settings","AccessManagement","fetchAccessRoles","allRole","activeRole","blockedRole","labelCounts","setLabelCounts","All_Roles","roleStatus","setRoleStatus","Active_Roles","Blocked_Roles","toTwoDigit"],"mappings":"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","file":"static/js/52.476f70c8.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BiSort } from \"react-icons/bi\";\nimport { MdNavigateBefore, MdNavigateNext, MdSearch } from \"react-icons/md\";\n\nconst FC_makeID = (length: number = 5): string => {\n  let result: string = \"\";\n  let characters: string =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  let charactersLength = characters.length;\n  for (let i: number = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\nexport const sortThisColumn = (\n  tableId: string,\n  colIndex: number = 0,\n  dir: \"asc\" | \"desc\" = \"asc\"\n) => {\n  var table,\n    rows,\n    switching,\n    i,\n    x,\n    y,\n    shouldSwitch,\n    switchcount = 0;\n  table = document.getElementById(tableId) as HTMLTableElement;\n  switching = true;\n  /* Make a loop that will continue until\n  no switching has been done: */\n  if (table) {\n    while (switching) {\n      //start by saying: no switching is done:\n      switching = false;\n      rows = table.rows;\n      /*Loop through all table rows (except the\n    first, which contains table headers):*/\n      for (i = 1; i < rows.length - 1; i++) {\n        //start by saying there should be no switching:\n        shouldSwitch = false;\n        /*Get the two elements you want to compare,\n      one from current row and one from the next:*/\n        x = rows[i].getElementsByTagName(\"TD\")[colIndex];\n        y = rows[i + 1].getElementsByTagName(\"TD\")[colIndex];\n        /*check if the two rows should switch place,\n      based on the direction, asc or desc:*/\n        if (dir === \"asc\" && x && y) {\n          if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {\n            //if so, mark as a switch and break the loop:\n            shouldSwitch = true;\n            break;\n          }\n        } else if (dir === \"desc\" && x && y) {\n          if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {\n            //if so, mark as a switch and break the loop:\n            shouldSwitch = true;\n            break;\n          }\n        }\n      }\n      if (shouldSwitch && rows[i].parentNode) {\n        /*If a switch has been marked, make the switch\n      and mark that a switch has been done:*/\n        rows[i].parentNode!.insertBefore(rows[i + 1], rows[i]);\n        switching = true;\n        //Each time a switch is done, increase this count by 1:\n        switchcount++;\n      } else {\n        /*If no switching has been done AND the direction is \"asc\",\n      set the direction to \"desc\" and run the while loop again.*/\n        if (switchcount === 0 && dir === \"asc\") {\n          dir = \"desc\";\n          switching = true;\n        }\n      }\n      // if (i === 0) continue;\n      // rows.cells[i].style.backgroundColor = \"blue\";\n    }\n  }\n};\n\nexport interface TableColumnsInterface {\n  columnTitle: JSX.Element | string;\n  alignText: string;\n  padding?: string;\n  isSortAllowed?: boolean;\n}\n\ninterface TableProps {\n  columns: TableColumnsInterface[];\n  rows: Function;\n  hideColumns?: boolean;\n  pagination?: boolean;\n  search?: boolean;\n  tableSize?: string;\n  tableClass?: string;\n  tableId?: string;\n  rounded?: boolean;\n  searchBG?: string;\n  thColor?: string;\n  loading?: boolean;\n}\n\nconst Table: React.FC<TableProps> = (props) => {\n  const startPage = 1;\n  const tableId =\n    !props.tableId || props.tableId === \"myTable\" ? FC_makeID() : props.tableId;\n  let table: HTMLElement, tr: HTMLCollectionOf<HTMLTableRowElement>;\n  const [totalItems, setTotalItems] = useState<number>(0);\n  const [totalPages, setTotalPages] = useState<number>(1);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const [pages, setPages] = useState<number[]>();\n  const [pageSize, setPageSize] = useState<number>(10);\n  const [startIndex, setStartIndex] = useState<number>(0);\n  const [endIndex, setEndIndex] = useState<number>(0);\n\n  useEffect(() => {\n    props.pagination && tablePagination();\n  });\n\n  const filterTable = (\n    data: string,\n    filterType?: \"default\" | \"field\"\n  ): void => {\n    var filter, tr, td, rows: number, cols: number, txtValue;\n    if (filterType === \"field\" && data === \"all\") data = \"\";\n    filter = data.toLowerCase();\n    table = document.getElementById(tableId!)!;\n    tr = table.getElementsByTagName(\"tr\");\n    for (rows = 0; rows < tr.length; rows++) {\n      for (cols = 0; cols < props.columns.length; cols++) {\n        td = tr[rows].getElementsByTagName(\"td\")[cols];\n        if (td) {\n          txtValue = td.textContent || td.innerText;\n          if (txtValue.toLowerCase().indexOf(filter) > -1) {\n            tr[rows].style.display = \"\";\n            break;\n          } else {\n            tr[rows].style.display = \"none\";\n          }\n        }\n      }\n    }\n  };\n\n  const tablePagination = (): void => {\n    table = document.getElementById(tableId)!;\n    tr = table.getElementsByTagName(\"tr\");\n    setTotalItems(tr.length);\n    setTotalPages(Math.ceil(totalItems / pageSize));\n\n    // calculate start and end item indexes on the current page\n    setStartIndex((currentPage - 1) * pageSize);\n    setEndIndex(Math.min(startIndex + pageSize - 1, totalItems - 1));\n\n    /**\n     * TODO!\n     * There is a problem with this condition\n     */\n    let _pages = Array.from(Array(totalPages + 1 - startPage).keys()).map(\n      (i) => startPage + i\n    );\n    if (!pages || _pages.length !== pages.length) {\n      setPages(_pages);\n    }\n\n    for (let i: number = 0; i < tr.length; i++) {\n      if (i >= startIndex && i <= endIndex) {\n        tr[i].style.display = \"\";\n      } else {\n        tr[i].style.display = \"none\";\n      }\n    }\n  };\n\n  return (\n    <div className={`${props.tableSize} overflow-x-auto`}>\n      {/* search box  */}\n      {props.search && (\n        <div className={`${props.searchBG} w-full mb-2`}>\n          {props.search && (\n            <div className=\"bg-white rounded flex items-center w-full p-2 border-2 border-gray-500\">\n              <MdSearch className=\"h-5 w-5 fill-current text-gray-400\" />\n              <input\n                type=\"search\"\n                placeholder=\"search\"\n                onChange={(e) => filterTable(e.target.value)}\n                className=\"w-full h-6 pl-4 text-sm outline-none focus:outline-none bg-white\"\n                disabled={props.loading}\n              />\n\n              {props.pagination && (\n                <div className=\"select\">\n                  <select\n                    className=\"text-base outline-none focus:outline-none bg-white\"\n                    onChange={(e) => setPageSize(Number(e.target.value))}\n                    disabled={props.loading}\n                  >\n                    <option value=\"10\">10</option>\n                    <option value=\"25\">25</option>\n                    <option value=\"50\">50</option>\n                    <option value=\"100\">100</option>\n                  </select>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n      <div className=\"overflow-x-auto w-full\">\n        <table\n          className={\n            props.tableClass\n              ? props.tableClass\n              : `w-full shadow ${\n                  props.rounded && \"sm:rounded-lg\"\n                } table-auto order-table`\n          }\n          id={tableId}\n        >\n          {!props.hideColumns && (\n            <thead className=\"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-base\">\n              <tr\n                className={`text-left tracking-wide bg-${props.thColor}-100 border-b-2 border-${props.thColor}-500 text-${props.thColor}-600`}\n              >\n                {props.columns.map((column, index) => (\n                  <th\n                    key={index}\n                    className={`${column.padding} text-${\n                      column.alignText\n                    } px-3 py-2 ${column.isSortAllowed && \"cursor-pointer\"}`}\n                    onClick={() =>\n                      column.isSortAllowed && sortThisColumn(tableId, index)\n                    }\n                  >\n                    <div className=\"flex items-center gap-1\">\n                      {column.columnTitle}\n                      {column.isSortAllowed && <BiSort />}\n                    </div>\n                  </th>\n                ))}\n              </tr>\n            </thead>\n          )}\n          <tbody id=\"table-data\" className=\"bg-white text-black text-base\">\n            {props.rows()}\n          </tbody>\n        </table>\n        {props.pagination && (\n          <div className=\"sm:flex-1 sm:flex sm:items-center sm:justify-between mt-4 work-sans\">\n            <div>\n              <span className=\"text-xs xs:text-sm text-gray-900\">\n                Showing 1 to {pageSize} of {totalItems - 1} Entries\n              </span>\n            </div>\n            <div>\n              <nav className=\"inline-flex shadow-sm\">\n                <div>\n                  <button\n                    type=\"button\"\n                    className={`inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium text-gray-500 ${\n                      currentPage !== 1 && \"bg-white\"\n                    }`}\n                    aria-label=\"Previous\"\n                    disabled={currentPage === 1 || props.loading}\n                    onClick={() => setCurrentPage(currentPage - 1)}\n                  >\n                    <MdNavigateBefore className=\"h-5 w-5\" />\n                  </button>\n                </div>\n                <div>\n                  {pages &&\n                    pages.map((page, pageIndex) => (\n                      <button\n                        key={pageIndex}\n                        className={`-ml-px inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 ${\n                          page !== currentPage\n                            ? \"bg-white\"\n                            : \"bg-gray-100 cursor-default\"\n                        }`}\n                        disabled={page === currentPage || props.loading}\n                        onClick={() => setCurrentPage(page)}\n                      >\n                        {page}\n                      </button>\n                    ))}\n                </div>\n                <div>\n                  <button\n                    type=\"button\"\n                    className={`inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm leading-5 font-medium text-gray-500 ${\n                      currentPage !== totalPages && \"bg-white\"\n                    }`}\n                    aria-label=\"Next\"\n                    disabled={currentPage === totalPages || props.loading}\n                    onClick={() => setCurrentPage(currentPage + 1)}\n                  >\n                    <MdNavigateNext className=\"h-5 w-5\" />\n                  </button>\n                </div>\n              </nav>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Table;\n","import React, { FC, ReactElement, ReactNode } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Auth, System } from \"../../actions\";\nimport { StoreState } from \"../../reducers\";\nimport { NavToogle, PageHasSubNav } from \"../../actions\";\nimport { MdBrightness1, MdSearch } from \"react-icons/md\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n  system: System;\n  PageHasSubNav: Function;\n  NavToogle: Function;\n  children: ReactNode;\n}\n//\ninterface AppState {\n  loading: boolean;\n}\n\nclass _SideNavigation extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n  componentDidMount = () => this.props.PageHasSubNav(true);\n  componentWillUnmount = () => this.props.PageHasSubNav(false);\n\n  render() {\n    const isAuthenticated = this.props.auth.isAuthenticated;\n\n    if (isAuthenticated === false) {\n      return null;\n    }\n\n    const navActive = this.props.system.navigation;\n    return (\n      <div\n        className={`fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ${\n          navActive === true ? \"lg:left-16  left-16\" : \" -left-72 lg:left-16\"\n        }  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto`}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  system,\n}: StoreState): { auth: Auth; system: System } => {\n  return { auth: auth, system: system };\n};\n\nexport const SideNavigation = connect(mapStateToProps, {\n  NavToogle,\n  PageHasSubNav,\n})(_SideNavigation);\n\n//************************************ FORM SEARCH **************************************** */\n\ntype SearchComponentInterface = {\n  data: any[];\n};\n\nexport const Search: FC<SearchComponentInterface> = ({\n  data,\n}): ReactElement => {\n  return (\n    <div className=\"m-1 rounded-md shadow-md border border-blue-400 bg-white p-1 flex \">\n      <label htmlFor=\"search-text\" className=\"inline-block text-2xl\">\n        <MdSearch className=\"inline-block text-blue-400\" />\n      </label>\n      <input\n        type=\"search\"\n        className=\"outline-none bg-transparent flex-1 pl-1\"\n        placeholder=\"Search\"\n        id=\"search-text\"\n      />\n    </div>\n  );\n};\n\n//************************************ FORM SEARCH **************************************** */\n\ntype MainItemComponentInterface = {\n  title: string;\n  icon?: any;\n  active?: boolean;\n  count?: number;\n};\n\n/**\n *\n * @param param0\n * @returns\n */\nexport const MainItem: FC<MainItemComponentInterface> = ({\n  title = \"\",\n  icon = MdBrightness1,\n  active = false,\n  count = 0,\n}): ReactElement => {\n  const IconDefined = icon;\n  return (\n    <section\n      className={`${\n        active === true\n          ? \"bg-blue-500 text-white font-bold\"\n          : \"bg-blue-100 text-blue-800\"\n      } mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center`}\n    >\n      <section className=\"flex-1\">\n        <IconDefined className=\"inline-block mr-1 text-xs\" />\n        <span>{title}</span>\n      </section>\n\n      {count > 0 ? (\n        <span className=\"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full\">\n          {count}\n        </span>\n      ) : null}\n    </section>\n  );\n};\n\n//************************************ FORM SEARCH **************************************** */\n\ntype SubItemContainerComponentInterface = {\n  children: ReactNode;\n};\n\n/**\n *\n * @param param0\n * @returns\n */\nexport const SubItemContainer: FC<SubItemContainerComponentInterface> = ({\n  children,\n}): ReactElement => {\n  return (\n    <div className=\"ml-3 overflow-y-auto border-l-2 border-blue-200 -mt-1 pt-2 mb-2 pl-1 cursor-pointer\">\n      {children}\n    </div>\n  );\n};\n\n//************************************ FORM SEARCH **************************************** */\n\ntype SubItemComponentInterface = {\n  title: string;\n  icon?: any;\n  active?: boolean;\n  count?: number;\n};\n\n/**\n *\n * @param param0\n * @returns\n * @important Remenber to use these components inside the <SubItemContainer>...</SubItemContainer>\n */\nexport const SubItem: FC<SubItemComponentInterface> = ({\n  title = \"\",\n  icon = MdBrightness1,\n  active = false,\n  count = 0,\n}): ReactElement => {\n  const IconDefined = icon;\n\n  return (\n    <div\n      className={`animate__animated animate__zoomIn animate__faster ${\n        active === true ? \"bg-blue-500 text-white font-bold\" : \" text-blue-800\"\n      } text-blue-800 bg-blue-200 rounded-md px-1 mb-1 flex items-center py-1 font-bold`}\n    >\n      <IconDefined\n        className={`inline-block mr-0.1 text-xs ${\n          active === true ? \"text-white\" : \"\"\n        }`}\n      />\n      <span\n        className={`inline-block pl-1 ${active === true ? \"text-white\" : \"\"}`}\n      >\n        {title}\n      </span>\n      {count >= 1 ? (\n        <span\n          className={`text-sm fint-bold ${active === true ? \"text-white\" : \"\"}`}\n        >\n          {count}\n        </span>\n      ) : null}\n    </div>\n  );\n};\n","import axios from \"axios\";\nimport { Dispatch } from \"redux\";\nimport { ActionTypes } from \"./types\";\nimport {\n  AccessTaskInterface,\n  PermissionInterface,\n  SystemSettingsInterface,\n} from \"../shared/interfaces\";\nimport { API } from \"../utils/api\";\nimport { setAxiosToken } from \"../utils/AxiosToken\";\nimport { errorToText } from \"../utils/errors\";\nimport { PositionAPI } from \"../interfaces/position\";\n\n/**\n * * ****************************** INTERFACES *****************************\n */\n\n// SYSTEM SETTINGS  ==============\nexport interface GetSystemSettingsAction {\n  type: ActionTypes.GET_SYSTEM_SETTINGS;\n  payload: SystemSettingsInterface[];\n}\n\nexport interface DisableSystemSettingsAction {\n  type: ActionTypes.DISABLE_SYSTEM_SETTINGS;\n  payload: {\n    system_setting_id: string;\n    status: \"enabled\" | \"disabled\";\n  };\n}\n\n// ROLE TASKS ACCESS SETTINGS ===================================\nexport interface GetTaskAccessAction {\n  type: ActionTypes.GET_TASK_ACCESS;\n  payload: AccessTaskInterface[];\n}\n\n// POSITIONS SETTINGS ===================================\nexport interface PositionCreateInterface {\n  position_id?: string;\n  position_title: string;\n  description: string;\n  school_level_id: string;\n  education_institute_id: string;\n  courses: string[];\n  requirements: {\n    user_detail_category_id: string;\n    user_detail_subcategory_id: string;\n    position_requirement: {\n      category_subcategory_data_id: string;\n      required: boolean;\n    }[];\n    required: boolean;\n  }[];\n}\nexport interface GetPositionsAction {\n  type: ActionTypes.GET_POSTIONS;\n  payload: PositionAPI[];\n}\n\nexport interface CreatePositionsAction {\n  type: ActionTypes.CREATE_POSITION;\n  payload: PositionCreateInterface;\n}\n\nexport interface UpdatePositionsAction {\n  type: ActionTypes.UPDATE_POSITION;\n  payload: PositionCreateInterface;\n}\n\nexport interface DeletePositionSettingAction {\n  type: ActionTypes.DELETE_POSITION;\n  payload: string;\n}\n\nexport interface PublishPositionAction {\n  type: ActionTypes.PUBLISH_POSITION;\n  payload: {\n    position_id: string;\n    status: boolean;\n  };\n}\n\nexport type SystemActionType =\n  | GetSystemSettingsAction\n  | DisableSystemSettingsAction\n  | GetTaskAccessAction\n  | GetPositionsAction\n  | CreatePositionsAction\n  | UpdatePositionsAction\n  | DeletePositionSettingAction\n  | PublishPositionAction;\n\n/**\n * * ****************************** ACTIONS *****************************\n */\n\nexport const getSystemSettings = (callback: Function) => {\n  return async (dispatch: Dispatch) => {\n    callback(true, \"\");\n    try {\n      setAxiosToken();\n      const res = await axios.get<SystemSettingsInterface[]>(\n        `${API.AUTH}/settings`\n      );\n      dispatch<GetSystemSettingsAction>({\n        type: ActionTypes.GET_SYSTEM_SETTINGS,\n        payload: res.data,\n      });\n      callback(false, \"\");\n    } catch (error) {\n      console.log({ code_error: error });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\nexport const disableSystemSetting = (data: {\n  system_setting_id: string;\n  status: \"enabled\" | \"disabled\";\n}) => {\n  return async (dispatch: Dispatch) => {\n    dispatch<DisableSystemSettingsAction>({\n      type: ActionTypes.DISABLE_SYSTEM_SETTINGS,\n      payload: data,\n    });\n  };\n};\n\n// ============================ tasks access =======================\n\nexport const GetTaskAccess = (callback: Function) => {\n  return async (dispatch: Dispatch) => {\n    callback(true, \"\");\n    try {\n      setAxiosToken();\n      const res = await axios.get<\n        {\n          id: string;\n          title: string;\n          key: string;\n          permitted: PermissionInterface;\n        }[]\n      >(`${API.AUTH}/allroleaccess`);\n      let response: AccessTaskInterface[] = res.data.map((data) => ({\n        id: data.id,\n        task: data.title,\n        key: data.key,\n        permitted: data.permitted,\n      }));\n      dispatch<GetTaskAccessAction>({\n        type: ActionTypes.GET_TASK_ACCESS,\n        payload: response,\n      });\n      callback(false, \"\", response);\n    } catch (error) {\n      console.log({ code_error: error });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\n// ============================ positions =======================\n\nexport const getPositions = (callback: Function) => {\n  return async (dispatch: Dispatch) => {\n    callback(true, \"\");\n    try {\n      setAxiosToken();\n      const res = await axios.get<PositionAPI[]>(`${API.APPLICATION}/position`);\n      dispatch<GetPositionsAction>({\n        type: ActionTypes.GET_POSTIONS,\n        payload: res.data,\n      });\n      callback(false, \"\");\n    } catch (error) {\n      console.log({ code_error: error });\n      callback(false, errorToText(error));\n    }\n  };\n};\n\nexport const createPosition = (data: PositionCreateInterface) => {\n  console.log({ createPosition: data });\n  return async (dispatch: Dispatch) => {\n    dispatch<CreatePositionsAction>({\n      type: ActionTypes.CREATE_POSITION,\n      payload: data,\n    });\n  };\n};\n\nexport const updatePosition = (data: PositionCreateInterface) => {\n  console.log({ updatePosition: data });\n  return async (dispatch: Dispatch) => {\n    dispatch<UpdatePositionsAction>({\n      type: ActionTypes.UPDATE_POSITION,\n      payload: data,\n    });\n  };\n};\n\nexport const deletePosition = (data: string) => {\n  console.log({ deletePosition: data });\n  return async (dispatch: Dispatch) => {\n    dispatch<DeletePositionSettingAction>({\n      type: ActionTypes.DELETE_POSITION,\n      payload: data,\n    });\n  };\n};\n\nexport const publishPosition = (data: {\n  position_id: string;\n  status: boolean;\n}) => {\n  return async (dispatch: Dispatch) => {\n    dispatch<PublishPositionAction>({\n      type: ActionTypes.PUBLISH_POSITION,\n      payload: data,\n    });\n  };\n};\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport {\n  MdClose,\n  MdEdit,\n  MdErrorOutline,\n  MdHighlightOff,\n} from \"react-icons/md\";\nimport { TiInputChecked, TiKey } from \"react-icons/ti\";\nimport { connect } from \"react-redux\";\nimport {\n  createAccessRoles,\n  PushPopupAlert,\n  updateAccessRoles,\n} from \"../../actions\";\nimport { GetTaskAccess } from \"../../actions/settings\";\nimport { PopupAlertData } from \"../../components/Alert/Popup\";\nimport Loading from \"../../components/Loading/Loading\";\nimport Modal, { Themes, ModalSize } from \"../../components/Modal/Modal\";\nimport Table from \"../../components/Table/Table\";\nimport { PopupAlertTheme } from \"../../interfaces/popupAlert\";\nimport { StoreState } from \"../../reducers\";\nimport { AccessType } from \"../../reducers/access\";\nimport { isEmptyOrSpaces } from \"../../shared/dataTest\";\nimport {\n  AccessTaskInterface,\n  SystemUserRoleInterface,\n} from \"../../shared/interfaces\";\nimport { API } from \"../../utils/api\";\nimport { errorToText } from \"../../utils/errors\";\nimport StepOne from \"./StepOne\";\nimport StepTwo from \"./StepTwo\";\n\nexport enum ModalStateRole {\n  Add_Role_Access,\n  Update_Role_Access,\n  Close_Modal,\n}\n\ninterface AppProps {\n  access: AccessType;\n  filterStatus: boolean | \"all\";\n  accessTasks: AccessTaskInterface[] | null;\n  GetTaskAccess: Function;\n  createAccessRoles: Function;\n  updateAccessRoles: Function;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n}\n\ninterface AppState {\n  roleId: string;\n  roleTitle: string;\n  roleRequirement: \"none\" | \"institute\" | \"district\" | \"school\" | \"room\";\n  stepsStatus: {\n    stepOne: boolean;\n    stepTwo: boolean;\n  };\n  accessToRole: AccessTaskInterface[];\n  openModal: ModalStateRole;\n  error: { element: string; msg: string };\n  feedBack: {\n    type: \"success\" | \"danger\" | \"warning\" | \"\";\n    message: string;\n  };\n  loadingRequest: boolean;\n  loading: boolean;\n  viewRole: boolean;\n  roleSelected: SystemUserRoleInterface | null;\n}\n\nexport class AccessRole extends Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      roleId: \"\",\n      roleTitle: \"\",\n      roleRequirement: \"none\",\n      stepsStatus: {\n        stepOne: false,\n        stepTwo: false,\n      },\n      accessToRole: [],\n      openModal: ModalStateRole.Close_Modal,\n      error: { element: \"\", msg: \"\" },\n      feedBack: {\n        type: \"\",\n        message: \"\",\n      },\n      loadingRequest: false,\n      loading: true,\n      viewRole: false,\n      roleSelected: null,\n    };\n  }\n\n  setViewRole = (value: boolean) => {\n    this.setState({ viewRole: value });\n  };\n\n  setLoadingRequest = (value: boolean) => {\n    this.setState({ loadingRequest: value });\n  };\n\n  setLoading = (value: boolean) => {\n    this.setState({ loading: value });\n  };\n\n  setRoleId = (value: string) => {\n    this.setState({ roleId: value });\n  };\n\n  setRoleTitle = (value: string) => {\n    this.setState({ roleTitle: value });\n  };\n\n  setRequirement = (\n    value: \"none\" | \"institute\" | \"district\" | \"school\" | \"room\"\n  ) => {\n    this.setState({ roleRequirement: value });\n  };\n\n  setStepStatus = (value: { stepOne: boolean; stepTwo: boolean }) => {\n    this.setState({ stepsStatus: value });\n  };\n\n  setAccessToRole = (value: AccessTaskInterface[]) => {\n    this.setState({ accessToRole: value });\n  };\n\n  setOpenModal = (value: ModalStateRole) => {\n    this.setState({ openModal: value });\n  };\n\n  setError = (value: { element: string; msg: string }) => {\n    this.setState({ error: value });\n  };\n\n  setFeedBack = (value: {\n    type: \"\" | \"success\" | \"danger\" | \"warning\";\n    message: string;\n  }) => {\n    this.setState({ feedBack: value });\n  };\n\n  setRoleSelected = (value: SystemUserRoleInterface | null) => {\n    this.setState({ roleSelected: value });\n  };\n\n  whichLevel = (row: SystemUserRoleInterface): string => {\n    if (row.district_required) {\n      return \"District\";\n    } else if (row.room_required) {\n      return \"Room\";\n    } else if (row.school_required) {\n      return \"School\";\n    } else if (row.education_institution_required) {\n      return \"Institute\";\n    }\n    return \"None\";\n  };\n\n  userRows = (): JSX.Element | (false | JSX.Element)[] => {\n    const result = this.loadCurrentRoles(this.props.access.accessRoles).map(\n      (row, index) => (\n        <tr\n          key={index}\n          className={`accordion border-b border-grey-light hover:bg-gray-100 group ${\n            this.state.roleId === row.system_user_role_id && \"bg-gray-100\"\n          }`}\n        >\n          <td className=\"px-3 py-3 text-left\">{index + 1}</td>\n          <td className=\"text-gray-800 text-base font-medium text-left px-3\">\n            {row.role}\n          </td>\n          <td className=\"text-gray-800 text-base text-left px-3\">\n            {this.whichLevel(row)}\n          </td>\n          <td className=\"text-right\">\n            <div className=\"inline-flex\">\n              <button\n                className=\"btn bg-gray-300 text-gray-900 group-hover:bg-gray-600 group-hover:text-white inline-flex mr-1 focus:outline-none\"\n                onClick={() => {\n                  this.setViewRole(true);\n                  this.setRoleId(row.system_user_role_id);\n                  this.setRoleSelected(row);\n                  this.setRoleTitle(row.role);\n                  this.setRequirement(\n                    row.district_required\n                      ? \"district\"\n                      : row.school_required\n                      ? \"school\"\n                      : row.room_required\n                      ? \"room\"\n                      : \"none\"\n                  );\n                  this.setAccessToRole(this.CustomizeAccess(row.access));\n                }}\n                disabled={this.state.roleId === row.system_user_role_id}\n              >\n                <TiKey className=\"h-5 w-5 mr-1\" />\n                <span>Access</span>\n              </button>\n              <button\n                className=\"btn bg-blue-500 text-white hover:bg-blue-700 inline-flex mr-1 focus:outline-none\"\n                onClick={() => {\n                  this.setRoleId(row.system_user_role_id);\n                  this.setRoleTitle(row.role);\n                  this.setFeedBack({ type: \"\", message: \"\" });\n                  this.setOpenModal(ModalStateRole.Update_Role_Access);\n                  this.setAccessToRole(this.CustomizeAccess(row.access));\n                }}\n                disabled={\n                  this.state.roleId === row.system_user_role_id &&\n                  this.state.openModal !== ModalStateRole.Close_Modal\n                }\n              >\n                <MdEdit className=\"h-5 w-5 mr-1\" />\n                <span>Edit</span>\n              </button>\n              {/* <button\n              className=\"btn bg-red-300 text-red-900 hover:bg-red-600 hover:text-white inline-flex mr-1\"\n              onClick={() => {\n                setRoleId(row.system_user_role_id);\n                setFeedBack({ type: \"\", message: \"\" });\n                setRoleTitle(row.role);\n              }}\n              disabled={roleId === row.system_user_role_id}\n            >\n              <MdDelete className=\"h-5 w-5 mr-1\" />\n              <span>Delete</span>\n            </button> */}\n            </div>\n          </td>\n        </tr>\n      )\n    );\n\n    if (result.length >= 1) {\n      return result;\n    } else {\n      return (\n        <tr className=\"accordion border-b border-grey-light hover:bg-gray-100\">\n          <td\n            className=\"text-gray-500 text-sm font-medium text-center px-3\"\n            colSpan={3}\n          >\n            No Data Found\n          </td>\n        </tr>\n      );\n    }\n  };\n\n  typeRows = (): JSX.Element | (false | JSX.Element)[] => {\n    const roleDetails = this.props.access.accessRoles\n      .filter((role) => role.system_user_role_id === this.state.roleId)[0]\n      .access.map((access, index) => (\n        <tr\n          key={index}\n          className=\"accordion border-b border-grey-light hover:bg-gray-100\"\n        >\n          <td className=\"text-gray-800 text-xl font-medium text-left px-3 py-2\">\n            {access.task}\n          </td>\n          <td className=\"px-2\">\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.create ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.create ? (\n                <TiInputChecked />\n              ) : (\n                <MdHighlightOff />\n              )}\n              {access.permitted.create ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n          <td className=\"px-2\">\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.view ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.view ? <TiInputChecked /> : <MdHighlightOff />}\n              {access.permitted.view ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n          <td className=\"px-2\">\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.update ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.update ? (\n                <TiInputChecked />\n              ) : (\n                <MdHighlightOff />\n              )}\n              {access.permitted.update ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n          <td className=\"px-2\">\n            <div\n              className={`inline-flex items-center text-xl ${\n                access.permitted.delete ? \"text-green-700\" : \"text-red-700\"\n              }`}\n            >\n              {access.permitted.delete ? (\n                <TiInputChecked />\n              ) : (\n                <MdHighlightOff />\n              )}\n              {access.permitted.delete ? \" Yes\" : \"No\"}\n            </div>\n          </td>\n        </tr>\n      ));\n\n    if (roleDetails.length >= 1) {\n      return roleDetails;\n    } else {\n      return (\n        <tr className=\"accordion border-b border-grey-light hover:bg-gray-100\">\n          <td\n            className=\"text-gray-500 text-sm font-medium text-center px-3\"\n            colSpan={4}\n          >\n            No Tasks assigned to this Role\n          </td>\n        </tr>\n      );\n    }\n  };\n\n  CustomizeAccess = (\n    userAccess: AccessTaskInterface[]\n  ): AccessTaskInterface[] => {\n    if (!this.props.accessTasks) return [];\n    let newArray: AccessTaskInterface[] = [];\n    let oneAccess: AccessTaskInterface | undefined;\n    this.props.accessTasks.forEach((element, index) => {\n      oneAccess = userAccess.find((item) => item.key === element.key);\n      if (oneAccess) {\n        newArray.push(oneAccess);\n      } else {\n        newArray.push(element);\n      }\n    });\n\n    return newArray;\n  };\n\n  componentDidMount = () => {\n    if (this.state.loading || this.props.accessTasks === null) {\n      this.props.GetTaskAccess((status: boolean, msg: string) => {\n        this.setLoading(status);\n        if (!status && !isEmptyOrSpaces(msg)) {\n          this.props.PushPopupAlert({\n            title: msg,\n            theme: PopupAlertTheme.danger,\n          });\n        }\n      });\n    }\n  };\n\n  handleSteps = (step: 1 | 2) => {\n    if (step === 2) {\n      if (!this.state.roleTitle.length) {\n        return this.setError({\n          element: \"role-title\",\n          msg: \"Role Title is required\",\n        });\n      }\n\n      if (!this.state.roleRequirement.length) {\n        this.setRequirement(\"none\");\n      }\n\n      this.setStepStatus({ stepOne: true, stepTwo: false });\n    } else {\n      this.setStepStatus({ stepOne: false, stepTwo: false });\n    }\n  };\n\n  handleSubmit = async (e: React.FormEvent<HTMLFormElement>, step: 1 | 2) => {\n    e.preventDefault();\n    this.setFeedBack({ type: \"\", message: \"\" });\n    this.setError({\n      element: \"\",\n      msg: \"\",\n    });\n    this.setLoadingRequest(true);\n    if (step === 1) {\n      if (!this.state.roleTitle.length) {\n        return this.setError({\n          element: \"role-title\",\n          msg: \"Role Title is required\",\n        });\n      }\n\n      if (!this.state.roleRequirement.length) {\n        this.setRequirement(\"none\");\n      }\n\n      this.setStepStatus({ stepOne: true, stepTwo: false });\n    }\n    if (step === 2) {\n      if (\n        this.state.accessToRole &&\n        !this.state.accessToRole.some(\n          (e) =>\n            e.permitted.create === true ||\n            e.permitted.view === true ||\n            e.permitted.update === true ||\n            e.permitted.delete === true\n        )\n      ) {\n        return this.setError({\n          element: \"role-access\",\n          msg: \"At least one permission is required\",\n        });\n      }\n\n      try {\n        if (this.state.openModal === ModalStateRole.Add_Role_Access) {\n          const res = await axios.post<{ data: SystemUserRoleInterface[] }>(\n            `${API.AUTH}/role`,\n            {\n              role: this.state.roleTitle,\n              status: true,\n              district_required:\n                this.state.roleRequirement === \"district\" ? true : false,\n              school_required:\n                this.state.roleRequirement === \"school\" ? true : false,\n              room_required:\n                this.state.roleRequirement === \"room\" ? true : false,\n              education_institution_required:\n                this.state.roleRequirement === \"institute\" ? true : false,\n              access: this.state.accessToRole,\n            }\n          );\n          if (res) this.props.createAccessRoles(res.data.data);\n          this.setLoadingRequest(false);\n          this.cleanAndCloseModal();\n          this.setFeedBack({\n            type: \"success\",\n            message: `Role has been successfully created.`,\n          });\n        } else {\n          const res = await axios.patch<{ data: SystemUserRoleInterface[] }>(\n            `${API.AUTH}/role`,\n            {\n              role: this.state.roleTitle,\n              status: true,\n              district_required:\n                this.state.roleRequirement === \"district\" ? true : false,\n              school_required:\n                this.state.roleRequirement === \"school\" ? true : false,\n              room_required:\n                this.state.roleRequirement === \"room\" ? true : false,\n              access: this.state.accessToRole,\n              system_user_role_id: this.state.roleId,\n            }\n          );\n          console.log(res.data);\n          if (res) this.props.updateAccessRoles(res.data.data);\n          this.setLoadingRequest(false);\n          this.cleanAndCloseModal();\n          this.setFeedBack({\n            type: \"success\",\n            message: `Role has been successfully updated.`,\n          });\n        }\n      } catch (error) {\n        console.log({ role_error: error });\n        this.setFeedBack({ type: \"danger\", message: errorToText(error) });\n      }\n    }\n    this.setLoadingRequest(false);\n  };\n\n  loadCurrentRoles = (\n    accessRoles: SystemUserRoleInterface[]\n  ): SystemUserRoleInterface[] => {\n    if (this.props.filterStatus !== \"all\")\n      return accessRoles.filter(\n        (role) => role.status === this.props.filterStatus\n      );\n    else return accessRoles;\n  };\n\n  changeViewRole = (role_id: string) => {\n    let result = this.props.access.accessRoles.filter(\n      (role) => role.system_user_role_id === role_id\n    )[0];\n    this.setViewRole(true);\n    this.setRoleId(result.system_user_role_id);\n    this.setRoleSelected(result);\n    this.setRoleTitle(result.role);\n    this.setRequirement(\n      result.district_required\n        ? \"district\"\n        : result.school_required\n        ? \"school\"\n        : result.room_required\n        ? \"room\"\n        : \"none\"\n    );\n    this.setAccessToRole(this.CustomizeAccess(result.access));\n  };\n\n  cleanAndCloseModal = (): void => {\n    this.setStepStatus({ stepOne: false, stepTwo: false });\n    if (this.state.openModal !== ModalStateRole.Update_Role_Access) {\n      this.setRequirement(\"none\");\n      this.setRoleTitle(\"\");\n      this.setRoleId(\"\");\n    }\n\n    this.setLoadingRequest(false);\n    this.setFeedBack({ type: \"\", message: \"\" });\n    this.props.accessTasks\n      ? this.setAccessToRole([...this.props.accessTasks])\n      : this.setAccessToRole([]);\n    this.setRoleSelected(null);\n\n    this.setError({\n      element: \"\",\n      msg: \"\",\n    });\n    this.state.openModal === ModalStateRole.Update_Role_Access &&\n      this.setOpenModal(ModalStateRole.Close_Modal);\n  };\n\n  assignAccess = () => {};\n\n  render() {\n    if (this.props.accessTasks === null || this.state.loading) {\n      return <Loading />;\n    }\n\n    return (\n      <div className=\"w-full\">\n        {/* ------------------------- FEEDBACK -------------------------------- */}\n        {this.state.feedBack &&\n          this.state.feedBack.type !== \"\" &&\n          this.state.openModal === ModalStateRole.Close_Modal && (\n            <div className=\"w-full overflow-x-hidden\">\n              <div\n                className={`alert-${this.state.feedBack.type} flex flex-row items-center relative my-2 animate__animated animate__fadeInRight`}\n              >\n                <span className=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n                  <MdClose\n                    className=\"h-5 w-5 text-gray-700 hover:font-bold\"\n                    title=\"Close\"\n                    onClick={() => this.setFeedBack({ type: \"\", message: \"\" })}\n                  />\n                </span>\n                <MdErrorOutline className=\"h-10 w-10\" />\n                <div className=\"alert-content ml-4\">\n                  <div className=\"alert-title font-semibold text-lg\">\n                    {this.state.feedBack.type === \"success\"\n                      ? \"Success\"\n                      : \"Error\"}\n                  </div>\n                  <div className=\"alert-description text-sm\">\n                    {this.state.feedBack.message}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n        <div\n          className={`w-full bg-white text-right p-2 border border-gray-300 rounded mb-10`}\n        >\n          {/* ------------------------- CREATE NE ROLE BUTTON -------------------------------- */}\n          <button\n            className={`btn btn-blue ${\n              this.state.loadingRequest && \"cursor-wait\"\n            }`}\n            onClick={() => {\n              this.setOpenModal(ModalStateRole.Add_Role_Access);\n              this.props.accessTasks &&\n                this.setAccessToRole([...this.props.accessTasks]);\n              this.setRoleId(\"\");\n              this.setRoleTitle(\"\");\n              this.setRequirement(\"none\");\n            }}\n            disabled={\n              this.state.loadingRequest || this.props.accessTasks === null\n            }\n          >\n            New Role\n          </button>\n          {/* ------------------------- END CREATE NE ROLE BUTTON ---------------------------- */}\n          <div className=\"overflow-x-auto w-full mt-2\">\n            <Table\n              columns={[\n                { columnTitle: \"#\", alignText: \"left\" },\n                { columnTitle: \"User Roles\", alignText: \"left\" },\n                { columnTitle: \"Level\", alignText: \"left\" },\n                { columnTitle: \"\", alignText: \"center\" },\n              ]}\n              rows={this.userRows}\n              pagination={true}\n              search={true}\n              searchBG=\"bg-white\"\n              thColor=\"blue\"\n            />\n          </div>\n        </div>\n\n        {/* -----Modal Management----- */}\n        {this.state.openModal !== ModalStateRole.Close_Modal && (\n          <Modal\n            backDrop={true}\n            theme={Themes.default}\n            close={(): void => {\n              this.cleanAndCloseModal();\n              this.setOpenModal(ModalStateRole.Close_Modal);\n            }}\n            displayClose={true}\n            backDropClose={false}\n            title={\n              <div className=\"bg-white text-gray-500 font-bold text-2xl\">\n                {this.state.openModal === ModalStateRole.Add_Role_Access\n                  ? `Create New `\n                  : `Update `}\n                Role\n              </div>\n            }\n            widthSizeClass={ModalSize.extraLarge}\n            padding={{ title: true, body: false, footer: false }}\n          >\n            {/* User Access Select */}\n            <div className=\"h-full bg-gray-100 py-1\">\n              {this.state.feedBack && this.state.feedBack.type !== \"\" && (\n                <div\n                  className={`alert-${this.state.feedBack.type} flex flex-row items-center relative mx-3`}\n                >\n                  <span className=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n                    <MdClose\n                      className=\"h-5 w-5 text-gray-700 hover:font-bold\"\n                      title=\"Close\"\n                      onClick={() =>\n                        this.setFeedBack({ type: \"\", message: \"\" })\n                      }\n                    />\n                  </span>\n                  <MdErrorOutline className=\"h-10 w-10\" />\n                  <div className=\"alert-content ml-4\">\n                    <div className=\"alert-title font-semibold text-lg\">\n                      {this.state.feedBack.type === \"success\"\n                        ? \"Success\"\n                        : \"Error\"}\n                    </div>\n                    <div className=\"alert-description text-sm\">\n                      {this.state.feedBack.message}\n                    </div>\n                  </div>\n                </div>\n              )}\n              <div className=\"grid grid-cols-1 md:grid-cols-3 justify-between gap-3\">\n                <div className=\"bg-white shadow my-3 ml-3 py-2 rounded\">\n                  <div\n                    className={`flex row items-center p-3 mb-2 gap-2 cursor-pointer ${\n                      !this.state.stepsStatus.stepOne\n                        ? \"text-blue-800 bg-blue-100 border-blue-800 border-l-4\"\n                        : \"text-gray-800 bg-gray-100\"\n                    }`}\n                    onClick={() =>\n                      this.state.stepsStatus.stepOne && this.handleSteps(1)\n                    }\n                  >\n                    <div className=\"w-10 h-10 bg-white border-2 border-gary-200 rounded-full text-lg text-white flex items-center\">\n                      <span className=\"text-grey-darker text-center w-full text-gray-700\">\n                        1\n                      </span>\n                    </div>\n                    <div className=\"flex flex-col font-semibold text-xl\">\n                      Basic Information\n                      <span className=\"font-normal text-sm\">\n                        Input Role Title & a required field\n                      </span>\n                    </div>\n                  </div>\n\n                  <div\n                    className={`flex row items-center p-3 mb-2 gap-2 cursor-pointer ${\n                      this.state.stepsStatus.stepOne &&\n                      !this.state.stepsStatus.stepTwo\n                        ? \"text-blue-800 bg-blue-100 border-blue-800 border-l-4\"\n                        : \"text-gray-800 bg-gray-100\"\n                    }`}\n                    onClick={() =>\n                      !this.state.stepsStatus.stepOne &&\n                      !this.state.stepsStatus.stepTwo &&\n                      this.handleSteps(2)\n                    }\n                  >\n                    <div className=\"w-10 h-10 bg-white border-2 border-gary-200 rounded-full text-lg text-white flex items-center\">\n                      <span className=\"text-grey-darker text-center w-full text-gray-700\">\n                        2\n                      </span>\n                    </div>\n                    <div className=\"flex flex-col font-semibold text-xl\">\n                      Access Permission\n                      <span className=\"font-normal text-sm\">\n                        Give permission to new role\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                {console.log({\n                  __fff: this.props.accessTasks,\n                  ___jjj: this.state.accessToRole,\n                })}\n                <div className=\"md:col-span-2 col-span-1 bg-white shadow my-3 mr-3 py-2 rounded\">\n                  {!this.state.stepsStatus.stepOne ? (\n                    <StepOne\n                      handleSubmit={this.handleSubmit}\n                      setRoleTitle={this.setRoleTitle}\n                      roleTitle={this.state.roleTitle}\n                      setOpenModal={this.setOpenModal}\n                      setRequirement={this.setRequirement}\n                      roleRequirement={this.state.roleRequirement}\n                      error={this.state.error}\n                      setError={this.setError}\n                    />\n                  ) : (\n                    this.state.accessToRole && (\n                      <StepTwo\n                        handleSubmit={this.handleSubmit}\n                        roleTitle={this.state.roleTitle}\n                        setAccessToRole={this.setAccessToRole}\n                        accessToRole={this.state.accessToRole}\n                        error={this.state.error}\n                        setError={this.setError}\n                        loadingRequest={this.state.loadingRequest}\n                      />\n                    )\n                  )}\n                </div>\n              </div>\n            </div>\n          </Modal>\n        )}\n\n        {/* -----Modal VIEW Management----- */}\n        {this.state.viewRole && (\n          <Modal\n            backDrop={true}\n            theme={Themes.default}\n            close={(): void => {\n              this.setViewRole(false);\n              this.setRoleId(\"\");\n              this.setRoleSelected(null);\n              this.setRoleTitle(\"\");\n              this.setRequirement(\"none\");\n              this.setAccessToRole([]);\n            }}\n            displayClose={true}\n            backDropClose={false}\n            title={\n              <div className=\"bg-white text-gray-500 font-bold text-2xl\">\n                {this.state.roleTitle} Role\n              </div>\n            }\n            widthSizeClass={ModalSize.large}\n            padding={{ title: true, body: false, footer: false }}\n          >\n            {/* User Access Select */}\n            <div className=\"h-full bg-gray-100 py-1 px-2\">\n              <div className=\"my-3 flex justify-between items-start\">\n                <div>\n                  <div className=\"flex flex-col\">\n                    <select\n                      className={`rounded px-2 py-2 w-full bg-white focus:outline-none border-gray-400 border-2`}\n                      onChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\n                        this.changeViewRole(e.target.value)\n                      }\n                      value={this.state.roleId}\n                      disabled={this.state.loadingRequest}\n                    >\n                      <option value=\"\">Document Category</option>\n                      {this.loadCurrentRoles(this.props.access.accessRoles).map(\n                        (item, index) => (\n                          <option\n                            key={index + item.system_user_role_id}\n                            value={item.system_user_role_id}\n                          >\n                            {item.role}\n                          </option>\n                        )\n                      )}\n                    </select>\n                  </div>\n                  {this.state.roleSelected?.district_required && (\n                    <div className=\"flex items-center text-lg gap-1 mt-1\">\n                      <span className=\"text-gray-600\">Level: </span>\n                      <h1 className=\"font-semibold text-gray-900\">District</h1>\n                    </div>\n                  )}\n                  {this.state.roleSelected?.school_required && (\n                    <div className=\"flex items-center text-lg gap-1 mt-1\">\n                      <span className=\"text-gray-600\">Level: </span>\n                      <h1 className=\"font-semibold text-gray-900\">School</h1>\n                    </div>\n                  )}\n                  {this.state.roleSelected?.room_required && (\n                    <div className=\"flex items-center text-lg gap-1 mt-1\">\n                      <span className=\"text-gray-600\">Level: </span>\n                      <h1 className=\"font-semibold text-gray-900\">Room</h1>\n                    </div>\n                  )}\n                </div>\n                <button\n                  className=\"btn bg-blue-500 text-white hover:bg-blue-700 inline-flex mr-1\"\n                  onClick={() => {\n                    this.setOpenModal(ModalStateRole.Update_Role_Access);\n                    this.setViewRole(false);\n                    this.setStepStatus({ stepOne: true, stepTwo: false });\n                  }}\n                  disabled={this.state.openModal !== ModalStateRole.Close_Modal}\n                >\n                  <MdEdit className=\"h-5 w-5 mr-1\" />\n                  <span>Edit</span>\n                </button>\n              </div>\n\n              <Table\n                columns={[\n                  {\n                    columnTitle: \"Access Name\",\n                    alignText: \"left\",\n                    padding: \"p-3\",\n                  },\n                  { columnTitle: \"Create\", alignText: \"left\" },\n                  { columnTitle: \"View\", alignText: \"left\" },\n                  { columnTitle: \"Update\", alignText: \"left\" },\n                  { columnTitle: \"Delete\", alignText: \"left\" },\n                ]}\n                rows={this.typeRows}\n                pagination={false}\n                search={true}\n                searchBG=\"bg-gray-100\"\n                thColor=\"gray\"\n                tableId=\"tableAccessForm\"\n              />\n            </div>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  access,\n  system_settings,\n}: StoreState): {\n  access: AccessType;\n  accessTasks: AccessTaskInterface[] | null;\n} => {\n  return { access: access, accessTasks: system_settings.accessTasks };\n};\n\nexport default connect(mapStateToProps, {\n  GetTaskAccess,\n  createAccessRoles,\n  updateAccessRoles,\n  PushPopupAlert,\n})(AccessRole);\n","import React from \"react\";\nimport { ModalStateRole } from \"./AccessRole\";\ninterface AppProps {\n  handleSubmit: (e: React.FormEvent<HTMLFormElement>, step: 1 | 2) => void;\n  setRoleTitle: (value: string) => void;\n  roleTitle: string;\n  setOpenModal: (value: ModalStateRole) => void;\n  setRequirement: (\n    value: \"none\" | \"institute\" | \"district\" | \"school\" | \"room\"\n  ) => void;\n  roleRequirement: \"none\" | \"institute\" | \"district\" | \"school\" | \"room\";\n  error: {\n    element: string;\n    msg: string;\n  };\n  setError: (value: { element: string; msg: string }) => void;\n}\nconst StepOne: React.FC<AppProps> = ({\n  handleSubmit,\n  setRoleTitle,\n  roleTitle,\n  roleRequirement,\n  setRequirement,\n  error,\n  setError,\n}) => {\n  return (\n    <div>\n      <form className=\"max-w-xl mx-auto\" onSubmit={(e) => handleSubmit(e, 1)}>\n        <h1 className=\"text-3xl font-semibold mt-3 mb-5 text-center\">\n          Basic Information\n        </h1>\n        <div className=\"-mx-3 md:flex mb-6\">\n          <div className=\"md:w-full px-3\">\n            <label\n              htmlFor=\"role-title\"\n              className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"\n            >\n              Role\n            </label>\n            <input\n              type=\"text\"\n              className={`text-left input-white w-20 inline-block border-2 ${\n                error.element === \"role-title\"\n                  ? \"border-red-500\"\n                  : \"border-gray-500\"\n              }`}\n              value={roleTitle}\n              placeholder=\"Role title\"\n              onChange={(e) => {\n                setRoleTitle(e.target.value);\n                setError({\n                  element: \"\",\n                  msg: \"\",\n                });\n              }}\n              // disabled={openModal !== ModalStateRole.Update_Role_Access}\n            />\n            <p\n              className={`text-red-700 mt-1 ml-1 text-sm italic ${\n                error.element !== \"role-title\" && \"hidden\"\n              }`}\n            >\n              {error.msg}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col mb-5\">\n          <label>Field</label>\n          <span className=\"text-gray-500 text-sm\">\n            Required Field for this role\n          </span>\n          <div className=\"grid grid-flow-row grid-cols-3 sm:grid-cols-4 md:grid-cols-5 grid-rows- gap-4\">\n            <label className=\"inline-flex items-center mt-3\">\n              <input\n                type=\"radio\"\n                name=\"field\"\n                className=\"form-radio h-5 w-5 text-gray-600\"\n                onChange={() => setRequirement(\"institute\")}\n                checked={roleRequirement === \"institute\"}\n              />\n              <span className=\"ml-2 text-gray-700\">Institue</span>\n            </label>\n            <label className=\"inline-flex items-center mt-3\">\n              <input\n                type=\"radio\"\n                name=\"field\"\n                className=\"form-radio h-5 w-5 text-gray-600\"\n                onChange={() => setRequirement(\"district\")}\n                checked={roleRequirement === \"district\"}\n              />\n              <span className=\"ml-2 text-gray-700\">District</span>\n            </label>\n            <label className=\"inline-flex items-center mt-3\">\n              <input\n                type=\"radio\"\n                name=\"field\"\n                className=\"form-radio h-5 w-5 text-gray-600\"\n                onChange={() => setRequirement(\"school\")}\n                checked={roleRequirement === \"school\"}\n              />\n              <span className=\"ml-2 text-gray-700\">School</span>\n            </label>\n            <label className=\"inline-flex items-center mt-3\">\n              <input\n                type=\"radio\"\n                name=\"field\"\n                className=\"form-radio h-5 w-5 text-gray-600\"\n                onChange={() => setRequirement(\"room\")}\n                checked={roleRequirement === \"room\"}\n              />\n              <span className=\"ml-2 text-gray-700\">Room</span>\n            </label>\n            <label className=\"inline-flex items-center mt-3\">\n              <input\n                type=\"radio\"\n                name=\"field\"\n                className=\"form-radio h-5 w-5 text-gray-600\"\n                onChange={() => {\n                  setRequirement(\"none\");\n                  setError({\n                    element: \"\",\n                    msg: \"\",\n                  });\n                }}\n                checked={roleRequirement === \"none\"}\n              />\n              <span className=\"ml-2 text-gray-700\">None of the above</span>\n            </label>\n          </div>\n          <p\n            className={`text-red-700 mt-1 ml-1 text-xs italic ${\n              error.element !== \"role-field\" && \"hidden\"\n            }`}\n          >\n            {error.msg}\n          </p>\n        </div>\n        <div className=\"flex justify-end gap-5 mt-4\">\n          <button\n            className=\"btn bg-primary text-white hover:bg-blue-600 focus:outline-none\"\n            type=\"submit\"\n            // disabled\n          >\n            Save & Continue\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default StepOne;\n","import React from \"react\";\nimport {\n  MdArrowForward,\n  MdDelete,\n  MdEdit,\n  MdRemoveRedEye,\n} from \"react-icons/md\";\nimport { SiAddthis } from \"react-icons/si\";\nimport Table from \"../../components/Table/Table\";\nimport { AccessTaskInterface } from \"../../shared/interfaces\";\nimport { UserAccessList } from \"../../utils/auth_access\";\n\nexport interface accessNoRelationsInterface {\n  key: UserAccessList;\n  noRelations: UserAccessList[];\n}\nexport const accessNoRelations: accessNoRelationsInterface[] = [\n  {\n    key: UserAccessList.do_exam,\n    noRelations: [\n      UserAccessList.APPLICATION_OVERRIDE,\n      UserAccessList.CLAIM_VALIDATION,\n      UserAccessList.DOCUMENT_CHECKING,\n      UserAccessList.LOCATION_MANAGEMENT,\n      UserAccessList.POST_APPROVAL,\n      UserAccessList.POST_REQUEST,\n      UserAccessList.PREPARE_EXAM,\n      UserAccessList.PROCTORING_ROOM,\n      UserAccessList.QUESTION_BANK,\n      UserAccessList.SCHOOL_MANAGEMENT,\n      UserAccessList.SYSTEM_SETTINGS,\n      UserAccessList.USER_MANAGEMENT,\n      UserAccessList.admin,\n    ],\n  },\n];\n\nexport const getAccessNoRelationsByKey = (\n  keySearch: string,\n  thisKey: string\n): boolean => {\n  let result = accessNoRelations.find(\n    (item) => item.key === (keySearch as UserAccessList)\n  );\n  if (result) {\n  }\n  return true;\n};\n\ninterface AppProps {\n  handleSubmit: (e: React.FormEvent<HTMLFormElement>, step: 1 | 2) => void;\n  roleTitle: string;\n  setAccessToRole: (value: AccessTaskInterface[]) => void;\n  accessToRole: AccessTaskInterface[];\n  error: {\n    element: string;\n    msg: string;\n  };\n  setError: (value: { element: string; msg: string }) => void;\n  loadingRequest: boolean;\n}\n\nconst StepTwo: React.FC<AppProps> = (props) => {\n  const updateFieldChanged = (\n    index: number,\n    target: \"create\" | \"view\" | \"update\" | \"delete\",\n    value: boolean\n  ) => {\n    let newArr: AccessTaskInterface[] = props.accessToRole; // copying the old datas array\n    switch (target) {\n      case \"create\":\n        newArr[index].permitted.create = value;\n        break;\n      case \"view\":\n        newArr[index].permitted.view = value;\n        break;\n      case \"update\":\n        newArr[index].permitted.update = value;\n        break;\n      default:\n        newArr[index].permitted.delete = value;\n        break;\n    }\n\n    props.setAccessToRole(newArr);\n  };\n  const formTasks = (): JSX.Element[] => {\n    return props.accessToRole.map((access, index) => (\n      <tr\n        key={access.id + index}\n        className=\"accordion border-b border-grey-light hover:bg-gray-100\"\n      >\n        <td className=\"text-gray-800 text-base font-medium text-left px-3\">\n          {access.task}\n        </td>\n        <td className=\"py-1 px-3\">\n          <input\n            type=\"checkbox\"\n            className=\"form-checkbox h-5 w-5 text-gray-600\"\n            onChange={() => {\n              updateFieldChanged(index, \"create\", !access.permitted.create);\n              props.setError({ element: \"\", msg: \"\" });\n            }}\n            checked={access.permitted.create}\n            // disabled={}\n          />\n        </td>\n        <td className=\"py-1 px-3\">\n          <input\n            type=\"checkbox\"\n            className=\"form-checkbox h-5 w-5 text-gray-600\"\n            onChange={() => {\n              updateFieldChanged(index, \"view\", !access.permitted.view);\n              props.setError({ element: \"\", msg: \"\" });\n            }}\n            checked={access.permitted.view}\n          />\n        </td>\n        <td className=\"py-1 px-3\">\n          <input\n            type=\"checkbox\"\n            className=\"form-checkbox h-5 w-5 text-gray-600\"\n            onChange={() => {\n              updateFieldChanged(index, \"update\", !access.permitted.update);\n              props.setError({ element: \"\", msg: \"\" });\n            }}\n            checked={access.permitted.update}\n          />\n        </td>\n        <td className=\"py-1 px-3\">\n          <input\n            type=\"checkbox\"\n            className=\"form-checkbox h-5 w-5 text-gray-600\"\n            onChange={() => {\n              updateFieldChanged(index, \"delete\", !access.permitted.delete);\n              props.setError({ element: \"\", msg: \"\" });\n            }}\n            checked={access.permitted.delete}\n          />\n        </td>\n      </tr>\n    ));\n  };\n  return (\n    <div>\n      <form\n        className=\"max-w-xl mx-auto\"\n        onSubmit={(e) => props.handleSubmit(e, 2)}\n      >\n        <div className=\"mb-5\">\n          <div className=\"mb-5 mt-3\">\n            <h1 className=\"text-3xl font-semibold text-center\">\n              Access Permissions Settings\n            </h1>\n            <div className=\"flex items-center gap-2 mt-1 justify-center\">\n              <MdArrowForward className=\"w-6 h-6\" />\n              <h1 className=\"text-xl font-semibold text-gray-600 text-center\">\n                {props.roleTitle}\n              </h1>\n            </div>\n          </div>\n          <div className=\"md:flex mb-3\">\n            <div className=\"grid grid-cols-2 grid-rows-2 gap-4\">\n              <div className=\"inline-flex gap-2 items-center\">\n                <SiAddthis className=\"w-12 h-12 text-gray-600\" />\n                <div className=\"flex flex-col\">\n                  <h3 className=\"font-semibold text-xl\">Create</h3>\n                  <span className=\"text-gray-600 text-sm md:pr-1\">\n                    This permission gives the user the ability to create\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"inline-flex gap-2 items-center\">\n                <MdRemoveRedEye className=\"w-12 h-12 text-gray-600\" />\n                <div className=\"flex flex-col\">\n                  <h3 className=\"font-semibold text-xl\">View</h3>\n                  <span className=\"text-gray-600 text-sm md:pr-1\">\n                    This permission gives the user the ability to view\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"inline-flex gap-2 items-center\">\n                <MdEdit className=\"w-12 h-12 text-gray-600\" />\n                <div className=\"flex flex-col\">\n                  <h3 className=\"font-semibold text-xl\">Update</h3>\n                  <span className=\"text-gray-600 text-sm md:pr-1\">\n                    This permission gives the user the ability to update\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"inline-flex gap-2 items-center\">\n                <MdDelete className=\"w-12 h-12 text-gray-600\" />\n                <div className=\"flex flex-col\">\n                  <h3 className=\"font-semibold text-xl\">Delete</h3>\n                  <span className=\"text-gray-600 text-sm md:pr-1\">\n                    This permission gives the user the ability to delete\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <p\n            className={`text-red-700 mt-1 ml-1 text-base italic ${\n              props.error.element !== \"role-access\" && \"hidden\"\n            }`}\n          >\n            {props.error.msg}\n          </p>\n\n          <Table\n            columns={[\n              {\n                columnTitle: \"Access Name\",\n                alignText: \"left\",\n                padding: \"p-3\",\n              },\n              { columnTitle: \"Create\", alignText: \"left\" },\n              { columnTitle: \"View\", alignText: \"left\" },\n              { columnTitle: \"Update\", alignText: \"left\" },\n              { columnTitle: \"Delete\", alignText: \"left\" },\n            ]}\n            rows={formTasks}\n            pagination={false}\n            search={true}\n            thColor=\"gray\"\n          />\n\n          <div className=\"flex justify-end gap-5 mt-4\">\n            <button\n              className=\"btn bg-primary text-white hover:bg-blue-600 focus:outline-none\"\n              type=\"submit\"\n              disabled={props.loadingRequest}\n            >\n              {props.loadingRequest === true ? \"Saving...\" : \"Complete\"}\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default StepTwo;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { MdClose, MdErrorOutline, MdLock } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\nimport { StoreState } from \"../../reducers\";\nimport AccessRole from \"./AccessRole\";\nimport { fetchAccessRoles } from \"../../actions/access\";\nimport { AccessType } from \"../../reducers/access\";\nimport {\n  MainItem,\n  SideNavigation,\n} from \"../../components/Navigation/SideNavigation\";\nimport { toTwoDigit } from \"../../shared/dataTest\";\n\nenum TabTypes {\n  All_Roles = \"All Roles\",\n  Active_Roles = \"Active Roles\",\n  Blocked_Roles = \"Blocked Roles\",\n}\n\ninterface AppProps {\n  access: AccessType;\n  fetchAccessRoles: Function;\n}\n\nconst Index: React.FC<AppProps> = (props) => {\n  const [labelCounts, setLabelCounts] = useState<{\n    allRole: number;\n    activeRole: number;\n    blockedRole: number;\n  }>({\n    allRole: 0,\n    activeRole: 0,\n    blockedRole: 0,\n  });\n  const [roleStatus, setRoleStatus] = useState<TabTypes>(TabTypes.All_Roles);\n  const [feedBack, setFeedBack] = useState<{\n    type: \"success\" | \"danger\" | \"warning\" | \"\";\n    message: string;\n  }>();\n  const [loading, setLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    if (!props.access.accessRoles.length && loading) {\n      console.log(props.access.accessRoles);\n      props.fetchAccessRoles();\n    }\n\n    if (props.access.accessRoles.length) {\n      setLabelCounts({\n        allRole: props.access.accessRoles.length,\n        activeRole: props.access.accessRoles.filter((role) => role.status)\n          .length,\n        blockedRole: props.access.accessRoles.filter((role) => !role.status)\n          .length,\n      });\n      setLoading(false);\n    }\n  }, [loading, props, props.access.accessRoles]);\n\n  const handleTabs = (): JSX.Element => {\n    if (roleStatus === TabTypes.Blocked_Roles) {\n      return <AccessRole filterStatus={false} />;\n    } else if (roleStatus === TabTypes.Active_Roles) {\n      return <AccessRole filterStatus={true} />;\n    } else return <AccessRole filterStatus=\"all\" />;\n  };\n\n  if (loading === true) {\n    return (\n      <div className=\"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse\">\n        Loading roles...\n      </div>\n    );\n  }\n\n  return (\n    <Fragment>\n      <SideNavigation>\n        <span className=\"text-sm mt-2\">Filter by Status</span>\n        <section\n          className=\"mt-1\"\n          onClick={() => setRoleStatus(TabTypes.All_Roles)}\n        >\n          <MainItem\n            title={\"All Role\"}\n            count={labelCounts.allRole}\n            active={roleStatus === TabTypes.All_Roles ? true : false}\n          />\n        </section>\n        <section\n          className=\"mt-1\"\n          onClick={() => setRoleStatus(TabTypes.Active_Roles)}\n        >\n          <MainItem\n            title={\"Active Role\"}\n            count={labelCounts.activeRole}\n            active={roleStatus === TabTypes.Active_Roles ? true : false}\n          />\n        </section>\n        <section\n          className=\"mt-1\"\n          onClick={() => setRoleStatus(TabTypes.Blocked_Roles)}\n        >\n          <MainItem\n            title={\"Disabled Role\"}\n            count={labelCounts.blockedRole}\n            active={roleStatus === TabTypes.Blocked_Roles ? true : false}\n          />\n        </section>\n      </SideNavigation>\n      {/* Title */}\n      <div className=\"w-full my-5 px-1\">\n        {/* header title */}\n        <div className=\"flex flex-row items-center\">\n          <MdLock className=\"text-blue-700 w-28 h-28\" />\n          <div className=\"flex flex-col\">\n            <h1 className=\"text-3xl font-semibold\">System Roles Management</h1>\n            <div className=\"flex flex-row items-center mx-2 md:gap-3 gap-2\">\n              <div className=\"flex flex-col mt-1\">\n                <span className=\"text-gray-600 text-base\">All Role(s)</span>\n                <span className=\"text-gray-600 text-3xl font-bold\">\n                  {toTwoDigit(labelCounts.allRole)}\n                </span>\n              </div>\n              {roleStatus !== TabTypes.Blocked_Roles && (\n                <div className=\"flex flex-col mt-1\">\n                  <span className=\"text-gray-600 text-base\">\n                    Active Role(s)\n                  </span>\n                  <span className=\"text-gray-600 text-3xl font-bold\">\n                    {toTwoDigit(labelCounts.activeRole)}\n                  </span>\n                </div>\n              )}\n              {roleStatus !== TabTypes.Active_Roles && (\n                <div className=\"flex flex-col mt-1\">\n                  <span className=\"text-gray-600 text-base\">\n                    Blocked Role(s)\n                  </span>\n                  <span className=\"text-gray-600 text-3xl font-bold\">\n                    {toTwoDigit(labelCounts.blockedRole)}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        {/* end header title */}\n      </div>\n      {/* Feedback */}\n      {feedBack && feedBack.type !== \"\" && (\n        <div\n          className={`alert-${feedBack.type} flex flex-row items-center relative my-2`}\n        >\n          <span className=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n            <MdClose\n              className=\"h-5 w-5 text-gray-700 hover:font-bold\"\n              title=\"Close\"\n              onClick={() => setFeedBack({ type: \"\", message: \"\" })}\n            />\n          </span>\n          <MdErrorOutline className=\"h-10 w-10\" />\n          <div className=\"alert-content ml-4\">\n            <div className=\"alert-title font-semibold text-lg\">\n              {feedBack.type === \"success\" ? \"Success\" : \"Error\"}\n            </div>\n            <div className=\"alert-description text-sm\">{feedBack.message}</div>\n          </div>\n        </div>\n      )}\n      <div className=\"p-2 overflow-x-auto\">{handleTabs()}</div>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = ({ access }: StoreState): { access: AccessType } => {\n  return { access: access };\n};\n\nexport const AccessManagement = connect(mapStateToProps, {\n  fetchAccessRoles,\n})(Index);\n"],"sourceRoot":""}