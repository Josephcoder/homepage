(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[24,11,12,47],{1323:function(e,t,s){"use strict";s.r(t),s.d(t,"filterRoom",(function(){return X})),s.d(t,"CenterDashboard",(function(){return B}));var r,a,o=s(5),i=s.n(o),n=s(7),c=s(25),l=s(24),d=s(27),p=s(26),u=s(10),m=s.n(u),x=s(4),h=s.n(x),b=s(66),f=s(23),j=s(3),g=s(202),O=s(793),_=s(21);!function(e){e.INVIGILATOR="room_id",e.HEAD_TEACHER="school_id",e.DIRECTOR_OF_EDUCATION="district_id",e.INSTITUTE="education_institution_id"}(r||(r={})),function(e){e.first_name="first_name",e.last_name="last_name",e.email="email",e.phone_number="phone_number",e.gender="gender",e.national_id="national_id",e.province_name="province_name",e.district_name="district_name",e.center_name="center_name",e.room_name="room_name"}(a||(a={}));var v=s(32),E=s(8),P=s(14),y=s(683),R=s(723),N=s(722),C=s(17),T=s(125),S=s(124),D=s(204),w=s(33),A=s(19),L=s(820),I=s(701),k=s(1),M=function(e){var t=Object(x.useState)(""),s=Object(C.a)(t,2),r=s[0],a=s[1];return Object(k.jsxs)(x.Fragment,{children:[Object(k.jsxs)("div",{className:"mt-3 rounded flex flex-col md:flex-row md:justify-between items-start",children:[Object(k.jsxs)("div",{className:"flex flex-row items-center gap-3 mb-2",children:[Object(k.jsx)(T.b,{className:"text-7xl text-blue-600 hidden md:block"}),Object(k.jsx)("div",{className:"flex flex-col",children:Object(k.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:"Center Dashboard"})})]}),Object(k.jsxs)("section",{className:"w-full flex flex-col items-end md:w-auto my-2 md:my-0",children:[Object(k.jsx)("div",{children:Object(k.jsx)("select",{className:"bg-white text-gray-600 border border-gray-400 rounded p-2 focus:outline-none ".concat(e.loading&&"cursor-wait"),value:e.thisPeriod,disabled:e.loading,onChange:function(t){e.setThisPeriod(e.application_sessions,t.target.value)},children:e.application_sessions.map((function(e,t){return Object(k.jsx)("option",{value:e._id,children:e.session_plan_name},e._id+t)}))})}),Object(k.jsx)("div",{className:"mt-1 w-full",children:Object(k.jsxs)("div",{onClick:function(){return e.setChooseDistrict(!0)},className:"font-bold bg-gray-50 border border-gray-400 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-gray-600 w-full flex flex-row items-center animate__animated animate__zoomIn",children:["all"!==e.selectedDistrict?"".concat(e.selectedDistrict.district_name):"All district",Object(k.jsx)(D.e,{className:"text-lg text-gray-600"})]})}),Object(k.jsx)("div",{className:"mt-1 w-full",children:Object(k.jsxs)("div",{onClick:function(){return e.setChooseExam(!0)},className:"font-bold bg-gray-50 border border-gray-400 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-gray-600 w-full flex flex-row items-center animate__animated animate__zoomIn",children:["all"!==e.selectedExam?"".concat(e.selectedExam.course_name):"All exam",Object(k.jsx)(D.e,{className:"text-lg text-gray-600"})]})})]})]}),e.chooseDistrict&&Object(k.jsx)(A.d,{title:Object(k.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(k.jsx)(S.e,{className:"text-3xl text-blue-600"}),Object(k.jsx)("div",{className:"flex flex-col",children:Object(k.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose district"})})]}),backDrop:!0,theme:A.c.default,close:function(){return e.setChooseDistrict(!1)},backDropClose:!0,widthSizeClass:A.b.small,displayClose:!0,padding:{title:!0},children:Object(k.jsx)(L.a,{setChooseDistrict:e.setChooseDistrict,districtList:Object(O.b)(e.reportMainData),setSelectedDistrict:e.setSelectedDistrict,loadindRequest:e.loading,isModal:!0,selectedDistrict:e.selectedDistrict})}),e.chooseExam&&Object(k.jsx)(A.d,{title:Object(k.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(k.jsx)(S.e,{className:"text-5xl text-blue-600"}),Object(k.jsx)("div",{className:"flex flex-col",children:Object(k.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose exam"})})]}),backDrop:!0,theme:A.c.default,close:function(){return e.setChooseExam(!1)},backDropClose:!0,widthSizeClass:A.b.extraLarge,displayClose:!0,padding:{title:!0},children:null===e.courses||null===e.examsList?Object(k.jsx)(w.a,{}):Object(k.jsxs)("div",{className:"px-2 pb-2",children:[Object(k.jsx)("div",{className:"w-full py-2",children:Object(k.jsx)("input",{onChange:function(e){return a(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-white py-2 px-3 rounded border border-gray-400",disabled:Object(I.a)(e.courses,e.examsList).length<=0})}),Object(k.jsxs)("div",{onClick:function(){e.setSelectedExam("all"),e.setChooseExam(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat("all"===e.selectedExam?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"text-sm font-medium italic",children:["code: ",Object(k.jsx)("span",{className:"text-blue-500",children:"-"})]}),Object(k.jsx)("div",{className:"font-bold text-lg",children:"All exams"})]}),Object(k.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]}),Object(I.e)(Object(I.a)(e.courses,e.examsList),r).map((function(t,s){return Object(k.jsxs)("div",{onClick:function(){e.setSelectedExam(t),e.setChooseExam(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat("all"!==e.selectedExam&&e.selectedExam.course_id===t.course_id?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"text-sm font-medium italic",children:["code:"," ",Object(k.jsx)("span",{className:"text-blue-500",children:t.course_code})]}),Object(k.jsx)("div",{className:"font-bold text-lg",children:t.course_name})]}),Object(k.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]},s+1)}))]})})]})},F=h.a.memo(M),U=s(700),q=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(c.a)(this,s);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).distinctDistricts=function(){var t=[];for(var s in e.props.allData)t.includes(e.props.allData[s].district_id)||t.push(e.props.allData[s].district_id);return t},e.generateChartData=function(){var t=[],s=[],r=[],a=[],o=[],i=0,n=0,c=0,l=0,d="";return e.distinctDistricts().forEach((function(p){var u=e.props.allData.filter((function(e){return e.district_id===p}));for(var m in u)0!==u[m].room_number&&function(){d=u[m].district_name;var t=e.props.selectedExam;"all"!==t?(c=u[m].course_in_room.find((function(e){return e.course_id===t.course_id}))?u[m].course_in_room.find((function(e){return e.course_id===t.course_id})).occupied:0,l=u[m].capacity-(u[m].course_in_room.find((function(e){return e.course_id===t.course_id}))?u[m].course_in_room.find((function(e){return e.course_id===t.course_id})).occupied:0)):(c=u[m].occupied,l=u[m].capacity-u[m].occupied),i+=c,n+=l}();o.includes(p)||(o.push(p),r.push(i),a.push(n),t.push([d]),s.push(d)),d="",n=0,i=0})),{series:[{name:"Occupied room",data:r},{name:"Remaining room",data:a}],categories:t,labels:s}},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(k.jsx)(x.Fragment,{children:Object(k.jsx)("div",{className:"w-full",children:Object(k.jsx)(U.a,{labels:this.generateChartData().labels,categoriesLabel:this.generateChartData().categories,dataLabels:!0,yaxisText:" sit(s)",tooltipText:" sit(s)",series:this.generateChartData().series,colors:["#059669","#374151"],defaultBar:{borderRadius:4,horizontal:!0,columnWidth:"95%",endingShape:"rounded"},stacked:!0})})})}}]),s}(x.Component),z=h.a.memo(q),X=function(e,t){var s=e,r=!1;return"all"!==t?s=s.filter((function(e){return e.district_id===t.district_id})):r=!0,r?{all:e.filter((function(e){return"Default"!==e.room_type})),full:e.filter((function(e){return"Default"!==e.room_type&&e.occupied>=e.capacity})),remain:e.filter((function(e){return"Default"!==e.room_type&&e.occupied<e.capacity})),invigilator:e.filter((function(e){return"Default"!==e.room_type&&!Object(v.f)(e.invigilator)}))}:{all:s,full:s.filter((function(e){return e.occupied>=e.capacity})),remain:s.filter((function(e){return e.occupied<e.capacity})),invigilator:e.filter((function(e){return!Object(v.f)(e.invigilator)}))}},Y=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setSelectSession=function(e){a.setState({selectSession:e})},a.setSelectedSession=function(e){a.setState({selectedSession:e})},a.setThisPeriod=function(e,t){var s=e.find((function(e){return e._id===t}));s&&a.props.auth.education_institution_id&&(a.setState({selectedSession:s}),a.loadReportMainData(a.props.auth.education_institution_id,s))},a.loadReportMainData=function(){var e=Object(n.a)(i.a.mark((function e(t,s){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(E.a.APPLICATION,"/room/currentroomoccupation/").concat(t,"/").concat(s._id));case 3:r=e.sent,console.log("===================================="),console.log({reportMainData:r.data}),console.log("===================================="),a.setState({reportMainData:r.data}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error({reportMainData_error:e.t0}),a.props.PushPopupAlert({title:Object(P.a)(e.t0),theme:_.a.danger});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,s){return e.apply(this,arguments)}}(),a.loadInvigilator=function(){var e=Object(n.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.prev=1,e.next=4,m.a.get("".concat(E.a.AUTH,"/userbytype/").concat(r.INVIGILATOR));case 4:s=e.sent,console.log("===================================="),console.log({invigilatorData:s.data}),console.log("===================================="),a.setState({invigilatorData:s.data}),t(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error({invigilatorData_error:e.t0}),a.props.PushPopupAlert({title:Object(P.a)(e.t0),theme:_.a.danger});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),a.loadExamData=function(){null===a.props.courses||0===a.props.courses.length?a.props.loadCourses((function(e){a.setState({loadingExam:e})})):a.setState({loadingExam:!1}),null===a.props.examsList||0===a.props.examsList.length?a.props.loadExamsList((function(e){a.setState({loadingExam:e})})):a.setState({loadingExam:!1})},a.componentDidMount=function(){if(a.props.auth.education_institution_id){if(null===a.state.invigilatorData&&a.loadInvigilator(a.setLoading),null===a.props.sessionPlan.allSessionPlans||0===a.props.sessionPlan.allSessionPlans.length)a.props.GetAllSessionPlans((function(e,t,s){if(a.setLoading(e),!e&&(Object(v.f)(t)||a.props.PushPopupAlert({title:t,theme:_.a.warning}),s&&s.length>0)){var r=s.find((function(e){return e.is_active}));r?(a.setSelectedSession(r),null===a.state.reportMainData&&a.props.auth.education_institution_id&&a.loadReportMainData(a.props.auth.education_institution_id,r)):(a.setSelectedSession(s[s.length-1]),null===a.state.reportMainData&&a.props.auth.education_institution_id&&a.loadReportMainData(a.props.auth.education_institution_id,s[s.length-1]))}}));else if(a.props.sessionPlan.allSessionPlans.length>0){var e=a.props.sessionPlan.allSessionPlans.find((function(e){return e.is_active}));e?(a.setSelectedSession(e),null===a.state.reportMainData&&a.props.auth.education_institution_id&&a.loadReportMainData(a.props.auth.education_institution_id,e)):(a.setSelectedSession(a.props.sessionPlan.allSessionPlans[a.props.sessionPlan.allSessionPlans.length-1]),null===a.state.reportMainData&&a.props.auth.education_institution_id&&a.loadReportMainData(a.props.auth.education_institution_id,a.props.sessionPlan.allSessionPlans[a.props.sessionPlan.allSessionPlans.length-1])),a.setLoading(!1)}null===a.props.courses||0===a.props.courses.length?a.props.loadCourses((function(e){a.setState({loadingExam:e})})):a.setState({loadingExam:!1}),null===a.props.examsList||0===a.props.examsList.length?a.props.loadExamsList((function(e){a.setState({loadingExam:e})})):a.setState({loadingExam:!1})}},a.setChooseDistrict=function(e){a.setState({chooseDistrict:e})},a.setSelectedDistrict=function(e){a.setState({selectedDistrict:e})},a.setChooseExam=function(e){a.setState({chooseExam:e})},a.setSelectedExam=function(e){a.setState({selectedExam:e})},a.roomDataFilter=function(e,t){return"all"!==t?e.filter((function(e){return e.course_in_room.filter((function(e){return e.course_id===t.course_id}))})):e},a.state={loading:!0,loadingExam:!0,selectSession:!1,selectedSession:null,reportMainData:null,formError:null,selectedDistrict:"all",chooseDistrict:!1,invigilatorData:null,chooseExam:!1,selectedExam:"all"},a}return Object(l.a)(s,[{key:"render",value:function(){return this.props.sessionPlan.allSessionPlans&&0===this.props.sessionPlan.allSessionPlans.length?Object(k.jsx)(y.a,{}):null===this.state.selectedSession||null===this.props.sessionPlan.allSessionPlans||null===this.state.reportMainData||null===this.state.invigilatorData?Object(k.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):Object(k.jsxs)("section",{children:[Object(k.jsx)(F,{loading:this.state.loading,thisPeriod:this.state.selectedSession._id,setThisPeriod:this.setThisPeriod,application_sessions:this.props.sessionPlan.allSessionPlans,chooseDistrict:this.state.chooseDistrict,setChooseDistrict:this.setChooseDistrict,selectedDistrict:this.state.selectedDistrict,setSelectedDistrict:this.setSelectedDistrict,reportMainData:this.state.reportMainData,chooseExam:this.state.chooseExam,setChooseExam:this.setChooseExam,selectedExam:this.state.selectedExam,setSelectedExam:this.setSelectedExam,examsList:this.props.examsList,courses:this.props.courses}),this.state.reportMainData&&Object(k.jsxs)("section",{className:"my-2",children:[Object(k.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Room occupation status"}),Object(k.jsx)(N.a,{dataLabels:[{title:"Total room",icon:b.g,iconColor:"blue",count:X(Object(O.c)(this.state.reportMainData,this.state.invigilatorData),this.state.selectedDistrict).all.length},{title:"Full room",icon:b.g,iconColor:"green",count:X(Object(O.c)(this.state.reportMainData,this.state.invigilatorData),this.state.selectedDistrict).full.length},{title:"Available room",icon:b.g,iconColor:"gray",count:X(Object(O.c)(this.state.reportMainData,this.state.invigilatorData),this.state.selectedDistrict).remain.length},{title:"Room with invigilator",icon:b.g,iconColor:"gray",count:X(Object(O.c)(this.state.reportMainData,this.state.invigilatorData),this.state.selectedDistrict).invigilator.length}],labelsOnRow:5,children:Object(k.jsx)("div",{className:"flex justify-center",children:Object(k.jsx)(R.a,{options:{labels:["Prepared","Remaining"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#4b5563"]},series:[X(Object(O.c)(this.state.reportMainData,this.state.invigilatorData),this.state.selectedDistrict).full.length,X(Object(O.c)(this.state.reportMainData,this.state.invigilatorData),this.state.selectedDistrict).remain.length],width:210})})})]}),Object(k.jsxs)("section",{className:"my-3 max-w-full bg-white",children:[Object(k.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(k.jsxs)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:["Room availability"," ","all"===this.state.selectedDistrict?"on country level":"in "+this.state.selectedDistrict.district_name+" district"]})}),Object(k.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(k.jsx)(z,{allData:this.roomDataFilter(Object(O.c)(this.state.reportMainData,this.state.invigilatorData),this.state.selectedExam),selectedExam:this.state.selectedExam})})]})]})}}]),s}(x.Component),B=Object(f.b)((function(e){var t=e.auth,s=e.sessionPlan,r=e.course,a=e.prepareExam;return{auth:t,sessionPlan:s,courses:r.courses,examsList:a.examsList}}),{GetAllSessionPlans:g.d,loadCourses:j.Fc,loadExamsList:j.Kc,PushPopupAlert:j.Qb})(Y)},683:function(e,t,s){"use strict";var r=s(4),a=s.n(r),o=s(49),i=s(1),n=function(e){e.title;var t=e.description,s=void 0===t?"Please Wait for the system to publish the sessions or contact the administrator":t;return Object(i.jsx)("div",{className:"w-full my-5",children:Object(i.jsxs)("section",{className:"py-10 flex flex-col items-center rounded border border-gray-300 bg-white text-2xl font-medium text-yellow-800 animate__animated animate__pulse",children:[Object(i.jsxs)("div",{className:"flex flex-col items-center",children:[Object(i.jsx)(o.q,{className:"w-32 h-32"}),s]}),!1]})})};t.a=a.a.memo(n)},684:function(e,t,s){"use strict";s.d(t,"b",(function(){return x})),s.d(t,"a",(function(){return h}));var r=s(25),a=s(24),o=s(27),i=s(26),n=s(4),c=s.n(n),l=s(23),d=s(3),p=s(12),u=s(1),m=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){return a.props.PageHasSubNav(!0)},a.componentWillUnmount=function(){return a.props.PageHasSubNav(!1)},a.state={loading:!1},a}return Object(a.a)(s,[{key:"render",value:function(){if(!1===this.props.auth.isAuthenticated)return null;var e=this.props.system.navigation;return Object(u.jsx)("div",{className:"fixed w-48 p-1 pr-2 pl-6 text-gray-700 bg-white ".concat(!0===e?"lg:left-16  left-16":" -left-72 lg:left-16","  top-0 bottom-0 pt-20 z-30 shadow-lg  transition-all duration-500 ease-in-out overflow-y-auto"),children:this.props.children})}}]),s}(c.a.Component),x=Object(l.b)((function(e){return{auth:e.auth,system:e.system}}),{NavToogle:d.Ob,PageHasSubNav:d.Pb})(m),h=function(e){var t=e.title,s=void 0===t?"":t,r=e.icon,a=void 0===r?p.n:r,o=e.active,i=void 0!==o&&o,n=e.count,c=void 0===n?0:n,l=a;return Object(u.jsxs)("section",{className:"".concat(!0===i?"bg-blue-500 text-white font-bold":"bg-blue-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex cursor-pointer items-center"),children:[Object(u.jsxs)("section",{className:"flex-1",children:[Object(u.jsx)(l,{className:"inline-block mr-1 text-xs"}),Object(u.jsx)("span",{children:s})]}),c>0?Object(u.jsx)("span",{className:"px-0.5 my-1 text-xs bg-blue-600 text-white rounded-full",children:c}):null]})}},686:function(e,t,s){"use strict";s.d(t,"e",(function(){return m})),s.d(t,"c",(function(){return x})),s.d(t,"d",(function(){return h})),s.d(t,"a",(function(){return b})),s.d(t,"f",(function(){return j}));var r,a=s(17),o=s(4),i=s.n(o),n=s(72),c=s(33),l=s(32),d=s(28),p=s(690),u=s(1);!function(e){e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.STATUS="exam_status"}(r||(r={}));var m=function(e){return e!==r.COURSER_NAME&&e!==r.COURSE_CODE&&e!==r.PERIOD&&e!==r.STATUS},x=[{key:r.COURSER_NAME,title:"Course names",status:!0},{key:r.COURSE_CODE,title:"Course code",status:!0},{key:r.SCHOOL_LEVEL,title:"School levels",status:!0},{key:r.PERIOD,title:"Exam period",status:!0},{key:r.DATE,title:"Exam date",status:!0},{key:r.TIME,title:"Exam time",status:!0},{key:r.DURATION,title:"Exam duration",status:!0},{key:r.STATUS,title:"Exam Status",status:!0}],h=function(e){return"Done"===e?"Completed":"Editing"===e?"In exam":e},b=function(e,t,s){var r=[],a=[],o=function(o){if(Object.prototype.hasOwnProperty.call(t,o)){if(a.includes(t[o].id))return"continue";a.push(t[o].id);var i=e.find((function(e){return e.course_id===t[o].course}));if(i){var n=s.find((function(e){return e.course===t[o].course&&e.period===t[o].period}));r.push({course_name:i.course_name,course_code:i.course_code,description:i.description,school_levels:i.school_levels,course_id:i.course_id,exam:t[o],preparation_status:n?n.exam_status:"remaining"})}}};for(var i in t)o(i);return r},f=function(e,t){return"all"===t?e:e.filter((function(e){return e.preparation_status===t}))},j=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var r in e)if(s=!1,"course_name"!==r&&"course_code"!==r&&"preparation_status"!==r||(s=e[r].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},g=function(e){var t=Object(o.useState)(""),s=Object(a.a)(t,2),r=s[0],i=s[1],m=Object(o.useState)(!1),x=Object(a.a)(m,2),g=x[0],O=x[1],_=Object(o.useState)(""),v=Object(a.a)(_,2),E=v[0],P=v[1],y=Object(o.useState)("ASC"),R=Object(a.a)(y,2),N=R[0],C=R[1],T=function(e){E===e&&"ASC"===N?(C("DESC"),P(e),O(!0)):(C("ASC"),P(e),O(!0))};return Object(u.jsx)(o.Fragment,{children:Object(u.jsxs)("div",{className:"bg-white my-4",children:[Object(u.jsx)("div",{className:"w-full px-2 py-2",children:Object(u.jsx)("input",{onChange:function(e){return i(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.doneExamsData&&f(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress).length<=0)})}),Object(u.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(u.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return T("course_name")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(u.jsx)(n.j,{})]})}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return T("preparation_status")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Exam Status ",Object(u.jsx)(n.j,{})]})})]})}),Object(u.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:7,className:"px-2 py-2",children:Object(u.jsx)(c.a,{})})}):e.examsListData&&e.doneExamsData&&f(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress).length<=0?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:7,className:"px-2 py-2 text-center",children:"No Exam list available!"})}):e.examsListData&&e.doneExamsData&&Object(d.r)(g,j(f(b(e.courseListData,e.examsListData,e.doneExamsData),e.filterExamProgress),r),E,N).map((function(t,s){return Object(u.jsxs)("tr",{className:"".concat("Done"===t.preparation_status?"bg-blue-50":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(u.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(u.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(t.course_name)," (",Object(u.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.exam_date):"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(p.getPeriodById)(e.thisPeriod,t.exam.period)?Object(p.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:Object(l.a)(h(t.preparation_status))})]},s+1)}))})]})]})})};t.b=i.a.memo(g)},689:function(e,t,s){"use strict";s.d(t,"h",(function(){return m})),s.d(t,"e",(function(){return x})),s.d(t,"c",(function(){return h})),s.d(t,"g",(function(){return b})),s.d(t,"b",(function(){return f})),s.d(t,"d",(function(){return j})),s.d(t,"f",(function(){return g})),s.d(t,"a",(function(){return O}));var r,a=s(5),o=s.n(a),i=s(7),n=s(10),c=s.n(n),l=s(6),d=s(8),p=s(16),u=s(14),m=30;!function(e){e.waiting="waiting",e.approved="approved",e.rejected="rejected"}(r||(r={}));var x=function(e,t){return t&&t(!0,"",null),function(){var s=Object(i.a)(o.a.mark((function s(r){var a;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,Object(p.b)(),s.next=4,c.a.get("".concat(d.a.USER,"/?page=").concat(e,"&limit=").concat(m));case 4:a=s.sent,console.log("===================================="),console.log({fetchUserAccess:a}),console.log("===================================="),r({type:l.a.FETCH_USERS_ACCESS,payload:{users:[{data:a.data.users,page:e}],next:a.data.next,previous:a.data.previous,total_users:a.data.total_users}}),t&&t(!1,"",a.data.users),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(0),console.error({user_error:s.t0}),t&&t(!1,Object(u.a)(s.t0),null);case 16:case"end":return s.stop()}}),s,null,[[0,12]])})));return function(e){return s.apply(this,arguments)}}()},h=function(e,t){return function(){var s=Object(i.a)(o.a.mark((function s(r){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:l.a.BLOCK_USER_TO_SYSTEM,payload:{id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},b=function(e,t){return function(){var s=Object(i.a)(o.a.mark((function s(r){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:l.a.UNBLOCK_USER_TO_SYSTEM,payload:{id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},f=function(e,t){return function(){var s=Object(i.a)(o.a.mark((function s(r){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:l.a.ASSIGN_ROLE_TO_USER,payload:{data:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},j=function(e,t){return function(){var s=Object(i.a)(o.a.mark((function s(r){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:l.a.CUSTOMIZE_USER_ACCESS,payload:{data:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},g=function(e,t){return function(){var s=Object(i.a)(o.a.mark((function s(r){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r({type:l.a.RESET_USER_ACCESS,payload:{user_id:e,page:t}});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},O=function(){var e=Object(i.a)(o.a.mark((function e(t,s){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,"",null),e.prev=1,Object(p.b)(),e.next=5,c.a.get("".concat(d.a.USER,"/check/").concat(t));case 5:r=e.sent,console.log("=================FC_GetUserBySearch==================="),console.log({FC_GetUserBySearch:r}),console.log("=================FC_GetUserBySearch==================="),s(!1,"",r.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error({user_error:e.t0}),s(!1,Object(u.a)(e.t0),null);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,s){return e.apply(this,arguments)}}()},690:function(e,t,s){"use strict";s.r(t),s.d(t,"getExamByCourseId",(function(){return G})),s.d(t,"getPeriodById",(function(){return H})),s.d(t,"loadAllExams",(function(){return V})),s.d(t,"reportTitleType",(function(){return r})),s.d(t,"ExamReport",(function(){return K}));var r,a=s(5),o=s.n(a),i=s(7),n=s(25),c=s(24),l=s(27),d=s(26),p=s(4),u=s.n(p),m=s(72),x=s(204),h=s(12),b=s(23),f=s(3),j=s(202),g=s(692),O=s(33),_=s(684),v=s(162),E=s(9),P=s(21),y=s(32),R=s(28),N=s(683),C=s(17),T=s(699),S=s(686),D=s(1),w=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",o=[];o="all"===a?e:e.filter((function(e){return e.exam_stastus===a})),s&&(o=o.filter((function(e){return e.exam.exam_location&&e.exam.exam_location.district_id===s}))),r&&(o=o.filter((function(e){return e.course_id===r})));for(var i=0;i<o.length;i++)for(var n=i;n<o.length;n++)o[n].user_total_marks>o[i].user_total_marks&&(t=o[n],o[n]=o[i],o[i]=t);return o},A=u.a.memo(Object(b.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(p.useState)(""),s=Object(C.a)(t,2),r=s[0],a=s[1];return Object(D.jsx)(p.Fragment,{children:Object(D.jsxs)("div",{className:"bg-white my-4",children:[Object(D.jsx)("div",{className:"w-full px-2 py-2",children:Object(D.jsx)("input",{onChange:function(e){return a(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.candidatePerformanceData&&w(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).length<=0)})}),Object(D.jsx)("div",{className:"w-full overflow-x-auto",children:Object(D.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(D.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Applicants"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Email"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(D.jsx)("td",{className:"px-2 py-2",children:Object(D.jsx)("div",{className:"flex items-center gap-1",children:"Exam"})}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Exam period"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Exam start time"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Exam end time"}),Object(D.jsx)("td",{className:"px-2 py-2",children:Object(D.jsx)("div",{className:"flex items-center gap-1",children:"Marks"})}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(D.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(D.jsx)("tr",{children:Object(D.jsx)("td",{colSpan:12,className:"px-2 py-2",children:Object(D.jsx)(O.a,{})})}):e.candidatePerformanceData&&w(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).length<=0?Object(D.jsx)("tr",{children:Object(D.jsx)("td",{colSpan:12,className:"px-2 py-2 text-center",children:"No applicant list available!"})}):e.candidatePerformanceData&&Object(T.g)(w(Object(T.a)(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:null,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:null,e.filterApplicantPerformance).slice(0,30),r).map((function(t,s){return Object(D.jsxs)("tr",{className:"".concat(Object(T.d)(t.exam_stastus)," text-gray-600 hover:bg-blue-100 hover:text-blue-700 text-sm"),children:[Object(D.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(D.jsx)("td",{className:"px-2 py-2",children:Object(y.a)(t.user_name)}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.national_id}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.user_email}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.user_phone}),Object(D.jsxs)("td",{className:"px-2 py-2",children:[Object(y.a)(t.course_name)," (",Object(D.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.exam&&H(e.thisPeriod,t.exam.period)?H(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.exam.exam_date?Object(R.a)(t.exam.exam_date):"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.exam.start_time?Object(R.s)(t.exam.start_time).timeAMPM:"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.exam.end_time?Object(R.s)(t.exam.end_time).timeAMPM:"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.exam_stastus!==E.i.Editing?Number(t.user_total_marks.toFixed(1))+"%":"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:Object(y.a)(Object(S.d)(t.exam_stastus))})]},s+1)}))})]})})]})})}))),L=s(701),I=s(721),k=s(48),M=function(e,t,s,r,a){var o,i=0,n=0,c=[],l=[],d=[],p=s.filter((function(e){return"done"===e.exam_status.toLocaleLowerCase()})),u=function(s){if(Object.prototype.hasOwnProperty.call(p,s)){if(d.includes(p[s].id))return"continue";d.push(p[s].id);var o=e.find((function(e){return e.course_id===p[s].course})),u=0;if(o){var m=r.filter((function(e){return e.course===p[s].course&&e.exam_location&&e.exam_location.district_id===a}));for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)){if(l.includes(m[x].user.user_id))continue;l.push(m[x].user.user_id),u+=m[x].total_marks,m[x].user_status!==E.i.Editing&&m[x].total_marks>=50?i+=1:m[x].user_status!==E.i.Editing&&(n+=1)}var h=t.find((function(e){return e.course===p[s].course&&e.period===p[s].period}));h&&c.push({course_name:o.course_name,course_code:o.course_code,description:o.description,school_levels:o.school_levels,course_id:o.course_id,exam:h,pass_applicant:i,failed_applicant:n,applicants:l.length,user_total_marks:u?u/l.length:u}),u=0,l=[]}}d=[]};for(var m in p)u(m);for(var x=0;x<c.length;x++)for(var h=x;h<c.length;h++)c[h].user_total_marks>c[x].user_total_marks&&(o=c[h],c[h]=c[x],c[x]=o);return c},F=u.a.memo(Object(b.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(p.useState)(""),s=Object(C.a)(t,2),r=s[0],a=s[1];return Object(D.jsx)(p.Fragment,{children:Object(D.jsxs)("div",{className:"bg-white my-4 max-w-full overflow-x-auto",children:[Object(D.jsx)("div",{className:"w-full px-2 py-2",children:Object(D.jsx)("input",{onChange:function(e){return a(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&M(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).slice(0,30).length<=0)})}),Object(D.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(D.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(D.jsx)("td",{className:"px-2 py-2 cursor-pointer",children:Object(D.jsx)("div",{className:"flex items-center gap-1",children:"Course"})}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Pass Applicants"}),Object(D.jsx)("td",{className:"px-2 py-2",children:"Failed Applicants"}),Object(D.jsx)("td",{className:"px-2 py-2 cursor-pointer",children:Object(D.jsx)("div",{className:"flex items-center gap-1",children:"Percentage"})})]})}),Object(D.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(D.jsx)("tr",{children:Object(D.jsx)("td",{colSpan:9,className:"px-2 py-2",children:Object(D.jsx)(O.a,{})})}):e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&M(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).length<=0?Object(D.jsx)("tr",{children:Object(D.jsx)("td",{colSpan:9,className:"px-2 py-2 text-center",children:Object(D.jsx)(v.b,{theme:v.a.Dark,value:"No Exam list available!ss"})})}):e.examsListData&&e.doneExamsData&&e.candidatePerformanceData&&e.adminExamReport.reportDistrictId&&Object(k.a)(M(e.courseListData,e.examsListData,e.doneExamsData,e.candidatePerformanceData,e.adminExamReport.reportDistrictId.district_id).slice(0,30),r).map((function(t,s){return Object(D.jsxs)("tr",{className:"bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm",children:[Object(D.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(D.jsxs)("td",{className:"px-2 py-2",children:[Object(y.a)(t.course_name)," (",Object(D.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(R.a)(t.exam.exam_date):"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:t.exam&&H(e.thisPeriod,t.exam.period)?H(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:void 0!==t.pass_applicant?t.pass_applicant:"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:void 0!==t.failed_applicant?t.failed_applicant:"-"}),Object(D.jsx)("td",{className:"px-2 py-2",children:Number(t.user_total_marks.toFixed(1))+"%"})]},s+1)}))})]})]})})}))),U=function(e){return Object(D.jsx)(p.Fragment,{children:e.reportTitle!==r.EXAM_PERFORMANCE&&e.reportTitle!==r.EXAM_DISTRICT_PERFORMANCE&&Object(D.jsxs)("div",{className:"pt-1",children:[Object(D.jsx)("div",{className:"text-sm text-gray-700 pb-2 pt-2",children:"Filter by statuses:"}),e.reportTitle===r.EXAM_PREPARATION&&Object(D.jsxs)("section",{children:[Object(D.jsx)("div",{onClick:function(){return e.setFilterPreparation("all")},children:Object(D.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterPreparation})}),Object(D.jsx)("div",{onClick:function(){return e.setFilterPreparation("prepared")},children:Object(D.jsx)(_.a,{title:"Prepared",count:0,active:"prepared"===e.filterPreparation})}),Object(D.jsx)("div",{onClick:function(){return e.setFilterPreparation("not prepared")},children:Object(D.jsx)(_.a,{title:"Not Prepared",count:0,active:"not prepared"===e.filterPreparation})})]}),e.reportTitle===r.EXAMINATION_PROGRESS&&Object(D.jsxs)("section",{children:[Object(D.jsx)("div",{onClick:function(){return e.setFilterExamProgress("all")},children:Object(D.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterExamProgress})}),Object(D.jsx)("div",{onClick:function(){return e.setFilterExamProgress("Done")},children:Object(D.jsx)(_.a,{title:"Completed exam",count:0,active:"Done"===e.filterExamProgress})}),Object(D.jsx)("div",{onClick:function(){return e.setFilterExamProgress("Active")},children:Object(D.jsx)(_.a,{title:"Remaining Exam",count:0,active:"Active"===e.filterExamProgress})})]}),(e.reportTitle===r.APPLICANTS_PERFORMANCE||e.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(D.jsxs)("section",{children:[Object(D.jsx)("div",{onClick:function(){return e.setFilterApplicantPerformance("all")},children:Object(D.jsx)(_.a,{title:"All",count:0,active:"all"===e.filterApplicantPerformance})}),Object.values(E.i).map((function(t,s){return Object(D.jsx)("div",{onClick:function(){return e.setFilterApplicantPerformance(t)},children:Object(D.jsx)(_.a,{title:Object(S.d)(t),count:0,active:e.filterApplicantPerformance===t})},s+t)}))]})]})})},q=u.a.memo(U),z=s(705),X=s(66),Y=s(748),B=u.a.memo(Object(b.b)((function(e){var t=e.adminExamReport,s=e.schoolLevels,r=e.course,a=e.prepareExam;return{schoolLevels:s,courses:r.courses,examsList:a.examsList,adminExamReport:t}}),{SetReportDistrictId:f.Xb})((function(e){var t=Object(p.useState)(!1),s=Object(C.a)(t,2),a=s[0],o=s[1],i=Object(p.useState)(!1),n=Object(C.a)(i,2),c=n[0],l=n[1],d=Object(p.useState)(!1),u=Object(C.a)(d,2),x=u[0],h=u[1],b=Object(p.useState)(!1),f=Object(C.a)(b,2),j=f[0],g=f[1];return Object(p.useEffect)((function(){e.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&null===e.adminExamReport.reportDistrictId&&l(!0),e.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&null!==e.adminExamReport.reportDistrictId&&l(!1)}),[e.adminExamReport.reportDistrictId,e.reportTitle]),Object(D.jsxs)(p.Fragment,{children:[Object(D.jsxs)("div",{className:"grid md:grid-cols-12 items-center",children:[Object(D.jsx)("div",{className:"col-span-1 md:col-span-8",children:Object(D.jsxs)("div",{className:"mt-4 mx-4 flex flex-col gap-1",children:[Object(D.jsx)("span",{className:"text-xl font-bold text-gray-700",children:"Exam Report"}),Object(D.jsxs)("div",{className:"flex flex-row gap-2 items-end cursor-pointer",onClick:function(){return o(!0)},children:[Object(D.jsx)("span",{className:"text-gray-500 text-xl",children:"Report type: "}),Object(D.jsxs)("span",{className:"text-blue-600 text-3xl font-bold underline",children:[e.reportTitle," ",e.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_name:""]})]}),(e.reportTitle===r.EXAM_DISTRICT_PERFORMANCE||e.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE||e.reportTitle===r.APPLICANTS_PERFORMANCE)&&Object(D.jsxs)("div",{className:"flex flex-wrap justify-starts items-center text-xs text-gray-800 font-medium gap-1 my-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Filter result: "}),!e.adminExamReport.reportDistrictId||e.reportTitle!==r.APPLICANTS_DISTRICT_PERFORMANCE&&e.reportTitle!==r.EXAM_DISTRICT_PERFORMANCE?Object(D.jsx)("span",{className:"px-2 py-1 rounded bg-gray-300",children:"# All district"}):Object(D.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-300",children:["# ",e.adminExamReport.reportDistrictId.district_name]}),e.adminExamReport.reportCourseId?e.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE&&Object(D.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-300",children:["#",e.adminExamReport.reportCourseId.course_name+" ("+e.adminExamReport.reportCourseId.course_code+")"]}):Object(D.jsx)("span",{className:"px-2 py-1 rounded bg-gray-300",children:"# All exams"})]})]})}),Object(D.jsx)("div",{className:"col-span-1 md:col-span-4",children:Object(D.jsxs)("div",{className:"float-right mt-3",children:[e.dataToPrint&&e.dataToPrint.length>0&&Object(D.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold mb-2",children:[Object(D.jsx)(m.e,{className:"text-2xl text-gray-500"}),Object(D.jsx)("span",{className:"text-gray-500",children:"Export as"}),Object(D.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 focus:outline-none",onClick:function(){e.updateExamToPrint(),h(!0),e.setGenerateReportModal({reportType:"EXCEL",status:!0})},children:"EXCEL"}),Object(D.jsx)("button",{className:"px-4 py-1 ml-1 rounded bg-white border hover:text-blue-600 font-bold hover:bg-blue-50 border-gray-200 focus:outline-none ".concat(e.downloading&&"cursor-wait"),onClick:function(){return e.downlaodPDF()},disabled:e.downloading,children:"PDF"})]}),Object(D.jsx)("div",{children:Object(D.jsxs)("div",{onClick:function(){return o(!0)},className:"bg-blue-50 py-2 px-2 border border-blue-300 text-blue-600 font-medium hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm float-right",children:[Object(D.jsx)(X.e,{className:"text-xl"}),"Change Report"]})}),Object(D.jsxs)("section",{className:"flex items-center gap-1 float-right mt-1",children:[(e.reportTitle===r.EXAM_DISTRICT_PERFORMANCE||e.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(D.jsxs)("div",{onClick:function(){return l(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(D.jsx)(m.g,{className:"text-xl"}),"Filter by district"]}),(e.reportTitle===r.APPLICANTS_PERFORMANCE||e.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(D.jsxs)("div",{onClick:function(){return g(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(D.jsx)(m.g,{className:"text-xl"}),"Filter by exam"]})]})]})})]}),x&&Object(D.jsx)(z.b,{modalFor:z.a.generateReportModal,modalState:x,changeModalState:h,reportTitle:e.reportTitle,setGenerateReportModal:e.setGenerateReportModal,excelReportTitle:e.excelReportTitle,setExcelReportTitle:e.setExcelReportTitle,updateExamToPrint:e.updateExamToPrint,generateReportModal:e.generateReportModal,examsToPrint:e.examsToPrint,examPreparationReportContent:e.examPreparationReportContent,setExamPreparationReportContent:e.setExamPreparationReportContent,examPerformanceToPrint:e.examPerformanceToPrint,examPerformanceReportContent:e.examPerformanceReportContent,setExamPerformanceReportContent:e.setExamPerformanceReportContent,exam30PerformanceToPrint:e.exam30PerformanceToPrint,exam30PerformanceReportContent:e.exam30PerformanceReportContent,setExam30PerformanceReportContent:e.setExam30PerformanceReportContent,examinationProgressToPrint:e.examinationProgressToPrint,examinationProgressReportContent:e.examinationProgressReportContent,setExaminationProgressExamPerformanceReportContent:e.setExaminationProgressExamPerformanceReportContent,candidateExamPerformanceToPrint:e.candidateExamPerformanceToPrint,candidateExamPerformanceReportContent:e.candidateExamPerformanceReportContent,setCandidateExamPerformanceReportContent:e.setCandidateExamPerformanceReportContent,candidate30ExamPerformanceToPrint:e.candidate30ExamPerformanceToPrint,candidate30ExamPerformanceReportContent:e.candidate30ExamPerformanceReportContent,setCandidate30ExamPerformanceReportContent:e.setCandidate30ExamPerformanceReportContent}),a&&Object(D.jsx)(z.b,{modalFor:z.a.title,modalState:a,reportTitle:e.reportTitle,changeModalState:o,setReportTitle:e.setReportTitle,setExcelReportTitle:e.setExcelReportTitle}),c&&Object(D.jsx)(z.b,{modalFor:z.a.choose_district,modalState:c,changeModalState:l,districtId:e.adminExamReport.reportDistrictId?e.adminExamReport.reportDistrictId.district_id:"all",reportTitle:e.reportTitle}),j&&Object(Y.loadExaminationProgress)(e.adminExamReport.DoneExam,e.examsList,e.schoolLevels.selectedEducationCategory,e.courses,e.schoolLevels.school_levels,e.thisPeriod)&&Object(D.jsx)(z.b,{modalFor:z.a.choose_exam,modalState:j,AllExamData:Object(Y.loadExaminationProgress)(e.adminExamReport.DoneExam,e.examsList,e.schoolLevels.selectedEducationCategory,e.courses,e.schoolLevels.school_levels,e.thisPeriod).finished,changeModalState:g,thisExam:e.adminExamReport.reportCourseId})]})}))),G=function(e,t){return e.find((function(e){return e.course===t}))},H=function(e,t){return e.find((function(e){return e._id===t}))},V=function(e,t){var s=e;return s=s&&t?s.filter((function(e){return e.period===(null===t||void 0===t?void 0:t._id)})):e};!function(e){e.APPLICANTS_PERFORMANCE="Exam report",e.EXAM_PREPARATION="List of prepared and not prepared exams",e.EXAM_PERFORMANCE="Exam performance",e.EXAMINATION_PROGRESS="List of complete & remaining exams",e.EXAM_DISTRICT_PERFORMANCE="Top 30 exams passed in",e.APPLICANTS_DISTRICT_PERFORMANCE="Top 30 applicants performance"}(r||(r={}));var W=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setLoadingCourses=function(e){a.setState({loadingCourses:e})},a.setLoadingExams=function(e){a.setState({loadingExams:e})},a.setDownloading=function(e){a.setState({downloading:e})},a.setLoadingDoneExam=function(e){a.setState({loadingDoneExam:e})},a.setLoadingCandidatesExamPerformance=function(e){a.setState({loadingCandidatesExamPerformance:e})},a.setLoadingExamPerformance=function(e){a.setState({loadingExamPerformance:e})},a.setLoadingSettings=function(e){a.setState({loadingSettings:e})},a.setSelectPeriod=function(e){a.setState({selectPeriod:e})},a.setDistrictModal=function(e){a.setState({districtModal:e})},a.setFilterPreparation=function(e){a.setState({filterPreparation:e})},a.setFilterExamProgress=function(e){a.setState({filterExamProgress:e})},a.setFilterApplicantPerformance=function(e){a.setState({filterApplicantPerformance:e})},a.setGenerateReportModal=function(e){a.setState({generateReportModal:e})},a.setSelectedPeriod=function(e){a.setState({selected_period:e})},a.setReportTitle=function(e){a.setState({reportTitle:e})},a.setExcelReportTitle=function(e){a.setState({excelReportTitle:e})},a.setExamsToPrint=function(e){a.setState({examsToPrint:e})},a.setExamPreparationReportContent=function(e){a.setState({examPreparationReportContent:e})},a.setExamPerformanceToPrint=function(e){a.setState({examPerformanceToPrint:e})},a.setExamPerformanceReportContent=function(e){a.setState({examPerformanceReportContent:e})},a.setExam30PerformanceToPrint=function(e){a.setState({exam30PerformanceToPrint:e})},a.setExam30PerformanceReportContent=function(e){a.setState({exam30PerformanceReportContent:e})},a.setExaminationProgressToPrint=function(e){a.setState({examinationProgressToPrint:e})},a.setExaminationProgressExamPerformanceReportContent=function(e){a.setState({examinationProgressReportContent:e})},a.setCandidateExamPerformanceToPrint=function(e){a.setState({candidateExamPerformanceToPrint:e})},a.setCandidateExamPerformanceReportContent=function(e){a.setState({candidateExamPerformanceReportContent:e})},a.setCandidate30ExamPerformanceToPrint=function(e){a.setState({candidate30ExamPerformanceToPrint:e})},a.setCandidate30ExamPerformanceReportContent=function(e){a.setState({candidate30ExamPerformanceReportContent:e})},a.selectDefaultSession=function(e){if(e.length>0){var t=e.find((function(e){return e.is_active}));a.setSelectedPeriod(t||e[0]),a.onPeriodChange(t?t._id:e[0]._id)}a.setSelectPeriod(!1)},a.FD_GetSessions=function(e){a.setSelectedPeriod(null),a.props.FC_GetAllSessionByInstitution(e,(function(e,t,s){a.setLoadingSettings(e),e||(Object(y.f)(t)||a.props.PushPopupAlert({title:t,theme:P.a.danger}),s&&s.length>0&&a.selectDefaultSession(s))}))},a.componentDidMount=function(){if(Object(R.d)(a.props.auth.education_institution_id)&&a.FD_GetSessions(a.props.auth.education_institution_id),null===a.props.schoolLevels.education_categories||a.props.schoolLevels.education_categories.length)a.props.loadEducationCategories((function(e,t){if(a.setLoadingSettings(e),!e&&t&&t.length>0)if(!1===Object(R.d)(a.props.auth.education_institution_id))a.props.setSelectedEducationCategory(t[0]),a.FD_GetSessions(t[0].education_institute_id);else{var s=t.find((function(e){return e.education_institute_id===a.props.auth.education_institution_id}));a.props.setSelectedEducationCategory(s||t[0])}}));else if(!a.props.schoolLevels.selectedEducationCategory)if(!1===Object(R.d)(a.props.auth.education_institution_id))a.props.setSelectedEducationCategory(a.props.schoolLevels.education_categories[0]),a.FD_GetSessions(a.props.schoolLevels.education_categories[0].education_institute_id);else{var e=a.props.schoolLevels.education_categories.find((function(e){return e.education_institute_id===a.props.auth.education_institution_id}));a.props.setSelectedEducationCategory(e||a.props.schoolLevels.education_categories[0])}if((null===a.props.schoolLevels.school_levels||a.props.schoolLevels.school_levels.length<=0)&&a.props.loadSchoolLevels(a.setLoadingSettings),null===a.props.courses||0===a.props.courses.length&&a.state.loadingCourses?a.props.loadCourses(a.setLoadingCourses):a.state.loadingCourses&&a.setLoadingCourses(!1),null===a.props.examsList||0===a.props.examsList.length&&a.state.loadingExams?a.props.loadExamsList(a.setLoadingExams):a.state.loadingExams&&a.setLoadingExams(!1),a.state.excelReportTitle===a.state.reportTitle){var t="";a.state.excelReportTitle===r.EXAM_DISTRICT_PERFORMANCE&&a.props.adminExamReport.reportDistrictId?t+=" ".concat(a.props.adminExamReport.reportDistrictId.district_name," district"):a.state.excelReportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE?(a.props.adminExamReport.reportDistrictId&&(t+=" in ".concat(a.props.adminExamReport.reportDistrictId.district_name," district")),a.props.adminExamReport.reportCourseId&&(t+=" in exam of ".concat(a.props.adminExamReport.reportCourseId.course_name,"(").concat(a.props.adminExamReport.reportCourseId.course_code,")"))):t="",a.setExcelReportTitle(a.state.excelReportTitle+t),a.setLoading(!1)}},a.onPeriodChange=function(e){a.props.loadDoneExam(e,(function(e,t){a.setLoadingDoneExam(e),e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:P.a.danger}),a.setLoadingDoneExam(!1))})),a.props.loadPerfomranceExam(e,(function(e,t){a.setLoadingExamPerformance(e),e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:P.a.danger}),a.setLoadingExamPerformance(!1))})),a.props.loadCandidatesExamPerformance({order:"desc",sortBy:f.Tb.DATE,filter:{period:e}},(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:P.a.danger}),a.setLoadingCandidatesExamPerformance(!1))}))},a.getLevelbyId=function(e){if(a.props.schoolLevels.school_levels)return a.props.schoolLevels.school_levels.find((function(t){return t.school_level_id===e}))},a.getCourses=function(){var e=[],t=!0;if(a.props.courses)if(a.props.schoolLevels.selectedEducationCategory){var s=function(t){Object.prototype.hasOwnProperty.call(a.props.courses,t)&&(a.props.courses[t].school_levels.length>0?a.props.courses[t].school_levels.forEach((function(s){var r=a.getLevelbyId(s);r&&(r.education_institute.includes(a.props.schoolLevels.selectedEducationCategory.education_institute_id)||r.education_institute.length<=0)&&e&&e.push(a.props.courses[t])})):e&&e.push(a.props.courses[t]))};for(var r in a.props.courses)s(r)}else t=!1;return t?e:a.props.courses},a.updateExamToPrint=function(){if(a.state.reportTitle===r.EXAM_PREPARATION&&V(a.props.examsList,a.state.selected_period)&&a.getCourses()&&a.props.periods.allSessionPlans){var e=Object(L.a)(a.getCourses(),V(a.props.examsList,a.state.selected_period)),t=[],s=1;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i="";e[o].school_levels.length?e[o].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?i=s?s.school_level_name:"":i+=s?", "+s.school_level_name:""})):i="Any level";var n={course_id:s,course_name:e[o].course_name,course_code:e[o].course_code,description:e[o].description,school_levels:e[o].school_levels.length?i:"Any",exam_period:e[o].exam&&H(a.props.periods.allSessionPlans,e[o].exam.period)?H(a.props.periods.allSessionPlans,e[o].exam.period).session_plan_name:"-",exam_date:e[o].exam?Object(R.a)(e[o].exam.exam_date):"-",exam_time:e[o].exam?e[o].exam.start_time:"-",exam_duration:e[o].exam?e[o].exam.duration.toString():"-",preparation_status:e[o].exam?"Prepared":"Not prepared"};for(var c in a.state.examPreparationReportContent)Object.prototype.hasOwnProperty.call(a.state.examPreparationReportContent,c)&&(a.state.examPreparationReportContent[c].status||delete n[a.state.examPreparationReportContent[c].key]);t.push(n),s++}a.setExamsToPrint(t),t=[],s=1}if(a.state.reportTitle===r.EXAM_PERFORMANCE&&V(a.props.examsList,a.state.selected_period)&&a.getCourses()&&a.props.adminExamReport.ExamPerformance&&a.props.periods.allSessionPlans){var l=Object(I.a)(a.getCourses(),V(a.props.examsList,a.state.selected_period),a.props.adminExamReport.ExamPerformance),d=[],p=1;for(var u in l)if(Object.prototype.hasOwnProperty.call(l,u)){var m="";l[u].school_levels.length?l[u].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?m=s?s.school_level_name:"":m+=s?", "+s.school_level_name:""})):m="Any level";var x={course_id:p,course_name:l[u].course_name,course_code:l[u].course_code,description:l[u].description,school_levels:l[u].school_levels.length?m:"Any",exam_period:l[u].exam&&H(a.props.periods.allSessionPlans,l[u].exam.period)?H(a.props.periods.allSessionPlans,l[u].exam.period).session_plan_name:"-",exam_date:l[u].exam?Object(R.a)(l[u].exam.exam_date):"-",exam_time:l[u].exam?l[u].exam.start_time:"-",exam_duration:l[u].exam?l[u].exam.duration.toString():"-",exam_performance:Number(l[u].exam_performance.toFixed(1))};for(var h in a.state.examPerformanceReportContent)Object.prototype.hasOwnProperty.call(a.state.examPerformanceReportContent,h)&&(a.state.examPerformanceReportContent[h].status||delete x[a.state.examPerformanceReportContent[h].key]);d.push(x),p++}a.setExamPerformanceToPrint(d),d=[],p=1}if(a.state.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&V(a.props.examsList,a.state.selected_period)&&a.getCourses()&&a.props.adminExamReport.DoneExam&&a.props.adminExamReport.CandidatesExamPerformance&&a.props.adminExamReport.reportDistrictId&&a.props.periods.allSessionPlans){var b=M(a.getCourses(),V(a.props.examsList,a.state.selected_period),a.props.adminExamReport.DoneExam,a.props.adminExamReport.CandidatesExamPerformance,a.props.adminExamReport.reportDistrictId.district_id).slice(0,30),f=[],j=1;for(var g in b)if(Object.prototype.hasOwnProperty.call(b,g)){var O="";b[g].school_levels.length?b[g].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?O=s?s.school_level_name:"":O+=s?", "+s.school_level_name:""})):O="Any level";var _={course_id:j,course_name:b[g].course_name,course_code:b[g].course_code,description:b[g].description,school_levels:b[g].school_levels.length?O:"Any",exam_period:b[g].exam&&H(a.props.periods.allSessionPlans,b[g].exam.period)?H(a.props.periods.allSessionPlans,b[g].exam.period).session_plan_name:"-",exam_date:b[g].exam?Object(R.a)(b[g].exam.exam_date):"-",exam_time:b[g].exam?b[g].exam.start_time:"-",exam_duration:b[g].exam?b[g].exam.duration.toString():"-",exam_performance:0};for(var v in a.state.exam30PerformanceReportContent)Object.prototype.hasOwnProperty.call(a.state.exam30PerformanceReportContent,v)&&(a.state.exam30PerformanceReportContent[v].status||delete _[a.state.exam30PerformanceReportContent[v].key]);f.push(_),j++}a.setExam30PerformanceToPrint(f),f=[],j=1}if(a.state.reportTitle===r.EXAMINATION_PROGRESS&&V(a.props.examsList,a.state.selected_period)&&a.getCourses()&&a.props.adminExamReport.DoneExam&&a.props.periods.allSessionPlans){var P=Object(S.a)(a.getCourses(),V(a.props.examsList,a.state.selected_period),a.props.adminExamReport.DoneExam),N=[],C=1;for(var D in P)if(Object.prototype.hasOwnProperty.call(P,D)){var A="";P[D].school_levels.length?P[D].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?A=s?s.school_level_name:"":A+=s?", "+s.school_level_name:""})):A="Any level";var k={course_id:C,course_name:P[D].course_name,course_code:P[D].course_code,description:P[D].description,school_levels:P[D].school_levels.length?A:"Any",exam_period:P[D].exam&&H(a.props.periods.allSessionPlans,P[D].exam.period)?H(a.props.periods.allSessionPlans,P[D].exam.period).session_plan_name:"-",exam_date:P[D].exam?Object(R.a)(P[D].exam.exam_date):"-",exam_time:P[D].exam?P[D].exam.start_time:"-",exam_duration:P[D].exam?P[D].exam.duration.toString():"-",exam_status:"Done"===P[D].preparation_status?"Completed":P[D].preparation_status};for(var F in a.state.examinationProgressReportContent)Object.prototype.hasOwnProperty.call(a.state.examinationProgressReportContent,F)&&(a.state.examinationProgressReportContent[F].status||delete k[a.state.examinationProgressReportContent[F].key]);N.push(k),C++}a.setExaminationProgressToPrint(N),N=[],C=1}if(a.state.reportTitle===r.APPLICANTS_PERFORMANCE&&a.getCourses()&&a.props.adminExamReport.CandidatesExamPerformance&&a.props.periods.allSessionPlans){var U=Object(T.a)(a.getCourses(),a.props.adminExamReport.CandidatesExamPerformance,a.props.adminExamReport.reportCourseId?a.props.adminExamReport.reportCourseId.course_id:"all"),q=[],z=1;for(var X in U)if(Object.prototype.hasOwnProperty.call(U,X)){var Y="";U[X].school_levels.length?U[X].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?Y=s?s.school_level_name:"":Y+=s?", "+s.school_level_name:""})):Y="Any level";var B={applicant_id:z,course_name:U[X].course_name,course_code:U[X].course_code,description:U[X].description,school_levels:U[X].school_levels.length?Y:"Any",exam_period:H(a.props.periods.allSessionPlans,U[X].exam.period)?H(a.props.periods.allSessionPlans,U[X].exam.period).session_plan_name:"-",exam_date:Object(R.a)(U[X].exam.exam_date),exam_start_time:Object(R.s)(Number(U[X].exam.start_time)).timeAMPM,exam_end_time:Object(R.s)(Number(U[X].exam.end_time)).timeAMPM,performance_status:Object(y.a)(Object(S.d)(U[X].exam_stastus)),applicant_name:Object(y.a)(U[X].user_name),national_id:U[X].national_id,email:U[X].user_email,phone:U[X].user_phone,marks:U[X].exam_stastus!==E.i.Editing?Number(U[X].user_total_marks.toFixed(1))+"%":"-"};for(var G in a.state.candidateExamPerformanceReportContent)Object.prototype.hasOwnProperty.call(a.state.candidateExamPerformanceReportContent,G)&&(a.state.candidateExamPerformanceReportContent[G].status||delete B[a.state.candidateExamPerformanceReportContent[G].key]);q.push(B),z++}a.setCandidateExamPerformanceToPrint(q),q=[],z=1}if(a.state.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE&&a.getCourses()&&a.props.adminExamReport.CandidatesExamPerformance&&a.props.periods.allSessionPlans){var W=w(Object(T.a)(a.getCourses(),a.props.adminExamReport.CandidatesExamPerformance,a.props.adminExamReport.reportCourseId?a.props.adminExamReport.reportCourseId.course_id:"all"),a.props.adminExamReport.reportDistrictId?a.props.adminExamReport.reportDistrictId.district_id:null,a.props.adminExamReport.reportCourseId?a.props.adminExamReport.reportCourseId.course_id:null,a.state.filterApplicantPerformance).slice(0,30),K=[],Q=1;for(var Z in W)if(Object.prototype.hasOwnProperty.call(W,Z)){var J="";W[Z].school_levels.length?W[Z].school_levels.forEach((function(e,t){var s=a.getLevelbyId(e);0===t?J=s?s.school_level_name:"":J+=s?", "+s.school_level_name:""})):J="Any level";var $={applicant_id:Q,course_name:W[Z].course_name,course_code:W[Z].course_code,description:W[Z].description,school_levels:W[Z].school_levels.length?J:"Any",exam_period:H(a.props.periods.allSessionPlans,W[Z].exam.period)?H(a.props.periods.allSessionPlans,W[Z].exam.period).session_plan_name:"-",exam_date:Object(R.a)(W[Z].exam.exam_date),exam_start_time:Object(R.s)(Number(W[Z].exam.start_time)).timeAMPM,exam_end_time:Object(R.s)(Number(W[Z].exam.end_time)).timeAMPM,performance_status:Object(y.a)(Object(S.d)(W[Z].exam_stastus)),applicant_name:Object(y.a)(W[Z].user_name),national_id:W[Z].national_id,email:W[Z].user_email,phone:W[Z].user_phone,marks:W[Z].exam_stastus!==E.i.Editing?Number(W[Z].user_total_marks.toFixed(1))+"%":"-"};for(var ee in a.state.candidate30ExamPerformanceReportContent)Object.prototype.hasOwnProperty.call(a.state.candidate30ExamPerformanceReportContent,ee)&&(a.state.candidate30ExamPerformanceReportContent[ee].status||delete $[a.state.candidate30ExamPerformanceReportContent[ee].key]);K.push($),Q++}a.setCandidate30ExamPerformanceToPrint(K),K=[],Q=1}},a.addToTitle=function(){var e="";return a.state.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&a.props.adminExamReport.reportDistrictId?e+=" ".concat(a.props.adminExamReport.reportDistrictId.district_name," district"):a.state.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE?(a.props.adminExamReport.reportDistrictId&&(e+=" in ".concat(a.props.adminExamReport.reportDistrictId.district_name," district")),a.props.adminExamReport.reportCourseId&&(e+=" in exam of ".concat(a.props.adminExamReport.reportCourseId.course_name,"(").concat(a.props.adminExamReport.reportCourseId.course_code,")"))):e="",e},a.downlaodPDF=Object(i.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.querySelectorAll("#report_content tbody tr").length){e.next=3;break}return a.props.PushPopupAlert({title:"Can't generate Report of empty Data",theme:P.a.warning}),e.abrupt("return",!1);case 3:if(!a.state.selected_period){e.next=10;break}if(t=document.getElementById("report_content"),s={doneBy:a.props.auth.user.fname+" "+a.props.auth.user.lname,title:"Exam Report",subjectTitle:"Subject",subject:"".concat(a.state.reportTitle," ").concat(a.addToTitle()),period:a.state.selected_period.session_plan_name,footer:"Online Teacher Recruitment",institute:a.props.schoolLevels.selectedEducationCategory?a.props.schoolLevels.selectedEducationCategory.education_category_title:"All institute",orientation:a.state.reportTitle===r.APPLICANTS_PERFORMANCE||a.state.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE?"l":"p"},e.t0=t,!e.t0){e.next=10;break}return e.next=10,Object(g.a)(s,t,a.setDownloading);case 10:case"end":return e.stop()}}),e)}))),a.state={loading:!0,loadingCourses:!0,loadingExams:!0,downloading:!1,loadingDoneExam:!0,loadingCandidatesExamPerformance:!0,loadingExamPerformance:!0,loadingSettings:!0,selectPeriod:!1,districtModal:!1,filterPreparation:"all",filterExamProgress:"all",filterApplicantPerformance:"all",generateReportModal:null,selected_period:null,reportTitle:r.APPLICANTS_PERFORMANCE,excelReportTitle:r.APPLICANTS_PERFORMANCE,examsToPrint:null,examPreparationReportContent:L.c,examPerformanceToPrint:null,examPerformanceReportContent:I.c,exam30PerformanceToPrint:null,exam30PerformanceReportContent:I.c,examinationProgressToPrint:null,examinationProgressReportContent:S.c,candidateExamPerformanceToPrint:null,candidateExamPerformanceReportContent:T.f,candidate30ExamPerformanceToPrint:null,candidate30ExamPerformanceReportContent:T.f},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return this.state.loading||null===this.props.periods.allSessionPlans?Object(D.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading data..."}):0===this.props.periods.allSessionPlans.length?Object(D.jsx)(N.a,{}):Object(D.jsxs)("div",{children:[Object(D.jsxs)(_.b,{children:[!1===Object(R.d)(this.props.auth.education_institution_id)&&Object(D.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(D.jsx)("span",{className:"text-sm text-gray-600 mb-2",children:"Education categories:"}),null===this.props.schoolLevels.education_categories?Object(D.jsx)(O.a,{}):0===this.props.schoolLevels.education_categories.length?Object(D.jsx)("span",{children:"No result found"}):this.props.schoolLevels.education_categories.map((function(t,s){return Object(D.jsxs)("div",{onClick:function(){e.props.setSelectedEducationCategory(t),e.FD_GetSessions(t.education_institute_id),e.updateExamToPrint()},className:"border rounded px-2 py-2 mb-2 cursor-pointer ".concat(null!==e.props.schoolLevels.selectedEducationCategory&&e.props.schoolLevels.selectedEducationCategory.education_institute_id===t.education_institute_id?"bg-blue-600 text-white hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500":"hover:bg-blue-100 hover:text-blue-600 hover:border-blue-500"," font-bold flex flex-row items-center gap-2"),children:[null!==e.props.schoolLevels.selectedEducationCategory&&e.props.schoolLevels.selectedEducationCategory.education_institute_id===t.education_institute_id?Object(D.jsx)(h.Bb,{}):Object(D.jsx)(h.Cb,{}),Object(D.jsx)("span",{children:t.education_category_title})]},s+1)}))]}),Object(D.jsxs)("div",{className:"",children:[Object(D.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Selected period:"}),Object(D.jsxs)("div",{onClick:function(){return e.setSelectPeriod(!0)},className:"font-bold bg-blue-50 border border-blue-200 rounded py-2 cursor-pointer text-xs px-2 hover:underline justify-between text-blue-600  mb-4 w-full flex flex-row items-center animate__animated animate__zoomIn",children:[null!==this.state.selected_period?"".concat(Object(y.b)(this.state.selected_period.session_plan_name)):"Filter by period",Object(D.jsx)(x.e,{className:"text-lg text-blue-600"})]})]}),Object(D.jsx)(q,{reportTitle:this.state.reportTitle,filterPreparation:this.state.filterPreparation,setFilterPreparation:this.setFilterPreparation,filterExamProgress:this.state.filterExamProgress,setFilterExamProgress:this.setFilterExamProgress,filterApplicantPerformance:this.state.filterApplicantPerformance,setFilterApplicantPerformance:this.setFilterApplicantPerformance})]}),Object(D.jsx)(B,{downloading:this.state.downloading,dataToPrint:V(this.props.examsList,this.state.selected_period),downlaodPDF:this.downlaodPDF,reportTitle:this.state.reportTitle,setReportTitle:this.setReportTitle,setGenerateReportModal:this.setGenerateReportModal,generateReportModal:this.state.generateReportModal,excelReportTitle:this.state.excelReportTitle,setExcelReportTitle:this.setExcelReportTitle,updateExamToPrint:this.updateExamToPrint,examsToPrint:this.state.examsToPrint,examPreparationReportContent:this.state.examPreparationReportContent,setExamPreparationReportContent:this.setExamPreparationReportContent,examPerformanceToPrint:this.state.examPerformanceToPrint,examPerformanceReportContent:this.state.examPerformanceReportContent,setExamPerformanceReportContent:this.setExamPerformanceReportContent,exam30PerformanceToPrint:this.state.exam30PerformanceToPrint,exam30PerformanceReportContent:this.state.exam30PerformanceReportContent,setExam30PerformanceReportContent:this.setExam30PerformanceReportContent,examinationProgressToPrint:this.state.examinationProgressToPrint,examinationProgressReportContent:this.state.examinationProgressReportContent,setExaminationProgressExamPerformanceReportContent:this.setExaminationProgressExamPerformanceReportContent,candidateExamPerformanceToPrint:this.state.candidateExamPerformanceToPrint,candidateExamPerformanceReportContent:this.state.candidateExamPerformanceReportContent,setCandidateExamPerformanceReportContent:this.setCandidateExamPerformanceReportContent,candidate30ExamPerformanceToPrint:this.state.candidate30ExamPerformanceToPrint,candidate30ExamPerformanceReportContent:this.state.candidate30ExamPerformanceReportContent,setCandidate30ExamPerformanceReportContent:this.setCandidate30ExamPerformanceReportContent,thisPeriod:this.state.selected_period?this.state.selected_period._id:""}),this.state.reportTitle===r.EXAM_PREPARATION&&this.props.periods.allSessionPlans&&Object(D.jsx)(L.b,{loading:this.state.loadingExams||this.state.loadingCourses||this.state.loadingDoneExam,examsListData:V(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,filterPreparation:this.state.filterPreparation}),this.state.reportTitle===r.EXAMINATION_PROGRESS&&this.props.periods.allSessionPlans&&Object(D.jsx)(S.b,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingDoneExam),examsListData:V(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,doneExamsData:this.props.adminExamReport.DoneExam,filterExamProgress:this.state.filterExamProgress}),this.state.reportTitle===r.EXAM_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(D.jsx)(I.b,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingExamPerformance),examsListData:V(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,examsPerformanceData:this.props.adminExamReport.ExamPerformance}),this.state.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&this.props.periods.allSessionPlans&&this.props.adminExamReport.reportDistrictId?Object(D.jsx)(F,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:V(this.props.examsList,this.state.selected_period),doneExamsData:this.props.adminExamReport.DoneExam,courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,thisDistrict:this.props.adminExamReport.reportDistrictId}):this.state.reportTitle===r.EXAM_DISTRICT_PERFORMANCE&&Object(D.jsx)(v.b,{theme:v.a.Light,value:"Select district to view data",component:Object(D.jsxs)("div",{onClick:function(){return e.setDistrictModal(!0)},className:"btn bg-blue-50 border border-blue-300 text-blue-600 cursor-pointer hover:bg-blue-100 flex flex-row items-center justify-center gap-2 text-sm ",children:[Object(D.jsx)(m.g,{className:"text-xl"}),"Filter by district"]})}),this.state.reportTitle===r.APPLICANTS_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(D.jsx)(T.e,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:V(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,filterApplicantPerformance:this.state.filterApplicantPerformance}),this.state.reportTitle===r.APPLICANTS_DISTRICT_PERFORMANCE&&this.props.periods.allSessionPlans&&Object(D.jsx)(A,{loading:!!this.state.loadingExams||(!!this.state.loadingCourses||!!this.state.loadingCandidatesExamPerformance),examsListData:V(this.props.examsList,this.state.selected_period),courseListData:this.getCourses(),thisPeriod:this.props.periods.allSessionPlans,candidatePerformanceData:this.props.adminExamReport.CandidatesExamPerformance,filterApplicantPerformance:this.state.filterApplicantPerformance}),this.state.districtModal&&Object(D.jsx)(z.b,{modalFor:z.a.choose_district,modalState:this.state.districtModal,changeModalState:this.setDistrictModal,districtId:this.props.adminExamReport.reportDistrictId?this.props.adminExamReport.reportDistrictId.district_id:"all",reportTitle:this.state.reportTitle}),Object(D.jsx)(z.b,{modalState:this.state.selectPeriod,changeModalState:this.setSelectPeriod,applicationPeriods:this.props.periods.allSessionPlans,selected_period:this.state.selected_period,setSelectedPeriod:this.setSelectedPeriod,onPeriodChange:this.onPeriodChange,modalFor:z.a.period})]})}}]),s}(p.Component),K=Object(b.b)((function(e){var t=e.auth,s=e.sessionPlan,r=e.schoolLevels,a=e.course,o=e.prepareExam,i=e.adminExamReport;return{auth:t,periods:s,schoolLevels:r,courses:a.courses,examsList:o.examsList,adminExamReport:i}}),{setSelectedPeriod:f.jd,loadCourses:f.Fc,loadExamsList:f.Kc,FC_GetAllSessionByInstitution:j.b,loadEducationCategories:f.Hc,loadDoneExam:f.Gc,loadSchoolLevels:f.Pc,loadPerfomranceExam:f.Mc,loadCandidatesExamPerformance:f.Ec,setSelectedEducationCategory:f.fd,PushPopupAlert:f.Qb})(W)},691:function(e,t,s){"use strict";s(4);var r=s(716),a=s(717),o=s(34),i=s(1);t.a=function(e){var t=e.fileData,s=e.fileName,n=e.btnName,c=void 0===n?"Excel":n,l=e.className,d=void 0===l?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":l,p=e.showIcon,u=void 0===p||p;return Object(i.jsxs)("button",{onClick:function(e){return function(e,t){var s={Sheets:{data:a.utils.json_to_sheet(e)},SheetNames:["data"]},o=a.write(s,{bookType:"xlsx",type:"array"}),i=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});r.saveAs(i,t+".xlsx")}(t,s)},className:d,children:[u&&Object(i.jsx)(o.j,{}),c]})}},692:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var r=s(5),a=s.n(r),o=s(7),i=s(708),n=s(28),c=s.p+"static/media/mineduc.11a9ae1c.png";s(715);var l=function(e){var t=e.internal.getNumberOfPages();e.setFont("helvetica","italic"),e.setFontSize(8);for(var s=1;s<=t;s++)e.setPage(s),e.text("Page "+String(s)+" of "+String(t),e.internal.pageSize.width/2,297,{align:"center"})},d=function(){var e=Object(o.a)(a.a.mark((function e(t,s,r){var o,d,p,u,m,x,h,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r(!0),o=t.orientation?t.orientation:"p",d=20,20,185,(p=new i.default(o,"mm","a4")).setTextColor(95,95,95),p.setFontSize(28),p.addImage(c,"png",20,20,10,10),p.text("MINEDUC",32,28.5,void 0,"left"),p.setFontSize(26),p.text(t.title,p.internal.pageSize.getWidth()/2,42.7,void 0,"center"),p.setFontSize(20),p.text(t.institute,p.internal.pageSize.getWidth()/2,53.7,void 0,"center"),u=p.splitTextToSize(t.subject,145),p.setFontSize(16),m=63,p.setTextColor(95,95,95),p.text("".concat(t.subjectTitle,": "),d,m),x=p.getTextWidth("".concat(t.subjectTitle,": ")),p.setTextColor(38,38,38),h=0;h<u.length;h++)m>280&&(m=10,p.addPage()),p.text(u[h],d+x,m),m+=7;return p.setTextColor(95,95,95),p.text("Period: ",d,m+3),x=p.getTextWidth("Period: "),p.setTextColor(38,38,38),p.text(t.period,d+x,m+3),p.autoTable({html:s,startY:85,margin:{horizontal:20},cellPadding:3,rowHeight:20,bodyStyles:{valign:"top"},columnStyles:{email:{cellWidth:"wrap"}},theme:"striped",tableWidth:!0}),p.setFontSize(12),b=p.lastAutoTable.finalY,p.text("Reported by: ".concat(t.doneBy),d,b+15),p.text("Report downloaded on "+Object(n.a)((new Date).toString()),d,b+23),l(p),e.next=35,p.save("".concat(t.title+": "+t.subject+": "+t.period,".pdf"),{returnPromise:!0}).then(r(!1));case 35:case"end":return e.stop()}}),e)})));return function(t,s,r){return e.apply(this,arguments)}}()},698:function(e,t,s){"use strict";var r=s(17),a=s(11),o=s(18),i=s(4),n=s.n(i),c=s(12),l=s(33),d=s(9),p=s(28),u=s(48),m=s(1),x=function(e){var t,s=new Date,r=[],i=Object(o.a)(e);try{for(i.s();!(t=i.n()).done;){var n=t.value,c=new Date(n.start_date),l=new Date(n.end_date);c.getTime()<=s.getTime()&&l.getTime()>=s.getTime()&&n.type_status===d.j.OPEN&&(r=[].concat(Object(a.a)(r),[n]))}}catch(p){i.e(p)}finally{i.f()}return r},h=function(e){var t,s,a=Object(i.useState)(null),o=Object(r.a)(a,2),n=o[0],d=o[1],h=Object(i.useState)(""),b=Object(r.a)(h,2),f=b[0],j=b[1];return Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("div",{className:"px-3",children:Object(m.jsx)("input",{onChange:function(e){return j(e.target.value)},type:"text",className:"py-3 px-4 w-full rounded border border-gray-400 mb-3",placeholder:"Search by year, name",disabled:null===e.allSession||0===e.allSession.length})}),Object(m.jsx)("div",{className:"bg-gray-100 px-3 pt-3 pb-2 rounded-b",children:null===e.allSession?Object(m.jsx)(l.a,{}):0===e.allSession.length?Object(m.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center mb-2 bg-white py-4",children:[Object(m.jsx)(c.Mb,{className:"text-6xl"}),Object(m.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(m.jsx)("span",{children:"No session found!"})})]}):Object(m.jsxs)("section",{children:[e.chooseAll&&Object(m.jsxs)("div",{className:"rounded border ".concat("all"===e.currentSelected?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2 flex flex-col md:flex-row items-start md:items-center md:justify-between"),children:[Object(m.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"===e.currentSelected?Object(m.jsx)(c.t,{className:"text-blue-500 text-4xl"}):Object(m.jsx)(c.Cb,{className:"text-gray-300 text-4xl"}),Object(m.jsx)("div",{className:"flex flex-col",children:Object(m.jsx)("div",{className:"text-gray-600 font-bold",children:"All session"})})]}),Object(m.jsx)("div",{onClick:function(){e.setSelectSession("all")},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"})]}),(t=e.allSession,s=f,Object(u.a)(t,s)).map((function(t,s){return Object(m.jsxs)("div",{className:"rounded border ".concat("all"!==e.currentSelected&&e.currentSelected._id===t._id?"bg-blue-50 border-blue-300":"bg-white border-white "," group hover:border-blue-500 px-2 py-2 mb-2"),children:[Object(m.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between ",children:[Object(m.jsxs)("div",{className:"flex flex-row items-center gap-3",children:["all"!==e.currentSelected&&e.currentSelected._id===t._id?Object(m.jsx)(c.t,{className:"text-blue-500 text-4xl"}):Object(m.jsx)(c.Cb,{className:"text-gray-300 text-4xl"}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"".concat("all"!==e.currentSelected&&e.currentSelected._id===t._id?"text-blue-600":"text-gray-600"," font-bold"),children:t.session_plan_name}),Object(m.jsxs)("div",{className:"text-sm text-gray-500",children:[Object(m.jsx)("span",{children:"Status: "}),Object(m.jsx)("span",{className:"".concat(!0===t.is_active?"text-gray-900 font-bold underline":"text-gray-500 italic"),children:!0===t.is_active?"Active":"Expired"})]})]})]}),Object(m.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(null===n||n._id!==t._id)&&Object(m.jsx)("div",{onClick:function(){return d(t)},className:"bg-gray-50 group-hover:bg-blue-100 font-semibold text-gray-400 group-hover:text-blue-600 rounded px-3 py-2 cursor-pointer",children:"Details"}),Object(m.jsx)("div",{onClick:function(){e.setSelectSession(t)},className:"bg-gray-50 group-hover:bg-blue-600 font-semibold text-gray-400 group-hover:text-white rounded px-3 py-2 cursor-pointer",children:"Select"}),null!==n&&n._id===t._id&&Object(m.jsx)("div",{onClick:function(){return d(null)},className:"bg-red-100 group-hover:bg-red-200 font-semibold text-red-600 group-hover:text-red-800 rounded px-3 py-2 cursor-pointer",children:"Close"})]})]}),null!==n&&n._id===t._id&&Object(m.jsx)("div",{className:"bg-white rounded border border-blue-50 mt-2 animate__animated animate__fadeIn",children:Object(m.jsxs)("table",{className:"w-full",children:[Object(m.jsx)("thead",{className:"bg-blue-50",children:Object(m.jsxs)("tr",{className:"text-left",children:[Object(m.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(m.jsx)("th",{children:"Plan"}),Object(m.jsx)("th",{children:"Start date"}),Object(m.jsx)("th",{children:"Ending date"}),Object(m.jsx)("th",{children:"Status"})]})}),Object(m.jsx)("tbody",{className:"text-sm",children:null!==n&&n._id===t._id&&n.plans.length>0&&t.plans.map((function(e,s){return Object(m.jsxs)("tr",{className:"".concat(void 0!==x(t.plans).find((function(t){return t.type_key===e.type_key}))?"bg-blue-100 text-blue-600 font-bold":""," text-left border-b border-blue-50"),children:[Object(m.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(m.jsx)("td",{children:e.type_title}),Object(m.jsx)("td",{children:Object(p.a)(e.start_date,"DD/MM/YYYY")}),Object(m.jsx)("td",{children:Object(p.a)(e.end_date,"DD/MM/YYYY")}),Object(m.jsx)("td",{children:e.type_status})]},s+1)}))})]})})]},s+1)}))]})})]})};t.a=n.a.memo(h)},699:function(e,t,s){"use strict";s.d(t,"c",(function(){return b})),s.d(t,"f",(function(){return f})),s.d(t,"a",(function(){return j})),s.d(t,"b",(function(){return g})),s.d(t,"g",(function(){return O})),s.d(t,"d",(function(){return _}));var r,a=s(17),o=s(4),i=s.n(o),n=s(72),c=s(23),l=s(33),d=s(209),p=s(32),u=s(28),m=s(686),x=s(690),h=s(1);!function(e){e.APPLICANT="applicant_name",e.N_ID="national_id",e.EMAIL="email",e.PHONE="phone",e.MARKS="marks",e.STATUS="performance_status",e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.START_TIME="exam_start_time",e.END_TIME="exam_end_time"}(r||(r={}));var b=function(e){return e!==r.COURSER_NAME&&e!==r.COURSE_CODE&&e!==r.PERIOD&&e!==r.APPLICANT&&e!==r.N_ID},f=[{key:r.APPLICANT,title:"Applicant names",status:!0},{key:r.N_ID,title:"National ID",status:!0},{key:r.EMAIL,title:"Email",status:!0},{key:r.PHONE,title:"Phone",status:!0},{key:r.MARKS,title:"Marks",status:!0},{key:r.COURSER_NAME,title:"Course names",status:!0},{key:r.COURSE_CODE,title:"Course code",status:!0},{key:r.SCHOOL_LEVEL,title:"School levels",status:!0},{key:r.PERIOD,title:"Exam period",status:!0},{key:r.DATE,title:"Exam date",status:!0},{key:r.START_TIME,title:"Exam start time",status:!0},{key:r.END_TIME,title:"Exam end time",status:!0},{key:r.STATUS,title:"Status",status:!0}],j=function(e,t,s){var r=[],a=[],o=function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!a.includes(t[s]._id)){a.push(t[s]._id);var o=e.find((function(e){return e.course_id===t[s].course}));o&&r.push({user_id:t[s].user.user_id,user_name:Object(p.a)(t[s].user.user_info.lname)+" "+Object(p.a)(t[s].user.user_info.fname),national_id:t[s].user.n_id?t[s].user.n_id:"",user_email:t[s].user.email,user_phone:t[s].user.phone_number,course_name:o.course_name,course_code:o.course_code,description:o.description,school_levels:o.school_levels,course_id:o.course_id,exam:t[s],user_total_marks:t[s].total_marks,exam_stastus:t[s].user_status})}};for(var i in t)o(i);return"all"!==s&&(r=r.filter((function(e){return e.course_id===s}))),r},g=function(e,t){return"all"===t?e:e.filter((function(e){return e.exam_stastus===t}))},O=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var r in e)if(s=!1,"course_name"!==r&&"course_code"!==r&&"user_total_marks"!==r&&"exam_stastus"!==r&&"description"!==r&&"user_name"!==r&&"user_phone"!==r&&"user_email"!==r&&"national_id"!==r||(s=e[r].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},_=function(e){return"Done"===e?"bg-blue-50 border-gray-300 hover:border-blue-500 border-t border-b":"Removed"===e?"bg-white border-red-300 hover:border-red-500 border-t border-b":"Paused"===e?"bg-white border-yellow-300 hover:border-yellow-500 border-t border-b":"bg-white border-gray-300 hover:border-blue-500 border-t border-b"};t.e=i.a.memo(Object(c.b)((function(e){return{adminExamReport:e.adminExamReport}}),{})((function(e){var t=Object(o.useState)(""),s=Object(a.a)(t,2),r=s[0],i=s[1],c=Object(o.useState)(!1),b=Object(a.a)(c,2),f=b[0],v=b[1],E=Object(o.useState)(""),P=Object(a.a)(E,2),y=P[0],R=P[1],N=Object(o.useState)("ASC"),C=Object(a.a)(N,2),T=C[0],S=C[1],D=function(e){y===e&&"ASC"===T?(S("DESC"),R(e),v(!0)):(S("ASC"),R(e),v(!0))};return Object(h.jsx)(o.Fragment,{children:Object(h.jsxs)("div",{className:"bg-white my-4",children:[Object(h.jsx)("div",{className:"w-full px-2 py-2",children:Object(h.jsx)("input",{onChange:function(e){return i(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.candidatePerformanceData&&g(j(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance).length<=0)})}),Object(h.jsx)("div",{className:"w-full overflow-x-auto",children:Object(h.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(h.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(h.jsx)("td",{className:"px-2 py-2",onClick:function(){return D("user_name")},children:"Applicants"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"National ID"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Email"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Phone"}),Object(h.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return D("course_name")},children:Object(h.jsxs)("div",{className:"flex items-center gap-1",children:["Exam ",Object(h.jsx)(n.j,{})]})}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam period"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam start time"}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Exam end time"}),Object(h.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return D("user_total_marks")},children:Object(h.jsxs)("div",{className:"flex items-center gap-1",children:["Marks ",Object(h.jsx)(n.j,{})]})}),Object(h.jsx)("td",{className:"px-2 py-2",children:"Status"})]})}),Object(h.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:12,className:"px-2 py-2",children:Object(h.jsx)(l.a,{})})}):e.candidatePerformanceData&&g(j(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance).length<=0?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:12,className:"px-2 py-2 text-center",children:"No applicant list available!"})}):e.candidatePerformanceData&&Object(u.r)(f,O(g(j(e.courseListData,e.candidatePerformanceData,e.adminExamReport.reportCourseId?e.adminExamReport.reportCourseId.course_id:"all"),e.filterApplicantPerformance),r),y,T).map((function(t,s){return Object(h.jsxs)("tr",{className:"".concat(_(t.exam_stastus)," text-gray-600 hover:bg-blue-100 hover:text-blue-700 text-sm"),children:[Object(h.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(h.jsx)("td",{className:"px-2 py-2",children:Object(p.a)(t.user_name)}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.national_id}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.user_email}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.user_phone}),Object(h.jsxs)("td",{className:"px-2 py-2",children:[Object(p.a)(t.course_name)," (",Object(h.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(x.getPeriodById)(e.thisPeriod,t.exam.period)?Object(x.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.exam_date?Object(u.a)(t.exam.exam_date):"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.start_time?Object(u.s)(t.exam.start_time).timeAMPM:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam.end_time?Object(u.s)(t.exam.end_time).timeAMPM:"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:t.exam_stastus!==d.a.Editing?Number(t.user_total_marks.toFixed(1))+"%":"-"}),Object(h.jsx)("td",{className:"px-2 py-2",children:Object(p.a)(Object(m.d)(t.exam_stastus))})]},s+1)}))})]})})]})})})))},700:function(e,t,s){"use strict";var r=s(17),a=s(4),o=s.n(a),i=s(729),n=s.n(i),c=s(1),l={borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},d=function(e){var t=Object(a.useState)(!0),s=Object(r.a)(t,2),o=s[0],i=s[1],d=Object(a.useState)({chart:{events:{dataPointSelection:function(t,s,r){console.log({labelClicked:r.w.config.labels[r.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(r.dataPointIndex,r.seriesIndex)}},stacked:!!e.stacked&&e.stacked},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"}}),p=Object(r.a)(d,2),u=p[0],m=p[1];return Object(a.useEffect)((function(){e.colors&&e.colors.length>0&&o?m({chart:{stacked:!!e.stacked&&e.stacked,events:{dataPointSelection:function(t,s,r){console.log({chartClicked:r.w.config.labels[r.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(r.dataPointIndex,r.seriesIndex)}},zoom:{enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"},colors:e.colors}):o&&m({chart:{stacked:!!e.stacked&&e.stacked,events:{dataPointSelection:function(t,s,r){console.log({labelClicked:r.w.config.labels[r.dataPointIndex]}),e.FC_LoadSelected&&e.FC_LoadSelected(r.dataPointIndex,r.seriesIndex)}},zoom:{enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:e.defaultBar?e.defaultBar:l},labels:e.labels,dataLabels:{enabled:!0},xaxis:{labels:{rotate:-45},categories:e.categoriesLabel,tickPlacement:"on"},yaxis:{title:{text:e.yaxisText}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" "+e.tooltipText}}},grid:{padding:{left:30,right:30}},noData:{text:"No data found",align:"center",verticalAlign:"middle"}}),i(!1)}),[o,u,e]),o?Object(c.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):Object(c.jsx)("div",{className:"w-full",children:Object(c.jsx)(n.a,{options:u,series:e.series,type:"bar",width:"100%",height:e.chartHeight?e.chartHeight:void 0})})};t.a=o.a.memo(d)},701:function(e,t,s){"use strict";s.d(t,"c",(function(){return m})),s.d(t,"d",(function(){return x})),s.d(t,"a",(function(){return h})),s.d(t,"e",(function(){return f}));var r,a=s(17),o=s(4),i=s.n(o),n=s(72),c=s(33),l=s(32),d=s(28),p=s(690),u=s(1);!function(e){e.course_name="course_name",e.course_code="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.STATUS="preparation_status"}(r||(r={}));var m=[{key:r.course_name,title:"Course names",status:!0},{key:r.course_code,title:"Course code",status:!0},{key:r.SCHOOL_LEVEL,title:"School levels",status:!0},{key:r.PERIOD,title:"Exam period",status:!0},{key:r.DATE,title:"Exam date",status:!0},{key:r.TIME,title:"Exam time",status:!0},{key:r.DURATION,title:"Exam duration",status:!0},{key:r.STATUS,title:"Exam status",status:!0}],x=function(e){return e!==r.course_name&&e!==r.course_code},h=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=[],a=[],o=function(o){if(Object.prototype.hasOwnProperty.call(e,o)){if(a.includes(e[o].course_id))return"continue";a.push(e[o].course_id);var i=Object(l.f)(s)?t.find((function(t){return t.course===e[o].course_id})):t.find((function(t){return t.course===e[o].course_id&&t.period===s}));i?r.push({course_name:e[o].course_name,course_code:e[o].course_code,description:e[o].description,school_levels:e[o].school_levels,course_id:e[o].course_id,exam:i,preparation_status:"prepared"}):r.push({course_name:e[o].course_name,course_code:e[o].course_code,description:e[o].description,school_levels:e[o].school_levels,course_id:e[o].course_id,exam:null,preparation_status:"not prepared"})}};for(var i in e)o(i);return r},b=function(e,t){return"all"===t?e:e.filter((function(e){return e.preparation_status===t}))},f=function(e,t){return void 0===t||""===t?e:e.filter((function(e){var s;for(var r in e)if(s=!1,"course_name"!==r&&"course_code"!==r&&"preparation_status"!==r||(s=e[r].toString().toLowerCase().indexOf(t.toLowerCase())>-1),s)break;return s}))},j=function(e){var t=Object(o.useState)(""),s=Object(a.a)(t,2),r=s[0],i=s[1],m=Object(o.useState)(!1),x=Object(a.a)(m,2),j=x[0],g=x[1],O=Object(o.useState)(""),_=Object(a.a)(O,2),v=_[0],E=_[1],P=Object(o.useState)("ASC"),y=Object(a.a)(P,2),R=y[0],N=y[1],C=function(e){v===e&&"ASC"===R?(N("DESC"),E(e),g(!0)):(N("ASC"),E(e),g(!0))};return Object(u.jsx)(o.Fragment,{children:Object(u.jsxs)("div",{className:"bg-white my-4",children:[Object(u.jsx)("div",{className:"w-full px-2 py-2",children:e.courseListData&&e.examsListData&&Object(u.jsx)("input",{onChange:function(e){return i(e.target.value)},type:"text",value:r,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:b(h(e.courseListData,e.examsListData),e.filterPreparation).length<=0})}),Object(u.jsx)("div",{className:"w-full overflow-x-auto",children:Object(u.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(u.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return C("course_name")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(u.jsx)(n.j,{})]})}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Exam Period"}),Object(u.jsx)("td",{className:"px-2 py-2",children:"Created at"}),Object(u.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return C("preparation_status")},children:Object(u.jsxs)("div",{className:"flex items-center gap-1",children:["Exam Status ",Object(u.jsx)(n.j,{})]})})]})}),Object(u.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:8,className:"px-2 py-2",children:Object(u.jsx)(c.a,{})})}):e.courseListData&&e.examsListData&&b(h(e.courseListData,e.examsListData),e.filterPreparation).length<=0?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:8,className:"px-2 py-2 text-center",children:"No course for exam found"})}):e.examsListData&&Object(d.r)(j,f(b(h(e.courseListData,e.examsListData),e.filterPreparation),r),v,R).map((function(t,s){return Object(u.jsxs)("tr",{className:"".concat(t.exam?"bg-blue-50":"bg-white"," text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm"),children:[Object(u.jsx)("td",{className:"px-2 py-2",children:s+1}),Object(u.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(t.course_name)," (",Object(u.jsx)("span",{className:"font-semibold",children:t.course_code}),")"]}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.exam_date):"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.start_time:"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?t.exam.duration+" min":"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam&&Object(p.getPeriodById)(e.thisPeriod,t.exam.period)?Object(p.getPeriodById)(e.thisPeriod,t.exam.period).session_plan_name:"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:t.exam?Object(d.a)(t.exam.createdAt):"-"}),Object(u.jsx)("td",{className:"px-2 py-2",children:Object(l.a)(t.exam?"Prepared":"Not prepared")})]},s+1)}))})]})})]})})};t.b=i.a.memo(j)},705:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var r,a=s(17),o=s(4),i=s.n(o),n=s(124),c=s(12),l=s(23),d=s(3),p=s(205),u=s(33),m=s(19),x=s(32),h=s(691),b=s(698),f=s(713),j=s(699),g=s(686),O=s(701),_=s(721),v=s(690),E=s(1),P=function(e){var t,s=[],r=[],a=e.length;for(t=0;t<a;t++)s.includes(e[t].district_id)||(s.push(e[t].district_id),r.push(e[t]));return r};!function(e){e.title="TITLE",e.period="PERIOD",e.generateReportModal="GENERATE REPORT",e.choose_exam="Choosing Exam",e.choose_district="Choosing District"}(r||(r={}));t.b=i.a.memo(Object(l.b)((function(e){return{locations:e.locations.roomLocation}}),{getAllRoom:p.q,SetReportDistrictId:d.Xb,SetReportCourseId:d.Wb})((function(e){var t=Object(o.useState)(null),s=Object(a.a)(t,2),i=s[0],l=s[1],d=Object(o.useState)(!0),p=Object(a.a)(d,2),y=p[0],R=p[1],N=Object(o.useState)(""),C=Object(a.a)(N,2),T=C[0],S=C[1],D=Object(o.useState)(!0),w=Object(a.a)(D,2),A=w[0],L=w[1],I=Object(o.useState)(null),k=Object(a.a)(I,2),M=k[0],F=k[1],U=Object(o.useState)(e.districtId?e.districtId:"all"),q=Object(a.a)(U,2),z=q[0],X=q[1],Y=function(t){return e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION?Object(O.d)(t):!e.reportTitle||e.reportTitle!==v.reportTitleType.EXAM_PERFORMANCE&&e.reportTitle!==v.reportTitleType.EXAM_DISTRICT_PERFORMANCE?e.reportTitle&&e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS?Object(g.e)(t):!(!e.reportTitle||e.reportTitle!==v.reportTitleType.APPLICANTS_PERFORMANCE&&e.reportTitle!==v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE)&&Object(j.c)(t):Object(_.d)(t)},B=function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.examPerformanceReportContent){var s=e.examPerformanceReportContent.findIndex((function(e){return e.key===t})),r=e.examPerformanceReportContent;r[s].status=!r[s].status,e.setExamPerformanceReportContent&&e.setExamPerformanceReportContent(r);var a=r.find((function(e){return!1===e.status}));R(!a),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.exam30PerformanceReportContent){var o=e.exam30PerformanceReportContent.findIndex((function(e){return e.key===t})),i=e.exam30PerformanceReportContent;i[o].status=!i[o].status,e.setExam30PerformanceReportContent&&e.setExam30PerformanceReportContent(i);var n=i.find((function(e){return!1===e.status}));R(!n),e.updateExamToPrint&&e.updateExamToPrint()}},G=function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.candidateExamPerformanceReportContent){var s=e.candidateExamPerformanceReportContent.findIndex((function(e){return e.key===t})),r=e.candidateExamPerformanceReportContent;r[s].status=!r[s].status,e.setCandidateExamPerformanceReportContent&&e.setCandidateExamPerformanceReportContent(r);var a=r.find((function(e){return!1===e.status}));R(!a),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.candidate30ExamPerformanceReportContent){var o=e.candidate30ExamPerformanceReportContent.findIndex((function(e){return e.key===t})),i=e.candidate30ExamPerformanceReportContent;i[o].status=!i[o].status,e.setCandidate30ExamPerformanceReportContent&&e.setCandidate30ExamPerformanceReportContent(i);var n=i.find((function(e){return!1===e.status}));R(!n),e.updateExamToPrint&&e.updateExamToPrint()}};Object(o.useEffect)((function(){e.locations.length||e.modalFor!==r.choose_district?L(!1):e.getAllRoom((function(e,t){!e&&t.length>0&&console.error(t),L(e)}))}),[e]);var H=function(){if(e.reportTitle){if(e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&e.excelReportTitle&&e.examsToPrint)return{status:!0,data:e.examsToPrint};if(e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.excelReportTitle&&e.examPerformanceToPrint)return{status:!0,data:e.examPerformanceToPrint};if(e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.excelReportTitle&&e.exam30PerformanceToPrint)return{status:!0,data:e.exam30PerformanceToPrint};if(e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&e.excelReportTitle&&e.examinationProgressToPrint)return{status:!0,data:e.examinationProgressToPrint};if(e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.excelReportTitle&&e.candidateExamPerformanceToPrint)return{status:!0,data:e.candidateExamPerformanceToPrint};if(e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.excelReportTitle&&e.candidate30ExamPerformanceToPrint)return{status:!0,data:e.candidate30ExamPerformanceToPrint}}return{status:!1,data:[]}};return Object(E.jsxs)("div",{children:[e.modalFor===r.period&&e.applicationPeriods&&e.modalState&&Object(E.jsx)(m.d,{title:Object(E.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(E.jsx)(c.P,{className:"text-5xl text-blue-600"}),Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose a period"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.selected_period&&e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(E.jsx)(b.a,{allSession:e.applicationPeriods,setSelectSession:function(t){"all"!==t&&(e.setSelectedPeriod&&e.setSelectedPeriod(t),e.onPeriodChange&&e.onPeriodChange(t._id),e.changeModalState(!1))},chooseAll:!1,currentSelected:e.selected_period?e.selected_period:"all"})}),e.modalFor===r.title&&e.modalState&&Object(E.jsx)(m.d,{title:Object(E.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(E.jsx)(n.e,{className:"text-5xl text-blue-600"}),Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose exam report type"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(E.jsx)("div",{className:"px-2 pb-2",children:Object.values(v.reportTitleType).map((function(t,s){return Object(E.jsxs)("div",{onClick:function(){e.setReportTitle&&e.setReportTitle(t),e.setExcelReportTitle&&e.setExcelReportTitle(t),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(e.reportTitle&&e.reportTitle===t?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"text-blue-500 text-sm font-medium italic",children:"Report type"}),Object(E.jsxs)("div",{className:"font-bold",children:[t,t===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&" district"]})]}),Object(E.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]},s+1)}))})}),e.generateReportModal&&e.modalFor===r.generateReportModal&&e.modalState&&Object(E.jsx)(m.d,{title:Object(E.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("span",{className:"font-bold text-2xl text-gray-500",children:"Generating Report contents"}),Object(E.jsxs)("span",{className:"text-sm text-blue-600 font-normal",children:["Generating ",e.generateReportModal.reportType," Report"]})]})}),backDrop:!0,theme:m.c.default,close:function(){return e.setGenerateReportModal&&e.setGenerateReportModal(null)},backDropClose:!1,widthSizeClass:m.b.medium,displayClose:!0,padding:{title:!0},children:Object(E.jsxs)("div",{className:"px-6",children:[Object(E.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("label",{children:"Title"}),Object(E.jsx)("input",{type:"text",className:"text-left input-white w-20 inline-block ".concat(i&&"report_title"===i.element?"border-red-500":"border-gray-500"," border-2"),placeholder:"Sub Category Title",value:e.excelReportTitle?e.excelReportTitle:"",onChange:function(t){e.setExcelReportTitle&&e.setExcelReportTitle(t.target.value),l(null)}}),i&&"report_title"===i.element&&Object(E.jsx)("span",{className:"text-red-500",children:i.msg})]}),Object(E.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(E.jsx)("label",{children:"Report content"}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examPreparationReportContent&&e.examPreparationReportContent.map((function(t,s){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(Y(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return Y(t.key)&&function(t){if(e.examPreparationReportContent){var s=e.examPreparationReportContent.findIndex((function(e){return e.key===t})),r=e.examPreparationReportContent;r[s].status=!r[s].status,e.setExamPreparationReportContent&&e.setExamPreparationReportContent(r);var a=r.find((function(e){return!1===e.status}));R(!a),e.updateExamToPrint&&e.updateExamToPrint()}}(t.key)},title:Y(t.key)?"":"Required for every report!",children:[t.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:t.title})]},s)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examPerformanceReportContent&&e.examPerformanceReportContent.map((function(e,t){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(Y(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return Y(e.key)&&B(e.key)},title:Y(e.key)?"":"Required for every report!",children:[e.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.exam30PerformanceReportContent&&e.exam30PerformanceReportContent.map((function(e,t){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(Y(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return Y(e.key)&&B(e.key)},title:Y(e.key)?"":"Required for every report!",children:[e.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.examinationProgressReportContent&&e.examinationProgressReportContent.map((function(t,s){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(Y(t.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return Y(t.key)&&function(t){if(e.examinationProgressReportContent){var s=e.examinationProgressReportContent.findIndex((function(e){return e.key===t})),r=e.examinationProgressReportContent;r[s].status=!r[s].status,e.setExaminationProgressExamPerformanceReportContent&&e.setExaminationProgressExamPerformanceReportContent(r);var a=r.find((function(e){return!1===e.status}));R(!a),e.updateExamToPrint&&e.updateExamToPrint()}}(t.key)},title:Y(t.key)?"":"Required for every report!",children:[t.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:t.title})]},s)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.candidateExamPerformanceReportContent&&e.candidateExamPerformanceReportContent.map((function(e,t){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(Y(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return Y(e.key)&&G(e.key)},title:Y(e.key)?"":"Required for every report!",children:[e.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:e.title})]},t)}))}),e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&Object(E.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:e.candidate30ExamPerformanceReportContent&&e.candidate30ExamPerformanceReportContent.map((function(e,t){return Object(E.jsxs)("div",{className:"flex items-center gap-1 ".concat(Y(e.key)?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return Y(e.key)&&G(e.key)},title:Y(e.key)?"":"Required for every report!",children:[e.status?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:e.title})]},t)}))}),i&&"report_content"===i.element&&Object(E.jsx)("span",{className:"text-red-500",children:i.msg})]})]}),Object(E.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(E.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return function(t){if(e.reportTitle&&e.reportTitle===v.reportTitleType.EXAM_PREPARATION&&e.examPreparationReportContent){var s=e.examPreparationReportContent;for(var r in s)Y(s[r].key)&&(s[r].status=!t);e.setExamPreparationReportContent&&e.setExamPreparationReportContent(s),R(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAM_PERFORMANCE&&e.examPerformanceReportContent){var a=e.examPerformanceReportContent;for(var o in a)Y(a[o].key)&&(a[o].status=!t);e.setExamPerformanceReportContent&&e.setExamPerformanceReportContent(a),R(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAM_DISTRICT_PERFORMANCE&&e.exam30PerformanceReportContent){var i=e.exam30PerformanceReportContent;for(var n in i)Y(i[n].key)&&(i[n].status=!t);e.setExam30PerformanceReportContent&&e.setExam30PerformanceReportContent(i),R(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.EXAMINATION_PROGRESS&&e.examinationProgressReportContent){var c=e.examinationProgressReportContent;for(var l in c)Y(c[l].key)&&(c[l].status=!t);e.setExaminationProgressExamPerformanceReportContent&&e.setExaminationProgressExamPerformanceReportContent(c),R(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.APPLICANTS_PERFORMANCE&&e.candidateExamPerformanceReportContent){var d=e.candidateExamPerformanceReportContent;for(var p in d)Y(d[p].key)&&(d[p].status=!t);e.setCandidateExamPerformanceReportContent&&e.setCandidateExamPerformanceReportContent(d),R(!t),e.updateExamToPrint&&e.updateExamToPrint()}if(e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE&&e.candidate30ExamPerformanceReportContent){var u=e.candidate30ExamPerformanceReportContent;for(var m in u)Y(u[m].key)&&(u[m].status=!t);e.setCandidate30ExamPerformanceReportContent&&e.setCandidate30ExamPerformanceReportContent(u),R(!t),e.updateExamToPrint&&e.updateExamToPrint()}}(y)},children:[y?Object(E.jsx)(c.r,{className:"w-6 h-6 text-blue-700"}):Object(E.jsx)(c.s,{className:"w-6 h-6"}),Object(E.jsx)("span",{children:"Select all"})]}),H().status&&Object(E.jsx)(h.a,{fileData:H().data,fileName:e.excelReportTitle,btnName:"Generate"})]})]})}),e.modalFor===r.choose_exam&&e.modalState&&e.AllExamData&&Object(E.jsx)(m.d,{title:Object(E.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(E.jsx)(n.e,{className:"text-5xl text-blue-600"}),Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose exam"})})]}),backDrop:!0,theme:m.c.default,close:function(){return e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(E.jsxs)("div",{className:"px-2 pb-2",children:[Object(E.jsx)("div",{className:"w-full py-2",children:Object(E.jsx)("input",{onChange:function(e){return S(e.target.value)},type:"text",value:T,placeholder:"Search...",className:"w-full bg-white py-2 px-3 rounded border border-gray-400",disabled:e.AllExamData.length<=0})}),Object(E.jsxs)("div",{onClick:function(){e.SetReportCourseId(null),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(null===e.thisExam?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"text-sm font-medium italic",children:["code: ",Object(E.jsx)("span",{className:"text-blue-500",children:"-"})]}),Object(E.jsx)("div",{className:"font-bold text-lg",children:"All exams"})]}),Object(E.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]}),Object(g.f)(e.AllExamData,T).map((function(t,s){return Object(E.jsxs)("div",{onClick:function(){e.SetReportCourseId(t),e.changeModalState(!1)},className:"flex items-center border rounded px-2 py-2 cursor-pointer group hover:bg-blue-100 hover:border-blue-500 mb-3 justify-between ".concat(e.thisExam&&e.thisExam.course_id===t.course_id?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:[Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"text-sm font-medium italic",children:["code:"," ",Object(E.jsx)("span",{className:"text-blue-500",children:t.course_code})]}),Object(E.jsx)("div",{className:"font-bold text-lg",children:t.course_name})]}),Object(E.jsx)("div",{className:"btn bg-blue-400 group-hover:bg-blue-600 text-white mr-2",children:"Choose"})]},s+1)}))]})}),e.modalFor===r.choose_district&&e.modalState&&Object(E.jsx)(m.d,{title:Object(E.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[Object(E.jsx)(n.e,{className:"text-5xl text-blue-600"}),Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("span",{className:"font-bold text-xl text-blue-600",children:"Choose district"})})]}),backDrop:!0,theme:m.c.default,close:function(){return!Object(x.f)(z)&&e.changeModalState(!1)},backDropClose:!0,widthSizeClass:m.b.medium,displayClose:!0,padding:{title:!0},children:Object(E.jsx)("div",{className:"px-2 pb-2 ",children:A?Object(E.jsx)(u.a,{}):Object(E.jsxs)("section",{className:"pb-8 px-7 ",children:[Object(E.jsx)("label",{className:"uppercase md:text-sm text-xs text-gray-500 text-light font-semibold",children:"District"}),e.locations.length>0?Object(E.jsxs)("div",{className:"",children:[Object(E.jsxs)("select",{className:"py-3 px-3 w-full rounded border-2 bg-white mt-1 focus:outline-none ".concat(M&&"district"===M.element?"border-red-400 focus:border-red-800":"border-gray-400 focus:border-gray-800"),value:z,onChange:function(t){X(t.target.value),function(t){if(F(null),"all"===t)(e.reportTitle&&e.reportTitle===v.reportTitleType.APPLICANTS_DISTRICT_PERFORMANCE||e.isAllDistrictAllowed&&!0===e.isAllDistrictAllowed)&&e.SetReportDistrictId?(e.SetReportDistrictId(null),e.changeModalState(!1)):F({element:"district",msg:"District is required"});else if(e.SetReportDistrictId){var s=Object(f.a)(e.locations).find((function(e){return e.district_id===t}));if(!s)return F({element:"district",msg:"Invalid district id"});e.SetReportDistrictId({district_id:s.district_id,district_name:s.district_name}),e.changeModalState(!1)}}(t.target.value)},children:[Object(E.jsx)("option",{value:"all",children:"Select district"}),P(Object(f.a)(e.locations)).map((function(e,t){return Object(E.jsx)("option",{value:e.district_id,children:e.district_name},t+e.district_id)}))]}),M&&"district"===M.element&&Object(E.jsx)("p",{className:"text-xs italic text-red-500 mt-3",children:M.msg})]}):Object(E.jsx)("div",{className:"alert-info",children:"No district found"})]})})})]})})))},709:function(e,t){},713:function(e,t,s){"use strict";s.d(t,"c",(function(){return U})),s.d(t,"a",(function(){return q}));var r,a=s(5),o=s.n(a),i=s(7),n=s(25),c=s(24),l=s(27),d=s(26),p=s(10),u=s.n(p),m=s(4),x=s.n(m),h=s(12),b=s(23),f=s(3),j=s(205),g=s(689),O=s(33),_=s(162),v=s(123),E=s(21),P=s(32),y=s(8),R=s(14),N=s(727),C=s(710),T=s(17),S=s(48),D=s(1),w=function(e){var t=Object(m.useState)(""),s=Object(T.a)(t,2),r=s[0],a=s[1];return Object(D.jsxs)("section",{className:"border-2 rounded border-gray-400",children:[Object(D.jsxs)("div",{className:"flex items-center w-full my-1",children:[Object(D.jsx)(h.Mb,{className:"w-6 h-6 absolute ml-2"}),Object(D.jsx)("input",{type:"text",placeholder:"Search",className:"focus:border-2 h-7 ml-1 pl-9 mr-2 bg-gray-100 focus:border-gray-700 w-full rounded",onChange:function(e){return a(e.target.value)},value:r,disabled:!(e.roleList.length>0)}),Object(D.jsx)("button",{className:"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none",type:"button",onClick:function(){e.setChooseRole(!1)},children:"Close"})]}),Object(D.jsx)("div",{className:"w-full h-52 mt-2 overflow-y-auto divide-y divide-gray-300",children:Object(S.a)(e.roleList,r).length>0?Object(S.a)(e.roleList,r).map((function(t,s){return Object(D.jsx)("section",{children:Object(D.jsxs)("div",{className:"group flex items-center justify-between my-1 hover:bg-gray-100",children:[Object(D.jsx)("div",{className:"p-1 w-full mr-2 cursor-pointer",onClick:function(){e.setChooseRole(!1),!e.loadindRequest&&e.handleSelectRole(t.system_user_role_id)},children:Object(D.jsx)("p",{className:"text-sm font-medium text-black",children:Object(P.a)(t.role)})}),Object(D.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 py-1 px-2 mr-1 rounded text-sm",children:"Choose"})]})},s+t.role)})):Object(D.jsx)("div",{className:"text-center p-3",children:Object(D.jsx)("p",{className:"text-base font-medium text-black",children:"No role available"})})})]})},A=x.a.memo(w),L="".concat(y.a.AUTH,"/auth/user/access"),I=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(n.a)(this,s),(r=t.call(this,e)).setRoleId=function(e){r.setState({roleId:e})},r.setSelectedRole=function(e){r.setState({selectedRole:e})},r.setProvinceId=function(e){r.setState({provinceId:e})},r.setDistrictId=function(e){r.setState({districtId:e})},r.setCenterId=function(e){r.setState({centerId:e})},r.setRoomId=function(e){r.setState({roomId:e})},r.setLoadingForm=function(e){r.setState({loadingForm:e})},r.setLoading=function(e){r.setState({loading:e})},r.setInstituteId=function(e){r.setState({instituteId:e})},r.setFormError=function(e){r.setState({formError:e})},r.setLoadingRequest=function(e){r.setState({loadingRequest:e})},r.setChooseRole=function(e){r.setState({chooseRole:e})},r.setDefaultState=function(e,t){var s,a;t.district_required&&r.props.roomList?((a=r.distinctDistrict(r.props.roomList).find((function(t){return t._id===e.district_id})))&&r.setProvinceId(a.province_id),a&&r.setDistrictId(e.district_id),r.setLoadingForm(!1)):t.room_required&&r.props.roomList?((s=q(r.props.roomList).find((function(t){return t.room_id===e.room_id})))&&r.setProvinceId(s.province_id),s&&r.setDistrictId(s.district_id),s&&r.setCenterId(s.center_id),r.setRoomId(e.room_id),r.setLoadingForm(!1)):r.setLoadingForm(!1)},r.componentDidMount=function(){if(r.props.roleList.length){if(r.props.userInfo.default_access&&r.state.loadingForm){if(!r.state.roleId.length){var e=r.props.roleList.find((function(e){return e.system_user_role_id===r.props.userInfo.default_access.system_user_role_id}));e&&(r.setRoleId(r.props.userInfo.default_access.system_user_role_id),r.setSelectedRole(e),r.setDefaultState(r.props.userInfo.default_access,e))}console.log("===================================="),console.log({vvvvv:r.props.userInfo.default_access}),console.log("====================================")}r.state.selectedRole&&r.props.userInfo.default_access&&r.setDefaultState(r.props.userInfo.default_access,r.state.selectedRole),r.setLoading(!1)}},r.handleSelectRole=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SELECT";if(r.props.roleList){var s=r.props.roleList.find((function(t){return t.system_user_role_id===e}));s&&(r.setRoleId(e),r.setSelectedRole(s),r.state.formError&&"role_id"===r.state.formError.element&&r.setFormError(null),"SELECT"===t&&(r.setProvinceId(""),r.setDistrictId(""),r.setCenterId(""),r.setRoomId(""),r.setInstituteId("")))}},r.tableData=function(){return r.state.roleId.length>0&&null===r.state.selectedRole&&r.props.roleList&&r.handleSelectRole(r.state.roleId,"DEFAULT"),r.state.selectedRole?r.state.selectedRole.access.map((function(e,t){return Object(D.jsxs)("tr",{className:"text-left border-b border-gray-200 hover:bg-gray-100",children:[Object(D.jsx)("td",{className:"px-2 py-1",children:Object(D.jsx)("label",{className:"inline-flex items-center",children:Object(D.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(D.jsx)(C.a,{}):Object(D.jsx)(h.O,{}),e.permitted.create?" Yes":"No"]})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(D.jsx)(C.a,{}):Object(D.jsx)(h.O,{}),e.permitted.view?" Yes":"No"]})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(D.jsx)(C.a,{}):Object(D.jsx)(h.O,{}),e.permitted.update?" Yes":"No"]})}),Object(D.jsx)("td",{children:Object(D.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(D.jsx)(C.a,{}):Object(D.jsx)(h.O,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id+Math.random())})):[Object(D.jsx)("tr",{children:Object(D.jsx)("td",{colSpan:5,className:"text-center px-2 py-2",children:"No Default Access Available on this Role."})},"55re")]},r.assignRoleToUser=function(){var e=Object(i.a)(o.a.mark((function e(t){var s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("Are sure you want to change user role?")){e.next=3;break}return e.abrupt("return",!1);case 3:if(r.state.selectedRole){e.next=5;break}return e.abrupt("return",r.setFormError({element:"role_id",msg:"User role is required!"}));case 5:if(!0!==r.state.selectedRole.room_required||!Object(P.f)(r.state.provinceId)){e.next=7;break}return e.abrupt("return",r.setFormError({element:"province_id",msg:"Province is required!"}));case 7:if(!0!==r.state.selectedRole.education_institution_required||!Object(P.f)(r.state.instituteId)){e.next=9;break}return e.abrupt("return",r.setFormError({element:"institute_id",msg:"Institute is required on this role!"}));case 9:if(!0!==r.state.selectedRole.room_required&&!0!==r.state.selectedRole.district_required||!Object(P.f)(r.state.districtId)){e.next=11;break}return e.abrupt("return",r.setFormError({element:"district_id",msg:"District is required!"}));case 11:if(!0!==r.state.selectedRole.room_required||!Object(P.f)(r.state.centerId)){e.next=13;break}return e.abrupt("return",r.setFormError({element:"center_id",msg:"Center is required!"}));case 13:if(!0!==r.state.selectedRole.room_required||!Object(P.f)(r.state.roomId)){e.next=15;break}return e.abrupt("return",r.setFormError({element:"room_id",msg:"Room is required!"}));case 15:return r.setLoadingRequest(!0),s={user_id:r.props.userInfo.user_id,data:{system_user_role_id:r.state.roleId,status:1,role:r.state.selectedRole.role,access:r.state.selectedRole.access,school_id:"",district_id:"",room_id:r.state.selectedRole.room_required?r.state.roomId:"",education_institution_id:r.state.selectedRole.education_institution_required?r.state.instituteId:""}},e.prev=17,e.next=20,u.a.post("".concat(L,"/addroletouser"),{user_id:r.props.userInfo.user_id,system_user_role_id:r.state.roleId,status:1,role:r.state.selectedRole.role,access:!0,school_id:"",district_id:!0===r.state.selectedRole.district_required?r.state.districtId:"",room_id:!0===r.state.selectedRole.room_required?r.state.roomId:"",education_institution_id:r.state.selectedRole.education_institution_required?r.state.instituteId:""});case 20:(a=e.sent)&&(console.log("===================================="),console.log({assignRoleToUser:a}),console.log("===================================="),r.props.assignRoleToUserAccess(s,r.props.currentPage),r.setLoadingRequest(!1),r.props.setChangeRole(!1),r.props.PushPopupAlert({title:"Assigning Role to User completed successfully",theme:E.a.success})),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(17),console.log({role_error:e.t0}),r.props.PushPopupAlert({title:Object(R.a)(e.t0),theme:E.a.danger});case 28:case"end":return e.stop()}}),e,null,[[17,24]])})));return function(t){return e.apply(this,arguments)}}(),r.distinctDistrict=function(e,t){var s=[],r=[];if(t)r=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a))for(var o in e[a].districts)Object.prototype.hasOwnProperty.call(e[a].districts,o)&&(s.includes(e[a].districts[o]._id)||(s.push(e[a].districts[o]._id),r.push(e[a].districts[o])));return r},r.distinctCenter=function(e,t){var s=[],r=[];return q(e).forEach((function(e){s.includes(e.center_id)||e.district_id!==t||(s.push(e.center_id),r.push(e))})),r},r.distinctRoom=function(e,t){var s=[],r=[];return q(e).forEach((function(e){s.includes(e.room_id)||e.center_id!==t||(s.push(e.room_id),r.push(e))})),r},r.state={loading:!0,loadingForm:!0,loadingRequest:!1,roleId:"",provinceId:"",districtId:"",roomId:"",instituteId:"",centerId:"",selectedRole:null,formError:null,chooseRole:!1},r}return Object(c.a)(s,[{key:"render",value:function(){var e,t=this;return!0===this.state.loading||this.state.loadingForm||null===this.props.userInfo.default_access||0===this.state.roleId.length||null===this.state.selectedRole?Object(D.jsx)("div",{className:"text-center py-7 font-bold text-3xl text-gray-400 animate-pulse",children:"Loading..."}):Object(D.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 py-2 md:py-4 px-2 md:px-0",children:[Object(D.jsx)("div",{className:"col-span-1 bg-white w-full overflow-x-auto border rounded",children:Object(D.jsxs)("div",{className:"px-6 md:px-12 py-5 bg-white mx-auto rounded-2xl w-100",children:[Object(D.jsx)("h3",{className:"font-semibold text-2xl text-gray-800 mb-4",children:"Change User Role"}),this.state.loadingForm?Object(D.jsx)(O.a,{}):Object(D.jsx)("form",{onSubmit:function(e){return t.assignRoleToUser(e)},children:Object(D.jsxs)("div",{className:"space-y-5",children:[Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:"User Role"}),!this.state.chooseRole&&Object(D.jsx)("div",{className:"w-full text-base bg-white text-grey-darker cursor-pointer border-2 px-4 py-3 rounded focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"role_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onClick:function(){!t.state.loadingRequest&&t.setChooseRole(!0),!t.state.loadingRequest&&t.setFormError(null)},children:this.state.selectedRole?this.state.selectedRole.role:"Select role"}),this.state.chooseRole&&Object(D.jsx)(A,{setChooseRole:this.setChooseRole,handleSelectRole:this.handleSelectRole,roleList:this.props.roleList,loadindRequest:this.state.loadingRequest}),this.state.formError&&"role_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.education_institution_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Institute"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"institute_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setInstituteId(e.target.value),t.setProvinceId(""),t.setDistrictId(""),t.setCenterId(""),t.setRoomId(""),t.state.formError&&"institute_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.instituteId,children:[Object(D.jsx)("option",{value:"",children:"Select institute"}),this.props.schoolLevels.education_categories&&this.props.schoolLevels.education_categories.length>0?this.props.schoolLevels.education_categories.map((function(e){return Object(D.jsx)("option",{value:e.education_institute_id,children:e.education_category_title},e.education_institute_id+Math.random())})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No institute available"})]}),this.state.formError&&"institute_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Province"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"province_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setProvinceId(e.target.value),t.state.formError&&"province_id"===t.state.formError.element&&t.setFormError(null),t.setDistrictId(""),t.setCenterId(""),t.setRoomId("")},value:this.state.provinceId,disabled:this.state.loadingRequest,children:[Object(D.jsx)("option",{value:"",children:"Select province"}),this.props.roomList&&this.props.roomList.map((function(e){return Object(D.jsx)("option",{value:e._id,children:e.province_name},e._id+Math.random())}))]}),this.state.formError&&"province_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&(this.state.selectedRole.district_required||this.state.selectedRole.room_required)&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"District"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"district_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setDistrictId(e.target.value),t.state.formError&&"district_id"===t.state.formError.element&&t.setFormError(null),t.setCenterId(""),t.setRoomId("")},value:this.state.districtId,disabled:this.state.loadingRequest,children:[Object(D.jsx)("option",{value:"",children:"Select district"}),this.props.roomList&&this.distinctDistrict(this.props.roomList,Object(P.f)(this.state.provinceId)?void 0:this.state.provinceId).length>0?this.distinctDistrict(this.props.roomList,Object(P.f)(this.state.provinceId)?void 0:this.state.provinceId).map((function(e){return Object(D.jsx)("option",{value:e._id,children:e.district_name},e._id+Math.random())})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No district found"})]}),this.state.formError&&"district_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Center"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"center_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setCenterId(e.target.value),t.state.formError&&"center_id"===t.state.formError.element&&t.setFormError(null),t.setRoomId("")},disabled:this.state.loadingRequest,value:this.state.centerId,children:[Object(D.jsx)("option",{value:"",children:"Select center"}),this.state.districtId&&this.state.districtId.length>0&&this.props.roomList&&this.distinctCenter(this.props.roomList,this.state.districtId).length>0?this.distinctCenter(this.props.roomList,this.state.districtId).map((function(e,t){return Object(D.jsx)("option",{value:e.center_id,children:e.center_name},e.center_id+t+Math.random())})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No center found"})]}),this.state.formError&&"center_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),this.state.selectedRole&&this.state.selectedRole.room_required&&Object(D.jsxs)("div",{className:"space-y-2",children:[Object(D.jsx)("label",{className:"mb-5 text-sm font-medium text-gray-700 tracking-wide",children:"Room"}),Object(D.jsxs)("select",{className:"block w-full text-base bg-white text-grey-darker border-2 rounded px-4 py-3 md:w-full focus:outline-none focus:bg-gray-100 ".concat(this.state.formError&&"room_id"===this.state.formError.element?"border-red-500":"border-gray-400"),onChange:function(e){t.setRoomId(e.target.value),t.state.formError&&"room_id"===t.state.formError.element&&t.setFormError(null)},disabled:this.state.loadingRequest,value:this.state.roomId,children:[Object(D.jsx)("option",{value:"",children:"Select room"}),!Object(P.f)(this.state.centerId)&&this.props.roomList&&this.distinctRoom(this.props.roomList,this.state.centerId).length>0?this.distinctRoom(this.props.roomList,this.state.centerId).map((function(e,t){return Object(D.jsx)("option",{value:e.room_id,className:"".concat("0"===e.room_name?"hidden":"block"),children:e.room_name},e.room_id+t+Math.random())})):Object(D.jsx)("option",{value:"",disabled:!0,children:"No room found"})]}),this.state.formError&&"room_id"===this.state.formError.element&&Object(D.jsx)("span",{className:"text-red-500",children:this.state.formError.msg})]}),Object(D.jsxs)("div",{className:"flex justify-between 2xl:justify-start gap-2",children:[Object(D.jsx)("button",{className:"btn bg-gray-500 text-gray-50 focus:outline-none",onClick:function(){t.props.setChangeRole(!1),t.setFormError(null),t.setProvinceId(""),t.setDistrictId(""),t.setCenterId(""),t.setRoomId("")},disabled:this.state.loadingRequest,children:"Back"}),Object(D.jsx)("button",{className:"btn btn-blue focus:outline-none",disabled:this.state.loadingRequest,children:this.state.loadingRequest?"Loading...":"Save Change"})]})]})})]})}),Object(D.jsxs)("div",{className:"cols-span-1 md:col-span-2 bg-white w-full border rounded text-center p-2 hidden md:block",children:[Object(D.jsx)("div",{className:"my-4",children:Object(D.jsxs)("span",{className:"text-gray-600 font-semibold text-2xl",children:[null===(e=this.state.selectedRole)||void 0===e?void 0:e.role,"'s Default Access"]})}),!this.state.loading&&Object(D.jsx)("div",{className:"overflow-x-auto w-full",children:Object(D.jsx)(v.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!1,searchBG:"bg-gray-50",thColor:"gray",tableId:"defaultAccess"})})]})]})}}]),s}(m.Component),k=x.a.memo(Object(b.b)((function(e){return{schoolLevels:e.schoolLevels}}),{assignRoleToUserAccess:g.b,PushPopupAlert:f.Qb})(I)),M=s.p+"static/media/blank_profile.c3f94521.png",F=s(28),U=function(e,t){return e.find((function(e){return e.user_id===t}))};!function(e){e.View_User="View User Info",e.Add_Access="Add Access To User",e.Update_Access="Update User Access",e.Close_Modal="Close Modal"}(r||(r={}));var q=function(e){var t=[];for(var s in e){var r=e[s].districts;for(var a in r){var o=r[a].centers;for(var i in o){var n=o[i].rooms;for(var c in n)t.push({province_id:e[s]._id,province_name:e[s].province_name,district_id:r[a]._id,district_name:r[a].district_name,center_id:o[i]._id,center_name:o[i].center_name,room_id:n[c]._id,room_name:n[c].room_number.toString(),capacity:n[c].capacity,occupied:n[c].occupied})}}}return t},z=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(n.a)(this,s),(r=t.call(this,e)).setLoadingRequest=function(e){r.setState({loadingRequest:e})},r.setLoading=function(e){r.setState({loading:e})},r.setLoadingRequestType=function(e){r.setState({loadingRequestType:e})},r.setRoomList=function(e){r.setState({roomList:e})},r.setRoomTables=function(e){r.setState({roomTable:e})},r.setCurrentAccess=function(e){r.setState({currentAccess:e})},r.setUserAccess=function(e){r.setState({userAccess:e})},r.componentDidMount=function(){0===r.props.allRoom.length?r.props.getAllRoom((function(e,t,s){r.setLoading(e),r.props.setLoadingUser(e),!e&&t.length>0&&r.props.PushPopupAlert({title:t,theme:E.a.danger}),s&&s.length>0&&(r.setRoomList(s),r.setRoomTables(q(s)))})):r.state.loading&&(r.setRoomList(r.props.allRoom),r.setRoomTables(q(r.props.allRoom)),r.props.setLoadingUser(!1),r.setLoading(!1))},r.tableData=function(){if(r.props.loadingUser||r.state.loading)return[Object(D.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(D.jsx)("td",{className:"p-3 text-center",colSpan:8,children:Object(D.jsx)(O.a,{})})},Math.random())];var e=r.props.users;if(e.length<=0)return[Object(D.jsx)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:Object(D.jsx)("td",{className:"p-3 text-center",colSpan:8,children:"No Data Found"})},Math.random())];var t=r.props.currentPage>1?30*(r.props.currentPage-1):0;return e.map((function(e,s){var a,o;return Object(D.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 group cursor-pointer",onClick:function(){r.props.setManageUser(e),r.props.setManageUserId(e.user_id)},children:[Object(D.jsx)("td",{className:"p-3 text-left whitespace-nowrap",children:t+s+1}),Object(D.jsx)("td",{className:"p-3 text-left",children:Object(D.jsx)("span",{children:e.user_info&&e.user_info.fname+" "+e.user_info.lname})}),Object(D.jsx)("td",{className:"p-3 text-left",children:e.email}),Object(D.jsx)("td",{className:"p-3 text-left",children:e.user_info&&"M"===e.user_info.sex?"Male":"Female"}),Object(D.jsx)("td",{className:"p-3 text-left text-blue-700 text-base font-medium",children:e.default_access&&e.default_access.system_user_role_id&&e.default_access.system_user_role_id&&Object(D.jsx)("span",{className:"px-2 py-1 font-semibold rounded text-blue-700 bg-blue-100 dark:bg-blue-700 dark:text-blue-100",children:(null===(a=Object(P.e)(r.props.roleList,e.default_access.system_user_role_id))||void 0===a?void 0:a.role)&&Object(P.a)(null===(o=Object(P.e)(r.props.roleList,e.default_access.system_user_role_id))||void 0===o?void 0:o.role)})}),Object(D.jsx)("td",{className:"px-3 text-center",children:Object(D.jsx)("button",{className:"btn bg-gray-200 group-hover:bg-blue-700 group-hover:text-white focus:outline-none",title:"Manage User Access",onClick:function(){r.props.setManageUser(e),r.props.setManageUserId(e.user_id)},children:"Manage"})})]},s+Math.random())}))},r.blockUser=function(){var e=Object(i.a)(o.a.mark((function e(t,s){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||r.props.PushPopupAlert({title:"User Access is required doesn't exist",theme:E.a.danger}),r.setLoadingRequest(!0),window.confirm("Are sure you want to ".concat(s?"block":"activate"," this user?"))){e.next=4;break}return e.abrupt("return",r.setLoadingRequest(!1));case 4:return e.prev=4,e.next=7,u.a.patch("".concat(y.a.AUTH,"/auth/user/disactive/").concat(t),{is_active:!s});case 7:(a=e.sent)&&(console.log("===================================="),console.log({blockUserToSystem:a}),console.log("===================================="),s?r.props.blockUserToSystem(t,r.props.currentPage):r.props.unBlockUserToSystem(t,r.props.currentPage),r.props.PushPopupAlert({title:"User has been ".concat(s?"blocked":"activated","!"),theme:E.a.info})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error({blockUser_ERROR:e.t0}),r.props.PushPopupAlert({title:Object(R.a)(e.t0),theme:E.a.danger});case 15:r.setLoadingRequest(!1),t="";case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,s){return e.apply(this,arguments)}}(),r.restUserAccess=function(){var e=Object(i.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||r.props.PushPopupAlert({title:"User Access is required doesn't exist",theme:E.a.warning}),window.confirm("Are sure you want to reset to default access?")){e.next=3;break}return e.abrupt("return",r.setLoadingRequest(!1));case 3:return r.setLoadingRequest(!0),r.setLoadingRequestType("RESET"),e.prev=5,e.next=8,u.a.delete("".concat(y.a.USER,"/access/custom/user/").concat(t));case 8:e.sent&&r.props.resetUserAccess(t,r.props.currentPage),(s=Object(P.f)(r.props.searchFind)?r.props.users.find((function(e){return e.user_id===t})):r.props.manageUser)&&(s.default_access&&r.setUserAccess(s.default_access.access),r.props.PushPopupAlert({title:"Resetting User Access complete successfully",theme:E.a.info}),r.setCurrentAccess(null)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error({reseting_user_access:e.t0}),r.props.PushPopupAlert({title:Object(R.a)(e.t0),theme:E.a.danger});case 18:r.setLoadingRequest(!1),r.setLoadingRequestType(null),t="";case 21:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),r.distinctDistrict=function(e,t){var s=[],r=[];if(t)r=e.find((function(e){return e._id===t}))&&e.find((function(e){return e._id===t})).districts?e.find((function(e){return e._id===t})).districts:[];else for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a))for(var o in e[a].districts)Object.prototype.hasOwnProperty.call(e[a].districts,o)&&(s.includes(e[a].districts[o]._id)||(s.push(e[a].districts[o]._id),r.push(e[a].districts[o])));return r},r.state={loadingRequest:!1,loading:!0,loadingRequestType:null,roomList:null,roomTable:null,userAccess:null,currentAccess:null},r}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=Object(P.f)(this.props.searchFind)?this.props.users.find((function(t){return t.user_id===e.props.manageUserId})):this.props.manageUser?this.props.manageUser:void 0,s=t&&t.default_access?Object(P.e)(this.props.roleList,t.default_access.system_user_role_id):void 0,r=this.state.roomTable&&t?this.state.roomTable.find((function(e){var s;return e.room_id===(null===(s=t.default_access)||void 0===s?void 0:s.room_id)})):void 0;return Object(D.jsxs)("div",{children:[!this.props.manageUser&&Object(D.jsx)("div",{className:"grid md:grid-cols-5 gap-2 mb-5",children:Object(D.jsxs)("div",{className:"md:col-span-5 rounded",children:[Object(D.jsx)("div",{className:"my-2 flex sm:flex-row flex-col justify-between",children:Object(D.jsx)("div",{className:"flex flex-col md:flex-row gap-1 items-center mx-1.5"})}),this.props.users&&Object(D.jsx)(v.a,{columns:[{columnTitle:"#",alignText:"left",padding:"p-3"},{columnTitle:"Names",alignText:"left",padding:"p-3"},{columnTitle:"Email",alignText:"left",padding:"p-3"},{columnTitle:"Gender",alignText:"left",padding:"p-3"},{columnTitle:"Role",alignText:"left",padding:"p-3"},{columnTitle:"",alignText:"left",padding:"p-3"}],rows:this.tableData,pagination:!1,search:!0,thColor:"gray",loading:this.props.loadingUser||this.state.loading})]})}),this.props.manageUser&&Object(D.jsxs)("div",{className:"bg-gray-100 h-100",children:[Object(D.jsxs)("div",{className:"bg-white border-b border-t px-4 py-2 flex flex-col md:flex-row items-center gap-x-14",children:[t?Object(D.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start items-center w-full gap-3",children:[Object(D.jsx)("img",{src:"pic"!==t.user_info.photo&&void 0!==t.user_info.photo?Object(F.c)(t.user_info.photo):M,alt:"",className:"rounded-full w-32 h-32 object-contain"}),Object(D.jsxs)("div",{className:"flex flex-col gap-1 items-start w-full",children:[Object(D.jsx)("span",{className:"text-2xl font-semibold",children:t.user_info.fname+" "+t.user_info.lname}),Object(D.jsxs)("div",{className:"flex items-center",children:[Object(D.jsx)(h.Z,{className:"w-5 h-5"}),Object(D.jsx)("span",{className:"text-lg font-medium",children:s&&s.role})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Level:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:s&&s.room_required?"Room":s&&s.education_institution_required?"Institute":"-"})]}),s&&s.education_institution_required?Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Institute:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:t.default_access&&this.props.schoolLevels.education_categories&&Object(P.c)(this.props.schoolLevels.education_categories,t.default_access.education_institution_id)?Object(P.c)(this.props.schoolLevels.education_categories,t.default_access.education_institution_id).education_category_title:"Unknown Institute"})]}):s&&s.room_required&&Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)(h.Y,{className:"text-gray-500"}),r&&Object(D.jsx)("span",{className:"text-base font-medium",children:(null===r||void 0===r?void 0:r.district_name)+" - "+(null===r||void 0===r?void 0:r.center_name)+" - Room "+(null===r||void 0===r?void 0:r.room_name)})]})]})]},t.user_id+Math.random()):Object(D.jsx)("div",{className:"w-full",children:Object(D.jsx)(_.b,{theme:_.a.Dark,value:"User info not found"})}),t&&Object(D.jsxs)("div",{className:"flex flex-col w-full",children:[Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"NID:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:t.n_id})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Email:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:t.email})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Phone:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:t.phone_number})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[Object(D.jsx)("span",{className:"text-gray-500",children:"Status:"}),Object(D.jsx)("span",{className:"text-base font-medium",children:!1===t.is_active?"Blocked":"Active"})]}),Object(D.jsxs)("div",{className:"flex items-center gap-1",children:[t.custome_access&&Object(D.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-50 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"cursor-wait bg-gray-400":"bg-gray-600"),onClick:function(){return e.restUserAccess(t.user_id)},disabled:this.state.loadingRequest,children:[Object(D.jsx)(h.Z,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Resetting...":"Reset Access"})]}),!this.props.changeRole&&Object(D.jsxs)("button",{className:"bg-yellow-300 hover:bg-yellow-400 px-2 py-1 font-semibold text-black inline-flex items-center rounded",onClick:function(){return e.props.setChangeRole(!0)},children:[Object(D.jsx)(h.Z,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:"Change Role"})]}),t.is_active?Object(D.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"STATUS"===this.state.loadingRequestType?"cursor-wait bg-red-500":"bg-red-700"),onClick:function(){return!e.state.loadingRequest&&e.props.manageUser&&e.blockUser(t.user_id,t.is_active)},disabled:this.state.loadingRequest,children:[Object(D.jsx)(h.Z,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Loading...":"Block user"})]}):Object(D.jsxs)("button",{className:"px-2 py-1 font-semibold text-gray-100 inline-flex items-center rounded ".concat(this.state.loadingRequestType&&"STATUS"===this.state.loadingRequestType?"cursor-wait bg-yellow-500":"bg-yellow-700"),onClick:function(){return!e.state.loadingRequest&&e.props.manageUser&&e.blockUser(t.user_id,t.is_active)},disabled:this.state.loadingRequest,children:[Object(D.jsx)(h.Z,{className:"w-4 h-4 fill-current"}),Object(D.jsx)("span",{children:this.state.loadingRequestType&&"RESET"===this.state.loadingRequestType?"Loading...":"Re-Activate"})]})]})]},t.user_id+Math.random())]}),this.props.manageUser&&this.state.roomList&&this.props.changeRole?Object(D.jsx)(k,{userInfo:this.props.manageUser,roleList:this.props.roleList,district:this.distinctDistrict(this.state.roomList),roomList:this.state.roomList,setChangeRole:this.props.setChangeRole,currentPage:this.props.currentPage}):Object(D.jsx)(N.UserAccess,{userInfo:t,manageUserId:this.props.manageUserId,setUserAccess:this.setUserAccess,userAccess:this.state.userAccess,setCurrentAccess:this.setCurrentAccess,currentAccess:this.state.currentAccess,currentPage:this.props.currentPage})]})]})}}]),s}(m.Component);t.b=x.a.memo(Object(b.b)((function(e){return{schoolLevels:e.schoolLevels,allRoom:e.locations.roomLocation}}),{blockUserToSystem:g.c,unBlockUserToSystem:g.g,resetUserAccess:g.f,getAllRoom:j.q,PushPopupAlert:f.Qb})(z))},718:function(e,t){},719:function(e,t){},720:function(e,t,s){"use strict";var r=s(4),a=s.n(r),o=s(66),i=s(32),n=s(28),c=s(1),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",icon:o.r,iconColor:"indigo",count:0,countOver:void 0},t=e.icon;return Object(c.jsxs)("div",{className:"flex items-center px-6 py-4 bg-white w-full rounded-md space-x-2 mb-2 lg:mb-0 shadow-md",children:[Object(c.jsx)("div",{className:"p-3 rounded-full bg-".concat(e.iconColor,"-200 bg-opacity-75"),children:Object(c.jsx)(t,{className:"h-8 w-8 text-".concat(e.iconColor,"-600")})}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h1",{className:"text-3xl font-semibold text-gray-700",children:[e.count<1e3?Object(i.g)(e.count):Object(n.h)(e.count)," ",e.countOver&&"/ "+Object(i.g)(e.countOver)]}),Object(c.jsx)("span",{className:"text-gray-500 text-lg",children:e.title})]})]})};t.a=a.a.memo(l)},721:function(e,t,s){"use strict";s.d(t,"d",(function(){return u})),s.d(t,"c",(function(){return m})),s.d(t,"a",(function(){return x}));var r,a=s(17),o=s(4),i=s.n(o),n=s(72),c=s(33),l=s(32),d=s(28),p=s(1);!function(e){e.COURSER_NAME="course_name",e.COURSE_CODE="course_code",e.SCHOOL_LEVEL="school_levels",e.PERIOD="exam_period",e.DATE="exam_date",e.TIME="exam_time",e.DURATION="exam_duration",e.PERFORMANCE="exam_performance"}(r||(r={}));var u=function(e){return e!==r.COURSER_NAME&&e!==r.COURSE_CODE&&e!==r.PERIOD&&e!==r.PERFORMANCE},m=[{key:r.COURSER_NAME,title:"Course names",status:!0},{key:r.COURSE_CODE,title:"Course code",status:!0},{key:r.SCHOOL_LEVEL,title:"School levels",status:!0},{key:r.PERIOD,title:"Exam period",status:!0},{key:r.DATE,title:"Exam date",status:!0},{key:r.TIME,title:"Exam time",status:!0},{key:r.DURATION,title:"Exam duration",status:!0},{key:r.PERFORMANCE,title:"Exam performance",status:!0}],x=function(e,t,s){var r=[],a=[],o=function(o){if(Object.prototype.hasOwnProperty.call(s,o)){if(a.includes(s[o].answer_sheet_id))return"continue";a.push(s[o].answer_sheet_id);var i=e.find((function(e){return e.course_id===s[o].course}));if(i){var n=t.find((function(e){return e.course===s[o].course&&e.period===s[o].period}));r.push({course_name:i.course_name,course_code:i.course_code,description:i.description,school_levels:i.school_levels,course_id:i.course_id,exam:n||null,exam_performance:s[o].total_marks})}}};for(var i in s)o(i);return console.log("===============-----------------====================="),console.log({result:r}),console.log("===============-----------------====================="),r},h=function(e){var t,s,r=Object(o.useState)(""),u=Object(a.a)(r,2),m=u[0],h=u[1],b=Object(o.useState)(!1),f=Object(a.a)(b,2),j=f[0],g=f[1],O=Object(o.useState)(""),_=Object(a.a)(O,2),v=_[0],E=_[1],P=Object(o.useState)("ASC"),y=Object(a.a)(P,2),R=y[0],N=y[1],C=function(e){v===e&&"ASC"===R?(N("DESC"),E(e),g(!0)):(N("ASC"),E(e),g(!0))};return Object(p.jsx)(i.a.Fragment,{children:Object(p.jsxs)("div",{className:"bg-white my-4",children:[Object(p.jsx)("div",{className:"w-full px-2 py-2",children:Object(p.jsx)("input",{onChange:function(e){return h(e.target.value)},type:"text",value:m,placeholder:"Search...",className:"w-full bg-gray-100 py-2 px-3 rounded",disabled:!!(e.courseListData&&e.examsListData&&e.examsPerformanceData&&x(e.courseListData,e.examsListData,e.examsPerformanceData).length<=0)})}),Object(p.jsx)("div",{className:"w-full overflow-x-auto",children:Object(p.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(p.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return C("course_name")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Course ",Object(p.jsx)(n.j,{})]})}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam date"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam time"}),Object(p.jsx)("td",{className:"px-2 py-2",children:"Exam duration"}),Object(p.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return C("exam_performance")},children:Object(p.jsxs)("div",{className:"flex items-center gap-1",children:["Exam performance ",Object(p.jsx)(n.j,{})]})})]})}),Object(p.jsx)("tbody",{children:null===e.courseListData||e.loading?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:6,className:"px-2 py-2",children:Object(p.jsx)(c.a,{})})}):e.examsListData&&e.examsPerformanceData&&x(e.courseListData,e.examsListData,e.examsPerformanceData).length<=0?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:6,className:"px-2 py-2 text-center",children:"No Exam list available!"})}):e.examsListData&&e.examsPerformanceData&&Object(d.r)(j,(t=x(e.courseListData,e.examsListData,e.examsPerformanceData),s=m,void 0===s||""===s?t:t.filter((function(e){var t;for(var r in e)if(t=!1,"course_name"!==r&&"course_code"!==r&&"exam_performance"!==r||(t=e[r].toString().toLowerCase().indexOf(s.toLowerCase())>-1),t)break;return t}))),v,R).map((function(e,t){return Object(p.jsxs)("tr",{className:"bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700 border-b border-gray-300 hover:border-blue-500 text-sm",children:[Object(p.jsx)("td",{className:"px-2 py-2",children:t+1}),Object(p.jsxs)("td",{className:"px-2 py-2",children:[Object(l.a)(e.course_name)," (",Object(p.jsx)("span",{className:"font-semibold",children:e.course_code}),")"]}),Object(p.jsx)("td",{className:"px-2 py-2",children:e.exam?Object(d.a)(e.exam.exam_date):"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:e.exam?e.exam.start_time:"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:e.exam?e.exam.duration+" min":"-"}),Object(p.jsx)("td",{className:"px-2 py-2",children:Number(e.exam_performance.toFixed(1))+"%"})]},t+1)}))})]})})]})})};t.b=i.a.memo(h)},722:function(e,t,s){"use strict";var r=s(4),a=s.n(r),o=s(720),i=s(1),n=function(e){var t=e.labelsOnRow&&e.labelsOnRow>4?e.labelsOnRow:4;return Object(i.jsxs)("div",{className:"grid 2xl:grid-cols-".concat(t," xl:grid-cols-").concat(t-1," lg:grid-cols-").concat(t-2," md:grid-cols-").concat(t-3," sm:grid-cols-2 grid-cols-1 gap-4 items-center mx-auto"),children:[e.children&&(e.childrenPosition&&"START"===e.childrenPosition||!e.childrenPosition)&&e.children,e.dataLabels.map((function(e,t){return Object(i.jsx)("section",{children:Object(i.jsx)(o.a,{title:e.title,icon:e.icon,iconColor:e.iconColor,count:e.count})},t+e.title)})),e.children&&e.childrenPosition&&"END"===e.childrenPosition&&e.children]})};t.a=a.a.memo(n)},723:function(e,t,s){"use strict";var r=s(4),a=s.n(r),o=s(729),i=s.n(o),n=s(1),c=function(e){return Object(n.jsx)("div",{className:"donut",children:Object(n.jsx)(i.a,{options:e.options,series:e.series,type:"donut",width:"".concat(e.width?e.width:"380")})})};t.a=a.a.memo(c)},727:function(e,t,s){"use strict";s.r(t),s.d(t,"UserAccess",(function(){return C}));var r=s(5),a=s.n(r),o=s(7),i=s(25),n=s(24),c=s(27),l=s(26),d=s(10),p=s.n(d),u=s(4),m=s.n(u),x=s(72),h=s(12),b=s(714),f=s(710),j=s(23),g=s(37),O=s(3),_=s(689),v=s(123),E=s(21),P=s(8),y=s(14),R=s(1),N=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).setViewPermission=function(e){r.setState({viewPermission:e})},r.setLoadindRequest=function(e){r.setState({loadindRequest:e})},r.setCreatePermission=function(e){r.setState({createPermission:e})},r.setUpdatePermission=function(e){r.setState({updatePermission:e})},r.setDeletePermission=function(e){r.setState({deletePermission:e})},r.setLoadind=function(e){r.setState({loading:e})},r.overrideUserAccess=function(e,t){if(e&&t&&t.length>0){var s=[],a=function(r){if(Object.prototype.hasOwnProperty.call(e,r)){var a=t.find((function(t){return t.id===e[r].id}));a?s.push(a):s.push(e[r])}};for(var o in e)a(o);r.props.setUserAccess(s)}},r.componentDidMount=function(){r.props.userInfo&&r.props.userInfo.custome_access?(r.props.userInfo.default_access&&r.overrideUserAccess(r.props.userInfo.default_access.access,r.props.userInfo.custome_access.access),r.setLoadind(!1)):(r.props.userInfo&&r.props.userInfo.default_access&&r.props.setUserAccess(r.props.userInfo.default_access.access),r.setLoadind(!1))},r.tableData=function(){return r.props.userAccess?r.props.userAccess.map((function(e,t){return Object(R.jsxs)("tr",{className:"text-left border-b border-gray-200 cursor-pointer hover:bg-gray-100 ".concat(r.props.currentAccess&&r.props.currentAccess.id===e.id&&"bg-gray-200 border my-3 hover:bg-gray-100"),onClick:function(){return r.props.currentAccess&&r.props.currentAccess.id===e.id?(r.props.setCurrentAccess(null),r.setCreatePermission(!1),r.setViewPermission(!1),r.setUpdatePermission(!1),r.setDeletePermission(!1)):(r.props.setCurrentAccess(e),r.setCreatePermission(e.permitted.create),r.setViewPermission(e.permitted.view),r.setUpdatePermission(e.permitted.update),r.setDeletePermission(e.permitted.delete))},children:[Object(R.jsx)("td",{className:"px-2 py-1",children:Object(R.jsx)("label",{className:"inline-flex items-center",children:Object(R.jsx)("span",{className:"text-gray-900 capitalize text-xl font-normal cursor-pointer",children:e.task})})}),Object(R.jsx)("td",{children:Object(R.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.create?"text-green-700":"text-red-700"),children:[e.permitted.create?Object(R.jsx)(f.a,{}):Object(R.jsx)(h.O,{}),e.permitted.create?" Yes":"No"]})}),Object(R.jsx)("td",{children:Object(R.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.view?"text-green-700":"text-red-700"),children:[e.permitted.view?Object(R.jsx)(f.a,{}):Object(R.jsx)(h.O,{}),e.permitted.view?" Yes":"No"]})}),Object(R.jsx)("td",{children:Object(R.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.update?"text-green-700":"text-red-700"),children:[e.permitted.update?Object(R.jsx)(f.a,{}):Object(R.jsx)(h.O,{}),e.permitted.update?" Yes":"No"]})}),Object(R.jsx)("td",{children:Object(R.jsxs)("div",{className:"inline-flex items-center text-xl ".concat(e.permitted.delete?"text-green-700":"text-red-700"),children:[e.permitted.delete?Object(R.jsx)(f.a,{}):Object(R.jsx)(h.O,{}),e.permitted.delete?" Yes":"No"]})})]},t+e.id+Math.random())})):[Object(R.jsx)("tr",{children:Object(R.jsx)("td",{children:"No data"})},Math.random())]},r.handleCustomization=function(){var e=Object(o.a)(a.a.mark((function e(t){var s,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r.props.userInfo){e.next=26;break}if(r.setLoadindRequest(!0),s=null,s=r.props.userInfo.custome_access,o=-1,e.prev=6,s&&r.props.currentAccess?(o=s.access.findIndex((function(e){return e.id===r.props.currentAccess.id})))>=0?(s.access[o].permitted.create=r.state.createPermission,s.access[o].permitted.view=r.state.viewPermission,s.access[o].permitted.update=r.state.updatePermission,s.access[o].permitted.delete=r.state.deletePermission):s.access.push({id:r.props.currentAccess.id,task:r.props.currentAccess.task,key:r.props.currentAccess.key,permitted:{create:r.state.createPermission,view:r.state.viewPermission,update:r.state.updatePermission,delete:r.state.deletePermission}}):r.props.currentAccess&&(s={access:[{id:r.props.currentAccess.id,task:r.props.currentAccess.task,key:r.props.currentAccess.key,permitted:{create:r.state.createPermission,view:r.state.viewPermission,update:r.state.updatePermission,delete:r.state.deletePermission}}],user_id:r.props.userInfo.user_id,custome_user_access_id:""}),!s){e.next=19;break}if(null===r.props.userInfo.custome_access){e.next=15;break}return e.next=12,p.a.patch("".concat(P.a.USER,"/access/custom"),{access:s.access,user_id:r.props.userInfo.user_id});case 12:i=e.sent,e.next=18;break;case 15:return e.next=17,p.a.post("".concat(P.a.USER,"/access/custom"),{access:s.access,user_id:r.props.userInfo.user_id});case 17:i=e.sent;case 18:i&&(s.custome_user_access_id=i.data.data.custome_user_access_id,r.props.customizeUserAccess(s,r.props.currentPage),s&&r.props.userInfo.default_access&&r.overrideUserAccess(r.props.userInfo.default_access.access,s.access),r.props.PushPopupAlert({title:"Resetting User Access complete successfully",theme:E.a.info}),s=null,r.props.setCurrentAccess(null),r.setCreatePermission(!1),r.setViewPermission(!1),r.setUpdatePermission(!1),r.setDeletePermission(!1));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),console.error({customize_access:e.t0}),r.props.PushPopupAlert({title:Object(y.a)(e.t0),theme:E.a.danger});case 25:r.setLoadindRequest(!1);case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),r.state={loading:!0,loadindRequest:!1,createPermission:!1,viewPermission:!1,updatePermission:!1,deletePermission:!1},r}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return void 0===this.props.userInfo?Object(R.jsx)(g.a,{to:"/users"}):this.state.loading||null===this.props.userInfo?Object(R.jsx)("div",{className:"text-center py-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading User Access..."}):Object(R.jsx)("div",{children:Object(R.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mx-1 my-2",children:[Object(R.jsxs)("div",{className:"col-span-1 md:col-span-3 bg-white w-full overflow-x-auto border rounded text-center p-2 ".concat(this.props.currentAccess?"hidden md:block":""),children:[Object(R.jsx)("span",{className:"text-gray-600 mt-2 font-semibold text-2xl",children:"Settings"}),!this.state.loading&&Object(R.jsx)("div",{className:"overflow-x-auto w-full",children:Object(R.jsx)(v.a,{columns:[{columnTitle:"Access Name",alignText:"left",padding:"p-3"},{columnTitle:"Create",alignText:"left"},{columnTitle:"View",alignText:"left"},{columnTitle:"Update",alignText:"left"},{columnTitle:"Delete",alignText:"left"}],rows:this.tableData,pagination:!1,search:!0,searchBG:"bg-gray-50",thColor:"gray"})})]}),Object(R.jsx)("div",{className:"col-span-1 md:col-span-2",children:this.props.currentAccess?Object(R.jsxs)("div",{className:"",children:[Object(R.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-center my-2 text-gray-900",children:"Customize User Access"}),Object(R.jsx)("div",{className:"flex justify-center mb-3",children:Object(R.jsxs)("h2",{className:"text-2xl font-semibold text-center text-gray-600 flex flex-row items-center",children:[Object(R.jsx)(x.i,{className:"w-7 h-7"}),this.props.currentAccess.task]})}),Object(R.jsx)("div",{className:"flex flex-col px-2 md:px-1",children:Object(R.jsxs)("form",{className:"flex flex-col items-center",onSubmit:function(t){return e.handleCustomization(t)},children:[Object(R.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(R.jsx)(b.a,{className:"w-7 h-7 text-gray-600"}),Object(R.jsxs)("div",{className:"flex flex-col",children:[Object(R.jsx)("h3",{className:"font-semibold text-xl",children:"Create"}),Object(R.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to create"})]}),Object(R.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setCreatePermission(!e.state.createPermission)},checked:this.state.createPermission,disabled:this.state.loadindRequest})]}),Object(R.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(R.jsx)(h.Fb,{className:"w-7 h-7 text-gray-600"}),Object(R.jsxs)("div",{className:"flex flex-col",children:[Object(R.jsx)("h3",{className:"font-semibold text-xl",children:"View"}),Object(R.jsx)("span",{className:"text-gray-600 text-sm md:pr-4",children:"This permission gives the user the ability to view"})]}),Object(R.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setViewPermission(!e.state.viewPermission)},checked:this.state.viewPermission,disabled:this.state.loadindRequest})]}),Object(R.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(R.jsx)(h.E,{className:"w-7 h-7 text-gray-600"}),Object(R.jsxs)("div",{className:"flex flex-col",children:[Object(R.jsx)("h3",{className:"font-semibold text-xl",children:"Update"}),Object(R.jsx)("span",{className:"text-gray-600 text-sm",children:"This permission gives the user the ability to update"})]}),Object(R.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setUpdatePermission(!e.state.updatePermission)},checked:this.state.updatePermission,disabled:this.state.loadindRequest})]}),Object(R.jsxs)("div",{className:"inline-flex gap-2 items-center",children:[Object(R.jsx)(h.C,{className:"w-7 h-7 text-gray-600"}),Object(R.jsxs)("div",{className:"flex flex-col",children:[Object(R.jsx)("h3",{className:"font-semibold text-xl",children:"Delete"}),Object(R.jsx)("span",{className:"text-gray-600 text-sm md:pr-1",children:"This permission gives the user the ability to delete"})]}),Object(R.jsx)("input",{type:"checkbox",className:"form-checkbox h-7 w-7 text-teal-600",onChange:function(){return e.setDeletePermission(!e.state.deletePermission)},checked:this.state.deletePermission,disabled:this.state.loadindRequest})]}),Object(R.jsxs)("div",{className:"flex items-center justify-center w-full py-3 gap-2",children:[Object(R.jsx)("button",{className:"btn bg-gray-500 hover:bg-gray-700 focus:outline-none text-white",disabled:this.state.loadindRequest,onClick:function(){e.props.setCurrentAccess(null),e.setCreatePermission(!1),e.setViewPermission(!1),e.setUpdatePermission(!1),e.setDeletePermission(!1)},children:"Cancel"}),Object(R.jsx)("button",{className:"btn btn-blue",disabled:this.state.loadindRequest,children:this.state.loadindRequest?"Processing..":"Save Change"})]})]})})]}):Object(R.jsxs)("div",{className:"w-full hidden md:flex flex-col items-center text-gray-600 gap-1 py-3",children:[Object(R.jsx)(h.Ob,{className:"w-20 h-20"}),Object(R.jsx)("span",{className:"text-8 md:text-12",children:"Choose Access to Customize"})]})})]})})}}]),s}(u.Component),C=m.a.memo(Object(j.b)(null,{customizeUserAccess:_.d,PushPopupAlert:O.Qb})(N))},748:function(e,t,s){"use strict";s.r(t),s.d(t,"getLevelbyId",(function(){return M})),s.d(t,"loadCoursesByInstitute",(function(){return F})),s.d(t,"loadExaminationProgress",(function(){return U})),s.d(t,"loadExamPreparationProgress",(function(){return q})),s.d(t,"isDatePast",(function(){return z})),s.d(t,"loadExamAttendance",(function(){return X})),s.d(t,"ExamDashboard",(function(){return B}));var r=s(25),a=s(24),o=s(27),i=s(26),n=s(4),c=s.n(n),l=s(23),d=s(3),p=s(202),u=s(126),m=s.n(u),x=s(699),h=s(686),b=s(701),f=s(690),j=s(21),g=s(683),O=s(17),_=s(125),v=s(12),E=s(705),P=s(1),y=function(e){var t=Object(n.useState)(!1),s=Object(O.a)(t,2),r=s[0],a=s[1];return Object(P.jsxs)(n.Fragment,{children:[Object(P.jsxs)("div",{className:"mt-3 rounded flex flex-col md:flex-row md:justify-between items-start",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-3 mb-2",children:[Object(P.jsx)(_.b,{className:"text-7xl text-blue-600 hidden md:block"}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:"Exam Dashboard"}),!1]})]}),Object(P.jsxs)("section",{className:"w-full md:w-auto my-2 md:my-0",children:[Object(P.jsx)("section",{className:"flex items-start md:items-center justify-start md:justify-end gap-2",children:e.education_categories&&e.education_categories.length>0&&e.education_categories.map((function(t,s){return Object(P.jsx)("section",{className:"w-auto ".concat(e.loading||e.loadingEducation?"cursor-not-allowed":"cursor-pointer"," ").concat(e.thisEducation&&t.education_institute_id===e.thisEducation.education_institute_id?"bg-blue-500 text-white font-bold":"bg-gray-100 text-blue-800"," mb-1 hover:font-bold py-1 hover:bg-blue-400 hover:text-white --font-bold  px-2 rounded-md flex items-center animate__animated animate__zoomIn"),onClick:function(){return!e.loading&&!e.loadingEducation&&e.setThisEducation(t)},children:Object(P.jsxs)("section",{className:"flex-1",children:[Object(P.jsx)(v.n,{className:"inline-block mr-1 text-xs"}),Object(P.jsx)("span",{children:t.education_category_title})]})},t.education_institute_id+s)}))}),Object(P.jsx)("div",{children:Object(P.jsx)("select",{className:"bg-white text-gray-600 border border-gray-400 rounded p-2 focus:outline-none ".concat(e.loading&&"cursor-wait"),value:e.thisPeriod,disabled:e.loading||e.loadingEducation,onChange:function(t){e.setThisPeriod(t.target.value),e.onPeriodChange&&e.onPeriodChange(t.target.value)},children:e.application_sessions.map((function(e,t){return Object(P.jsx)("option",{value:e._id,children:e.session_plan_name},e._id+t)}))})})]})]}),r&&Object(P.jsx)(E.b,{modalFor:E.a.title,modalState:r,reportTitle:e.reportTitle,changeModalState:a,setReportTitle:e.setReportTitle})]})},R=c.a.memo(y),N=s(722),C=s(66),T=s(723),S=s(700),D=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){return Object(P.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(P.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(P.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Exams preparation chart"})}),Object(P.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(P.jsx)(S.a,{labels:["Remaining exams","Prepared exams"],categoriesLabel:["Exam preparation progress"],dataLabels:!0,yaxisText:"Exam preparation progress",tooltipText:"(Exams)",series:[{name:"Remaining exams",data:[this.props.examPreparationProgress.remaining.length]},{name:"Prepared exams",data:[this.props.examPreparationProgress.finished.length]}],colors:["#4b5563","#469769"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(n.Component),w=c.a.memo(D),A=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){return Object(P.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(P.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(P.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Examination progress chart"})}),Object(P.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(P.jsx)(S.a,{labels:["Remaining exams","Prepared exams"],categoriesLabel:["Examinations progress"],dataLabels:!0,yaxisText:"Examination progress",tooltipText:"(Exams)",series:[{name:"Remaining exams",data:[this.props.progressData.remaining.length]},{name:"Done exams",data:[this.props.progressData.finished.length]}],colors:["#4b5563","#469769"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(n.Component),L=c.a.memo(A),I=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){return Object(P.jsxs)("div",{className:"my-3 max-w-full bg-white",children:[Object(P.jsx)("div",{className:"flex items-center justify-between px-3",children:Object(P.jsx)("span",{className:"text-gray-600 font-semibold text-xl py-4 px-0",children:"Examination performance chart"})}),Object(P.jsx)("div",{className:"mb-4 pb-2 px-3",children:Object(P.jsx)(S.a,{labels:["Pass applicant(s)","Failed applicant(s)"],categoriesLabel:["Exam preparation progress"],dataLabels:!0,yaxisText:"Exam performance",tooltipText:"(Applicants)",series:[{name:"Pass applicant(s)",data:[this.props.examPerformance.pass.length]},{name:"Failed applicant(s)",data:[this.props.examPerformance.failed.length]}],colors:["#469769","#d97724"],defaultBar:{borderRadius:4,horizontal:!1,columnWidth:"95%",endingShape:"rounded"},chartHeight:550})})]})}}]),s}(n.Component),k=c.a.memo(I),M=function(e,t){if(e)return e.find((function(e){return e.school_level_id===t}))},F=function(e,t,s){var r=[],a=!1;if(t&&e){var o=function(a){Object.prototype.hasOwnProperty.call(t,a)&&(t[a].school_levels.length>0?t[a].school_levels.forEach((function(o){var i=M(s,o);i&&(i.education_institute.includes(e.education_institute_id)||i.education_institute.length<=0)&&r&&r.push(t[a])})):r&&r.push(t[a]))};for(var i in t)o(i)}else a=!0;return a?t:r},U=function(e,t,s,r,a,o){var i=[],n=[],c=[],l=!1;return e&&F(s,r,a)&&t&&(l=!0,n=(i=Object(h.a)(F(s,r,a),t,e).filter((function(e){return e.exam&&e.exam.period===o}))).filter((function(e){return"done"===e.preparation_status.toLocaleLowerCase()})),c=i.filter((function(e){return"active"===e.preparation_status.toLocaleLowerCase()}))),console.log("===================================="),console.log({loadExaminationProgress:e}),console.log("===================================="),l?{all:i,finished:n,remaining:c}:null},q=function(e){return{all:e,finished:e.filter((function(e){return"prepared"===e.preparation_status})),remaining:e.filter((function(e){return"not prepared"===e.preparation_status}))}},z=function(e){var t=m()().format("DD-MM-YYYY"),s=m()(t,"DD-MM-YYYY"),r=m()(e,"DD-MM-YYYY");return!(s.diff(r)>0)},X=function(e,t){return{all:e.filter((function(e){return e.exam.period===t})),pass:e.filter((function(e){return e.exam.period===t&&("Editing"!==e.exam_stastus||z(e.exam.exam_date))&&e.user_total_marks>=50})),failed:e.filter((function(e){return e.exam.period===t&&("Editing"!==e.exam_stastus||z(e.exam.exam_date))&&e.user_total_marks<50})),active:e.filter((function(e){return e.exam.period===t&&"Editing"===e.exam_stastus&&!z(e.exam.exam_date)}))}},Y=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setLoadingCourses=function(e){a.setState({loadingCourses:e})},a.setLoadingExams=function(e){a.setState({loadingExams:e})},a.setLoadingDoneExam=function(e){a.setState({loadingDoneExam:e})},a.setLoadingCandidatesExamPerformance=function(e){a.setState({loadingCandidatesExamPerformance:e})},a.setLoadingExamPerformance=function(e){a.setState({loadingExamPerformance:e})},a.setLoadingSettings=function(e){a.setState({loadingSettings:e})},a.setChangingPeriod=function(e){a.setState({changingPeriod:e})},a.setReportTitle=function(e){a.setState({reportTitle:e})},a.setThisEducation=function(e){a.setState({thisEducation:e})},a.setThisPeriod=function(e){a.setState({thisPeriod:e})},a.loadByPeriods=function(e){a.props.loadDoneExam(e._id,(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:j.a.danger}),a.setLoadingDoneExam(!1))})),a.props.loadPerfomranceExam(e._id,(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:j.a.danger}),a.setLoadingExamPerformance(!1))}))},a.componentDidMount=function(){if(null===a.props.schoolLevels.education_categories||0===a.props.schoolLevels.education_categories.length?a.props.loadEducationCategories(a.setLoadingSettings):a.props.schoolLevels.education_categories.length>0&&!a.state.thisEducation&&(a.setThisEducation(a.props.schoolLevels.education_categories[0]),a.setLoadingSettings(!1)),null===a.props.application_sessions)a.props.GetAllSessionPlans((function(e,t,s){var r;(a.setLoadingSettings(e),a.setLoading(e),!e&&t.length&&a.props.PushPopupAlert({title:t,theme:j.a.danger}),!e&&s&&s.length>0)&&((r=s.find((function(e){return e.is_active})))?a.setThisPeriod(r._id):a.setThisPeriod(s[s.length-1]._id))}));else if(a.props.application_sessions.length>0&&!a.state.thisPeriod.length){var e;(e=a.props.application_sessions.find((function(e){return e.is_active})))?(a.setThisPeriod(e._id),a.loadByPeriods(e)):(a.setThisPeriod(a.props.application_sessions[a.props.application_sessions.length-1]._id),a.loadByPeriods(a.props.application_sessions[a.props.application_sessions.length-1])),a.setLoadingSettings(!1),a.setLoading(!1)}null===a.props.schoolLevels.school_levels||a.props.schoolLevels.school_levels.length<=0?a.props.loadSchoolLevels(a.setLoadingSettings):a.setLoadingSettings(!1),(null===a.props.adminExamReport.CandidatesExamPerformance||0===a.props.adminExamReport.CandidatesExamPerformance.length&&a.state.loadingCandidatesExamPerformance)&&a.props.loadCandidatesExamPerformance(null,(function(e,t){e||(t.length>0&&a.props.PushPopupAlert({title:t,theme:j.a.danger}),a.setLoadingCandidatesExamPerformance(!1))}))},a.onPeriodChange=function(e){a.setLoadingDoneExam(!0),a.setLoadingExamPerformance(!0),a.setChangingPeriod(!0),a.props.loadDoneExam(e,(function(e,t){if(!e){var s=!0;t.length>0&&s&&(a.props.PushPopupAlert({title:t,theme:j.a.danger}),s=!1),a.setLoadingDoneExam(!1)}})),a.props.loadPerfomranceExam(e,(function(e,t){if(!e){var s=!0;t.length>0&&s&&(a.props.PushPopupAlert({title:t,theme:j.a.danger}),s=!1),a.setLoadingExamPerformance(!1)}})),a.state.loadingDoneExam||a.state.loadingExamPerformance||a.setChangingPeriod(!1)},a.state={loading:!0,loadingCourses:!0,loadingExams:!0,loadingDoneExam:!0,loadingCandidatesExamPerformance:!0,loadingExamPerformance:!0,loadingSettings:!0,changingPeriod:!1,reportTitle:f.reportTitleType.EXAM_PREPARATION,thisEducation:null,thisPeriod:""},a}return Object(a.a)(s,[{key:"render",value:function(){return this.state.loading||null===this.props.application_sessions?Object(P.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading Data..."}):0===this.props.application_sessions.length?Object(P.jsx)(g.a,{}):Object(P.jsxs)("div",{children:[Object(P.jsx)(R,{reportTitle:this.state.reportTitle,setReportTitle:this.setReportTitle,loading:this.state.changingPeriod,education_categories:this.props.schoolLevels.education_categories,loadingEducation:!1,thisEducation:this.state.thisEducation,setThisEducation:this.setThisEducation,thisPeriod:this.state.thisPeriod,setThisPeriod:this.setThisPeriod,application_sessions:this.props.application_sessions,onPeriodChange:this.onPeriodChange}),this.props.examsList&&F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(P.jsxs)("section",{className:"my-2",children:[Object(P.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Exams preparation status"}),Object(P.jsx)(N.a,{dataLabels:[{title:"Total exams",icon:C.c,iconColor:"blue",count:q(Object(b.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).all.length},{title:"Prepared exams",icon:C.c,iconColor:"green",count:q(Object(b.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).finished.length},{title:"Remaining exams",icon:C.c,iconColor:"gray",count:q(Object(b.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).remaining.length}],labelsOnRow:5,children:Object(P.jsx)("div",{className:"flex justify-center",children:Object(P.jsx)(T.a,{options:{labels:["Prepared","Remaining"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#4b5563"]},series:[q(Object(b.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).finished.length,q(Object(b.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod)).remaining.length],width:210})})})]}),U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)&&Object(P.jsxs)("section",{className:"my-2",children:[Object(P.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Examination progress status"}),Object(P.jsx)(N.a,{dataLabels:[{title:"Total exams",icon:C.c,iconColor:"blue",count:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).all.length},{title:"Done exams",icon:C.c,iconColor:"green",count:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).finished.length},{title:"Remaining exams",icon:C.c,iconColor:"gray",count:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).remaining.length}],labelsOnRow:5,children:Object(P.jsx)("div",{className:"flex justify-center",children:Object(P.jsx)(T.a,{options:{labels:["Done","Remaining"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#4b5563"]},series:[U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).finished.length,U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod).remaining.length],width:210})})})]}),this.props.adminExamReport.CandidatesExamPerformance&&F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(P.jsxs)("section",{className:"my-2",children:[Object(P.jsx)("div",{className:"text-2xl font-semibold text-gray-600",children:"Examination performance status"}),Object(P.jsx)(N.a,{dataLabels:[{title:"Total attendance",icon:C.c,iconColor:"blue",count:X(Object(x.b)(Object(x.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).all.length},{title:"Pass applicant(s)",icon:C.c,iconColor:"green",count:X(Object(x.b)(Object(x.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).pass.length},{title:"Failed applicant(s)",icon:C.c,iconColor:"yellow",count:X(Object(x.b)(Object(x.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).failed.length}],labelsOnRow:5,children:Object(P.jsx)("div",{className:"flex justify-center",children:Object(P.jsx)(T.a,{options:{labels:["Pass","Failed"],legend:{show:!1,position:"bottom",horizontalAlign:"center",fontSize:"16px",itemMargin:{horizontal:3,vertical:0}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#2564eb",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#2564eb",offsetY:10,formatter:function(e){return e}},total:{show:!0,label:"Total",color:"#2564eb",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},colors:["#469769","#d97724"]},series:[X(Object(x.b)(Object(x.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).pass.length,X(Object(x.b)(Object(x.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod).failed.length],width:210})})})]}),this.props.examsList&&F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(P.jsx)(w,{examPreparationProgress:q(Object(b.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.examsList,this.state.thisPeriod))}),U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)&&Object(P.jsx)(L,{progressData:U(this.props.adminExamReport.DoneExam,this.props.examsList,this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels,this.state.thisPeriod)}),this.props.adminExamReport.CandidatesExamPerformance&&F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels)&&Object(P.jsx)(k,{examPerformance:X(Object(x.b)(Object(x.a)(F(this.state.thisEducation,this.props.courses,this.props.schoolLevels.school_levels),this.props.adminExamReport.CandidatesExamPerformance,"all"),"all"),this.state.thisPeriod)})]})}}]),s}(n.Component),B=Object(l.b)((function(e){var t=e.auth,s=e.sessionPlan,r=e.schoolLevels,a=e.course,o=e.prepareExam,i=e.adminExamReport;return{auth:t,application_sessions:s.allSessionPlans,schoolLevels:r,courses:a.courses,examsList:o.examsList,adminExamReport:i}}),{loadCourses:d.Fc,loadExamsList:d.Kc,loadEducationCategories:d.Hc,loadDoneExam:d.Gc,loadSchoolLevels:d.Pc,loadPerfomranceExam:d.Mc,loadCandidatesExamPerformance:d.Ec,GetAllSessionPlans:p.d,PushPopupAlert:d.Qb})(Y)},793:function(e,t,s){"use strict";var r;s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return a})),s.d(t,"c",(function(){return o})),function(e){e.district_name="district_name",e.center_name="center_name",e.room_number="room_number",e.room_type="room_type",e.room_capacity="room_capacity",e.room_occupation="room_occupation",e.invigilator="invigilator"}(r||(r={}));var a=function(e){var t=[],s=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s.includes(e[r].district_id)||(s.push(e[r].district_id),t.push({district_id:e[r].district_id,district_name:e[r].district_name})));return t},o=function(e,t){var s=[],r=function(r){if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r];a.occupied=function(e){var t=0;for(var s in e.course_in_room)if(Object.prototype.hasOwnProperty.call(e.course_in_room,s)){var r=e.course_in_room[s];t<r.occupied&&(t=r.occupied)}return t}(e[r]);var o=t.find((function(t){return t.roles_to_users.room_id===e[r]._id}));s.push({_id:a._id,occupied:a.occupied,isUsed:a.isUsed,center_id:a.center_id,room_type:a.room_type,room_number:a.room_number,capacity:a.capacity,center_name:a.center_name,district_id:a.district_id,district_name:a.district_name,invigilator:o?o.user_info.fname+" "+o.user_info.lname:"",course_in_room:a.course_in_room})}};for(var a in e)r(a);return s}},820:function(e,t,s){"use strict";var r=s(17),a=s(4),o=s.n(a),i=s(12),n=s(32),c=s(48),l=s(1),d=function(e){var t=Object(a.useState)(""),s=Object(r.a)(t,2),o=s[0],d=s[1];return Object(l.jsxs)("section",{className:"".concat(e.isModal?"":"border-2 rounded border-gray-400 shadow-md"),children:[Object(l.jsxs)("div",{className:"flex items-center w-full my-1",children:[Object(l.jsx)(i.Mb,{className:"w-6 h-6 absolute ml-2"}),Object(l.jsx)("input",{type:"text",placeholder:"Search",className:"focus:border-2 h-7 ml-1 pl-9 ".concat(e.isModal?"mr-1":"mr-2"," bg-gray-100 focus:border-gray-700 w-full rounded"),onChange:function(e){return d(e.target.value)},value:o,disabled:!(e.districtList.length>0)}),!e.isModal&&Object(l.jsx)("button",{className:"bg-red-200 text-red-700 py-1 px-2 mr-1 rounded text-sm focus:outline-none",type:"button",onClick:function(){e.setChooseDistrict(!1)},children:"Close"})]}),Object(l.jsxs)("div",{className:"w-full h-52 mt-2 ".concat(e.isModal?"px-2":""," overflow-y-auto divide-y divide-gray-300 ").concat(e.bgWhite&&"bg-white"),children:[Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"group flex items-center justify-between my-1 ".concat("all"===e.selectedDistrict?"cursor-default bg-blue-50 hover:bg-blue-100":"hover:bg-blue-100"),children:[Object(l.jsx)("div",{className:"p-1 w-full mr-2 ".concat("all"===e.selectedDistrict?"cursor-default":"cursor-pointer"),onClick:function(){e.setChooseDistrict(!1),!e.loadindRequest&&"all"!==e.selectedDistrict&&e.setSelectedDistrict("all")},children:Object(l.jsx)("p",{className:"text-sm font-medium text-black",children:"All district"})}),Object(l.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 p-1 mr-1 rounded text-sm",children:"Choose"})]})}),Object(c.a)(e.districtList,o).length>0?Object(c.a)(e.districtList,o).map((function(t,s){return Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"group flex items-center justify-between my-1 hover:bg-gray-100",children:[Object(l.jsx)("div",{className:"p-1 w-full mr-2 cursor-pointer",onClick:function(){e.setChooseDistrict(!1),!e.loadindRequest&&e.setSelectedDistrict(t)},children:Object(l.jsx)("p",{className:"text-sm font-medium text-black",children:Object(n.a)(t.district_name)})}),Object(l.jsx)("button",{type:"button",className:"bg-blue-200 group-hover:bg-blue-300 text-blue-700 group-hover:text-blue-800 p-1 mr-1 rounded text-sm",children:"Choose"})]})},s+t.district_id)})):Object(l.jsx)("div",{className:"text-center p-3",children:Object(l.jsx)("p",{className:"text-base font-medium text-black",children:"No district available"})})]})]})};t.a=o.a.memo(d)}}]);
//# sourceMappingURL=24.c234afc4.chunk.js.map