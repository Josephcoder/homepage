(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[50,57],{1297:function(e,t,s){"use strict";s.r(t),s.d(t,"QuestionsList",(function(){return q}));var n=s(11),c=s(18),o=s(25),l=s(24),r=s(27),i=s(26),a=s(4),d=s(23),u=s(3),x=(s(9),s(33)),p=s(111),b=s(19),h=s(744),j=s(869),m=s(749),f=s(92),y=s(162),O=s(49),g=s(129),v=s(12),N=s(1),w=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var l;return Object(o.a)(this,s),(l=t.call(this,e)).setLoading=function(e){l.setState({loading:e})},l.setAddQuestion=function(e){l.setState({addQuestion:e})},l.chooseCourse=function(e){l.props.setSelectedCourse(e),null!==e&&l.props.loadQuestionBank(e.course_id,l.setLoading),l.setState({selectCourse:!1})},l.answerQuestionFn=function(e){},l.removeSelectedQuestion=function(e){l.props.removeQuestion(e,(function(e,t,s){l.setState({loading:e}),!1===e&&""!==s&&(!0===t?l.setState({successMessage:s}):l.setState({errorMessage:s}))}))},l.componentDidMount=function(){null!==l.props.questionTypes.questionTypes&&0!==l.props.questionTypes.questionTypes.length||l.props.loadQuestionTypes(l.setLoading),null!==l.props.course.courses&&0!==l.props.course.courses.length||l.props.loadCourses(l.setLoading),null===l.props.course.selected_course?l.setState({selectCourse:!0}):l.setState({selectCourse:!1}),null!==l.props.questionBank.questions&&0!==l.props.questionBank.questions.length||null!==l.props.course.selected_course&&l.props.loadQuestionBank(l.props.course.selected_course.course_id,l.setLoading)},l.setEditQuestion=function(e){l.props.setSelectedQuestion(e),l.setState({editQuestion:e})},l.unSelectQuestion=function(){l.setState({editQuestion:null})},l.setSelectedQuestion=function(e){l.setState({selectedQuestion:e})},l.filterQuestions=function(e,t,s){var o=e;if(null!==t&&(o=e.filter((function(e){return e.type===t}))),""!==s){var l,r=[],i=Object(c.a)(o);try{for(i.s();!(l=i.n()).done;){var a=l.value;r=[].concat(Object(n.a)(r),[a.question[0]])}}catch(u){i.e(u)}finally{i.f()}var d=Object(O.a)(r,s);o=o.filter((function(e){return d.find((function(t){var s;return t._id===(null===(s=e.question.find((function(e){return e._id===t._id})))||void 0===s?void 0:s._id)}))}))}return o},l.state={loading:!1,searchQuestionInput:"",selectCourse:!1,addQuestion:!1,editQuestion:null,preview:null,selectedQuestion:null,successMessage:"",errorMessage:"",searchByTpe:null,displaySearch:!1},l}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(N.jsxs)(a.Fragment,{children:[null===this.state.editQuestion?Object(N.jsxs)("div",{className:"-ml-1 mr-2",children:[Object(N.jsxs)("div",{className:"mt-3 rounded px-2 flex flex-col gap-3 bg-white py-2",children:[Object(N.jsxs)("div",{className:"flex flex-row items center justify-between",children:[Object(N.jsxs)("div",{className:"flex flex-col px-1",children:[Object(N.jsx)("span",{className:"text-gray-600 text-3xl font-bold",children:"Question Bank"}),Object(N.jsxs)("span",{className:"text-blue-600 text-sm font-bold",children:["Course:"," ",null===this.props.course.selected_course?Object(N.jsx)("span",{className:"text-yellow-700 italic",children:"Not selected!"}):"".concat(this.props.course.selected_course.course_code," - ").concat(this.props.course.selected_course.course_name)]})]}),Object(N.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[null!==this.props.course.selected_course&&Object(N.jsx)("div",{onClick:function(){return e.setState({selectCourse:!0})},className:"btn cursor-pointer ".concat(null===this.props.course.selected_course?"bg-yellow-50 hover:bg-yellow-100  text-yellow-700 border border-yellow-200":"bg-blue-50 hover:bg-blue-100  text-blue-600"," h-max flex items-center justify-center h-10"),children:null===this.props.course.selected_course?"Choose course":"Change course"}),Object(N.jsx)("div",{onClick:function(){return e.setState({addQuestion:!0})},className:"btn cursor-pointer bg-white hover:bg-blue-100 border border-blue-600 text-blue-600 h-max flex items-center justify-center h-10",children:"Add questions"})]})]}),Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(N.jsxs)("div",{onClick:function(){return e.setState({displaySearch:!e.state.displaySearch})},className:"w-full border hover:bg-blue-50 border-gray-400 px-3 py-2 rounded",children:[Object(N.jsx)("div",{className:"flex flex-row items-center justify-between text-gray-600 cursor-pointer",children:Object(N.jsx)("span",{className:"text-sm font-bold",children:null===this.state.searchByTpe?Object(N.jsx)("span",{children:"Filter by question type"}):this.props.questionTypes.questionTypes&&Object(N.jsx)("span",{className:"text-blue-600 font-bold",children:Object(p.d)(this.props.questionTypes.questionTypes,this.state.searchByTpe)})})}),!0===this.state.displaySearch&&Object(N.jsxs)("div",{className:"absolute w-auto bg-white shadow-md border rounded z-40 animate__animated animate__zoomIn animate__faster",children:[Object(N.jsxs)("div",{className:"flex flex-row items-center justify-between text-white cursor-pointer bg-blue-600  px-3 py-3 rounded-t",children:[Object(N.jsx)("span",{children:"Select question type"}),Object(N.jsx)(v.z,{onClick:function(){return e.setState({displaySearch:!e.state.displaySearch})},className:"text-2xl"})]}),Object(N.jsxs)("div",{onClick:function(){return e.setState({searchByTpe:null})},className:"flex flex-col py-2 px-3 group hover:bg-blue-100 ".concat(null===this.state.searchByTpe?"bg-blue-100":""," cursor-pointer"),children:[Object(N.jsx)("span",{className:"text-base font-extrabold text-gray-800 group-hover:text-blue-600",children:"All question types"}),Object(N.jsx)("span",{className:"text-xs text-gray-500",children:"Choose this option to view all types of questions"})]}),null!==this.props.questionTypes.questionTypes&&this.props.questionTypes.questionTypes.map((function(t,s){return Object(N.jsxs)("div",{onClick:function(){return t.id&&e.setState({searchByTpe:t.id})},className:"flex flex-col py-2 px-3 group hover:bg-blue-100 ".concat(e.state.searchByTpe===t.id?"bg-blue-100":""," cursor-pointer"),children:[Object(N.jsx)("span",{className:"text-base font-extrabold text-gray-800 group-hover:text-blue-600",children:t.title}),Object(N.jsx)("span",{className:"text-xs text-gray-500",children:t.description})]},s+1)}))]})]}),Object(N.jsx)("input",{onChange:function(t){return e.setState({searchQuestionInput:t.target.value})},type:"text",className:"input-white border h-10 text-sm border-gray-400 w-full",placeholder:"Search question by title or description"})]}),""!==this.state.errorMessage&&Object(N.jsx)("div",{onClick:function(){return e.setState({errorMessage:""})},className:"px-3 py-2 rounded bg-yellow-100 text-yellow-700 font-bold my-2",children:this.state.errorMessage}),""!==this.state.successMessage&&Object(N.jsx)("div",{onClick:function(){return e.setState({successMessage:""})},className:"px-3 py-2 rounded bg-green-100 text-green-700 font-bold my-2",children:this.state.successMessage})]}),Object(N.jsxs)("div",{className:"flex-col",children:[Object(N.jsxs)("div",{className:"flex my-2 flex-row justify-between items-center",children:[Object(N.jsx)("span",{className:"text-xl font-bold text-blue-600",children:"List of questions"}),Object(N.jsxs)("div",{className:"underline font-bold text-blue-700 bg-white rounded-full px-3 py-1",children:[this.props.questionBank.questions&&this.props.questionBank.questions.length," ","questions"]})]}),Object(N.jsx)("div",{className:"flex flex-col",children:Object(N.jsx)("div",{className:"bg-white flex rounded",children:Object(N.jsxs)("table",{className:"table-auto w-full",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{className:"text-left bg-blue-50 border-b-2 border-blue-500 text-blue-600",children:[Object(N.jsx)("th",{className:"p-3 w-1/12 pl-10",children:"#"}),Object(N.jsx)("th",{className:"p-3",children:"Question"}),Object(N.jsx)("th",{children:"Category"}),Object(N.jsx)("th",{children:"Marks"}),Object(N.jsx)("th",{})]})}),Object(N.jsx)("tbody",{children:!0===this.state.loading?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:5,className:"pt-6",children:Object(N.jsx)(x.a,{})})}):null===this.props.course.selected_course?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:5,children:Object(N.jsxs)("div",{className:"bg-gray-100 flex flex-col items-center text-center gap-3 rounded px-3 py-3",children:[Object(N.jsx)("span",{className:"text-xl font-bold",children:"No course selected!"}),Object(N.jsx)("div",{onClick:function(){return e.setState({selectCourse:!0})},className:"btn bg-yellow-50 text-yellow-800 cursor-pointer hover:bg-white border border-white shadow hover:shadow-none hover:border-yellow-600",children:"Choose a course"})]})})}):null===this.props.questionBank.questions?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:5,className:"pt-6",children:Object(N.jsx)(x.a,{})})}):0===this.filterQuestions(this.props.questionBank.questions,this.state.searchByTpe,this.state.searchQuestionInput).length?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:5,children:Object(N.jsx)("div",{className:"flex flex-col items-cnter justify-center",children:Object(N.jsx)(y.b,{theme:y.a.Dark,value:"",component:Object(N.jsx)("span",{className:"font-bold text-gray-600 text-2xl -mt-4",children:"No questions available!"})})})})}):null!==this.props.questionTypes.questionTypes&&this.props.questionTypes.questionTypes.length>0&&this.filterQuestions(this.props.questionBank.questions,this.state.searchByTpe,this.state.searchQuestionInput).map((function(t,s){return Object(N.jsxs)("tr",{className:"shadow-sm cursor-pointer border-none",children:[Object(N.jsx)("td",{className:"flex items-center justify-center",children:Object(N.jsx)("div",{className:"py-1 rounded-full my-3",children:Object(N.jsxs)("span",{className:"text-xl italic text-blue-600",children:[s<9&&0,s+1]})})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"py-2 px-3 flex flex-col",children:[Object(N.jsx)("span",{className:"text-sm text-gray-600 font-bold w-96 truncate",children:t.question[0].title}),Object(N.jsx)("span",{className:"text-xs text-gray-500 w-96 truncate",children:t.question[0].description})]})}),Object(N.jsx)("td",{children:Object(N.jsx)("div",{className:"text-xs font-bold text-gray-700 w-80 truncate",children:null===Object(p.d)(e.props.questionTypes.questionTypes,t.type)?Object(N.jsx)("span",{className:"text-yellow-700",children:"Invalid type"}):Object(N.jsx)("span",{className:"text-blue-600",children:Object(p.d)(e.props.questionTypes.questionTypes,t.type)})})}),Object(N.jsx)("td",{children:Object(N.jsx)("span",{className:"text-xs text-gray-500",children:t.marks})}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"flex justify-end pr-1",children:[Object(N.jsx)("div",{onClick:function(){e.setState({preview:t}),e.setState({selectedQuestion:t})},className:"border border-gray-200 btn bg-gray-100 px-3 py-1 rounded text-gray-600 text-sm flex items-center",children:Object(N.jsx)("span",{children:"View"})}),Object(N.jsx)("div",{onClick:function(){e.setEditQuestion(t)},className:"border border-blue-200 btn bg-blue-50 px-3 py-1 rounded text-blue-600 text-sm flex items-center ml-1",children:Object(N.jsx)("span",{children:"Edit"})}),Object(N.jsx)("div",{onClick:function(){!0===window.confirm("Are you sure do you want to delete this question?")&&e.removeSelectedQuestion(t.question_id)},className:"border border-red-200 btn px-3 py-1 rounded bg-red-50 text-red-600 text-sm flex items-center ml-1",children:Object(N.jsx)("span",{children:"Delete"})})]})})]},s+1)}))})]})})})]})]}):Object(N.jsxs)("div",{children:[null!==this.props.course.selected_course&&Object(N.jsxs)("div",{className:"bg-white px-2 py-2 mt-4 flex flex-col rounded-t",children:[Object(N.jsx)("span",{className:"text-sm text-gray-600 font-bold",children:"Course"}),Object(N.jsxs)("span",{className:"font-bold text-xl text-blue-600",children:[this.props.course.selected_course.course_code," -"," ",this.props.course.selected_course.course_name]})]}),null===this.props.questionBank.questions||null===this.props.questionBank.selectedQuestion?Object(N.jsx)("div",{className:"mt-4 px-4 py-4 rounded bg-white",children:Object(N.jsx)(x.a,{type:f.a.dark})}):Object(N.jsx)(m.b,{selectedQuestion:this.state.editQuestion,questionsList:this.props.questionBank.questions,unSelectQuestion:this.unSelectQuestion})]}),null!==this.state.preview&&null!==this.state.selectedQuestion&&Object(N.jsx)(b.d,{title:Object(N.jsx)("div",{className:"text-2xl font-extrabold text-blue-600",children:"Question preview"}),backDrop:!0,theme:b.c.default,close:function(){return e.setState({preview:null})},backDropClose:!0,widthSizeClass:b.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(N.jsx)(g.b,{questionAnswers:[],answerQuestionFn:this.answerQuestionFn,selectedQuestion:this.state.selectedQuestion,setSelectedQuestion:this.setSelectedQuestion,preview:!0,submitQuestionAnswer:!1})}),!0===this.state.selectCourse&&Object(N.jsx)(b.d,{title:"Choose a course",backDrop:!0,theme:b.c.default,close:function(){return e.setState({selectCourse:!1})},backDropClose:!0,widthSizeClass:b.b.large,displayClose:!0,padding:{title:!0},children:Object(N.jsx)(h.a,{setSelectedCourse:this.chooseCourse,selected_course_id:this.props.course.selected_course&&this.props.course.selected_course.course_id})}),!0===this.state.addQuestion&&Object(N.jsx)(b.d,{title:Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{className:"text-gray-800 text-3xl font-extrabold",children:"Choose method"}),Object(N.jsx)("span",{className:"text-gray-600 text-sm",children:"Prepare question bank by adding questions through two main methods"})]}),backDrop:!0,theme:b.c.default,close:function(){return e.setState({addQuestion:!1})},backDropClose:!0,widthSizeClass:b.b.large,displayClose:!0,padding:{title:!0},children:Object(N.jsx)(j.ChooseMethod,{close:this.setAddQuestion})})]})}}]),s}(a.Component),q=Object(d.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes}}),{loadCourses:u.Gc,setSelectedCourse:u.fd,loadSchoolLevels:u.Qc,loadEducationCategories:u.Ic,setSelectedEducationCategory:u.gd,setSelectedSchoolLevel:u.nd,loadQuestionBank:u.Oc,loadQuestionTypes:u.Pc,setSelectedQuestion:u.md,removeQuestion:u.Tc})(w)},869:function(e,t,s){"use strict";s.r(t),s.d(t,"ChooseMethod",(function(){return r}));s(4);var n=s(67),c=s(715),o=s(40),l=s(1),r=function(e){return Object(l.jsxs)("div",{className:"px-2 py-2",children:[Object(l.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[void 0===e.close&&Object(l.jsx)(o.b,{to:"/question-bank",children:Object(l.jsx)(n.e,{className:"text-blue-600 text-4xl rounded-full bg-gray-100 cursor-pointer animate__animated animate__lightSpeedInLeft"})}),void 0===e.close&&Object(l.jsxs)("div",{className:"flex flex-col",children:[Object(l.jsx)("span",{className:"text-gray-800 text-3xl font-extrabold",children:"Choose method"}),Object(l.jsx)("span",{className:"text-gray-600 text-sm",children:"Prepare question bank by adding questions through two main methods"})]})]}),Object(l.jsx)("div",{className:"".concat(void 0===e.close?"mt-6":"-mt-6"," grid md:grid-cols-2 bg-white px-4 py-4 rounded"),children:Object(l.jsx)("div",{className:"col-span-1",children:Object(l.jsx)(o.b,{to:"/upload-questions",children:Object(l.jsxs)("div",{className:"bg-white hover:bg-gray-100 border border-blue-600 hover:border-gray-600 px-6 py-6 rounded text-2xl ml-2 flex flex-col justify-center items-center ".concat(void 0===e.close&&"animate__animated animate__zoomIn animate__fast"),children:[Object(l.jsx)(c.b,{className:"text-8xl text-gray-600"}),Object(l.jsx)("span",{className:"text-gray-600 font-bold",children:"Upload excel"}),Object(l.jsx)("span",{className:"text-xs text-center text-gray-600 mt-2",children:"The option of uploading list of questions through excel file. You can also upload the exam at time"})]})})})})]})}}}]);
//# sourceMappingURL=50.ce8eb4af.chunk.js.map