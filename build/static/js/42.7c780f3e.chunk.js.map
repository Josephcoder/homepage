{"version":3,"sources":["containers/DoExam/Footer/Footer.tsx","containers/DoExam/Profile/Profile.tsx","containers/DoExam/QuestionDetails/QuestionDetails.tsx","containers/DoExam/DoExamTitle/QuestionsReview.tsx","containers/DoExam/DoExamTitle/DoExamTitle.tsx","components/ProctoringRuleItem/ProctoringRuleItem.tsx","containers/DoExam/DoExam.tsx","assets/profile.png","components/CountDown/CountDownLive.tsx"],"names":["Footer","connect","auth","doExam","candidateExam","system","proctoring","loadExam","addExamAnswer","deleteExamAnswers","SubmitExamAnswers","setSelectedExamQuestion","props","findIndex","question_id","candidate_exam","x","questions","length","selectedIndexPrevious","selected_question","selectedIndexNext","ConfirmSubmitAnswer","exam_id","undefined","find","item","questionAnswered","question_answers","findQuestionType","type","questionTypes","SubmitAnswer","GetUserTotalMarks","a","setRequestingExamMarks","axios","post","API","DO_EXAM","course","period","user","user_id","res","console","log","data","setExamTotalMarks","parseInt","user_marks","className","onClick","setProfileWindowStatus","windowStatus","profile","events","style","position","top","right","questionsList","selected_exam_id","exam_paper_id","height","submitQuestionAnswer","setSubmitModal","Profile","width","src","userImage","alt","fname","lname","n_id","paddingBottom","paddingTop","map","i","event_type_id","description","DATE","time","Date","getHours","getMinutes","getSeconds","QuestionDetails","setQuestionLanguage","loadQuestionTypes","useState","loading","setLoading","selectLang","setSelectLang","QuestionData","q","itm","question","testLang","language","getDefaultLanguage","findSelectedQuestionDetails","filterLanguages","langs","selectedQuestionDetails","langItem","testLangQ","QuestionLanguages","l","key","questionSelected","selected_language","addAnswerFunction","checkAnswerAvail","answerQuestionFn","status","answers","filter","reference","useEffect","Loading","LoadingType","white","title","marks","value","questionTypeElementsType","Embedded","EmbeddedQuestion","dangerouslySetInnerHTML","__html","MultipleChoice","SingleMultiple","available_answers","selectedQuestionAnswer","toMultipleChoice","answer","selectedAns","TrueFalse","toTrueFalse","Matching","selectedLanguage","selectedExam","toMatching","shuffledAnswers","Shuffle","SimpleCalculate","SimpleCalculated","toSimpleCalculated","ShortAnswer","toShortAnswer","Numeric","Numerical","toNumerical","CalculatedMultipleChoice","toCalculatedMultipleChoice","Essay","toEssay","Hybrid","HybridAnswers","wholeQuestion","QuestionsReview","submitAnswerState","setSubmitAnswerState","AnsweredQuest","ExamAnsweredQuestions","PendingQuest","ExamPendingQuestions","window","confirm","submitExam","maxHeight","test","FindAnswerHybrid","answersList","FindAnswer","showCorrectAnswer","DoExamTitle","TotalAnswered","NumberOfAnsweredQuestions","answeredPercentage","course_name","course_code","alignSelf","toFixed","start_time","duration","CountDownLive","room_id","timeout","returnString","labels","submitModalStatus","Modal","backDrop","theme","Themes","default","close","backDropClose","widthSizeClass","ModalSize","maxWidth","displayClose","padding","marginTop","ModalMarginTop","small","ProctoringRuleItem","getDetails","examDetails","rule_key","rules","right_click_enabled","copy_enabled","paste_enabled","stop_candidate_when_comeback","allow_to_leave_browser","_DoEam","setState","requesting_exam_marks","total_exam_marks","setSubmitQuestionAnswer","state","setQuestionsListWindowStatus","setSelectedQuestion","selectedQuestion","setExamQuestionAnswer","setCompletedTest","completedTest","changingExamStatusLoading","changingExamStatus","initializeEmptyList","testResults","localStorage","getItem","ActionTypes","ADD_ANSWER","newData","JSON","parse","questionAnswers","exam_answers","exam_questions","periods","selected_period","check","selected_exam_details","checkUserExam","exam","positions","selected_position","exam_room_details","RequestUserExamDetails","position_id","userExamLocation","district_id","center_id","setLoadExamResultMessage","BackToExamination","RequestUserExamManually","get","loadCandidateExamFromSupervisor","candidateDetailsProctoring","joined","PushPopupAlert","PopupAlertTheme","success","danger","loadUserProfileDetails","FC_GetProfileDetails","msg","componentDidMount","sex","courses","loadCourses","exam_questions_answers","testAnswers","componentWillUnmount","socket","emit","Events","USER_DISCONNECTED_ONLINE_SERVER","setLoadExamResultNoMessage","user_exams_done","exam_paper","CleanCandidateExam","examQuestionIds","temp","sel_question","SubmitExamQuestionAnswer","disability","gender","email","phone_number","in_education","questions_order","userAnswer","position_code","submitWholeExam","put","doneExam","submittedExam","document","fullscreenElement","exitFullscreen","errorToText","startExam","display_exam","start_exam","requestExam","pauseExam","inExam","schoolLevels","selectedEducationCategory","application_session_id","session_plan","_id","done_by","EventsLabels","DONE_EXAM","toString","FC_SaveEvent","error","EXAM_DONE_SERVER","timeOutExam","TIME_OUT","TIME_OUT_SERVER","getExam","REQUEST_EXAM_SERVER","examStatus","loadUserExamErr","added_minutes","group_id","this","to","location","reload","ProctoringCandidateOnline","homeProctoring","restartExam","id","CleanCandidateExamAnswers","setExamStatus","UserExamActions","Restart","stopExam","Done","period_id","removeClient","Removed","examAlreadyDone","candidateStopExam","reason","candidateContinueExam","joinedRoom","changeTime","timer","candidateProctoringDetails","requestUserAnswers","ejectCandidate","QuestionsList","selected_course","duration_min","preview","setSelectedCandidateExam","extraLarge","exam_date","termes","medium","Component","DoExam","ChangeExamStatus","loadCandidateExam","setSelectedPeriod","GetUserExamDetails","FC_AddRules","moment","tz","add","_CountDown","interval","timeOutCounter","setInterval","setCountdowm","hours","mins","secs","clearInterval","days","stop_time","setTimeout","startOnlineTimer","on","ADD_TIME_TO_CANDIDATE_CLIENT","event","GET_ROOM_TIME","TimerCountDownResult","remaining_minutes","examStopTime","futureDate","today","clockDuration","diff","Math","floor","asDays","minutes","seconds","formatStyle","separator","React"],"mappings":"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","file":"static/js/42.7c780f3e.chunk.js","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport { FaUserCircle } from \"react-icons/fa\";\nimport { IoNotifications } from \"react-icons/io5\";\nimport { MdCheckCircle, MdChevronLeft, MdChevronRight } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  loadExam,\n  addExamAnswer,\n  deleteExamAnswers,\n  SubmitExamAnswers,\n  candidateExamStoreInterface,\n  System,\n  setSelectedExamQuestion,\n  questionTypesStoreInterface,\n  Proctoring,\n} from \"../../../actions\";\nimport { StoreState } from \"../../../reducers\";\nimport { API } from \"../../../utils/api\";\nimport { findQuestionType, questionAnswered } from \"../utils/utils\";\n\ninterface FooterInterface {\n  windowStatus: {\n    profile: boolean;\n    questionsList: boolean;\n  };\n  setQuestionsListWindowStatus: (status: boolean) => void;\n  setProfileWindowStatus: (status: boolean) => void;\n  auth: Auth;\n  candidateExam: candidateExamStoreInterface;\n  system: System;\n  setSelectedExamQuestion: (\n    exam_id: string,\n    question_id: string | null\n  ) => void;\n  questionTypes: questionTypesStoreInterface;\n  loadQuestionTypes: (callback: (loading: boolean) => void) => void;\n  SubmitAnswer: () => void;\n  submitQuestionAnswer: boolean;\n  proctoring: Proctoring;\n  setSubmitModal: (status: boolean) => void;\n  setRequestingExamMarks: (status: boolean) => void;\n  setExamTotalMarks: (marks: number) => void;\n}\n\nconst _Footer = (props: FooterInterface) => {\n  const findIndex = (question_id: string): number => {\n    if (props.candidateExam.candidate_exam !== null) {\n      for (\n        let x: number = 0;\n        x < props.candidateExam.candidate_exam.questions.length;\n        x++\n      ) {\n        if (\n          props.candidateExam.candidate_exam.questions[x].question_id ===\n          question_id\n        ) {\n          return x;\n        }\n      }\n      return 0;\n    }\n    return 0;\n  };\n\n  let selectedIndexPrevious: number =\n    props.candidateExam.selected_question !== null &&\n    props.candidateExam.candidate_exam !== null\n      ? findIndex(props.candidateExam.selected_question) > 0\n        ? findIndex(props.candidateExam.selected_question)\n        : props.candidateExam.candidate_exam.questions.length\n      : -1;\n\n  let selectedIndexNext: number =\n    props.candidateExam.selected_question !== null &&\n    props.candidateExam.candidate_exam !== null\n      ? findIndex(props.candidateExam.selected_question) > 0 &&\n        findIndex(props.candidateExam.selected_question) <\n          props.candidateExam.candidate_exam.questions.length - 1\n        ? findIndex(props.candidateExam.selected_question)\n        : findIndex(props.candidateExam.selected_question) === 0\n        ? 0\n        : -1\n      : 0;\n\n  const ConfirmSubmitAnswer = (exam_id: string, question_id: string | null) => {\n    props.setSelectedExamQuestion(exam_id, question_id);\n    if (props.candidateExam.candidate_exam !== null) {\n      let check = props.candidateExam.candidate_exam.questions.find(\n        (item) =>\n          questionAnswered(\n            props.candidateExam.question_answers,\n            item,\n            findQuestionType(item.type, props.questionTypes.questionTypes)!\n          ) === true\n      );\n      if (check !== undefined) {\n        props.SubmitAnswer();\n        GetUserTotalMarks();\n      }\n    }\n  };\n\n  const GetUserTotalMarks = async () => {\n    if (props.candidateExam.candidate_exam !== null) {\n      props.setRequestingExamMarks(true);\n      try {\n        const res = await axios.post(`${API.DO_EXAM}/answersheet/users/marks`, {\n          course: props.candidateExam.candidate_exam.course,\n          period: props.candidateExam.candidate_exam.period,\n          user: props.auth.user.user_id,\n        });\n        console.log(\"User total marks: \", res.data);\n        props.setExamTotalMarks(parseInt(res.data.user_marks));\n        props.setRequestingExamMarks(false);\n      } catch (error: any) {\n        console.log(\"Requesting total exam marks err: \", { ...error });\n        props.setRequestingExamMarks(false);\n      }\n    }\n  };\n\n  return (\n    <div className=\"fixed bottom-0 flex flex-row justify-between items-center mr-2 px-2 bg-gray-700 rounded w-full\">\n      {/* {console.log(\"Selected: \", selectedIndexNext)} */}\n      <div className=\"flex flex-row items-center\">\n        <div\n          onClick={() =>\n            props.setProfileWindowStatus(!props.windowStatus.profile)\n          }\n          className={`cursor-pointer flex justify-center items-center bg-gray-700 my-2 px-1 rounded`}\n        >\n          <div className=\"group cursor-pointer text-gray-100 hover:text-blue-700 h-full py-2 pl-2 pr-3 rounded shadow-lg bg-gray-600 hover:bg-blue-200 w-max\">\n            <div>\n              <div\n                className={`${\n                  props.proctoring.events.length === 0\n                    ? \"text-white bg-gray-900 group-hover:bg-gray-100 group-hover:text-gray-700\"\n                    : \"bg-red-600 text-white\"\n                } text-xs font-bold p-1 rounded-full flex justify-center items-center shadow-lg h-6 w-6`}\n                style={{ position: \"relative\", top: \"-10px\", right: \"-12px\" }}\n              >\n                {props.proctoring.events.length}\n              </div>\n            </div>\n            {props.proctoring.events.length > 0 ? (\n              <IoNotifications className=\"text-2xl -mt-5\" />\n            ) : (\n              <FaUserCircle className=\"text-2xl -mt-5\" />\n            )}\n          </div>\n          {props.windowStatus.questionsList === true && (\n            <div\n              className={`${\n                props.proctoring.events.length === 0\n                  ? \"text-gray-300\"\n                  : \"text-yellow-500\"\n              } bg-gray-700  px-1 py-1 rounded text-xs ml-1 font-bold`}\n            >\n              {props.proctoring.events.length === 0 ? (\n                <>\n                  No events <br />\n                  are available\n                </>\n              ) : (\n                <>\n                  New events <br />\n                  are available\n                </>\n              )}\n            </div>\n          )}\n        </div>\n\n        <button\n          onClick={() =>\n            props.candidateExam.candidate_exam &&\n            props.candidateExam.selected_exam_id &&\n            ConfirmSubmitAnswer(\n              props.candidateExam.candidate_exam.exam_paper_id,\n              props.candidateExam.candidate_exam.questions[\n                selectedIndexPrevious - 1\n              ].question_id\n            )\n          }\n          className=\"btn btn-blue flex justify-center items-center\"\n          style={{ height: \"fit-content\" }}\n        >\n          <MdChevronLeft className=\"text-xl\" />{\" \"}\n          <span className=\"hidden md:block\">Previous</span>\n        </button>\n\n        <div className=\"hidden md:flex flex-col text-gray-400 px-2\">\n          <span className=\"font-bold\">\n            Question{\" \"}\n            {props.candidateExam.selected_question &&\n              findIndex(props.candidateExam.selected_question) + 1}\n          </span>\n          {props.submitQuestionAnswer === true ? (\n            <span className=\"text-xs text-yellow-500 animate-pulse font-bold\">\n              Saving question answer...\n            </span>\n          ) : (\n            <span className=\"text-xs\">Auto save is activated</span>\n          )}\n        </div>\n      </div>\n      <div className=\"flex flex-row gap-1\">\n        {/* <div className=\"px-3 py-2 rounded hover:bg-gray-800 shadow-lg cursor-pointer bg-gray-600 text-white flex items-center\"><BiChat className=\"text-2xl\" />&nbsp; <span className=\"hidden md:block\">Discussion</span></div> */}\n        <button\n          onClick={() =>\n            props.candidateExam.candidate_exam &&\n            props.candidateExam.selected_exam_id &&\n            ConfirmSubmitAnswer(\n              props.candidateExam.candidate_exam.exam_paper_id,\n              props.candidateExam.candidate_exam.questions[\n                selectedIndexNext + 1\n              ].question_id\n            )\n          }\n          className=\"btn btn-blue flex items-center px-2 py-2 my-1\"\n        >\n          <span className=\"hidden md:block\">Next</span>{\" \"}\n          <MdChevronRight className=\"text-xl\" />\n        </button>\n        {props.submitQuestionAnswer === true ? (\n          <div className=\"btn bg-gray-600 text-white px-2 py-2 my-1 font-bold border border-gray-600 animate-pulse\">\n            Saving...\n          </div>\n        ) : (\n          <button\n            onClick={() => {\n              props.SubmitAnswer();\n              props.setSubmitModal(true);\n            }}\n            type=\"button\"\n            className=\"bg-green-700 hover:bg-green-600 border border-white text-white rounded flex flex-row justify-center items-center gap-2 px-2 py-2 my-1 mx-2 float-right\"\n          >\n            <MdCheckCircle className=\"text-white text-xl\" />\n            <span className=\"mr-2\">Submit </span>\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  auth,\n  doExam,\n  candidateExam,\n  system,\n  proctoring,\n}: StoreState): {\n  auth: Auth;\n  candidateExam: candidateExamStoreInterface;\n  system: System;\n  proctoring: Proctoring;\n} => {\n  return {\n    auth: auth,\n    candidateExam: candidateExam,\n    system: system,\n    proctoring: proctoring,\n  };\n};\n\nconst Footer = connect(mapStateToProps, {\n  loadExam,\n  addExamAnswer,\n  deleteExamAnswers,\n  SubmitExamAnswers,\n  setSelectedExamQuestion,\n})(_Footer);\n\nexport default Footer;\n","import React from \"react\";\nimport { IoClose } from \"react-icons/io5\";\nimport userImage from \"../../../assets/profile.png\";\n\nimport { connect } from \"react-redux\";\nimport { Auth, Proctoring } from \"../../../actions\";\nimport { StoreState } from \"../../../reducers\";\nimport { DATE } from \"../../../utils/functions\";\n\ninterface ProfileProps {\n  setProfileWindowStatus: (status: boolean) => void;\n  auth: Auth;\n  proctoring: Proctoring;\n}\n\nconst _Profile = (props: ProfileProps) => {\n  return (\n    <div className=\"h-full bg-gray-800 border-r-4 border-gray-700\">\n      <div className=\"flex flex-col h-screen\">\n        <div className=\"bg-gray-800 pb-5\">\n          <div className=\"rounded-lg flex flex-col justify-center items-center text-center mt-1\">\n            <div className=\"w-full bg-gray-800 py-2 px-2 flex flex-row justify-between items-center\">\n              <span className=\"text-xl text-white font-bold\">My profile</span>\n              <div className=\"rounded-full flex justify-center items-center bg-gray-700 p-1\">\n                <IoClose\n                  onClick={() => props.setProfileWindowStatus(false)}\n                  className=\"text-white text-2xl hover:text-blue-400 cursor-pointer\"\n                />\n              </div>\n            </div>\n            <div\n              className=\"rounded-md bg-gray-600 mb-3 mx-2 flex justify-center items-center overflow-hidden\"\n              style={{ width: \"200px\", height: \"200px\" }}\n            >\n              <img src={userImage} alt=\"\" />\n            </div>\n            <span className=\"text-gray-300 text-xs\">\n              {props.auth.user.fname} {props.auth.user.lname}\n            </span>\n            <span className=\"text-gray-400 text-xs\">\n              ID: {props.auth.user.n_id}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"bg-gray-800 h-full\">\n          <div className=\"flex flex-row justify-between items-center text-white py-2 px-2 bg-gray-700\">\n            <span>Events</span>\n            <span>{props.proctoring.events.length}</span>\n          </div>\n          <div\n            className=\"flex flex-col px-2 text-xs h-screen md:h-full overflow-y-auto\"\n            style={{ paddingBottom: \"550px\", paddingTop: \"10px\" }}\n          >\n            {props.proctoring.events.length === 0 ? (\n              <div className=\"text-white font-bold\">No events found!</div>\n            ) : (\n              props.proctoring.events.map((item, i) => (\n                <div className=\"flex flex-col text-gray-300 border-b py-2 border-gray-700\">\n                  <div\n                    key={i + 1}\n                    className=\"flex flex-row items-center my-1 gap-2\"\n                  >\n                    <div className=\"bg-gray-600 text-white h-6 w-6 px-3 rounded-full flex items-center justify-center\">\n                      {i + 1}\n                    </div>\n                    <div className=\"flex flex-col\">\n                      <span>{item.event_type_id}</span>\n                      <span className=\"font-bold\">{item.description}</span>\n                    </div>\n                  </div>\n                  <div className=\"flex flex-row justify-between items-center\">\n                    <span className=\"text-gray-500\">\n                      {DATE(item.time, \"DD/MM/YYYY\")}\n                    </span>\n                    <span className=\"bg-gray-600 px-2 rounded-full text-xs font-bold text-yellow-300\">\n                      {new Date(item.time).getHours()} :\n                      {new Date(item.time).getMinutes()} :\n                      {new Date(item.time).getSeconds()}\n                    </span>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  auth,\n  proctoring,\n}: StoreState): { auth: Auth; proctoring: Proctoring } => {\n  return { auth: auth, proctoring: proctoring };\n};\n\nconst Profile = connect(mapStateToProps, {})(_Profile);\n\nexport default Profile;\n","import React, { useEffect, useState } from \"react\";\nimport { MdRadioButtonChecked, MdRadioButtonUnchecked } from \"react-icons/md\";\nimport {\n  QuestionAnswerInterface,\n  QuestionInterface,\n  QuestionItemInterface,\n  QuestionLanguage,\n  QuestionLanguages,\n} from \"../../../interfaces/index\";\nimport { newAnswer } from \"../DoExam\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  candidateExamStoreInterface,\n  examDataInterface,\n  System,\n  setSelectedExamQuestion,\n  setQuestionLanguage,\n  questionTypesStoreInterface,\n  loadQuestionTypes,\n  QuestionAnswersStore,\n} from \"../../../actions\";\nimport { StoreState } from \"../../../reducers\";\n// import { exam_question } from \"../../../interfaces/exam_question\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport { LoadingType } from \"../../../components/Loading/LoadingV2\";\nimport MultipleChoice from \"./Answers/MultipleChoice\";\nimport {\n  toCalculatedMultipleChoice,\n  toEssay,\n  toMatching,\n  toMultipleChoice,\n  toNumerical,\n  toShortAnswer,\n  toSimpleCalculated,\n  toTrueFalse,\n} from \"./ConvertingAnswers\";\nimport { findQuestionType } from \"../utils/utils\";\nimport TrueFalse from \"./Answers/TrueFalse\";\nimport Matching from \"./Answers/Matching\";\nimport SimpleCalculated from \"./Answers/SimpleCalculated\";\nimport ShortAnswer from \"./Answers/ShortAnswer\";\nimport Numerical from \"./Answers/Numerical\";\nimport CalculatedMultipleChoice from \"./Answers/CalculatedMultipleChoice\";\nimport { BiWorld } from \"react-icons/bi\";\nimport { AiFillCaretDown } from \"react-icons/ai\";\nimport { FaTimes } from \"react-icons/fa\";\nimport { Shuffle } from \"../../../utils/functions\";\nimport { questionTypeElementsType } from \"@mastrecruit/common\";\nimport { exam_question } from \"../../../interfaces/exam_question\";\nimport { EmbeddedQuestion } from \"../../../components/QuestionPreview/QuestionPreview\";\nimport Essay from \"./Answers/Essay\";\nimport HybridAnswers from \"./Answers/HybridAnswers\";\n\ninterface QuestionDetailsProps {\n  selectedQuestion: exam_question | null;\n  setSelectedQuestion: (question: exam_question) => void;\n  answerQuestionFn: (answer: QuestionAnswersStore) => void;\n  questionAnswers: newAnswer[] | undefined;\n  doExam: examDataInterface;\n  auth: Auth;\n  candidateExam: candidateExamStoreInterface;\n  system: System;\n  setSelectedExamQuestion: (\n    exam_id: string,\n    question_id: string | null\n  ) => void;\n  setQuestionLanguage: (lang: QuestionLanguage) => void;\n  questionTypes: questionTypesStoreInterface;\n  loadQuestionTypes: (callback: (loading: boolean) => void) => void;\n  preview: boolean;\n  submitQuestionAnswer: boolean;\n}\n\nconst _QuestionDetails = (props: QuestionDetailsProps) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [selectLang, setSelectLang] = useState<boolean>(false);\n  const QuestionData = (): QuestionInterface | null => {\n    let res = null;\n    if (props.candidateExam.candidate_exam !== null) {\n      let q: QuestionInterface | undefined =\n        props.candidateExam.candidate_exam.questions.find(\n          (itm) =>\n            props.candidateExam.selected_question &&\n            itm.question_id === props.candidateExam.selected_question &&\n            itm.question.find(\n              (testLang) => testLang.language === getDefaultLanguage()\n            ) !== undefined\n        );\n      if (q !== undefined) {\n        res = q;\n      }\n    }\n    return res;\n  };\n\n  const findSelectedQuestionDetails = (): QuestionItemInterface[] => {\n    let res: QuestionItemInterface[] = [];\n    if (props.candidateExam.candidate_exam) {\n      let x = props.candidateExam.candidate_exam.questions.find(\n        (itm) => itm.question_id === props.candidateExam.selected_question\n      );\n      if (x !== undefined) {\n        res = x.question;\n      }\n    }\n    return res;\n  };\n\n  const filterLanguages = () => {\n    let langs: {\n      key: QuestionLanguage;\n      value: string;\n    }[] = [];\n    const selectedQuestionDetails =\n      props.candidateExam.candidate_exam?.questions.find(\n        (itm) => itm.question_id === props.candidateExam.selected_question\n      );\n    if (selectedQuestionDetails !== undefined) {\n      for (let langItem of selectedQuestionDetails.question) {\n        let testLangQ = QuestionLanguages.find(\n          (l) => l.key === langItem.language\n        );\n        if (testLangQ !== undefined) {\n          langs = [...langs, testLangQ];\n        }\n      }\n    }\n    return langs;\n  };\n  const getDefaultLanguage = (): QuestionLanguage => {\n    let questionSelected = props.candidateExam.candidate_exam?.questions.find(\n      (itm) => itm.question_id === props.candidateExam.selected_question\n    );\n    let check = questionSelected?.question.find(\n      (item) => item.language === props.candidateExam.selected_language\n    );\n    if (check === undefined && questionSelected !== undefined) {\n      return questionSelected.question[0].language;\n    }\n    return props.candidateExam.selected_language;\n  };\n\n  // Submit answer function\n  const addAnswerFunction = (data: QuestionAnswerInterface) => {\n    let checkAnswerAvail = props.candidateExam.question_answers.find(\n      (itm) => itm.question_id === QuestionData()!.question_id\n    );\n    //\n    // let newData = data.answer;\n    // if (checkAnswerAvail !== undefined) {\n    //   let newDataAnswer:QuestionAnswerInterface | undefined = checkAnswerAvail.answers.find(itm => itm._id === data._id);\n    //   if (newDataAnswer !== undefined) {\n\n    //   }\n    // }\n\n    console.log(\"checkAnswerAvail a: \", checkAnswerAvail);\n    console.log(\"data a: \", data);\n\n    props.answerQuestionFn({\n      question_id: QuestionData()!.question_id,\n      status: false, //Check if submitted online\n      answers:\n        checkAnswerAvail === undefined\n          ? [data]\n          : [\n              ...checkAnswerAvail.answers.filter(\n                (itm) => itm.reference !== data.reference\n              ),\n              data,\n            ],\n      language: props.candidateExam.selected_language,\n    });\n  };\n  useEffect(() => {\n    if (\n      props.questionTypes.questionTypes === null ||\n      props.questionTypes.questionTypes.length === 0\n    ) {\n      props.loadQuestionTypes(setLoading);\n    }\n  }, [props]);\n  return (\n    <div className=\"bg-gray-800 h-full\">\n      {loading === true ? (\n        <div className=\"bg-gray-200 px-3 py-2 rounded my-2 mr-2 h-full overflow-y-auto pb-80 md:pb-60\">\n          <div className=\"rounded bg-white px-4 py-4 mt-5 mx-4\">\n            <div className=\"text-2xl mx-4 mb-3\">Loading...</div>\n            <Loading type={LoadingType.white} />\n          </div>\n        </div>\n      ) : (\n        <div className=\"bg-gray-200 px-3 py-2 rounded my-2 mr-2 h-full overflow-y-auto pb-80 md:pb-60\">\n          <div className=\"flex flex-row gap-2 mt-2\">\n            <div className=\"flex flex-col md:flex-row md:justify-between w-full\">\n              {QuestionData() !== null &&\n                QuestionData()?.question.find(\n                  (itm) => itm.language === getDefaultLanguage()\n                ) && (\n                  <div className=\"text-md flex flex-col w-full\">\n                    <div className=\"flex flex-row justify-between mb-2\">\n                      <div className=\"flex flex-row gap-2 items-center justify-between w-full\">\n                        <span className=\"text-sm text-gray-600\">\n                          {QuestionData() !== null &&\n                            QuestionData()?.question.find(\n                              (itm) => itm.language === getDefaultLanguage()\n                            )?.title}\n                        </span>\n                        <div className=\"text-sm bg-blue-600  rounded-full font-bold px-2 py-1 mx-2 my-1 text-white\">\n                          <span className=\"font-extrabold text-white\">\n                            {QuestionData() !== null && QuestionData()?.marks}\n                          </span>{\" \"}\n                          Mark(s)\n                        </div>\n                      </div>\n                      {/* Languages */}\n                      <div className=\"bg-white rounded h-10 hover:bg-white cursor-pointer w-max\">\n                        <div\n                          onClick={() => setSelectLang(!selectLang)}\n                          className=\"flex flex-row items-center gap-2\"\n                        >\n                          <div className=\"rounded-l\">\n                            <BiWorld className=\"text-2xl my-2 ml-2\" />\n                          </div>\n                          <div\n                            className=\"flex flex-col\"\n                            style={{ width: \"97px\" }}\n                          >\n                            <span className=\"text-xs font-bold italic text-gray-700\">\n                              Language\n                            </span>\n                            <span\n                              title={\n                                filterLanguages().find(\n                                  (itm) => itm.key === getDefaultLanguage()\n                                )?.value\n                              }\n                              className=\"text-sm font-bold text-blue-600 truncate\"\n                              style={{ width: \"97px\" }}\n                            >\n                              {\n                                filterLanguages().find(\n                                  (itm) => itm.key === getDefaultLanguage()\n                                )?.value\n                              }\n                            </span>\n                          </div>\n                          <div\n                            className={`${\n                              selectLang === true\n                                ? \"bg-yellow-800 text-white\"\n                                : \"bg-gray-50 hover:bg-blue-600\"\n                            } h-10 rounded-r border-l border-gray-300 flex flex-row items-center justify-center cursor-pointer hover:text-white hover:border-white`}\n                          >\n                            {selectLang === true ? (\n                              <FaTimes className=\"text-xl my-2 mx-2\" />\n                            ) : (\n                              <AiFillCaretDown className=\"text-xl mb-1 mt-2 mx-2\" />\n                            )}\n                          </div>\n                        </div>\n                        {selectLang === true && (\n                          <div\n                            className=\"relative rounded overflow-hidden\"\n                            style={{ width: \"182px\" }}\n                          >\n                            <div className=\"bg-blue-700 animate__animated animate__fadeIn animate__faster rounded-b w-full right-0 flex flex-col\">\n                              {filterLanguages().map((item, i) => (\n                                <span\n                                  onClick={() => {\n                                    props.setQuestionLanguage(item.key);\n                                    setSelectLang(!selectLang);\n                                  }}\n                                  key={i + 1}\n                                  className={`flex flex-row items-center animate__animated animate__fadeInDown animate__faster text-white text-sm px-2 py-2 border-2 ${\n                                    getDefaultLanguage() === item.key\n                                      ? \"bg-blue-800 font-extrabold border-blue-800\"\n                                      : \"bg-blue-500 text-blue-100 border-blue-500 hover:bg-blue-700 hover:border-blue-700\"\n                                  }`}\n                                >\n                                  {getDefaultLanguage() === item.key ? (\n                                    <MdRadioButtonChecked className=\"text-xl mr-2\" />\n                                  ) : (\n                                    <MdRadioButtonUnchecked className=\"text-xl mr-2\" />\n                                  )}{\" \"}\n                                  {item.value}\n                                </span>\n                              ))}\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                    {QuestionData() !== null &&\n                    findQuestionType(\n                      QuestionData()!.type,\n                      props.questionTypes.questionTypes\n                    ) !== null &&\n                    findQuestionType(\n                      QuestionData()!.type,\n                      props.questionTypes.questionTypes\n                    ) === questionTypeElementsType.Embedded ? (\n                      EmbeddedQuestion(\n                        QuestionData()!,\n                        props.questionTypes.questionTypes,\n                        getDefaultLanguage(),\n                        props.candidateExam.question_answers,\n                        addAnswerFunction\n                      )\n                    ) : (\n                      <div\n                        dangerouslySetInnerHTML={{\n                          __html: QuestionData()!.question.find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )!.description,\n                        }}\n                        className=\"text-lg text-gray-800 font-bold\"\n                      ></div>\n                    )}\n                  </div>\n                )}\n            </div>\n          </div>\n          <div\n            className={`my-4 py-2 px-2 ${\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) === questionTypeElementsType.Embedded\n                ? \"\"\n                : \"bg-white\"\n            }  rounded`}\n            onClick={() => selectLang === true && setSelectLang(false)}\n          >\n            {/* Single and Multiple choice */}\n            {props.candidateExam.selected_question !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) !== null &&\n              (findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) === questionTypeElementsType.MultipleChoice ||\n                findQuestionType(\n                  props.candidateExam.candidate_exam?.questions.find(\n                    (itm) =>\n                      itm.question_id === props.candidateExam.selected_question\n                  )?.type,\n                  props.questionTypes.questionTypes\n                ) === questionTypeElementsType.SingleMultiple) && (\n                <MultipleChoice\n                  type={findQuestionType(\n                    props.candidateExam.candidate_exam?.questions.find(\n                      (itm) =>\n                        itm.question_id ===\n                        props.candidateExam.selected_question\n                    )?.type,\n                    props.questionTypes.questionTypes\n                  )}\n                  available_answers={props.candidateExam.question_answers}\n                  selectedQuestionAnswer={{\n                    question_id: props.candidateExam.selected_question,\n                    question:\n                      QuestionData() !== null\n                        ? QuestionData()?.question.find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )\n                        : undefined,\n                    answers: toMultipleChoice(\n                      findSelectedQuestionDetails().find(\n                        (itm) => itm.language === getDefaultLanguage()\n                      )!.answers[0].answer\n                    ),\n                    selectedAns: findSelectedQuestionDetails().find(\n                      (itm) => itm.language === getDefaultLanguage()\n                    )!.answers[0],\n                  }}\n                  answerQuestionFn={(answer: QuestionAnswersStore) => {\n                    addAnswerFunction(answer.answers[0]);\n                  }}\n                />\n              )}\n            {/* True and False */}\n            {props.candidateExam.selected_question !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) === questionTypeElementsType.TrueFalse && (\n                <TrueFalse\n                  type={findQuestionType(\n                    props.candidateExam.candidate_exam?.questions.find(\n                      (itm) =>\n                        itm.question_id ===\n                        props.candidateExam.selected_question\n                    )?.type,\n                    props.questionTypes.questionTypes\n                  )}\n                  available_answers={props.candidateExam.question_answers}\n                  selectedQuestionAnswer={{\n                    question_id: props.candidateExam.selected_question,\n                    question:\n                      QuestionData() !== null\n                        ? QuestionData()?.question.find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )\n                        : undefined,\n                    answers: toTrueFalse(\n                      findSelectedQuestionDetails().find(\n                        (itm) => itm.language === getDefaultLanguage()\n                      )!.answers[0].answer\n                    ),\n                    selectedAns: findSelectedQuestionDetails().find(\n                      (itm) => itm.language === getDefaultLanguage()\n                    )!.answers[0],\n                  }}\n                  answerQuestionFn={(answer: QuestionAnswersStore) => {\n                    addAnswerFunction(answer.answers[0]);\n                  }}\n                />\n              )}\n            {/* Matching Question */}\n            {/* {console.log(\n              \"Type: \",\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              )\n            )} */}\n            {props.candidateExam.selected_question !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) === questionTypeElementsType.Matching && (\n                <Matching\n                  selectedLanguage={getDefaultLanguage()}\n                  selectedExam={props.candidateExam.candidate_exam}\n                  type={findQuestionType(\n                    props.candidateExam.candidate_exam?.questions.find(\n                      (itm) =>\n                        itm.question_id ===\n                        props.candidateExam.selected_question\n                    )?.type,\n                    props.questionTypes.questionTypes\n                  )}\n                  available_answers={props.candidateExam.question_answers}\n                  selectedQuestionAnswer={{\n                    question_id: props.candidateExam.selected_question,\n                    question:\n                      QuestionData() !== null\n                        ? QuestionData()?.question.find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )\n                        : undefined,\n                    answers: toMatching(\n                      findSelectedQuestionDetails().find(\n                        (itm) => itm.language === getDefaultLanguage()\n                      )!.answers[0].answer\n                    ),\n                    shuffledAnswers: Shuffle(\n                      toMatching(\n                        findSelectedQuestionDetails().find(\n                          (itm) => itm.language === getDefaultLanguage()\n                        )!.answers[0].answer\n                      )\n                    ),\n                    selectedAns: findSelectedQuestionDetails().find(\n                      (itm) => itm.language === getDefaultLanguage()\n                    )!.answers[0],\n                  }}\n                  answerQuestionFn={(answer: QuestionAnswersStore) => {\n                    addAnswerFunction(answer.answers[0]);\n                  }}\n                />\n              )}\n            {/* Simple Calculated */}\n            {props.candidateExam.selected_question !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) === questionTypeElementsType.SimpleCalculate && (\n                <SimpleCalculated\n                  type={findQuestionType(\n                    props.candidateExam.candidate_exam?.questions.find(\n                      (itm) =>\n                        itm.question_id ===\n                        props.candidateExam.selected_question\n                    )?.type,\n                    props.questionTypes.questionTypes\n                  )}\n                  available_answers={props.candidateExam.question_answers}\n                  selectedQuestionAnswer={{\n                    question_id: props.candidateExam.selected_question,\n                    question:\n                      QuestionData() !== null\n                        ? QuestionData()?.question.find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )\n                        : undefined,\n                    answers: toSimpleCalculated(\n                      findSelectedQuestionDetails().find(\n                        (itm) => itm.language === getDefaultLanguage()\n                      )!.answers[0].answer\n                    ),\n                    selectedAns: findSelectedQuestionDetails().find(\n                      (itm) => itm.language === getDefaultLanguage()\n                    )!.answers[0],\n                  }}\n                  answerQuestionFn={(answer: QuestionAnswersStore) => {\n                    addAnswerFunction(answer.answers[0]);\n                  }}\n                />\n              )}\n            {/* Short Answer */}\n            {props.candidateExam.selected_question !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) === questionTypeElementsType.ShortAnswer && (\n                <ShortAnswer\n                  type={findQuestionType(\n                    props.candidateExam.candidate_exam?.questions.find(\n                      (itm) =>\n                        itm.question_id ===\n                        props.candidateExam.selected_question\n                    )?.type,\n                    props.questionTypes.questionTypes\n                  )}\n                  available_answers={props.candidateExam.question_answers}\n                  selectedQuestionAnswer={{\n                    question_id: props.candidateExam.selected_question,\n                    question:\n                      QuestionData() !== null\n                        ? QuestionData()?.question.find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )\n                        : undefined,\n                    answers: toShortAnswer(\n                      findSelectedQuestionDetails().find(\n                        (itm) => itm.language === getDefaultLanguage()\n                      )!.answers.length === 0\n                        ? []\n                        : findSelectedQuestionDetails().find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )!.answers[0].answer\n                    ),\n                    selectedAns: findSelectedQuestionDetails().find(\n                      (itm) => itm.language === getDefaultLanguage()\n                    )!.answers[0],\n                  }}\n                  answerQuestionFn={(answer: QuestionAnswersStore) => {\n                    addAnswerFunction(answer.answers[0]);\n                  }}\n                />\n              )}\n            {/* Numerical Answer */}\n            {props.candidateExam.selected_question !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) === questionTypeElementsType.Numeric && (\n                <Numerical\n                  type={findQuestionType(\n                    props.candidateExam.candidate_exam?.questions.find(\n                      (itm) =>\n                        itm.question_id ===\n                        props.candidateExam.selected_question\n                    )?.type,\n                    props.questionTypes.questionTypes\n                  )}\n                  available_answers={props.candidateExam.question_answers}\n                  selectedQuestionAnswer={{\n                    question_id: props.candidateExam.selected_question,\n                    question:\n                      QuestionData() !== null\n                        ? QuestionData()?.question.find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )\n                        : undefined,\n                    answers: toNumerical(\n                      findSelectedQuestionDetails().find(\n                        (itm) => itm.language === getDefaultLanguage()\n                      )!.answers[0].answer\n                    ),\n                    selectedAns: findSelectedQuestionDetails().find(\n                      (itm) => itm.language === getDefaultLanguage()\n                    )!.answers[0],\n                  }}\n                  answerQuestionFn={(answer: QuestionAnswersStore) => {\n                    addAnswerFunction(answer.answers[0]);\n                  }}\n                />\n              )}\n            {/* Calculated Multiple choice */}\n            {props.candidateExam.selected_question !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) === questionTypeElementsType.CalculatedMultipleChoice && (\n                <CalculatedMultipleChoice\n                  type={findQuestionType(\n                    props.candidateExam.candidate_exam?.questions.find(\n                      (itm) =>\n                        itm.question_id ===\n                        props.candidateExam.selected_question\n                    )?.type,\n                    props.questionTypes.questionTypes\n                  )}\n                  available_answers={props.candidateExam.question_answers}\n                  selectedQuestionAnswer={{\n                    question_id: props.candidateExam.selected_question,\n                    question:\n                      QuestionData() !== null\n                        ? QuestionData()?.question.find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )\n                        : undefined,\n                    answers: toCalculatedMultipleChoice(\n                      findSelectedQuestionDetails().find(\n                        (itm) => itm.language === getDefaultLanguage()\n                      )!.answers[0].answer\n                    ),\n                    selectedAns: findSelectedQuestionDetails().find(\n                      (itm) => itm.language === getDefaultLanguage()\n                    )!.answers[0],\n                  }}\n                  answerQuestionFn={(answer: QuestionAnswersStore) => {\n                    addAnswerFunction(answer.answers[0]);\n                  }}\n                />\n              )}\n            {/* Essay question */}\n            {props.candidateExam.selected_question !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) === questionTypeElementsType.Essay && (\n                <Essay\n                  type={findQuestionType(\n                    props.candidateExam.candidate_exam?.questions.find(\n                      (itm) =>\n                        itm.question_id ===\n                        props.candidateExam.selected_question\n                    )?.type,\n                    props.questionTypes.questionTypes\n                  )}\n                  available_answers={props.candidateExam.question_answers}\n                  selectedQuestionAnswer={{\n                    question_id: props.candidateExam.selected_question,\n                    question:\n                      QuestionData() !== null\n                        ? QuestionData()?.question.find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )\n                        : undefined,\n                    answers: toEssay(\n                      findSelectedQuestionDetails().find(\n                        (itm) => itm.language === getDefaultLanguage()\n                      )!.answers[0].answer\n                    ),\n                    selectedAns: findSelectedQuestionDetails().find(\n                      (itm) => itm.language === getDefaultLanguage()\n                    )!.answers[0],\n                  }}\n                  answerQuestionFn={(answer: QuestionAnswersStore) => {\n                    addAnswerFunction(answer.answers[0]);\n                  }}\n                />\n              )}\n\n            {/* Hybrid answer unique: it combines th above questions */}\n            {props.candidateExam.selected_question !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) !== null &&\n              findQuestionType(\n                props.candidateExam.candidate_exam?.questions.find(\n                  (itm) =>\n                    itm.question_id === props.candidateExam.selected_question\n                )?.type,\n                props.questionTypes.questionTypes\n              ) === questionTypeElementsType.Hybrid && (\n                <HybridAnswers\n                  type={findQuestionType(\n                    props.candidateExam.candidate_exam?.questions.find(\n                      (itm) =>\n                        itm.question_id ===\n                        props.candidateExam.selected_question\n                    )?.type,\n                    props.questionTypes.questionTypes\n                  )}\n                  available_answers={props.candidateExam.question_answers}\n                  selectedQuestionAnswer={{\n                    question_id: props.candidateExam.selected_question,\n                    question:\n                      QuestionData() !== null\n                        ? QuestionData()?.question.find(\n                            (itm) => itm.language === getDefaultLanguage()\n                          )\n                        : undefined,\n                    answers: findSelectedQuestionDetails().find(\n                      (itm) => itm.language === getDefaultLanguage()\n                    )!.answers,\n                  }}\n                  wholeQuestion={\n                    QuestionData() !== null\n                      ? QuestionData()?.question.find(\n                          (itm) => itm.language === getDefaultLanguage()\n                        )\n                      : undefined\n                  }\n                  answerQuestionFn={(answer: QuestionAnswersStore) => {\n                    console.log(\"Sub ans: \", answer);\n                    addAnswerFunction(answer.answers[0]);\n                  }}\n                  selectedLanguage={getDefaultLanguage()}\n                  selectedExam={props.candidateExam.candidate_exam}\n                />\n              )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  auth,\n  candidateExam,\n  system,\n  questionTypes,\n}: StoreState): {\n  auth: Auth;\n  candidateExam: candidateExamStoreInterface;\n  system: System;\n  questionTypes: questionTypesStoreInterface;\n} => {\n  return {\n    auth: auth,\n    candidateExam: candidateExam,\n    system: system,\n    questionTypes: questionTypes,\n  };\n};\n\nconst QuestionDetails = connect(mapStateToProps, {\n  setSelectedExamQuestion,\n  setQuestionLanguage,\n  loadQuestionTypes,\n})(_QuestionDetails);\n\nexport default QuestionDetails;\n","import { questionTypeElementsType } from \"@mastrecruit/common\";\nimport React, { useState } from \"react\";\nimport { IoMdInformationCircle } from \"react-icons/io\";\nimport { MdCheckCircle, MdClose } from \"react-icons/md\";\nimport { Auth } from \"../../../actions/auth\";\nimport { candidateExamStoreInterface } from \"../../../actions/candidate_exam\";\nimport { questionTypesStoreInterface } from \"../../../actions/questionTypes\";\nimport { System } from \"../../../actions/system\";\nimport Loading from \"../../../components/Loading/Loading\";\nimport { EmbeddedQuestion } from \"../../../components/QuestionPreview/QuestionPreview\";\nimport { course } from \"../../../interfaces/course\";\nimport {\n  QuestionAnswerInterface,\n  QuestionInterface,\n  QuestionLanguage,\n} from \"../../../interfaces/question\";\nimport {\n  ExamAnsweredQuestions,\n  ExamPendingQuestions,\n  findQuestionType,\n} from \"../utils/utils\";\nimport FindAnswer from \"./FindAnswer\";\nimport FindAnswerHybrid from \"./FindAnswerHybrid\";\n\ninterface QuestionsReviewProps {\n  auth: Auth;\n  candidateExam: candidateExamStoreInterface;\n  system: System;\n  setSelectedExamQuestion: (\n    exam_id: string,\n    question_id: string | null\n  ) => void;\n  submitQuestionAnswer: boolean;\n  questionTypes: questionTypesStoreInterface;\n  loadQuestionTypes: (callback: (loading: boolean) => void) => void;\n  submitExam: () => void;\n  selectedExam: course | null;\n  setSubmitModal: (status: boolean) => void;\n  selectedLanguage: QuestionLanguage;\n}\n\nconst QuestionsReview = (props: QuestionsReviewProps) => {\n  const [submitAnswerState, setSubmitAnswerState] = useState<boolean>(false);\n  const AnsweredQuest: QuestionInterface[] = props.candidateExam.candidate_exam\n    ? ExamAnsweredQuestions(\n        props.candidateExam.question_answers,\n        props.candidateExam.candidate_exam.questions,\n        props.questionTypes\n      )\n    : [];\n  const PendingQuest: QuestionInterface[] = props.candidateExam.candidate_exam\n    ? ExamPendingQuestions(\n        props.candidateExam.question_answers,\n        props.candidateExam.candidate_exam.questions,\n        props.questionTypes\n      )\n    : [];\n  if (props.submitQuestionAnswer === true) {\n    return (\n      <div className=\"bg-white rounded mx-4 my-4\">\n        <div className=\"text-gray-600 mx-4\">Saving changes, Please wait...</div>\n        <Loading />\n      </div>\n    );\n  }\n  return (\n    <div\n      className={`pt-4 border-t border-gray-300 ${\n        PendingQuest.length === 0 ? \"bg-gray-100\" : \"bg-white\"\n      }`}\n    >\n      {props.candidateExam.candidate_exam &&\n      AnsweredQuest.length !==\n        props.candidateExam.candidate_exam.questions.length &&\n      PendingQuest.length !== 0 ? (\n        <div>\n          <div className=\"grid md:grid-cols-2 h-full\">\n            <div className=\"md:col-span-2 h-full\">\n              <div className=\"mb-3 rounded-t bg-gray-200 h-full px-2 py-4 -mt-4 pl-4 flex flex-row justify-between\">\n                {/* <RiErrorWarningFill className=\"text-6xl text-gray-400\" /> */}\n                <div className=\"flex flex-col\">\n                  <div className=\"text-2xl text-gray-900 font-extrabold mb-2 text-left\">\n                    Submit with incomplete questions\n                  </div>\n                  <div className=\"text-gray-700 text-sm text-left pb-2\">\n                    Please, make sure to complete the following remaining\n                    questions which are not yet answered. Please, if you proceed\n                    anyway, for these questions, you will not be marked!\n                  </div>\n                </div>\n                <div className=\"mr-4\">\n                  <div className=\"bg-white hover:text-red-700 hover:bg-red-200 rounded-full p-1 h-10 w-10 flex items-center justify-center\">\n                    <MdClose\n                      className=\"cursor-pointer font-extrabold text-3xl\"\n                      onClick={() => props.setSubmitModal(false)}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n            {submitAnswerState === false && (\n              <div className=\"md:col-span-2\">\n                <div className=\"\">\n                  <div className=\"border-2 border-yellow-500 bg-yellow-50 px-2 py-3 rounded mx-4\">\n                    {/* <div className=\"text-xl text-center text-gray-700 font-bold\">List of incomplete questions</div> */}\n                    <div className=\"text-center mb-5 text-gray-600 font-bold\">\n                      Pick a question number you want to answer directly\n                    </div>\n                    <div className=\"flex justify-center items-center text-center\">\n                      <div className=\"flex flex-row items-center justify-center gap-4 w-full overflow-x-auto pb-2\">\n                        {props.candidateExam.candidate_exam.questions.map(\n                          (item, i) =>\n                            PendingQuest.find(\n                              (itm) => itm.question_id === item.question_id\n                            )?.question_id !== undefined && (\n                              <div\n                                onClick={() => {\n                                  props.candidateExam.candidate_exam &&\n                                    props.setSelectedExamQuestion(\n                                      props.candidateExam.candidate_exam\n                                        .exam_paper_id,\n                                      item.question_id\n                                    );\n                                  props.setSubmitModal(false);\n                                }}\n                                key={i + 1}\n                                className=\"w-10 h-10 p-4 rounded-full bg-yellow-600 flex justify-center items-center font-bold text-2xl text-white cursor-pointer\"\n                              >\n                                {i + 1}\n                              </div>\n                            )\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex flex-row items-center justify-between my-2 gap-3 mx-4 mb-16\">\n                    <div\n                      onClick={() => props.setSubmitModal(false)}\n                      className=\"bg-gray-300 font-bold text-gray-800 flex items-center rounded px-3 py-2 cursor-pointer hover:bg-gray-400 text-base\"\n                    >\n                      Back to edit\n                    </div>\n                    <div\n                      onClick={() => {\n                        if (\n                          window.confirm(\n                            \"Are you sure do you want submit your exam with question not answered?\"\n                          ) === true\n                        ) {\n                          props.submitExam();\n                        }\n                      }}\n                      className=\"bg-blue-100 text-blue-700 font-bold flex items-center rounded px-3 py-2 cursor-pointer hover:bg-blue-300\"\n                    >\n                      Submit anyway\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      ) : (\n        <div className=\"px-4 pb-2\">\n          <div className=\"flex flex-row items-center justify-between mb-4\">\n            <div className=\"text-blue-700 font-bold\">\n              {submitAnswerState === false && (\n                <span>\n                  Hey{\" \"}\n                  <b>\n                    <u>{props.auth.user.fname}</u>\n                  </b>\n                  , All questions have been answered, are you sure do you want\n                  to submit the final answers?\n                </span>\n              )}\n            </div>\n            <div className=\"bg-white hover:text-red-700 hover:bg-red-200 rounded-full p-1 h-10 w-10 flex items-center justify-center\">\n              <MdClose\n                className=\"cursor-pointer font-extrabold text-3xl\"\n                onClick={() => props.setSubmitModal(false)}\n              />\n            </div>\n          </div>\n          {submitAnswerState === false && (\n            <div className=\"flex flex-row items-center justify-between\">\n              <div\n                onClick={() => props.setSubmitModal(false)}\n                className=\"btn cursor-pointer bg-gray-300 hover:bg-gray-400 text-gray-800 flex flex-row gap-2\"\n              >\n                <span className=\"\">Back to edit</span>\n              </div>\n              <div\n                onClick={() => {\n                  setSubmitAnswerState(true);\n                }}\n                className=\"btn cursor-pointer bg-blue-600 hover:bg-blue-800 text-white flex flex-row items-center gap-2 animate__animated animate__zoomIn\"\n              >\n                <MdCheckCircle className=\"text-3xl\" />\n                <span className=\"\">Submit exam</span>\n              </div>\n            </div>\n          )}\n\n          {submitAnswerState === false ? (\n            <div className=\"my-2\">\n              <div className=\"font-extrabold text-xl text-yellow-900 my-2 mt-4\">\n                Verify your answers\n              </div>\n              <div\n                className=\"flex flex-col gap-3 overflow-y-auto\"\n                style={{ maxHeight: \"100%\" }}\n              >\n                {props.candidateExam.candidate_exam === null ? (\n                  <Loading />\n                ) : (\n                  AnsweredQuest.length > 0 &&\n                  AnsweredQuest.map((item, i) => (\n                    <div\n                      key={i + 1}\n                      className=\"bg-white hover:bg-white border border-white hover:border-blue-400 px-2 py-2 rounded  animate__animated animate__fadeIn animate__fast group\"\n                    >\n                      <div className=\"grid md:grid-cols-12 w-full\">\n                        <div className=\"col-span-11 flex flex-row items-center gap-3\">\n                          <div\n                            key={i + 1}\n                            className=\"w-6 h-6 p-2 rounded-full bg-gray-600 flex justify-center items-center font-bold text-lg text-white cursor-pointer\"\n                          >\n                            {i + 1}\n                          </div>\n                          <div className=\"text-sm w-full\">\n                            {item.question.find(\n                              (test) => test.language === props.selectedLanguage\n                            ) !== undefined ? (\n                              findQuestionType(\n                                item.type,\n                                props.questionTypes.questionTypes\n                              ) === questionTypeElementsType.Embedded ? (\n                                EmbeddedQuestion(\n                                  item!,\n                                  props.questionTypes.questionTypes,\n                                  props.selectedLanguage,\n                                  props.candidateExam.question_answers,\n                                  (data: QuestionAnswerInterface) => {}\n                                )\n                              ) : (\n                                <div\n                                  className=\"font-bold text-gray-700 text-base\"\n                                  dangerouslySetInnerHTML={{\n                                    __html: item.question.find(\n                                      (test) =>\n                                        test.language === props.selectedLanguage\n                                    )!.description,\n                                  }}\n                                ></div>\n                              )\n                            ) : (\n                              item.question.length > 0 && (\n                                <div\n                                  className=\"font-bold text-gray-700 text-base max-h-20 truncate\"\n                                  dangerouslySetInnerHTML={{\n                                    __html: item.question[0].description,\n                                  }}\n                                ></div>\n                              )\n                            )}\n                            <div className=\"text-blue-700 font-bold text-sm w-full\">\n                              {findQuestionType(\n                                item.type,\n                                props.questionTypes.questionTypes\n                              ) === questionTypeElementsType.Embedded\n                                ? \"\"\n                                : \"Answer:\"}\n                              &nbsp;{\" \"}\n                              {props.questionTypes.questionTypes !== null &&\n                              findQuestionType(\n                                item.type,\n                                props.questionTypes.questionTypes\n                              ) === questionTypeElementsType.Hybrid ? (\n                                <FindAnswerHybrid\n                                  auth={props.auth}\n                                  candidateExam={props.candidateExam}\n                                  system={props.system}\n                                  setSelectedExamQuestion={\n                                    props.setSelectedExamQuestion\n                                  }\n                                  submitQuestionAnswer={\n                                    props.submitQuestionAnswer\n                                  }\n                                  questionTypes={props.questionTypes}\n                                  loadQuestionTypes={props.loadQuestionTypes}\n                                  submitExam={props.submitExam}\n                                  selectedExam={props.selectedExam}\n                                  setSubmitModal={props.setSubmitModal}\n                                  selectedLanguage={props.selectedLanguage}\n                                  wholeQuestion={item}\n                                  answersList={\n                                    props.candidateExam.question_answers\n                                  }\n                                />\n                              ) : (\n                                props.questionTypes.questionTypes !== null && (\n                                  <FindAnswer\n                                    selectedLanguage={props.selectedLanguage}\n                                    question={item}\n                                    answersList={\n                                      props.candidateExam.question_answers\n                                    }\n                                    questionTypes={\n                                      props.questionTypes.questionTypes\n                                    }\n                                    onClick={() => {\n                                      props.candidateExam.candidate_exam &&\n                                        props.setSelectedExamQuestion(\n                                          props.candidateExam.candidate_exam\n                                            .exam_paper_id,\n                                          item.question_id\n                                        );\n                                      props.setSubmitModal(false);\n                                    }}\n                                    showCorrectAnswer={false}\n                                  />\n                                )\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"col-span-12 md:col-span-1 float-right flex items-center justify-end pt-2 md:pt-0\">\n                          <div\n                            onClick={() => {\n                              props.candidateExam.candidate_exam &&\n                                props.setSelectedExamQuestion(\n                                  props.candidateExam.candidate_exam\n                                    .exam_paper_id,\n                                  item.question_id\n                                );\n                              props.setSubmitModal(false);\n                            }}\n                            className=\"bg-blue-100 rounded px-2 py-1 text-center float-right cursor-pointer font-bold text-md text-blue-600 border border-blue-400 group-hover:bg-blue-600 group-hover:text-white group-hover:border-none flex items-center justify-center h-max md:ml-3\"\n                          >\n                            Edit\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n          ) : (\n            <div className=\"flex flex-row items-center justify-center mb-10 -mt-5\">\n              <div className=\"bg-white rounded-md p-6 animate__animated animate__zoomIn animate__faster w-max border border-gray-300\">\n                <div className=\"flex flex-row items-center justify-center w-full\">\n                  <IoMdInformationCircle className=\"text-7xl\" />\n                </div>\n                <div className=\"text-center text-2xl\">\n                  <span className=\"text-black\">\n                    Are you sure do you want to submit your exam?\n                  </span>\n                </div>\n                <div>\n                  <div className=\"flex flex-row items-center justify-center my-2 gap-3 mx-4 mb-16\">\n                    <div\n                      onClick={() => setSubmitAnswerState(false)}\n                      className=\"bg-gray-200 font-bold text-gray-800 hover:text-white flex items-center rounded px-3 py-2 cursor-pointer hover:bg-gray-600 text-base\"\n                    >\n                      No, back to edit\n                    </div>\n                    <div\n                      onClick={() => {\n                        props.submitExam();\n                      }}\n                      className=\"bg-green-700 hover:bg-green-900 text-white font-bold flex items-center rounded px-3 py-2 cursor-pointer\"\n                    >\n                      Yes, submit exam\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default QuestionsReview;\n","import React, { Fragment } from \"react\";\nimport { IoDocumentTextOutline } from \"react-icons/io5\";\nimport Modal, {\n  Themes,\n  ModalSize,\n  ModalMarginTop,\n} from \"../../../components/Modal/Modal\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  candidateExamStoreInterface,\n  SubmitExamAnswers,\n  System,\n  setSelectedExamQuestion,\n  questionTypesStoreInterface,\n} from \"../../../actions\";\nimport { StoreState } from \"../../../reducers\";\nimport { NumberOfAnsweredQuestions } from \"../utils/utils\";\nimport { course } from \"../../../interfaces\";\nimport QuestionsReview from \"./QuestionsReview\";\n// import { CountDown } from \"../../../components/CountDown/CountDown\";\nimport { CountDownLive } from \"../../../components/CountDown/CountDownLive\";\n\ninterface TestTitleInterface {\n  windowStatus: {\n    profile: boolean;\n    questionsList: boolean;\n  };\n  setProfileWindowStatus: (status: boolean) => void;\n  setQuestionsListWindowStatus: (status: boolean) => void;\n  setCompletedTest: (state: boolean) => void;\n  SubmitExamAnswers: (user_id: string) => void;\n  auth: Auth;\n  candidateExam: candidateExamStoreInterface;\n  system: System;\n  setSelectedExamQuestion: (\n    exam_id: string,\n    question_id: string | null\n  ) => void;\n  submitQuestionAnswer: boolean;\n  questionTypes: questionTypesStoreInterface;\n  loadQuestionTypes: (callback: (loading: boolean) => void) => void;\n  submitExam: () => void;\n  SubmitAnswer: () => void;\n  selectedExam: course | null;\n  start_time: string;\n  duration_min: number;\n  timeout: () => void;\n  setSubmitModal: (status: boolean) => void;\n  submitModalStatus: boolean;\n  room_id: string;\n  setRequestingExamMarks: (status: boolean) => void;\n  setExamTotalMarks: (marks: number) => void;\n}\n\nconst _DoExamTitle = (props: TestTitleInterface) => {\n  // const [incompleteQuestions, setIncompleteQuestions] = useState<exam_question[] | []>([]);\n\n  const TotalAnswered: number = props.candidateExam.candidate_exam\n    ? NumberOfAnsweredQuestions(\n        props.candidateExam.question_answers,\n        props.candidateExam.candidate_exam.questions,\n        props.questionTypes\n      )\n    : 0;\n  const answeredPercentage = props.candidateExam.candidate_exam\n    ? (TotalAnswered * 100) /\n      props.candidateExam.candidate_exam.questions.length\n    : 0;\n  return (\n    <Fragment>\n      <div className=\"bg-gray-800\">\n        <div className=\"grid grid-cols-12 md:grid-cols-6\">\n          <div className=\"col-span-6 md:col-span-2 lg:col-span-2 text-white flex flex-row justify-start items-center gap-2\">\n            <div className=\"text-white flex flex-row items-center pl-1 py-3 lg:py-0 w-full\">\n              <div>\n                <IoDocumentTextOutline className=\"text-3xl ml-0\" />\n              </div>\n              <div className=\"mr-3 ml-1 lg:ml-3 flex flex-col w-full\">\n                <span className=\"font-bold text-lg truncate -mb-1\">\n                  {props.selectedExam?.course_name}\n                </span>\n                <span className=\"text-gray-300 text-xs truncate\">\n                  Code: {props.selectedExam?.course_code}\n                </span>\n              </div>\n            </div>\n          </div>\n          <div\n            className=\"col-span-6 md:col-span-4 lg:col-span-4\"\n            style={{ alignSelf: \"center\" }}\n          >\n            <div className=\"grid md:grid-cols-8 lg:grid-cols-12\">\n              <div className=\"hidden col-span-3 md:flex flex-col justify-center items-center h-full gap-1\">\n                <div className=\"text-gray-200 text-sm w-full hidden lg:block\">\n                  Completed {TotalAnswered} of{\" \"}\n                  {props.candidateExam.candidate_exam &&\n                    props.candidateExam.candidate_exam.questions.length}\n                </div>\n                <div className=\"bg-gray-600 h-3 w-full rounded-full shadow-md hidden lg:block\">\n                  <div\n                    className=\"bg-gray-400 h-3 w-60 rounded-full shadow-md\"\n                    style={{ width: `${answeredPercentage}%` }}\n                  ></div>\n                </div>\n                <div className=\"h-auto my-2 w-full bg-gray-700 rounded-full flex justify-start items-center shadow-lg lg:hidden\">\n                  <div\n                    className=\"rounded-full bg-gray-500 h-full text-xs flex items-center justify-center font-bold text-white\"\n                    style={{ width: `${answeredPercentage}%` }}\n                  >\n                    <div className=\"relative left-0 bg-gray-500 px-1 rounded-full\">\n                      {answeredPercentage.toFixed(0)}%\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-span-4 hidden lg:block h-full\">\n                <div className=\"flex flex-row justify-center items-center h-full\">\n                  <div className=\"flex flex-col text-sm justify-center items-center text-gray-400\">\n                    <div>\n                      Start time:{\" \"}\n                      <span className=\"font-bold text-gray-200\">\n                        {props.candidateExam.candidate_exam?.start_time}\n                      </span>\n                    </div>\n                    <div>\n                      Duration:{\" \"}\n                      <span className=\"font-bold text-gray-200\">\n                        {props.candidateExam.candidate_exam &&\n                        props.candidateExam.candidate_exam.duration / 60 > 1\n                          ? (\n                              props.candidateExam.candidate_exam.duration / 60\n                            ).toFixed(0) + \" hours\"\n                          : props.candidateExam.candidate_exam &&\n                            (\n                              props.candidateExam.candidate_exam.duration / 60\n                            ).toFixed(0) + \" hour\"}\n                        {props.candidateExam.candidate_exam &&\n                          props.candidateExam.candidate_exam.duration % 60 >\n                            0 &&\n                          \", \" +\n                            (props.candidateExam.candidate_exam.duration % 60) +\n                            \" mins\"}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-span-5 bg-gray-800\">\n                <div className=\"flex flex-row justify-between md:justify-end items-center h-full gap-2\">\n                  <div className=\"flex flex-col text-xs items-end justify-start text-gray-200 pl-2 md:pl-0 w-full md:pr-2\">\n                    <span>Counting down</span>\n                    <div className=\"text-lg lg:text-xl font-bold\">\n                      {/* <CountDown\n                        start_time={props.start_time}\n                        duration_min={props.duration_min}\n                        timeout={() => props.timeout()}\n                        returnString={true}\n                        labels\n                      />{\" \"}\n                       */}\n                      <CountDownLive\n                        // start_time={props.start_time}\n                        // duration_min={props.duration_min}\n                        room_id={props.room_id}\n                        timeout={() => props.timeout()}\n                        returnString={true}\n                        labels\n                      />\n                      {/* {this.props.procto} */}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {props.submitModalStatus === true && (\n        <Modal\n          title={\"\"}\n          backDrop={true}\n          theme={\n            props.candidateExam.question_answers.length === 0\n              ? Themes.default\n              : Themes.default\n          }\n          close={() => props.setSubmitModal(false)}\n          backDropClose={true}\n          widthSizeClass={ModalSize.maxWidth}\n          displayClose={false}\n          padding={{ title: false }}\n          marginTop={ModalMarginTop.small}\n        >\n          <QuestionsReview\n            auth={props.auth}\n            candidateExam={props.candidateExam}\n            system={props.system}\n            setSelectedExamQuestion={props.setSelectedExamQuestion}\n            submitQuestionAnswer={props.submitQuestionAnswer}\n            questionTypes={props.questionTypes}\n            loadQuestionTypes={props.loadQuestionTypes}\n            submitExam={props.submitExam}\n            selectedExam={props.selectedExam}\n            setSubmitModal={props.setSubmitModal}\n            selectedLanguage={props.candidateExam.selected_language}\n          />\n        </Modal>\n      )}\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = ({\n  auth,\n  candidateExam,\n  system,\n}: StoreState): {\n  auth: Auth;\n  candidateExam: candidateExamStoreInterface;\n  system: System;\n} => {\n  return { auth: auth, candidateExam: candidateExam, system: system };\n};\n\nconst DoExamTitle = connect(mapStateToProps, {\n  SubmitExamAnswers,\n  setSelectedExamQuestion,\n})(_DoExamTitle);\n\nexport default DoExamTitle;\n","import React from \"react\";\nimport { MdCheckCircleOutline, MdHighlightOff } from \"react-icons/md\";\nimport { InitialExamDetails } from \"../../actions/candidate_exam\";\n\ninterface ProctoringRuleItemProps {\n  examDetails: () => InitialExamDetails | null;\n  rule_key: string;\n}\n\nconst ProctoringRuleItem = (props: ProctoringRuleItemProps) => {\n  const getDetails = () => {\n    let res: {\n      value: string;\n      status: boolean;\n    } | null = null;\n    if (props.examDetails() !== null) {\n      switch (props.rule_key) {\n        case \"right_click_enabled\":\n          res = {\n            value: \"Right click\",\n            status: props.examDetails()!.rules.right_click_enabled,\n          };\n          break;\n        case \"copy_enabled\":\n          res = {\n            value: \"Copy text\",\n            status: props.examDetails()!.rules.copy_enabled,\n          };\n          break;\n        case \"paste_enabled\":\n          res = {\n            value: \"Paste item or text\",\n            status: props.examDetails()!.rules.paste_enabled,\n          };\n          break;\n        case \"stop_candidate_when_comeback\":\n          res = {\n            value: \"Coming back after leaving\",\n            status: props.examDetails()!.rules.stop_candidate_when_comeback,\n          };\n          break;\n        case \"allow_to_leave_browser\":\n          res = {\n            value: \"Leave browser\",\n            status: props.examDetails()!.rules.allow_to_leave_browser,\n          };\n          break;\n      }\n    }\n    return res;\n  };\n  return (\n    <div className=\"flex flex-row items-center justify-between w-full border-b py-2\">\n      <div\n        className={`flex flex-row items-center ${\n          getDetails()?.status === true\n            ? \"text-blue-600 font-bold\"\n            : \"text-yellow-800 font-bold\"\n        }`}\n      >\n        {getDetails()?.status === true ? (\n          <MdCheckCircleOutline className=\"text-2xl mr-3\" />\n        ) : (\n          <MdHighlightOff className=\"text-2xl mr-3\" />\n        )}\n        <span>{getDetails()?.value}</span>\n      </div>\n      <span\n        className={`rounded-full px-3 py-1 border font-bold ${\n          getDetails()?.status === true\n            ? \"bg-white text-blue-800 border-blue-100\"\n            : \"bg-yellow-50 text-yellow-800 border-yellow-100\"\n        }`}\n      >\n        {getDetails()?.status === true ? \"Allowed\" : \"Prohibited\"}\n      </span>\n    </div>\n  );\n};\n\nexport default ProctoringRuleItem;\n","import React, { Component, Fragment } from \"react\";\nimport Footer from \"./Footer/Footer\";\nimport Profile from \"./Profile/Profile\";\nimport QuestionDetails from \"./QuestionDetails/QuestionDetails\";\nimport DoExamTitle from \"./DoExamTitle/DoExamTitle\";\nimport * as Interfaces from \"../../interfaces/index\";\nimport { connect } from \"react-redux\";\nimport {\n  ActionTypes,\n  examDataInterface,\n  loadExam,\n  addExamAnswer,\n  deleteExamAnswers,\n  SubmitExamAnswers,\n  ChangeExamStatus,\n  Auth,\n  candidateExamStoreInterface,\n  System,\n  setSelectedCandidateExam,\n  loadCandidateExam,\n  setSelectedExamQuestion,\n  courseStoreInterface,\n  loadCourses,\n  setSelectedPeriod,\n  applicationPeriodsStoreInterface,\n  QuestionAnswersStore,\n  setExamQuestionAnswer,\n  questionTypesStoreInterface,\n  loadQuestionTypes,\n  RequestUserExamDetails,\n  positionsStoreInterface,\n  PushPopupAlert,\n  CleanCandidateExam,\n  SubmitExamQuestionAnswer,\n  GetUserExamDetails,\n  RequestUserExamDetailsInterface,\n  BackToExamination,\n  setExamStatus,\n  FC_SaveEvent,\n  Socket,\n  FC_AddRules,\n  FT_AddRules,\n  CleanCandidateExamAnswers,\n  loadCandidateExamFromSupervisor,\n  requestUserAnswers,\n  FC_GetProfileDetails,\n  Proctoring,\n  InitialExamDetails,\n  schoolLevelsStoreInterface,\n} from \"../../actions\";\nimport { StoreState } from \"../../reducers\";\nimport {\n  EventInterface,\n  Events,\n  EventsLabels,\n  LiveServer__Candidate_Details,\n  LiveServer__Room,\n  question_answer,\n} from \"../../interfaces/index\";\nimport {\n  CandidateExam,\n  CandidateExamQuestionAnswer,\n  ExamInterface,\n  ExamResultsDetails,\n  examStatus,\n  UserExamActions,\n  userExamDetails,\n} from \"../../interfaces/exam\";\nimport { exam_question } from \"../../interfaces/exam_question\";\nimport { Redirect } from \"react-router\";\nimport { ProctoringCandidateOnline } from \"../ProctoringCandidateOnline/ProctoringCandidateOnline\";\nimport QuestionsList from \"./QuestionsList/QuestionsList\";\nimport Modal, { ModalSize, Themes } from \"../../components/Modal/Modal\";\nimport Loading from \"../../components/Loading/Loading\";\nimport { ApplicationPeriodGet } from \"../../interfaces/application\";\nimport { DATE, errorToText } from \"../../utils/functions\";\nimport { PopupAlertData } from \"../../components/Alert/Popup\";\nimport { PopupAlertTheme } from \"../../interfaces/popupAlert\";\nimport axios from \"axios\";\nimport { API } from \"../../utils/api\";\nimport { MdCheckCircle, MdInfoOutline } from \"react-icons/md\";\nimport ProctoringRuleItem from \"../../components/ProctoringRuleItem/ProctoringRuleItem\";\nimport { findQuestionType, questionAnswered } from \"./utils/utils\";\n\ninterface DoExamProps {\n  proctoring: Proctoring;\n  FC_GetProfileDetails: Function;\n  currentPosition: Interfaces.PositionAPI | null;\n  doExam: examDataInterface;\n  auth: Auth;\n  loadExam: (user_id: string, exam: ExamInterface) => void;\n  addExamAnswer: (questionAnswer: newAnswer) => void;\n  deleteExamAnswers: () => void;\n  SubmitExamAnswers: (user_id: string) => void;\n  ChangeExamStatus: (user_id: string, status: examStatus) => void;\n  candidateExam: candidateExamStoreInterface;\n  setSelectedCandidateExam: (selected_exam: InitialExamDetails | null) => void;\n  loadCandidateExam: (\n    exam_id: string,\n    CheckUserExam: (candidateExam: CandidateExam) => void,\n    callback: (loading: boolean) => void\n  ) => void;\n  setSelectedExamQuestion: (\n    exam_id: string,\n    question_id: string | null\n  ) => void;\n  course: courseStoreInterface;\n  loadCourses: (callback: (loading: boolean) => void) => void;\n  periods: applicationPeriodsStoreInterface;\n  setSelectedPeriod: (period: ApplicationPeriodGet) => void;\n  setExamQuestionAnswer: (answer: QuestionAnswersStore) => void;\n  questionTypes: questionTypesStoreInterface;\n  loadQuestionTypes: (callback: (loading: boolean) => void) => void;\n  RequestUserExamDetails: (\n    userExamDetails: userExamDetails,\n    callback: (loading: boolean) => void,\n    setLoadExamResultMessage: (msg: string, status: boolean) => void,\n    BackToExamination: (exam: ExamResultsDetails) => void\n  ) => void;\n  positions: positionsStoreInterface;\n  PushPopupAlert: (alert: PopupAlertData) => void;\n  CleanCandidateExam: (exam_id: string) => void;\n  CleanCandidateExamAnswers: (exam_id: string) => void;\n  SubmitExamQuestionAnswer: (\n    answer: CandidateExamQuestionAnswer,\n    callback: (loading: boolean) => void,\n    actionStatus: (msg: string, status: boolean) => void\n  ) => void;\n  GetUserExamDetails: (\n    request: RequestUserExamDetailsInterface,\n    callback: (loading: boolean) => void\n  ) => void;\n  BackToExamination: (exam: ExamResultsDetails) => void;\n  setExamStatus: (\n    user: string,\n    exam_paper_id: string,\n    action: UserExamActions,\n    reason: string,\n    callback: (loading: boolean) => void\n  ) => void;\n  FC_SaveEvent: Function;\n  socket: Socket;\n  FC_AddRules: FT_AddRules;\n  loadCandidateExamFromSupervisor: (\n    candidateExam: CandidateExam,\n    firstTime: boolean\n  ) => void;\n  requestUserAnswers: (\n    exam_id: string,\n    user_id: string,\n    callback: (loading: boolean) => void\n  ) => void;\n  schoolLevels: schoolLevelsStoreInterface;\n}\n\ninterface DoExamState {\n  windowStatus: {\n    profile: boolean;\n    questionsList: boolean;\n  };\n  selectedQuestion: exam_question | null;\n  testAnswers: newAnswer[] | [];\n  completedTest: boolean;\n  examStatus: boolean;\n  loading: boolean;\n  loadUserExamErr: string;\n  submitQuestionAnswer: boolean;\n  submitWholeExam: boolean;\n  display_exam: boolean;\n  changingExamStatus: boolean;\n  inExam: boolean;\n\n  // Exam counter\n  start_exam: boolean;\n  start_time: string;\n  duration: number;\n  added_minutes: number;\n  group_id: string;\n  submittedExam: boolean;\n  candidateDetailsProctoring: LiveServer__Candidate_Details | null;\n  submitModalStatus: boolean;\n  requesting_exam_marks: boolean;\n  total_exam_marks: number | null;\n}\n\nexport interface newAnswer {\n  question_id: string | null;\n  user_answers: question_answer | null;\n}\n\nclass _DoEam extends Component<DoExamProps, DoExamState> {\n  constructor(props: DoExamProps) {\n    super(props);\n\n    this.state = {\n      windowStatus: {\n        profile: false,\n        questionsList: false,\n      },\n      selectedQuestion:\n        this.props.doExam.exam_answers !== null\n          ? this.props.doExam.exam_answers?.exam_questions[0]\n          : null,\n      testAnswers: [],\n      completedTest: false,\n      examStatus: false,\n      loading: false,\n      loadUserExamErr: \"\",\n      submitQuestionAnswer: false,\n      submitWholeExam: false,\n      display_exam: false,\n      changingExamStatus: false,\n      // timer\n      start_exam: false,\n      start_time: \"\",\n      duration: 0,\n      added_minutes: 0,\n      group_id: \"\",\n      inExam: false,\n      submittedExam: false,\n      candidateDetailsProctoring: null,\n      submitModalStatus: false,\n      requesting_exam_marks: false,\n      total_exam_marks: null,\n    };\n  }\n\n  setRequestingExamMarks = (status: boolean) => {\n    this.setState({ requesting_exam_marks: status });\n  };\n  setExamTotalMarks = (marks: number) => {\n    this.setState({ total_exam_marks: marks });\n  };\n\n  setLoading = (status: boolean) => {\n    this.setState({ loading: status });\n  };\n  setSubmitQuestionAnswer = (status: boolean) => {\n    this.setState({ submitQuestionAnswer: status });\n  };\n\n  setProfileWindowStatus = (status: boolean) => {\n    this.setState({\n      windowStatus: {\n        profile: status,\n        questionsList: this.state.windowStatus.questionsList,\n      },\n    });\n  };\n  setQuestionsListWindowStatus = (status: boolean) => {\n    this.setState({\n      windowStatus: {\n        profile: this.state.windowStatus.profile,\n        questionsList: status,\n      },\n    });\n  };\n\n  setSelectedQuestion = (question: exam_question) => {\n    this.setState({ selectedQuestion: question });\n  };\n\n  answerQuestionFn = (answer: QuestionAnswersStore) => {\n    console.log(\"sUBMITT: \", answer);\n    this.props.setExamQuestionAnswer(answer);\n    // console.log(\"Submitted: \", answer);\n  };\n\n  setCompletedTest = (state: boolean) => {\n    this.setState({ completedTest: state });\n  };\n\n  changingExamStatusLoading = (status: boolean) => {\n    this.setState({ changingExamStatus: status });\n  };\n\n  initializeEmptyList = () => {\n    // localStorage.removeItem(ActionTypes.ADD_ANSWER)\n    let testResults = localStorage.getItem(ActionTypes.ADD_ANSWER);\n    if (testResults !== null) {\n      let newData = JSON.parse(testResults!).questionAnswers;\n      if (newData) {\n        if (newData.length > 0) {\n          for (let i in newData) {\n            this.props.addExamAnswer(newData[i]);\n          }\n          if (\n            newData.length ===\n            this.props.doExam.exam_answers?.exam_questions.length\n          ) {\n            this.setState({ completedTest: true });\n            this.props.SubmitExamAnswers(this.props.auth.user.n_id);\n          }\n        }\n      }\n    }\n  };\n\n  examDetails = () => {\n    if (this.props.periods.selected_period !== null) {\n      let check = this.props.candidateExam.selected_exam_details;\n      if (check !== null) {\n        return check;\n      }\n    }\n    return null;\n  };\n\n  checkUserExam = (exam: CandidateExam) => {\n    if (\n      this.props.positions.selected_position !== null &&\n      this.props.candidateExam.selected_exam_details !== null\n    ) {\n      if (this.props.candidateExam.exam_room_details !== null) {\n        // alert(this.props.candidateExam.exam_room_details.district_id)\n        this.props.RequestUserExamDetails(\n          {\n            user: this.props.auth.user.user_id,\n            position: this.props.positions.selected_position.position_id,\n            exam: exam,\n            userExamLocation: {\n              district_id:\n                this.props.candidateExam.exam_room_details.district_id,\n              center_id: this.props.candidateExam.exam_room_details.center_id,\n              room_id: this.props.candidateExam.exam_room_details.room_id,\n            },\n          },\n          this.setLoading,\n          this.setLoadExamResultMessage,\n          this.props.BackToExamination\n        );\n      }\n    }\n  };\n\n  RequestUserExamManually = async (exam_id: string) => {\n    this.setLoading(true);\n    try {\n      const res = await axios.get<CandidateExam>(\n        `${API.DO_EXAM}/exampaper/${exam_id}`\n      );\n      console.log(\"Loaded from bakend: \", res.data);\n      if (res.data && this.props.candidateExam.candidate_exam === null) {\n        this.props.loadCandidateExamFromSupervisor(\n          res.data,\n          this.state.candidateDetailsProctoring !== null &&\n            this.state.candidateDetailsProctoring.user.joined === true\n            ? true\n            : false\n        );\n        this.props.PushPopupAlert({\n          title: \"Success!\",\n          description: \"Exam loaded successfully!\",\n          theme: PopupAlertTheme.success,\n        });\n        this.setLoading(false);\n      }\n    } catch (error) {\n      this.setLoading(false);\n      console.log(\"No exam found!\");\n      this.props.PushPopupAlert({\n        title: \"Error!\",\n        description: \"Failed to load candidate exam\",\n        theme: PopupAlertTheme.danger,\n      });\n    }\n  };\n\n  loadUserProfileDetails = () => {\n    this.setState({\n      loading: true,\n    });\n    this.props.FC_GetProfileDetails(\n      this.props.auth.user.user_id,\n      (status: boolean, msg: string) => {\n        if (status === true) {\n          this.setState({\n            loading: false,\n          });\n        } else {\n          this.setState({\n            loading: false,\n          });\n        }\n      }\n    );\n    this.setState({\n      loading: false,\n    });\n  };\n\n  componentDidMount = () => {\n    if (\n      this.props.auth.user.sex === \"\" ||\n      this.props.auth.user.sex.length === 0\n    ) {\n      this.loadUserProfileDetails();\n    }\n    if (\n      this.props.course.courses === null ||\n      this.props.course.courses.length === 0\n    ) {\n      this.props.loadCourses(this.setLoading);\n    }\n    if (\n      this.props.questionTypes.questionTypes === null ||\n      this.props.questionTypes.questionTypes.length === 0\n    ) {\n      this.props.loadQuestionTypes(this.setLoading);\n    }\n    this.initializeEmptyList();\n    if (\n      this.props.doExam.exam_answers?.exam_questions.length === 0 &&\n      this.props.doExam.exam_answers.exam_questions_answers &&\n      this.props.doExam.exam_answers.exam_questions_answers?.questionAnswers\n        .length > 0\n    ) {\n      this.setState({\n        testAnswers:\n          this.props.doExam.exam_answers.exam_questions_answers\n            ?.questionAnswers,\n      });\n    }\n    // Function to change exam status\n  };\n\n  componentWillUnmount = () => {\n    if (this.props.candidateExam.exam_room_details) {\n      this.props.socket.socket.emit(Events.USER_DISCONNECTED_ONLINE_SERVER, {\n        room_id: this.props.candidateExam.exam_room_details.room_id,\n        user_id: this.props.auth.user.user_id,\n      });\n    }\n  };\n\n  setLoadExamResultNoMessage = (msg: string, status: boolean) => {\n    if (status === false) {\n      this.props.PushPopupAlert({\n        title: \"Error!\",\n        description: msg,\n        theme: PopupAlertTheme.danger,\n      });\n    }\n  };\n\n  setLoadExamResultMessage = (msg: string, status: boolean) => {\n    this.props.PushPopupAlert({\n      title: status === true ? \"Success!\" : \"Error!\",\n      description: msg,\n      theme: status === true ? PopupAlertTheme.success : PopupAlertTheme.danger,\n    });\n    if (status === false && this.props.candidateExam.candidate_exam !== null) {\n      // );\n      let test = this.props.candidateExam.user_exams_done.find(\n        (itm) =>\n          itm.exam_paper ===\n          this.props.candidateExam.candidate_exam?.exam_paper_id\n      );\n      if (test === undefined) {\n        this.props.CleanCandidateExam(\n          this.props.candidateExam.candidate_exam.exam_paper_id\n        );\n      }\n    }\n  };\n\n  SubmitAnswer = () => {\n    if (\n      this.props.candidateExam.candidate_exam !== null &&\n      this.props.candidateExam.question_answers.length > 0\n    ) {\n      let examQuestionIds: string[] = [];\n      for (let temp of this.props.candidateExam.candidate_exam.questions) {\n        examQuestionIds = [...examQuestionIds, temp.question_id];\n      }\n      for (let answer of this.props.candidateExam.question_answers) {\n        let sel_question =\n          this.props.candidateExam.candidate_exam.questions.find(\n            (item) => item.question_id === answer.question_id\n          );\n        if (\n          answer.status === false &&\n          this.props.candidateExam.exam_room_details &&\n          sel_question !== undefined\n        ) {\n          if (\n            questionAnswered(\n              this.props.candidateExam.question_answers,\n              sel_question,\n              findQuestionType(\n                sel_question.type,\n                this.props.questionTypes.questionTypes\n              )!\n            ) === true\n          ) {\n            //Means updated need to be submitted!\n            this.props.SubmitExamQuestionAnswer(\n              {\n                user: this.props.auth.user.user_id,\n                exam_paper:\n                  this.props.candidateExam.candidate_exam.exam_paper_id,\n                // New updates need to be checked\n                position:\n                  this.props.candidateExam.exam_room_details.position\n                    .position_id,\n                disability: this.props.auth.user.disability,\n                fname: this.props.auth.user.fname,\n                lname: this.props.auth.user.lname,\n                gender: this.props.auth.user.sex,\n                email: this.props.auth.user.email,\n                phone_number: this.props.auth.user.phone_number,\n                in_education:\n                  this.props.auth.user.in_education === null\n                    ? false\n                    : this.props.auth.user.in_education,\n                questions_order: examQuestionIds,\n                // End new updates\n                question: answer.question_id,\n                language:\n                  sel_question.question.find(\n                    (itm) =>\n                      itm.language ===\n                      this.props.candidateExam.selected_language\n                  ) === undefined\n                    ? sel_question.question[0].language\n                    : this.props.candidateExam.selected_language,\n                userAnswer: answer.answers,\n                position_code:\n                  this.props.candidateExam.exam_room_details.position\n                    .position_code === null\n                    ? \"\"\n                    : this.props.candidateExam.exam_room_details.position\n                        .position_code,\n              },\n              this.setSubmitQuestionAnswer,\n              this.setLoadExamResultNoMessage\n            );\n          }\n        }\n      }\n    }\n  };\n\n  submitExam = async () => {\n    if (\n      this.props.candidateExam.candidate_exam !== null &&\n      this.props.candidateExam.exam_room_details !== null\n    ) {\n      let exam_id = this.props.candidateExam.candidate_exam.exam_paper_id;\n      let user_id = this.props.auth.user.user_id;\n      this.setState({ submitWholeExam: true });\n      try {\n        const res = await axios.put(\n          `${API.DO_EXAM}/answersheet/submit/${user_id}/${exam_id}`\n        );\n        if (res) {\n          this.doneExam();\n          this.setState({ submittedExam: true });\n          // this.props.CleanCandidateExam(exam_id);\n          // Exit full screen\n          if (document.fullscreenElement) {\n            if (document.exitFullscreen) {\n              document.exitFullscreen();\n            }\n          }\n          this.props.PushPopupAlert({\n            title: \"Success!\",\n            description: \"Exam submitted successfully!\",\n            theme: PopupAlertTheme.success,\n          });\n        }\n      } catch (error: any) {\n        // console.log(\"Submit exam err: \", { ...error });\n        this.props.PushPopupAlert({\n          title: \"Error occured!\",\n          description: errorToText(error),\n          theme: PopupAlertTheme.danger,\n        });\n      }\n      this.setState({ submitWholeExam: false });\n    }\n  };\n\n  setSubmitModal = (status: boolean) => {\n    this.setState({ submitModalStatus: status });\n  };\n\n  startExam = () => {\n    // alert(\"Testing...\" + this.props.candidateExam.selected_exam_id);\n    this.setState({ display_exam: true, start_exam: true });\n    this.props.candidateExam.selected_exam_id !== null &&\n      this.requestExam(\n        this.props.candidateExam.selected_exam_id,\n        (status: boolean, exam: CandidateExam) => {\n          // console.log(\"Testing exam from supervisor: \", exam);\n          console.log(\"Requested exam on socket 1: \", exam);\n\n          if (\n            exam === null &&\n            this.props.candidateExam.selected_exam_id !== null\n          ) {\n            this.RequestUserExamManually(\n              this.props.candidateExam.selected_exam_id\n            );\n          } else {\n            if (status === true) {\n              this.props.loadCandidateExamFromSupervisor(\n                exam,\n                this.state.candidateDetailsProctoring !== null &&\n                  this.state.candidateDetailsProctoring.user.joined === true\n                  ? true\n                  : false\n              );\n            }\n          }\n        }\n      );\n  };\n  pauseExam = () => {\n    this.setState({ display_exam: false, start_exam: false, inExam: false });\n  };\n\n  doneExam = () => {\n    if (\n      this.props.candidateExam.exam_room_details !== null &&\n      this.props.candidateExam.candidate_exam !== null &&\n      this.props.schoolLevels.selectedEducationCategory !== null\n    ) {\n      let room_id = this.props.candidateExam.exam_room_details.room_id;\n\n      let data = {\n        application_session_id:\n          this.props.schoolLevels.selectedEducationCategory.session_plan?._id,\n        description: \"Done the exam\",\n        done_by: \"System\",\n        event_type_id: EventsLabels.DONE_EXAM,\n        exam_id: this.props.candidateExam.candidate_exam.exam_paper_id, //this.props.proctoring.exam.\n        position_id:\n          this.props.candidateExam.exam_room_details.position.position_id,\n        room_id: room_id,\n        time: new Date().toString(),\n        user_id: this.props.auth.user.user_id,\n      } as EventInterface;\n\n      this.props.FC_SaveEvent(data, (status: boolean, error: string) => {});\n      this.props.socket.socket.emit(Events.EXAM_DONE_SERVER, data);\n    }\n  };\n\n  timeOutExam = () => {\n    if (\n      this.props.candidateExam.exam_room_details !== null &&\n      this.props.candidateExam.candidate_exam !== null &&\n      this.props.schoolLevels.selectedEducationCategory !== null\n    ) {\n      let room_id = this.props.candidateExam.exam_room_details.room_id;\n\n      let data = {\n        application_session_id:\n          this.props.schoolLevels.selectedEducationCategory.session_plan?._id,\n        description: \"Time out\",\n        done_by: \"System\",\n        event_type_id: EventsLabels.TIME_OUT,\n        exam_id: this.props.candidateExam.candidate_exam.exam_paper_id, //this.props.proctoring.exam.\n        position_id:\n          this.props.candidateExam.exam_room_details.position.position_id,\n        room_id: room_id,\n        time: new Date().toString(),\n        user_id: this.props.auth.user.user_id,\n      } as EventInterface;\n\n      this.props.FC_SaveEvent(data, (status: boolean, error: string) => {});\n      this.props.socket.socket.emit(Events.TIME_OUT_SERVER, data);\n      this.submitExam();\n      // console.log(\"this.submitExam(); ==> timeOutExam()\");\n    }\n  };\n\n  requestExam = (\n    exam_id: string,\n    getExam: (status: boolean, exam: CandidateExam) => void\n  ) => {\n    console.log(\"Requested exam ID: \", exam_id);\n    this.props.socket.socket.emit(Events.REQUEST_EXAM_SERVER, exam_id, getExam);\n  };\n\n  render() {\n    // Control if user has started the exam\n    if (this.props.candidateExam.selected_exam_id === null) {\n      return <Redirect to=\"/candidate-exams\" />;\n    }\n\n    if (\n      this.state.loading === true ||\n      this.props.candidateExam.exam_room_details === null\n    ) {\n      return (\n        <div className=\"fixed top-0 left-0 z-50 rounded px-4 py-4 bg-gray-200 w-full h-screen flex flex-col items-center justify-center\">\n          <div className=\"bg-white rounded mx-4 my-4 px-4 py-4 w-full h-full\">\n            <div className=\"text-gray-600 text-lg px-4 mb-4\">\n              Loading, Please wait...\n            </div>\n            <Loading />\n          </div>\n        </div>\n      );\n    }\n\n    if (this.state.submitWholeExam === true) {\n      return (\n        <div className=\"fixed top-0 left-0 z-50 rounded px-4 py-4 bg-gray-200 w-full h-screen flex flex-col items-center justify-center\">\n          <div className=\"bg-white rounded mx-4 my-4 px-4 py-4 w-full h-full\">\n            <div className=\"text-gray-600 text-lg px-4 mb-4\">\n              Submitting your exam, Please wait...\n            </div>\n            <Loading />\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"fixed top-0 left-0 z-50 w-full\">\n        <Fragment>\n          {/* {console.log(\"Rules: \")} */}\n          {this.state.inExam === false ? (\n            <div className=\"fixed top-0 left-0 z-50 rounded px-4 py-4 bg-gray-200 w-full h-screen flex flex-col items-center justify-center\">\n              <div className=\"bg-white rounded mx-4 my-4 px-4 py-4 w-full h-full\">\n                <div className=\"text-white text-lg px-4 mb-4\">Confirm</div>\n                <div className=\"flex flex-col items-center justify-center mb-10\">\n                  <Loading />\n                  <div className=\"text-yellow-800 text-xl font-bold my-5\">\n                    Something went wrong, retry again!\n                  </div>\n\n                  <div\n                    onClick={() => window.location.reload()}\n                    className=\"btn bg-yellow-100 text-yellow-800 border border-yellow-600 w-max text-center cursor-pointer\"\n                  >\n                    Click here to reload\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <ProctoringCandidateOnline\n              homeProctoring={false}\n              startExam={() => {\n                this.startExam();\n                this.setState({ start_exam: true });\n              }}\n              restartExam={() => {\n                if (this.props.candidateExam.candidate_exam !== null) {\n                  let id =\n                    this.props.candidateExam.candidate_exam.exam_paper_id;\n                  this.props.CleanCandidateExamAnswers(id);\n\n                  this.props.setExamStatus(\n                    this.props.auth.user.user_id,\n                    id,\n                    UserExamActions.Restart,\n                    \"Exam restarted by supervisor\",\n                    this.changingExamStatusLoading\n                  );\n\n                  // this.props.candidateExam.candidate_exam &&\n                  //   this.props.requestUserAnswers(\n                  //     this.props.candidateExam.candidate_exam.exam_paper_id,\n                  //     this.props.auth.user.user_id,\n                  //     this.setLoading\n                  //   );\n                }\n                this.startExam();\n                this.setState({ start_exam: true });\n                this.setState({ inExam: true });\n              }}\n              stopExam={() => {\n                // EXAM DONE ON WHOLE ROOM\n                // Stop all the room\n                // this.setState({ start_exam: false });\n                // console.log(\"DONE whole room\");\n                this.pauseExam();\n                this.props.candidateExam.candidate_exam !== null &&\n                  this.props.setExamStatus(\n                    this.props.auth.user.user_id,\n                    this.props.candidateExam.candidate_exam.exam_paper_id,\n                    UserExamActions.Done,\n                    \"All candidates ended by supervisor\",\n                    this.changingExamStatusLoading\n                  );\n                this.props.candidateExam.candidate_exam !== null &&\n                  this.props.CleanCandidateExam(\n                    this.props.candidateExam.candidate_exam.exam_paper_id\n                  );\n              }}\n              room_id={this.props.candidateExam.exam_room_details.room_id}\n              exam_id={\n                this.props.candidateExam.candidate_exam === null\n                  ? this.props.candidateExam.selected_exam_id\n                  : this.props.candidateExam.candidate_exam.exam_paper_id\n              }\n              position_id={\n                this.props.candidateExam.exam_room_details.position.position_id\n              }\n              application_session_id={\n                this.props.candidateExam.exam_room_details.period_id\n              }\n              removeClient={() => {\n                // REMOVE INDIVIDUAL\n                this.props.candidateExam.candidate_exam !== null &&\n                  this.props.setExamStatus(\n                    this.props.auth.user.user_id,\n                    this.props.candidateExam.candidate_exam.exam_paper_id,\n                    UserExamActions.Removed,\n                    \"Exam stopped by supervisor\",\n                    this.changingExamStatusLoading\n                  );\n                this.props.candidateExam.candidate_exam !== null &&\n                  this.props.CleanCandidateExam(\n                    this.props.candidateExam.candidate_exam.exam_paper_id\n                  );\n              }}\n              examAlreadyDone={() => {\n                // this.props.candidateExam.candidate_exam &&\n                //   this.props.requestUserAnswers(\n                //     this.props.candidateExam.candidate_exam.exam_paper_id,\n                //     this.props.auth.user.user_id,\n                //     this.setLoading\n                //   );\n                // console.log(\"Exam already done\");\n              }}\n              candidateStopExam={(reason: string) => {\n                // PAUSE\n                // console.log(`candidateStopExam: ${reason}`);\n                // this.pauseExam();\n                // this.props.candidateExam.candidate_exam !== null &&\n                //   this.props.setExamStatus(\n                //     this.props.auth.user.user_id,\n                //     this.props.candidateExam.candidate_exam.exam_paper_id,\n                //     UserExamActions.Paused,\n                //     reason,\n                //     this.changingExamStatusLoading\n                //   );\n              }}\n              candidateContinueExam={(reason: string) => {\n                // console.log(`candidateContinueExam: ${reason}`);\n                // this.props.candidateExam.candidate_exam !== null &&\n                //   this.props.setExamStatus(\n                //     this.props.auth.user.user_id,\n                //     this.props.candidateExam.candidate_exam.exam_paper_id,\n                //     UserExamActions.Continue,\n                //     reason,\n                //     this.changingExamStatusLoading\n                //   );\n\n                // this.props.candidateExam.candidate_exam &&\n                //   this.props.requestUserAnswers(\n                //     this.props.candidateExam.candidate_exam.exam_paper_id,\n                //     this.props.auth.user.user_id,\n                //     this.setLoading\n                //   );\n                this.startExam();\n                this.setState({ start_exam: true });\n                this.setState({ inExam: true });\n              }}\n              joinedRoom={(data: LiveServer__Room) => {\n                // console.log(\"Joined room: \", data);\n                this.setState({\n                  group_id: data.group_id,\n                });\n              }}\n              changeTime={(timer: {\n                duration: number;\n                start_time: string;\n                added_minutes: string;\n              }) => {\n                this.setState({\n                  duration: timer.duration,\n                  start_time: timer.start_time,\n                });\n              }}\n              candidateProctoringDetails={(\n                data: LiveServer__Candidate_Details\n              ) => {\n                this.setState({ candidateDetailsProctoring: data });\n                if (data.user.joined === true) {\n                  this.startExam();\n                  this.props.candidateExam.candidate_exam &&\n                    this.props.requestUserAnswers(\n                      this.props.candidateExam.candidate_exam.exam_paper_id,\n                      this.props.auth.user.user_id,\n                      this.setLoading\n                    );\n                }\n                console.log(\"Joined: \", data.user.joined);\n              }}\n              ejectCandidate={(user_id) => {\n                // window\n              }}\n            >\n              {this.state.start_exam === false ||\n              (this.props.candidateExam.candidate_exam === null &&\n                this.state.inExam === true) ? (\n                // || this.props.proctoring.exam.start_exam === false\n                <div className=\"fixed top-0 left-0 z-50 rounded px-4 py-4 bg-gray-200 w-full h-screen flex flex-col items-center justify-center\">\n                  <div className=\"bg-white rounded mx-4 my-4 px-4 py-4 w-full h-full flex flex-col items-center justify-center\">\n                    <MdInfoOutline className=\"text-9xl text-blue-600\" />\n                    <div className=\"text-gray-700 text-3xl px-4 text-center font-extrabold\">\n                      Please wait for the supervisor\n                    </div>\n                    <div className=\"text-gray-700 text-sm px-4 mb-4 text-center\">\n                      The supervisor will allow you to start your exam, please\n                      wait or contact him/her when forgot to let you start exam!\n                    </div>\n\n                    <Loading />\n                    <div className=\"flex flex-row items-center -mt-2\">\n                      <div\n                        onClick={() => window.location.reload()}\n                        className=\"btn bg-blue-100 text-blue-600 cursor-pointer hover:bg-blue-200 hover:text-blue-808\"\n                      >\n                        Reload page\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ) : this.props.candidateExam.candidate_exam === null ||\n                this.props.candidateExam.candidate_exam === null ||\n                this.props.proctoring.exam.start_exam === false ? (\n                <div className=\"fixed top-0 left-0 z-50 rounded px-4 py-4 bg-gray-200 w-full h-screen flex flex-col items-center justify-center\">\n                  <div className=\"bg-white rounded mx-4 my-4 px-4 py-4 w-full h-full flex flex-col items-center justify-center\">\n                    <MdInfoOutline className=\"text-9xl text-blue-600\" />\n                    <div className=\"text-gray-700 text-3xl px-4 text-center font-extrabold\">\n                      Please wait for the supervisor\n                    </div>\n                    <div className=\"text-gray-700 text-sm px-4 mb-4 text-center\">\n                      The supervisor will allow you to start your exam, please\n                      wait or contact him/her when forgot to let you start exam!\n                    </div>\n\n                    <Loading />\n                    <div className=\"flex flex-row items-center -mt-2\">\n                      <div\n                        onClick={() => window.location.reload()}\n                        className=\"btn bg-blue-100 text-blue-600 cursor-pointer hover:bg-blue-200 hover:text-blue-808\"\n                      >\n                        Reload page\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                <div>\n                  <div className=\"fixed top-0 w-full h-screen bg-blue-900 overflow-y-hidden\">\n                    <div className=\"grid md:grid-cols-12 h-full\">\n                      {this.state.windowStatus.profile === true && (\n                        <div\n                          className={`col-span-6 lg:col-span-2 fixed left-0 md:relative`}\n                        >\n                          <Profile\n                            setProfileWindowStatus={this.setProfileWindowStatus}\n                          />\n                        </div>\n                      )}\n                      <div\n                        className={`col-span-${\n                          this.state.windowStatus.profile === false\n                            ? \"12\"\n                            : \"10\"\n                        } bg-gray-800 shadow-lg h-full`}\n                      >\n                        <div className=\"flex flex-row h-screen bg-gray-800\">\n                          <div className=\"h-full\">\n                            {/* Questions list */}\n                            <div className={`h-full`}>\n                              <QuestionsList\n                                windowStatus={this.state.windowStatus}\n                                setProfileWindowStatus={\n                                  this.setProfileWindowStatus\n                                }\n                                setQuestionsListWindowStatus={\n                                  this.setQuestionsListWindowStatus\n                                }\n                                questionTypes={this.props.questionTypes}\n                                loadQuestionTypes={this.props.loadQuestionTypes}\n                                SubmitAnswer={this.SubmitAnswer}\n                              />\n                            </div>\n                          </div>\n                          <div className=\"w-full h-full\">\n                            {/* Do exam test title */}\n                            <DoExamTitle\n                              room_id={\n                                this.props.candidateExam.exam_room_details\n                                  .room_id\n                              }\n                              submitModalStatus={this.state.submitModalStatus}\n                              setSubmitModal={this.setSubmitModal}\n                              setCompletedTest={this.setCompletedTest}\n                              windowStatus={this.state.windowStatus}\n                              setProfileWindowStatus={\n                                this.setProfileWindowStatus\n                              }\n                              setQuestionsListWindowStatus={\n                                this.setQuestionsListWindowStatus\n                              }\n                              questionTypes={this.props.questionTypes}\n                              loadQuestionTypes={this.props.loadQuestionTypes}\n                              submitQuestionAnswer={\n                                this.state.submitQuestionAnswer\n                              }\n                              submitExam={() => {\n                                this.submitExam();\n                                // console.log(\n                                //   \"this.submitExam() ===> <DoExamTitle />\"\n                                // );\n                              }}\n                              selectedExam={this.props.course.selected_course}\n                              SubmitAnswer={this.SubmitAnswer}\n                              start_time={this.state.start_time}\n                              duration_min={this.state.duration}\n                              timeout={() => this.timeOutExam()}\n                              setRequestingExamMarks={\n                                this.setRequestingExamMarks\n                              }\n                              setExamTotalMarks={this.setExamTotalMarks}\n                            />\n                            {/* Question details */}\n                            <QuestionDetails\n                              questionAnswers={\n                                this.props.doExam.exam_answers\n                                  ?.exam_questions_answers?.questionAnswers\n                              }\n                              answerQuestionFn={this.answerQuestionFn}\n                              selectedQuestion={this.state.selectedQuestion}\n                              setSelectedQuestion={this.setSelectedQuestion}\n                              preview={false}\n                              submitQuestionAnswer={\n                                this.state.submitQuestionAnswer\n                              }\n                              doExam={this.props.doExam}\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <Footer\n                      setSubmitModal={this.setSubmitModal}\n                      windowStatus={this.state.windowStatus}\n                      setProfileWindowStatus={this.setProfileWindowStatus}\n                      setQuestionsListWindowStatus={\n                        this.setQuestionsListWindowStatus\n                      }\n                      questionTypes={this.props.questionTypes}\n                      loadQuestionTypes={this.props.loadQuestionTypes}\n                      SubmitAnswer={this.SubmitAnswer}\n                      submitQuestionAnswer={this.state.submitQuestionAnswer}\n                      setRequestingExamMarks={this.setRequestingExamMarks}\n                      setExamTotalMarks={this.setExamTotalMarks}\n                    />\n                  </div>\n                </div>\n              )}\n            </ProctoringCandidateOnline>\n          )}\n          {this.props.candidateExam.candidate_exam === null &&\n            this.state.inExam === false && (\n              <Modal\n                title=\"\"\n                backDrop={true}\n                theme={Themes.default}\n                close={() => this.props.setSelectedCandidateExam(null)}\n                backDropClose={false}\n                widthSizeClass={ModalSize.extraLarge}\n                displayClose={false}\n                padding={{ title: false }}\n              >\n                <div className=\"rounded px-4 py-4 mx-2 my-2\">\n                  {this.props.course.courses === null ? (\n                    <Loading />\n                  ) : (\n                    <div>\n                      <div className=\"flex flex-row items-center gap-2\">\n                        {/* <div className=\"flex items-center justify-center \">\n                        <IoIosPaper className=\"text-9xl text-blue-600\" />\n                      </div> */}\n                        <div className=\"my-2 w-full\">\n                          <div className=\"text-blue-600 text-2xl font-extrabold mb-2\">\n                            {this.props.course.selected_course && (\n                              <div>\n                                <span>\n                                  {\n                                    this.props.course.selected_course\n                                      .course_code\n                                  }\n                                  -\n                                </span>\n                                <span>\n                                  {\n                                    this.props.course.selected_course\n                                      .course_name\n                                  }\n                                </span>\n                              </div>\n                            )}\n                          </div>\n                          <div className=\"flex flex-row gap-3 text-sm\">\n                            <span className=\"text-gray-600 font-normal\">\n                              Exam date:\n                            </span>\n                            <span className=\"text-blue-600 font-bold\">\n                              {this.examDetails() &&\n                                DATE(\n                                  this.examDetails()!.exam_date,\n                                  \"DD/MM/YYYY\"\n                                )}\n                            </span>\n                          </div>\n                          <div className=\"flex flex-row gap-3 text-sm\">\n                            <span className=\"text-gray-600 font-normal\">\n                              Start time:\n                            </span>\n                            <span className=\"text-blue-600 font-bold\">\n                              {this.examDetails()?.start_time}\n                            </span>\n                          </div>\n                          <div className=\"flex flex-row gap-3 text-sm\">\n                            <span className=\"text-gray-600 font-normal\">\n                              Exam duration:\n                            </span>\n                            {this.examDetails() !== null && (\n                              <span className=\"text-blue-600 font-bold\">\n                                {this.examDetails()!.duration / 60 >= 1 &&\n                                  this.examDetails()!.duration / 60 +\n                                    \" hrs\"}{\" \"}\n                                {this.examDetails()!.duration % 60 > 0 && (\n                                  <span>\n                                    {this.examDetails()!.duration % 60} mins\n                                  </span>\n                                )}\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                      {/* <div className=\"text-blue-600 text-3xl font-extrabold text-center\">Start Exam</div> */}\n                      <div className=\"flex flex-row justify-center items-center\">\n                        {/* <div className=\"text-blue-600 text-xl font-extrabold text-center bg-blue-50 rounded px-2 py-2 w-max\">00:00:00</div> */}\n                      </div>\n                      <div className=\"text-gray-600 font-bold text-l text-center mb-4\">\n                        <div className=\"rounded px-4 py-4 bg-gray-100 my-4 text-sm text-left font-normal\">\n                          <div className=\"text-left text-gray-800 text-xl mb-3 font-extrabold\">\n                            Examination rules\n                          </div>\n                          {this.examDetails() !== null && (\n                            <div\n                              dangerouslySetInnerHTML={{\n                                __html: this.examDetails()!.termes,\n                              }}\n                            ></div>\n                          )}\n                        </div>\n                        <div className=\"rounded px-4 py-4 bg-gray-100 my-4 text-sm text-left font-normal\">\n                          <div className=\"text-left text-gray-800 text-xl mb-3 font-extrabold\">\n                            Exam Proctoring rules\n                          </div>\n                          {this.examDetails() !== null && (\n                            <>\n                              <ProctoringRuleItem\n                                examDetails={this.examDetails}\n                                rule_key=\"right_click_enabled\"\n                              />\n                              <ProctoringRuleItem\n                                examDetails={this.examDetails}\n                                rule_key=\"copy_enabled\"\n                              />\n                              <ProctoringRuleItem\n                                examDetails={this.examDetails}\n                                rule_key=\"paste_enabled\"\n                              />\n                              <ProctoringRuleItem\n                                examDetails={this.examDetails}\n                                rule_key=\"stop_candidate_when_comeback\"\n                              />\n                              <ProctoringRuleItem\n                                examDetails={this.examDetails}\n                                rule_key=\"allow_to_leave_browser\"\n                              />\n                            </>\n                          )}\n                        </div>\n                        <span className=\"text-blue-700\">\n                          If you are ready, click to start the exam now, The\n                          system will start to count your time!\n                        </span>\n                      </div>\n                      <div className=\"flex flex-row items-center justify-between mt-2\">\n                        <button\n                          onClick={() =>\n                            this.props.setSelectedCandidateExam(null)\n                          }\n                          className=\"btn bg-gray-50 text-gray-600 border\"\n                        >\n                          Go Back\n                        </button>\n                        <button\n                          onClick={() => {\n                            // alert(\n                            //   \"Requested...\" +\n                            //     this.props.candidateExam.selected_exam_id\n                            // );\n                            this.setState({ inExam: true });\n                            this.props.candidateExam.selected_exam_id !==\n                              null &&\n                              this.requestExam(\n                                this.props.candidateExam.selected_exam_id,\n                                (status: boolean, exam: CandidateExam) => {\n                                  console.log(\n                                    \"Requested exam on socket 2: \",\n                                    exam\n                                  );\n\n                                  if (\n                                    exam === null &&\n                                    this.props.candidateExam\n                                      .selected_exam_id !== null\n                                  ) {\n                                    this.RequestUserExamManually(\n                                      this.props.candidateExam.selected_exam_id\n                                    );\n                                  } else {\n                                    if (status === true) {\n                                      this.props.loadCandidateExamFromSupervisor(\n                                        exam,\n                                        this.state\n                                          .candidateDetailsProctoring !==\n                                          null &&\n                                          this.state.candidateDetailsProctoring\n                                            .user.joined === true\n                                          ? true\n                                          : false\n                                      );\n                                    }\n                                  }\n                                }\n                              );\n                          }}\n                          className=\"btn bg-blue-600 text-white\"\n                        >\n                          I accept, Start exam\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </Modal>\n            )}\n          {this.state.submittedExam === true && (\n            <Modal\n              title=\"\"\n              backDrop={true}\n              theme={Themes.default}\n              close={() => this.props.setSelectedCandidateExam(null)}\n              backDropClose={false}\n              widthSizeClass={ModalSize.medium}\n              displayClose={false}\n              padding={{ title: false }}\n            >\n              {this.state.requesting_exam_marks === true ||\n              this.state.total_exam_marks === null ? (\n                <div className=\"p-3 py-10 border bg-white rounded-Modal flex flex-col items-center justify-center\">\n                  <Loading />\n                  <div className=\"text-3xl font-light text-black text-center mt-1\">\n                    Calculating your total marks...\n                  </div>\n                </div>\n              ) : (\n                <div className=\"px-5 py-5\">\n                  <div className=\"flex flex-row items-center justify-center\">\n                    <MdCheckCircle className=\"text-7xl text-blue-600\" />\n                  </div>\n                  <div className=\"flex flex-row items-center justify-center\">\n                    <span className=\"text-3xl font-extrabold text-blue-600 text-center\">\n                      Exam submitted, your percentage score is\n                    </span>\n                  </div>\n                  <div className=\"flex flex-col items-center justify-center\">\n                    <div\n                      className={`${\n                        this.state.total_exam_marks > 50\n                          ? \"bg-green-600 border-2 border-green-700\"\n                          : \"bg-blue-600 border-2 border-blue-700\"\n                      } text-white flex items-center justify-center p-3 rounded-xl text-6xl font-extrabold`}\n                    >\n                      {this.state.total_exam_marks}\n                    </div>\n                  </div>\n                  <div className=\"flex flex-row items-center justify-center mt-3 mb-5\">\n                    <span className=\"text-center text-gray-500\">\n                      Thank you for attending the exam, Your exam has been\n                      submitted successfully!, click continue to the\n                      applications list, you will open the application to view\n                      your score right now.\n                    </span>\n                  </div>\n                  <div className=\"flex flex-row items-center justify-center\">\n                    <div\n                      onClick={() => {\n                        this.setState({ submittedExam: false });\n                        if (document.fullscreenElement) {\n                          if (document.exitFullscreen) {\n                            document.exitFullscreen();\n                          }\n                        }\n                        this.props.candidateExam.candidate_exam &&\n                          this.props.CleanCandidateExam(\n                            this.props.candidateExam.candidate_exam\n                              .exam_paper_id\n                          );\n                        window.location.reload();\n                      }}\n                      className=\"btn bg-blue-100 text-blue-700 rounded w-max cursor-pointer\"\n                    >\n                      Continue to exams list\n                    </div>\n                  </div>\n                </div>\n              )}\n            </Modal>\n          )}\n        </Fragment>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  doExam,\n  candidateExam,\n  system,\n  course,\n  periods,\n  questionTypes,\n  positions,\n  socket,\n  proctoring,\n  schoolLevels,\n}: StoreState): {\n  auth: Auth;\n  doExam: examDataInterface;\n  candidateExam: candidateExamStoreInterface;\n  system: System;\n  course: courseStoreInterface;\n  periods: applicationPeriodsStoreInterface;\n  questionTypes: questionTypesStoreInterface;\n  positions: positionsStoreInterface;\n  socket: Socket;\n  proctoring: Proctoring;\n  schoolLevels: schoolLevelsStoreInterface;\n} => {\n  return {\n    auth: auth,\n    doExam: doExam,\n    candidateExam: candidateExam,\n    system: system,\n    course: course,\n    periods: periods,\n    questionTypes: questionTypes,\n    positions: positions,\n    socket,\n    proctoring,\n    schoolLevels,\n  };\n};\n\nexport const DoExam = connect(mapStateToProps, {\n  loadExam,\n  addExamAnswer,\n  deleteExamAnswers,\n  SubmitExamAnswers,\n  ChangeExamStatus,\n  setSelectedCandidateExam,\n  loadCandidateExam,\n  setSelectedExamQuestion,\n  loadCourses,\n  setSelectedPeriod,\n  setExamQuestionAnswer,\n  loadQuestionTypes,\n  RequestUserExamDetails,\n  PushPopupAlert,\n  CleanCandidateExam,\n  SubmitExamQuestionAnswer,\n  GetUserExamDetails,\n  BackToExamination,\n  setExamStatus,\n  FC_SaveEvent,\n  FC_AddRules,\n  CleanCandidateExamAnswers,\n  loadCandidateExamFromSupervisor,\n  requestUserAnswers,\n  FC_GetProfileDetails,\n})(_DoEam);\n","export default __webpack_public_path__ + \"static/media/profile.a9136072.png\";","// import moment, { duration } from \"moment\";\nimport moment, { duration } from \"moment-timezone\";\n\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Auth, Proctoring, Socket } from \"../../actions\";\nimport { EventInterface, Events, StartExam_Callback } from \"../../interfaces\";\nimport { StoreState } from \"../../reducers\";\nimport { TimeZone } from \"../../utils/app.config\";\n\nmoment.tz.add(\"Kigali/Africa|PST PDT|80 70|0101|1Lzm0 1zb0 Op0\");\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n  proctoring: Proctoring;\n  room_id: string;\n  timeout: Function;\n\n  returnString?: boolean;\n  separator?: string;\n  labels?: boolean;\n  days?: boolean;\n  socket: Socket;\n}\n\ninterface AppState {\n  loading: boolean;\n  days: number;\n  hours: number;\n  mins: number;\n  secs: number;\n  start_time: Date | null;\n  duration: number;\n  stop_time: any;\n  error: boolean;\n}\n\nclass _CountDown extends React.Component<AppProps, AppState> {\n  interval: any;\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      days: 0,\n      hours: 0,\n      mins: 0,\n      secs: 0,\n      start_time: null,\n      duration: 0,\n      stop_time: null,\n      error: false,\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.startOnlineTimer();\n    }, 1000);\n\n    // * CONTINUE EXAM\n    this.props.socket.socket.on(\n      Events.ADD_TIME_TO_CANDIDATE_CLIENT,\n      (data: any, event: EventInterface) => {\n        if (event.user_id === this.props.auth.user.user_id) {\n          this.startOnlineTimer();\n        }\n      }\n    );\n  }\n\n  startOnlineTimer() {\n    this.props.socket.socket.emit(\n      Events.GET_ROOM_TIME,\n      {\n        user_id: this.props.auth.user.user_id,\n        room_id: this.props.room_id,\n      },\n      (res: StartExam_Callback | null) => {\n        if (res === null) return this.setState({ error: true });\n        console.log({\n          TimerCountDownResult: res,\n        });\n\n        // compute the dates and start running the functions\n        if (res.remaining_minutes === 0) {\n          return this.setState({\n            days: 0,\n            hours: 0,\n            mins: 0,\n            secs: 0,\n          });\n        } else {\n          let examStopTime = moment().add(res.remaining_minutes, \"minutes\");\n\n          console.log({\n            examStopTime,\n          });\n\n          this.setState({\n            stop_time: examStopTime,\n          });\n          this.setCountdowm();\n          this.timeOutCounter();\n\n          // Count down\n          //   this.setCountdowmDates(examStopTime);\n        }\n      }\n    );\n  }\n\n  timeOutCounter = () => {\n    this.interval = setInterval(() => {\n      this.setCountdowm();\n      if (this.state.hours < 0 || this.state.mins < 0 || this.state.secs < 0) {\n        this.props.timeout();\n        clearInterval(this.interval);\n        this.setState({\n          days: 0,\n          hours: 0,\n          mins: 0,\n          secs: 0,\n        });\n      }\n    }, 1000);\n  };\n\n  //   componentDidUpdate(prevProps: AppProps, prevState: AppState): void {\n  //     if (\n  //       prevProps.duration_min !== this.props.duration_min ||\n  //       prevProps.start_time !== this.props.start_time\n  //     ) {\n  //       clearInterval(this.interval);\n  //       this.setState({\n  //         duration: this.props.duration_min,\n  //         start_time: this.props.start_time,\n  //       });\n  //       this.timeOutCounter();\n  //     }\n  //   }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n\n    // this.props.socket.socket.off(Events.GET_ROOM_TIME);\n  }\n\n  formatStyle(value: number): string {\n    return value <= 9 ? `0${value}` : value + \"\";\n  }\n\n  setCountdowm() {\n    const futureDate = moment(this.state.stop_time);\n\n    const today = moment();\n    const clockDuration = duration(futureDate.diff(today));\n\n    const days = Math.floor(clockDuration.asDays());\n    const hours = clockDuration.hours();\n    const mins = clockDuration.minutes();\n    const secs = clockDuration.seconds();\n\n    this.setState({ days, hours, mins, secs });\n  }\n\n  render() {\n    if (this.state.error === true) return null;\n    if (\n      this.props.returnString === undefined ||\n      this.props.returnString === false\n    ) {\n      return (\n        <div className=\"flex items-center\">\n          {this.props.days !== undefined && this.props.days !== false && (\n            <div className=\"m-0 p-0\">\n              {this.props.labels !== undefined &&\n                this.props.labels !== false && (\n                  <span className=\"m-0 text-xs opacity-80\">Days</span>\n                )}\n              <p className=\"m-0  timer-count-down -mt-2\">\n                {this.formatStyle(this.state.days)}\n                {this.props.separator === undefined\n                  ? \":\"\n                  : this.props.separator}\n              </p>\n            </div>\n          )}\n          <div>\n            {this.props.labels !== undefined && this.props.labels !== false && (\n              <span className=\"m-0 text-xs opacity-80\">Hours</span>\n            )}\n            <p className=\"m-0  timer-count-down -mt-2\">\n              {this.formatStyle(this.state.hours)}\n              {this.props.separator === undefined ? \":\" : this.props.separator}\n            </p>\n          </div>\n\n          <div>\n            {this.props.labels !== undefined && this.props.labels !== false && (\n              <span className=\"m-0 text-xs opacity-80\">Min</span>\n            )}\n            <p className=\"m-0  timer-count-down -mt-2\">\n              {this.formatStyle(this.state.mins)}\n              {this.props.separator === undefined ? \":\" : this.props.separator}\n            </p>\n          </div>\n\n          <div>\n            {this.props.labels !== undefined && this.props.labels !== false && (\n              <span className=\"m-0 text-xs opacity-80\">Sec</span>\n            )}\n            <p className=\"m-0  timer-count-down -mt-2\">\n              {this.formatStyle(this.state.secs)}\n            </p>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <span className=\"timer-count-down\">\n          {(this.props.days !== undefined || this.props.days !== false) && (\n            <span>\n              {this.formatStyle(this.state.days)}\n              {this.props.separator === undefined ? \":\" : this.props.separator}\n            </span>\n          )}\n          <span>{this.formatStyle(this.state.hours)}</span>\n          {this.props.separator === undefined ? \":\" : this.props.separator}\n          <span>{this.formatStyle(this.state.mins)}</span>\n          {this.props.separator === undefined ? \":\" : this.props.separator}\n          <span>{this.formatStyle(this.state.secs)}</span>\n        </span>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  socket,\n  proctoring,\n}: StoreState): { auth: Auth; socket: Socket; proctoring: Proctoring } => {\n  return { auth: auth, socket: socket, proctoring: proctoring };\n};\n\nexport const CountDownLive = connect(mapStateToProps, {})(_CountDown);\n"],"sourceRoot":""}