(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[51],{1314:function(e,t,s){"use strict";s.r(t),s.d(t,"ValidationDashboard",(function(){return C}));var a=s(5),c=s.n(a),l=s(2),n=s(7),i=s(25),r=s(24),o=s(27),d=s(26),u=s(10),j=s.n(u),b=s(4),h=s(124),x=s(31),p=s(125),m=s(23),v=s(40),O=s(3),f=s(33),g=s(8),N=s(14),y=s(28),_=s(1),w=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).getValidationData=function(){var e=Object(n.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0,success:"",error:""}),e.prev=1,e.next=4,j.a.get("".concat(g.a.APPLICATION,"/counter/validator"));case 4:200===(s=e.sent).status&&(a.setState({data:s.data.filter((function(e){return null!==e._id})).sort((function(e,t){return e.count<t.count?1:t.count<e.count?-1:0})),loading:!1}),s.data.map((function(e){return a.setState({total_documents:a.state.total_documents+e.count})})),s.data.filter((function(e){return null!==e._id})).map((function(e){return a.setState({total_documents_validated:a.state.total_documents_validated+e.count})}))),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),a.setState({data:[],loading:!1}),console.log("Error: ",Object(l.a)({},e.t0)),alert("Err:"+Object(N.a)(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){null===a.state.data&&null!==a.props.schoolLevels.selectedEducationCategory&&a.getValidationData(a.props.schoolLevels.selectedEducationCategory)},a.state={loading:!1,success:"",error:"",data:null,total_documents:0,total_documents_validated:0,searchData:""},a}return Object(r.a)(s,[{key:"render",value:function(){var e,t,s=this;return Object(_.jsxs)("div",{children:[null!==this.props.schoolLevels.selectedEducationCategory&&Object(_.jsx)("div",{className:"bg-white rounded mt-2",children:Object(_.jsxs)("div",{className:"border-b border-blue-300 p-3 flex flex-row items-center gap-2 justify-between w-full",children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"text-3xl font-light",children:"Documents validation Dashboard"}),Object(_.jsxs)("div",{className:"text-lg font-bold text-blue-600 flex flex-row items-center gap-3 cursor-pointer hover:underline",children:[Object(_.jsx)("span",{className:"uppercase",children:this.props.schoolLevels.selectedEducationCategory.education_category_title}),"-",Object(_.jsx)("span",{children:this.props.schoolLevels.selectedEducationCategory.description})]})]}),Object(_.jsx)("div",{})]})}),!1===this.props.schoolLevels.showInstitutes&&null===this.props.schoolLevels.selectedEducationCategory&&Object(_.jsx)("div",{className:"bg-white rounded mt-2 p-4",children:Object(_.jsxs)("div",{className:"flex flex-col items-center justify-center w-full gap-2",children:[Object(_.jsx)("div",{className:"text-3xl font-light mb-4",children:"Please choose institution"}),Object(_.jsx)("div",{className:"flex flex-row items-center justify-center gap-4 w-full",children:null===this.props.schoolLevels.education_categories?Object(_.jsx)(f.a,{}):this.props.schoolLevels.education_categories.map((function(e,t){return Object(_.jsxs)("div",{title:"Click to choose the institution",className:"bg-blue-100 hover:bg-blue-200 rounded-lg flex flex-col items-center justify-center p-3 py-5 w-full cursor-pointer group",onClick:function(){s.props.setSelectedEducationCategory(e),s.getValidationData(e)},children:[Object(_.jsx)("div",{className:"uppercase text-4xl font-extrabold text-blue-600 group-hover:text-blue-700",children:e.education_category_title}),Object(_.jsx)("div",{className:"group-hover:text-blue-600",children:e.description}),Object(_.jsx)("div",{className:"mt-2",children:Object(_.jsx)(p.a,{className:"text-3xl text-blue-300 group-hover:text-blue-600"})})]},t+1)}))})]})}),null!==this.state.data&&Object(_.jsx)("div",{className:"bg-white rounded p-2",children:Object(_.jsxs)("div",{className:"grid grid-cols-6 gap-3",children:[Object(_.jsx)("div",{className:"cols-span-1",children:Object(_.jsxs)("div",{className:"bg-blue-100 rounded-md p-3",children:[Object(_.jsx)("div",{className:"text-blue-600",children:"Total documents"}),Object(_.jsx)("div",{className:"font-extrabold text-3xl",children:Object(y.g)(this.state.total_documents)})]})}),Object(_.jsx)("div",{className:"cols-span-1",children:Object(_.jsxs)("div",{className:"bg-blue-100 rounded-md p-3",children:[Object(_.jsx)("div",{className:"text-blue-600",children:"Validated documents"}),Object(_.jsx)("div",{className:"font-extrabold text-3xl",children:Object(y.g)(this.state.total_documents_validated)})]})}),Object(_.jsx)("div",{className:"col-span-3",children:Object(_.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(_.jsx)("div",{children:Object(_.jsx)(x.e,{className:"text-7xl text-blue-200"})}),Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"text-gray-500",children:"Highest evaluator"}),Object(_.jsxs)("div",{className:"font-extrabold text-xl",children:[null===(e=this.state.data[0].user_info)||void 0===e?void 0:e.user_info.fname," ",null===(t=this.state.data[0].user_info)||void 0===t?void 0:t.user_info.lname]}),Object(_.jsx)("div",{className:"font-extrabold text-xl text-blue-600 border border-blue-600 rounded-md w-max px-2",children:Object(y.g)(this.state.data[0].count)})]})]})}),Object(_.jsx)("div",{className:"col-span-1",children:Object(_.jsxs)(v.b,{to:"/document-validation",className:"flex items-center gap-3 btn bg-blue-100 text-black cursor-pointer text-base",children:[Object(_.jsx)("div",{children:Object(_.jsx)(h.d,{className:"text-4xl"})}),Object(_.jsx)("span",{children:"Continue evaluation"})]})})]})}),null!==this.state.data&&!0!==this.state.loading||null===this.props.schoolLevels.selectedEducationCategory?null!==this.state.data&&0===this.state.data.length?Object(_.jsx)("div",{className:"bg-white p-3 text-center text-3xl font-light",children:"No data found!"}):Object(_.jsx)("div",{className:"bg-white mt-2 rounded p-1",children:Object(_.jsxs)("table",{className:"w-full",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{className:"bg-blue-50 border-b border-blue-300 text-left",children:[Object(_.jsx)("th",{className:"py-1 px-2",children:"#"}),Object(_.jsx)("th",{className:"py-1 px-2",children:"Evaluator"}),Object(_.jsx)("th",{className:"py-1 px-2",children:"Gender"}),Object(_.jsx)("th",{className:"py-1 px-2",children:"Phone number"}),Object(_.jsx)("th",{className:"py-1 px-2",children:"Email"}),Object(_.jsx)("th",{className:"py-1 px-2",children:"Evaluated docs"})]})}),Object(_.jsxs)("tbody",{children:[Object(_.jsx)("tr",{children:Object(_.jsx)("td",{colSpan:6,children:Object(_.jsx)("input",{onChange:function(e){return s.setState({searchData:e.target.value})},value:this.state.searchData,className:"border border-gray-400 w-full px-3 py-2 rounded my-2"})})}),null!==this.state.data&&Object(y.n)(this.state.data,this.state.searchData).map((function(e,t){var s,a,c,l,n;return Object(_.jsxs)("tr",{className:"border-b hover:bg-blue-50",children:[Object(_.jsx)("td",{className:"py-1 px-2",children:t+1}),Object(_.jsxs)("td",{className:"py-1 px-2",children:[null===(s=e.user_info)||void 0===s?void 0:s.user_info.fname," ",null===(a=e.user_info)||void 0===a?void 0:a.user_info.lname]}),Object(_.jsx)("td",{className:"py-1 px-2",children:null===(c=e.user_info)||void 0===c?void 0:c.user_info.sex}),Object(_.jsx)("td",{className:"py-1 px-2",children:null===(l=e.user_info)||void 0===l?void 0:l.phone_number}),Object(_.jsx)("td",{className:"py-1 px-2",children:null===(n=e.user_info)||void 0===n?void 0:n.email}),Object(_.jsx)("td",{className:"py-1 px-2",children:Object(y.g)(e.count)})]},t+1)}))]})]})}):Object(_.jsx)("div",{className:"bg-white p-2 rounded",children:Object(_.jsx)(f.a,{})})]})}}]),s}(b.Component),C=Object(m.b)((function(e){return{auth:e.auth,schoolLevels:e.schoolLevels}}),{setSelectedEducationCategory:O.gd,setShowInstitutes:O.od,loadEducationCategories:O.Ic,loadSchoolLevels:O.Qc})(w)}}]);
//# sourceMappingURL=51.e2fb6695.chunk.js.map