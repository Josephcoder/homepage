(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[57],{1326:function(e,t,s){"use strict";s.r(t),s.d(t,"distinctDistrict",(function(){return E})),s.d(t,"distinctCenter",(function(){return A})),s.d(t,"distinctRoom",(function(){return D})),s.d(t,"Locations",(function(){return S}));var c=s(17),i=s(4),n=s.n(i),r=s(123),a=s(31),l=s(23),o=s(205),d=s(721),u=s(5),b=s.n(u),j=s(7),x=s(10),p=s.n(x),h=s(9),m=s(209),O=s(21),f=s(14),_=s(162),g=s(19),v=s(32),y=s(1),T=n.a.memo(Object(l.b)(null,{FC_CreateDistrict:o.b,FC_UpdateDistrict:o.m,FC_DeleteDistrict:o.g,PushPopupAlert:m.c})((function(e){var t=Object(i.useState)(""),s=Object(c.a)(t,2),n=s[0],r=s[1],a=Object(i.useState)(0),l=Object(c.a)(a,2),o=l[0],d=l[1],u=Object(i.useState)(null),x=Object(c.a)(u,2),m=x[0],T=x[1],N=function(){var t=Object(j.a)(b.a.mark((function t(){var s,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(v.f)(n)){t.next=2;break}return t.abrupt("return",T({element:"district_name",msg:"District name is required"}));case 2:if(!(o<=0)){t.next=4;break}return t.abrupt("return",T({element:"district_code",msg:"Invalid district code, code must be greater than 0"}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_DISTRICT"!==e.actionTypes){t.next=13;break}return t.next=9,p.a.post("".concat(h.a.APPLICATION,"/district"),{province_id:e.thisProvince._id,province_code:e.thisProvince.province_code,district_name:n,district_code:o,centers:[]});case 9:(s=t.sent).data&&(console.log({province_id:e.thisProvince._id,data:s.data.data,res:s}),e.FC_CreateDistrict({province_id:e.thisProvince._id,data:{centers:s.data.data.centers,sectors:s.data.data.sectors,province_code:s.data.data.province_code,province_id:s.data.data.province_id,district_code:s.data.data.district_code,district_name:s.data.data.district_name,district_id:s.data.data._id}}),e.PushPopupAlert({title:"New district created successfully",theme:O.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r(""),d(0)),t.next=19;break;case 13:if(!e.thisDistrict||"UPDATE_DISTRICT"!==e.actionTypes){t.next=19;break}return c=e.thisDistrict.centers.map((function(e){return e._id})),t.next=17,p.a.patch("".concat(h.a.APPLICATION,"/district"),{district_id:e.thisDistrict._id,province_code:e.thisProvince.province_code,district_name:n,district_code:o,centers:c});case 17:(s=t.sent).data&&(e.FC_UpdateDistrict({province_id:e.thisProvince._id,district_id:e.thisDistrict._id,district_name:n}),e.PushPopupAlert({title:"District updated successfully",theme:O.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r(""),e.setThisDistrict(null));case 19:t.next=26;break;case 21:t.prev=21,t.t0=t.catch(5),console.log({doc_category_error:t.t0}),e.PushPopupAlert({title:Object(f.a)(t.t0),theme:O.a.danger}),e.setLoadingRequest(!1);case 26:case"end":return t.stop()}}),t,null,[[5,21]])})));return function(){return t.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"w-full p-2",children:[e.thisProvince.districts.length>0?Object(y.jsx)("div",{className:"rounded border border-gray-100 shadow-sm animate__animated animate__fadeIn",children:Object(y.jsxs)("table",{className:"w-full z-0",children:[Object(y.jsx)("thead",{className:"bg-gray-50",children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(y.jsx)("th",{children:"District name"}),Object(y.jsx)("th",{children:"District code"}),Object(y.jsx)("th",{children:"Sectors"})]})}),Object(y.jsx)("tbody",{className:"text-base",children:e.thisProvince.districts.map((function(e,t){return Object(y.jsxs)("tr",{className:"text-left border-b border-gray-50",children:[Object(y.jsx)("td",{className:"px-3 py-1",children:t+1}),Object(y.jsx)("td",{children:e.district_name}),Object(y.jsx)("td",{children:e.district_code}),Object(y.jsx)("td",{children:e.sectors&&e.sectors.length>0?e.sectors.length+" Sector(s)":""})]},t+e._id)}))})]})}):Object(y.jsx)(_.b,{theme:_.a.Dark,value:"No district found!",component:Object(y.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(y.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(y.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_DISTRICT")},className:"underline text-gray-500 cursor-pointer",children:"Add district"})})})}),e.actionTypes&&("CREATE_DISTRICT"===e.actionTypes||"UPDATE_DISTRICT"===e.actionTypes)&&Object(y.jsx)(g.d,{backDrop:!0,theme:g.c.default,close:function(){e.setActionTypes(null),r(""),d(10),T(null)},displayClose:!1,backDropClose:!1,title:Object(y.jsx)("div",{className:"flex items-center space-x-5",children:Object(y.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(y.jsx)("h2",{className:"uppercase text-back",children:"CREATE_DISTRICT"===e.actionTypes?"CREATING NEW DISTRICT":"UPDATE_DISTRICT"===e.actionTypes&&"UPDATING EXISTING DISTRICT"})})}),widthSizeClass:g.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(y.jsxs)("div",{className:"mx-5 mb-4",children:[Object(y.jsxs)("div",{className:"py-2 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("label",{children:"District name"}),Object(y.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(m&&"district_name"===m.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){m&&"district_name"===m.element&&T(null),r(e.target.value)},value:n,disabled:e.loadingRequest}),m&&"district_name"===m.element&&Object(y.jsx)("span",{className:"text-red-700",children:m.msg})]}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("label",{children:"District code"}),Object(y.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(m&&"district_code"===m.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){m&&"district_code"===m.element&&T(null),d(Number(e.target.value))},value:o,disabled:e.loadingRequest}),m&&"district_code"===m.element&&Object(y.jsx)("span",{className:"text-red-700",children:m.msg})]})]}),Object(y.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(y.jsx)("button",{onClick:function(){e.setActionTypes(null),r(""),d(10),T(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(y.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return N()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),N=s(68),C=n.a.memo(Object(l.b)(null,{FC_CreateProvince:o.c,FC_UpdateProvince:o.n,FC_DeleteProvince:o.h,PushPopupAlert:m.c})((function(e){var t=Object(i.useState)(""),s=Object(c.a)(t,2),n=s[0],r=s[1],a=Object(i.useState)(0),l=Object(c.a)(a,2),o=l[0],d=l[1],u=Object(i.useState)(null),x=Object(c.a)(u,2),m=x[0],T=x[1],C=function(){var t=Object(j.a)(b.a.mark((function t(){var s,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(v.f)(n)){t.next=2;break}return t.abrupt("return",T({element:"province_title",msg:"Title of Province is required"}));case 2:if(!(o<=0)){t.next=4;break}return t.abrupt("return",T({element:"province_code",msg:"Code of Province is required"}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_PROVINCE"!==e.actionTypes){t.next=13;break}return t.next=9,p.a.post("".concat(h.a.APPLICATION,"/province"),{province_name:n,province_code:o,districts:[]});case 9:(s=t.sent).data&&(e.FC_CreateProvince(s.data.data),e.PushPopupAlert({title:"New Province created successfully",theme:O.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r("")),t.next=19;break;case 13:if(!e.thisProvince||"UPDATE_PROVINCE"!==e.actionTypes){t.next=19;break}return c=e.thisProvince.districts.map((function(e){return e._id})),t.next=17,p.a.patch("".concat(h.a.APPLICATION,"/province"),{province_id:e.thisProvince._id,province_name:n,province_code:o,districts:c});case 17:(s=t.sent).data&&(console.log({res:s.data.updated}),e.FC_UpdateProvince(s.data.updated),e.PushPopupAlert({title:"Province updated successfully",theme:O.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r(""),e.setThisProvince(null));case 19:t.next=26;break;case 21:t.prev=21,t.t0=t.catch(5),console.error({province_error:t.t0}),e.PushPopupAlert({title:Object(f.a)(t.t0),theme:O.a.danger}),e.setLoadingRequest(!1);case 26:case"end":return t.stop()}}),t,null,[[5,21]])})));return function(){return t.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"w-full p-2",children:[e.locations.length>0?e.locations.map((function(t,s){return Object(y.jsxs)("div",{className:"flex justify-between items-center p-2 mb-3 rounded border border-gray-100 shadow",children:[Object(y.jsx)("div",{className:"flex items-center",children:Object(y.jsxs)("div",{className:"ml-2",children:[Object(y.jsx)("div",{className:"text-xl font-semibold text-gray-600",children:t.province_name}),Object(y.jsx)("div",{className:"text-sm font-light text-gray-500",children:t.districts.length>0?t.districts.length+"District(s)":null})]})}),Object(y.jsx)("div",{className:"flex items-center gap-2",children:Object(y.jsx)("button",{title:e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?"Close Districts":"View Districts",className:"".concat(e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?"bg-gray-500 hover:bg-gray-600":"bg-gray-400 hover:bg-gray-500"," p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none"),onClick:function(){e.thisProvince&&e.thisProvince._id===t._id?e.setThisProvince(null):e.setThisProvince(t),r(""),e.setActionTypes(null)},children:e.thisProvince&&e.thisProvince._id===t._id&&"UPDATE_PROVINCE"!==e.actionTypes?Object(y.jsx)(N.k,{className:"text-white w-4 h-4"}):Object(y.jsx)(N.j,{className:"text-white w-4 h-4"})})})]},s+t._id)})):Object(y.jsx)(_.b,{theme:_.a.Dark,value:"No province found!",component:Object(y.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(y.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(y.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_PROVINCE")},className:"underline text-gray-500 cursor-pointer",children:"Add province"})})})}),e.actionTypes&&("CREATE_PROVINCE"===e.actionTypes||"UPDATE_PROVINCE"===e.actionTypes)&&Object(y.jsx)(g.d,{backDrop:!0,theme:g.c.default,close:function(){e.setActionTypes(null),r(""),d(0),T(null)},displayClose:!1,backDropClose:!1,title:Object(y.jsx)("div",{className:"flex items-center space-x-5",children:Object(y.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(y.jsx)("h2",{className:"uppercase text-back",children:"CREATE_PROVINCE"===e.actionTypes?"CREATING NEW PROVINCE":"UPDATE_PROVINCE"===e.actionTypes&&"UPDATING EXISTING PROVINCE"})})}),widthSizeClass:g.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(y.jsxs)("div",{className:"mx-5 mb-4",children:[Object(y.jsxs)("div",{className:"py-2 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("label",{children:"Province name"}),Object(y.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(m&&"province_title"===m.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){m&&"province_title"===m.element&&T(null),r(e.target.value)},value:n,disabled:e.loadingRequest}),m&&"province_title"===m.element&&Object(y.jsx)("span",{className:"text-red-700",children:m.msg})]}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("label",{children:"Province code"}),Object(y.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(m&&"province_code"===m.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){m&&"province_code"===m.element&&T(null),d(Number(e.target.value))},value:o,disabled:e.loadingRequest}),m&&"province_code"===m.element&&Object(y.jsx)("span",{className:"text-red-700",children:m.msg})]})]}),Object(y.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(y.jsx)("button",{onClick:function(){e.setActionTypes(null),r(""),d(0),T(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(y.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return C()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),P=s(11),R=n.a.memo(Object(l.b)(null,{FC_CreateSector:o.e,FC_UpdateSector:o.p,FC_DeleteSector:o.j,PushPopupAlert:m.c})((function(e){var t=Object(i.useState)(""),s=Object(c.a)(t,2),n=s[0],r=s[1],a=Object(i.useState)(0),l=Object(c.a)(a,2),o=l[0],d=l[1],u=Object(i.useState)(null),x=Object(c.a)(u,2),m=x[0],T=x[1],N=function(){var t=Object(j.a)(b.a.mark((function t(){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(v.f)(n)){t.next=2;break}return t.abrupt("return",T({element:"sector_name",msg:"Sector name is required"}));case 2:if(!(o<=0)){t.next=4;break}return t.abrupt("return",T({element:"sector_code",msg:"Invalid sector code, must be "}));case 4:if(e.setLoadingRequest(!0),t.prev=5,"CREATE_SECTOR"!==e.actionTypes){t.next=13;break}return t.next=9,p.a.post("".concat(h.a.APPLICATION,"/sector"),{district_id:e.thisDistrict._id,district_code:e.thisDistrict.district_code,sector_name:n,sector_code:o});case 9:(s=t.sent).data&&(console.log({district_id:e.thisDistrict._id,data:s.data.data,res:s}),e.FC_CreateSector({province_id:e.thisDistrict.province_id,district_id:e.thisDistrict._id,data:{district_id:s.data.data.district_id,district_code:s.data.data.district_code,sector_name:s.data.data.sector_name,sector_code:s.data.data.sector_code,sector_id:s.data.data.sector_id}}),e.PushPopupAlert({title:"New sector created successfully",theme:O.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r("")),t.next=18;break;case 13:if(!e.thisSector||"UPDATE_SECTOR"!==e.actionTypes){t.next=18;break}return t.next=16,p.a.patch("".concat(h.a.APPLICATION,"/sector"),{district_id:e.thisSector.district_id,district_code:e.thisDistrict.district_code,sector_id:e.thisSector.sector_id,sector_name:n,sector_code:o});case 16:(s=t.sent).data&&(e.FC_UpdateSector({province_id:e.thisDistrict.province_id,district_id:e.thisSector.district_id,sector_id:e.thisSector.sector_id,sector_name:n,sector_code:o}),e.PushPopupAlert({title:"Sector updated successfully",theme:O.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null),r(""),e.setThisSector(null));case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(5),console.log({sector_error:t.t0}),e.PushPopupAlert({title:Object(f.a)(t.t0),theme:O.a.danger}),e.setLoadingRequest(!1);case 25:case"end":return t.stop()}}),t,null,[[5,20]])})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=Object(j.a)(b.a.mark((function t(s){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.delete("".concat(h.a.APPLICATION,"/sector/").concat(s));case 3:t.sent.data&&(e.FC_DeleteSector({province_id:e.thisDistrict.province_id,district_id:e.thisDistrict._id,sector_id:s}),e.PushPopupAlert({title:"Sector deleted successfully",theme:O.a.success}),e.setLoadingRequest(!1),e.setActionTypes(null)),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log({district_error:t.t0}),e.PushPopupAlert({title:Object(f.a)(t.t0),theme:O.a.danger}),e.setLoadingRequest(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"w-full p-2",children:[e.thisDistrict.sectors&&e.thisDistrict.sectors.length>0?Object(y.jsx)("div",{className:"rounded border border-gray-100 shadow-sm animate__animated animate__fadeIn",children:Object(y.jsxs)("table",{className:"w-full z-0",children:[Object(y.jsx)("thead",{className:"bg-gray-50",children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"px-3 py-3",children:"#"}),Object(y.jsx)("th",{children:"Sector name"}),Object(y.jsx)("th",{children:"Sector code"}),Object(y.jsx)("th",{children:"Status"})]})}),Object(y.jsx)("tbody",{className:"text-sm",children:e.thisDistrict.sectors.map((function(t,s){return Object(y.jsxs)("tr",{className:"text-left border-b border-gray-50",children:[Object(y.jsx)("td",{className:"px-3 py-1",children:s+1}),Object(y.jsx)("td",{children:t.sector_name}),Object(y.jsx)("td",{children:t.sector_name}),Object(y.jsx)("td",{children:Object(y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(y.jsx)("button",{title:"Update sector",className:"bg-blue-500 hover:bg-blue-600 p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none",onClick:function(){e.setThisSector(t),r(t.sector_name),d(t.sector_code),e.setActionTypes("UPDATE_SECTOR")},disabled:e.loadingRequest||null!==e.actionTypes,children:Object(y.jsx)(P.B,{className:"text-white w-4 h-4"})}),Object(y.jsx)("button",{title:"Delete sector",className:"bg-red-500 hover:bg-red-600 p-2 rounded-full shadow-md flex justify-center items-center focus:outline-none",onClick:function(){return C(t.sector_id)},disabled:e.loadingRequest,children:Object(y.jsx)(P.y,{className:"text-white w-4 h-4"})})]})})]},s+t.district_id)}))})]})}):Object(y.jsx)(_.b,{theme:_.a.Dark,value:"No sector found!",component:Object(y.jsx)("div",{className:"w-full mt-2 flex flex-row items-center justify-center",children:Object(y.jsx)("ul",{className:"text-sm py-2 text-blue-600 font-bold flex flex-row gap-2",children:Object(y.jsx)("li",{onClick:function(){return e.setActionTypes("CREATE_SECTOR")},className:"underline text-gray-500 cursor-pointer",children:"Add sector"})})})}),e.actionTypes&&("CREATE_SECTOR"===e.actionTypes||"UPDATE_SECTOR"===e.actionTypes)&&Object(y.jsx)(g.d,{backDrop:!0,theme:g.c.default,close:function(){e.setActionTypes(null),r(""),d(0),T(null)},displayClose:!1,backDropClose:!1,title:Object(y.jsx)("div",{className:"flex items-center space-x-5",children:Object(y.jsx)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:Object(y.jsx)("h2",{className:"uppercase text-back",children:"CREATE_SECTOR"===e.actionTypes?"CREATING NEW SECTOR":"UPDATE_SECTOR"===e.actionTypes&&"UPDATING EXISTING SECTOR"})})}),widthSizeClass:g.b.medium,padding:{title:!0,body:!1,footer:!1},children:Object(y.jsxs)("div",{className:"w-full px-5 mb-5",children:[Object(y.jsxs)("div",{className:"py-3 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("label",{children:"Sector name"}),Object(y.jsx)("input",{type:"text",className:"bg-white py-1 px-2 border-2 ".concat(m&&"sector_name"===m.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){m&&"sector_name"===m.element&&T(null),r(e.target.value)},value:n,disabled:e.loadingRequest}),m&&"sector_name"===m.element&&Object(y.jsx)("span",{className:"text-red-700",children:m.msg})]}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("label",{children:"Sector code"}),Object(y.jsx)("input",{type:"number",className:"bg-white py-1 px-2 border-2 ".concat(m&&"sector_code"===m.element?"border-red-700":"border-gray-700"," rounded focus:outline-none focus:bg-gray-100"),onChange:function(e){m&&"sector_code"===m.element&&T(null),d(Number(e.target.value))},value:o,disabled:e.loadingRequest}),m&&"sector_code"===m.element&&Object(y.jsx)("span",{className:"text-red-700",children:m.msg})]})]}),Object(y.jsxs)("div",{className:"pt-4 flex justify-between",children:[Object(y.jsx)("button",{onClick:function(){e.setActionTypes(null),r(""),d(0),T(null)},className:"btn bg-gray-400 text-white hover:bg-gray-600",type:"button",disabled:e.loadingRequest,children:"Exit"}),Object(y.jsx)("button",{className:"btn bg-primary text-white hover:bg-blue-600",type:"button",onClick:function(){return N()},disabled:e.loadingRequest,children:e.loadingRequest?"Loading...":"Save"})]})]})})]})}))),E=function(e,t){var s=[],c=[];return Object(d.a)(e).forEach((function(e){s.includes(e.district_id)||(t&&e.province_id===t||void 0===t)&&(s.push(e.district_id),c.push(e))})),c},A=function(e,t){var s=[],c=[];return Object(d.a)(e).forEach((function(e){s.includes(e.center_id)||e.district_id!==t||(s.push(e.center_id),c.push(e))})),c},D=function(e,t){var s=[],c=[];return Object(d.a)(e).forEach((function(e){s.includes(e.room_id)||e.center_id!==t||(s.push(e.room_id),c.push(e))})),c},S=n.a.memo(Object(l.b)((function(e){return{locations:e.locations.roomLocation}}),{getAllRoom:o.q})((function(e){var t=Object(i.useState)(null),s=Object(c.a)(t,2),n=s[0],l=s[1],o=Object(i.useState)(null),d=Object(c.a)(o,2),u=d[0],b=d[1],j=Object(i.useState)(null),x=Object(c.a)(j,2),p=x[0],h=x[1],m=Object(i.useState)(null),O=Object(c.a)(m,2),f=O[0],_=O[1],g=Object(i.useState)(!0),v=Object(c.a)(g,2),N=v[0],P=v[1],E=Object(i.useState)(!1),A=Object(c.a)(E,2),D=A[0],S=A[1];if(Object(i.useEffect)((function(){!e.locations.length&&N?e.getAllRoom(e.institution_id,(function(e,t){P(e),!e&&t.length>0&&console.log(t)})):N&&P(!1)}),[N,e]),!0===N)return Object(y.jsx)("div",{className:"text-center mt-7 font-bold text-4xl text-gray-400 animate-pulse",children:"Loading locations..."});return Object(y.jsx)(i.Fragment,{children:Object(y.jsxs)("div",{className:"w-full my-5",children:[Object(y.jsx)("div",{className:"flex justify-between p-2 gap-1",children:Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("span",{className:"text-blue-600 text-2xl md:text-2xl lg:text-3xl font-bold",children:"Locations Management"}),Object(y.jsxs)("div",{className:"flex flex-row items-center md:gap-3 gap-2 mt-1",children:[Object(y.jsx)(r.h,{className:"text-xl"}),Object(y.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[u&&Object(y.jsx)("span",{className:"text-gray-700 text-base font-bold",children:u.province_name}),p&&Object(y.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[Object(y.jsx)(a.g,{}),Object(y.jsxs)("span",{className:"text-blue-600 text-base font-bold underline",children:[p.district_name," district"]})]})]})]})]})}),Object(y.jsxs)("div",{className:"w-full bg-white",children:[Object(y.jsx)("div",{className:"border-b px-2 py-3 flex justify-between",children:f&&(!f||"CREATE_SECTOR"!==n&&"UPDATE_SECTOR"!==n)||!p||"CREATE_DISTRICT"===n||"UPDATE_DISTRICT"===n?p&&(!p||"CREATE_DISTRICT"!==n&&"UPDATE_DISTRICT"!==n)||!u?Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)("span",{className:"uppercase text-xl font-semibold text-gray-800",children:"province"}),Object(y.jsx)("span",{children:"/"})]}):Object(y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(y.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){b(null)},children:"province"}),Object(y.jsx)("span",{children:"/"}),Object(y.jsx)("span",{className:"text-xl text-gray-800",children:u.province_name})]}):Object(y.jsxs)("div",{className:"flex items-center gap-1",children:[Object(y.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){b(null)},children:"province"}),Object(y.jsx)("span",{children:"/"}),Object(y.jsx)("span",{className:"cursor-pointer uppercase text-xl font-semibold text-gray-800",onClick:function(){h(null)},children:"district"}),Object(y.jsx)("span",{children:"/"}),Object(y.jsx)("span",{className:"text-xl text-gray-800",children:p.district_name})]})}),(!u||u&&("CREATE_PROVINCE"===n||"UPDATE_PROVINCE"===n))&&Object(y.jsx)(C,{thisProvince:u,thisDistrict:p,loadingRequest:D,locations:e.locations,actionTypes:n,setLoadingRequest:S,setThisProvince:b,setActionTypes:l}),(!p||p&&("CREATE_DISTRICT"===n||"UPDATE_DISTRICT"===n))&&u&&Object(y.jsx)(T,{thisDistrict:p,loadingRequest:D,actionTypes:n,setLoadingRequest:S,setActionTypes:l,thisProvince:u,setThisDistrict:h}),(!f||f&&("CREATE_SECTOR"===n||"UPDATE_SECTOR"===n))&&p&&"CREATE_DISTRICT"!==n&&"UPDATE_DISTRICT"!==n&&Object(y.jsx)(R,{thisDistrict:p,thisSector:f,loadingRequest:D,actionTypes:n,setLoadingRequest:S,setThisSector:_,setActionTypes:l})]})]})})})))}}]);
//# sourceMappingURL=57.4a39d334.chunk.js.map