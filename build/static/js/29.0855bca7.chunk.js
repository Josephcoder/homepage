(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[29,32],{275:function(e,t,s){"use strict";var r=s(14),n=s(4),i=s(91),a=s(61),o=s(38),l=s(10),c=s(250),u=s(19),d=s(322),p=s(1);t.a=function(e){var t,s=Object(n.useState)(!1),m=Object(r.a)(s,2),b=m[0],f=m[1],x=Object(n.useState)(null),h=Object(r.a)(x,2),j=h[0],v=h[1];return Object(p.jsxs)(n.Fragment,{children:[Object(p.jsx)("div",{onClick:function(){return!0===e.select&&e.callBack(e.question)},className:"bg-gray-50 cursor-pointer rounded border border-gray-200 px-3 py-2 text-gray-700 hover:text-blue-600 flex flex-row items-center justify-between gap-4 ".concat(!0===e.select?"hover:bg-blue-50":"hover:bg-white"," hover:border-blue-600 mb-3"),children:Object(p.jsxs)("div",{className:"flex flex-row items-center justify-between w-full gap-2 md:gap-10",children:[Object(p.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full truncate",children:[Object(p.jsx)("div",{children:!1===e.select?Object(p.jsxs)("div",{className:"font-bold text-blue-600",children:["(",e.number,")"]}):!0===e.status?Object(p.jsx)(a.a,{className:"text-xl text-blue-600"}):Object(p.jsx)(a.b,{className:"text-xl text-blue-600"})}),Object(p.jsxs)("div",{className:"flex flex-col",children:[Object(p.jsx)("span",{className:"text-xs text-blue-600 font-bold w-max",children:e.questionTypes.questionTypes&&(null===(t=e.questionTypes.questionTypes.find((function(t){return t.id&&t.id===e.question.type})))||void 0===t?void 0:t.title)}),Object(p.jsx)("span",{className:"font-bold",children:e.question.question[0].title}),Object(p.jsx)("div",{className:"w-full text-xs",dangerouslySetInnerHTML:{__html:e.question.question[0].description}})]})]}),!1===e.select&&Object(p.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(p.jsx)("div",{onClick:function(){return v(e.question)},className:"bg-gray-50 hover:bg-gray-200 rounded-full px-1 py-1 cursor-pointer",children:Object(p.jsx)(i.b,{className:"text-3xl text-gray-700"})}),Object(p.jsx)("div",{onClick:function(){return f(!0)},className:"bg-gray-50 hover:bg-blue-100 rounded-full px-1 py-1 cursor-pointer",children:Object(p.jsx)(l.D,{className:"text-3xl text-blue-700"})}),Object(p.jsx)("div",{onClick:function(){return!1===e.select&&e.callBack(e.question)},className:"bg-gray-100 hover:bg-red-100 rounded-full px-1 py-1 cursor-pointer",children:Object(p.jsx)(o.o,{className:"text-3xl text-yellow-700"})})]})]})}),!0===b&&Object(p.jsx)(u.d,{title:"",backDrop:!0,theme:u.c.default,close:function(){return f(!1)},backDropClose:!0,widthSizeClass:u.b.extraLarge,displayClose:!1,padding:{title:!1},children:Object(p.jsx)("div",{className:"pt-0",children:Object(p.jsx)(c.b,{selectedQuestion:e.question,questionsList:e.questionsList,unSelectQuestion:function(){f(!1)}})})}),null!==j&&Object(p.jsx)(u.d,{title:Object(p.jsx)("div",{className:"text-2xl font-extrabold text-blue-600",children:"Question preview"}),backDrop:!0,theme:u.c.default,close:function(){return v(null)},backDropClose:!0,widthSizeClass:u.b.extraLarge,displayClose:!0,padding:{title:!0},children:Object(p.jsx)(d.a,{questionAnswers:[],answerQuestionFn:function(e){},selectedQuestion:j,setSelectedQuestion:v,preview:!0,submitQuestionAnswer:!1})})]})}},293:function(e,t,s){"use strict";var r=s(11),n=s(32),i=s(4),a=s(61),o=s(10),l=s(37),c=s(1);t.a=function(e){var t=function(t){var s=!1;if(e.available_answers.length>0){var r=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if(void 0!==r){var n=r.answer.find((function(e){return e.id===t.id}));void 0!==n&&!0===n.status&&(s=!0)}}return s},s=function(t){null!==e.selectedQuestionAnswer.question_id&&e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!1,answer:t})};return Object(i.useEffect)((function(){var t=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if((void 0===t||void 0!==t&&0===t.answer.length)&&void 0!==e.selectedQuestionAnswer.answers&&void 0!==e.selectedQuestionAnswer&&null!==e.selectedQuestionAnswer.question_id){var s,i=[],a=Object(n.a)(e.selectedQuestionAnswer.answers);try{for(a.s();!(s=a.n()).done;){var o=s.value;i=[].concat(Object(r.a)(i),[{id:o.id,value:o.value,status:!1}])}}catch(l){a.e(l)}finally{a.f()}e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!0,answer:i})}}),[e]),Object(c.jsx)("div",{children:null!==e.selectedQuestionAnswer&&void 0!==e.selectedQuestionAnswer.answers&&e.selectedQuestionAnswer.answers.map((function(i,u){return Object(c.jsxs)("div",{title:"Click to choose this option",onClick:function(){return function(t,i){var a=e.available_answers.find((function(e){return e.question_id===i}));if(void 0!==a){var o=[];if(e.type===l.d.SingleMultiple){var c,u=Object(n.a)(a.answer);try{for(u.s();!(c=u.n()).done;){var d=c.value;o=[].concat(Object(r.a)(o),[{id:d.id,value:d.value,status:!1}])}}catch(x){u.e(x)}finally{u.f()}s(o)}var p,m=[],b=Object(n.a)(0===o.length?a.answer:o);try{for(b.s();!(p=b.n()).done;){var f=p.value;m=f.id===t.id?[].concat(Object(r.a)(m),[{id:t.id,value:t.value,status:e.type===l.d.SingleMultiple||!f.status}]):[].concat(Object(r.a)(m),[f])}}catch(x){b.e(x)}finally{b.f()}s(m)}}(i,e.selectedQuestionAnswer.question_id)},className:"px-2 py-2 ".concat(!0===t(i)?"border bg-blue-100 border-white text-blue-600 hover:border-blue-600 rounded font-bold":"border-b bg-white border-gray-100 hover:bg-gray-100"," flex flex-row justify-left items-center cursor-pointer"),children:[!0===t(i)?Object(c.jsx)(c.Fragment,{children:e.type===l.d.SingleMultiple?Object(c.jsx)(o.qb,{className:"text-2xl"}):Object(c.jsx)(a.a,{className:"text-2xl"})}):e.type===l.d.SingleMultiple?Object(c.jsx)(o.rb,{className:"text-2xl truncate"}):Object(c.jsx)(a.b,{className:"text-2xl"}),Object(c.jsx)("div",{dangerouslySetInnerHTML:{__html:i.value},className:"ml-2"})]},u+1)}))})}},294:function(e,t,s){"use strict";var r=s(11),n=s(32),i=s(4),a=s(10),o=s(1);t.a=function(e){var t=function(t){var s=!1;if(e.available_answers.length>0){var r=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if(void 0!==r){var n=r.answer.find((function(e){return e.id===t.id}));void 0!==n&&!0===n.status&&(s=!0)}}return s},s=function(t){null!==e.selectedQuestionAnswer.question_id&&e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!1,answer:t})};return Object(i.useEffect)((function(){var t=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if((void 0===t||void 0!==t&&0===t.answer.length)&&void 0!==e.selectedQuestionAnswer.answers&&void 0!==e.selectedQuestionAnswer&&null!==e.selectedQuestionAnswer.question_id){var s,i=[],a=Object(n.a)(e.selectedQuestionAnswer.answers);try{for(a.s();!(s=a.n()).done;){var o=s.value;i=[].concat(Object(r.a)(i),[{id:o.id,value:o.value,status:!1}])}}catch(l){a.e(l)}finally{a.f()}e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!0,answer:i})}}),[e]),Object(o.jsx)("div",{className:"",children:null!==e.selectedQuestionAnswer&&void 0!==e.selectedQuestionAnswer.answers&&e.selectedQuestionAnswer.answers.map((function(i,l){return Object(o.jsxs)("div",{onClick:function(){return function(t,i){var a=e.available_answers.find((function(e){return e.question_id===i}));if(void 0!==a){var o,l=[],c=Object(n.a)(a.answer);try{for(c.s();!(o=c.n()).done;){var u=o.value;l=[].concat(Object(r.a)(l),[{id:u.id,value:u.value,status:!1}])}}catch(f){c.e(f)}finally{c.f()}s(l);var d,p=[],m=Object(n.a)(0===l.length?a.answer:l);try{for(m.s();!(d=m.n()).done;){var b=d.value;p=b.id===t.id?[].concat(Object(r.a)(p),[{id:t.id,value:t.value,status:!b.status}]):[].concat(Object(r.a)(p),[b])}}catch(f){m.e(f)}finally{m.f()}s(p)}}(i,e.selectedQuestionAnswer.question_id)},className:"px-2 py-2 border-b ".concat(!0===t(i)?"border bg-blue-100 border-white text-blue-600 hover:border-blue-600 rounded font-bold":"border-b bg-white border-gray-100 hover:bg-gray-100"," flex flex-row justify-left items-center cursor-pointer"),children:[!0===t(i)?Object(o.jsx)(a.qb,{className:"text-2xl"}):Object(o.jsx)(a.rb,{className:"text-2xl"}),Object(o.jsx)("span",{className:"ml-2",children:i.value})]},l+1)}))})}},295:function(e,t,s){"use strict";var r=s(4),n=s(1);t.a=function(e){var t=function(t){var s=!1;if(e.available_answers.length>0){var r=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if(void 0!==r){var n=r.answer.find((function(e){return e.id===t.id}));void 0!==n&&""!==n.value[0]&&(s=!0)}}return s},s=function(t,s){var r,n=e.available_answers.find((function(e){return e.question_id===s}));void 0!==n&&(r=[{id:n.answer[0].id,value:t.value,status:n.answer[0].status}],null!==e.selectedQuestionAnswer.question_id&&e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!1,answer:[{id:r[0].id,value:[r[0].value],status:r[0].status}]}))},i=function(){var t=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));return void 0!==t?0!==t.answer.length&&t.answer[0].value[0].toString():""};return Object(r.useEffect)((function(){var t=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));(void 0===t||void 0!==t&&0===t.answer.length)&&void 0!==e.selectedQuestionAnswer.answers&&void 0!==e.selectedQuestionAnswer&&null!==e.selectedQuestionAnswer.question_id&&e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!0,answer:[{id:e.selectedQuestionAnswer.answers[0].id,value:[""],status:e.selectedQuestionAnswer.answers[0].status}]})}),[e]),Object(n.jsx)("div",{className:"",children:null!==e.selectedQuestionAnswer&&void 0!==e.selectedQuestionAnswer.answers&&e.selectedQuestionAnswer.answers.map((function(r,a){return Object(n.jsx)("div",{className:"-mx-2 -my-2 flex flex-col justify-left rounded",children:Object(n.jsx)("input",{onChange:function(t){s({id:r.id,value:t.target.value,status:r.status},e.selectedQuestionAnswer.question_id)},type:"text",value:i(),className:"px-3 py-2 rounded focus:outline-none focus:border-none ".concat(!0===t(r)?"border-2 text-blue-600 font-bold bg-white border-blue-600":"border text-gray-700 border-gray-500 bg-gray-50")})},a+1)}))})}},296:function(e,t,s){"use strict";var r=s(4),n=s(1);t.a=function(e){var t=function(t){var s=!1;if(e.available_answers.length>0){var r=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if(void 0!==r){var n=r.answer.find((function(e){return e.id===t.id}));void 0!==n&&""!==n.value&&(s=!0)}}return s},s=function(t,s){var r,n=e.available_answers.find((function(e){return e.question_id===s}));void 0!==n&&(r=[{id:n.answer[0].id,value:t.value,status:n.answer[0].status}],null!==e.selectedQuestionAnswer.question_id&&e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!1,answer:[{id:r[0].id,value:r[0].value,status:r[0].status}]}))},i=function(){var t=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));return void 0!==t?0!==t.answer.length&&t.answer[0].value:""};return Object(r.useEffect)((function(){var t=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));(void 0===t||void 0!==t&&0===t.answer.length)&&void 0!==e.selectedQuestionAnswer.answers&&void 0!==e.selectedQuestionAnswer&&null!==e.selectedQuestionAnswer.question_id&&e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!0,answer:[{id:e.selectedQuestionAnswer.answers[0].id,value:"",status:e.selectedQuestionAnswer.answers[0].status}]})}),[e]),Object(n.jsx)("div",{className:"",children:null!==e.selectedQuestionAnswer&&void 0!==e.selectedQuestionAnswer.answers&&e.selectedQuestionAnswer.answers.map((function(r,a){return Object(n.jsx)("div",{className:"-mx-2 -my-2 flex flex-col justify-left rounded cursor-pointer",children:Object(n.jsx)("textarea",{onChange:function(t){s({id:r.id,value:t.target.value,status:r.status},e.selectedQuestionAnswer.question_id)},value:i(),className:"px-3 py-2 rounded focus:outline-none focus:border-none ".concat(!0===t(r)?"border-2 text-blue-600 font-bold bg-white border-blue-600":"border text-gray-700 border-gray-500 bg-gray-50"),style:{minHeight:"200px"}})},a+1)}))})}},297:function(e,t,s){"use strict";var r=s(4),n=s(1);t.a=function(e){var t=function(t){var s=!1;if(e.available_answers.length>0){var r=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if(void 0!==r){var n=r.answer.find((function(e){return e.id===t.id}));void 0!==n&&""!==n.value[0]&&(s=!0)}}return s},s=function(t,s){var r,n=e.available_answers.find((function(e){return e.question_id===s}));void 0!==n&&(r=[{id:n.answer[0].id,value:[t.value],status:n.answer[0].status}],null!==e.selectedQuestionAnswer.question_id&&e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!1,answer:[{id:r[0].id,value:r[0].value,status:r[0].status}]}))},i=function(){var t=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));return void 0!==t?0!==t.answer.length&&t.answer[0].value[0]:""};return Object(r.useEffect)((function(){var t=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));(void 0===t||void 0!==t&&0===t.answer.length)&&void 0!==e.selectedQuestionAnswer.answers&&void 0!==e.selectedQuestionAnswer&&null!==e.selectedQuestionAnswer.question_id&&e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!0,answer:[{id:e.selectedQuestionAnswer.answers[0].id,value:[""],status:e.selectedQuestionAnswer.answers[0].status}]})}),[e]),Object(n.jsx)("div",{className:"",children:null!==e.selectedQuestionAnswer&&void 0!==e.selectedQuestionAnswer.answers&&e.selectedQuestionAnswer.answers.map((function(r,a){return Object(n.jsx)("div",{className:"-mx-2 -my-2 flex flex-col justify-left rounded cursor-pointer",children:Object(n.jsx)("input",{onChange:function(t){s({id:r.id,value:t.target.value,status:r.status},e.selectedQuestionAnswer.question_id)},type:"text",value:i(),className:"px-3 py-2 rounded focus:outline-none focus:border-none ".concat(!0===t(r)?"border-2 text-blue-600 font-bold border-blue-600":"border text-gray-700 border-gray-500")})},a+1)}))})}},298:function(e,t,s){"use strict";var r=s(11),n=s(32),i=s(4),a=s(61),o=s(10),l=s(43),c=s(1);t.a=function(e){var t=function(t){var s=!1;if(e.available_answers.length>0){var r=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if(void 0!==r){var n=r.answer.find((function(e){return e.id===t.id}));void 0!==n&&!0===n.status&&(s=!0)}}return s},s=function(t){null!==e.selectedQuestionAnswer.question_id&&e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!1,answer:t})};return Object(i.useEffect)((function(){var t=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if((void 0===t||void 0!==t&&0===t.answer.length)&&void 0!==e.selectedQuestionAnswer.answers&&void 0!==e.selectedQuestionAnswer&&null!==e.selectedQuestionAnswer.question_id){var s,i=[],a=Object(n.a)(e.selectedQuestionAnswer.answers);try{for(a.s();!(s=a.n()).done;){var o=s.value;i=[].concat(Object(r.a)(i),[{id:o.id,value:o.value,status:!1}])}}catch(l){a.e(l)}finally{a.f()}e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!0,answer:i})}}),[e]),Object(c.jsx)("div",{children:null!==e.selectedQuestionAnswer&&void 0!==e.selectedQuestionAnswer.answers&&e.selectedQuestionAnswer.answers.map((function(i,u){return Object(c.jsxs)("div",{onClick:function(){return function(t,i){var a=e.available_answers.find((function(e){return e.question_id===i}));if(void 0!==a){var o=[];if(void 0!==e.selectedQuestionAnswer.answers&&1===e.selectedQuestionAnswer.answers.filter((function(e){return!0===e.status})).length){var l,c=Object(n.a)(a.answer);try{for(c.s();!(l=c.n()).done;){var u=l.value;o=[].concat(Object(r.a)(o),[{id:u.id,value:u.value,status:!1}])}}catch(f){c.e(f)}finally{c.f()}s(o)}var d,p=[],m=Object(n.a)(0===o.length?a.answer:o);try{for(m.s();!(d=m.n()).done;){var b=d.value;p=b.id===t.id?[].concat(Object(r.a)(p),[{id:t.id,value:t.value,status:void 0!==e.selectedQuestionAnswer.answers&&1===e.selectedQuestionAnswer.answers.filter((function(e){return!0===e.status})).length||!b.status}]):[].concat(Object(r.a)(p),[b])}}catch(f){m.e(f)}finally{m.f()}s(p)}}(i,e.selectedQuestionAnswer.question_id)},className:"px-2 py-2 border-b ".concat(!0===t(i)?"border bg-blue-100 border-white text-blue-600 hover:border-blue-600 rounded font-bold":"border-b bg-white border-gray-100 hover:bg-gray-100"," flex flex-row justify-left items-center rounded cursor-pointer"),children:[!0===t(i)?Object(c.jsx)(c.Fragment,{children:void 0!==e.selectedQuestionAnswer.answers&&1===e.selectedQuestionAnswer.answers.filter((function(e){return!0===e.status})).length?Object(c.jsx)(o.qb,{className:"text-2xl"}):Object(c.jsx)(a.a,{className:"text-2xl"})}):void 0!==e.selectedQuestionAnswer.answers&&1===e.selectedQuestionAnswer.answers.filter((function(e){return!0===e.status})).length?Object(c.jsx)(o.rb,{className:"text-2xl"}):Object(c.jsx)(a.b,{className:"text-2xl"}),Object(c.jsx)("span",{className:"ml-2",children:i.value.length>2?i.value:2===i.value.length?Object(l.f)(i.value[0],i.value[1]).toFixed(2).toString():i.value[0]})]},u+1)}))})}},303:function(e,t,s){"use strict";var r=s(11),n=s(32),i=s(14),a=s(4),o=s(69),l=s(37),c=s(10),u=s(30),d=s(1),p=function(e){return Object(d.jsxs)("div",{className:"bg-gray-200 rounded-b animate__animated animate__fadeInUp animate__faster -mx-2 mt-2",children:[Object(d.jsx)("div",{className:"text-lg font-bold px-3 pt-2 flex flex-row items-center justify-between",children:Object(d.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(d.jsx)("div",{title:"Click to close this window",onClick:function(){return e.closeWindow(!1)},className:"h-10 w-10 text-center bg-gray-50 border border-white hover:border-blue-400 text-gray-900 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-100 hover:text-blue-700",children:Object(d.jsx)(c.f,{className:"text-2xl"})}),Object(d.jsx)("span",{className:"text-gray-800",children:"Choose correct matching"})]})}),Object(d.jsx)("div",{className:"bg-gray-200 p-2 mx-0",children:e.selectedQuestionAnswer.shuffledAnswers.map((function(t,s){return Object(d.jsxs)("div",{onClick:function(){e.addAnswer({id:e.selectedAnswer.id,value:e.selectedAnswer.value,status:t.status},e.selectedQuestionAnswer.question_id),e.closeWindow(!1)},className:"".concat(t.status===e.findWord(e.selectedLanguage,e.checkIfSelected(e.selectedAnswer.id))?"border-2 border-white bg-blue-100 font-bold text-blue-700":"border text-gray-500 hover:text-gray-900 hover:font-extrabold"," cursor-pointer rounded bg-white hover:bg-blue-50 hover:border-white p-3 mb-2 flex flex-row items-center gap-3"),children:[Object(d.jsx)("div",{children:t.status===e.findWord(e.selectedLanguage,e.checkIfSelected(e.selectedAnswer.id))?Object(d.jsx)(u.e,{className:"text-3xl text-blue-600"}):Object(d.jsx)(c.rb,{className:"text-3xl"})}),Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:t.status}})]},s+1)}))})]})};t.a=function(e){var t=Object(a.useState)(!1),s=Object(i.a)(t,2),c=s[0],u=s[1],m=Object(a.useState)(null),b=Object(i.a)(m,2),f=b[0],x=b[1],h=function(t){var s=!1;if(e.available_answers.length>0){var r=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if(void 0!==r){var n=r.answer.find((function(e){return e.id===t.id}));void 0!==n&&""!==n.status&&(s=!0)}}return s},j=function(t,s){var i=e.available_answers.find((function(e){return e.question_id===s}));if(void 0!==i){var a,o=[],l=Object(n.a)(i.answer);try{for(l.s();!(a=l.n()).done;){var c=a.value;o=c.id===t.id?[].concat(Object(r.a)(o),[{id:t.id,value:t.value,status:t.status}]):[].concat(Object(r.a)(o),[c])}}catch(u){l.e(u)}finally{l.f()}!function(t){null!==e.selectedQuestionAnswer.question_id&&e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!1,answer:t})}(o)}};Object(a.useEffect)((function(){var t=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if((void 0===t||void 0!==t&&0===t.answer.length)&&void 0!==e.selectedQuestionAnswer.answers&&void 0!==e.selectedQuestionAnswer&&null!==e.selectedQuestionAnswer.question_id){var s,i=[],a=Object(n.a)(e.selectedQuestionAnswer.answers);try{for(a.s();!(s=a.n()).done;){var o=s.value;i=[].concat(Object(r.a)(i),[{id:o.id,value:o.value,status:""}])}}catch(l){a.e(l)}finally{a.f()}e.answerQuestionFn({question_id:e.selectedQuestionAnswer.question_id,status:!0,answer:i})}}),[e]);var v=function(t){var s=e.available_answers.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if(void 0!==s){var r=s.answer.find((function(e){return e.id===t}));if(void 0!==r&&""!==r.status&&null!==e.selectedQuestionAnswer.question_id)return function(t,s,r){if(null!==e.selectedExam){var i=e.selectedExam.questions.find((function(e){return e.question_id===t}));if(void 0!==i){var a,o=Object(n.a)(l.b);try{var c=function(){var e=a.value,t=i.question.find((function(t){return t.language===e.key}));if(void 0!==t){var s=t.answer.find((function(e){return e.status.toString()===r.status}));if(void 0!==s)return{v:s.status.toString()}}};for(o.s();!(a=o.n()).done;){var u=c();if("object"===typeof u)return u.v}}catch(d){o.e(d)}finally{o.f()}}}return!1}(e.selectedQuestionAnswer.question_id,e.selectedLanguage,r)}return!1},g=function(t,s){var i="",a=function(){var t,s=[],i=null===(t=e.selectedExam)||void 0===t?void 0:t.questions.find((function(t){return t.question_id===e.selectedQuestionAnswer.question_id}));if(void 0!==i){var a,o=Object(n.a)(i.question);try{for(o.s();!(a=o.n()).done;){var l,c=a.value,u=Object(n.a)(c.answer);try{for(u.s();!(l=u.n()).done;){var d=l.value;s=[].concat(Object(r.a)(s),[{id:d.id,lang:c.language,status:d.status.toString()}])}}catch(p){u.e(p)}finally{u.f()}}}catch(p){o.e(p)}finally{o.f()}}return s}();if(a.length>0){var o,l=null===(o=a.find((function(e){return e.status===s})))||void 0===o?void 0:o.id;if(void 0!==l){var c,u=null===(c=a.find((function(e){return e.id===l&&e.lang===t})))||void 0===c?void 0:c.status;void 0!==u&&(i=u)}}return i};return Object(d.jsx)("div",{className:"",children:null!==e.selectedQuestionAnswer&&void 0!==e.selectedQuestionAnswer.answers&&e.selectedQuestionAnswer.answers.map((function(t,s){return Object(d.jsxs)("div",{className:"".concat(!0===h(t)?"px-2 mb-2 py-2 md:py-0":"px-2 py-2"," ").concat(!0===h(t)?"border rounded":"border-b"," ").concat(!0===h(t)?"text-blue-600 border-blue-200":""," grid grid-cols-12"),children:[Object(d.jsxs)("div",{className:"col-span-12 ".concat(!0===h(t)?"md:col-span-6":"md:col-span-8"," flex flex-row items-center gap-2"),children:[!0===h(t)?Object(d.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 text-xl font-normal rounded-full",children:s+1}):Object(d.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 text-gray-500 text-xl font-normal rounded-full",children:s+1}),Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:t.value},className:"ml-2 ".concat(null!==f&&f.id===t.id&&!0===c?"text-blue-600 font-extrabold":"text-gray-600")})]}),!0===h(t)?Object(d.jsxs)("div",{title:"Click to change selected choice",onClick:function(){x(t),u(!c)},className:"flex flex-row items-center gap-2 col-span-12 md:col-span-6 cursor-pointer md:hover:bg-blue-50 py-4 pr-2 -mr-2 rounded-r md:pl-4 md:border-l border-blue-200",children:[Object(d.jsx)(o.i,{className:"text-xl transition transform".concat(null!==f&&f.id===t.id&&!0===c?" transform rotate-90":"")}),Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:g(e.selectedLanguage,v(t.id))}})]}):Object(d.jsx)("div",{className:"col-span-12 md:col-span-4 flex items-center md:justify-start mt-2 md:mt-0",children:Object(d.jsx)("div",{onClick:function(){x(t),u(!c)},title:!0===h(t)?"Click to change selected choice":"Click to choose correct matching",className:"btn text-sm ".concat(!0===h(t)||null!==f&&f.id===t.id&&!0===c?"bg-blue-50":"bg-yellow-100 hover:bg-yellow-200"," text-center cursor-pointer"),children:!0===h(t)?g(e.selectedLanguage,v(t.id)):null!==f&&f.id===t.id&&!0===c?"Close matching list":"Choose matching"})}),Object(d.jsx)("div",{className:"col-span-12 md:col-span-12",children:null!==e.selectedQuestionAnswer.question_id&&void 0!==e.selectedQuestionAnswer.answers&&void 0!==e.selectedQuestionAnswer.shuffledAnswers&&null!==f&&!0===c&&f.id===t.id&&Object(d.jsx)(p,{selectedAnswer:f,selectedStatus:null,selectedQuestionAnswer:{question_id:e.selectedQuestionAnswer.question_id,answers:e.selectedQuestionAnswer.answers,shuffledAnswers:e.selectedQuestionAnswer.shuffledAnswers},checkAnswer:h,addAnswer:j,closeWindow:u,findWord:g,selectedLanguage:e.selectedLanguage,checkIfSelected:v})})]},s+1)}))})}},307:function(e,t,s){"use strict";var r=s(14),n=s(4),i=s(27),a=s(17),o=s(3),l=(s(93),s(275)),c=s(15),u=s(1),d=Object(a.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes}}),{loadCourses:o.dc,loadSchoolLevels:o.nc,loadEducationCategories:o.fc,setSelectedEducationCategory:o.Bc,setSelectedSchoolLevel:o.Ic,setUploadedQuestions:o.Jc,setSelectedCourse:o.Ac,loadQuestionTypes:o.mc})((function(e){var t=Object(n.useState)(!1),s=Object(r.a)(t,2),a=s[0],o=s[1],d=Object(n.useState)(""),p=Object(r.a)(d,2),m=p[0],b=p[1],f=Object(n.useState)(""),x=Object(r.a)(f,2),h=x[0],j=x[1],v=function(e,t,s){var r=s;if(""!==e&&""!==t){var n=s.filter((function(t){return t.type===e}));n.length>0&&(r=n.filter((function(e){return e.chapters.find((function(e){return e===t}))})))}else""!==e?r=s.filter((function(t){return t.type===e})):""!==t&&(r=s.filter((function(e){return e.chapters.find((function(e){return e===t}))})));return r};return Object(n.useEffect)((function(){null!==e.questionTypes.questionTypes&&0!==e.questionTypes.questionTypes.length||e.loadQuestionTypes(o)}),[e]),Object(u.jsxs)("div",{className:"bg-white animate__animated animate__fadeInLeft animate__fast px-2 py-2 gap-3 mb-2 rounded",children:[Object(u.jsxs)("div",{className:"flex flex-row items-center mb-4 gap-2 bg-blue-100 px-2 py-2 -mx-2",children:[Object(u.jsxs)("div",{className:"flex flex-col w-full",children:[Object(u.jsx)("span",{className:"text-gray-700 text-sm font-bold",children:"Question Type"}),null===e.questionTypes.questionTypes?Object(u.jsx)(i.a,{}):0===e.questionTypes.questionTypes.length?Object(u.jsx)("div",{children:"No Question types found!"}):Object(u.jsxs)("select",{onChange:function(e){b(e.target.value)},className:"input-white border border-gray-400",children:[Object(u.jsx)("option",{value:"",children:"Choose Question type"}),e.questionTypes.questionTypes.map((function(e,t){return Object(u.jsx)("option",{value:e.id,children:e.title},t+1)}))]})]}),Object(u.jsxs)("div",{className:"flex flex-col w-full",children:[Object(u.jsx)("span",{className:"text-gray-700 text-sm font-bold",children:"Question Chapters"}),void 0===e.selectedCourse.chapters?Object(u.jsx)("div",{children:"Not found!"}):0===e.selectedCourse.chapters.length?Object(u.jsx)("div",{className:"text-yellow-700",children:"No Question chapters found!"}):Object(u.jsxs)("select",{onChange:function(e){j(e.target.value)},className:"input-white border border-gray-400",children:[Object(u.jsx)("option",{value:"",children:"Choose Chapter"}),e.selectedCourse.chapters.map((function(e,t){return Object(u.jsx)("option",{value:e.id,children:e.name},t+1)}))]})]})]}),!0===a?Object(u.jsx)(i.a,{}):0===v(m,h,e.questionsList.filter((function(t){return t.course===e.selectedCourse.course_id}))).length?Object(u.jsxs)("div",{className:"text-yellow-700 font-bold flex flex-col",children:[Object(u.jsx)("div",{children:"No questions uploaded!"})," ",Object(u.jsx)(c.b,{className:"btn bg-blue-600 text-white mt-4 w-max",to:"/upload-questions",children:"Upload Questions"})]}):v(m,h,e.questionsList.filter((function(t){return t.course===e.selectedCourse.course_id}))).map((function(t,s){return Object(u.jsx)(l.a,{question:t,callBack:e.callBack,status:!!e.questionPaper.find((function(e){return e.question_id===t.question_id})),questionTypes:e.questionTypes,select:!0,number:s+1,questionsList:e.questionsList},s+1)}))]})}));t.a=d},308:function(e,t,s){"use strict";var r;s.d(t,"c",(function(){return r})),s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return n})),function(e){e.ABC="ABC",e.abc="abc",e.NUMBER="NUMBER",e.I="I"}(r||(r={}));var n,i=function(e){switch(e){case r.ABC:return"A,B,C";case r.abc:return"a,b,c";case r.I:return"i, ii, iii";case r.NUMBER:return"1,2,3"}},a=[{key:r.NUMBER,value:i(r.NUMBER)},{key:r.ABC,value:i(r.ABC)},{key:r.abc,value:i(r.abc)},{key:r.I,value:i(r.I)}];!function(e){e.Created="Created",e.Editing="Editing",e.Paused="Paused",e.Removed="Removed",e.Done="Done"}(n||(n={}))},313:function(e,t,s){"use strict";s.r(t),s.d(t,"getHoursList",(function(){return H})),s.d(t,"getMinutesList",(function(){return U})),s.d(t,"PrepareActionTypes",(function(){return r})),s.d(t,"PrepareExam",(function(){return W}));var r,n=s(5),i=s.n(n),a=s(2),o=s(7),l=s(32),c=s(21),u=s(20),d=s(23),p=s(22),m=s(11),b=s(4),f=s(233),x=s(19),h=s(17),j=s(3),v=s(77),g=s(307),_=s(27),w=s(275),O=s(53),y=s(9),E=s(8),q=s.n(E),N=s(18),Q=s(308),S=s(25),C=s(15),A=s(29),k=s(250),P=s(10),T=s(246),L=s.n(T),B=(s(247),s(323)),F=s(324),M=s(202),D=s(30),R=s(36),I=s(1),H=function(){for(var e=[],t=0;t<=24;t++)e=[].concat(Object(m.a)(e),[t]);return e},U=function(){for(var e=[],t=0;t<=59;t++)e=[].concat(Object(m.a)(e),[t]);return e};!function(e){e.Prepare="Prepare",e.EditExam="EditExam"}(r||(r={}));var z=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).changeActionType=function(e){n.setState({actionType:e})},n.changeProctoringRule=function(e){if(void 0!==n.state.proctoringRules.find((function(t){return t.rule===e}))){var t,s=[],r=Object(l.a)(n.state.proctoringRules);try{for(r.s();!(t=r.n()).done;){var i=t.value;s=i.rule===e?[].concat(Object(m.a)(s),[{rule:e,status:!i.status,caption:i.caption}]):[].concat(Object(m.a)(s),[i])}}catch(a){r.e(a)}finally{r.f()}n.setState({proctoringRules:s})}},n.setLoading=function(e){n.setState({loading:e})},n.addQuestionToPaper=function(e){n.props.addExamQuestion(e)},n.removeToQuestionPaper=function(e){window.confirm("Are you sure do you want to remove question to question paper?")&&n.props.addExamQuestion(e)},n.showPeriodFilter=function(e){n.setState({selectPeriod:e})},n.setStep=function(e){if(e===B.a.Step2){if(null===n.props.periods.selected_period||!1===n.props.periods.selected_period.is_active)return n.setState({formErr:{element:"period",msg:"Please select valid period!"},selectPeriod:!0});if(null===n.props.course.selected_course)return n.setState({formErr:{element:"course",msg:"Please select a course!"},selectCourse:!0});if(0===n.props.prepareExam.questions.length)return n.setState({formErr:{element:"questions",msg:"Please choose questions"}})}n.setState({currentStep:e})},n.StepStatus=function(e){if(e===B.a.Step1){if(null===n.props.periods.selected_period||!1===n.props.periods.selected_period.is_active)return!1;if(null===n.props.course.selected_course)return!1;if(0===n.props.prepareExam.questions.length)return!1}if(e===B.a.Step2){if(""===n.state.exam_date)return!1;if(""===n.state.start_time)return!1;if(""===n.state.end_time)return!1;if(0===n.state.duration_hours&&0===n.state.duration_minutes)return!1;if(n.state.questions_per_page<1)return!1;if(""===n.state.number_format)return!1;if(""===n.state.discription)return!1;if(""===n.state.termes)return!1}return!0},n.chooseCourse=function(e){var t=!1;if(0!==n.props.prepareExam.questions.length&&(t=window.confirm("Are you sure do you want to change course? You will loose your selected questions")),!0===t){var s,r=Object(l.a)(n.props.prepareExam.questions);try{for(r.s();!(s=r.n()).done;){var i=s.value;n.props.addExamQuestion(i)}}catch(a){r.e(a)}finally{r.f()}n.props.setSelectedCourse(e),n.setState({currentStep:B.a.Step1})}0===n.props.prepareExam.questions.length&&n.props.setSelectedCourse(e),n.setState({selectCourse:!1}),null!==e&&n.props.loadQuestionBank(e.course_id,n.setLoading)},n.examQuestionsIds=function(e){var t,s=[],r=Object(l.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;s=[].concat(Object(m.a)(s),[n.question_id])}}catch(i){r.e(i)}finally{r.f()}return s},n.submitExamPreparation=Object(o.a)(i.a.mark((function e(){var t,s,r,o,c,u,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({formErr:null}),null!==n.props.periods.selected_period&&!1!==n.props.periods.selected_period.is_active){e.next=3;break}return e.abrupt("return",n.setState({formErr:{element:"period",msg:"Please select valid period!"},selectPeriod:!0}));case 3:if(null!==n.props.course.selected_course){e.next=5;break}return e.abrupt("return",n.setState({formErr:{element:"course",msg:"Please select a course!"},selectCourse:!0}));case 5:if(""!==n.state.exam_date){e.next=7;break}return e.abrupt("return",n.setState({formErr:{element:"exam_date",msg:"Please choose exam date"}}));case 7:if(""!==n.state.start_time){e.next=9;break}return e.abrupt("return",n.setState({formErr:{element:"start_time",msg:"Please fill exam start time"}}));case 9:if(!1!==Object(R.p)(n.state.start_time,n.state.end_time)){e.next=11;break}return e.abrupt("return",n.setState({formErr:{element:"end_time",msg:"Please end time should be greater than start time"}}));case 11:if(""!==n.state.end_time){e.next=13;break}return e.abrupt("return",n.setState({formErr:{element:"end_time",msg:"Please fill exam ending time"}}));case 13:if(0!==n.state.duration_hours||0!==n.state.duration_minutes){e.next=15;break}return e.abrupt("return",n.setState({formErr:{element:"duration_hours",msg:"Please fill exam duration"}}));case 15:if(!(n.state.questions_per_page<1)){e.next=17;break}return e.abrupt("return",n.setState({formErr:{element:"questions_per_page",msg:"Please fill number of questions per page"}}));case 17:if(""!==n.state.number_format){e.next=19;break}return e.abrupt("return",n.setState({formErr:{element:"number_format",msg:"Please fill questions numbering format"}}));case 19:if(""!==n.state.discription){e.next=21;break}return e.abrupt("return",n.setState({formErr:{element:"discription",msg:"Please fill exam description"}}));case 21:if(0!==n.props.prepareExam.questions.length){e.next=23;break}return e.abrupt("return",n.setState({formErr:{element:"questions",msg:"Please choose questions"}}));case 23:if(""!==n.state.termes){e.next=25;break}return e.abrupt("return",n.setState({formErr:{element:"termes",msg:"Please fill exam terms and conditions"}}));case 25:return n.setState({loading:!0}),e.prev=26,e.next=29,q.a.post("".concat(y.a.QBank,"/exam"),{period:n.props.periods.selected_period.session_plan_id,course:n.props.course.selected_course.course_id,questions:n.examQuestionsIds(n.props.prepareExam.questions),exam_status:Q.b.Created,termes:n.state.termes,questions_per_page:n.state.questions_per_page,exam_date:n.state.exam_date,start_time:n.state.start_time,end_time:n.state.end_time,duration:n.state.duration_minutes+60*n.state.duration_hours,number_format:n.state.number_format,discription:n.state.discription,rules:{right_click_enabled:null===(t=n.state.proctoringRules.find((function(e){return"right_click_enabled"===e.rule})))||void 0===t?void 0:t.status,copy_enabled:null===(s=n.state.proctoringRules.find((function(e){return"copy_enabled"===e.rule})))||void 0===s?void 0:s.status,paste_enabled:null===(r=n.state.proctoringRules.find((function(e){return"paste_enabled"===e.rule})))||void 0===r?void 0:r.status,stop_candidate_when_comeback:null===(o=n.state.proctoringRules.find((function(e){return"stop_candidate_when_comeback"===e.rule})))||void 0===o?void 0:o.status,allow_to_leave_browser:null===(c=n.state.proctoringRules.find((function(e){return"allow_to_leave_browser"===e.rule})))||void 0===c?void 0:c.status}});case 29:u=Object(l.a)(n.props.prepareExam.questions);try{for(u.s();!(d=u.n()).done;)p=d.value,n.props.addExamQuestion(p)}catch(i){u.e(i)}finally{u.f()}n.props.setSelectedCourse(null),n.setState({redirectToExams:!0}),n.props.PushPopupAlert({title:"Success",description:"Exam has prepared successfully!",theme:A.a.success}),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(26),e.t0.response&&(e.t0.response.data&&void 0!==e.t0.response.data.errors&&e.t0.response.data.errors.length>0?n.setState({formErr:{element:"main",msg:e.t0.response.data.errors[0].message}}):n.setState({formErr:{element:"main",msg:"Failed to update Question!"}})),console.log("Exam err: ",Object(a.a)({},e.t0));case 40:n.setState({loading:!1});case 41:case"end":return e.stop()}}),e,null,[[26,36]])}))),n.componentDidMount=function(){null!==n.props.questionTypes.questionTypes&&0!==n.props.questionTypes.questionTypes.length||n.props.loadQuestionTypes(n.setLoading),null!==n.props.periods.applicationPeriods&&0!==n.props.periods.applicationPeriods.length||n.props.loadApplicationPeriods(n.setLoading),null!==n.props.periods.selected_period&&!1===n.props.periods.selected_period.is_active?n.setState({selectPeriod:!0}):null===n.props.course.selected_course&&n.setState({selectCourse:!0}),null!==n.props.course.selected_course&&n.props.loadQuestionBank(n.props.course.selected_course.course_id,n.setLoading),null!==n.props.prepareExam.examsList&&0!==n.props.prepareExam.examsList.length||(null!==n.props.periods.selected_period?n.props.loadExamsListByPeriod(n.props.periods.selected_period.session_plan_id,n.setLoading):n.props.auth.application_session&&n.props.loadExamsListByPeriod(n.props.auth.application_session.session_plan_id,n.setLoading))},n.unSelectQuestion=function(){n.setState({editQuestion:null})},n.findTotalMarks=function(e){var t,s=0,r=Object(l.a)(e);try{for(r.s();!(t=r.n()).done;){s+=t.value.marks}}catch(n){r.e(n)}finally{r.f()}return s},n.handleChangeTermes=function(e){n.setState({termes:e,formErr:null})},n.setSelectCourse=function(e){n.setState({selectCourse:e})},n.setSelectPeriod=function(e){n.setState({selectPeriod:e})},n.GetExamsByPeriod=function(e){null!==e&&!0===e.is_active?(n.props.setSelectedPeriod(e),n.props.loadExamsListByPeriod(e.session_plan_id,n.setLoading),n.setState({formErr:null})):(alert("Please choose active session"),n.setState({selectPeriod:!0}))},n.state={loading:!1,actionType:r.Prepare,selectCourse:!1,selectPeriod:!1,addQuestionModal:!1,formErr:{element:"",msg:""},questions_per_page:1,exam_date:"",start_time:"",end_time:"23:59",duration_hours:1,duration_minutes:0,number_format:Q.c.NUMBER,discription:"",termes:"",redirectToExams:!1,editQuestion:null,currentStep:B.a.Step1,proctoringRules:M.f,rules:{right_click_enabled:!1,copy_enabled:!1,paste_enabled:!1,stop_candidate_when_comeback:!1,allow_to_leave_browser:!1},submitExam:!1},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this;if(!0===this.state.redirectToExams)return Object(I.jsx)(S.a,{to:"exams-list"});if(null!==this.props.prepareExam.examsList&&void 0!==this.props.prepareExam.examsList.filter((function(t){var s;return t.period===(null===(s=e.props.periods.selected_period)||void 0===s?void 0:s.session_plan_id)})).find((function(t){var s;return t.course===(null===(s=e.props.course.selected_course)||void 0===s?void 0:s.course_id)}))&&(alert("The exam already created!, Please choose another course!"),this.props.setSelectedCourse(null),this.props.prepareExam.questions.length>0)){var t,s=Object(l.a)(this.props.prepareExam.questions);try{for(s.s();!(t=s.n()).done;){var n=t.value;this.props.addExamQuestion(n)}}catch(i){s.e(i)}finally{s.f()}}return Object(I.jsxs)(b.Fragment,{children:[null===this.state.editQuestion?Object(I.jsxs)("div",{children:[Object(I.jsx)(B.b,{currentStep:this.state.currentStep,setStep:this.setStep,course:this.props.course,periods:this.props.periods,setSelectCourse:this.setSelectCourse,setSelectPeriod:this.setSelectPeriod,stepStatus:this.StepStatus,actionType:r.Prepare,preparedExams:this.props.prepareExam.examsList}),!0===this.state.loading?Object(I.jsxs)("div",{className:"px-4 py-6 mt-4 bg-white rounded",children:[Object(I.jsx)("div",{className:"text-gray-600 mb-3 px-4",children:"Performing action, Please wait..."}),Object(I.jsx)(_.a,{})]}):Object(I.jsxs)("div",{className:"rounded bg-white px-3 py-3 mt-2 mb-28",children:[this.state.currentStep===B.a.Step2&&Object(I.jsxs)("div",{className:"grid md:grid-cols-12 gap-4",children:[Object(I.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(I.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam date"}),Object(I.jsx)("input",{onChange:function(t){e.setState({exam_date:t.target.value,formErr:null})},value:this.state.exam_date,type:"date",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"exam_date"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"exam_date"===this.state.formErr.element&&Object(I.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(I.jsxs)("div",{className:"md:col-span-3 flex flex-col",children:[Object(I.jsx)("span",{className:"text-gray-700 font-semibold",children:"Duration(Hours)"}),Object(I.jsx)("select",{onChange:function(t){e.setState({duration_hours:parseInt(t.target.value),formErr:null})},value:this.state.duration_hours,className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"duration_hours"===this.state.formErr.element?"border-2 border-red-600":"border"),children:H().map((function(e,t){return Object(I.jsx)("option",{children:e},t+1)}))}),null!==this.state.formErr&&"duration_hours"===this.state.formErr.element&&Object(I.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(I.jsxs)("div",{className:"md:col-span-3 flex flex-col",children:[Object(I.jsx)("span",{className:"text-gray-700 font-semibold",children:"Duration(Minutes)"}),Object(I.jsx)("select",{onChange:function(t){e.setState({duration_minutes:parseInt(t.target.value),formErr:null})},value:this.state.duration_minutes,className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"duration_minutes"===this.state.formErr.element?"border-2 border-red-600":"border"),children:U().map((function(e,t){return Object(I.jsx)("option",{children:e},t+1)}))}),null!==this.state.formErr&&"duration_minutes"===this.state.formErr.element&&Object(I.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(I.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(I.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam start time"}),Object(I.jsx)("input",{onChange:function(t){e.setState({start_time:t.target.value,formErr:null})},value:this.state.start_time,type:"time",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"start_time"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"start_time"===this.state.formErr.element&&Object(I.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(I.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(I.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam ending time"}),Object(I.jsx)("input",{onChange:function(t){e.setState({end_time:t.target.value,formErr:null})},value:this.state.end_time,type:"time",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"end_time"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"end_time"===this.state.formErr.element&&Object(I.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(I.jsxs)("div",{className:"hidden md:col-span-6 flex-col",children:[Object(I.jsx)("span",{className:"text-gray-500 font-semibold",children:"Number of questions per page"}),Object(I.jsx)("input",{disabled:!0,onChange:function(t){e.setState({questions_per_page:parseInt(t.target.value),formErr:null})},value:this.state.questions_per_page,type:"number",className:"rounded px-3 py-2 h-10 border-gray-200 bg-gray-100 ".concat(null!==this.state.formErr&&"questions_per_page"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"questions_per_page"===this.state.formErr.element&&Object(I.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(I.jsxs)("div",{className:"hidden md:col-span-6 flex-col",children:[Object(I.jsxs)("span",{className:"text-gray-500 font-semibold",children:["Questions number format: ",this.state.number_format]}),Object(I.jsxs)("select",{onChange:function(t){e.setState({number_format:t.target.value,formErr:null})},disabled:!0,className:"px-3 py-2 rounded bg-gray-100 h-10 border-gray-200 ".concat(null!==this.state.formErr&&"number_format"===this.state.formErr.element?"border-2 border-red-600":"border"),children:[Object(I.jsx)("option",{value:"",children:"Select Numbering format"}),Q.a.map((function(t,s){return Object(I.jsx)("option",{selected:t.key===e.state.number_format,value:t.key,children:t.value},s+1)}))]}),null!==this.state.formErr&&"number_format"===this.state.formErr.element&&Object(I.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(I.jsxs)("div",{className:"md:col-span-12 flex flex-col",children:[Object(I.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam description"}),Object(I.jsx)("textarea",{onChange:function(t){e.setState({discription:t.target.value,formErr:null})},value:this.state.discription,className:"input-white min-h-8 border-gray-400 ".concat(null!==this.state.formErr&&"discription"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"discription"===this.state.formErr.element&&Object(I.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(I.jsxs)("div",{className:"md:col-span-12 flex flex-col",children:[Object(I.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam terms and conditions"}),Object(I.jsx)(L.a,{value:this.state.termes,className:"rounded mb-10",onChange:this.handleChangeTermes}),null!==this.state.formErr&&"termes"===this.state.formErr.element&&Object(I.jsx)("div",{className:"text-red-600 text-xs font-bold italic mt-2",children:this.state.formErr.msg})]})]}),this.state.currentStep===B.a.Step1&&Object(I.jsxs)("div",{className:"border rounded px-2 py-2 mt-4",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(I.jsx)("span",{className:"font-bold text-blue-600 text-lg",children:"Question paper"}),Object(I.jsxs)("div",{className:"flex flex-row gap-2",children:[Object(I.jsxs)("span",{className:"rounded-full bg-yellow-50 text-yellow-800 font-bold px-4 py-2 text-sm underline h-max",children:["Total marks:"," ",this.findTotalMarks(this.props.prepareExam.questions)]}),Object(I.jsxs)("div",{onClick:function(){return null===e.props.periods.selected_period||!1===e.props.periods.selected_period.is_active?e.setState({selectPeriod:!0}):null===e.props.course.selected_course?e.setState({selectCourse:!0}):e.setState({addQuestionModal:!0})},className:"btn bg-blue-50 text-blue-600 hover:bg-blue-100 cursor-pointer flex flex-row items-center",children:[Object(I.jsx)(P.b,{className:"text-2xl"})," Add question"]})]})]}),Object(I.jsx)("div",{className:"flex flex-col mt-2",children:0===this.props.prepareExam.questions.length?Object(I.jsx)("div",{className:"".concat(null!==this.state.formErr&&"questions"===this.state.formErr.element?"bg-red-50 border-2 border-red-600 text-red-600":"bg-gray-100"," rounded mt-2"),children:Object(I.jsx)(v.b,{theme:v.a.Dark,value:"No questions added so far!"})}):this.props.questionTypes&&this.props.prepareExam.questions.map((function(t,s){return Object(I.jsx)(w.a,{question:t,callBack:e.removeToQuestionPaper,status:!0,questionTypes:e.props.questionTypes,select:!1,number:s+1,questionsList:e.props.prepareExam.questions},s+1)}))})]}),Object(I.jsx)("div",{className:"my-4",onClick:function(){return e.setState({formErr:null})},children:null!==this.state.formErr&&""!==this.state.formErr.element&&Object(I.jsx)(N.b,{title:"Missing info",description:this.state.formErr.msg,theme:N.a.danger})}),Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between mt-4",children:[this.state.currentStep===B.a.Step1?Object(I.jsx)(C.b,{to:"/exams-list",className:"btn border cursor-pointer",children:"Cancel"}):Object(I.jsx)("div",{onClick:function(){return e.setStep(B.a.Step1)},className:"btn border cursor-pointer",children:"Back to questions"}),this.state.currentStep===B.a.Step1?Object(I.jsx)("div",{className:"flex flex-row items-center",children:Object(I.jsx)("div",{onClick:function(){return e.setStep(B.a.Step2)},className:"btn bg-blue-600 text-white cursor-pointer",children:"Continue"})}):Object(I.jsx)("div",{className:"flex flex-row items-center",children:Object(I.jsx)("div",{onClick:function(){return e.setState({submitExam:!0})},className:"btn bg-blue-600 text-white cursor-pointer",children:"Confirm preparation"})})]})]})]}):null===this.props.questionBank.questions?Object(I.jsx)(_.a,{}):0===this.props.questionBank.questions.length?Object(I.jsx)("div",{children:"No Questions available!"}):Object(I.jsx)(k.b,{selectedQuestion:this.state.editQuestion,questionsList:this.props.questionBank.questions,unSelectQuestion:this.unSelectQuestion}),!0===this.state.selectCourse&&Object(I.jsx)(x.d,{title:"Choose course",backDrop:!0,theme:x.c.default,close:function(){return e.setState({selectCourse:!1})},backDropClose:!0,widthSizeClass:x.b.large,displayClose:!0,padding:{title:!0},children:Object(I.jsx)("div",{className:"-mt-2",children:Object(I.jsx)(f.a,{setSelectedCourse:this.chooseCourse,preparedExams:this.props.prepareExam.examsList,selected_course_id:this.props.course.selected_course&&this.props.course.selected_course.course_id})})}),!0===this.state.addQuestionModal&&Object(I.jsx)(x.d,{title:"Add exam questions",backDrop:!0,theme:x.c.default,close:function(){return e.setState({addQuestionModal:!1})},backDropClose:!0,widthSizeClass:x.b.extraLarge,displayClose:!0,padding:{title:!0},children:null===this.props.course.selected_course?Object(I.jsx)("div",{children:"Please choose a course"}):null===this.props.questionBank.questions?Object(I.jsx)(_.a,{}):Object(I.jsx)(g.a,{selectedCourse:this.props.course.selected_course,callBack:this.addQuestionToPaper,questionsList:this.props.questionBank.questions,questionPaper:this.props.prepareExam.questions})}),!0===this.state.selectPeriod&&Object(I.jsx)(x.d,{title:"Choose a period",backDrop:!0,theme:x.c.default,close:function(){null!==e.props.periods.selected_period&&!0===e.props.periods.selected_period.is_active?e.setState({selectPeriod:!1}):alert("Please choose active session")},backDropClose:!0,widthSizeClass:x.b.large,displayClose:!0,padding:{title:!0},children:Object(I.jsx)("div",{className:"px-2 mt-6",children:Object(I.jsx)(O.c,{applicationPeriods:this.props.periods.applicationPeriods,setSelectedPeriod:this.GetExamsByPeriod,showPeriodFilter:this.showPeriodFilter})})}),!0===this.state.submitExam&&Object(I.jsxs)(x.d,{title:Object(I.jsx)("div",{className:"text-blue-600 font-bold text-xl",children:"Confirm exam preparation"}),backDrop:!0,theme:x.c.default,close:function(){return e.setState({submitExam:!1})},backDropClose:!0,widthSizeClass:x.b.large,displayClose:!0,padding:{title:!0,body:!0},children:[Object(I.jsx)("div",{className:"mb-3 -mt-6",children:Object(I.jsx)("div",{className:"md:col-span-12 flex flex-col",children:Object(I.jsxs)("div",{className:"bg-gray-100 rounded p-4",children:[Object(I.jsx)("span",{className:"text-gray-900 text-lg font-bold",children:"Exam proctoring rules"}),Object(I.jsx)("div",{className:"bg-white rounded px-3 flex flex-col mt-3",children:this.state.proctoringRules.map((function(t,s){return Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between ".concat(e.state.proctoringRules.length===s+1?"":"border-b"," ").concat(!0===t.status?"text-blue-600 font-bold":"text-gray-600"," py-2"),children:[Object(I.jsx)("div",{className:"flex flex-col",children:Object(I.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(I.jsx)(D.t,{className:"text-xl"}),Object(I.jsx)("span",{className:"",children:t.caption})]})}),Object(I.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[Object(I.jsx)("span",{className:"text-sm ".concat(!0===t.status?"text-blue-600 font-bold":"text-gray-500"),children:!0===t.status?"Allowed":"Not Allowed"}),Object(I.jsx)(F.a,{value:t.status,onChange:function(){return e.changeProctoringRule(t.rule)}})]})]},s+1)}))})]})})}),Object(I.jsx)("div",{className:"my-4",onClick:function(){return e.setState({formErr:null})},children:null!==this.state.formErr&&""!==this.state.formErr.element&&Object(I.jsx)(N.b,{title:"Missing info",description:this.state.formErr.msg,theme:N.a.danger})}),Object(I.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[Object(I.jsx)("div",{className:"flex flex-row items-center mt-3",children:Object(I.jsx)("div",{onClick:function(){return e.setState({submitExam:!1})},className:"btn bg-white text-gray-600 cursor-pointer border",children:"Cancel"})}),Object(I.jsx)("div",{className:"flex flex-row items-center mt-3",children:Object(I.jsx)("div",{onClick:function(){return e.submitExamPreparation()},className:"btn bg-blue-600 text-white cursor-pointer",children:"Submit exam"})})]})]})]})}}]),s}(b.Component),W=Object(h.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes,prepareExam:e.prepareExam,periods:e.periods,system:e.system}}),{loadCourses:j.dc,loadSchoolLevels:j.nc,loadEducationCategories:j.fc,setSelectedEducationCategory:j.Bc,setSelectedSchoolLevel:j.Ic,setUploadedQuestions:j.Jc,loadQuestionTypes:j.mc,loadQuestionBank:j.lc,setSelectedCourse:j.Ac,addExamQuestion:j.Gb,loadApplicationPeriods:j.Zb,setSelectedPeriod:j.Fc,PushPopupAlert:j.tb,loadExamsList:j.ic,loadExamsListByPeriod:j.jc})(z)},322:function(e,t,s){"use strict";var r=s(11),n=s(32),i=s(14),a=s(4),o=s(10),l=s(16),c=s(17),u=s(3),d=s(27),p=s(45),m=s(213),b=s(87),f=s(89),x=s(78),h=s(43),j=s(293),v=s(294),g=s(295),_=s(303),w=s(296),O=s(297),y=s(298),E=s(36),q=s(1),N=Object(c.b)((function(e){return{auth:e.auth,doExam:e.doExam,candidateExam:e.candidateExam,system:e.system,questionTypes:e.questionTypes}}),{setSelectedExamQuestion:u.Dc,setQuestionLanguage:u.xc,loadQuestionTypes:u.mc})((function(e){var t,s,c,u,N,Q,S,C,A,k,P,T,L,B,F=Object(a.useState)(!1),M=Object(i.a)(F,2),D=M[0],R=M[1],I=Object(a.useState)(!1),H=Object(i.a)(I,2),U=H[0],z=H[1],W=Object(a.useState)(e.selectedQuestion.question[0].language),Y=Object(i.a)(W,2),G=Y[0],J=Y[1],Z=function(){var t,s=[],i=Object(n.a)(e.selectedQuestion.question);try{var a=function(){var e=t.value,n=l.h.find((function(t){return t.key===e.language}));void 0!==n&&(s=[].concat(Object(r.a)(s),[n]))};for(i.s();!(t=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return s};return Object(a.useEffect)((function(){null!==e.questionTypes.questionTypes&&0!==e.questionTypes.questionTypes.length||e.loadQuestionTypes(R)}),[e]),Object(q.jsx)("div",{className:"bg-gray-800 h-full",children:!0===D?Object(q.jsx)("div",{className:"bg-gray-200 px-3 py-2 rounded my-2 overflow-y-auto pb-80 md:pb-60",children:Object(q.jsxs)("div",{className:"rounded bg-white px-4 py-4 mt-5 mx-4",children:[Object(q.jsx)("div",{className:"text-2xl mx-4 mb-3",children:"Loading..."}),Object(q.jsx)(d.a,{type:p.a.white})]})}):Object(q.jsxs)("div",{className:"bg-gray-200 px-3 py-2 my-2 overflow-y-auto pb-80 md:pb-60",children:[Object(q.jsx)("div",{className:"flex flex-row gap-2 mt-2",children:Object(q.jsxs)("div",{className:"flex flex-row justify-between w-full",children:[e.selectedQuestion.question.find((function(e){return e.language===G}))&&Object(q.jsxs)("div",{className:"text-md flex flex-col w-full",children:[Object(q.jsx)("div",{dangerouslySetInnerHTML:{__html:e.selectedQuestion.question.find((function(e){return e.language===G})).title},className:"text-sm text-gray-600"}),Object(q.jsx)("div",{dangerouslySetInnerHTML:{__html:e.selectedQuestion.question.find((function(e){return e.language===G})).description},className:"text-lg text-gray-800 font-bold"})]}),Object(q.jsxs)("div",{className:"bg-white rounded h-10 hover:bg-white cursor-pointer",children:[Object(q.jsxs)("div",{onClick:function(){return z(!U)},className:"flex flex-row items-center gap-2",children:[Object(q.jsx)("div",{className:"rounded-l",children:Object(q.jsx)(b.j,{className:"text-2xl my-2 ml-2"})}),Object(q.jsxs)("div",{className:"flex flex-col",style:{width:"97px"},children:[Object(q.jsx)("span",{className:"text-xs font-bold italic text-gray-700",children:"Language"}),Object(q.jsx)("span",{title:null===(t=Z().find((function(e){return e.key===G})))||void 0===t?void 0:t.value,className:"text-sm font-bold text-blue-600 truncate",style:{width:"97px"},children:null===(s=Z().find((function(e){return e.key===G})))||void 0===s?void 0:s.value})]}),Object(q.jsx)("div",{className:"".concat(!0===U?"bg-yellow-800 text-white":"bg-gray-50 hover:bg-blue-600"," h-10 rounded-r border-l border-gray-300 flex flex-row items-center justify-center cursor-pointer hover:text-white hover:border-white"),children:!0===U?Object(q.jsx)(x.m,{className:"text-xl my-2 mx-2"}):Object(q.jsx)(f.a,{className:"text-xl mb-1 mt-2 mx-2"})})]}),!0===U&&Object(q.jsx)("div",{className:"relative rounded overflow-hidden",style:{width:"182px"},children:Object(q.jsx)("div",{className:"bg-blue-700 animate__animated animate__fadeIn animate__faster rounded-b w-full right-0 flex flex-col",children:Z().map((function(t,s){return Object(q.jsxs)("span",{onClick:function(){e.setQuestionLanguage(t.key),z(!U),J(t.key)},className:"flex flex-row items-center animate__animated animate__fadeInDown animate__faster text-white text-sm px-2 py-2 border-2 ".concat(G===t.key?"bg-blue-800 font-extrabold border-blue-800":"bg-blue-500 text-blue-100 border-blue-500 hover:bg-blue-700 hover:border-blue-700"),children:[G===t.key?Object(q.jsx)(o.qb,{className:"text-xl mr-2"}):Object(q.jsx)(o.rb,{className:"text-xl mr-2"})," ",t.value]},s+1)}))})})]})]})}),Object(q.jsxs)("div",{className:"my-4 py-2 px-2 bg-white rounded",onClick:function(){return!0===U&&z(!1)},children:[null!==e.selectedQuestion.question_id&&null!==Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)&&(Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)===l.l.MultipleChoice||Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)===l.l.SingleMultiple)&&Object(q.jsx)(j.a,{type:Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.selectedQuestion.question_id,answers:Object(m.c)(e.selectedQuestion.question.find((function(e){return e.language===G})).answer)},answerQuestionFn:e.answerQuestionFn}),null!==e.selectedQuestion.question_id&&null!==Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)&&Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)===l.l.TrueFalse&&Object(q.jsx)(v.a,{type:Object(h.d)(null===(c=e.candidateExam.candidate_exam)||void 0===c||null===(u=c.questions.find((function(t){return t.question_id===e.selectedQuestion.question_id})))||void 0===u?void 0:u.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.selectedQuestion.question_id,answers:Object(m.g)(e.selectedQuestion.question.find((function(e){return e.language===G})).answer)},answerQuestionFn:e.answerQuestionFn}),null!==e.selectedQuestion.question_id&&null!==Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)&&Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)===l.l.Matching&&Object(q.jsx)(_.a,{selectedLanguage:G,selectedExam:e.candidateExam.candidate_exam,type:Object(h.d)(null===(N=e.candidateExam.candidate_exam)||void 0===N||null===(Q=N.questions.find((function(t){return t.question_id===e.selectedQuestion.question_id})))||void 0===Q?void 0:Q.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.selectedQuestion.question_id,answers:Object(m.b)(e.selectedQuestion.question.find((function(e){return e.language===G})).answer),shuffledAnswers:Object(E.c)(Object(m.b)(e.selectedQuestion.question.find((function(e){return e.language===G})).answer))},answerQuestionFn:e.answerQuestionFn}),null!==e.selectedQuestion.question_id&&null!==Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)&&Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)===l.l.SimpleCalculate&&Object(q.jsx)(g.a,{type:Object(h.d)(null===(S=e.candidateExam.candidate_exam)||void 0===S||null===(C=S.questions.find((function(t){return t.question_id===e.selectedQuestion.question_id})))||void 0===C?void 0:C.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.selectedQuestion.question_id,answers:Object(m.f)(e.selectedQuestion.question.find((function(e){return e.language===G})).answer)},answerQuestionFn:e.answerQuestionFn}),null!==e.selectedQuestion.question_id&&null!==Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)&&Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)===l.l.ShortAnswer&&Object(q.jsx)(w.a,{type:Object(h.d)(null===(A=e.candidateExam.candidate_exam)||void 0===A||null===(k=A.questions.find((function(t){return t.question_id===e.selectedQuestion.question_id})))||void 0===k?void 0:k.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.selectedQuestion.question_id,answers:Object(m.e)(e.selectedQuestion.question.find((function(e){return e.language===G})).answer)},answerQuestionFn:e.answerQuestionFn}),null!==e.selectedQuestion.question_id&&null!==Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)&&Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)===l.l.Numeric&&Object(q.jsx)(O.a,{type:Object(h.d)(null===(P=e.candidateExam.candidate_exam)||void 0===P||null===(T=P.questions.find((function(t){return t.question_id===e.selectedQuestion.question_id})))||void 0===T?void 0:T.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.selectedQuestion.question_id,answers:Object(m.d)(e.selectedQuestion.question.find((function(e){return e.language===G})).answer)},answerQuestionFn:e.answerQuestionFn}),null!==e.selectedQuestion.question_id&&null!==Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)&&Object(h.d)(e.selectedQuestion.type,e.questionTypes.questionTypes)===l.l.CalculatedMultipleChoice&&Object(q.jsx)(y.a,{type:Object(h.d)(null===(L=e.candidateExam.candidate_exam)||void 0===L||null===(B=L.questions.find((function(t){return t.question_id===e.selectedQuestion.question_id})))||void 0===B?void 0:B.type,e.questionTypes.questionTypes),available_answers:e.candidateExam.question_answers,selectedQuestionAnswer:{question_id:e.selectedQuestion.question_id,answers:Object(m.a)(e.selectedQuestion.question.find((function(e){return e.language===G})).answer)},answerQuestionFn:e.answerQuestionFn})]})]})})}));t.a=N},323:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s(4);var r,n=s(313),i=s(1);!function(e){e.Step1="Step1",e.Step2="Step2"}(r||(r={}));t.b=function(e){var t=[{step:r.Step1,title:e.actionType===n.PrepareActionTypes.Prepare?"Prepare questions":"Edit questions",description:"Choose questions for the exam",status:!1},{step:r.Step2,title:"Exam details",description:"Fill all exam details",status:!1}];return Object(i.jsx)("div",{className:"mt-3 rounded px-2 flex flex-col gap-3 bg-white py-2",children:Object(i.jsx)("div",{className:"flex flex-row items center justify-between",children:Object(i.jsx)("div",{className:"flex flex-row items-end w-full",children:Object(i.jsxs)("div",{className:"flex flex-col px-2 w-full",children:[Object(i.jsx)("span",{className:"text-blue-600 text-3xl font-bold",children:e.actionType===n.PrepareActionTypes.Prepare?null===e.course.selected_course?"Prepare exam":"Exam: "+e.course.selected_course.course_name:null===e.course.selected_course?"Edit the exam":"Exam: "+e.course.selected_course.course_name}),null!==e.periods.selected_period&&Object(i.jsxs)("span",{className:"text-sm ".concat(!0===e.periods.selected_period.is_active?"text-gray-600":"text-yellow-600"),children:["Session: ",e.periods.selected_period.session_plan_name]}),Object(i.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-2 lg:gap-6 w-full",children:[Object(i.jsx)("div",{className:"flex flex-row items-center gap-6",children:t.map((function(t,s){return Object(i.jsxs)("div",{onClick:function(){return e.setStep(t.step)},className:"flex flex-row items-center gap-4 my-2 rounded p-2 border ".concat(e.currentStep===t.step?!0===e.stepStatus(t.step)?"border-blue-300":"bg-blue-50 border-white":"cursor-pointer hover:bg-gray-50 border-white"),children:[Object(i.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(!0===e.stepStatus(t.step)?"bg-blue-600 text-white":e.currentStep===t.step?"bg-white text-blue-600 border-2 border-blue-300":"bg-gray-200"," text-center font-bold text-xl flex items-center justify-center"),children:s+1}),Object(i.jsxs)("div",{className:"flex flex-col",children:[Object(i.jsx)("span",{className:"".concat(!0===e.stepStatus(t.step)?"text-blue-600":""," font-bold text-lg"),children:t.title}),Object(i.jsx)("span",{className:"text-sm -mt-1 text-gray-500",children:t.description})]})]},s+1)}))}),e.actionType===n.PrepareActionTypes.Prepare&&Object(i.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(i.jsx)("div",{onClick:function(){return e.setSelectCourse(!0)},className:"btn ".concat(null===e.course.selected_course?"bg-yellow-50 hover:bg-yellow-100 border border-yellow-600 text-yellow-600":"bg-blue-50 hover:bg-blue-100 text-blue-600"," h-max flex items-center justify-center cursor-pointer py-2"),children:null===e.course.selected_course?"Choose course":"Change course"}),(null===e.periods.selected_period||!1===e.periods.selected_period.is_active)&&Object(i.jsx)("div",{onClick:function(){return e.setSelectPeriod(!0)},className:"btn ".concat(null===e.periods.selected_period?"bg-yellow-50 hover:bg-yellow-100 border border-yellow-600 text-yellow-600":"bg-white hover:bg-blue-100 border border-blue-600 text-blue-600"," h-max flex items-center justify-center py-2 cursor-pointer"),children:null===e.periods.selected_period?"Choose period":"Change Period"})]})]})]})})})})}},324:function(e,t,s){"use strict";s(4);var r=s(1);t.a=function(e){return Object(r.jsx)("div",{onClick:e.onChange,className:"md:w-14 md:h-7 w-12 h-6 flex items-center ".concat(!0===e.value?"bg-blue-200":"bg-gray-300"," rounded-full p-1 cursor-pointer"),children:Object(r.jsx)("div",{className:"".concat(!0===e.value?"bg-blue-600":"bg-white"," md:w-6 md:h-6 h-5 w-5 rounded-full shadow-md transition transform").concat(e.value?" transform translate-x-6":null)})})}},519:function(e,t,s){"use strict";s.r(t),s.d(t,"getHoursList",(function(){return I})),s.d(t,"getMinutesList",(function(){return H})),s.d(t,"EditExam",(function(){return z}));var r=s(5),n=s.n(r),i=s(2),a=s(7),o=s(32),l=s(21),c=s(20),u=s(23),d=s(22),p=s(11),m=s(4),b=s(233),f=s(19),x=s(17),h=s(3),j=s(77),v=s(307),g=s(27),_=s(275),w=s(53),O=s(9),y=s(8),E=s.n(y),q=s(18),N=s(308),Q=s(25),S=s(29),C=s(250),A=s(10),k=s(246),P=s.n(k),T=(s(247),s(323)),L=s(324),B=s(30),F=s(313),M=s(36),D=s(202),R=s(1),I=function(){for(var e=[],t=0;t<=24;t++)e=[].concat(Object(p.a)(e),[t]);return e},H=function(){for(var e=[],t=0;t<=59;t++)e=[].concat(Object(p.a)(e),[t]);return e},U=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(l.a)(this,s),(r=t.call(this,e)).changeProctoringRule=function(e){if(void 0!==r.state.proctoringRules.find((function(t){return t.rule===e}))){var t,s=[],n=Object(o.a)(r.state.proctoringRules);try{for(n.s();!(t=n.n()).done;){var i=t.value;s=i.rule===e?[].concat(Object(p.a)(s),[{rule:e,status:!i.status,caption:i.caption}]):[].concat(Object(p.a)(s),[i])}}catch(a){n.e(a)}finally{n.f()}r.setState({proctoringRules:s})}},r.setLoading=function(e){r.setState({loading:e})},r.addQuestionToPaper=function(e){Object(D.h)(r.props.selectedExam.exam_date,r.props.selectedExam.start_time,r.props.selectedExam.end_time)===D.b.Waiting?r.props.addEditExamQuestion(e):alert("You can not add questions while its time has ended or being done!")},r.removeToQuestionPaper=function(e){Object(D.h)(r.props.selectedExam.exam_date,r.props.selectedExam.start_time,r.props.selectedExam.end_time)===D.b.Waiting?!0===window.confirm("Are you sure do you want to remove question from the exam questions paper?")&&r.props.addEditExamQuestion(e):alert("You can not remove questions while its time has ended or being done!")},r.showPeriodFilter=function(e){r.setState({selectPeriod:e})},r.setStep=function(e){if(e===T.a.Step2){if(null===r.props.periods.selected_period||!1===r.props.periods.selected_period.is_active)return r.setState({formErr:{element:"period",msg:"Please select valid period!"},selectPeriod:!0});if(null===r.props.selectedCourse)return r.setState({formErr:{element:"course",msg:"Please select a course!"},selectCourse:!0});if(null===r.props.prepareExam.selectedExam||0===r.props.prepareExam.selectedExam.questions.length)return r.setState({formErr:{element:"questions",msg:"Please choose questions"}})}r.setState({currentStep:e})},r.StepStatus=function(e){if(e===T.a.Step1){if(null===r.props.periods.selected_period||!1===r.props.periods.selected_period.is_active)return!1;if(null===r.props.selectedCourse)return!1;if(null===r.props.prepareExam.selectedExam||0===r.props.prepareExam.selectedExam.questions.length)return!1}if(e===T.a.Step2){if(""===r.state.exam_date)return!1;if(""===r.state.start_time)return!1;if(""===r.state.end_time)return!1;if(0===r.state.duration_hours&&0===r.state.duration_minutes)return!1;if(r.state.questions_per_page<1)return!1;if(""===r.state.number_format)return!1;if(""===r.state.discription)return!1;if(""===r.state.termes)return!1}return!0},r.chooseCourse=function(e){if(null!==r.props.prepareExam.selectedExam){var t,s=Object(o.a)(r.props.prepareExam.selectedExam.questions);try{for(s.s();!(t=s.n()).done;){var n=t.value;r.props.addEditExamQuestion(n)}}catch(i){s.e(i)}finally{s.f()}r.props.setSelectedCourse(e),r.setState({currentStep:T.a.Step1})}null!=r.props.prepareExam.selectedExam&&0!==r.props.prepareExam.selectedExam.questions.length&&null!==r.props.course.selected_course||r.props.setSelectedCourse(e),r.setState({selectCourse:!1}),null!==e&&r.props.loadQuestionBank(e.course_id,r.setLoading)},r.examQuestionsIds=function(e){var t,s=[],r=Object(o.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;s=[].concat(Object(p.a)(s),[n.question_id])}}catch(i){r.e(i)}finally{r.f()}return s},r.submitExamPreparation=Object(a.a)(n.a.mark((function e(){var t,s,a,l,c,u,d,p;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({formErr:null}),null!==r.props.periods.selected_period&&!1!==r.props.periods.selected_period.is_active){e.next=3;break}return e.abrupt("return",r.setState({formErr:{element:"period",msg:"Please select valid period!"},selectPeriod:!0}));case 3:if(null!==r.props.selectedCourse){e.next=5;break}return e.abrupt("return",r.setState({formErr:{element:"course",msg:"Please select a course!"},selectCourse:!0}));case 5:if(""!==r.state.exam_date){e.next=7;break}return e.abrupt("return",r.setState({formErr:{element:"exam_date",msg:"Please choose exam date"}}));case 7:if(""!==r.state.start_time){e.next=9;break}return e.abrupt("return",r.setState({formErr:{element:"start_time",msg:"Please fill exam start time"}}));case 9:if(""!==r.state.end_time){e.next=11;break}return e.abrupt("return",r.setState({formErr:{element:"end_time",msg:"Please fill exam ending time"}}));case 11:if(!1!==Object(M.p)(r.state.start_time,r.state.end_time)){e.next=13;break}return e.abrupt("return",r.setState({formErr:{element:"end_time",msg:"Please end time should be greater than start time"}}));case 13:if(0!==r.state.duration_hours||0!==r.state.duration_minutes){e.next=15;break}return e.abrupt("return",r.setState({formErr:{element:"duration_hours",msg:"Please fill exam duration"}}));case 15:if(!(r.state.questions_per_page<1)){e.next=17;break}return e.abrupt("return",r.setState({formErr:{element:"questions_per_page",msg:"Please fill number of questions per page"}}));case 17:if(""!==r.state.number_format){e.next=19;break}return e.abrupt("return",r.setState({formErr:{element:"number_format",msg:"Please fill questions numbering format"}}));case 19:if(""!==r.state.discription){e.next=21;break}return e.abrupt("return",r.setState({formErr:{element:"discription",msg:"Please fill exam description"}}));case 21:if(null!==r.props.prepareExam.selectedExam&&0!==r.props.prepareExam.selectedExam.questions.length){e.next=23;break}return e.abrupt("return",r.setState({formErr:{element:"questions",msg:"Please choose questions"}}));case 23:if(""!==r.state.termes){e.next=25;break}return e.abrupt("return",r.setState({formErr:{element:"termes",msg:"Please fill exam terms and conditions"}}));case 25:return r.setState({loading:!0}),e.prev=26,e.next=29,E.a.put("".concat(O.a.QBank,"/exam/").concat(r.props.selectedExam.id),{period:r.props.periods.selected_period.session_plan_id,course:r.props.selectedCourse.course_id,questions:r.examQuestionsIds(r.props.prepareExam.selectedExam.questions),exam_status:N.b.Created,termes:r.state.termes,questions_per_page:r.state.questions_per_page,exam_date:r.state.exam_date,start_time:r.state.start_time,end_time:r.state.end_time,duration:r.state.duration_minutes+60*r.state.duration_hours,number_format:r.state.number_format,discription:r.state.discription,rules:{right_click_enabled:null===(t=r.state.proctoringRules.find((function(e){return"right_click_enabled"===e.rule})))||void 0===t?void 0:t.status,copy_enabled:null===(s=r.state.proctoringRules.find((function(e){return"copy_enabled"===e.rule})))||void 0===s?void 0:s.status,paste_enabled:null===(a=r.state.proctoringRules.find((function(e){return"paste_enabled"===e.rule})))||void 0===a?void 0:a.status,stop_candidate_when_comeback:null===(l=r.state.proctoringRules.find((function(e){return"stop_candidate_when_comeback"===e.rule})))||void 0===l?void 0:l.status,allow_to_leave_browser:null===(c=r.state.proctoringRules.find((function(e){return"allow_to_leave_browser"===e.rule})))||void 0===c?void 0:c.status}});case 29:u=Object(o.a)(r.props.prepareExam.selectedExam.questions);try{for(u.s();!(d=u.n()).done;)p=d.value,r.props.addEditExamQuestion(p)}catch(n){u.e(n)}finally{u.f()}r.props.setSelectedCourse(null),null!==r.props.periods.selected_period?r.props.loadExamsListByPeriod(r.props.periods.selected_period.session_plan_id,r.props.setLoadingProps):r.props.auth.application_session&&r.props.loadExamsListByPeriod(r.props.auth.application_session.session_plan_id,r.props.setLoadingProps),r.setState({redirectToExams:!0}),r.props.setSelectedExam(null),r.props.PushPopupAlert({title:"Success",description:"Exam has updated successfully!",theme:S.a.success}),e.next=42;break;case 38:e.prev=38,e.t0=e.catch(26),e.t0.response&&(e.t0.response.data&&void 0!==e.t0.response.data.errors&&e.t0.response.data.errors.length>0?r.setState({formErr:{element:"main",msg:e.t0.response.data.errors[0].message}}):r.setState({formErr:{element:"main",msg:"Failed to update Question!"}})),console.log("Exam err: ",Object(i.a)({},e.t0));case 42:r.setState({loading:!1});case 43:case"end":return e.stop()}}),e,null,[[26,38]])}))),r.componentDidMount=function(){if(null!==r.props.questionTypes.questionTypes&&0!==r.props.questionTypes.questionTypes.length||r.props.loadQuestionTypes(r.setLoading),null!==r.props.periods.applicationPeriods&&0!==r.props.periods.applicationPeriods.length||r.props.loadApplicationPeriods(r.setLoading),null===r.props.selectedCourse&&r.setState({selectCourse:!0}),null!==r.props.course.courses&&null===r.props.course.selected_course){var e=r.props.course.courses.find((function(e){return e.course_id===r.props.selectedExam.course}));void 0!==e&&(r.props.setSelectedCourse(e),r.chooseCourse(e)),r.props.findExamDetails(r.props.selectedExam.id,r.setLoading)}null!==r.props.selectedCourse&&r.props.findExamDetails(r.props.selectedExam.id,r.setLoading)},r.unSelectQuestion=function(){r.setState({editQuestion:null})},r.findTotalMarks=function(e){var t,s=0,r=Object(o.a)(e);try{for(r.s();!(t=r.n()).done;){s+=t.value.marks}}catch(n){r.e(n)}finally{r.f()}return s},r.handleChangeTermes=function(e){r.setState({termes:e,formErr:null})},r.setSelectCourse=function(e){r.setState({selectCourse:e})},r.setSelectPeriod=function(e){r.setState({selectPeriod:e})},r.GetExamsByPeriod=function(e){r.props.setSelectedPeriod(e),r.props.loadExamsListByPeriod(e.session_plan_id,r.setLoading)},r.state={loading:!1,selectCourse:!1,selectPeriod:!1,addQuestionModal:!1,formErr:{element:"",msg:""},questions_per_page:r.props.selectedExam.questions_per_page,exam_date:r.props.selectedExam.exam_date,start_time:r.props.selectedExam.start_time,end_time:r.props.selectedExam.end_time,duration_hours:r.props.selectedExam.duration/60|0,duration_minutes:r.props.selectedExam.duration%60,number_format:N.c.NUMBER,discription:r.props.selectedExam.discription,termes:r.props.selectedExam.termes,redirectToExams:!1,editQuestion:null,currentStep:T.a.Step2,proctoringRules:[{rule:"right_click_enabled",status:r.props.selectedExam.rules.right_click_enabled,caption:"Enable right click"},{rule:"copy_enabled",status:r.props.selectedExam.rules.copy_enabled,caption:"Enable copy"},{rule:"paste_enabled",status:r.props.selectedExam.rules.paste_enabled,caption:"Enable paste"},{rule:"stop_candidate_when_comeback",status:r.props.selectedExam.rules.stop_candidate_when_comeback,caption:"Enable Candidate when coming back"},{rule:"allow_to_leave_browser",status:r.props.selectedExam.rules.allow_to_leave_browser,caption:"Enable to leave browser"}],submitExam:!1},r}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return!0===this.state.redirectToExams?Object(R.jsx)(Q.a,{to:"exams-list"}):Object(R.jsxs)(m.Fragment,{children:[null===this.state.editQuestion?Object(R.jsxs)("div",{children:[Object(R.jsx)(T.b,{currentStep:this.state.currentStep,setStep:this.setStep,course:this.props.course,periods:this.props.periods,setSelectCourse:this.setSelectCourse,setSelectPeriod:this.setSelectPeriod,stepStatus:this.StepStatus,actionType:F.PrepareActionTypes.EditExam}),!0===this.state.loading?Object(R.jsxs)("div",{className:"px-4 py-6 mt-4 bg-white rounded",children:[Object(R.jsx)("div",{className:"text-gray-600 mb-3 px-4",children:"Performing action, Please wait..."}),Object(R.jsx)(g.a,{})]}):Object(R.jsxs)("div",{className:"rounded bg-white px-3 py-3 mt-2 mb-28",children:[this.state.currentStep===T.a.Step2&&Object(R.jsxs)("div",{className:"grid md:grid-cols-12 gap-4",children:[Object(R.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(R.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam date"}),Object(R.jsx)("input",{onChange:function(t){e.setState({exam_date:t.target.value,formErr:null})},value:Object(M.b)(this.state.exam_date,"YYYY-MM-DD"),type:"date",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"exam_date"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"exam_date"===this.state.formErr.element&&Object(R.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(R.jsxs)("div",{className:"md:col-span-3 flex flex-col",children:[Object(R.jsx)("span",{className:"text-gray-700 font-semibold",children:"Duration(Hours)"}),Object(R.jsx)("select",{onChange:function(t){e.setState({duration_hours:parseInt(t.target.value),formErr:null})},value:this.state.duration_hours,className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"duration_hours"===this.state.formErr.element?"border-2 border-red-600":"border"),children:I().map((function(e,t){return Object(R.jsx)("option",{value:e,children:e},t+1)}))}),null!==this.state.formErr&&"duration_hours"===this.state.formErr.element&&Object(R.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(R.jsxs)("div",{className:"md:col-span-3 flex flex-col",children:[Object(R.jsx)("span",{className:"text-gray-700 font-semibold",children:"Duration(Minutes)"}),Object(R.jsx)("select",{onChange:function(t){e.setState({duration_minutes:parseInt(t.target.value),formErr:null})},value:this.state.duration_minutes,className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"duration_minutes"===this.state.formErr.element?"border-2 border-red-600":"border"),children:H().map((function(e,t){return Object(R.jsx)("option",{value:e,children:e},t+1)}))}),null!==this.state.formErr&&"duration_minutes"===this.state.formErr.element&&Object(R.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(R.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(R.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam start time"}),Object(R.jsx)("input",{onChange:function(t){e.setState({start_time:t.target.value,formErr:null})},value:this.state.start_time,type:"time",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"start_time"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"start_time"===this.state.formErr.element&&Object(R.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(R.jsxs)("div",{className:"md:col-span-6 flex flex-col",children:[Object(R.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam ending time"}),Object(R.jsx)("input",{onChange:function(t){e.setState({end_time:t.target.value,formErr:null})},value:this.state.end_time,type:"time",className:"input-white h-10 border-gray-400 ".concat(null!==this.state.formErr&&"end_time"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"end_time"===this.state.formErr.element&&Object(R.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(R.jsxs)("div",{className:"hidden md:col-span-6 flex-col",children:[Object(R.jsx)("span",{className:"text-gray-500 font-semibold",children:"Number of questions per page"}),Object(R.jsx)("input",{disabled:!0,onChange:function(t){e.setState({questions_per_page:parseInt(t.target.value),formErr:null})},value:this.state.questions_per_page,type:"number",className:"rounded px-3 py-2 h-10 border-gray-200 bg-gray-100 ".concat(null!==this.state.formErr&&"questions_per_page"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"questions_per_page"===this.state.formErr.element&&Object(R.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(R.jsxs)("div",{className:"hidden md:col-span-6 flex-col",children:[Object(R.jsxs)("span",{className:"text-gray-500 font-semibold",children:["Questions number format: ",this.state.number_format]}),Object(R.jsxs)("select",{onChange:function(t){e.setState({number_format:t.target.value,formErr:null})},disabled:!0,className:"px-3 py-2 rounded bg-gray-100 h-10 border-gray-200 ".concat(null!==this.state.formErr&&"number_format"===this.state.formErr.element?"border-2 border-red-600":"border"),children:[Object(R.jsx)("option",{value:"",children:"Select Numbering format"}),N.a.map((function(t,s){return Object(R.jsx)("option",{selected:t.key===e.state.number_format,value:t.key,children:t.value},s+1)}))]}),null!==this.state.formErr&&"number_format"===this.state.formErr.element&&Object(R.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(R.jsxs)("div",{className:"md:col-span-12 flex flex-col",children:[Object(R.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam description"}),Object(R.jsx)("textarea",{onChange:function(t){e.setState({discription:t.target.value,formErr:null})},value:this.state.discription,className:"input-white min-h-8 border-gray-400 ".concat(null!==this.state.formErr&&"discription"===this.state.formErr.element?"border-2 border-red-600":"border")}),null!==this.state.formErr&&"discription"===this.state.formErr.element&&Object(R.jsx)("div",{className:"text-red-600 text-xs font-bold italic",children:this.state.formErr.msg})]}),Object(R.jsxs)("div",{className:"md:col-span-12 flex flex-col",children:[Object(R.jsx)("span",{className:"text-gray-700 font-semibold",children:"Exam terms and conditions"}),Object(R.jsx)(P.a,{value:this.state.termes,className:"rounded mb-10",onChange:this.handleChangeTermes}),null!==this.state.formErr&&"termes"===this.state.formErr.element&&Object(R.jsx)("div",{className:"text-red-600 text-xs font-bold italic mt-2",children:this.state.formErr.msg})]})]}),this.state.currentStep===T.a.Step1&&Object(R.jsxs)("div",{className:"border rounded px-2 py-2 mt-4",children:[Object(R.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(R.jsx)("span",{className:"font-bold text-blue-600 text-lg",children:"Question paper"}),Object(R.jsxs)("div",{className:"flex flex-row gap-2",children:[Object(R.jsxs)("span",{className:"rounded-full bg-yellow-50 text-yellow-800 font-bold px-4 py-2 text-sm underline h-max",children:["Total marks:"," ",null!==this.props.prepareExam.selectedExam&&this.findTotalMarks(this.props.prepareExam.selectedExam.questions)]}),Object(D.h)(this.props.selectedExam.exam_date,this.props.selectedExam.start_time,this.props.selectedExam.end_time)===D.b.Waiting&&Object(R.jsxs)("div",{onClick:function(){return null===e.props.selectedCourse?e.setState({selectCourse:!0}):e.setState({addQuestionModal:!0})},className:"btn bg-blue-50 text-blue-600 hover:bg-blue-100 cursor-pointer flex flex-row items-center",children:[Object(R.jsx)(A.b,{className:"text-2xl"})," Add question"]})]})]}),Object(R.jsx)("div",{className:"flex flex-col mt-2",children:null===this.props.prepareExam.selectedExam?Object(R.jsx)("div",{children:"Loading..."}):0===this.props.prepareExam.selectedExam.questions.length?Object(R.jsx)("div",{className:"".concat(null!==this.state.formErr&&"questions"===this.state.formErr.element?"bg-red-50 border-2 border-red-600 text-red-600":"bg-gray-100"," rounded mt-2"),children:Object(R.jsx)(j.b,{theme:j.a.Dark,value:"No questions added so far!"})}):this.props.questionTypes&&this.props.prepareExam.selectedExam.questions.map((function(t,s){return Object(R.jsx)(_.a,{question:t,callBack:e.removeToQuestionPaper,status:!0,questionTypes:e.props.questionTypes,select:!1,number:s+1,questionsList:e.props.prepareExam.selectedExam.questions},s+1)}))})]}),Object(R.jsx)("div",{className:"my-4",onClick:function(){return e.setState({formErr:null})},children:null!==this.state.formErr&&""!==this.state.formErr.element&&Object(R.jsx)(q.b,{title:"Missing info",description:this.state.formErr.msg,theme:q.a.danger})}),Object(R.jsxs)("div",{className:"flex flex-row items-center justify-between mt-4",children:[this.state.currentStep===T.a.Step1?Object(R.jsx)("button",{onClick:function(){return e.props.setSelectedExam(null)},type:"button",className:"btn border cursor-pointer",children:"Cancel"}):Object(R.jsx)("div",{onClick:function(){return e.setStep(T.a.Step1)},className:"btn border cursor-pointer",children:"Back to questions"}),this.state.currentStep===T.a.Step1?Object(R.jsx)("div",{className:"flex flex-row items-center",children:Object(R.jsx)("div",{onClick:function(){return e.setStep(T.a.Step2)},className:"btn bg-blue-600 text-white cursor-pointer",children:"Continue"})}):Object(R.jsx)("div",{className:"flex flex-row items-center",children:Object(R.jsx)("div",{onClick:function(){return e.setState({submitExam:!0})},className:"btn bg-blue-600 text-white cursor-pointer",children:"Review & Save"})})]})]})]}):null===this.props.questionBank.questions?Object(R.jsx)(g.a,{}):0===this.props.questionBank.questions.length?Object(R.jsx)("div",{children:"No Questions available!"}):Object(R.jsx)(C.b,{selectedQuestion:this.state.editQuestion,questionsList:this.props.questionBank.questions,unSelectQuestion:this.unSelectQuestion}),!0===this.state.selectCourse&&Object(R.jsx)(f.d,{title:"Choose course",backDrop:!0,theme:f.c.default,close:function(){return e.setState({selectCourse:!1})},backDropClose:!0,widthSizeClass:f.b.large,displayClose:!0,padding:{title:!0},children:Object(R.jsx)("div",{className:"-mt-2",children:Object(R.jsx)(b.a,{setSelectedCourse:this.chooseCourse,selected_course_id:this.props.selectedCourse&&this.props.selectedCourse.course_id})})}),!0===this.state.addQuestionModal&&Object(R.jsx)(f.d,{title:"Add exam questions",backDrop:!0,theme:f.c.default,close:function(){return e.setState({addQuestionModal:!1})},backDropClose:!0,widthSizeClass:f.b.extraLarge,displayClose:!0,padding:{title:!0},children:null===this.props.selectedCourse?Object(R.jsx)("div",{children:"Please choose a course"}):null===this.props.questionBank.questions?Object(R.jsx)(g.a,{}):Object(R.jsx)(v.a,{selectedCourse:this.props.selectedCourse,callBack:this.addQuestionToPaper,questionsList:this.props.questionBank.questions,questionPaper:this.props.prepareExam.questions})}),!0===this.state.selectPeriod&&Object(R.jsx)(f.d,{title:"Choose a period",backDrop:!0,theme:f.c.default,close:function(){return e.setState({selectPeriod:!1})},backDropClose:!0,widthSizeClass:f.b.large,displayClose:!0,padding:{title:!0},children:Object(R.jsx)("div",{className:"px-2 mt-6",children:Object(R.jsx)(w.c,{applicationPeriods:this.props.periods.applicationPeriods,setSelectedPeriod:this.GetExamsByPeriod,showPeriodFilter:this.showPeriodFilter})})}),!0===this.state.submitExam&&Object(R.jsxs)(f.d,{title:Object(R.jsx)("div",{className:"text-blue-600 font-bold text-xl",children:"Editing Exam"}),backDrop:!0,theme:f.c.default,close:function(){return e.setState({submitExam:!1})},backDropClose:!0,widthSizeClass:f.b.large,displayClose:!0,padding:{title:!0,body:!0},children:[Object(R.jsx)("div",{className:"mb-3 -mt-6",children:Object(R.jsx)("div",{className:"md:col-span-12 flex flex-col",children:Object(R.jsxs)("div",{className:"bg-gray-100 rounded p-4",children:[Object(R.jsx)("span",{className:"text-gray-900 text-lg font-bold",children:"Exam proctoring rules"}),Object(R.jsx)("div",{className:"bg-white rounded px-3 flex flex-col mt-3",children:this.state.proctoringRules.map((function(t,s){return Object(R.jsxs)("div",{className:"flex flex-row items-center justify-between ".concat(e.state.proctoringRules.length===s+1?"":"border-b"," ").concat(!0===t.status?"text-blue-600 font-bold":"text-gray-600"," py-2"),children:[Object(R.jsx)("div",{className:"flex flex-col",children:Object(R.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(R.jsx)(B.t,{className:"text-xl"}),Object(R.jsx)("span",{className:"",children:t.caption})]})}),Object(R.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[Object(R.jsx)("span",{className:"text-sm ".concat(!0===t.status?"text-blue-600 font-bold":"text-gray-500"),children:!0===t.status?"Allowed":"Not Allowed"}),Object(R.jsx)(L.a,{value:t.status,onChange:function(){return e.changeProctoringRule(t.rule)}})]})]},s+1)}))})]})})}),Object(R.jsx)("div",{className:"my-4",onClick:function(){return e.setState({formErr:null})},children:null!==this.state.formErr&&""!==this.state.formErr.element&&Object(R.jsx)(q.b,{title:"Missing info",description:this.state.formErr.msg,theme:q.a.danger})}),Object(R.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[Object(R.jsx)("div",{className:"flex flex-row items-center mt-3",children:Object(R.jsx)("div",{onClick:function(){return e.setState({submitExam:!1})},className:"btn bg-white text-gray-600 cursor-pointer border",children:"Cancel"})}),Object(R.jsx)("div",{className:"flex flex-row items-center mt-3",children:this.props.prepareExam.selectedExam&&Object(D.h)(this.props.prepareExam.selectedExam.exam_date,this.props.prepareExam.selectedExam.start_time,this.props.prepareExam.selectedExam.end_time)===D.b.Waiting?Object(R.jsx)("div",{onClick:function(){return e.submitExamPreparation()},className:"btn bg-blue-600 text-white cursor-pointer",children:"Confirm edit exam"}):Object(R.jsx)("div",{children:"Can not edit"})})]})]})]})}}]),s}(m.Component),z=Object(x.b)((function(e){return{auth:e.auth,course:e.course,schoolLevels:e.schoolLevels,questionBank:e.questionBank,questionTypes:e.questionTypes,prepareExam:e.prepareExam,periods:e.periods,system:e.system}}),{loadCourses:h.dc,loadSchoolLevels:h.nc,loadEducationCategories:h.fc,setSelectedEducationCategory:h.Bc,setSelectedSchoolLevel:h.Ic,setUploadedQuestions:h.Jc,loadQuestionTypes:h.mc,loadQuestionBank:h.lc,setSelectedCourse:h.Ac,addEditExamQuestion:h.Eb,loadApplicationPeriods:h.Zb,setSelectedPeriod:h.Fc,PushPopupAlert:h.tb,findExamDetails:h.Rb,loadExamsListByPeriod:h.jc})(U)}}]);
//# sourceMappingURL=29.0855bca7.chunk.js.map