(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[70],{1313:function(e,t,s){"use strict";s.r(t),s.d(t,"RunShortlistAlgorithm",(function(){return f})),s.d(t,"Shortlisting",(function(){return y}));var n=s(25),c=s(24),r=s(27),i=s(26),o=s(5),a=s.n(o),l=s(2),d=s(7),u=s(10),p=s.n(u),h=s(4),x=s(23),j=s(3),b=s(33),m=s(8),v=s(28),g=s(1),f=function(){var e=Object(d.a)(a.a.mark((function e(t){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,"","",""),e.prev=1,e.next=4,p.a.post("".concat(m.a.APPLICATION,"/settings"));case 4:s=e.sent,t(!1,"Done successfully!","",s.data),console.log("Success: ",s),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(!1,"",Object(v.i)(e.t0),""),console.log("Error: ",Object(l.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var c;return Object(n.a)(this,s),(c=t.call(this,e)).sendMessages=function(){var e=Object(d.a)(a.a.mark((function e(t){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.setState({loading:!0}),e.prev=1,e.next=4,p.a.put("".concat(m.a.DO_EXAM,"/reports/mailtest/").concat(t._id));case 4:s=e.sent,console.log("Res: ",s),c.setState({success:"Messages sent successfully!",error:"",loading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error: ",Object(l.a)({},e.t0)),c.setState({success:"",error:Object(v.i)(e.t0),loading:!1});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),c.componentDidMount=function(){if(null===c.props.schoolLevels.selectedEducationCategory&&null!==c.props.schoolLevels.education_categories){var e=c.props.schoolLevels.education_categories.find((function(e){return e.education_institute_id===c.props.auth.education_institution_id}));void 0!==e&&c.props.setSelectedEducationCategory(e)}},c.state={loading:!1,success:"",error:""},c}return Object(c.a)(s,[{key:"render",value:function(){var e,t,s,n,c=this,r=null===(e=this.props.schoolLevels.education_categories)||void 0===e?void 0:e.find((function(e){return e.education_institute_id===c.props.auth.education_institution_id}));return!0===this.state.loading?Object(g.jsxs)("div",{className:"bg-white rounded p-5 mt-5",children:[Object(g.jsx)(b.a,{}),Object(g.jsx)("div",{className:"-mt-5 ml-5",children:"Sending messages, please wait..."})]}):Object(g.jsx)(h.Fragment,{children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"bg-white rounded mt-4 p-4",children:[Object(g.jsx)("div",{className:"text-center text-4xl font-extrabold",children:"Shortlisting"}),Object(g.jsx)("div",{className:"text-center text-lg",children:"This option allows you to run the shortlisting algorithm. Please remind that the algorithm will cancel custom decisionss"}),Object(g.jsx)("div",{className:"flex items-center justify-center w-full pt-4",children:Object(g.jsx)("div",{className:"px-3 py-2 rounded bg-gray-400 hover:bg-gray-600 text-white cursor-not-allowed font-bold",children:"Run algorithm"})})]}),Object(g.jsxs)("div",{className:"bg-white rounded mt-4 p-4",children:[Object(g.jsx)("div",{className:"text-center text-4xl font-extrabold",children:"Shortlisting results"}),Object(g.jsx)("div",{className:"text-center text-lg",children:"This option allows you to send all applicants shortlisting updates to inform them come to the system to view their applications statuses through mobile sms"}),Object(g.jsx)("div",{className:"flex items-center justify-center text-lg",children:Object(g.jsxs)("div",{className:"bg-blue-100 text-blue-900 w-max px-3 py-2 mt-3",children:[Object(g.jsx)("div",{className:"flex flex-row items-center justify-center gap-3 text-xl",children:Object(g.jsx)("span",{className:"uppercase font-bold",children:null===(t=this.props.schoolLevels.selectedEducationCategory)||void 0===t?void 0:t.description})}),Object(g.jsxs)("div",{className:"flex flex-row items-center justify-center gap-3 text-black underline text-sm",children:[Object(g.jsx)("span",{children:"Active session:"}),Object(g.jsx)("span",{className:"uppercase font-bold",children:null===(s=this.props.schoolLevels.selectedEducationCategory)||void 0===s||null===(n=s.session_plan)||void 0===n?void 0:n.session_plan_name})]})]})}),Object(g.jsxs)("div",{children:[""!==this.state.success&&Object(g.jsx)("div",{onClick:function(){return c.setState({success:""})},className:"bg-green-100 text-green-800 px-3 py-2 cursor-pointer my-2",children:this.state.success}),""!==this.state.error&&Object(g.jsx)("div",{onClick:function(){return c.setState({error:""})},className:"bg-yellow-100 text-yellow-800 px-3 py-2 cursor-pointer my-2",children:this.state.error})]}),Object(g.jsx)("div",{className:"flex items-center justify-center w-full pt-4",children:void 0!==r&&Object(g.jsx)("div",{onClick:function(){!0===window.confirm("Are you sure do you want to send messages?")&&null!==r.session_plan&&c.sendMessages(r.session_plan)},className:"px-3 py-2 rounded bg-green-600 hover:bg-green-800 text-white font-bold cursor-pointer",children:"Send messages"})})]})]})})}}]),s}(h.Component),y=Object(x.b)((function(e){var t=e.auth,s=e.positions;return{auth:t,system:e.system,positions:s,schoolLevels:e.schoolLevels}}),{setSelectedEducationCategory:j.kd})(O)}}]);
//# sourceMappingURL=70.7048b0b1.chunk.js.map